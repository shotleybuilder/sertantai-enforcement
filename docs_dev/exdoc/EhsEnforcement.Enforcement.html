<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="generator" content="ExDoc v0.38.2">
    <meta name="project" content="ehs_enforcement v0.1.0">


    <title>EhsEnforcement.Enforcement â€” ehs_enforcement v0.1.0</title>

    <link rel="stylesheet" href="dist/html-elixir-KV3YOVJ3.css" />

    <script defer src="dist/sidebar_items-176D2BAA.js"></script>
    <script defer src="docs_config.js"></script>
    <script defer src="dist/html-DPJLHKSM.js"></script>

  </head>
  <body>
    <script>(()=>{var t="ex_doc:settings",e="dark";var o="dark",s="light";var E="sidebar_state",n="closed";var r="sidebar_width";var a="sidebar-open";var i=new URLSearchParams(window.location.search),S=i.get("theme")||JSON.parse(localStorage.getItem(t)||"{}").theme;(S===o||S!==s&&window.matchMedia("(prefers-color-scheme: dark)").matches)&&document.body.classList.add(e);var d=sessionStorage.getItem(E),A=d!==n&&!window.matchMedia(`screen and (max-width: ${768}px)`).matches;document.body.classList.toggle(a,A);var c=sessionStorage.getItem(r);c&&document.body.style.setProperty("--sidebarWidth",`${c}px`);var p=/(Macintosh|iPhone|iPad|iPod)/.test(window.navigator.userAgent);document.documentElement.classList.toggle("apple-os",p);})();
</script>

<div class="body-wrapper">

<button id="sidebar-menu" class="sidebar-button sidebar-toggle" aria-label="toggle sidebar" aria-controls="sidebar">
  <i class="ri-menu-line ri-lg" title="Collapse/expand sidebar"></i>
</button>

<nav id="sidebar" class="sidebar">

  <div class="sidebar-header">
    <div class="sidebar-projectInfo">

      <div>
        <a href="EhsEnforcement.html" class="sidebar-projectName" translate="no">
ehs_enforcement
        </a>
        <div class="sidebar-projectVersion" translate="no">
          v0.1.0
        </div>
      </div>
    </div>
    <ul id="sidebar-list-nav" class="sidebar-list-nav" role="tablist" data-extras=""></ul>
  </div>
</nav>

<output role="status" id="toast"></output>

<main class="content page-module" id="main" data-type="modules">
  <div id="content" class="content-inner">
    <div class="top-search">
      <div class="search-settings">
        <form class="search-bar" action="search.html">
          <label class="search-label">
            <span class="sr-only">Search documentation of ehs_enforcement</span>
            <input name="q" type="text" class="search-input" placeholder="Press / to search" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" />
          </label>
          <button type="submit" class="search-button" aria-label="Submit Search" tabindex="-1">
            <i class="ri-search-2-line ri-lg" aria-hidden="true"></i>
          </button>
          <button type="button" tabindex="-1" class="search-close-button" aria-hidden="true">
            <i class="ri-close-line ri-lg" title="Cancel search"></i>
          </button>
        </form>
        <div class="autocomplete">
        </div>
        <button class="icon-settings display-settings">
          <i class="ri-settings-3-line"></i>
          <span class="sr-only">Settings</span>
        </button>
      </div>
    </div>

<div id="top-content">
  <div class="heading-with-actions top-heading">
    <h1>
      <span translate="no">EhsEnforcement.Enforcement</span> 
      <small class="app-vsn" translate="no">(ehs_enforcement v0.1.0)</small>

    </h1>

  </div>


    <section id="moduledoc">
<p>The Enforcement domain for managing enforcement agencies, cases, notices, and related entities.</p><p>This domain uses Ash code interfaces. Generated functions are available for all resources.</p>
    </section>

</div>

  <section id="summary" class="details-list">
    <h1 class="section-heading">
      <a class="hover-link" href="#summary">
        <i class="ri-link-m" aria-hidden="true"></i>
      </a>
      <span class="text">Summary</span>
    </h1>
<div class="summary-functions summary">
  <h2>
    <a href="#functions">Functions</a>
  </h2>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#bulk_create_cases/2" data-no-tooltip="" translate="no">bulk_create_cases(params \\ nil, opts \\ nil)</a>

      </div>

        <div class="summary-synopsis"><p>Batch processing for creating multiple cases efficiently</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#bulk_create_cases!/2" data-no-tooltip="" translate="no">bulk_create_cases!(params \\ nil, opts \\ nil)</a>

      </div>

        <div class="summary-synopsis"><p>Batch processing for creating multiple cases efficiently
Raises any errors instead of returning them</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#can_bulk_create_cases/3" data-no-tooltip="" translate="no">can_bulk_create_cases(actor, params_or_opts \\ %{}, opts \\ [])</a>

      </div>

        <div class="summary-synopsis"><p>Runs authorization checks for <code class="inline">EhsEnforcement.Enforcement.Case.bulk_create</code>
See <a><code class="inline">Ash.can/3</code></a> for more information</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#can_bulk_create_cases?/3" data-no-tooltip="" translate="no">can_bulk_create_cases?(actor, params_or_opts \\ %{}, opts \\ [])</a>

      </div>

        <div class="summary-synopsis"><p>Runs authorization checks for <code class="inline">EhsEnforcement.Enforcement.Case.bulk_create</code>, returning a boolean.
See <a><code class="inline">Ash.can?/3</code></a> for more information</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#can_create_agency/3" data-no-tooltip="" translate="no">can_create_agency(actor, params_or_opts \\ %{}, opts \\ [])</a>

      </div>

        <div class="summary-synopsis"><p>Runs authorization checks for <code class="inline">EhsEnforcement.Enforcement.Agency.create</code>
See <a><code class="inline">Ash.can/3</code></a> for more information</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#can_create_agency?/3" data-no-tooltip="" translate="no">can_create_agency?(actor, params_or_opts \\ %{}, opts \\ [])</a>

      </div>

        <div class="summary-synopsis"><p>Runs authorization checks for <code class="inline">EhsEnforcement.Enforcement.Agency.create</code>, returning a boolean.
See <a><code class="inline">Ash.can?/3</code></a> for more information</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#can_create_breach/3" data-no-tooltip="" translate="no">can_create_breach(actor, params_or_opts \\ %{}, opts \\ [])</a>

      </div>

        <div class="summary-synopsis"><p>Runs authorization checks for <code class="inline">EhsEnforcement.Enforcement.Breach.create</code>
See <a><code class="inline">Ash.can/3</code></a> for more information</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#can_create_breach?/3" data-no-tooltip="" translate="no">can_create_breach?(actor, params_or_opts \\ %{}, opts \\ [])</a>

      </div>

        <div class="summary-synopsis"><p>Runs authorization checks for <code class="inline">EhsEnforcement.Enforcement.Breach.create</code>, returning a boolean.
See <a><code class="inline">Ash.can?/3</code></a> for more information</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#can_create_case/3" data-no-tooltip="" translate="no">can_create_case(actor, params_or_opts \\ %{}, opts \\ [])</a>

      </div>

        <div class="summary-synopsis"><p>Runs authorization checks for <code class="inline">EhsEnforcement.Enforcement.Case.create</code>
See <a><code class="inline">Ash.can/3</code></a> for more information</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#can_create_case?/3" data-no-tooltip="" translate="no">can_create_case?(actor, params_or_opts \\ %{}, opts \\ [])</a>

      </div>

        <div class="summary-synopsis"><p>Runs authorization checks for <code class="inline">EhsEnforcement.Enforcement.Case.create</code>, returning a boolean.
See <a><code class="inline">Ash.can?/3</code></a> for more information</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#can_create_notice/3" data-no-tooltip="" translate="no">can_create_notice(actor, params_or_opts \\ %{}, opts \\ [])</a>

      </div>

        <div class="summary-synopsis"><p>Runs authorization checks for <code class="inline">EhsEnforcement.Enforcement.Notice.create</code>
See <a><code class="inline">Ash.can/3</code></a> for more information</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#can_create_notice?/3" data-no-tooltip="" translate="no">can_create_notice?(actor, params_or_opts \\ %{}, opts \\ [])</a>

      </div>

        <div class="summary-synopsis"><p>Runs authorization checks for <code class="inline">EhsEnforcement.Enforcement.Notice.create</code>, returning a boolean.
See <a><code class="inline">Ash.can?/3</code></a> for more information</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#can_create_offender/3" data-no-tooltip="" translate="no">can_create_offender(actor, params_or_opts \\ %{}, opts \\ [])</a>

      </div>

        <div class="summary-synopsis"><p>Runs authorization checks for <code class="inline">EhsEnforcement.Enforcement.Offender.create</code>
See <a><code class="inline">Ash.can/3</code></a> for more information</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#can_create_offender?/3" data-no-tooltip="" translate="no">can_create_offender?(actor, params_or_opts \\ %{}, opts \\ [])</a>

      </div>

        <div class="summary-synopsis"><p>Runs authorization checks for <code class="inline">EhsEnforcement.Enforcement.Offender.create</code>, returning a boolean.
See <a><code class="inline">Ash.can?/3</code></a> for more information</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#can_destroy_case/4" data-no-tooltip="" translate="no">can_destroy_case(actor, record, params_or_opts \\ %{}, opts \\ [])</a>

      </div>

        <div class="summary-synopsis"><p>Runs authorization checks for <code class="inline">EhsEnforcement.Enforcement.Case.destroy</code>
See <a><code class="inline">Ash.can/3</code></a> for more information</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#can_destroy_case?/4" data-no-tooltip="" translate="no">can_destroy_case?(actor, record, params_or_opts \\ %{}, opts \\ [])</a>

      </div>

        <div class="summary-synopsis"><p>Runs authorization checks for <code class="inline">EhsEnforcement.Enforcement.Case.destroy</code>, returning a boolean.
See <a><code class="inline">Ash.can?/3</code></a> for more information</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#can_destroy_notice/4" data-no-tooltip="" translate="no">can_destroy_notice(actor, record, params_or_opts \\ %{}, opts \\ [])</a>

      </div>

        <div class="summary-synopsis"><p>Runs authorization checks for <code class="inline">EhsEnforcement.Enforcement.Notice.destroy</code>
See <a><code class="inline">Ash.can/3</code></a> for more information</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#can_destroy_notice?/4" data-no-tooltip="" translate="no">can_destroy_notice?(actor, record, params_or_opts \\ %{}, opts \\ [])</a>

      </div>

        <div class="summary-synopsis"><p>Runs authorization checks for <code class="inline">EhsEnforcement.Enforcement.Notice.destroy</code>, returning a boolean.
See <a><code class="inline">Ash.can?/3</code></a> for more information</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#can_get_agency/4" data-no-tooltip="" translate="no">can_get_agency(actor, id, params_or_opts \\ %{}, opts \\ [])</a>

      </div>

        <div class="summary-synopsis"><p>Runs authorization checks for <code class="inline">EhsEnforcement.Enforcement.Agency.read</code>
See <a><code class="inline">Ash.can/3</code></a> for more information</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#can_get_agency?/4" data-no-tooltip="" translate="no">can_get_agency?(actor, id, params_or_opts \\ %{}, opts \\ [])</a>

      </div>

        <div class="summary-synopsis"><p>Runs authorization checks for <code class="inline">EhsEnforcement.Enforcement.Agency.read</code>, returning a boolean.
See <a><code class="inline">Ash.can?/3</code></a> for more information</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#can_get_agency_by_code/4" data-no-tooltip="" translate="no">can_get_agency_by_code(actor, code, params_or_opts \\ %{}, opts \\ [])</a>

      </div>

        <div class="summary-synopsis"><p>Runs authorization checks for <code class="inline">EhsEnforcement.Enforcement.Agency.read</code>
See <a><code class="inline">Ash.can/3</code></a> for more information</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#can_get_agency_by_code?/4" data-no-tooltip="" translate="no">can_get_agency_by_code?(actor, code, params_or_opts \\ %{}, opts \\ [])</a>

      </div>

        <div class="summary-synopsis"><p>Runs authorization checks for <code class="inline">EhsEnforcement.Enforcement.Agency.read</code>, returning a boolean.
See <a><code class="inline">Ash.can?/3</code></a> for more information</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#can_get_breach/4" data-no-tooltip="" translate="no">can_get_breach(actor, id, params_or_opts \\ %{}, opts \\ [])</a>

      </div>

        <div class="summary-synopsis"><p>Runs authorization checks for <code class="inline">EhsEnforcement.Enforcement.Breach.read</code>
See <a><code class="inline">Ash.can/3</code></a> for more information</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#can_get_breach?/4" data-no-tooltip="" translate="no">can_get_breach?(actor, id, params_or_opts \\ %{}, opts \\ [])</a>

      </div>

        <div class="summary-synopsis"><p>Runs authorization checks for <code class="inline">EhsEnforcement.Enforcement.Breach.read</code>, returning a boolean.
See <a><code class="inline">Ash.can?/3</code></a> for more information</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#can_get_case/4" data-no-tooltip="" translate="no">can_get_case(actor, id, params_or_opts \\ %{}, opts \\ [])</a>

      </div>

        <div class="summary-synopsis"><p>Runs authorization checks for <code class="inline">EhsEnforcement.Enforcement.Case.read</code>
See <a><code class="inline">Ash.can/3</code></a> for more information</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#can_get_case?/4" data-no-tooltip="" translate="no">can_get_case?(actor, id, params_or_opts \\ %{}, opts \\ [])</a>

      </div>

        <div class="summary-synopsis"><p>Runs authorization checks for <code class="inline">EhsEnforcement.Enforcement.Case.read</code>, returning a boolean.
See <a><code class="inline">Ash.can?/3</code></a> for more information</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#can_get_current_metrics/3" data-no-tooltip="" translate="no">can_get_current_metrics(actor, params_or_opts \\ %{}, opts \\ [])</a>

      </div>

        <div class="summary-synopsis"><p>Runs authorization checks for <code class="inline">EhsEnforcement.Enforcement.Metrics.get_current</code>
See <a><code class="inline">Ash.can/3</code></a> for more information</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#can_get_current_metrics?/3" data-no-tooltip="" translate="no">can_get_current_metrics?(actor, params_or_opts \\ %{}, opts \\ [])</a>

      </div>

        <div class="summary-synopsis"><p>Runs authorization checks for <code class="inline">EhsEnforcement.Enforcement.Metrics.get_current</code>, returning a boolean.
See <a><code class="inline">Ash.can?/3</code></a> for more information</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#can_get_notice/4" data-no-tooltip="" translate="no">can_get_notice(actor, id, params_or_opts \\ %{}, opts \\ [])</a>

      </div>

        <div class="summary-synopsis"><p>Runs authorization checks for <code class="inline">EhsEnforcement.Enforcement.Notice.read</code>
See <a><code class="inline">Ash.can/3</code></a> for more information</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#can_get_notice?/4" data-no-tooltip="" translate="no">can_get_notice?(actor, id, params_or_opts \\ %{}, opts \\ [])</a>

      </div>

        <div class="summary-synopsis"><p>Runs authorization checks for <code class="inline">EhsEnforcement.Enforcement.Notice.read</code>, returning a boolean.
See <a><code class="inline">Ash.can?/3</code></a> for more information</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#can_get_offender/4" data-no-tooltip="" translate="no">can_get_offender(actor, id, params_or_opts \\ %{}, opts \\ [])</a>

      </div>

        <div class="summary-synopsis"><p>Runs authorization checks for <code class="inline">EhsEnforcement.Enforcement.Offender.read</code>
See <a><code class="inline">Ash.can/3</code></a> for more information</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#can_get_offender?/4" data-no-tooltip="" translate="no">can_get_offender?(actor, id, params_or_opts \\ %{}, opts \\ [])</a>

      </div>

        <div class="summary-synopsis"><p>Runs authorization checks for <code class="inline">EhsEnforcement.Enforcement.Offender.read</code>, returning a boolean.
See <a><code class="inline">Ash.can?/3</code></a> for more information</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#can_list_agencies/3" data-no-tooltip="" translate="no">can_list_agencies(actor, params_or_opts \\ %{}, opts \\ [])</a>

      </div>

        <div class="summary-synopsis"><p>Runs authorization checks for <code class="inline">EhsEnforcement.Enforcement.Agency.read</code>
See <a><code class="inline">Ash.can/3</code></a> for more information</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#can_list_agencies?/3" data-no-tooltip="" translate="no">can_list_agencies?(actor, params_or_opts \\ %{}, opts \\ [])</a>

      </div>

        <div class="summary-synopsis"><p>Runs authorization checks for <code class="inline">EhsEnforcement.Enforcement.Agency.read</code>, returning a boolean.
See <a><code class="inline">Ash.can?/3</code></a> for more information</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#can_list_breaches/3" data-no-tooltip="" translate="no">can_list_breaches(actor, params_or_opts \\ %{}, opts \\ [])</a>

      </div>

        <div class="summary-synopsis"><p>Runs authorization checks for <code class="inline">EhsEnforcement.Enforcement.Breach.read</code>
See <a><code class="inline">Ash.can/3</code></a> for more information</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#can_list_breaches?/3" data-no-tooltip="" translate="no">can_list_breaches?(actor, params_or_opts \\ %{}, opts \\ [])</a>

      </div>

        <div class="summary-synopsis"><p>Runs authorization checks for <code class="inline">EhsEnforcement.Enforcement.Breach.read</code>, returning a boolean.
See <a><code class="inline">Ash.can?/3</code></a> for more information</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#can_list_cases/3" data-no-tooltip="" translate="no">can_list_cases(actor, params_or_opts \\ %{}, opts \\ [])</a>

      </div>

        <div class="summary-synopsis"><p>Runs authorization checks for <code class="inline">EhsEnforcement.Enforcement.Case.read</code>
See <a><code class="inline">Ash.can/3</code></a> for more information</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#can_list_cases?/3" data-no-tooltip="" translate="no">can_list_cases?(actor, params_or_opts \\ %{}, opts \\ [])</a>

      </div>

        <div class="summary-synopsis"><p>Runs authorization checks for <code class="inline">EhsEnforcement.Enforcement.Case.read</code>, returning a boolean.
See <a><code class="inline">Ash.can?/3</code></a> for more information</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#can_list_cases_by_date_range/5" data-no-tooltip="" translate="no">can_list_cases_by_date_range(actor, from_date, to_date, params_or_opts \\ %{}, opts \\ [])</a>

      </div>

        <div class="summary-synopsis"><p>Runs authorization checks for <code class="inline">EhsEnforcement.Enforcement.Case.by_date_range</code>
See <a><code class="inline">Ash.can/3</code></a> for more information</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#can_list_cases_by_date_range?/5" data-no-tooltip="" translate="no">can_list_cases_by_date_range?(actor, from_date, to_date, params_or_opts \\ %{}, opts \\ [])</a>

      </div>

        <div class="summary-synopsis"><p>Runs authorization checks for <code class="inline">EhsEnforcement.Enforcement.Case.by_date_range</code>, returning a boolean.
See <a><code class="inline">Ash.can?/3</code></a> for more information</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#can_list_notices/3" data-no-tooltip="" translate="no">can_list_notices(actor, params_or_opts \\ %{}, opts \\ [])</a>

      </div>

        <div class="summary-synopsis"><p>Runs authorization checks for <code class="inline">EhsEnforcement.Enforcement.Notice.read</code>
See <a><code class="inline">Ash.can/3</code></a> for more information</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#can_list_notices?/3" data-no-tooltip="" translate="no">can_list_notices?(actor, params_or_opts \\ %{}, opts \\ [])</a>

      </div>

        <div class="summary-synopsis"><p>Runs authorization checks for <code class="inline">EhsEnforcement.Enforcement.Notice.read</code>, returning a boolean.
See <a><code class="inline">Ash.can?/3</code></a> for more information</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#can_list_offenders/3" data-no-tooltip="" translate="no">can_list_offenders(actor, params_or_opts \\ %{}, opts \\ [])</a>

      </div>

        <div class="summary-synopsis"><p>Runs authorization checks for <code class="inline">EhsEnforcement.Enforcement.Offender.read</code>
See <a><code class="inline">Ash.can/3</code></a> for more information</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#can_list_offenders?/3" data-no-tooltip="" translate="no">can_list_offenders?(actor, params_or_opts \\ %{}, opts \\ [])</a>

      </div>

        <div class="summary-synopsis"><p>Runs authorization checks for <code class="inline">EhsEnforcement.Enforcement.Offender.read</code>, returning a boolean.
See <a><code class="inline">Ash.can?/3</code></a> for more information</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#can_refresh_metrics/3" data-no-tooltip="" translate="no">can_refresh_metrics(actor, params_or_opts \\ %{}, opts \\ [])</a>

      </div>

        <div class="summary-synopsis"><p>Runs authorization checks for <code class="inline">EhsEnforcement.Enforcement.Metrics.refresh</code>
See <a><code class="inline">Ash.can/3</code></a> for more information</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#can_refresh_metrics?/3" data-no-tooltip="" translate="no">can_refresh_metrics?(actor, params_or_opts \\ %{}, opts \\ [])</a>

      </div>

        <div class="summary-synopsis"><p>Runs authorization checks for <code class="inline">EhsEnforcement.Enforcement.Metrics.refresh</code>, returning a boolean.
See <a><code class="inline">Ash.can?/3</code></a> for more information</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#can_search_offenders/4" data-no-tooltip="" translate="no">can_search_offenders(actor, query, params_or_opts \\ %{}, opts \\ [])</a>

      </div>

        <div class="summary-synopsis"><p>Runs authorization checks for <code class="inline">EhsEnforcement.Enforcement.Offender.search</code>
See <a><code class="inline">Ash.can/3</code></a> for more information</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#can_search_offenders?/4" data-no-tooltip="" translate="no">can_search_offenders?(actor, query, params_or_opts \\ %{}, opts \\ [])</a>

      </div>

        <div class="summary-synopsis"><p>Runs authorization checks for <code class="inline">EhsEnforcement.Enforcement.Offender.search</code>, returning a boolean.
See <a><code class="inline">Ash.can?/3</code></a> for more information</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#can_sync_case_from_airtable/4" data-no-tooltip="" translate="no">can_sync_case_from_airtable(actor, record, params_or_opts \\ %{}, opts \\ [])</a>

      </div>

        <div class="summary-synopsis"><p>Runs authorization checks for <code class="inline">EhsEnforcement.Enforcement.Case.sync_from_airtable</code>
See <a><code class="inline">Ash.can/3</code></a> for more information</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#can_sync_case_from_airtable?/4" data-no-tooltip="" translate="no">can_sync_case_from_airtable?(actor, record, params_or_opts \\ %{}, opts \\ [])</a>

      </div>

        <div class="summary-synopsis"><p>Runs authorization checks for <code class="inline">EhsEnforcement.Enforcement.Case.sync_from_airtable</code>, returning a boolean.
See <a><code class="inline">Ash.can?/3</code></a> for more information</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#can_update_agency/4" data-no-tooltip="" translate="no">can_update_agency(actor, record, params_or_opts \\ %{}, opts \\ [])</a>

      </div>

        <div class="summary-synopsis"><p>Runs authorization checks for <code class="inline">EhsEnforcement.Enforcement.Agency.update</code>
See <a><code class="inline">Ash.can/3</code></a> for more information</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#can_update_agency?/4" data-no-tooltip="" translate="no">can_update_agency?(actor, record, params_or_opts \\ %{}, opts \\ [])</a>

      </div>

        <div class="summary-synopsis"><p>Runs authorization checks for <code class="inline">EhsEnforcement.Enforcement.Agency.update</code>, returning a boolean.
See <a><code class="inline">Ash.can?/3</code></a> for more information</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#can_update_breach/4" data-no-tooltip="" translate="no">can_update_breach(actor, record, params_or_opts \\ %{}, opts \\ [])</a>

      </div>

        <div class="summary-synopsis"><p>Runs authorization checks for <code class="inline">EhsEnforcement.Enforcement.Breach.update</code>
See <a><code class="inline">Ash.can/3</code></a> for more information</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#can_update_breach?/4" data-no-tooltip="" translate="no">can_update_breach?(actor, record, params_or_opts \\ %{}, opts \\ [])</a>

      </div>

        <div class="summary-synopsis"><p>Runs authorization checks for <code class="inline">EhsEnforcement.Enforcement.Breach.update</code>, returning a boolean.
See <a><code class="inline">Ash.can?/3</code></a> for more information</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#can_update_case/4" data-no-tooltip="" translate="no">can_update_case(actor, record, params_or_opts \\ %{}, opts \\ [])</a>

      </div>

        <div class="summary-synopsis"><p>Runs authorization checks for <code class="inline">EhsEnforcement.Enforcement.Case.update</code>
See <a><code class="inline">Ash.can/3</code></a> for more information</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#can_update_case?/4" data-no-tooltip="" translate="no">can_update_case?(actor, record, params_or_opts \\ %{}, opts \\ [])</a>

      </div>

        <div class="summary-synopsis"><p>Runs authorization checks for <code class="inline">EhsEnforcement.Enforcement.Case.update</code>, returning a boolean.
See <a><code class="inline">Ash.can?/3</code></a> for more information</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#can_update_case_from_scraping/4" data-no-tooltip="" translate="no">can_update_case_from_scraping(actor, record, params_or_opts \\ %{}, opts \\ [])</a>

      </div>

        <div class="summary-synopsis"><p>Runs authorization checks for <code class="inline">EhsEnforcement.Enforcement.Case.update_from_scraping</code>
See <a><code class="inline">Ash.can/3</code></a> for more information</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#can_update_case_from_scraping?/4" data-no-tooltip="" translate="no">can_update_case_from_scraping?(actor, record, params_or_opts \\ %{}, opts \\ [])</a>

      </div>

        <div class="summary-synopsis"><p>Runs authorization checks for <code class="inline">EhsEnforcement.Enforcement.Case.update_from_scraping</code>, returning a boolean.
See <a><code class="inline">Ash.can?/3</code></a> for more information</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#can_update_notice/4" data-no-tooltip="" translate="no">can_update_notice(actor, record, params_or_opts \\ %{}, opts \\ [])</a>

      </div>

        <div class="summary-synopsis"><p>Runs authorization checks for <code class="inline">EhsEnforcement.Enforcement.Notice.update</code>
See <a><code class="inline">Ash.can/3</code></a> for more information</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#can_update_notice?/4" data-no-tooltip="" translate="no">can_update_notice?(actor, record, params_or_opts \\ %{}, opts \\ [])</a>

      </div>

        <div class="summary-synopsis"><p>Runs authorization checks for <code class="inline">EhsEnforcement.Enforcement.Notice.update</code>, returning a boolean.
See <a><code class="inline">Ash.can?/3</code></a> for more information</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#can_update_offender/4" data-no-tooltip="" translate="no">can_update_offender(actor, record, params_or_opts \\ %{}, opts \\ [])</a>

      </div>

        <div class="summary-synopsis"><p>Runs authorization checks for <code class="inline">EhsEnforcement.Enforcement.Offender.update</code>
See <a><code class="inline">Ash.can/3</code></a> for more information</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#can_update_offender?/4" data-no-tooltip="" translate="no">can_update_offender?(actor, record, params_or_opts \\ %{}, opts \\ [])</a>

      </div>

        <div class="summary-synopsis"><p>Runs authorization checks for <code class="inline">EhsEnforcement.Enforcement.Offender.update</code>, returning a boolean.
See <a><code class="inline">Ash.can?/3</code></a> for more information</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#can_update_offender_statistics/4" data-no-tooltip="" translate="no">can_update_offender_statistics(actor, record, params_or_opts \\ %{}, opts \\ [])</a>

      </div>

        <div class="summary-synopsis"><p>Runs authorization checks for <code class="inline">EhsEnforcement.Enforcement.Offender.update_statistics</code>
See <a><code class="inline">Ash.can/3</code></a> for more information</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#can_update_offender_statistics?/4" data-no-tooltip="" translate="no">can_update_offender_statistics?(actor, record, params_or_opts \\ %{}, opts \\ [])</a>

      </div>

        <div class="summary-synopsis"><p>Runs authorization checks for <code class="inline">EhsEnforcement.Enforcement.Offender.update_statistics</code>, returning a boolean.
See <a><code class="inline">Ash.can?/3</code></a> for more information</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#change_case_for_airtable_sync/2" data-no-tooltip="" translate="no">change_case_for_airtable_sync(case_record, attrs \\ %{})</a>

      </div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#change_case_for_scraping/2" data-no-tooltip="" translate="no">change_case_for_scraping(case_record, attrs \\ %{})</a>

      </div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#changeset_to_bulk_create_cases/2" data-no-tooltip="" translate="no">changeset_to_bulk_create_cases(params_or_opts \\ %{}, opts \\ [])</a>

      </div>

        <div class="summary-synopsis"><p>Returns the changeset corresponding to the action.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#changeset_to_create_agency/2" data-no-tooltip="" translate="no">changeset_to_create_agency(params_or_opts \\ %{}, opts \\ [])</a>

      </div>

        <div class="summary-synopsis"><p>Returns the changeset corresponding to the action.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#changeset_to_create_breach/2" data-no-tooltip="" translate="no">changeset_to_create_breach(params_or_opts \\ %{}, opts \\ [])</a>

      </div>

        <div class="summary-synopsis"><p>Returns the changeset corresponding to the action.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#changeset_to_create_case/2" data-no-tooltip="" translate="no">changeset_to_create_case(params_or_opts \\ %{}, opts \\ [])</a>

      </div>

        <div class="summary-synopsis"><p>Returns the changeset corresponding to the action.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#changeset_to_create_notice/2" data-no-tooltip="" translate="no">changeset_to_create_notice(params_or_opts \\ %{}, opts \\ [])</a>

      </div>

        <div class="summary-synopsis"><p>Returns the changeset corresponding to the action.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#changeset_to_create_offender/2" data-no-tooltip="" translate="no">changeset_to_create_offender(params_or_opts \\ %{}, opts \\ [])</a>

      </div>

        <div class="summary-synopsis"><p>Returns the changeset corresponding to the action.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#changeset_to_destroy_case/3" data-no-tooltip="" translate="no">changeset_to_destroy_case(record, params_or_opts \\ %{}, opts \\ [])</a>

      </div>

        <div class="summary-synopsis"><p>Returns the changeset corresponding to the action.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#changeset_to_destroy_notice/3" data-no-tooltip="" translate="no">changeset_to_destroy_notice(record, params_or_opts \\ %{}, opts \\ [])</a>

      </div>

        <div class="summary-synopsis"><p>Returns the changeset corresponding to the action.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#changeset_to_refresh_metrics/2" data-no-tooltip="" translate="no">changeset_to_refresh_metrics(params_or_opts \\ %{}, opts \\ [])</a>

      </div>

        <div class="summary-synopsis"><p>Returns the changeset corresponding to the action.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#changeset_to_sync_case_from_airtable/3" data-no-tooltip="" translate="no">changeset_to_sync_case_from_airtable(record, params_or_opts \\ %{}, opts \\ [])</a>

      </div>

        <div class="summary-synopsis"><p>Returns the changeset corresponding to the action.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#changeset_to_update_agency/3" data-no-tooltip="" translate="no">changeset_to_update_agency(record, params_or_opts \\ %{}, opts \\ [])</a>

      </div>

        <div class="summary-synopsis"><p>Returns the changeset corresponding to the action.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#changeset_to_update_breach/3" data-no-tooltip="" translate="no">changeset_to_update_breach(record, params_or_opts \\ %{}, opts \\ [])</a>

      </div>

        <div class="summary-synopsis"><p>Returns the changeset corresponding to the action.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#changeset_to_update_case/3" data-no-tooltip="" translate="no">changeset_to_update_case(record, params_or_opts \\ %{}, opts \\ [])</a>

      </div>

        <div class="summary-synopsis"><p>Returns the changeset corresponding to the action.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#changeset_to_update_case_from_scraping/3" data-no-tooltip="" translate="no">changeset_to_update_case_from_scraping(record, params_or_opts \\ %{}, opts \\ [])</a>

      </div>

        <div class="summary-synopsis"><p>Returns the changeset corresponding to the action.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#changeset_to_update_notice/3" data-no-tooltip="" translate="no">changeset_to_update_notice(record, params_or_opts \\ %{}, opts \\ [])</a>

      </div>

        <div class="summary-synopsis"><p>Returns the changeset corresponding to the action.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#changeset_to_update_offender/3" data-no-tooltip="" translate="no">changeset_to_update_offender(record, params_or_opts \\ %{}, opts \\ [])</a>

      </div>

        <div class="summary-synopsis"><p>Returns the changeset corresponding to the action.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#changeset_to_update_offender_statistics/3" data-no-tooltip="" translate="no">changeset_to_update_offender_statistics(record, params_or_opts \\ %{}, opts \\ [])</a>

      </div>

        <div class="summary-synopsis"><p>Returns the changeset corresponding to the action.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#clear_cache/0" data-no-tooltip="" translate="no">clear_cache()</a>

      </div>

        <div class="summary-synopsis"><p>Clear all cached results. Useful when data is updated.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#count_cases!/1" data-no-tooltip="" translate="no">count_cases!(opts \\ [])</a>

      </div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#count_cases_cached!/1" data-no-tooltip="" translate="no">count_cases_cached!(opts \\ [])</a>

      </div>

        <div class="summary-synopsis"><p>Cached count functions for dashboard metrics and pagination.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#count_cases_monitored!/1" data-no-tooltip="" translate="no">count_cases_monitored!(opts \\ [])</a>

      </div>

        <div class="summary-synopsis"><p>Monitored version of count_cases! that logs slow queries.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#count_notices!/1" data-no-tooltip="" translate="no">count_notices!(opts \\ [])</a>

      </div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#count_notices_cached!/1" data-no-tooltip="" translate="no">count_notices_cached!(opts \\ [])</a>

      </div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#count_notices_monitored!/1" data-no-tooltip="" translate="no">count_notices_monitored!(opts \\ [])</a>

      </div>

        <div class="summary-synopsis"><p>Monitored version of count_notices! that logs slow queries.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#count_offenders!/1" data-no-tooltip="" translate="no">count_offenders!(opts \\ [])</a>

      </div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#create_agency/2" data-no-tooltip="" translate="no">create_agency(params \\ nil, opts \\ nil)</a>

      </div>

        <div class="summary-synopsis"><p>Calls the create action on EhsEnforcement.Enforcement.Agency.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#create_agency!/2" data-no-tooltip="" translate="no">create_agency!(params \\ nil, opts \\ nil)</a>

      </div>

        <div class="summary-synopsis"><p>Calls the create action on EhsEnforcement.Enforcement.Agency.
Raises any errors instead of returning them</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#create_breach/2" data-no-tooltip="" translate="no">create_breach(params \\ nil, opts \\ nil)</a>

      </div>

        <div class="summary-synopsis"><p>Calls the create action on EhsEnforcement.Enforcement.Breach.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#create_breach!/2" data-no-tooltip="" translate="no">create_breach!(params \\ nil, opts \\ nil)</a>

      </div>

        <div class="summary-synopsis"><p>Calls the create action on EhsEnforcement.Enforcement.Breach.
Raises any errors instead of returning them</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#create_case/2" data-no-tooltip="" translate="no">create_case(params \\ nil, opts \\ nil)</a>

      </div>

        <div class="summary-synopsis"><p>Calls the create action on EhsEnforcement.Enforcement.Case.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#create_case!/2" data-no-tooltip="" translate="no">create_case!(params \\ nil, opts \\ nil)</a>

      </div>

        <div class="summary-synopsis"><p>Calls the create action on EhsEnforcement.Enforcement.Case.
Raises any errors instead of returning them</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#create_notice/2" data-no-tooltip="" translate="no">create_notice(params \\ nil, opts \\ nil)</a>

      </div>

        <div class="summary-synopsis"><p>Calls the create action on EhsEnforcement.Enforcement.Notice.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#create_notice!/2" data-no-tooltip="" translate="no">create_notice!(params \\ nil, opts \\ nil)</a>

      </div>

        <div class="summary-synopsis"><p>Calls the create action on EhsEnforcement.Enforcement.Notice.
Raises any errors instead of returning them</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#create_offender/2" data-no-tooltip="" translate="no">create_offender(params \\ nil, opts \\ nil)</a>

      </div>

        <div class="summary-synopsis"><p>Calls the create action on EhsEnforcement.Enforcement.Offender.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#create_offender!/2" data-no-tooltip="" translate="no">create_offender!(params \\ nil, opts \\ nil)</a>

      </div>

        <div class="summary-synopsis"><p>Calls the create action on EhsEnforcement.Enforcement.Offender.
Raises any errors instead of returning them</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#default_short_name/0" data-no-tooltip="" translate="no">default_short_name()</a>

      </div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#destroy_case/3" data-no-tooltip="" translate="no">destroy_case(record, params \\ nil, opts \\ nil)</a>

      </div>

        <div class="summary-synopsis"><p>Calls the destroy action on EhsEnforcement.Enforcement.Case.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#destroy_case!/3" data-no-tooltip="" translate="no">destroy_case!(record, params \\ nil, opts \\ nil)</a>

      </div>

        <div class="summary-synopsis"><p>Calls the destroy action on EhsEnforcement.Enforcement.Case.
Raises any errors instead of returning them</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#destroy_notice/3" data-no-tooltip="" translate="no">destroy_notice(record, params \\ nil, opts \\ nil)</a>

      </div>

        <div class="summary-synopsis"><p>Calls the destroy action on EhsEnforcement.Enforcement.Notice.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#destroy_notice!/3" data-no-tooltip="" translate="no">destroy_notice!(record, params \\ nil, opts \\ nil)</a>

      </div>

        <div class="summary-synopsis"><p>Calls the destroy action on EhsEnforcement.Enforcement.Notice.
Raises any errors instead of returning them</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#form_to_bulk_create_cases/1" data-no-tooltip="" translate="no">form_to_bulk_create_cases(form_opts \\ [])</a>

      </div>

        <div class="summary-synopsis"><p>Batch processing for creating multiple cases efficiently</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#form_to_create_agency/1" data-no-tooltip="" translate="no">form_to_create_agency(form_opts \\ [])</a>

      </div>

        <div class="summary-synopsis"><p>Creates a form for the create action on EhsEnforcement.Enforcement.Agency.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#form_to_create_breach/1" data-no-tooltip="" translate="no">form_to_create_breach(form_opts \\ [])</a>

      </div>

        <div class="summary-synopsis"><p>Creates a form for the create action on EhsEnforcement.Enforcement.Breach.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#form_to_create_case/1" data-no-tooltip="" translate="no">form_to_create_case(form_opts \\ [])</a>

      </div>

        <div class="summary-synopsis"><p>Creates a form for the create action on EhsEnforcement.Enforcement.Case.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#form_to_create_notice/1" data-no-tooltip="" translate="no">form_to_create_notice(form_opts \\ [])</a>

      </div>

        <div class="summary-synopsis"><p>Creates a form for the create action on EhsEnforcement.Enforcement.Notice.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#form_to_create_offender/1" data-no-tooltip="" translate="no">form_to_create_offender(form_opts \\ [])</a>

      </div>

        <div class="summary-synopsis"><p>Creates a form for the create action on EhsEnforcement.Enforcement.Offender.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#form_to_destroy_case/2" data-no-tooltip="" translate="no">form_to_destroy_case(record, form_opts \\ [])</a>

      </div>

        <div class="summary-synopsis"><p>Creates a form for the destroy action on EhsEnforcement.Enforcement.Case.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#form_to_destroy_notice/2" data-no-tooltip="" translate="no">form_to_destroy_notice(record, form_opts \\ [])</a>

      </div>

        <div class="summary-synopsis"><p>Creates a form for the destroy action on EhsEnforcement.Enforcement.Notice.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#form_to_get_agency/1" data-no-tooltip="" translate="no">form_to_get_agency(form_opts \\ [])</a>

      </div>

        <div class="summary-synopsis"><p>Creates a form for the read action on EhsEnforcement.Enforcement.Agency.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#form_to_get_agency_by_code/1" data-no-tooltip="" translate="no">form_to_get_agency_by_code(form_opts \\ [])</a>

      </div>

        <div class="summary-synopsis"><p>Creates a form for the read action on EhsEnforcement.Enforcement.Agency.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#form_to_get_breach/1" data-no-tooltip="" translate="no">form_to_get_breach(form_opts \\ [])</a>

      </div>

        <div class="summary-synopsis"><p>Creates a form for the read action on EhsEnforcement.Enforcement.Breach.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#form_to_get_case/1" data-no-tooltip="" translate="no">form_to_get_case(form_opts \\ [])</a>

      </div>

        <div class="summary-synopsis"><p>Creates a form for the read action on EhsEnforcement.Enforcement.Case.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#form_to_get_current_metrics/1" data-no-tooltip="" translate="no">form_to_get_current_metrics(form_opts \\ [])</a>

      </div>

        <div class="summary-synopsis"><p>Get the most recent metrics for each time period</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#form_to_get_notice/1" data-no-tooltip="" translate="no">form_to_get_notice(form_opts \\ [])</a>

      </div>

        <div class="summary-synopsis"><p>Creates a form for the read action on EhsEnforcement.Enforcement.Notice.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#form_to_get_offender/1" data-no-tooltip="" translate="no">form_to_get_offender(form_opts \\ [])</a>

      </div>

        <div class="summary-synopsis"><p>Creates a form for the read action on EhsEnforcement.Enforcement.Offender.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#form_to_list_agencies/1" data-no-tooltip="" translate="no">form_to_list_agencies(form_opts \\ [])</a>

      </div>

        <div class="summary-synopsis"><p>Creates a form for the read action on EhsEnforcement.Enforcement.Agency.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#form_to_list_breaches/1" data-no-tooltip="" translate="no">form_to_list_breaches(form_opts \\ [])</a>

      </div>

        <div class="summary-synopsis"><p>Creates a form for the read action on EhsEnforcement.Enforcement.Breach.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#form_to_list_cases/1" data-no-tooltip="" translate="no">form_to_list_cases(form_opts \\ [])</a>

      </div>

        <div class="summary-synopsis"><p>Creates a form for the read action on EhsEnforcement.Enforcement.Case.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#form_to_list_cases_by_date_range/1" data-no-tooltip="" translate="no">form_to_list_cases_by_date_range(form_opts \\ [])</a>

      </div>

        <div class="summary-synopsis"><p>Creates a form for the by_date_range action on EhsEnforcement.Enforcement.Case.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#form_to_list_notices/1" data-no-tooltip="" translate="no">form_to_list_notices(form_opts \\ [])</a>

      </div>

        <div class="summary-synopsis"><p>Creates a form for the read action on EhsEnforcement.Enforcement.Notice.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#form_to_list_offenders/1" data-no-tooltip="" translate="no">form_to_list_offenders(form_opts \\ [])</a>

      </div>

        <div class="summary-synopsis"><p>Creates a form for the read action on EhsEnforcement.Enforcement.Offender.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#form_to_refresh_metrics/1" data-no-tooltip="" translate="no">form_to_refresh_metrics(form_opts \\ [])</a>

      </div>

        <div class="summary-synopsis"><p>Refresh all dashboard metrics by recalculating from current data</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#form_to_search_offenders/1" data-no-tooltip="" translate="no">form_to_search_offenders(form_opts \\ [])</a>

      </div>

        <div class="summary-synopsis"><p>Creates a form for the search action on EhsEnforcement.Enforcement.Offender.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#form_to_sync_case_from_airtable/2" data-no-tooltip="" translate="no">form_to_sync_case_from_airtable(record, form_opts \\ [])</a>

      </div>

        <div class="summary-synopsis"><p>Creates a form for the sync_from_airtable action on EhsEnforcement.Enforcement.Case.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#form_to_update_agency/2" data-no-tooltip="" translate="no">form_to_update_agency(record, form_opts \\ [])</a>

      </div>

        <div class="summary-synopsis"><p>Creates a form for the update action on EhsEnforcement.Enforcement.Agency.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#form_to_update_breach/2" data-no-tooltip="" translate="no">form_to_update_breach(record, form_opts \\ [])</a>

      </div>

        <div class="summary-synopsis"><p>Creates a form for the update action on EhsEnforcement.Enforcement.Breach.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#form_to_update_case/2" data-no-tooltip="" translate="no">form_to_update_case(record, form_opts \\ [])</a>

      </div>

        <div class="summary-synopsis"><p>Creates a form for the update action on EhsEnforcement.Enforcement.Case.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#form_to_update_case_from_scraping/2" data-no-tooltip="" translate="no">form_to_update_case_from_scraping(record, form_opts \\ [])</a>

      </div>

        <div class="summary-synopsis"><p>Creates a form for the update_from_scraping action on EhsEnforcement.Enforcement.Case.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#form_to_update_notice/2" data-no-tooltip="" translate="no">form_to_update_notice(record, form_opts \\ [])</a>

      </div>

        <div class="summary-synopsis"><p>Creates a form for the update action on EhsEnforcement.Enforcement.Notice.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#form_to_update_offender/2" data-no-tooltip="" translate="no">form_to_update_offender(record, form_opts \\ [])</a>

      </div>

        <div class="summary-synopsis"><p>Creates a form for the update action on EhsEnforcement.Enforcement.Offender.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#form_to_update_offender_statistics/2" data-no-tooltip="" translate="no">form_to_update_offender_statistics(record, form_opts \\ [])</a>

      </div>

        <div class="summary-synopsis"><p>Creates a form for the update_statistics action on EhsEnforcement.Enforcement.Offender.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#fuzzy_search_cases/2" data-no-tooltip="" translate="no">fuzzy_search_cases(search_term, opts \\ [])</a>

      </div>

        <div class="summary-synopsis"><p>Perform fuzzy search across cases using pg_trgm trigram similarity.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#fuzzy_search_notices/2" data-no-tooltip="" translate="no">fuzzy_search_notices(search_term, opts \\ [])</a>

      </div>

        <div class="summary-synopsis"><p>Perform fuzzy search across notices using pg_trgm trigram similarity.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#fuzzy_search_offenders/2" data-no-tooltip="" translate="no">fuzzy_search_offenders(search_term, opts \\ [])</a>

      </div>

        <div class="summary-synopsis"><p>Perform fuzzy search across offenders using pg_trgm trigram similarity.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#get_agency/3" data-no-tooltip="" translate="no">get_agency(id, params \\ nil, opts \\ nil)</a>

      </div>

        <div class="summary-synopsis"><p>Calls the read action on EhsEnforcement.Enforcement.Agency.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#get_agency!/3" data-no-tooltip="" translate="no">get_agency!(id, params \\ nil, opts \\ nil)</a>

      </div>

        <div class="summary-synopsis"><p>Calls the read action on EhsEnforcement.Enforcement.Agency.
Raises any errors instead of returning them</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#get_agency_by_code/3" data-no-tooltip="" translate="no">get_agency_by_code(code, params \\ nil, opts \\ nil)</a>

      </div>

        <div class="summary-synopsis"><p>Calls the read action on EhsEnforcement.Enforcement.Agency.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#get_agency_by_code!/3" data-no-tooltip="" translate="no">get_agency_by_code!(code, params \\ nil, opts \\ nil)</a>

      </div>

        <div class="summary-synopsis"><p>Calls the read action on EhsEnforcement.Enforcement.Agency.
Raises any errors instead of returning them</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#get_breach/3" data-no-tooltip="" translate="no">get_breach(id, params \\ nil, opts \\ nil)</a>

      </div>

        <div class="summary-synopsis"><p>Calls the read action on EhsEnforcement.Enforcement.Breach.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#get_breach!/3" data-no-tooltip="" translate="no">get_breach!(id, params \\ nil, opts \\ nil)</a>

      </div>

        <div class="summary-synopsis"><p>Calls the read action on EhsEnforcement.Enforcement.Breach.
Raises any errors instead of returning them</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#get_case/3" data-no-tooltip="" translate="no">get_case(id, params \\ nil, opts \\ nil)</a>

      </div>

        <div class="summary-synopsis"><p>Calls the read action on EhsEnforcement.Enforcement.Case.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#get_case!/3" data-no-tooltip="" translate="no">get_case!(id, params \\ nil, opts \\ nil)</a>

      </div>

        <div class="summary-synopsis"><p>Calls the read action on EhsEnforcement.Enforcement.Case.
Raises any errors instead of returning them</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#get_current_metrics/2" data-no-tooltip="" translate="no">get_current_metrics(params \\ nil, opts \\ nil)</a>

      </div>

        <div class="summary-synopsis"><p>Get the most recent metrics for each time period</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#get_current_metrics!/2" data-no-tooltip="" translate="no">get_current_metrics!(params \\ nil, opts \\ nil)</a>

      </div>

        <div class="summary-synopsis"><p>Get the most recent metrics for each time period
Raises any errors instead of returning them</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#get_notice/3" data-no-tooltip="" translate="no">get_notice(id, params \\ nil, opts \\ nil)</a>

      </div>

        <div class="summary-synopsis"><p>Calls the read action on EhsEnforcement.Enforcement.Notice.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#get_notice!/3" data-no-tooltip="" translate="no">get_notice!(id, params \\ nil, opts \\ nil)</a>

      </div>

        <div class="summary-synopsis"><p>Calls the read action on EhsEnforcement.Enforcement.Notice.
Raises any errors instead of returning them</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#get_offender/3" data-no-tooltip="" translate="no">get_offender(id, params \\ nil, opts \\ nil)</a>

      </div>

        <div class="summary-synopsis"><p>Calls the read action on EhsEnforcement.Enforcement.Offender.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#get_offender!/3" data-no-tooltip="" translate="no">get_offender!(id, params \\ nil, opts \\ nil)</a>

      </div>

        <div class="summary-synopsis"><p>Calls the read action on EhsEnforcement.Enforcement.Offender.
Raises any errors instead of returning them</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#get_offender_by_name_and_postcode/2" data-no-tooltip="" translate="no">get_offender_by_name_and_postcode(name, postcode)</a>

      </div>

        <div class="summary-synopsis"><p>Code Interface Functions</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#get_performance_stats/0" data-no-tooltip="" translate="no">get_performance_stats()</a>

      </div>

        <div class="summary-synopsis"><p>Get query performance statistics for monitoring dashboards.
This could be extended to track metrics in ETS/database for reporting.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#init_cache/0" data-no-tooltip="" translate="no">init_cache()</a>

      </div>

        <div class="summary-synopsis"><p>Initialize the cache table. Called during application startup.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#list_agencies/2" data-no-tooltip="" translate="no">list_agencies(params \\ nil, opts \\ nil)</a>

      </div>

        <div class="summary-synopsis"><p>Calls the read action on EhsEnforcement.Enforcement.Agency.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#list_agencies!/2" data-no-tooltip="" translate="no">list_agencies!(params \\ nil, opts \\ nil)</a>

      </div>

        <div class="summary-synopsis"><p>Calls the read action on EhsEnforcement.Enforcement.Agency.
Raises any errors instead of returning them</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#list_breaches/2" data-no-tooltip="" translate="no">list_breaches(params \\ nil, opts \\ nil)</a>

      </div>

        <div class="summary-synopsis"><p>Calls the read action on EhsEnforcement.Enforcement.Breach.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#list_breaches!/2" data-no-tooltip="" translate="no">list_breaches!(params \\ nil, opts \\ nil)</a>

      </div>

        <div class="summary-synopsis"><p>Calls the read action on EhsEnforcement.Enforcement.Breach.
Raises any errors instead of returning them</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#list_cases/2" data-no-tooltip="" translate="no">list_cases(params \\ nil, opts \\ nil)</a>

      </div>

        <div class="summary-synopsis"><p>Calls the read action on EhsEnforcement.Enforcement.Case.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#list_cases!/2" data-no-tooltip="" translate="no">list_cases!(params \\ nil, opts \\ nil)</a>

      </div>

        <div class="summary-synopsis"><p>Calls the read action on EhsEnforcement.Enforcement.Case.
Raises any errors instead of returning them</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#list_cases_by_date_range/4" data-no-tooltip="" translate="no">list_cases_by_date_range(from_date, to_date, params \\ nil, opts \\ nil)</a>

      </div>

        <div class="summary-synopsis"><p>Calls the by_date_range action on EhsEnforcement.Enforcement.Case.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#list_cases_by_date_range!/4" data-no-tooltip="" translate="no">list_cases_by_date_range!(from_date, to_date, params \\ nil, opts \\ nil)</a>

      </div>

        <div class="summary-synopsis"><p>Calls the by_date_range action on EhsEnforcement.Enforcement.Case.
Raises any errors instead of returning them</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#list_cases_with_filters/1" data-no-tooltip="" translate="no">list_cases_with_filters(opts \\ [])</a>

      </div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#list_cases_with_filters!/1" data-no-tooltip="" translate="no">list_cases_with_filters!(opts \\ [])</a>

      </div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#list_cases_with_filters_cached!/1" data-no-tooltip="" translate="no">list_cases_with_filters_cached!(opts \\ [])</a>

      </div>

        <div class="summary-synopsis"><p>Cached version of list_cases_with_filters! for frequently used filter combinations.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#list_cases_with_filters_monitored!/1" data-no-tooltip="" translate="no">list_cases_with_filters_monitored!(opts \\ [])</a>

      </div>

        <div class="summary-synopsis"><p>Monitored version of list_cases_with_filters! that logs slow queries.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#list_notices/2" data-no-tooltip="" translate="no">list_notices(params \\ nil, opts \\ nil)</a>

      </div>

        <div class="summary-synopsis"><p>Calls the read action on EhsEnforcement.Enforcement.Notice.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#list_notices!/2" data-no-tooltip="" translate="no">list_notices!(params \\ nil, opts \\ nil)</a>

      </div>

        <div class="summary-synopsis"><p>Calls the read action on EhsEnforcement.Enforcement.Notice.
Raises any errors instead of returning them</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#list_notices_with_filters!/1" data-no-tooltip="" translate="no">list_notices_with_filters!(opts \\ [])</a>

      </div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#list_notices_with_filters_cached!/1" data-no-tooltip="" translate="no">list_notices_with_filters_cached!(opts \\ [])</a>

      </div>

        <div class="summary-synopsis"><p>Cached version of list_notices_with_filters! for frequently used filter combinations.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#list_notices_with_filters_monitored!/1" data-no-tooltip="" translate="no">list_notices_with_filters_monitored!(opts \\ [])</a>

      </div>

        <div class="summary-synopsis"><p>Monitored version of list_notices_with_filters! that logs slow queries.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#list_offenders/2" data-no-tooltip="" translate="no">list_offenders(params \\ nil, opts \\ nil)</a>

      </div>

        <div class="summary-synopsis"><p>Calls the read action on EhsEnforcement.Enforcement.Offender.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#list_offenders!/2" data-no-tooltip="" translate="no">list_offenders!(params \\ nil, opts \\ nil)</a>

      </div>

        <div class="summary-synopsis"><p>Calls the read action on EhsEnforcement.Enforcement.Offender.
Raises any errors instead of returning them</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#query_to_get_agency/3" data-no-tooltip="" translate="no">query_to_get_agency(id, params_or_opts \\ %{}, opts \\ [])</a>

      </div>

        <div class="summary-synopsis"><p>Returns the query corresponding to the action.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#query_to_get_agency_by_code/3" data-no-tooltip="" translate="no">query_to_get_agency_by_code(code, params_or_opts \\ %{}, opts \\ [])</a>

      </div>

        <div class="summary-synopsis"><p>Returns the query corresponding to the action.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#query_to_get_breach/3" data-no-tooltip="" translate="no">query_to_get_breach(id, params_or_opts \\ %{}, opts \\ [])</a>

      </div>

        <div class="summary-synopsis"><p>Returns the query corresponding to the action.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#query_to_get_case/3" data-no-tooltip="" translate="no">query_to_get_case(id, params_or_opts \\ %{}, opts \\ [])</a>

      </div>

        <div class="summary-synopsis"><p>Returns the query corresponding to the action.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#query_to_get_current_metrics/2" data-no-tooltip="" translate="no">query_to_get_current_metrics(params_or_opts \\ %{}, opts \\ [])</a>

      </div>

        <div class="summary-synopsis"><p>Returns the query corresponding to the action.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#query_to_get_notice/3" data-no-tooltip="" translate="no">query_to_get_notice(id, params_or_opts \\ %{}, opts \\ [])</a>

      </div>

        <div class="summary-synopsis"><p>Returns the query corresponding to the action.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#query_to_get_offender/3" data-no-tooltip="" translate="no">query_to_get_offender(id, params_or_opts \\ %{}, opts \\ [])</a>

      </div>

        <div class="summary-synopsis"><p>Returns the query corresponding to the action.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#query_to_list_agencies/2" data-no-tooltip="" translate="no">query_to_list_agencies(params_or_opts \\ %{}, opts \\ [])</a>

      </div>

        <div class="summary-synopsis"><p>Returns the query corresponding to the action.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#query_to_list_breaches/2" data-no-tooltip="" translate="no">query_to_list_breaches(params_or_opts \\ %{}, opts \\ [])</a>

      </div>

        <div class="summary-synopsis"><p>Returns the query corresponding to the action.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#query_to_list_cases/2" data-no-tooltip="" translate="no">query_to_list_cases(params_or_opts \\ %{}, opts \\ [])</a>

      </div>

        <div class="summary-synopsis"><p>Returns the query corresponding to the action.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#query_to_list_cases_by_date_range/4" data-no-tooltip="" translate="no">query_to_list_cases_by_date_range(from_date, to_date, params_or_opts \\ %{}, opts \\ [])</a>

      </div>

        <div class="summary-synopsis"><p>Returns the query corresponding to the action.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#query_to_list_notices/2" data-no-tooltip="" translate="no">query_to_list_notices(params_or_opts \\ %{}, opts \\ [])</a>

      </div>

        <div class="summary-synopsis"><p>Returns the query corresponding to the action.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#query_to_list_offenders/2" data-no-tooltip="" translate="no">query_to_list_offenders(params_or_opts \\ %{}, opts \\ [])</a>

      </div>

        <div class="summary-synopsis"><p>Returns the query corresponding to the action.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#query_to_search_offenders/3" data-no-tooltip="" translate="no">query_to_search_offenders(query, params_or_opts \\ %{}, opts \\ [])</a>

      </div>

        <div class="summary-synopsis"><p>Returns the query corresponding to the action.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#refresh_metrics/2" data-no-tooltip="" translate="no">refresh_metrics(params \\ nil, opts \\ nil)</a>

      </div>

        <div class="summary-synopsis"><p>Refresh all dashboard metrics by recalculating from current data</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#refresh_metrics!/2" data-no-tooltip="" translate="no">refresh_metrics!(params \\ nil, opts \\ nil)</a>

      </div>

        <div class="summary-synopsis"><p>Refresh all dashboard metrics by recalculating from current data
Raises any errors instead of returning them</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#search_offenders/3" data-no-tooltip="" translate="no">search_offenders(query, params \\ nil, opts \\ nil)</a>

      </div>

        <div class="summary-synopsis"><p>Calls the search action on EhsEnforcement.Enforcement.Offender.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#search_offenders!/3" data-no-tooltip="" translate="no">search_offenders!(query, params \\ nil, opts \\ nil)</a>

      </div>

        <div class="summary-synopsis"><p>Calls the search action on EhsEnforcement.Enforcement.Offender.
Raises any errors instead of returning them</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#sync_case_from_airtable/3" data-no-tooltip="" translate="no">sync_case_from_airtable(record, params \\ nil, opts \\ nil)</a>

      </div>

        <div class="summary-synopsis"><p>Calls the sync_from_airtable action on EhsEnforcement.Enforcement.Case.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#sync_case_from_airtable!/3" data-no-tooltip="" translate="no">sync_case_from_airtable!(record, params \\ nil, opts \\ nil)</a>

      </div>

        <div class="summary-synopsis"><p>Calls the sync_from_airtable action on EhsEnforcement.Enforcement.Case.
Raises any errors instead of returning them</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#update_agency/3" data-no-tooltip="" translate="no">update_agency(record, params \\ nil, opts \\ nil)</a>

      </div>

        <div class="summary-synopsis"><p>Calls the update action on EhsEnforcement.Enforcement.Agency.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#update_agency!/3" data-no-tooltip="" translate="no">update_agency!(record, params \\ nil, opts \\ nil)</a>

      </div>

        <div class="summary-synopsis"><p>Calls the update action on EhsEnforcement.Enforcement.Agency.
Raises any errors instead of returning them</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#update_breach/3" data-no-tooltip="" translate="no">update_breach(record, params \\ nil, opts \\ nil)</a>

      </div>

        <div class="summary-synopsis"><p>Calls the update action on EhsEnforcement.Enforcement.Breach.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#update_breach!/3" data-no-tooltip="" translate="no">update_breach!(record, params \\ nil, opts \\ nil)</a>

      </div>

        <div class="summary-synopsis"><p>Calls the update action on EhsEnforcement.Enforcement.Breach.
Raises any errors instead of returning them</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#update_case/3" data-no-tooltip="" translate="no">update_case(record, params \\ nil, opts \\ nil)</a>

      </div>

        <div class="summary-synopsis"><p>Calls the update action on EhsEnforcement.Enforcement.Case.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#update_case!/3" data-no-tooltip="" translate="no">update_case!(record, params \\ nil, opts \\ nil)</a>

      </div>

        <div class="summary-synopsis"><p>Calls the update action on EhsEnforcement.Enforcement.Case.
Raises any errors instead of returning them</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#update_case_from_scraping/3" data-no-tooltip="" translate="no">update_case_from_scraping(record, params \\ nil, opts \\ nil)</a>

      </div>

        <div class="summary-synopsis"><p>Calls the update_from_scraping action on EhsEnforcement.Enforcement.Case.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#update_case_from_scraping!/3" data-no-tooltip="" translate="no">update_case_from_scraping!(record, params \\ nil, opts \\ nil)</a>

      </div>

        <div class="summary-synopsis"><p>Calls the update_from_scraping action on EhsEnforcement.Enforcement.Case.
Raises any errors instead of returning them</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#update_notice/3" data-no-tooltip="" translate="no">update_notice(record, params \\ nil, opts \\ nil)</a>

      </div>

        <div class="summary-synopsis"><p>Calls the update action on EhsEnforcement.Enforcement.Notice.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#update_notice!/3" data-no-tooltip="" translate="no">update_notice!(record, params \\ nil, opts \\ nil)</a>

      </div>

        <div class="summary-synopsis"><p>Calls the update action on EhsEnforcement.Enforcement.Notice.
Raises any errors instead of returning them</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#update_offender/3" data-no-tooltip="" translate="no">update_offender(record, params \\ nil, opts \\ nil)</a>

      </div>

        <div class="summary-synopsis"><p>Calls the update action on EhsEnforcement.Enforcement.Offender.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#update_offender!/3" data-no-tooltip="" translate="no">update_offender!(record, params \\ nil, opts \\ nil)</a>

      </div>

        <div class="summary-synopsis"><p>Calls the update action on EhsEnforcement.Enforcement.Offender.
Raises any errors instead of returning them</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#update_offender_statistics/3" data-no-tooltip="" translate="no">update_offender_statistics(record, params \\ nil, opts \\ nil)</a>

      </div>

        <div class="summary-synopsis"><p>Calls the update_statistics action on EhsEnforcement.Enforcement.Offender.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#update_offender_statistics!/3" data-no-tooltip="" translate="no">update_offender_statistics!(record, params \\ nil, opts \\ nil)</a>

      </div>

        <div class="summary-synopsis"><p>Calls the update_statistics action on EhsEnforcement.Enforcement.Offender.
Raises any errors instead of returning them</p></div>

    </div>

</div>

  </section>


  <section id="functions" class="details-list">
    <h1 class="section-heading">
      <a class="hover-link" href="#functions">
        <i class="ri-link-m" aria-hidden="true"></i>
      </a>
      <span class="text">Functions</span>
    </h1>
    <div class="functions-list">
<section class="detail" id="bulk_create_cases/2">

    <span id="bulk_create_cases/0"></span>

    <span id="bulk_create_cases/1"></span>

  <div class="detail-header">
    <a href="#bulk_create_cases/2" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">bulk_create_cases(params \\ nil, opts \\ nil)</h1>


    </div>
  </div>

  <section class="docstring">

<p>Batch processing for creating multiple cases efficiently</p><h1>Inputs</h1><ul><li>cases_data</li><li>batch_size</li></ul><h2 id="bulk_create_cases/2-options" class="section-heading"><a href="#bulk_create_cases/2-options" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Options</span></h2><ul><li><code class="inline">:upsert?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If a conflict is found based on the primary key, the record is updated in the database (requires upsert support) The default value is <code class="inline">false</code>.</li><li><code class="inline">:return_skipped_upsert?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If <code class="inline">true</code>, and a record was <em>not</em> upserted because its filter prevented the upsert, the original record (which was <em>not</em> upserted) will be returned. The default value is <code class="inline">false</code>.</li><li><code class="inline">:upsert_identity</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - The identity to use when detecting conflicts for <code class="inline">upsert?</code>, e.g. <code class="inline">upsert_identity: :full_name</code>. By default, the primary key is used. Has no effect if <code class="inline">upsert?: true</code> is not provided</li><li><code class="inline">:upsert_fields</code> - The fields to upsert. If not set, the action's upsert_fields is used, and if that is not set, then any fields not being set to defaults are written.</li><li><code class="inline">:upsert_condition</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - An expression to check if the record should be updated when there's a conflict.</li><li><code class="inline">:timeout</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">timeout/0</code></a>) - A positive integer, or <code class="inline">:infinity</code>. If none is provided, the timeout configured on the domain is used.</li><li><code class="inline">:tracer</code> (one or a list of module that adopts <a href="https://hexdocs.pm/ash/3.5.32/Ash.Tracer.html"><code class="inline">Ash.Tracer</code></a>) - A tracer that implements the <a href="https://hexdocs.pm/ash/3.5.32/Ash.Tracer.html"><code class="inline">Ash.Tracer</code></a> behaviour. See that module for more.</li><li><code class="inline">:action</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - The action to use, either an Action struct or the name of the action</li><li><code class="inline">:authorize?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If an actor option is provided (even if it is <code class="inline">nil</code>), authorization happens automatically. If not, this flag can be used to authorize with no user.</li><li><code class="inline">:context</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">map/0</code></a>) - Context to set on the query, changeset, or input</li><li><code class="inline">:tenant</code> (value that implements the <a href="https://hexdocs.pm/ash/3.5.32/Ash.ToTenant.html"><code class="inline">Ash.ToTenant</code></a> protocol) - A tenant to set on the query or changeset</li><li><code class="inline">:actor</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - If an actor is provided, it will be used in conjunction with the authorizers of a resource to authorize access</li><li><code class="inline">:scope</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A value that implements the <a href="https://hexdocs.pm/ash/3.5.32/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> protocol, for passing around actor/tenant/context in a single value. See <a href="https://hexdocs.pm/ash/3.5.32/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> for more.</li><li><code class="inline">:return_notifications?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Use this if you're running ash actions in your own transaction and you want to manually handle sending notifications.<br/>If a transaction is ongoing, and this is false, notifications will be discarded, otherwise
the return value is <code class="inline">{:ok, result, notifications}</code> (or <code class="inline">{:ok, notifications}</code>)<br/>To send notifications later, use <code class="inline">Ash.Notifier.notify(notifications)</code>. It sends any notifications
that can be sent, and returns the rest. The default value is <code class="inline">false</code>.</li><li><code class="inline">:rollback_on_error?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to rollback the transaction on error, if the resource is in a transaction.<br/>If the action has <code class="inline">transaction? false</code> this option has no effect. If an error is returned from the
data layer and the resource is in a transaction, the transaction is always rolled back, regardless. The default value is <code class="inline">true</code>.</li><li><code class="inline">:notification_metadata</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - Metadata to be merged into the metadata field for all notifications sent from this operation. The default value is <code class="inline">%{}</code>.</li><li><code class="inline">:skip_unknown_inputs</code> - A list of inputs that, if provided, will be ignored if they are not recognized by the action. Use <code class="inline">:*</code> to indicate all unknown keys.</li><li><code class="inline">:load</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A load statement to add onto the changeset</li><li><code class="inline">:changeset</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A changeset to seed the action with.</li><li><code class="inline">:bulk_options</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">keyword/0</code></a>) - Options passed to <code class="inline">Ash.bulk_create</code>, if a list or stream of inputs is provided.<ul><li><code class="inline">:select</code> (list of <a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - A select statement to apply to records. Ignored if <code class="inline">return_records?</code> is not true.</li><li><code class="inline">:after_action</code> (function of arity 2) - An after_action hook to be added to each processed changeset</li><li><code class="inline">:read_action</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - The action to use when building the read query.</li><li><code class="inline">:assume_casted?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to cast attributes and arguments as input. This is an optimization for cases where the input is already casted and/or not in need of casting The default value is <code class="inline">false</code>.</li><li><code class="inline">:select</code> (list of <a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - A select statement to apply to records. Ignored if <code class="inline">return_records?</code> is not true.</li><li><code class="inline">:authorize_query_with</code> - If set to <code class="inline">:error</code>, instead of filtering unauthorized query results, unauthorized query results will raise an appropriate forbidden error. Uses <code class="inline">authorize_with</code> if not set.</li><li><code class="inline">:authorize_changeset_with</code> - If set to <code class="inline">:error</code>, instead of filtering unauthorized changes, unauthorized changes will raise an appropriate forbidden error. Uses <code class="inline">authorize_with</code> if not set.</li><li><code class="inline">:authorize_with</code> - If set to <code class="inline">:error</code>, instead of filtering unauthorized query results, unauthorized query results will raise an appropriate forbidden error. The default value is <code class="inline">:filter</code>.</li><li><code class="inline">:private_arguments</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">map/0</code></a>) - Private argument values to set on each changeset before validations and changes are run. The default value is <code class="inline">%{}</code>.</li><li><code class="inline">:sorted?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to sort results by their input position, in cases where <code class="inline">return_records?: true</code> was provided. The default value is <code class="inline">false</code>.</li><li><code class="inline">:return_records?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to return all of the records that were inserted. Defaults to false to account for large inserts. The default value is <code class="inline">false</code>.</li><li><code class="inline">:return_errors?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether to return all errors that occur during the operation. Defaults to the value of <code class="inline">:bulk_actions_default_to_errors?</code> in your config, or <code class="inline">false</code> if not set. Returning all errors may be expensive for large inserts. The default value is <code class="inline">false</code>.</li><li><code class="inline">:batch_size</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">pos_integer/0</code></a>) - The number of records to include in each batch. Defaults to the <code class="inline">default_limit</code>
or <code class="inline">max_page_size</code> of the action, or 100.</li><li><code class="inline">:return_stream?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If set to <code class="inline">true</code>, instead of an <a href="https://hexdocs.pm/ash/3.5.32/Ash.BulkResult.html"><code class="inline">Ash.BulkResult</code></a>, a mixed stream is returned.
Potential elements:
<code class="inline">{:notification, notification}</code> - if <code class="inline">return_notifications?</code> is set to <code class="inline">true</code>
<code class="inline">{:ok, record}</code> - if <code class="inline">return_records?</code> is set to <code class="inline">true</code>
<code class="inline">{:error, error}</code> - an error that occurred. May be changeset or an individual error.
The default value is <code class="inline">false</code>.</li><li><code class="inline">:return_nothing?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Mutes warnings about returning nothing.
Only relevant if <code class="inline">return_stream?</code> is set to <code class="inline">true</code> and all other
<code class="inline">return_*?</code> options are set to <code class="inline">false</code>.
The default value is <code class="inline">false</code>.</li><li><code class="inline">:stop_on_error?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If true, the first encountered error will stop the action and be returned. Otherwise, errors
will be skipped. The default value is <code class="inline">false</code>.</li><li><code class="inline">:notify?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to generate any notifications. If this is set to <code class="inline">true</code> then the data layer must return
the results from each batch. This may be intensive for large bulk actions.
Notifications will be automatically sent unless <code class="inline">return_notifications?</code> is set to <code class="inline">true</code>.
The default value is <code class="inline">false</code>.</li><li><code class="inline">:transaction</code> - Whether or not to wrap the entire execution in a transaction, each batch, or not at all.
Keep in mind:
<code class="inline">before_transaction</code> and <code class="inline">after_transaction</code> hooks attached to changesets will have to be run
<em>inside</em> the transaction if you choose <code class="inline">transaction: :all</code>.
The default value is <code class="inline">:batch</code>.</li><li><code class="inline">:max_concurrency</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">non_neg_integer/0</code></a>) - If set to a value greater than 0, up to that many tasks will be started to run batches asynchronously The default value is <code class="inline">0</code>.</li></ul></li><li><code class="inline">:private_arguments</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">map/0</code></a>) - Private argument values to set before validations and changes. The default value is <code class="inline">%{}</code>.</li></ul>
  </section>
</section>
<section class="detail" id="bulk_create_cases!/2">

    <span id="bulk_create_cases!/0"></span>

    <span id="bulk_create_cases!/1"></span>

  <div class="detail-header">
    <a href="#bulk_create_cases!/2" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">bulk_create_cases!(params \\ nil, opts \\ nil)</h1>


    </div>
  </div>

  <section class="docstring">

<p>Batch processing for creating multiple cases efficiently
Raises any errors instead of returning them</p><h1>Inputs</h1><ul><li>cases_data</li><li>batch_size</li></ul><h2 id="bulk_create_cases!/2-options" class="section-heading"><a href="#bulk_create_cases!/2-options" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Options</span></h2><ul><li><code class="inline">:upsert?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If a conflict is found based on the primary key, the record is updated in the database (requires upsert support) The default value is <code class="inline">false</code>.</li><li><code class="inline">:return_skipped_upsert?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If <code class="inline">true</code>, and a record was <em>not</em> upserted because its filter prevented the upsert, the original record (which was <em>not</em> upserted) will be returned. The default value is <code class="inline">false</code>.</li><li><code class="inline">:upsert_identity</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - The identity to use when detecting conflicts for <code class="inline">upsert?</code>, e.g. <code class="inline">upsert_identity: :full_name</code>. By default, the primary key is used. Has no effect if <code class="inline">upsert?: true</code> is not provided</li><li><code class="inline">:upsert_fields</code> - The fields to upsert. If not set, the action's upsert_fields is used, and if that is not set, then any fields not being set to defaults are written.</li><li><code class="inline">:upsert_condition</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - An expression to check if the record should be updated when there's a conflict.</li><li><code class="inline">:timeout</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">timeout/0</code></a>) - A positive integer, or <code class="inline">:infinity</code>. If none is provided, the timeout configured on the domain is used.</li><li><code class="inline">:tracer</code> (one or a list of module that adopts <a href="https://hexdocs.pm/ash/3.5.32/Ash.Tracer.html"><code class="inline">Ash.Tracer</code></a>) - A tracer that implements the <a href="https://hexdocs.pm/ash/3.5.32/Ash.Tracer.html"><code class="inline">Ash.Tracer</code></a> behaviour. See that module for more.</li><li><code class="inline">:action</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - The action to use, either an Action struct or the name of the action</li><li><code class="inline">:authorize?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If an actor option is provided (even if it is <code class="inline">nil</code>), authorization happens automatically. If not, this flag can be used to authorize with no user.</li><li><code class="inline">:context</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">map/0</code></a>) - Context to set on the query, changeset, or input</li><li><code class="inline">:tenant</code> (value that implements the <a href="https://hexdocs.pm/ash/3.5.32/Ash.ToTenant.html"><code class="inline">Ash.ToTenant</code></a> protocol) - A tenant to set on the query or changeset</li><li><code class="inline">:actor</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - If an actor is provided, it will be used in conjunction with the authorizers of a resource to authorize access</li><li><code class="inline">:scope</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A value that implements the <a href="https://hexdocs.pm/ash/3.5.32/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> protocol, for passing around actor/tenant/context in a single value. See <a href="https://hexdocs.pm/ash/3.5.32/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> for more.</li><li><code class="inline">:return_notifications?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Use this if you're running ash actions in your own transaction and you want to manually handle sending notifications.<br/>If a transaction is ongoing, and this is false, notifications will be discarded, otherwise
the return value is <code class="inline">{:ok, result, notifications}</code> (or <code class="inline">{:ok, notifications}</code>)<br/>To send notifications later, use <code class="inline">Ash.Notifier.notify(notifications)</code>. It sends any notifications
that can be sent, and returns the rest. The default value is <code class="inline">false</code>.</li><li><code class="inline">:rollback_on_error?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to rollback the transaction on error, if the resource is in a transaction.<br/>If the action has <code class="inline">transaction? false</code> this option has no effect. If an error is returned from the
data layer and the resource is in a transaction, the transaction is always rolled back, regardless. The default value is <code class="inline">true</code>.</li><li><code class="inline">:notification_metadata</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - Metadata to be merged into the metadata field for all notifications sent from this operation. The default value is <code class="inline">%{}</code>.</li><li><code class="inline">:skip_unknown_inputs</code> - A list of inputs that, if provided, will be ignored if they are not recognized by the action. Use <code class="inline">:*</code> to indicate all unknown keys.</li><li><code class="inline">:load</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A load statement to add onto the changeset</li><li><code class="inline">:changeset</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A changeset to seed the action with.</li><li><code class="inline">:bulk_options</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">keyword/0</code></a>) - Options passed to <code class="inline">Ash.bulk_create</code>, if a list or stream of inputs is provided.<ul><li><code class="inline">:select</code> (list of <a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - A select statement to apply to records. Ignored if <code class="inline">return_records?</code> is not true.</li><li><code class="inline">:after_action</code> (function of arity 2) - An after_action hook to be added to each processed changeset</li><li><code class="inline">:read_action</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - The action to use when building the read query.</li><li><code class="inline">:assume_casted?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to cast attributes and arguments as input. This is an optimization for cases where the input is already casted and/or not in need of casting The default value is <code class="inline">false</code>.</li><li><code class="inline">:select</code> (list of <a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - A select statement to apply to records. Ignored if <code class="inline">return_records?</code> is not true.</li><li><code class="inline">:authorize_query_with</code> - If set to <code class="inline">:error</code>, instead of filtering unauthorized query results, unauthorized query results will raise an appropriate forbidden error. Uses <code class="inline">authorize_with</code> if not set.</li><li><code class="inline">:authorize_changeset_with</code> - If set to <code class="inline">:error</code>, instead of filtering unauthorized changes, unauthorized changes will raise an appropriate forbidden error. Uses <code class="inline">authorize_with</code> if not set.</li><li><code class="inline">:authorize_with</code> - If set to <code class="inline">:error</code>, instead of filtering unauthorized query results, unauthorized query results will raise an appropriate forbidden error. The default value is <code class="inline">:filter</code>.</li><li><code class="inline">:private_arguments</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">map/0</code></a>) - Private argument values to set on each changeset before validations and changes are run. The default value is <code class="inline">%{}</code>.</li><li><code class="inline">:sorted?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to sort results by their input position, in cases where <code class="inline">return_records?: true</code> was provided. The default value is <code class="inline">false</code>.</li><li><code class="inline">:return_records?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to return all of the records that were inserted. Defaults to false to account for large inserts. The default value is <code class="inline">false</code>.</li><li><code class="inline">:return_errors?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether to return all errors that occur during the operation. Defaults to the value of <code class="inline">:bulk_actions_default_to_errors?</code> in your config, or <code class="inline">false</code> if not set. Returning all errors may be expensive for large inserts. The default value is <code class="inline">false</code>.</li><li><code class="inline">:batch_size</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">pos_integer/0</code></a>) - The number of records to include in each batch. Defaults to the <code class="inline">default_limit</code>
or <code class="inline">max_page_size</code> of the action, or 100.</li><li><code class="inline">:return_stream?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If set to <code class="inline">true</code>, instead of an <a href="https://hexdocs.pm/ash/3.5.32/Ash.BulkResult.html"><code class="inline">Ash.BulkResult</code></a>, a mixed stream is returned.
Potential elements:
<code class="inline">{:notification, notification}</code> - if <code class="inline">return_notifications?</code> is set to <code class="inline">true</code>
<code class="inline">{:ok, record}</code> - if <code class="inline">return_records?</code> is set to <code class="inline">true</code>
<code class="inline">{:error, error}</code> - an error that occurred. May be changeset or an individual error.
The default value is <code class="inline">false</code>.</li><li><code class="inline">:return_nothing?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Mutes warnings about returning nothing.
Only relevant if <code class="inline">return_stream?</code> is set to <code class="inline">true</code> and all other
<code class="inline">return_*?</code> options are set to <code class="inline">false</code>.
The default value is <code class="inline">false</code>.</li><li><code class="inline">:stop_on_error?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If true, the first encountered error will stop the action and be returned. Otherwise, errors
will be skipped. The default value is <code class="inline">false</code>.</li><li><code class="inline">:notify?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to generate any notifications. If this is set to <code class="inline">true</code> then the data layer must return
the results from each batch. This may be intensive for large bulk actions.
Notifications will be automatically sent unless <code class="inline">return_notifications?</code> is set to <code class="inline">true</code>.
The default value is <code class="inline">false</code>.</li><li><code class="inline">:transaction</code> - Whether or not to wrap the entire execution in a transaction, each batch, or not at all.
Keep in mind:
<code class="inline">before_transaction</code> and <code class="inline">after_transaction</code> hooks attached to changesets will have to be run
<em>inside</em> the transaction if you choose <code class="inline">transaction: :all</code>.
The default value is <code class="inline">:batch</code>.</li><li><code class="inline">:max_concurrency</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">non_neg_integer/0</code></a>) - If set to a value greater than 0, up to that many tasks will be started to run batches asynchronously The default value is <code class="inline">0</code>.</li></ul></li><li><code class="inline">:private_arguments</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">map/0</code></a>) - Private argument values to set before validations and changes. The default value is <code class="inline">%{}</code>.</li></ul>
  </section>
</section>
<section class="detail" id="can_bulk_create_cases/3">

    <span id="can_bulk_create_cases/1"></span>

    <span id="can_bulk_create_cases/2"></span>

  <div class="detail-header">
    <a href="#can_bulk_create_cases/3" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">can_bulk_create_cases(actor, params_or_opts \\ %{}, opts \\ [])</h1>


    </div>
  </div>

  <section class="docstring">

<p>Runs authorization checks for <code class="inline">EhsEnforcement.Enforcement.Case.bulk_create</code>
See <a href="https://hexdocs.pm/ash/3.5.32/Ash.html#can/3"><code class="inline">Ash.can/3</code></a> for more information</p><h2 id="can_bulk_create_cases/3-options" class="section-heading"><a href="#can_bulk_create_cases/3-options" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Options</span></h2><ul><li><code class="inline">:maybe_is</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - If the actor <em>may</em> be able to perform the action, what value should be returned. The default value is <code class="inline">:maybe</code>.</li><li><code class="inline">:filter_with</code> - If set to <code class="inline">:error</code>, the query will raise an error on a match. If set to <code class="inline">:filter</code> the query will filter out unauthorized access. Valid values are :filter, :error The default value is <code class="inline">:filter</code>.</li><li><code class="inline">:validate?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to treat an invalid action as a non-allowed action. The default value is <code class="inline">false</code>.</li><li><code class="inline">:reuse_values?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not loaded data like aggregates, calculations and relationships should be checked in memory if possible, instead of querying. No effect if <code class="inline">pre_flight?</code> is <code class="inline">false</code>. The default value is <code class="inline">false</code>.</li><li><code class="inline">:pre_flight?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not this is a pre_flight check (which may perform optimized in-memory checks) or the final proper check. The default value is <code class="inline">true</code>.</li><li><code class="inline">:scope</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A value that implements the <a href="https://hexdocs.pm/ash/3.5.32/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> protocol. Will overwrite any actor, tenant or context provided. See <a href="https://hexdocs.pm/ash/3.5.32/Ash.Context.html"><code class="inline">Ash.Context</code></a> for more.</li><li><code class="inline">:run_queries?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to run queries. If set to <code class="inline">true</code>, <code class="inline">:maybe</code> will not be returned. The default value is <code class="inline">true</code>.</li><li><code class="inline">:data</code> - The record or records specifically attempting to be acted upon.</li><li><code class="inline">:tenant</code> (value that implements the <a href="https://hexdocs.pm/ash/3.5.32/Ash.ToTenant.html"><code class="inline">Ash.ToTenant</code></a> protocol) - The tenant to use for authorization</li><li><code class="inline">:alter_source?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If set to <code class="inline">true</code>, the source being authorized is returned so it can be run. The default value is <code class="inline">false</code>.</li><li><code class="inline">:base_query</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A base query on which to apply an generated filters</li><li><code class="inline">:no_check?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not authorization must pass at the strict/filter step, or if post-checks are allowed to be run The default value is <code class="inline">false</code>.</li><li><code class="inline">:on_must_pass_strict_check</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - Override the value returned when <code class="inline">no_check?</code> is <code class="inline">true</code> but a check must be run.</li><li><code class="inline">:atomic_changeset</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A base query on which to apply an generated filters</li><li><code class="inline">:return_forbidden_error?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to return a forbidden error in cases of not being authorized. The default value is <code class="inline">false</code>.</li></ul>
  </section>
</section>
<section class="detail" id="can_bulk_create_cases?/3">

    <span id="can_bulk_create_cases?/1"></span>

    <span id="can_bulk_create_cases?/2"></span>

  <div class="detail-header">
    <a href="#can_bulk_create_cases?/3" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">can_bulk_create_cases?(actor, params_or_opts \\ %{}, opts \\ [])</h1>


    </div>
  </div>

  <section class="docstring">

<p>Runs authorization checks for <code class="inline">EhsEnforcement.Enforcement.Case.bulk_create</code>, returning a boolean.
See <a href="https://hexdocs.pm/ash/3.5.32/Ash.html#can?/3"><code class="inline">Ash.can?/3</code></a> for more information</p><h2 id="can_bulk_create_cases?/3-options" class="section-heading"><a href="#can_bulk_create_cases?/3-options" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Options</span></h2><ul><li><code class="inline">:maybe_is</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - If the actor <em>may</em> be able to perform the action, what value should be returned. The default value is <code class="inline">true</code>.</li><li><code class="inline">:filter_with</code> - If set to <code class="inline">:error</code>, the query will raise an error on a match. If set to <code class="inline">:filter</code> the query will filter out unauthorized access. Valid values are :filter, :error The default value is <code class="inline">:filter</code>.</li><li><code class="inline">:validate?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to treat an invalid action as a non-allowed action. The default value is <code class="inline">false</code>.</li><li><code class="inline">:reuse_values?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not loaded data like aggregates, calculations and relationships should be checked in memory if possible, instead of querying. No effect if <code class="inline">pre_flight?</code> is <code class="inline">false</code>. The default value is <code class="inline">false</code>.</li><li><code class="inline">:pre_flight?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not this is a pre_flight check (which may perform optimized in-memory checks) or the final proper check. The default value is <code class="inline">true</code>.</li><li><code class="inline">:scope</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A value that implements the <a href="https://hexdocs.pm/ash/3.5.32/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> protocol. Will overwrite any actor, tenant or context provided. See <a href="https://hexdocs.pm/ash/3.5.32/Ash.Context.html"><code class="inline">Ash.Context</code></a> for more.</li><li><code class="inline">:run_queries?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to run queries. If set to <code class="inline">true</code>, <code class="inline">:maybe</code> will not be returned. The default value is <code class="inline">true</code>.</li><li><code class="inline">:data</code> - The record or records specifically attempting to be acted upon.</li><li><code class="inline">:tenant</code> (value that implements the <a href="https://hexdocs.pm/ash/3.5.32/Ash.ToTenant.html"><code class="inline">Ash.ToTenant</code></a> protocol) - The tenant to use for authorization</li><li><code class="inline">:alter_source?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If set to <code class="inline">true</code>, the source being authorized is returned so it can be run. The default value is <code class="inline">false</code>.</li><li><code class="inline">:base_query</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A base query on which to apply an generated filters</li><li><code class="inline">:no_check?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not authorization must pass at the strict/filter step, or if post-checks are allowed to be run The default value is <code class="inline">false</code>.</li><li><code class="inline">:on_must_pass_strict_check</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - Override the value returned when <code class="inline">no_check?</code> is <code class="inline">true</code> but a check must be run.</li><li><code class="inline">:atomic_changeset</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A base query on which to apply an generated filters</li><li><code class="inline">:return_forbidden_error?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to return a forbidden error in cases of not being authorized. The default value is <code class="inline">false</code>.</li></ul>
  </section>
</section>
<section class="detail" id="can_create_agency/3">

    <span id="can_create_agency/1"></span>

    <span id="can_create_agency/2"></span>

  <div class="detail-header">
    <a href="#can_create_agency/3" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">can_create_agency(actor, params_or_opts \\ %{}, opts \\ [])</h1>


    </div>
  </div>

  <section class="docstring">

<p>Runs authorization checks for <code class="inline">EhsEnforcement.Enforcement.Agency.create</code>
See <a href="https://hexdocs.pm/ash/3.5.32/Ash.html#can/3"><code class="inline">Ash.can/3</code></a> for more information</p><h2 id="can_create_agency/3-options" class="section-heading"><a href="#can_create_agency/3-options" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Options</span></h2><ul><li><code class="inline">:maybe_is</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - If the actor <em>may</em> be able to perform the action, what value should be returned. The default value is <code class="inline">:maybe</code>.</li><li><code class="inline">:filter_with</code> - If set to <code class="inline">:error</code>, the query will raise an error on a match. If set to <code class="inline">:filter</code> the query will filter out unauthorized access. Valid values are :filter, :error The default value is <code class="inline">:filter</code>.</li><li><code class="inline">:validate?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to treat an invalid action as a non-allowed action. The default value is <code class="inline">false</code>.</li><li><code class="inline">:reuse_values?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not loaded data like aggregates, calculations and relationships should be checked in memory if possible, instead of querying. No effect if <code class="inline">pre_flight?</code> is <code class="inline">false</code>. The default value is <code class="inline">false</code>.</li><li><code class="inline">:pre_flight?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not this is a pre_flight check (which may perform optimized in-memory checks) or the final proper check. The default value is <code class="inline">true</code>.</li><li><code class="inline">:scope</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A value that implements the <a href="https://hexdocs.pm/ash/3.5.32/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> protocol. Will overwrite any actor, tenant or context provided. See <a href="https://hexdocs.pm/ash/3.5.32/Ash.Context.html"><code class="inline">Ash.Context</code></a> for more.</li><li><code class="inline">:run_queries?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to run queries. If set to <code class="inline">true</code>, <code class="inline">:maybe</code> will not be returned. The default value is <code class="inline">true</code>.</li><li><code class="inline">:data</code> - The record or records specifically attempting to be acted upon.</li><li><code class="inline">:tenant</code> (value that implements the <a href="https://hexdocs.pm/ash/3.5.32/Ash.ToTenant.html"><code class="inline">Ash.ToTenant</code></a> protocol) - The tenant to use for authorization</li><li><code class="inline">:alter_source?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If set to <code class="inline">true</code>, the source being authorized is returned so it can be run. The default value is <code class="inline">false</code>.</li><li><code class="inline">:base_query</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A base query on which to apply an generated filters</li><li><code class="inline">:no_check?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not authorization must pass at the strict/filter step, or if post-checks are allowed to be run The default value is <code class="inline">false</code>.</li><li><code class="inline">:on_must_pass_strict_check</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - Override the value returned when <code class="inline">no_check?</code> is <code class="inline">true</code> but a check must be run.</li><li><code class="inline">:atomic_changeset</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A base query on which to apply an generated filters</li><li><code class="inline">:return_forbidden_error?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to return a forbidden error in cases of not being authorized. The default value is <code class="inline">false</code>.</li></ul>
  </section>
</section>
<section class="detail" id="can_create_agency?/3">

    <span id="can_create_agency?/1"></span>

    <span id="can_create_agency?/2"></span>

  <div class="detail-header">
    <a href="#can_create_agency?/3" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">can_create_agency?(actor, params_or_opts \\ %{}, opts \\ [])</h1>


    </div>
  </div>

  <section class="docstring">

<p>Runs authorization checks for <code class="inline">EhsEnforcement.Enforcement.Agency.create</code>, returning a boolean.
See <a href="https://hexdocs.pm/ash/3.5.32/Ash.html#can?/3"><code class="inline">Ash.can?/3</code></a> for more information</p><h2 id="can_create_agency?/3-options" class="section-heading"><a href="#can_create_agency?/3-options" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Options</span></h2><ul><li><code class="inline">:maybe_is</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - If the actor <em>may</em> be able to perform the action, what value should be returned. The default value is <code class="inline">true</code>.</li><li><code class="inline">:filter_with</code> - If set to <code class="inline">:error</code>, the query will raise an error on a match. If set to <code class="inline">:filter</code> the query will filter out unauthorized access. Valid values are :filter, :error The default value is <code class="inline">:filter</code>.</li><li><code class="inline">:validate?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to treat an invalid action as a non-allowed action. The default value is <code class="inline">false</code>.</li><li><code class="inline">:reuse_values?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not loaded data like aggregates, calculations and relationships should be checked in memory if possible, instead of querying. No effect if <code class="inline">pre_flight?</code> is <code class="inline">false</code>. The default value is <code class="inline">false</code>.</li><li><code class="inline">:pre_flight?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not this is a pre_flight check (which may perform optimized in-memory checks) or the final proper check. The default value is <code class="inline">true</code>.</li><li><code class="inline">:scope</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A value that implements the <a href="https://hexdocs.pm/ash/3.5.32/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> protocol. Will overwrite any actor, tenant or context provided. See <a href="https://hexdocs.pm/ash/3.5.32/Ash.Context.html"><code class="inline">Ash.Context</code></a> for more.</li><li><code class="inline">:run_queries?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to run queries. If set to <code class="inline">true</code>, <code class="inline">:maybe</code> will not be returned. The default value is <code class="inline">true</code>.</li><li><code class="inline">:data</code> - The record or records specifically attempting to be acted upon.</li><li><code class="inline">:tenant</code> (value that implements the <a href="https://hexdocs.pm/ash/3.5.32/Ash.ToTenant.html"><code class="inline">Ash.ToTenant</code></a> protocol) - The tenant to use for authorization</li><li><code class="inline">:alter_source?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If set to <code class="inline">true</code>, the source being authorized is returned so it can be run. The default value is <code class="inline">false</code>.</li><li><code class="inline">:base_query</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A base query on which to apply an generated filters</li><li><code class="inline">:no_check?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not authorization must pass at the strict/filter step, or if post-checks are allowed to be run The default value is <code class="inline">false</code>.</li><li><code class="inline">:on_must_pass_strict_check</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - Override the value returned when <code class="inline">no_check?</code> is <code class="inline">true</code> but a check must be run.</li><li><code class="inline">:atomic_changeset</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A base query on which to apply an generated filters</li><li><code class="inline">:return_forbidden_error?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to return a forbidden error in cases of not being authorized. The default value is <code class="inline">false</code>.</li></ul>
  </section>
</section>
<section class="detail" id="can_create_breach/3">

    <span id="can_create_breach/1"></span>

    <span id="can_create_breach/2"></span>

  <div class="detail-header">
    <a href="#can_create_breach/3" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">can_create_breach(actor, params_or_opts \\ %{}, opts \\ [])</h1>


    </div>
  </div>

  <section class="docstring">

<p>Runs authorization checks for <code class="inline">EhsEnforcement.Enforcement.Breach.create</code>
See <a href="https://hexdocs.pm/ash/3.5.32/Ash.html#can/3"><code class="inline">Ash.can/3</code></a> for more information</p><h2 id="can_create_breach/3-options" class="section-heading"><a href="#can_create_breach/3-options" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Options</span></h2><ul><li><code class="inline">:maybe_is</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - If the actor <em>may</em> be able to perform the action, what value should be returned. The default value is <code class="inline">:maybe</code>.</li><li><code class="inline">:filter_with</code> - If set to <code class="inline">:error</code>, the query will raise an error on a match. If set to <code class="inline">:filter</code> the query will filter out unauthorized access. Valid values are :filter, :error The default value is <code class="inline">:filter</code>.</li><li><code class="inline">:validate?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to treat an invalid action as a non-allowed action. The default value is <code class="inline">false</code>.</li><li><code class="inline">:reuse_values?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not loaded data like aggregates, calculations and relationships should be checked in memory if possible, instead of querying. No effect if <code class="inline">pre_flight?</code> is <code class="inline">false</code>. The default value is <code class="inline">false</code>.</li><li><code class="inline">:pre_flight?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not this is a pre_flight check (which may perform optimized in-memory checks) or the final proper check. The default value is <code class="inline">true</code>.</li><li><code class="inline">:scope</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A value that implements the <a href="https://hexdocs.pm/ash/3.5.32/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> protocol. Will overwrite any actor, tenant or context provided. See <a href="https://hexdocs.pm/ash/3.5.32/Ash.Context.html"><code class="inline">Ash.Context</code></a> for more.</li><li><code class="inline">:run_queries?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to run queries. If set to <code class="inline">true</code>, <code class="inline">:maybe</code> will not be returned. The default value is <code class="inline">true</code>.</li><li><code class="inline">:data</code> - The record or records specifically attempting to be acted upon.</li><li><code class="inline">:tenant</code> (value that implements the <a href="https://hexdocs.pm/ash/3.5.32/Ash.ToTenant.html"><code class="inline">Ash.ToTenant</code></a> protocol) - The tenant to use for authorization</li><li><code class="inline">:alter_source?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If set to <code class="inline">true</code>, the source being authorized is returned so it can be run. The default value is <code class="inline">false</code>.</li><li><code class="inline">:base_query</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A base query on which to apply an generated filters</li><li><code class="inline">:no_check?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not authorization must pass at the strict/filter step, or if post-checks are allowed to be run The default value is <code class="inline">false</code>.</li><li><code class="inline">:on_must_pass_strict_check</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - Override the value returned when <code class="inline">no_check?</code> is <code class="inline">true</code> but a check must be run.</li><li><code class="inline">:atomic_changeset</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A base query on which to apply an generated filters</li><li><code class="inline">:return_forbidden_error?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to return a forbidden error in cases of not being authorized. The default value is <code class="inline">false</code>.</li></ul>
  </section>
</section>
<section class="detail" id="can_create_breach?/3">

    <span id="can_create_breach?/1"></span>

    <span id="can_create_breach?/2"></span>

  <div class="detail-header">
    <a href="#can_create_breach?/3" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">can_create_breach?(actor, params_or_opts \\ %{}, opts \\ [])</h1>


    </div>
  </div>

  <section class="docstring">

<p>Runs authorization checks for <code class="inline">EhsEnforcement.Enforcement.Breach.create</code>, returning a boolean.
See <a href="https://hexdocs.pm/ash/3.5.32/Ash.html#can?/3"><code class="inline">Ash.can?/3</code></a> for more information</p><h2 id="can_create_breach?/3-options" class="section-heading"><a href="#can_create_breach?/3-options" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Options</span></h2><ul><li><code class="inline">:maybe_is</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - If the actor <em>may</em> be able to perform the action, what value should be returned. The default value is <code class="inline">true</code>.</li><li><code class="inline">:filter_with</code> - If set to <code class="inline">:error</code>, the query will raise an error on a match. If set to <code class="inline">:filter</code> the query will filter out unauthorized access. Valid values are :filter, :error The default value is <code class="inline">:filter</code>.</li><li><code class="inline">:validate?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to treat an invalid action as a non-allowed action. The default value is <code class="inline">false</code>.</li><li><code class="inline">:reuse_values?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not loaded data like aggregates, calculations and relationships should be checked in memory if possible, instead of querying. No effect if <code class="inline">pre_flight?</code> is <code class="inline">false</code>. The default value is <code class="inline">false</code>.</li><li><code class="inline">:pre_flight?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not this is a pre_flight check (which may perform optimized in-memory checks) or the final proper check. The default value is <code class="inline">true</code>.</li><li><code class="inline">:scope</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A value that implements the <a href="https://hexdocs.pm/ash/3.5.32/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> protocol. Will overwrite any actor, tenant or context provided. See <a href="https://hexdocs.pm/ash/3.5.32/Ash.Context.html"><code class="inline">Ash.Context</code></a> for more.</li><li><code class="inline">:run_queries?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to run queries. If set to <code class="inline">true</code>, <code class="inline">:maybe</code> will not be returned. The default value is <code class="inline">true</code>.</li><li><code class="inline">:data</code> - The record or records specifically attempting to be acted upon.</li><li><code class="inline">:tenant</code> (value that implements the <a href="https://hexdocs.pm/ash/3.5.32/Ash.ToTenant.html"><code class="inline">Ash.ToTenant</code></a> protocol) - The tenant to use for authorization</li><li><code class="inline">:alter_source?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If set to <code class="inline">true</code>, the source being authorized is returned so it can be run. The default value is <code class="inline">false</code>.</li><li><code class="inline">:base_query</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A base query on which to apply an generated filters</li><li><code class="inline">:no_check?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not authorization must pass at the strict/filter step, or if post-checks are allowed to be run The default value is <code class="inline">false</code>.</li><li><code class="inline">:on_must_pass_strict_check</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - Override the value returned when <code class="inline">no_check?</code> is <code class="inline">true</code> but a check must be run.</li><li><code class="inline">:atomic_changeset</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A base query on which to apply an generated filters</li><li><code class="inline">:return_forbidden_error?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to return a forbidden error in cases of not being authorized. The default value is <code class="inline">false</code>.</li></ul>
  </section>
</section>
<section class="detail" id="can_create_case/3">

    <span id="can_create_case/1"></span>

    <span id="can_create_case/2"></span>

  <div class="detail-header">
    <a href="#can_create_case/3" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">can_create_case(actor, params_or_opts \\ %{}, opts \\ [])</h1>


    </div>
  </div>

  <section class="docstring">

<p>Runs authorization checks for <code class="inline">EhsEnforcement.Enforcement.Case.create</code>
See <a href="https://hexdocs.pm/ash/3.5.32/Ash.html#can/3"><code class="inline">Ash.can/3</code></a> for more information</p><h2 id="can_create_case/3-options" class="section-heading"><a href="#can_create_case/3-options" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Options</span></h2><ul><li><code class="inline">:maybe_is</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - If the actor <em>may</em> be able to perform the action, what value should be returned. The default value is <code class="inline">:maybe</code>.</li><li><code class="inline">:filter_with</code> - If set to <code class="inline">:error</code>, the query will raise an error on a match. If set to <code class="inline">:filter</code> the query will filter out unauthorized access. Valid values are :filter, :error The default value is <code class="inline">:filter</code>.</li><li><code class="inline">:validate?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to treat an invalid action as a non-allowed action. The default value is <code class="inline">false</code>.</li><li><code class="inline">:reuse_values?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not loaded data like aggregates, calculations and relationships should be checked in memory if possible, instead of querying. No effect if <code class="inline">pre_flight?</code> is <code class="inline">false</code>. The default value is <code class="inline">false</code>.</li><li><code class="inline">:pre_flight?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not this is a pre_flight check (which may perform optimized in-memory checks) or the final proper check. The default value is <code class="inline">true</code>.</li><li><code class="inline">:scope</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A value that implements the <a href="https://hexdocs.pm/ash/3.5.32/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> protocol. Will overwrite any actor, tenant or context provided. See <a href="https://hexdocs.pm/ash/3.5.32/Ash.Context.html"><code class="inline">Ash.Context</code></a> for more.</li><li><code class="inline">:run_queries?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to run queries. If set to <code class="inline">true</code>, <code class="inline">:maybe</code> will not be returned. The default value is <code class="inline">true</code>.</li><li><code class="inline">:data</code> - The record or records specifically attempting to be acted upon.</li><li><code class="inline">:tenant</code> (value that implements the <a href="https://hexdocs.pm/ash/3.5.32/Ash.ToTenant.html"><code class="inline">Ash.ToTenant</code></a> protocol) - The tenant to use for authorization</li><li><code class="inline">:alter_source?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If set to <code class="inline">true</code>, the source being authorized is returned so it can be run. The default value is <code class="inline">false</code>.</li><li><code class="inline">:base_query</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A base query on which to apply an generated filters</li><li><code class="inline">:no_check?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not authorization must pass at the strict/filter step, or if post-checks are allowed to be run The default value is <code class="inline">false</code>.</li><li><code class="inline">:on_must_pass_strict_check</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - Override the value returned when <code class="inline">no_check?</code> is <code class="inline">true</code> but a check must be run.</li><li><code class="inline">:atomic_changeset</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A base query on which to apply an generated filters</li><li><code class="inline">:return_forbidden_error?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to return a forbidden error in cases of not being authorized. The default value is <code class="inline">false</code>.</li></ul>
  </section>
</section>
<section class="detail" id="can_create_case?/3">

    <span id="can_create_case?/1"></span>

    <span id="can_create_case?/2"></span>

  <div class="detail-header">
    <a href="#can_create_case?/3" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">can_create_case?(actor, params_or_opts \\ %{}, opts \\ [])</h1>


    </div>
  </div>

  <section class="docstring">

<p>Runs authorization checks for <code class="inline">EhsEnforcement.Enforcement.Case.create</code>, returning a boolean.
See <a href="https://hexdocs.pm/ash/3.5.32/Ash.html#can?/3"><code class="inline">Ash.can?/3</code></a> for more information</p><h2 id="can_create_case?/3-options" class="section-heading"><a href="#can_create_case?/3-options" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Options</span></h2><ul><li><code class="inline">:maybe_is</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - If the actor <em>may</em> be able to perform the action, what value should be returned. The default value is <code class="inline">true</code>.</li><li><code class="inline">:filter_with</code> - If set to <code class="inline">:error</code>, the query will raise an error on a match. If set to <code class="inline">:filter</code> the query will filter out unauthorized access. Valid values are :filter, :error The default value is <code class="inline">:filter</code>.</li><li><code class="inline">:validate?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to treat an invalid action as a non-allowed action. The default value is <code class="inline">false</code>.</li><li><code class="inline">:reuse_values?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not loaded data like aggregates, calculations and relationships should be checked in memory if possible, instead of querying. No effect if <code class="inline">pre_flight?</code> is <code class="inline">false</code>. The default value is <code class="inline">false</code>.</li><li><code class="inline">:pre_flight?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not this is a pre_flight check (which may perform optimized in-memory checks) or the final proper check. The default value is <code class="inline">true</code>.</li><li><code class="inline">:scope</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A value that implements the <a href="https://hexdocs.pm/ash/3.5.32/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> protocol. Will overwrite any actor, tenant or context provided. See <a href="https://hexdocs.pm/ash/3.5.32/Ash.Context.html"><code class="inline">Ash.Context</code></a> for more.</li><li><code class="inline">:run_queries?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to run queries. If set to <code class="inline">true</code>, <code class="inline">:maybe</code> will not be returned. The default value is <code class="inline">true</code>.</li><li><code class="inline">:data</code> - The record or records specifically attempting to be acted upon.</li><li><code class="inline">:tenant</code> (value that implements the <a href="https://hexdocs.pm/ash/3.5.32/Ash.ToTenant.html"><code class="inline">Ash.ToTenant</code></a> protocol) - The tenant to use for authorization</li><li><code class="inline">:alter_source?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If set to <code class="inline">true</code>, the source being authorized is returned so it can be run. The default value is <code class="inline">false</code>.</li><li><code class="inline">:base_query</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A base query on which to apply an generated filters</li><li><code class="inline">:no_check?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not authorization must pass at the strict/filter step, or if post-checks are allowed to be run The default value is <code class="inline">false</code>.</li><li><code class="inline">:on_must_pass_strict_check</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - Override the value returned when <code class="inline">no_check?</code> is <code class="inline">true</code> but a check must be run.</li><li><code class="inline">:atomic_changeset</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A base query on which to apply an generated filters</li><li><code class="inline">:return_forbidden_error?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to return a forbidden error in cases of not being authorized. The default value is <code class="inline">false</code>.</li></ul>
  </section>
</section>
<section class="detail" id="can_create_notice/3">

    <span id="can_create_notice/1"></span>

    <span id="can_create_notice/2"></span>

  <div class="detail-header">
    <a href="#can_create_notice/3" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">can_create_notice(actor, params_or_opts \\ %{}, opts \\ [])</h1>


    </div>
  </div>

  <section class="docstring">

<p>Runs authorization checks for <code class="inline">EhsEnforcement.Enforcement.Notice.create</code>
See <a href="https://hexdocs.pm/ash/3.5.32/Ash.html#can/3"><code class="inline">Ash.can/3</code></a> for more information</p><h2 id="can_create_notice/3-options" class="section-heading"><a href="#can_create_notice/3-options" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Options</span></h2><ul><li><code class="inline">:maybe_is</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - If the actor <em>may</em> be able to perform the action, what value should be returned. The default value is <code class="inline">:maybe</code>.</li><li><code class="inline">:filter_with</code> - If set to <code class="inline">:error</code>, the query will raise an error on a match. If set to <code class="inline">:filter</code> the query will filter out unauthorized access. Valid values are :filter, :error The default value is <code class="inline">:filter</code>.</li><li><code class="inline">:validate?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to treat an invalid action as a non-allowed action. The default value is <code class="inline">false</code>.</li><li><code class="inline">:reuse_values?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not loaded data like aggregates, calculations and relationships should be checked in memory if possible, instead of querying. No effect if <code class="inline">pre_flight?</code> is <code class="inline">false</code>. The default value is <code class="inline">false</code>.</li><li><code class="inline">:pre_flight?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not this is a pre_flight check (which may perform optimized in-memory checks) or the final proper check. The default value is <code class="inline">true</code>.</li><li><code class="inline">:scope</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A value that implements the <a href="https://hexdocs.pm/ash/3.5.32/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> protocol. Will overwrite any actor, tenant or context provided. See <a href="https://hexdocs.pm/ash/3.5.32/Ash.Context.html"><code class="inline">Ash.Context</code></a> for more.</li><li><code class="inline">:run_queries?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to run queries. If set to <code class="inline">true</code>, <code class="inline">:maybe</code> will not be returned. The default value is <code class="inline">true</code>.</li><li><code class="inline">:data</code> - The record or records specifically attempting to be acted upon.</li><li><code class="inline">:tenant</code> (value that implements the <a href="https://hexdocs.pm/ash/3.5.32/Ash.ToTenant.html"><code class="inline">Ash.ToTenant</code></a> protocol) - The tenant to use for authorization</li><li><code class="inline">:alter_source?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If set to <code class="inline">true</code>, the source being authorized is returned so it can be run. The default value is <code class="inline">false</code>.</li><li><code class="inline">:base_query</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A base query on which to apply an generated filters</li><li><code class="inline">:no_check?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not authorization must pass at the strict/filter step, or if post-checks are allowed to be run The default value is <code class="inline">false</code>.</li><li><code class="inline">:on_must_pass_strict_check</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - Override the value returned when <code class="inline">no_check?</code> is <code class="inline">true</code> but a check must be run.</li><li><code class="inline">:atomic_changeset</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A base query on which to apply an generated filters</li><li><code class="inline">:return_forbidden_error?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to return a forbidden error in cases of not being authorized. The default value is <code class="inline">false</code>.</li></ul>
  </section>
</section>
<section class="detail" id="can_create_notice?/3">

    <span id="can_create_notice?/1"></span>

    <span id="can_create_notice?/2"></span>

  <div class="detail-header">
    <a href="#can_create_notice?/3" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">can_create_notice?(actor, params_or_opts \\ %{}, opts \\ [])</h1>


    </div>
  </div>

  <section class="docstring">

<p>Runs authorization checks for <code class="inline">EhsEnforcement.Enforcement.Notice.create</code>, returning a boolean.
See <a href="https://hexdocs.pm/ash/3.5.32/Ash.html#can?/3"><code class="inline">Ash.can?/3</code></a> for more information</p><h2 id="can_create_notice?/3-options" class="section-heading"><a href="#can_create_notice?/3-options" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Options</span></h2><ul><li><code class="inline">:maybe_is</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - If the actor <em>may</em> be able to perform the action, what value should be returned. The default value is <code class="inline">true</code>.</li><li><code class="inline">:filter_with</code> - If set to <code class="inline">:error</code>, the query will raise an error on a match. If set to <code class="inline">:filter</code> the query will filter out unauthorized access. Valid values are :filter, :error The default value is <code class="inline">:filter</code>.</li><li><code class="inline">:validate?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to treat an invalid action as a non-allowed action. The default value is <code class="inline">false</code>.</li><li><code class="inline">:reuse_values?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not loaded data like aggregates, calculations and relationships should be checked in memory if possible, instead of querying. No effect if <code class="inline">pre_flight?</code> is <code class="inline">false</code>. The default value is <code class="inline">false</code>.</li><li><code class="inline">:pre_flight?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not this is a pre_flight check (which may perform optimized in-memory checks) or the final proper check. The default value is <code class="inline">true</code>.</li><li><code class="inline">:scope</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A value that implements the <a href="https://hexdocs.pm/ash/3.5.32/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> protocol. Will overwrite any actor, tenant or context provided. See <a href="https://hexdocs.pm/ash/3.5.32/Ash.Context.html"><code class="inline">Ash.Context</code></a> for more.</li><li><code class="inline">:run_queries?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to run queries. If set to <code class="inline">true</code>, <code class="inline">:maybe</code> will not be returned. The default value is <code class="inline">true</code>.</li><li><code class="inline">:data</code> - The record or records specifically attempting to be acted upon.</li><li><code class="inline">:tenant</code> (value that implements the <a href="https://hexdocs.pm/ash/3.5.32/Ash.ToTenant.html"><code class="inline">Ash.ToTenant</code></a> protocol) - The tenant to use for authorization</li><li><code class="inline">:alter_source?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If set to <code class="inline">true</code>, the source being authorized is returned so it can be run. The default value is <code class="inline">false</code>.</li><li><code class="inline">:base_query</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A base query on which to apply an generated filters</li><li><code class="inline">:no_check?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not authorization must pass at the strict/filter step, or if post-checks are allowed to be run The default value is <code class="inline">false</code>.</li><li><code class="inline">:on_must_pass_strict_check</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - Override the value returned when <code class="inline">no_check?</code> is <code class="inline">true</code> but a check must be run.</li><li><code class="inline">:atomic_changeset</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A base query on which to apply an generated filters</li><li><code class="inline">:return_forbidden_error?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to return a forbidden error in cases of not being authorized. The default value is <code class="inline">false</code>.</li></ul>
  </section>
</section>
<section class="detail" id="can_create_offender/3">

    <span id="can_create_offender/1"></span>

    <span id="can_create_offender/2"></span>

  <div class="detail-header">
    <a href="#can_create_offender/3" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">can_create_offender(actor, params_or_opts \\ %{}, opts \\ [])</h1>


    </div>
  </div>

  <section class="docstring">

<p>Runs authorization checks for <code class="inline">EhsEnforcement.Enforcement.Offender.create</code>
See <a href="https://hexdocs.pm/ash/3.5.32/Ash.html#can/3"><code class="inline">Ash.can/3</code></a> for more information</p><h2 id="can_create_offender/3-options" class="section-heading"><a href="#can_create_offender/3-options" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Options</span></h2><ul><li><code class="inline">:maybe_is</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - If the actor <em>may</em> be able to perform the action, what value should be returned. The default value is <code class="inline">:maybe</code>.</li><li><code class="inline">:filter_with</code> - If set to <code class="inline">:error</code>, the query will raise an error on a match. If set to <code class="inline">:filter</code> the query will filter out unauthorized access. Valid values are :filter, :error The default value is <code class="inline">:filter</code>.</li><li><code class="inline">:validate?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to treat an invalid action as a non-allowed action. The default value is <code class="inline">false</code>.</li><li><code class="inline">:reuse_values?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not loaded data like aggregates, calculations and relationships should be checked in memory if possible, instead of querying. No effect if <code class="inline">pre_flight?</code> is <code class="inline">false</code>. The default value is <code class="inline">false</code>.</li><li><code class="inline">:pre_flight?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not this is a pre_flight check (which may perform optimized in-memory checks) or the final proper check. The default value is <code class="inline">true</code>.</li><li><code class="inline">:scope</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A value that implements the <a href="https://hexdocs.pm/ash/3.5.32/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> protocol. Will overwrite any actor, tenant or context provided. See <a href="https://hexdocs.pm/ash/3.5.32/Ash.Context.html"><code class="inline">Ash.Context</code></a> for more.</li><li><code class="inline">:run_queries?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to run queries. If set to <code class="inline">true</code>, <code class="inline">:maybe</code> will not be returned. The default value is <code class="inline">true</code>.</li><li><code class="inline">:data</code> - The record or records specifically attempting to be acted upon.</li><li><code class="inline">:tenant</code> (value that implements the <a href="https://hexdocs.pm/ash/3.5.32/Ash.ToTenant.html"><code class="inline">Ash.ToTenant</code></a> protocol) - The tenant to use for authorization</li><li><code class="inline">:alter_source?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If set to <code class="inline">true</code>, the source being authorized is returned so it can be run. The default value is <code class="inline">false</code>.</li><li><code class="inline">:base_query</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A base query on which to apply an generated filters</li><li><code class="inline">:no_check?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not authorization must pass at the strict/filter step, or if post-checks are allowed to be run The default value is <code class="inline">false</code>.</li><li><code class="inline">:on_must_pass_strict_check</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - Override the value returned when <code class="inline">no_check?</code> is <code class="inline">true</code> but a check must be run.</li><li><code class="inline">:atomic_changeset</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A base query on which to apply an generated filters</li><li><code class="inline">:return_forbidden_error?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to return a forbidden error in cases of not being authorized. The default value is <code class="inline">false</code>.</li></ul>
  </section>
</section>
<section class="detail" id="can_create_offender?/3">

    <span id="can_create_offender?/1"></span>

    <span id="can_create_offender?/2"></span>

  <div class="detail-header">
    <a href="#can_create_offender?/3" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">can_create_offender?(actor, params_or_opts \\ %{}, opts \\ [])</h1>


    </div>
  </div>

  <section class="docstring">

<p>Runs authorization checks for <code class="inline">EhsEnforcement.Enforcement.Offender.create</code>, returning a boolean.
See <a href="https://hexdocs.pm/ash/3.5.32/Ash.html#can?/3"><code class="inline">Ash.can?/3</code></a> for more information</p><h2 id="can_create_offender?/3-options" class="section-heading"><a href="#can_create_offender?/3-options" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Options</span></h2><ul><li><code class="inline">:maybe_is</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - If the actor <em>may</em> be able to perform the action, what value should be returned. The default value is <code class="inline">true</code>.</li><li><code class="inline">:filter_with</code> - If set to <code class="inline">:error</code>, the query will raise an error on a match. If set to <code class="inline">:filter</code> the query will filter out unauthorized access. Valid values are :filter, :error The default value is <code class="inline">:filter</code>.</li><li><code class="inline">:validate?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to treat an invalid action as a non-allowed action. The default value is <code class="inline">false</code>.</li><li><code class="inline">:reuse_values?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not loaded data like aggregates, calculations and relationships should be checked in memory if possible, instead of querying. No effect if <code class="inline">pre_flight?</code> is <code class="inline">false</code>. The default value is <code class="inline">false</code>.</li><li><code class="inline">:pre_flight?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not this is a pre_flight check (which may perform optimized in-memory checks) or the final proper check. The default value is <code class="inline">true</code>.</li><li><code class="inline">:scope</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A value that implements the <a href="https://hexdocs.pm/ash/3.5.32/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> protocol. Will overwrite any actor, tenant or context provided. See <a href="https://hexdocs.pm/ash/3.5.32/Ash.Context.html"><code class="inline">Ash.Context</code></a> for more.</li><li><code class="inline">:run_queries?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to run queries. If set to <code class="inline">true</code>, <code class="inline">:maybe</code> will not be returned. The default value is <code class="inline">true</code>.</li><li><code class="inline">:data</code> - The record or records specifically attempting to be acted upon.</li><li><code class="inline">:tenant</code> (value that implements the <a href="https://hexdocs.pm/ash/3.5.32/Ash.ToTenant.html"><code class="inline">Ash.ToTenant</code></a> protocol) - The tenant to use for authorization</li><li><code class="inline">:alter_source?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If set to <code class="inline">true</code>, the source being authorized is returned so it can be run. The default value is <code class="inline">false</code>.</li><li><code class="inline">:base_query</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A base query on which to apply an generated filters</li><li><code class="inline">:no_check?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not authorization must pass at the strict/filter step, or if post-checks are allowed to be run The default value is <code class="inline">false</code>.</li><li><code class="inline">:on_must_pass_strict_check</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - Override the value returned when <code class="inline">no_check?</code> is <code class="inline">true</code> but a check must be run.</li><li><code class="inline">:atomic_changeset</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A base query on which to apply an generated filters</li><li><code class="inline">:return_forbidden_error?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to return a forbidden error in cases of not being authorized. The default value is <code class="inline">false</code>.</li></ul>
  </section>
</section>
<section class="detail" id="can_destroy_case/4">

    <span id="can_destroy_case/2"></span>

    <span id="can_destroy_case/3"></span>

  <div class="detail-header">
    <a href="#can_destroy_case/4" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">can_destroy_case(actor, record, params_or_opts \\ %{}, opts \\ [])</h1>


    </div>
  </div>

  <section class="docstring">

<p>Runs authorization checks for <code class="inline">EhsEnforcement.Enforcement.Case.destroy</code>
See <a href="https://hexdocs.pm/ash/3.5.32/Ash.html#can/3"><code class="inline">Ash.can/3</code></a> for more information</p><h2 id="can_destroy_case/4-options" class="section-heading"><a href="#can_destroy_case/4-options" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Options</span></h2><ul><li><code class="inline">:maybe_is</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - If the actor <em>may</em> be able to perform the action, what value should be returned. The default value is <code class="inline">:maybe</code>.</li><li><code class="inline">:filter_with</code> - If set to <code class="inline">:error</code>, the query will raise an error on a match. If set to <code class="inline">:filter</code> the query will filter out unauthorized access. Valid values are :filter, :error The default value is <code class="inline">:filter</code>.</li><li><code class="inline">:validate?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to treat an invalid action as a non-allowed action. The default value is <code class="inline">false</code>.</li><li><code class="inline">:reuse_values?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not loaded data like aggregates, calculations and relationships should be checked in memory if possible, instead of querying. No effect if <code class="inline">pre_flight?</code> is <code class="inline">false</code>. The default value is <code class="inline">false</code>.</li><li><code class="inline">:pre_flight?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not this is a pre_flight check (which may perform optimized in-memory checks) or the final proper check. The default value is <code class="inline">true</code>.</li><li><code class="inline">:scope</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A value that implements the <a href="https://hexdocs.pm/ash/3.5.32/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> protocol. Will overwrite any actor, tenant or context provided. See <a href="https://hexdocs.pm/ash/3.5.32/Ash.Context.html"><code class="inline">Ash.Context</code></a> for more.</li><li><code class="inline">:run_queries?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to run queries. If set to <code class="inline">true</code>, <code class="inline">:maybe</code> will not be returned. The default value is <code class="inline">true</code>.</li><li><code class="inline">:data</code> - The record or records specifically attempting to be acted upon.</li><li><code class="inline">:tenant</code> (value that implements the <a href="https://hexdocs.pm/ash/3.5.32/Ash.ToTenant.html"><code class="inline">Ash.ToTenant</code></a> protocol) - The tenant to use for authorization</li><li><code class="inline">:alter_source?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If set to <code class="inline">true</code>, the source being authorized is returned so it can be run. The default value is <code class="inline">false</code>.</li><li><code class="inline">:base_query</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A base query on which to apply an generated filters</li><li><code class="inline">:no_check?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not authorization must pass at the strict/filter step, or if post-checks are allowed to be run The default value is <code class="inline">false</code>.</li><li><code class="inline">:on_must_pass_strict_check</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - Override the value returned when <code class="inline">no_check?</code> is <code class="inline">true</code> but a check must be run.</li><li><code class="inline">:atomic_changeset</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A base query on which to apply an generated filters</li><li><code class="inline">:return_forbidden_error?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to return a forbidden error in cases of not being authorized. The default value is <code class="inline">false</code>.</li></ul>
  </section>
</section>
<section class="detail" id="can_destroy_case?/4">

    <span id="can_destroy_case?/2"></span>

    <span id="can_destroy_case?/3"></span>

  <div class="detail-header">
    <a href="#can_destroy_case?/4" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">can_destroy_case?(actor, record, params_or_opts \\ %{}, opts \\ [])</h1>


    </div>
  </div>

  <section class="docstring">

<p>Runs authorization checks for <code class="inline">EhsEnforcement.Enforcement.Case.destroy</code>, returning a boolean.
See <a href="https://hexdocs.pm/ash/3.5.32/Ash.html#can?/3"><code class="inline">Ash.can?/3</code></a> for more information</p><h2 id="can_destroy_case?/4-options" class="section-heading"><a href="#can_destroy_case?/4-options" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Options</span></h2><ul><li><code class="inline">:maybe_is</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - If the actor <em>may</em> be able to perform the action, what value should be returned. The default value is <code class="inline">true</code>.</li><li><code class="inline">:filter_with</code> - If set to <code class="inline">:error</code>, the query will raise an error on a match. If set to <code class="inline">:filter</code> the query will filter out unauthorized access. Valid values are :filter, :error The default value is <code class="inline">:filter</code>.</li><li><code class="inline">:validate?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to treat an invalid action as a non-allowed action. The default value is <code class="inline">false</code>.</li><li><code class="inline">:reuse_values?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not loaded data like aggregates, calculations and relationships should be checked in memory if possible, instead of querying. No effect if <code class="inline">pre_flight?</code> is <code class="inline">false</code>. The default value is <code class="inline">false</code>.</li><li><code class="inline">:pre_flight?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not this is a pre_flight check (which may perform optimized in-memory checks) or the final proper check. The default value is <code class="inline">true</code>.</li><li><code class="inline">:scope</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A value that implements the <a href="https://hexdocs.pm/ash/3.5.32/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> protocol. Will overwrite any actor, tenant or context provided. See <a href="https://hexdocs.pm/ash/3.5.32/Ash.Context.html"><code class="inline">Ash.Context</code></a> for more.</li><li><code class="inline">:run_queries?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to run queries. If set to <code class="inline">true</code>, <code class="inline">:maybe</code> will not be returned. The default value is <code class="inline">true</code>.</li><li><code class="inline">:data</code> - The record or records specifically attempting to be acted upon.</li><li><code class="inline">:tenant</code> (value that implements the <a href="https://hexdocs.pm/ash/3.5.32/Ash.ToTenant.html"><code class="inline">Ash.ToTenant</code></a> protocol) - The tenant to use for authorization</li><li><code class="inline">:alter_source?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If set to <code class="inline">true</code>, the source being authorized is returned so it can be run. The default value is <code class="inline">false</code>.</li><li><code class="inline">:base_query</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A base query on which to apply an generated filters</li><li><code class="inline">:no_check?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not authorization must pass at the strict/filter step, or if post-checks are allowed to be run The default value is <code class="inline">false</code>.</li><li><code class="inline">:on_must_pass_strict_check</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - Override the value returned when <code class="inline">no_check?</code> is <code class="inline">true</code> but a check must be run.</li><li><code class="inline">:atomic_changeset</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A base query on which to apply an generated filters</li><li><code class="inline">:return_forbidden_error?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to return a forbidden error in cases of not being authorized. The default value is <code class="inline">false</code>.</li></ul>
  </section>
</section>
<section class="detail" id="can_destroy_notice/4">

    <span id="can_destroy_notice/2"></span>

    <span id="can_destroy_notice/3"></span>

  <div class="detail-header">
    <a href="#can_destroy_notice/4" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">can_destroy_notice(actor, record, params_or_opts \\ %{}, opts \\ [])</h1>


    </div>
  </div>

  <section class="docstring">

<p>Runs authorization checks for <code class="inline">EhsEnforcement.Enforcement.Notice.destroy</code>
See <a href="https://hexdocs.pm/ash/3.5.32/Ash.html#can/3"><code class="inline">Ash.can/3</code></a> for more information</p><h2 id="can_destroy_notice/4-options" class="section-heading"><a href="#can_destroy_notice/4-options" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Options</span></h2><ul><li><code class="inline">:maybe_is</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - If the actor <em>may</em> be able to perform the action, what value should be returned. The default value is <code class="inline">:maybe</code>.</li><li><code class="inline">:filter_with</code> - If set to <code class="inline">:error</code>, the query will raise an error on a match. If set to <code class="inline">:filter</code> the query will filter out unauthorized access. Valid values are :filter, :error The default value is <code class="inline">:filter</code>.</li><li><code class="inline">:validate?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to treat an invalid action as a non-allowed action. The default value is <code class="inline">false</code>.</li><li><code class="inline">:reuse_values?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not loaded data like aggregates, calculations and relationships should be checked in memory if possible, instead of querying. No effect if <code class="inline">pre_flight?</code> is <code class="inline">false</code>. The default value is <code class="inline">false</code>.</li><li><code class="inline">:pre_flight?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not this is a pre_flight check (which may perform optimized in-memory checks) or the final proper check. The default value is <code class="inline">true</code>.</li><li><code class="inline">:scope</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A value that implements the <a href="https://hexdocs.pm/ash/3.5.32/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> protocol. Will overwrite any actor, tenant or context provided. See <a href="https://hexdocs.pm/ash/3.5.32/Ash.Context.html"><code class="inline">Ash.Context</code></a> for more.</li><li><code class="inline">:run_queries?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to run queries. If set to <code class="inline">true</code>, <code class="inline">:maybe</code> will not be returned. The default value is <code class="inline">true</code>.</li><li><code class="inline">:data</code> - The record or records specifically attempting to be acted upon.</li><li><code class="inline">:tenant</code> (value that implements the <a href="https://hexdocs.pm/ash/3.5.32/Ash.ToTenant.html"><code class="inline">Ash.ToTenant</code></a> protocol) - The tenant to use for authorization</li><li><code class="inline">:alter_source?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If set to <code class="inline">true</code>, the source being authorized is returned so it can be run. The default value is <code class="inline">false</code>.</li><li><code class="inline">:base_query</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A base query on which to apply an generated filters</li><li><code class="inline">:no_check?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not authorization must pass at the strict/filter step, or if post-checks are allowed to be run The default value is <code class="inline">false</code>.</li><li><code class="inline">:on_must_pass_strict_check</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - Override the value returned when <code class="inline">no_check?</code> is <code class="inline">true</code> but a check must be run.</li><li><code class="inline">:atomic_changeset</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A base query on which to apply an generated filters</li><li><code class="inline">:return_forbidden_error?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to return a forbidden error in cases of not being authorized. The default value is <code class="inline">false</code>.</li></ul>
  </section>
</section>
<section class="detail" id="can_destroy_notice?/4">

    <span id="can_destroy_notice?/2"></span>

    <span id="can_destroy_notice?/3"></span>

  <div class="detail-header">
    <a href="#can_destroy_notice?/4" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">can_destroy_notice?(actor, record, params_or_opts \\ %{}, opts \\ [])</h1>


    </div>
  </div>

  <section class="docstring">

<p>Runs authorization checks for <code class="inline">EhsEnforcement.Enforcement.Notice.destroy</code>, returning a boolean.
See <a href="https://hexdocs.pm/ash/3.5.32/Ash.html#can?/3"><code class="inline">Ash.can?/3</code></a> for more information</p><h2 id="can_destroy_notice?/4-options" class="section-heading"><a href="#can_destroy_notice?/4-options" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Options</span></h2><ul><li><code class="inline">:maybe_is</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - If the actor <em>may</em> be able to perform the action, what value should be returned. The default value is <code class="inline">true</code>.</li><li><code class="inline">:filter_with</code> - If set to <code class="inline">:error</code>, the query will raise an error on a match. If set to <code class="inline">:filter</code> the query will filter out unauthorized access. Valid values are :filter, :error The default value is <code class="inline">:filter</code>.</li><li><code class="inline">:validate?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to treat an invalid action as a non-allowed action. The default value is <code class="inline">false</code>.</li><li><code class="inline">:reuse_values?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not loaded data like aggregates, calculations and relationships should be checked in memory if possible, instead of querying. No effect if <code class="inline">pre_flight?</code> is <code class="inline">false</code>. The default value is <code class="inline">false</code>.</li><li><code class="inline">:pre_flight?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not this is a pre_flight check (which may perform optimized in-memory checks) or the final proper check. The default value is <code class="inline">true</code>.</li><li><code class="inline">:scope</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A value that implements the <a href="https://hexdocs.pm/ash/3.5.32/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> protocol. Will overwrite any actor, tenant or context provided. See <a href="https://hexdocs.pm/ash/3.5.32/Ash.Context.html"><code class="inline">Ash.Context</code></a> for more.</li><li><code class="inline">:run_queries?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to run queries. If set to <code class="inline">true</code>, <code class="inline">:maybe</code> will not be returned. The default value is <code class="inline">true</code>.</li><li><code class="inline">:data</code> - The record or records specifically attempting to be acted upon.</li><li><code class="inline">:tenant</code> (value that implements the <a href="https://hexdocs.pm/ash/3.5.32/Ash.ToTenant.html"><code class="inline">Ash.ToTenant</code></a> protocol) - The tenant to use for authorization</li><li><code class="inline">:alter_source?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If set to <code class="inline">true</code>, the source being authorized is returned so it can be run. The default value is <code class="inline">false</code>.</li><li><code class="inline">:base_query</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A base query on which to apply an generated filters</li><li><code class="inline">:no_check?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not authorization must pass at the strict/filter step, or if post-checks are allowed to be run The default value is <code class="inline">false</code>.</li><li><code class="inline">:on_must_pass_strict_check</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - Override the value returned when <code class="inline">no_check?</code> is <code class="inline">true</code> but a check must be run.</li><li><code class="inline">:atomic_changeset</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A base query on which to apply an generated filters</li><li><code class="inline">:return_forbidden_error?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to return a forbidden error in cases of not being authorized. The default value is <code class="inline">false</code>.</li></ul>
  </section>
</section>
<section class="detail" id="can_get_agency/4">

    <span id="can_get_agency/2"></span>

    <span id="can_get_agency/3"></span>

  <div class="detail-header">
    <a href="#can_get_agency/4" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">can_get_agency(actor, id, params_or_opts \\ %{}, opts \\ [])</h1>


    </div>
  </div>

  <section class="docstring">

<p>Runs authorization checks for <code class="inline">EhsEnforcement.Enforcement.Agency.read</code>
See <a href="https://hexdocs.pm/ash/3.5.32/Ash.html#can/3"><code class="inline">Ash.can/3</code></a> for more information</p><h2 id="can_get_agency/4-options" class="section-heading"><a href="#can_get_agency/4-options" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Options</span></h2><ul><li><code class="inline">:maybe_is</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - If the actor <em>may</em> be able to perform the action, what value should be returned. The default value is <code class="inline">:maybe</code>.</li><li><code class="inline">:filter_with</code> - If set to <code class="inline">:error</code>, the query will raise an error on a match. If set to <code class="inline">:filter</code> the query will filter out unauthorized access. Valid values are :filter, :error The default value is <code class="inline">:filter</code>.</li><li><code class="inline">:validate?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to treat an invalid action as a non-allowed action. The default value is <code class="inline">false</code>.</li><li><code class="inline">:reuse_values?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not loaded data like aggregates, calculations and relationships should be checked in memory if possible, instead of querying. No effect if <code class="inline">pre_flight?</code> is <code class="inline">false</code>. The default value is <code class="inline">false</code>.</li><li><code class="inline">:pre_flight?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not this is a pre_flight check (which may perform optimized in-memory checks) or the final proper check. The default value is <code class="inline">true</code>.</li><li><code class="inline">:scope</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A value that implements the <a href="https://hexdocs.pm/ash/3.5.32/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> protocol. Will overwrite any actor, tenant or context provided. See <a href="https://hexdocs.pm/ash/3.5.32/Ash.Context.html"><code class="inline">Ash.Context</code></a> for more.</li><li><code class="inline">:run_queries?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to run queries. If set to <code class="inline">true</code>, <code class="inline">:maybe</code> will not be returned. The default value is <code class="inline">true</code>.</li><li><code class="inline">:data</code> - The record or records specifically attempting to be acted upon.</li><li><code class="inline">:tenant</code> (value that implements the <a href="https://hexdocs.pm/ash/3.5.32/Ash.ToTenant.html"><code class="inline">Ash.ToTenant</code></a> protocol) - The tenant to use for authorization</li><li><code class="inline">:alter_source?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If set to <code class="inline">true</code>, the source being authorized is returned so it can be run. The default value is <code class="inline">false</code>.</li><li><code class="inline">:base_query</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A base query on which to apply an generated filters</li><li><code class="inline">:no_check?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not authorization must pass at the strict/filter step, or if post-checks are allowed to be run The default value is <code class="inline">false</code>.</li><li><code class="inline">:on_must_pass_strict_check</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - Override the value returned when <code class="inline">no_check?</code> is <code class="inline">true</code> but a check must be run.</li><li><code class="inline">:atomic_changeset</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A base query on which to apply an generated filters</li><li><code class="inline">:return_forbidden_error?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to return a forbidden error in cases of not being authorized. The default value is <code class="inline">false</code>.</li></ul>
  </section>
</section>
<section class="detail" id="can_get_agency?/4">

    <span id="can_get_agency?/2"></span>

    <span id="can_get_agency?/3"></span>

  <div class="detail-header">
    <a href="#can_get_agency?/4" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">can_get_agency?(actor, id, params_or_opts \\ %{}, opts \\ [])</h1>


    </div>
  </div>

  <section class="docstring">

<p>Runs authorization checks for <code class="inline">EhsEnforcement.Enforcement.Agency.read</code>, returning a boolean.
See <a href="https://hexdocs.pm/ash/3.5.32/Ash.html#can?/3"><code class="inline">Ash.can?/3</code></a> for more information</p><h2 id="can_get_agency?/4-options" class="section-heading"><a href="#can_get_agency?/4-options" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Options</span></h2><ul><li><code class="inline">:maybe_is</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - If the actor <em>may</em> be able to perform the action, what value should be returned. The default value is <code class="inline">true</code>.</li><li><code class="inline">:filter_with</code> - If set to <code class="inline">:error</code>, the query will raise an error on a match. If set to <code class="inline">:filter</code> the query will filter out unauthorized access. Valid values are :filter, :error The default value is <code class="inline">:filter</code>.</li><li><code class="inline">:validate?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to treat an invalid action as a non-allowed action. The default value is <code class="inline">false</code>.</li><li><code class="inline">:reuse_values?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not loaded data like aggregates, calculations and relationships should be checked in memory if possible, instead of querying. No effect if <code class="inline">pre_flight?</code> is <code class="inline">false</code>. The default value is <code class="inline">false</code>.</li><li><code class="inline">:pre_flight?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not this is a pre_flight check (which may perform optimized in-memory checks) or the final proper check. The default value is <code class="inline">true</code>.</li><li><code class="inline">:scope</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A value that implements the <a href="https://hexdocs.pm/ash/3.5.32/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> protocol. Will overwrite any actor, tenant or context provided. See <a href="https://hexdocs.pm/ash/3.5.32/Ash.Context.html"><code class="inline">Ash.Context</code></a> for more.</li><li><code class="inline">:run_queries?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to run queries. If set to <code class="inline">true</code>, <code class="inline">:maybe</code> will not be returned. The default value is <code class="inline">true</code>.</li><li><code class="inline">:data</code> - The record or records specifically attempting to be acted upon.</li><li><code class="inline">:tenant</code> (value that implements the <a href="https://hexdocs.pm/ash/3.5.32/Ash.ToTenant.html"><code class="inline">Ash.ToTenant</code></a> protocol) - The tenant to use for authorization</li><li><code class="inline">:alter_source?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If set to <code class="inline">true</code>, the source being authorized is returned so it can be run. The default value is <code class="inline">false</code>.</li><li><code class="inline">:base_query</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A base query on which to apply an generated filters</li><li><code class="inline">:no_check?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not authorization must pass at the strict/filter step, or if post-checks are allowed to be run The default value is <code class="inline">false</code>.</li><li><code class="inline">:on_must_pass_strict_check</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - Override the value returned when <code class="inline">no_check?</code> is <code class="inline">true</code> but a check must be run.</li><li><code class="inline">:atomic_changeset</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A base query on which to apply an generated filters</li><li><code class="inline">:return_forbidden_error?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to return a forbidden error in cases of not being authorized. The default value is <code class="inline">false</code>.</li></ul>
  </section>
</section>
<section class="detail" id="can_get_agency_by_code/4">

    <span id="can_get_agency_by_code/2"></span>

    <span id="can_get_agency_by_code/3"></span>

  <div class="detail-header">
    <a href="#can_get_agency_by_code/4" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">can_get_agency_by_code(actor, code, params_or_opts \\ %{}, opts \\ [])</h1>


    </div>
  </div>

  <section class="docstring">

<p>Runs authorization checks for <code class="inline">EhsEnforcement.Enforcement.Agency.read</code>
See <a href="https://hexdocs.pm/ash/3.5.32/Ash.html#can/3"><code class="inline">Ash.can/3</code></a> for more information</p><h2 id="can_get_agency_by_code/4-options" class="section-heading"><a href="#can_get_agency_by_code/4-options" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Options</span></h2><ul><li><code class="inline">:maybe_is</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - If the actor <em>may</em> be able to perform the action, what value should be returned. The default value is <code class="inline">:maybe</code>.</li><li><code class="inline">:filter_with</code> - If set to <code class="inline">:error</code>, the query will raise an error on a match. If set to <code class="inline">:filter</code> the query will filter out unauthorized access. Valid values are :filter, :error The default value is <code class="inline">:filter</code>.</li><li><code class="inline">:validate?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to treat an invalid action as a non-allowed action. The default value is <code class="inline">false</code>.</li><li><code class="inline">:reuse_values?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not loaded data like aggregates, calculations and relationships should be checked in memory if possible, instead of querying. No effect if <code class="inline">pre_flight?</code> is <code class="inline">false</code>. The default value is <code class="inline">false</code>.</li><li><code class="inline">:pre_flight?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not this is a pre_flight check (which may perform optimized in-memory checks) or the final proper check. The default value is <code class="inline">true</code>.</li><li><code class="inline">:scope</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A value that implements the <a href="https://hexdocs.pm/ash/3.5.32/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> protocol. Will overwrite any actor, tenant or context provided. See <a href="https://hexdocs.pm/ash/3.5.32/Ash.Context.html"><code class="inline">Ash.Context</code></a> for more.</li><li><code class="inline">:run_queries?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to run queries. If set to <code class="inline">true</code>, <code class="inline">:maybe</code> will not be returned. The default value is <code class="inline">true</code>.</li><li><code class="inline">:data</code> - The record or records specifically attempting to be acted upon.</li><li><code class="inline">:tenant</code> (value that implements the <a href="https://hexdocs.pm/ash/3.5.32/Ash.ToTenant.html"><code class="inline">Ash.ToTenant</code></a> protocol) - The tenant to use for authorization</li><li><code class="inline">:alter_source?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If set to <code class="inline">true</code>, the source being authorized is returned so it can be run. The default value is <code class="inline">false</code>.</li><li><code class="inline">:base_query</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A base query on which to apply an generated filters</li><li><code class="inline">:no_check?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not authorization must pass at the strict/filter step, or if post-checks are allowed to be run The default value is <code class="inline">false</code>.</li><li><code class="inline">:on_must_pass_strict_check</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - Override the value returned when <code class="inline">no_check?</code> is <code class="inline">true</code> but a check must be run.</li><li><code class="inline">:atomic_changeset</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A base query on which to apply an generated filters</li><li><code class="inline">:return_forbidden_error?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to return a forbidden error in cases of not being authorized. The default value is <code class="inline">false</code>.</li></ul>
  </section>
</section>
<section class="detail" id="can_get_agency_by_code?/4">

    <span id="can_get_agency_by_code?/2"></span>

    <span id="can_get_agency_by_code?/3"></span>

  <div class="detail-header">
    <a href="#can_get_agency_by_code?/4" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">can_get_agency_by_code?(actor, code, params_or_opts \\ %{}, opts \\ [])</h1>


    </div>
  </div>

  <section class="docstring">

<p>Runs authorization checks for <code class="inline">EhsEnforcement.Enforcement.Agency.read</code>, returning a boolean.
See <a href="https://hexdocs.pm/ash/3.5.32/Ash.html#can?/3"><code class="inline">Ash.can?/3</code></a> for more information</p><h2 id="can_get_agency_by_code?/4-options" class="section-heading"><a href="#can_get_agency_by_code?/4-options" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Options</span></h2><ul><li><code class="inline">:maybe_is</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - If the actor <em>may</em> be able to perform the action, what value should be returned. The default value is <code class="inline">true</code>.</li><li><code class="inline">:filter_with</code> - If set to <code class="inline">:error</code>, the query will raise an error on a match. If set to <code class="inline">:filter</code> the query will filter out unauthorized access. Valid values are :filter, :error The default value is <code class="inline">:filter</code>.</li><li><code class="inline">:validate?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to treat an invalid action as a non-allowed action. The default value is <code class="inline">false</code>.</li><li><code class="inline">:reuse_values?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not loaded data like aggregates, calculations and relationships should be checked in memory if possible, instead of querying. No effect if <code class="inline">pre_flight?</code> is <code class="inline">false</code>. The default value is <code class="inline">false</code>.</li><li><code class="inline">:pre_flight?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not this is a pre_flight check (which may perform optimized in-memory checks) or the final proper check. The default value is <code class="inline">true</code>.</li><li><code class="inline">:scope</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A value that implements the <a href="https://hexdocs.pm/ash/3.5.32/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> protocol. Will overwrite any actor, tenant or context provided. See <a href="https://hexdocs.pm/ash/3.5.32/Ash.Context.html"><code class="inline">Ash.Context</code></a> for more.</li><li><code class="inline">:run_queries?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to run queries. If set to <code class="inline">true</code>, <code class="inline">:maybe</code> will not be returned. The default value is <code class="inline">true</code>.</li><li><code class="inline">:data</code> - The record or records specifically attempting to be acted upon.</li><li><code class="inline">:tenant</code> (value that implements the <a href="https://hexdocs.pm/ash/3.5.32/Ash.ToTenant.html"><code class="inline">Ash.ToTenant</code></a> protocol) - The tenant to use for authorization</li><li><code class="inline">:alter_source?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If set to <code class="inline">true</code>, the source being authorized is returned so it can be run. The default value is <code class="inline">false</code>.</li><li><code class="inline">:base_query</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A base query on which to apply an generated filters</li><li><code class="inline">:no_check?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not authorization must pass at the strict/filter step, or if post-checks are allowed to be run The default value is <code class="inline">false</code>.</li><li><code class="inline">:on_must_pass_strict_check</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - Override the value returned when <code class="inline">no_check?</code> is <code class="inline">true</code> but a check must be run.</li><li><code class="inline">:atomic_changeset</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A base query on which to apply an generated filters</li><li><code class="inline">:return_forbidden_error?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to return a forbidden error in cases of not being authorized. The default value is <code class="inline">false</code>.</li></ul>
  </section>
</section>
<section class="detail" id="can_get_breach/4">

    <span id="can_get_breach/2"></span>

    <span id="can_get_breach/3"></span>

  <div class="detail-header">
    <a href="#can_get_breach/4" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">can_get_breach(actor, id, params_or_opts \\ %{}, opts \\ [])</h1>


    </div>
  </div>

  <section class="docstring">

<p>Runs authorization checks for <code class="inline">EhsEnforcement.Enforcement.Breach.read</code>
See <a href="https://hexdocs.pm/ash/3.5.32/Ash.html#can/3"><code class="inline">Ash.can/3</code></a> for more information</p><h2 id="can_get_breach/4-options" class="section-heading"><a href="#can_get_breach/4-options" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Options</span></h2><ul><li><code class="inline">:maybe_is</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - If the actor <em>may</em> be able to perform the action, what value should be returned. The default value is <code class="inline">:maybe</code>.</li><li><code class="inline">:filter_with</code> - If set to <code class="inline">:error</code>, the query will raise an error on a match. If set to <code class="inline">:filter</code> the query will filter out unauthorized access. Valid values are :filter, :error The default value is <code class="inline">:filter</code>.</li><li><code class="inline">:validate?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to treat an invalid action as a non-allowed action. The default value is <code class="inline">false</code>.</li><li><code class="inline">:reuse_values?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not loaded data like aggregates, calculations and relationships should be checked in memory if possible, instead of querying. No effect if <code class="inline">pre_flight?</code> is <code class="inline">false</code>. The default value is <code class="inline">false</code>.</li><li><code class="inline">:pre_flight?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not this is a pre_flight check (which may perform optimized in-memory checks) or the final proper check. The default value is <code class="inline">true</code>.</li><li><code class="inline">:scope</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A value that implements the <a href="https://hexdocs.pm/ash/3.5.32/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> protocol. Will overwrite any actor, tenant or context provided. See <a href="https://hexdocs.pm/ash/3.5.32/Ash.Context.html"><code class="inline">Ash.Context</code></a> for more.</li><li><code class="inline">:run_queries?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to run queries. If set to <code class="inline">true</code>, <code class="inline">:maybe</code> will not be returned. The default value is <code class="inline">true</code>.</li><li><code class="inline">:data</code> - The record or records specifically attempting to be acted upon.</li><li><code class="inline">:tenant</code> (value that implements the <a href="https://hexdocs.pm/ash/3.5.32/Ash.ToTenant.html"><code class="inline">Ash.ToTenant</code></a> protocol) - The tenant to use for authorization</li><li><code class="inline">:alter_source?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If set to <code class="inline">true</code>, the source being authorized is returned so it can be run. The default value is <code class="inline">false</code>.</li><li><code class="inline">:base_query</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A base query on which to apply an generated filters</li><li><code class="inline">:no_check?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not authorization must pass at the strict/filter step, or if post-checks are allowed to be run The default value is <code class="inline">false</code>.</li><li><code class="inline">:on_must_pass_strict_check</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - Override the value returned when <code class="inline">no_check?</code> is <code class="inline">true</code> but a check must be run.</li><li><code class="inline">:atomic_changeset</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A base query on which to apply an generated filters</li><li><code class="inline">:return_forbidden_error?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to return a forbidden error in cases of not being authorized. The default value is <code class="inline">false</code>.</li></ul>
  </section>
</section>
<section class="detail" id="can_get_breach?/4">

    <span id="can_get_breach?/2"></span>

    <span id="can_get_breach?/3"></span>

  <div class="detail-header">
    <a href="#can_get_breach?/4" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">can_get_breach?(actor, id, params_or_opts \\ %{}, opts \\ [])</h1>


    </div>
  </div>

  <section class="docstring">

<p>Runs authorization checks for <code class="inline">EhsEnforcement.Enforcement.Breach.read</code>, returning a boolean.
See <a href="https://hexdocs.pm/ash/3.5.32/Ash.html#can?/3"><code class="inline">Ash.can?/3</code></a> for more information</p><h2 id="can_get_breach?/4-options" class="section-heading"><a href="#can_get_breach?/4-options" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Options</span></h2><ul><li><code class="inline">:maybe_is</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - If the actor <em>may</em> be able to perform the action, what value should be returned. The default value is <code class="inline">true</code>.</li><li><code class="inline">:filter_with</code> - If set to <code class="inline">:error</code>, the query will raise an error on a match. If set to <code class="inline">:filter</code> the query will filter out unauthorized access. Valid values are :filter, :error The default value is <code class="inline">:filter</code>.</li><li><code class="inline">:validate?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to treat an invalid action as a non-allowed action. The default value is <code class="inline">false</code>.</li><li><code class="inline">:reuse_values?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not loaded data like aggregates, calculations and relationships should be checked in memory if possible, instead of querying. No effect if <code class="inline">pre_flight?</code> is <code class="inline">false</code>. The default value is <code class="inline">false</code>.</li><li><code class="inline">:pre_flight?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not this is a pre_flight check (which may perform optimized in-memory checks) or the final proper check. The default value is <code class="inline">true</code>.</li><li><code class="inline">:scope</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A value that implements the <a href="https://hexdocs.pm/ash/3.5.32/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> protocol. Will overwrite any actor, tenant or context provided. See <a href="https://hexdocs.pm/ash/3.5.32/Ash.Context.html"><code class="inline">Ash.Context</code></a> for more.</li><li><code class="inline">:run_queries?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to run queries. If set to <code class="inline">true</code>, <code class="inline">:maybe</code> will not be returned. The default value is <code class="inline">true</code>.</li><li><code class="inline">:data</code> - The record or records specifically attempting to be acted upon.</li><li><code class="inline">:tenant</code> (value that implements the <a href="https://hexdocs.pm/ash/3.5.32/Ash.ToTenant.html"><code class="inline">Ash.ToTenant</code></a> protocol) - The tenant to use for authorization</li><li><code class="inline">:alter_source?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If set to <code class="inline">true</code>, the source being authorized is returned so it can be run. The default value is <code class="inline">false</code>.</li><li><code class="inline">:base_query</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A base query on which to apply an generated filters</li><li><code class="inline">:no_check?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not authorization must pass at the strict/filter step, or if post-checks are allowed to be run The default value is <code class="inline">false</code>.</li><li><code class="inline">:on_must_pass_strict_check</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - Override the value returned when <code class="inline">no_check?</code> is <code class="inline">true</code> but a check must be run.</li><li><code class="inline">:atomic_changeset</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A base query on which to apply an generated filters</li><li><code class="inline">:return_forbidden_error?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to return a forbidden error in cases of not being authorized. The default value is <code class="inline">false</code>.</li></ul>
  </section>
</section>
<section class="detail" id="can_get_case/4">

    <span id="can_get_case/2"></span>

    <span id="can_get_case/3"></span>

  <div class="detail-header">
    <a href="#can_get_case/4" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">can_get_case(actor, id, params_or_opts \\ %{}, opts \\ [])</h1>


    </div>
  </div>

  <section class="docstring">

<p>Runs authorization checks for <code class="inline">EhsEnforcement.Enforcement.Case.read</code>
See <a href="https://hexdocs.pm/ash/3.5.32/Ash.html#can/3"><code class="inline">Ash.can/3</code></a> for more information</p><h2 id="can_get_case/4-options" class="section-heading"><a href="#can_get_case/4-options" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Options</span></h2><ul><li><code class="inline">:maybe_is</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - If the actor <em>may</em> be able to perform the action, what value should be returned. The default value is <code class="inline">:maybe</code>.</li><li><code class="inline">:filter_with</code> - If set to <code class="inline">:error</code>, the query will raise an error on a match. If set to <code class="inline">:filter</code> the query will filter out unauthorized access. Valid values are :filter, :error The default value is <code class="inline">:filter</code>.</li><li><code class="inline">:validate?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to treat an invalid action as a non-allowed action. The default value is <code class="inline">false</code>.</li><li><code class="inline">:reuse_values?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not loaded data like aggregates, calculations and relationships should be checked in memory if possible, instead of querying. No effect if <code class="inline">pre_flight?</code> is <code class="inline">false</code>. The default value is <code class="inline">false</code>.</li><li><code class="inline">:pre_flight?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not this is a pre_flight check (which may perform optimized in-memory checks) or the final proper check. The default value is <code class="inline">true</code>.</li><li><code class="inline">:scope</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A value that implements the <a href="https://hexdocs.pm/ash/3.5.32/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> protocol. Will overwrite any actor, tenant or context provided. See <a href="https://hexdocs.pm/ash/3.5.32/Ash.Context.html"><code class="inline">Ash.Context</code></a> for more.</li><li><code class="inline">:run_queries?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to run queries. If set to <code class="inline">true</code>, <code class="inline">:maybe</code> will not be returned. The default value is <code class="inline">true</code>.</li><li><code class="inline">:data</code> - The record or records specifically attempting to be acted upon.</li><li><code class="inline">:tenant</code> (value that implements the <a href="https://hexdocs.pm/ash/3.5.32/Ash.ToTenant.html"><code class="inline">Ash.ToTenant</code></a> protocol) - The tenant to use for authorization</li><li><code class="inline">:alter_source?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If set to <code class="inline">true</code>, the source being authorized is returned so it can be run. The default value is <code class="inline">false</code>.</li><li><code class="inline">:base_query</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A base query on which to apply an generated filters</li><li><code class="inline">:no_check?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not authorization must pass at the strict/filter step, or if post-checks are allowed to be run The default value is <code class="inline">false</code>.</li><li><code class="inline">:on_must_pass_strict_check</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - Override the value returned when <code class="inline">no_check?</code> is <code class="inline">true</code> but a check must be run.</li><li><code class="inline">:atomic_changeset</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A base query on which to apply an generated filters</li><li><code class="inline">:return_forbidden_error?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to return a forbidden error in cases of not being authorized. The default value is <code class="inline">false</code>.</li></ul>
  </section>
</section>
<section class="detail" id="can_get_case?/4">

    <span id="can_get_case?/2"></span>

    <span id="can_get_case?/3"></span>

  <div class="detail-header">
    <a href="#can_get_case?/4" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">can_get_case?(actor, id, params_or_opts \\ %{}, opts \\ [])</h1>


    </div>
  </div>

  <section class="docstring">

<p>Runs authorization checks for <code class="inline">EhsEnforcement.Enforcement.Case.read</code>, returning a boolean.
See <a href="https://hexdocs.pm/ash/3.5.32/Ash.html#can?/3"><code class="inline">Ash.can?/3</code></a> for more information</p><h2 id="can_get_case?/4-options" class="section-heading"><a href="#can_get_case?/4-options" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Options</span></h2><ul><li><code class="inline">:maybe_is</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - If the actor <em>may</em> be able to perform the action, what value should be returned. The default value is <code class="inline">true</code>.</li><li><code class="inline">:filter_with</code> - If set to <code class="inline">:error</code>, the query will raise an error on a match. If set to <code class="inline">:filter</code> the query will filter out unauthorized access. Valid values are :filter, :error The default value is <code class="inline">:filter</code>.</li><li><code class="inline">:validate?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to treat an invalid action as a non-allowed action. The default value is <code class="inline">false</code>.</li><li><code class="inline">:reuse_values?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not loaded data like aggregates, calculations and relationships should be checked in memory if possible, instead of querying. No effect if <code class="inline">pre_flight?</code> is <code class="inline">false</code>. The default value is <code class="inline">false</code>.</li><li><code class="inline">:pre_flight?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not this is a pre_flight check (which may perform optimized in-memory checks) or the final proper check. The default value is <code class="inline">true</code>.</li><li><code class="inline">:scope</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A value that implements the <a href="https://hexdocs.pm/ash/3.5.32/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> protocol. Will overwrite any actor, tenant or context provided. See <a href="https://hexdocs.pm/ash/3.5.32/Ash.Context.html"><code class="inline">Ash.Context</code></a> for more.</li><li><code class="inline">:run_queries?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to run queries. If set to <code class="inline">true</code>, <code class="inline">:maybe</code> will not be returned. The default value is <code class="inline">true</code>.</li><li><code class="inline">:data</code> - The record or records specifically attempting to be acted upon.</li><li><code class="inline">:tenant</code> (value that implements the <a href="https://hexdocs.pm/ash/3.5.32/Ash.ToTenant.html"><code class="inline">Ash.ToTenant</code></a> protocol) - The tenant to use for authorization</li><li><code class="inline">:alter_source?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If set to <code class="inline">true</code>, the source being authorized is returned so it can be run. The default value is <code class="inline">false</code>.</li><li><code class="inline">:base_query</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A base query on which to apply an generated filters</li><li><code class="inline">:no_check?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not authorization must pass at the strict/filter step, or if post-checks are allowed to be run The default value is <code class="inline">false</code>.</li><li><code class="inline">:on_must_pass_strict_check</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - Override the value returned when <code class="inline">no_check?</code> is <code class="inline">true</code> but a check must be run.</li><li><code class="inline">:atomic_changeset</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A base query on which to apply an generated filters</li><li><code class="inline">:return_forbidden_error?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to return a forbidden error in cases of not being authorized. The default value is <code class="inline">false</code>.</li></ul>
  </section>
</section>
<section class="detail" id="can_get_current_metrics/3">

    <span id="can_get_current_metrics/1"></span>

    <span id="can_get_current_metrics/2"></span>

  <div class="detail-header">
    <a href="#can_get_current_metrics/3" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">can_get_current_metrics(actor, params_or_opts \\ %{}, opts \\ [])</h1>


    </div>
  </div>

  <section class="docstring">

<p>Runs authorization checks for <code class="inline">EhsEnforcement.Enforcement.Metrics.get_current</code>
See <a href="https://hexdocs.pm/ash/3.5.32/Ash.html#can/3"><code class="inline">Ash.can/3</code></a> for more information</p><h2 id="can_get_current_metrics/3-options" class="section-heading"><a href="#can_get_current_metrics/3-options" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Options</span></h2><ul><li><code class="inline">:maybe_is</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - If the actor <em>may</em> be able to perform the action, what value should be returned. The default value is <code class="inline">:maybe</code>.</li><li><code class="inline">:filter_with</code> - If set to <code class="inline">:error</code>, the query will raise an error on a match. If set to <code class="inline">:filter</code> the query will filter out unauthorized access. Valid values are :filter, :error The default value is <code class="inline">:filter</code>.</li><li><code class="inline">:validate?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to treat an invalid action as a non-allowed action. The default value is <code class="inline">false</code>.</li><li><code class="inline">:reuse_values?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not loaded data like aggregates, calculations and relationships should be checked in memory if possible, instead of querying. No effect if <code class="inline">pre_flight?</code> is <code class="inline">false</code>. The default value is <code class="inline">false</code>.</li><li><code class="inline">:pre_flight?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not this is a pre_flight check (which may perform optimized in-memory checks) or the final proper check. The default value is <code class="inline">true</code>.</li><li><code class="inline">:scope</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A value that implements the <a href="https://hexdocs.pm/ash/3.5.32/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> protocol. Will overwrite any actor, tenant or context provided. See <a href="https://hexdocs.pm/ash/3.5.32/Ash.Context.html"><code class="inline">Ash.Context</code></a> for more.</li><li><code class="inline">:run_queries?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to run queries. If set to <code class="inline">true</code>, <code class="inline">:maybe</code> will not be returned. The default value is <code class="inline">true</code>.</li><li><code class="inline">:data</code> - The record or records specifically attempting to be acted upon.</li><li><code class="inline">:tenant</code> (value that implements the <a href="https://hexdocs.pm/ash/3.5.32/Ash.ToTenant.html"><code class="inline">Ash.ToTenant</code></a> protocol) - The tenant to use for authorization</li><li><code class="inline">:alter_source?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If set to <code class="inline">true</code>, the source being authorized is returned so it can be run. The default value is <code class="inline">false</code>.</li><li><code class="inline">:base_query</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A base query on which to apply an generated filters</li><li><code class="inline">:no_check?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not authorization must pass at the strict/filter step, or if post-checks are allowed to be run The default value is <code class="inline">false</code>.</li><li><code class="inline">:on_must_pass_strict_check</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - Override the value returned when <code class="inline">no_check?</code> is <code class="inline">true</code> but a check must be run.</li><li><code class="inline">:atomic_changeset</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A base query on which to apply an generated filters</li><li><code class="inline">:return_forbidden_error?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to return a forbidden error in cases of not being authorized. The default value is <code class="inline">false</code>.</li></ul>
  </section>
</section>
<section class="detail" id="can_get_current_metrics?/3">

    <span id="can_get_current_metrics?/1"></span>

    <span id="can_get_current_metrics?/2"></span>

  <div class="detail-header">
    <a href="#can_get_current_metrics?/3" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">can_get_current_metrics?(actor, params_or_opts \\ %{}, opts \\ [])</h1>


    </div>
  </div>

  <section class="docstring">

<p>Runs authorization checks for <code class="inline">EhsEnforcement.Enforcement.Metrics.get_current</code>, returning a boolean.
See <a href="https://hexdocs.pm/ash/3.5.32/Ash.html#can?/3"><code class="inline">Ash.can?/3</code></a> for more information</p><h2 id="can_get_current_metrics?/3-options" class="section-heading"><a href="#can_get_current_metrics?/3-options" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Options</span></h2><ul><li><code class="inline">:maybe_is</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - If the actor <em>may</em> be able to perform the action, what value should be returned. The default value is <code class="inline">true</code>.</li><li><code class="inline">:filter_with</code> - If set to <code class="inline">:error</code>, the query will raise an error on a match. If set to <code class="inline">:filter</code> the query will filter out unauthorized access. Valid values are :filter, :error The default value is <code class="inline">:filter</code>.</li><li><code class="inline">:validate?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to treat an invalid action as a non-allowed action. The default value is <code class="inline">false</code>.</li><li><code class="inline">:reuse_values?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not loaded data like aggregates, calculations and relationships should be checked in memory if possible, instead of querying. No effect if <code class="inline">pre_flight?</code> is <code class="inline">false</code>. The default value is <code class="inline">false</code>.</li><li><code class="inline">:pre_flight?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not this is a pre_flight check (which may perform optimized in-memory checks) or the final proper check. The default value is <code class="inline">true</code>.</li><li><code class="inline">:scope</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A value that implements the <a href="https://hexdocs.pm/ash/3.5.32/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> protocol. Will overwrite any actor, tenant or context provided. See <a href="https://hexdocs.pm/ash/3.5.32/Ash.Context.html"><code class="inline">Ash.Context</code></a> for more.</li><li><code class="inline">:run_queries?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to run queries. If set to <code class="inline">true</code>, <code class="inline">:maybe</code> will not be returned. The default value is <code class="inline">true</code>.</li><li><code class="inline">:data</code> - The record or records specifically attempting to be acted upon.</li><li><code class="inline">:tenant</code> (value that implements the <a href="https://hexdocs.pm/ash/3.5.32/Ash.ToTenant.html"><code class="inline">Ash.ToTenant</code></a> protocol) - The tenant to use for authorization</li><li><code class="inline">:alter_source?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If set to <code class="inline">true</code>, the source being authorized is returned so it can be run. The default value is <code class="inline">false</code>.</li><li><code class="inline">:base_query</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A base query on which to apply an generated filters</li><li><code class="inline">:no_check?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not authorization must pass at the strict/filter step, or if post-checks are allowed to be run The default value is <code class="inline">false</code>.</li><li><code class="inline">:on_must_pass_strict_check</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - Override the value returned when <code class="inline">no_check?</code> is <code class="inline">true</code> but a check must be run.</li><li><code class="inline">:atomic_changeset</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A base query on which to apply an generated filters</li><li><code class="inline">:return_forbidden_error?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to return a forbidden error in cases of not being authorized. The default value is <code class="inline">false</code>.</li></ul>
  </section>
</section>
<section class="detail" id="can_get_notice/4">

    <span id="can_get_notice/2"></span>

    <span id="can_get_notice/3"></span>

  <div class="detail-header">
    <a href="#can_get_notice/4" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">can_get_notice(actor, id, params_or_opts \\ %{}, opts \\ [])</h1>


    </div>
  </div>

  <section class="docstring">

<p>Runs authorization checks for <code class="inline">EhsEnforcement.Enforcement.Notice.read</code>
See <a href="https://hexdocs.pm/ash/3.5.32/Ash.html#can/3"><code class="inline">Ash.can/3</code></a> for more information</p><h2 id="can_get_notice/4-options" class="section-heading"><a href="#can_get_notice/4-options" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Options</span></h2><ul><li><code class="inline">:maybe_is</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - If the actor <em>may</em> be able to perform the action, what value should be returned. The default value is <code class="inline">:maybe</code>.</li><li><code class="inline">:filter_with</code> - If set to <code class="inline">:error</code>, the query will raise an error on a match. If set to <code class="inline">:filter</code> the query will filter out unauthorized access. Valid values are :filter, :error The default value is <code class="inline">:filter</code>.</li><li><code class="inline">:validate?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to treat an invalid action as a non-allowed action. The default value is <code class="inline">false</code>.</li><li><code class="inline">:reuse_values?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not loaded data like aggregates, calculations and relationships should be checked in memory if possible, instead of querying. No effect if <code class="inline">pre_flight?</code> is <code class="inline">false</code>. The default value is <code class="inline">false</code>.</li><li><code class="inline">:pre_flight?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not this is a pre_flight check (which may perform optimized in-memory checks) or the final proper check. The default value is <code class="inline">true</code>.</li><li><code class="inline">:scope</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A value that implements the <a href="https://hexdocs.pm/ash/3.5.32/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> protocol. Will overwrite any actor, tenant or context provided. See <a href="https://hexdocs.pm/ash/3.5.32/Ash.Context.html"><code class="inline">Ash.Context</code></a> for more.</li><li><code class="inline">:run_queries?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to run queries. If set to <code class="inline">true</code>, <code class="inline">:maybe</code> will not be returned. The default value is <code class="inline">true</code>.</li><li><code class="inline">:data</code> - The record or records specifically attempting to be acted upon.</li><li><code class="inline">:tenant</code> (value that implements the <a href="https://hexdocs.pm/ash/3.5.32/Ash.ToTenant.html"><code class="inline">Ash.ToTenant</code></a> protocol) - The tenant to use for authorization</li><li><code class="inline">:alter_source?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If set to <code class="inline">true</code>, the source being authorized is returned so it can be run. The default value is <code class="inline">false</code>.</li><li><code class="inline">:base_query</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A base query on which to apply an generated filters</li><li><code class="inline">:no_check?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not authorization must pass at the strict/filter step, or if post-checks are allowed to be run The default value is <code class="inline">false</code>.</li><li><code class="inline">:on_must_pass_strict_check</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - Override the value returned when <code class="inline">no_check?</code> is <code class="inline">true</code> but a check must be run.</li><li><code class="inline">:atomic_changeset</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A base query on which to apply an generated filters</li><li><code class="inline">:return_forbidden_error?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to return a forbidden error in cases of not being authorized. The default value is <code class="inline">false</code>.</li></ul>
  </section>
</section>
<section class="detail" id="can_get_notice?/4">

    <span id="can_get_notice?/2"></span>

    <span id="can_get_notice?/3"></span>

  <div class="detail-header">
    <a href="#can_get_notice?/4" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">can_get_notice?(actor, id, params_or_opts \\ %{}, opts \\ [])</h1>


    </div>
  </div>

  <section class="docstring">

<p>Runs authorization checks for <code class="inline">EhsEnforcement.Enforcement.Notice.read</code>, returning a boolean.
See <a href="https://hexdocs.pm/ash/3.5.32/Ash.html#can?/3"><code class="inline">Ash.can?/3</code></a> for more information</p><h2 id="can_get_notice?/4-options" class="section-heading"><a href="#can_get_notice?/4-options" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Options</span></h2><ul><li><code class="inline">:maybe_is</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - If the actor <em>may</em> be able to perform the action, what value should be returned. The default value is <code class="inline">true</code>.</li><li><code class="inline">:filter_with</code> - If set to <code class="inline">:error</code>, the query will raise an error on a match. If set to <code class="inline">:filter</code> the query will filter out unauthorized access. Valid values are :filter, :error The default value is <code class="inline">:filter</code>.</li><li><code class="inline">:validate?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to treat an invalid action as a non-allowed action. The default value is <code class="inline">false</code>.</li><li><code class="inline">:reuse_values?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not loaded data like aggregates, calculations and relationships should be checked in memory if possible, instead of querying. No effect if <code class="inline">pre_flight?</code> is <code class="inline">false</code>. The default value is <code class="inline">false</code>.</li><li><code class="inline">:pre_flight?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not this is a pre_flight check (which may perform optimized in-memory checks) or the final proper check. The default value is <code class="inline">true</code>.</li><li><code class="inline">:scope</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A value that implements the <a href="https://hexdocs.pm/ash/3.5.32/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> protocol. Will overwrite any actor, tenant or context provided. See <a href="https://hexdocs.pm/ash/3.5.32/Ash.Context.html"><code class="inline">Ash.Context</code></a> for more.</li><li><code class="inline">:run_queries?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to run queries. If set to <code class="inline">true</code>, <code class="inline">:maybe</code> will not be returned. The default value is <code class="inline">true</code>.</li><li><code class="inline">:data</code> - The record or records specifically attempting to be acted upon.</li><li><code class="inline">:tenant</code> (value that implements the <a href="https://hexdocs.pm/ash/3.5.32/Ash.ToTenant.html"><code class="inline">Ash.ToTenant</code></a> protocol) - The tenant to use for authorization</li><li><code class="inline">:alter_source?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If set to <code class="inline">true</code>, the source being authorized is returned so it can be run. The default value is <code class="inline">false</code>.</li><li><code class="inline">:base_query</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A base query on which to apply an generated filters</li><li><code class="inline">:no_check?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not authorization must pass at the strict/filter step, or if post-checks are allowed to be run The default value is <code class="inline">false</code>.</li><li><code class="inline">:on_must_pass_strict_check</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - Override the value returned when <code class="inline">no_check?</code> is <code class="inline">true</code> but a check must be run.</li><li><code class="inline">:atomic_changeset</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A base query on which to apply an generated filters</li><li><code class="inline">:return_forbidden_error?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to return a forbidden error in cases of not being authorized. The default value is <code class="inline">false</code>.</li></ul>
  </section>
</section>
<section class="detail" id="can_get_offender/4">

    <span id="can_get_offender/2"></span>

    <span id="can_get_offender/3"></span>

  <div class="detail-header">
    <a href="#can_get_offender/4" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">can_get_offender(actor, id, params_or_opts \\ %{}, opts \\ [])</h1>


    </div>
  </div>

  <section class="docstring">

<p>Runs authorization checks for <code class="inline">EhsEnforcement.Enforcement.Offender.read</code>
See <a href="https://hexdocs.pm/ash/3.5.32/Ash.html#can/3"><code class="inline">Ash.can/3</code></a> for more information</p><h2 id="can_get_offender/4-options" class="section-heading"><a href="#can_get_offender/4-options" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Options</span></h2><ul><li><code class="inline">:maybe_is</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - If the actor <em>may</em> be able to perform the action, what value should be returned. The default value is <code class="inline">:maybe</code>.</li><li><code class="inline">:filter_with</code> - If set to <code class="inline">:error</code>, the query will raise an error on a match. If set to <code class="inline">:filter</code> the query will filter out unauthorized access. Valid values are :filter, :error The default value is <code class="inline">:filter</code>.</li><li><code class="inline">:validate?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to treat an invalid action as a non-allowed action. The default value is <code class="inline">false</code>.</li><li><code class="inline">:reuse_values?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not loaded data like aggregates, calculations and relationships should be checked in memory if possible, instead of querying. No effect if <code class="inline">pre_flight?</code> is <code class="inline">false</code>. The default value is <code class="inline">false</code>.</li><li><code class="inline">:pre_flight?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not this is a pre_flight check (which may perform optimized in-memory checks) or the final proper check. The default value is <code class="inline">true</code>.</li><li><code class="inline">:scope</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A value that implements the <a href="https://hexdocs.pm/ash/3.5.32/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> protocol. Will overwrite any actor, tenant or context provided. See <a href="https://hexdocs.pm/ash/3.5.32/Ash.Context.html"><code class="inline">Ash.Context</code></a> for more.</li><li><code class="inline">:run_queries?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to run queries. If set to <code class="inline">true</code>, <code class="inline">:maybe</code> will not be returned. The default value is <code class="inline">true</code>.</li><li><code class="inline">:data</code> - The record or records specifically attempting to be acted upon.</li><li><code class="inline">:tenant</code> (value that implements the <a href="https://hexdocs.pm/ash/3.5.32/Ash.ToTenant.html"><code class="inline">Ash.ToTenant</code></a> protocol) - The tenant to use for authorization</li><li><code class="inline">:alter_source?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If set to <code class="inline">true</code>, the source being authorized is returned so it can be run. The default value is <code class="inline">false</code>.</li><li><code class="inline">:base_query</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A base query on which to apply an generated filters</li><li><code class="inline">:no_check?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not authorization must pass at the strict/filter step, or if post-checks are allowed to be run The default value is <code class="inline">false</code>.</li><li><code class="inline">:on_must_pass_strict_check</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - Override the value returned when <code class="inline">no_check?</code> is <code class="inline">true</code> but a check must be run.</li><li><code class="inline">:atomic_changeset</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A base query on which to apply an generated filters</li><li><code class="inline">:return_forbidden_error?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to return a forbidden error in cases of not being authorized. The default value is <code class="inline">false</code>.</li></ul>
  </section>
</section>
<section class="detail" id="can_get_offender?/4">

    <span id="can_get_offender?/2"></span>

    <span id="can_get_offender?/3"></span>

  <div class="detail-header">
    <a href="#can_get_offender?/4" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">can_get_offender?(actor, id, params_or_opts \\ %{}, opts \\ [])</h1>


    </div>
  </div>

  <section class="docstring">

<p>Runs authorization checks for <code class="inline">EhsEnforcement.Enforcement.Offender.read</code>, returning a boolean.
See <a href="https://hexdocs.pm/ash/3.5.32/Ash.html#can?/3"><code class="inline">Ash.can?/3</code></a> for more information</p><h2 id="can_get_offender?/4-options" class="section-heading"><a href="#can_get_offender?/4-options" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Options</span></h2><ul><li><code class="inline">:maybe_is</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - If the actor <em>may</em> be able to perform the action, what value should be returned. The default value is <code class="inline">true</code>.</li><li><code class="inline">:filter_with</code> - If set to <code class="inline">:error</code>, the query will raise an error on a match. If set to <code class="inline">:filter</code> the query will filter out unauthorized access. Valid values are :filter, :error The default value is <code class="inline">:filter</code>.</li><li><code class="inline">:validate?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to treat an invalid action as a non-allowed action. The default value is <code class="inline">false</code>.</li><li><code class="inline">:reuse_values?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not loaded data like aggregates, calculations and relationships should be checked in memory if possible, instead of querying. No effect if <code class="inline">pre_flight?</code> is <code class="inline">false</code>. The default value is <code class="inline">false</code>.</li><li><code class="inline">:pre_flight?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not this is a pre_flight check (which may perform optimized in-memory checks) or the final proper check. The default value is <code class="inline">true</code>.</li><li><code class="inline">:scope</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A value that implements the <a href="https://hexdocs.pm/ash/3.5.32/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> protocol. Will overwrite any actor, tenant or context provided. See <a href="https://hexdocs.pm/ash/3.5.32/Ash.Context.html"><code class="inline">Ash.Context</code></a> for more.</li><li><code class="inline">:run_queries?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to run queries. If set to <code class="inline">true</code>, <code class="inline">:maybe</code> will not be returned. The default value is <code class="inline">true</code>.</li><li><code class="inline">:data</code> - The record or records specifically attempting to be acted upon.</li><li><code class="inline">:tenant</code> (value that implements the <a href="https://hexdocs.pm/ash/3.5.32/Ash.ToTenant.html"><code class="inline">Ash.ToTenant</code></a> protocol) - The tenant to use for authorization</li><li><code class="inline">:alter_source?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If set to <code class="inline">true</code>, the source being authorized is returned so it can be run. The default value is <code class="inline">false</code>.</li><li><code class="inline">:base_query</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A base query on which to apply an generated filters</li><li><code class="inline">:no_check?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not authorization must pass at the strict/filter step, or if post-checks are allowed to be run The default value is <code class="inline">false</code>.</li><li><code class="inline">:on_must_pass_strict_check</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - Override the value returned when <code class="inline">no_check?</code> is <code class="inline">true</code> but a check must be run.</li><li><code class="inline">:atomic_changeset</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A base query on which to apply an generated filters</li><li><code class="inline">:return_forbidden_error?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to return a forbidden error in cases of not being authorized. The default value is <code class="inline">false</code>.</li></ul>
  </section>
</section>
<section class="detail" id="can_list_agencies/3">

    <span id="can_list_agencies/1"></span>

    <span id="can_list_agencies/2"></span>

  <div class="detail-header">
    <a href="#can_list_agencies/3" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">can_list_agencies(actor, params_or_opts \\ %{}, opts \\ [])</h1>


    </div>
  </div>

  <section class="docstring">

<p>Runs authorization checks for <code class="inline">EhsEnforcement.Enforcement.Agency.read</code>
See <a href="https://hexdocs.pm/ash/3.5.32/Ash.html#can/3"><code class="inline">Ash.can/3</code></a> for more information</p><h2 id="can_list_agencies/3-options" class="section-heading"><a href="#can_list_agencies/3-options" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Options</span></h2><ul><li><code class="inline">:maybe_is</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - If the actor <em>may</em> be able to perform the action, what value should be returned. The default value is <code class="inline">:maybe</code>.</li><li><code class="inline">:filter_with</code> - If set to <code class="inline">:error</code>, the query will raise an error on a match. If set to <code class="inline">:filter</code> the query will filter out unauthorized access. Valid values are :filter, :error The default value is <code class="inline">:filter</code>.</li><li><code class="inline">:validate?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to treat an invalid action as a non-allowed action. The default value is <code class="inline">false</code>.</li><li><code class="inline">:reuse_values?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not loaded data like aggregates, calculations and relationships should be checked in memory if possible, instead of querying. No effect if <code class="inline">pre_flight?</code> is <code class="inline">false</code>. The default value is <code class="inline">false</code>.</li><li><code class="inline">:pre_flight?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not this is a pre_flight check (which may perform optimized in-memory checks) or the final proper check. The default value is <code class="inline">true</code>.</li><li><code class="inline">:scope</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A value that implements the <a href="https://hexdocs.pm/ash/3.5.32/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> protocol. Will overwrite any actor, tenant or context provided. See <a href="https://hexdocs.pm/ash/3.5.32/Ash.Context.html"><code class="inline">Ash.Context</code></a> for more.</li><li><code class="inline">:run_queries?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to run queries. If set to <code class="inline">true</code>, <code class="inline">:maybe</code> will not be returned. The default value is <code class="inline">true</code>.</li><li><code class="inline">:data</code> - The record or records specifically attempting to be acted upon.</li><li><code class="inline">:tenant</code> (value that implements the <a href="https://hexdocs.pm/ash/3.5.32/Ash.ToTenant.html"><code class="inline">Ash.ToTenant</code></a> protocol) - The tenant to use for authorization</li><li><code class="inline">:alter_source?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If set to <code class="inline">true</code>, the source being authorized is returned so it can be run. The default value is <code class="inline">false</code>.</li><li><code class="inline">:base_query</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A base query on which to apply an generated filters</li><li><code class="inline">:no_check?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not authorization must pass at the strict/filter step, or if post-checks are allowed to be run The default value is <code class="inline">false</code>.</li><li><code class="inline">:on_must_pass_strict_check</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - Override the value returned when <code class="inline">no_check?</code> is <code class="inline">true</code> but a check must be run.</li><li><code class="inline">:atomic_changeset</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A base query on which to apply an generated filters</li><li><code class="inline">:return_forbidden_error?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to return a forbidden error in cases of not being authorized. The default value is <code class="inline">false</code>.</li></ul>
  </section>
</section>
<section class="detail" id="can_list_agencies?/3">

    <span id="can_list_agencies?/1"></span>

    <span id="can_list_agencies?/2"></span>

  <div class="detail-header">
    <a href="#can_list_agencies?/3" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">can_list_agencies?(actor, params_or_opts \\ %{}, opts \\ [])</h1>


    </div>
  </div>

  <section class="docstring">

<p>Runs authorization checks for <code class="inline">EhsEnforcement.Enforcement.Agency.read</code>, returning a boolean.
See <a href="https://hexdocs.pm/ash/3.5.32/Ash.html#can?/3"><code class="inline">Ash.can?/3</code></a> for more information</p><h2 id="can_list_agencies?/3-options" class="section-heading"><a href="#can_list_agencies?/3-options" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Options</span></h2><ul><li><code class="inline">:maybe_is</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - If the actor <em>may</em> be able to perform the action, what value should be returned. The default value is <code class="inline">true</code>.</li><li><code class="inline">:filter_with</code> - If set to <code class="inline">:error</code>, the query will raise an error on a match. If set to <code class="inline">:filter</code> the query will filter out unauthorized access. Valid values are :filter, :error The default value is <code class="inline">:filter</code>.</li><li><code class="inline">:validate?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to treat an invalid action as a non-allowed action. The default value is <code class="inline">false</code>.</li><li><code class="inline">:reuse_values?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not loaded data like aggregates, calculations and relationships should be checked in memory if possible, instead of querying. No effect if <code class="inline">pre_flight?</code> is <code class="inline">false</code>. The default value is <code class="inline">false</code>.</li><li><code class="inline">:pre_flight?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not this is a pre_flight check (which may perform optimized in-memory checks) or the final proper check. The default value is <code class="inline">true</code>.</li><li><code class="inline">:scope</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A value that implements the <a href="https://hexdocs.pm/ash/3.5.32/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> protocol. Will overwrite any actor, tenant or context provided. See <a href="https://hexdocs.pm/ash/3.5.32/Ash.Context.html"><code class="inline">Ash.Context</code></a> for more.</li><li><code class="inline">:run_queries?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to run queries. If set to <code class="inline">true</code>, <code class="inline">:maybe</code> will not be returned. The default value is <code class="inline">true</code>.</li><li><code class="inline">:data</code> - The record or records specifically attempting to be acted upon.</li><li><code class="inline">:tenant</code> (value that implements the <a href="https://hexdocs.pm/ash/3.5.32/Ash.ToTenant.html"><code class="inline">Ash.ToTenant</code></a> protocol) - The tenant to use for authorization</li><li><code class="inline">:alter_source?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If set to <code class="inline">true</code>, the source being authorized is returned so it can be run. The default value is <code class="inline">false</code>.</li><li><code class="inline">:base_query</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A base query on which to apply an generated filters</li><li><code class="inline">:no_check?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not authorization must pass at the strict/filter step, or if post-checks are allowed to be run The default value is <code class="inline">false</code>.</li><li><code class="inline">:on_must_pass_strict_check</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - Override the value returned when <code class="inline">no_check?</code> is <code class="inline">true</code> but a check must be run.</li><li><code class="inline">:atomic_changeset</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A base query on which to apply an generated filters</li><li><code class="inline">:return_forbidden_error?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to return a forbidden error in cases of not being authorized. The default value is <code class="inline">false</code>.</li></ul>
  </section>
</section>
<section class="detail" id="can_list_breaches/3">

    <span id="can_list_breaches/1"></span>

    <span id="can_list_breaches/2"></span>

  <div class="detail-header">
    <a href="#can_list_breaches/3" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">can_list_breaches(actor, params_or_opts \\ %{}, opts \\ [])</h1>


    </div>
  </div>

  <section class="docstring">

<p>Runs authorization checks for <code class="inline">EhsEnforcement.Enforcement.Breach.read</code>
See <a href="https://hexdocs.pm/ash/3.5.32/Ash.html#can/3"><code class="inline">Ash.can/3</code></a> for more information</p><h2 id="can_list_breaches/3-options" class="section-heading"><a href="#can_list_breaches/3-options" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Options</span></h2><ul><li><code class="inline">:maybe_is</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - If the actor <em>may</em> be able to perform the action, what value should be returned. The default value is <code class="inline">:maybe</code>.</li><li><code class="inline">:filter_with</code> - If set to <code class="inline">:error</code>, the query will raise an error on a match. If set to <code class="inline">:filter</code> the query will filter out unauthorized access. Valid values are :filter, :error The default value is <code class="inline">:filter</code>.</li><li><code class="inline">:validate?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to treat an invalid action as a non-allowed action. The default value is <code class="inline">false</code>.</li><li><code class="inline">:reuse_values?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not loaded data like aggregates, calculations and relationships should be checked in memory if possible, instead of querying. No effect if <code class="inline">pre_flight?</code> is <code class="inline">false</code>. The default value is <code class="inline">false</code>.</li><li><code class="inline">:pre_flight?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not this is a pre_flight check (which may perform optimized in-memory checks) or the final proper check. The default value is <code class="inline">true</code>.</li><li><code class="inline">:scope</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A value that implements the <a href="https://hexdocs.pm/ash/3.5.32/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> protocol. Will overwrite any actor, tenant or context provided. See <a href="https://hexdocs.pm/ash/3.5.32/Ash.Context.html"><code class="inline">Ash.Context</code></a> for more.</li><li><code class="inline">:run_queries?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to run queries. If set to <code class="inline">true</code>, <code class="inline">:maybe</code> will not be returned. The default value is <code class="inline">true</code>.</li><li><code class="inline">:data</code> - The record or records specifically attempting to be acted upon.</li><li><code class="inline">:tenant</code> (value that implements the <a href="https://hexdocs.pm/ash/3.5.32/Ash.ToTenant.html"><code class="inline">Ash.ToTenant</code></a> protocol) - The tenant to use for authorization</li><li><code class="inline">:alter_source?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If set to <code class="inline">true</code>, the source being authorized is returned so it can be run. The default value is <code class="inline">false</code>.</li><li><code class="inline">:base_query</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A base query on which to apply an generated filters</li><li><code class="inline">:no_check?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not authorization must pass at the strict/filter step, or if post-checks are allowed to be run The default value is <code class="inline">false</code>.</li><li><code class="inline">:on_must_pass_strict_check</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - Override the value returned when <code class="inline">no_check?</code> is <code class="inline">true</code> but a check must be run.</li><li><code class="inline">:atomic_changeset</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A base query on which to apply an generated filters</li><li><code class="inline">:return_forbidden_error?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to return a forbidden error in cases of not being authorized. The default value is <code class="inline">false</code>.</li></ul>
  </section>
</section>
<section class="detail" id="can_list_breaches?/3">

    <span id="can_list_breaches?/1"></span>

    <span id="can_list_breaches?/2"></span>

  <div class="detail-header">
    <a href="#can_list_breaches?/3" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">can_list_breaches?(actor, params_or_opts \\ %{}, opts \\ [])</h1>


    </div>
  </div>

  <section class="docstring">

<p>Runs authorization checks for <code class="inline">EhsEnforcement.Enforcement.Breach.read</code>, returning a boolean.
See <a href="https://hexdocs.pm/ash/3.5.32/Ash.html#can?/3"><code class="inline">Ash.can?/3</code></a> for more information</p><h2 id="can_list_breaches?/3-options" class="section-heading"><a href="#can_list_breaches?/3-options" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Options</span></h2><ul><li><code class="inline">:maybe_is</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - If the actor <em>may</em> be able to perform the action, what value should be returned. The default value is <code class="inline">true</code>.</li><li><code class="inline">:filter_with</code> - If set to <code class="inline">:error</code>, the query will raise an error on a match. If set to <code class="inline">:filter</code> the query will filter out unauthorized access. Valid values are :filter, :error The default value is <code class="inline">:filter</code>.</li><li><code class="inline">:validate?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to treat an invalid action as a non-allowed action. The default value is <code class="inline">false</code>.</li><li><code class="inline">:reuse_values?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not loaded data like aggregates, calculations and relationships should be checked in memory if possible, instead of querying. No effect if <code class="inline">pre_flight?</code> is <code class="inline">false</code>. The default value is <code class="inline">false</code>.</li><li><code class="inline">:pre_flight?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not this is a pre_flight check (which may perform optimized in-memory checks) or the final proper check. The default value is <code class="inline">true</code>.</li><li><code class="inline">:scope</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A value that implements the <a href="https://hexdocs.pm/ash/3.5.32/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> protocol. Will overwrite any actor, tenant or context provided. See <a href="https://hexdocs.pm/ash/3.5.32/Ash.Context.html"><code class="inline">Ash.Context</code></a> for more.</li><li><code class="inline">:run_queries?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to run queries. If set to <code class="inline">true</code>, <code class="inline">:maybe</code> will not be returned. The default value is <code class="inline">true</code>.</li><li><code class="inline">:data</code> - The record or records specifically attempting to be acted upon.</li><li><code class="inline">:tenant</code> (value that implements the <a href="https://hexdocs.pm/ash/3.5.32/Ash.ToTenant.html"><code class="inline">Ash.ToTenant</code></a> protocol) - The tenant to use for authorization</li><li><code class="inline">:alter_source?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If set to <code class="inline">true</code>, the source being authorized is returned so it can be run. The default value is <code class="inline">false</code>.</li><li><code class="inline">:base_query</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A base query on which to apply an generated filters</li><li><code class="inline">:no_check?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not authorization must pass at the strict/filter step, or if post-checks are allowed to be run The default value is <code class="inline">false</code>.</li><li><code class="inline">:on_must_pass_strict_check</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - Override the value returned when <code class="inline">no_check?</code> is <code class="inline">true</code> but a check must be run.</li><li><code class="inline">:atomic_changeset</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A base query on which to apply an generated filters</li><li><code class="inline">:return_forbidden_error?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to return a forbidden error in cases of not being authorized. The default value is <code class="inline">false</code>.</li></ul>
  </section>
</section>
<section class="detail" id="can_list_cases/3">

    <span id="can_list_cases/1"></span>

    <span id="can_list_cases/2"></span>

  <div class="detail-header">
    <a href="#can_list_cases/3" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">can_list_cases(actor, params_or_opts \\ %{}, opts \\ [])</h1>


    </div>
  </div>

  <section class="docstring">

<p>Runs authorization checks for <code class="inline">EhsEnforcement.Enforcement.Case.read</code>
See <a href="https://hexdocs.pm/ash/3.5.32/Ash.html#can/3"><code class="inline">Ash.can/3</code></a> for more information</p><h2 id="can_list_cases/3-options" class="section-heading"><a href="#can_list_cases/3-options" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Options</span></h2><ul><li><code class="inline">:maybe_is</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - If the actor <em>may</em> be able to perform the action, what value should be returned. The default value is <code class="inline">:maybe</code>.</li><li><code class="inline">:filter_with</code> - If set to <code class="inline">:error</code>, the query will raise an error on a match. If set to <code class="inline">:filter</code> the query will filter out unauthorized access. Valid values are :filter, :error The default value is <code class="inline">:filter</code>.</li><li><code class="inline">:validate?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to treat an invalid action as a non-allowed action. The default value is <code class="inline">false</code>.</li><li><code class="inline">:reuse_values?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not loaded data like aggregates, calculations and relationships should be checked in memory if possible, instead of querying. No effect if <code class="inline">pre_flight?</code> is <code class="inline">false</code>. The default value is <code class="inline">false</code>.</li><li><code class="inline">:pre_flight?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not this is a pre_flight check (which may perform optimized in-memory checks) or the final proper check. The default value is <code class="inline">true</code>.</li><li><code class="inline">:scope</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A value that implements the <a href="https://hexdocs.pm/ash/3.5.32/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> protocol. Will overwrite any actor, tenant or context provided. See <a href="https://hexdocs.pm/ash/3.5.32/Ash.Context.html"><code class="inline">Ash.Context</code></a> for more.</li><li><code class="inline">:run_queries?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to run queries. If set to <code class="inline">true</code>, <code class="inline">:maybe</code> will not be returned. The default value is <code class="inline">true</code>.</li><li><code class="inline">:data</code> - The record or records specifically attempting to be acted upon.</li><li><code class="inline">:tenant</code> (value that implements the <a href="https://hexdocs.pm/ash/3.5.32/Ash.ToTenant.html"><code class="inline">Ash.ToTenant</code></a> protocol) - The tenant to use for authorization</li><li><code class="inline">:alter_source?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If set to <code class="inline">true</code>, the source being authorized is returned so it can be run. The default value is <code class="inline">false</code>.</li><li><code class="inline">:base_query</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A base query on which to apply an generated filters</li><li><code class="inline">:no_check?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not authorization must pass at the strict/filter step, or if post-checks are allowed to be run The default value is <code class="inline">false</code>.</li><li><code class="inline">:on_must_pass_strict_check</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - Override the value returned when <code class="inline">no_check?</code> is <code class="inline">true</code> but a check must be run.</li><li><code class="inline">:atomic_changeset</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A base query on which to apply an generated filters</li><li><code class="inline">:return_forbidden_error?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to return a forbidden error in cases of not being authorized. The default value is <code class="inline">false</code>.</li></ul>
  </section>
</section>
<section class="detail" id="can_list_cases?/3">

    <span id="can_list_cases?/1"></span>

    <span id="can_list_cases?/2"></span>

  <div class="detail-header">
    <a href="#can_list_cases?/3" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">can_list_cases?(actor, params_or_opts \\ %{}, opts \\ [])</h1>


    </div>
  </div>

  <section class="docstring">

<p>Runs authorization checks for <code class="inline">EhsEnforcement.Enforcement.Case.read</code>, returning a boolean.
See <a href="https://hexdocs.pm/ash/3.5.32/Ash.html#can?/3"><code class="inline">Ash.can?/3</code></a> for more information</p><h2 id="can_list_cases?/3-options" class="section-heading"><a href="#can_list_cases?/3-options" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Options</span></h2><ul><li><code class="inline">:maybe_is</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - If the actor <em>may</em> be able to perform the action, what value should be returned. The default value is <code class="inline">true</code>.</li><li><code class="inline">:filter_with</code> - If set to <code class="inline">:error</code>, the query will raise an error on a match. If set to <code class="inline">:filter</code> the query will filter out unauthorized access. Valid values are :filter, :error The default value is <code class="inline">:filter</code>.</li><li><code class="inline">:validate?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to treat an invalid action as a non-allowed action. The default value is <code class="inline">false</code>.</li><li><code class="inline">:reuse_values?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not loaded data like aggregates, calculations and relationships should be checked in memory if possible, instead of querying. No effect if <code class="inline">pre_flight?</code> is <code class="inline">false</code>. The default value is <code class="inline">false</code>.</li><li><code class="inline">:pre_flight?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not this is a pre_flight check (which may perform optimized in-memory checks) or the final proper check. The default value is <code class="inline">true</code>.</li><li><code class="inline">:scope</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A value that implements the <a href="https://hexdocs.pm/ash/3.5.32/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> protocol. Will overwrite any actor, tenant or context provided. See <a href="https://hexdocs.pm/ash/3.5.32/Ash.Context.html"><code class="inline">Ash.Context</code></a> for more.</li><li><code class="inline">:run_queries?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to run queries. If set to <code class="inline">true</code>, <code class="inline">:maybe</code> will not be returned. The default value is <code class="inline">true</code>.</li><li><code class="inline">:data</code> - The record or records specifically attempting to be acted upon.</li><li><code class="inline">:tenant</code> (value that implements the <a href="https://hexdocs.pm/ash/3.5.32/Ash.ToTenant.html"><code class="inline">Ash.ToTenant</code></a> protocol) - The tenant to use for authorization</li><li><code class="inline">:alter_source?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If set to <code class="inline">true</code>, the source being authorized is returned so it can be run. The default value is <code class="inline">false</code>.</li><li><code class="inline">:base_query</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A base query on which to apply an generated filters</li><li><code class="inline">:no_check?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not authorization must pass at the strict/filter step, or if post-checks are allowed to be run The default value is <code class="inline">false</code>.</li><li><code class="inline">:on_must_pass_strict_check</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - Override the value returned when <code class="inline">no_check?</code> is <code class="inline">true</code> but a check must be run.</li><li><code class="inline">:atomic_changeset</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A base query on which to apply an generated filters</li><li><code class="inline">:return_forbidden_error?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to return a forbidden error in cases of not being authorized. The default value is <code class="inline">false</code>.</li></ul>
  </section>
</section>
<section class="detail" id="can_list_cases_by_date_range/5">

    <span id="can_list_cases_by_date_range/3"></span>

    <span id="can_list_cases_by_date_range/4"></span>

  <div class="detail-header">
    <a href="#can_list_cases_by_date_range/5" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">can_list_cases_by_date_range(actor, from_date, to_date, params_or_opts \\ %{}, opts \\ [])</h1>


    </div>
  </div>

  <section class="docstring">

<p>Runs authorization checks for <code class="inline">EhsEnforcement.Enforcement.Case.by_date_range</code>
See <a href="https://hexdocs.pm/ash/3.5.32/Ash.html#can/3"><code class="inline">Ash.can/3</code></a> for more information</p><h2 id="can_list_cases_by_date_range/5-options" class="section-heading"><a href="#can_list_cases_by_date_range/5-options" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Options</span></h2><ul><li><code class="inline">:maybe_is</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - If the actor <em>may</em> be able to perform the action, what value should be returned. The default value is <code class="inline">:maybe</code>.</li><li><code class="inline">:filter_with</code> - If set to <code class="inline">:error</code>, the query will raise an error on a match. If set to <code class="inline">:filter</code> the query will filter out unauthorized access. Valid values are :filter, :error The default value is <code class="inline">:filter</code>.</li><li><code class="inline">:validate?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to treat an invalid action as a non-allowed action. The default value is <code class="inline">false</code>.</li><li><code class="inline">:reuse_values?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not loaded data like aggregates, calculations and relationships should be checked in memory if possible, instead of querying. No effect if <code class="inline">pre_flight?</code> is <code class="inline">false</code>. The default value is <code class="inline">false</code>.</li><li><code class="inline">:pre_flight?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not this is a pre_flight check (which may perform optimized in-memory checks) or the final proper check. The default value is <code class="inline">true</code>.</li><li><code class="inline">:scope</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A value that implements the <a href="https://hexdocs.pm/ash/3.5.32/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> protocol. Will overwrite any actor, tenant or context provided. See <a href="https://hexdocs.pm/ash/3.5.32/Ash.Context.html"><code class="inline">Ash.Context</code></a> for more.</li><li><code class="inline">:run_queries?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to run queries. If set to <code class="inline">true</code>, <code class="inline">:maybe</code> will not be returned. The default value is <code class="inline">true</code>.</li><li><code class="inline">:data</code> - The record or records specifically attempting to be acted upon.</li><li><code class="inline">:tenant</code> (value that implements the <a href="https://hexdocs.pm/ash/3.5.32/Ash.ToTenant.html"><code class="inline">Ash.ToTenant</code></a> protocol) - The tenant to use for authorization</li><li><code class="inline">:alter_source?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If set to <code class="inline">true</code>, the source being authorized is returned so it can be run. The default value is <code class="inline">false</code>.</li><li><code class="inline">:base_query</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A base query on which to apply an generated filters</li><li><code class="inline">:no_check?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not authorization must pass at the strict/filter step, or if post-checks are allowed to be run The default value is <code class="inline">false</code>.</li><li><code class="inline">:on_must_pass_strict_check</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - Override the value returned when <code class="inline">no_check?</code> is <code class="inline">true</code> but a check must be run.</li><li><code class="inline">:atomic_changeset</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A base query on which to apply an generated filters</li><li><code class="inline">:return_forbidden_error?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to return a forbidden error in cases of not being authorized. The default value is <code class="inline">false</code>.</li></ul>
  </section>
</section>
<section class="detail" id="can_list_cases_by_date_range?/5">

    <span id="can_list_cases_by_date_range?/3"></span>

    <span id="can_list_cases_by_date_range?/4"></span>

  <div class="detail-header">
    <a href="#can_list_cases_by_date_range?/5" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">can_list_cases_by_date_range?(actor, from_date, to_date, params_or_opts \\ %{}, opts \\ [])</h1>


    </div>
  </div>

  <section class="docstring">

<p>Runs authorization checks for <code class="inline">EhsEnforcement.Enforcement.Case.by_date_range</code>, returning a boolean.
See <a href="https://hexdocs.pm/ash/3.5.32/Ash.html#can?/3"><code class="inline">Ash.can?/3</code></a> for more information</p><h2 id="can_list_cases_by_date_range?/5-options" class="section-heading"><a href="#can_list_cases_by_date_range?/5-options" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Options</span></h2><ul><li><code class="inline">:maybe_is</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - If the actor <em>may</em> be able to perform the action, what value should be returned. The default value is <code class="inline">true</code>.</li><li><code class="inline">:filter_with</code> - If set to <code class="inline">:error</code>, the query will raise an error on a match. If set to <code class="inline">:filter</code> the query will filter out unauthorized access. Valid values are :filter, :error The default value is <code class="inline">:filter</code>.</li><li><code class="inline">:validate?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to treat an invalid action as a non-allowed action. The default value is <code class="inline">false</code>.</li><li><code class="inline">:reuse_values?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not loaded data like aggregates, calculations and relationships should be checked in memory if possible, instead of querying. No effect if <code class="inline">pre_flight?</code> is <code class="inline">false</code>. The default value is <code class="inline">false</code>.</li><li><code class="inline">:pre_flight?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not this is a pre_flight check (which may perform optimized in-memory checks) or the final proper check. The default value is <code class="inline">true</code>.</li><li><code class="inline">:scope</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A value that implements the <a href="https://hexdocs.pm/ash/3.5.32/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> protocol. Will overwrite any actor, tenant or context provided. See <a href="https://hexdocs.pm/ash/3.5.32/Ash.Context.html"><code class="inline">Ash.Context</code></a> for more.</li><li><code class="inline">:run_queries?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to run queries. If set to <code class="inline">true</code>, <code class="inline">:maybe</code> will not be returned. The default value is <code class="inline">true</code>.</li><li><code class="inline">:data</code> - The record or records specifically attempting to be acted upon.</li><li><code class="inline">:tenant</code> (value that implements the <a href="https://hexdocs.pm/ash/3.5.32/Ash.ToTenant.html"><code class="inline">Ash.ToTenant</code></a> protocol) - The tenant to use for authorization</li><li><code class="inline">:alter_source?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If set to <code class="inline">true</code>, the source being authorized is returned so it can be run. The default value is <code class="inline">false</code>.</li><li><code class="inline">:base_query</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A base query on which to apply an generated filters</li><li><code class="inline">:no_check?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not authorization must pass at the strict/filter step, or if post-checks are allowed to be run The default value is <code class="inline">false</code>.</li><li><code class="inline">:on_must_pass_strict_check</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - Override the value returned when <code class="inline">no_check?</code> is <code class="inline">true</code> but a check must be run.</li><li><code class="inline">:atomic_changeset</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A base query on which to apply an generated filters</li><li><code class="inline">:return_forbidden_error?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to return a forbidden error in cases of not being authorized. The default value is <code class="inline">false</code>.</li></ul>
  </section>
</section>
<section class="detail" id="can_list_notices/3">

    <span id="can_list_notices/1"></span>

    <span id="can_list_notices/2"></span>

  <div class="detail-header">
    <a href="#can_list_notices/3" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">can_list_notices(actor, params_or_opts \\ %{}, opts \\ [])</h1>


    </div>
  </div>

  <section class="docstring">

<p>Runs authorization checks for <code class="inline">EhsEnforcement.Enforcement.Notice.read</code>
See <a href="https://hexdocs.pm/ash/3.5.32/Ash.html#can/3"><code class="inline">Ash.can/3</code></a> for more information</p><h2 id="can_list_notices/3-options" class="section-heading"><a href="#can_list_notices/3-options" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Options</span></h2><ul><li><code class="inline">:maybe_is</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - If the actor <em>may</em> be able to perform the action, what value should be returned. The default value is <code class="inline">:maybe</code>.</li><li><code class="inline">:filter_with</code> - If set to <code class="inline">:error</code>, the query will raise an error on a match. If set to <code class="inline">:filter</code> the query will filter out unauthorized access. Valid values are :filter, :error The default value is <code class="inline">:filter</code>.</li><li><code class="inline">:validate?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to treat an invalid action as a non-allowed action. The default value is <code class="inline">false</code>.</li><li><code class="inline">:reuse_values?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not loaded data like aggregates, calculations and relationships should be checked in memory if possible, instead of querying. No effect if <code class="inline">pre_flight?</code> is <code class="inline">false</code>. The default value is <code class="inline">false</code>.</li><li><code class="inline">:pre_flight?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not this is a pre_flight check (which may perform optimized in-memory checks) or the final proper check. The default value is <code class="inline">true</code>.</li><li><code class="inline">:scope</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A value that implements the <a href="https://hexdocs.pm/ash/3.5.32/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> protocol. Will overwrite any actor, tenant or context provided. See <a href="https://hexdocs.pm/ash/3.5.32/Ash.Context.html"><code class="inline">Ash.Context</code></a> for more.</li><li><code class="inline">:run_queries?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to run queries. If set to <code class="inline">true</code>, <code class="inline">:maybe</code> will not be returned. The default value is <code class="inline">true</code>.</li><li><code class="inline">:data</code> - The record or records specifically attempting to be acted upon.</li><li><code class="inline">:tenant</code> (value that implements the <a href="https://hexdocs.pm/ash/3.5.32/Ash.ToTenant.html"><code class="inline">Ash.ToTenant</code></a> protocol) - The tenant to use for authorization</li><li><code class="inline">:alter_source?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If set to <code class="inline">true</code>, the source being authorized is returned so it can be run. The default value is <code class="inline">false</code>.</li><li><code class="inline">:base_query</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A base query on which to apply an generated filters</li><li><code class="inline">:no_check?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not authorization must pass at the strict/filter step, or if post-checks are allowed to be run The default value is <code class="inline">false</code>.</li><li><code class="inline">:on_must_pass_strict_check</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - Override the value returned when <code class="inline">no_check?</code> is <code class="inline">true</code> but a check must be run.</li><li><code class="inline">:atomic_changeset</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A base query on which to apply an generated filters</li><li><code class="inline">:return_forbidden_error?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to return a forbidden error in cases of not being authorized. The default value is <code class="inline">false</code>.</li></ul>
  </section>
</section>
<section class="detail" id="can_list_notices?/3">

    <span id="can_list_notices?/1"></span>

    <span id="can_list_notices?/2"></span>

  <div class="detail-header">
    <a href="#can_list_notices?/3" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">can_list_notices?(actor, params_or_opts \\ %{}, opts \\ [])</h1>


    </div>
  </div>

  <section class="docstring">

<p>Runs authorization checks for <code class="inline">EhsEnforcement.Enforcement.Notice.read</code>, returning a boolean.
See <a href="https://hexdocs.pm/ash/3.5.32/Ash.html#can?/3"><code class="inline">Ash.can?/3</code></a> for more information</p><h2 id="can_list_notices?/3-options" class="section-heading"><a href="#can_list_notices?/3-options" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Options</span></h2><ul><li><code class="inline">:maybe_is</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - If the actor <em>may</em> be able to perform the action, what value should be returned. The default value is <code class="inline">true</code>.</li><li><code class="inline">:filter_with</code> - If set to <code class="inline">:error</code>, the query will raise an error on a match. If set to <code class="inline">:filter</code> the query will filter out unauthorized access. Valid values are :filter, :error The default value is <code class="inline">:filter</code>.</li><li><code class="inline">:validate?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to treat an invalid action as a non-allowed action. The default value is <code class="inline">false</code>.</li><li><code class="inline">:reuse_values?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not loaded data like aggregates, calculations and relationships should be checked in memory if possible, instead of querying. No effect if <code class="inline">pre_flight?</code> is <code class="inline">false</code>. The default value is <code class="inline">false</code>.</li><li><code class="inline">:pre_flight?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not this is a pre_flight check (which may perform optimized in-memory checks) or the final proper check. The default value is <code class="inline">true</code>.</li><li><code class="inline">:scope</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A value that implements the <a href="https://hexdocs.pm/ash/3.5.32/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> protocol. Will overwrite any actor, tenant or context provided. See <a href="https://hexdocs.pm/ash/3.5.32/Ash.Context.html"><code class="inline">Ash.Context</code></a> for more.</li><li><code class="inline">:run_queries?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to run queries. If set to <code class="inline">true</code>, <code class="inline">:maybe</code> will not be returned. The default value is <code class="inline">true</code>.</li><li><code class="inline">:data</code> - The record or records specifically attempting to be acted upon.</li><li><code class="inline">:tenant</code> (value that implements the <a href="https://hexdocs.pm/ash/3.5.32/Ash.ToTenant.html"><code class="inline">Ash.ToTenant</code></a> protocol) - The tenant to use for authorization</li><li><code class="inline">:alter_source?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If set to <code class="inline">true</code>, the source being authorized is returned so it can be run. The default value is <code class="inline">false</code>.</li><li><code class="inline">:base_query</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A base query on which to apply an generated filters</li><li><code class="inline">:no_check?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not authorization must pass at the strict/filter step, or if post-checks are allowed to be run The default value is <code class="inline">false</code>.</li><li><code class="inline">:on_must_pass_strict_check</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - Override the value returned when <code class="inline">no_check?</code> is <code class="inline">true</code> but a check must be run.</li><li><code class="inline">:atomic_changeset</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A base query on which to apply an generated filters</li><li><code class="inline">:return_forbidden_error?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to return a forbidden error in cases of not being authorized. The default value is <code class="inline">false</code>.</li></ul>
  </section>
</section>
<section class="detail" id="can_list_offenders/3">

    <span id="can_list_offenders/1"></span>

    <span id="can_list_offenders/2"></span>

  <div class="detail-header">
    <a href="#can_list_offenders/3" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">can_list_offenders(actor, params_or_opts \\ %{}, opts \\ [])</h1>


    </div>
  </div>

  <section class="docstring">

<p>Runs authorization checks for <code class="inline">EhsEnforcement.Enforcement.Offender.read</code>
See <a href="https://hexdocs.pm/ash/3.5.32/Ash.html#can/3"><code class="inline">Ash.can/3</code></a> for more information</p><h2 id="can_list_offenders/3-options" class="section-heading"><a href="#can_list_offenders/3-options" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Options</span></h2><ul><li><code class="inline">:maybe_is</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - If the actor <em>may</em> be able to perform the action, what value should be returned. The default value is <code class="inline">:maybe</code>.</li><li><code class="inline">:filter_with</code> - If set to <code class="inline">:error</code>, the query will raise an error on a match. If set to <code class="inline">:filter</code> the query will filter out unauthorized access. Valid values are :filter, :error The default value is <code class="inline">:filter</code>.</li><li><code class="inline">:validate?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to treat an invalid action as a non-allowed action. The default value is <code class="inline">false</code>.</li><li><code class="inline">:reuse_values?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not loaded data like aggregates, calculations and relationships should be checked in memory if possible, instead of querying. No effect if <code class="inline">pre_flight?</code> is <code class="inline">false</code>. The default value is <code class="inline">false</code>.</li><li><code class="inline">:pre_flight?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not this is a pre_flight check (which may perform optimized in-memory checks) or the final proper check. The default value is <code class="inline">true</code>.</li><li><code class="inline">:scope</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A value that implements the <a href="https://hexdocs.pm/ash/3.5.32/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> protocol. Will overwrite any actor, tenant or context provided. See <a href="https://hexdocs.pm/ash/3.5.32/Ash.Context.html"><code class="inline">Ash.Context</code></a> for more.</li><li><code class="inline">:run_queries?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to run queries. If set to <code class="inline">true</code>, <code class="inline">:maybe</code> will not be returned. The default value is <code class="inline">true</code>.</li><li><code class="inline">:data</code> - The record or records specifically attempting to be acted upon.</li><li><code class="inline">:tenant</code> (value that implements the <a href="https://hexdocs.pm/ash/3.5.32/Ash.ToTenant.html"><code class="inline">Ash.ToTenant</code></a> protocol) - The tenant to use for authorization</li><li><code class="inline">:alter_source?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If set to <code class="inline">true</code>, the source being authorized is returned so it can be run. The default value is <code class="inline">false</code>.</li><li><code class="inline">:base_query</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A base query on which to apply an generated filters</li><li><code class="inline">:no_check?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not authorization must pass at the strict/filter step, or if post-checks are allowed to be run The default value is <code class="inline">false</code>.</li><li><code class="inline">:on_must_pass_strict_check</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - Override the value returned when <code class="inline">no_check?</code> is <code class="inline">true</code> but a check must be run.</li><li><code class="inline">:atomic_changeset</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A base query on which to apply an generated filters</li><li><code class="inline">:return_forbidden_error?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to return a forbidden error in cases of not being authorized. The default value is <code class="inline">false</code>.</li></ul>
  </section>
</section>
<section class="detail" id="can_list_offenders?/3">

    <span id="can_list_offenders?/1"></span>

    <span id="can_list_offenders?/2"></span>

  <div class="detail-header">
    <a href="#can_list_offenders?/3" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">can_list_offenders?(actor, params_or_opts \\ %{}, opts \\ [])</h1>


    </div>
  </div>

  <section class="docstring">

<p>Runs authorization checks for <code class="inline">EhsEnforcement.Enforcement.Offender.read</code>, returning a boolean.
See <a href="https://hexdocs.pm/ash/3.5.32/Ash.html#can?/3"><code class="inline">Ash.can?/3</code></a> for more information</p><h2 id="can_list_offenders?/3-options" class="section-heading"><a href="#can_list_offenders?/3-options" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Options</span></h2><ul><li><code class="inline">:maybe_is</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - If the actor <em>may</em> be able to perform the action, what value should be returned. The default value is <code class="inline">true</code>.</li><li><code class="inline">:filter_with</code> - If set to <code class="inline">:error</code>, the query will raise an error on a match. If set to <code class="inline">:filter</code> the query will filter out unauthorized access. Valid values are :filter, :error The default value is <code class="inline">:filter</code>.</li><li><code class="inline">:validate?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to treat an invalid action as a non-allowed action. The default value is <code class="inline">false</code>.</li><li><code class="inline">:reuse_values?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not loaded data like aggregates, calculations and relationships should be checked in memory if possible, instead of querying. No effect if <code class="inline">pre_flight?</code> is <code class="inline">false</code>. The default value is <code class="inline">false</code>.</li><li><code class="inline">:pre_flight?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not this is a pre_flight check (which may perform optimized in-memory checks) or the final proper check. The default value is <code class="inline">true</code>.</li><li><code class="inline">:scope</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A value that implements the <a href="https://hexdocs.pm/ash/3.5.32/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> protocol. Will overwrite any actor, tenant or context provided. See <a href="https://hexdocs.pm/ash/3.5.32/Ash.Context.html"><code class="inline">Ash.Context</code></a> for more.</li><li><code class="inline">:run_queries?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to run queries. If set to <code class="inline">true</code>, <code class="inline">:maybe</code> will not be returned. The default value is <code class="inline">true</code>.</li><li><code class="inline">:data</code> - The record or records specifically attempting to be acted upon.</li><li><code class="inline">:tenant</code> (value that implements the <a href="https://hexdocs.pm/ash/3.5.32/Ash.ToTenant.html"><code class="inline">Ash.ToTenant</code></a> protocol) - The tenant to use for authorization</li><li><code class="inline">:alter_source?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If set to <code class="inline">true</code>, the source being authorized is returned so it can be run. The default value is <code class="inline">false</code>.</li><li><code class="inline">:base_query</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A base query on which to apply an generated filters</li><li><code class="inline">:no_check?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not authorization must pass at the strict/filter step, or if post-checks are allowed to be run The default value is <code class="inline">false</code>.</li><li><code class="inline">:on_must_pass_strict_check</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - Override the value returned when <code class="inline">no_check?</code> is <code class="inline">true</code> but a check must be run.</li><li><code class="inline">:atomic_changeset</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A base query on which to apply an generated filters</li><li><code class="inline">:return_forbidden_error?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to return a forbidden error in cases of not being authorized. The default value is <code class="inline">false</code>.</li></ul>
  </section>
</section>
<section class="detail" id="can_refresh_metrics/3">

    <span id="can_refresh_metrics/1"></span>

    <span id="can_refresh_metrics/2"></span>

  <div class="detail-header">
    <a href="#can_refresh_metrics/3" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">can_refresh_metrics(actor, params_or_opts \\ %{}, opts \\ [])</h1>


    </div>
  </div>

  <section class="docstring">

<p>Runs authorization checks for <code class="inline">EhsEnforcement.Enforcement.Metrics.refresh</code>
See <a href="https://hexdocs.pm/ash/3.5.32/Ash.html#can/3"><code class="inline">Ash.can/3</code></a> for more information</p><h2 id="can_refresh_metrics/3-options" class="section-heading"><a href="#can_refresh_metrics/3-options" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Options</span></h2><ul><li><code class="inline">:maybe_is</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - If the actor <em>may</em> be able to perform the action, what value should be returned. The default value is <code class="inline">:maybe</code>.</li><li><code class="inline">:filter_with</code> - If set to <code class="inline">:error</code>, the query will raise an error on a match. If set to <code class="inline">:filter</code> the query will filter out unauthorized access. Valid values are :filter, :error The default value is <code class="inline">:filter</code>.</li><li><code class="inline">:validate?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to treat an invalid action as a non-allowed action. The default value is <code class="inline">false</code>.</li><li><code class="inline">:reuse_values?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not loaded data like aggregates, calculations and relationships should be checked in memory if possible, instead of querying. No effect if <code class="inline">pre_flight?</code> is <code class="inline">false</code>. The default value is <code class="inline">false</code>.</li><li><code class="inline">:pre_flight?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not this is a pre_flight check (which may perform optimized in-memory checks) or the final proper check. The default value is <code class="inline">true</code>.</li><li><code class="inline">:scope</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A value that implements the <a href="https://hexdocs.pm/ash/3.5.32/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> protocol. Will overwrite any actor, tenant or context provided. See <a href="https://hexdocs.pm/ash/3.5.32/Ash.Context.html"><code class="inline">Ash.Context</code></a> for more.</li><li><code class="inline">:run_queries?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to run queries. If set to <code class="inline">true</code>, <code class="inline">:maybe</code> will not be returned. The default value is <code class="inline">true</code>.</li><li><code class="inline">:data</code> - The record or records specifically attempting to be acted upon.</li><li><code class="inline">:tenant</code> (value that implements the <a href="https://hexdocs.pm/ash/3.5.32/Ash.ToTenant.html"><code class="inline">Ash.ToTenant</code></a> protocol) - The tenant to use for authorization</li><li><code class="inline">:alter_source?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If set to <code class="inline">true</code>, the source being authorized is returned so it can be run. The default value is <code class="inline">false</code>.</li><li><code class="inline">:base_query</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A base query on which to apply an generated filters</li><li><code class="inline">:no_check?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not authorization must pass at the strict/filter step, or if post-checks are allowed to be run The default value is <code class="inline">false</code>.</li><li><code class="inline">:on_must_pass_strict_check</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - Override the value returned when <code class="inline">no_check?</code> is <code class="inline">true</code> but a check must be run.</li><li><code class="inline">:atomic_changeset</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A base query on which to apply an generated filters</li><li><code class="inline">:return_forbidden_error?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to return a forbidden error in cases of not being authorized. The default value is <code class="inline">false</code>.</li></ul>
  </section>
</section>
<section class="detail" id="can_refresh_metrics?/3">

    <span id="can_refresh_metrics?/1"></span>

    <span id="can_refresh_metrics?/2"></span>

  <div class="detail-header">
    <a href="#can_refresh_metrics?/3" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">can_refresh_metrics?(actor, params_or_opts \\ %{}, opts \\ [])</h1>


    </div>
  </div>

  <section class="docstring">

<p>Runs authorization checks for <code class="inline">EhsEnforcement.Enforcement.Metrics.refresh</code>, returning a boolean.
See <a href="https://hexdocs.pm/ash/3.5.32/Ash.html#can?/3"><code class="inline">Ash.can?/3</code></a> for more information</p><h2 id="can_refresh_metrics?/3-options" class="section-heading"><a href="#can_refresh_metrics?/3-options" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Options</span></h2><ul><li><code class="inline">:maybe_is</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - If the actor <em>may</em> be able to perform the action, what value should be returned. The default value is <code class="inline">true</code>.</li><li><code class="inline">:filter_with</code> - If set to <code class="inline">:error</code>, the query will raise an error on a match. If set to <code class="inline">:filter</code> the query will filter out unauthorized access. Valid values are :filter, :error The default value is <code class="inline">:filter</code>.</li><li><code class="inline">:validate?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to treat an invalid action as a non-allowed action. The default value is <code class="inline">false</code>.</li><li><code class="inline">:reuse_values?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not loaded data like aggregates, calculations and relationships should be checked in memory if possible, instead of querying. No effect if <code class="inline">pre_flight?</code> is <code class="inline">false</code>. The default value is <code class="inline">false</code>.</li><li><code class="inline">:pre_flight?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not this is a pre_flight check (which may perform optimized in-memory checks) or the final proper check. The default value is <code class="inline">true</code>.</li><li><code class="inline">:scope</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A value that implements the <a href="https://hexdocs.pm/ash/3.5.32/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> protocol. Will overwrite any actor, tenant or context provided. See <a href="https://hexdocs.pm/ash/3.5.32/Ash.Context.html"><code class="inline">Ash.Context</code></a> for more.</li><li><code class="inline">:run_queries?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to run queries. If set to <code class="inline">true</code>, <code class="inline">:maybe</code> will not be returned. The default value is <code class="inline">true</code>.</li><li><code class="inline">:data</code> - The record or records specifically attempting to be acted upon.</li><li><code class="inline">:tenant</code> (value that implements the <a href="https://hexdocs.pm/ash/3.5.32/Ash.ToTenant.html"><code class="inline">Ash.ToTenant</code></a> protocol) - The tenant to use for authorization</li><li><code class="inline">:alter_source?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If set to <code class="inline">true</code>, the source being authorized is returned so it can be run. The default value is <code class="inline">false</code>.</li><li><code class="inline">:base_query</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A base query on which to apply an generated filters</li><li><code class="inline">:no_check?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not authorization must pass at the strict/filter step, or if post-checks are allowed to be run The default value is <code class="inline">false</code>.</li><li><code class="inline">:on_must_pass_strict_check</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - Override the value returned when <code class="inline">no_check?</code> is <code class="inline">true</code> but a check must be run.</li><li><code class="inline">:atomic_changeset</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A base query on which to apply an generated filters</li><li><code class="inline">:return_forbidden_error?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to return a forbidden error in cases of not being authorized. The default value is <code class="inline">false</code>.</li></ul>
  </section>
</section>
<section class="detail" id="can_search_offenders/4">

    <span id="can_search_offenders/2"></span>

    <span id="can_search_offenders/3"></span>

  <div class="detail-header">
    <a href="#can_search_offenders/4" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">can_search_offenders(actor, query, params_or_opts \\ %{}, opts \\ [])</h1>


    </div>
  </div>

  <section class="docstring">

<p>Runs authorization checks for <code class="inline">EhsEnforcement.Enforcement.Offender.search</code>
See <a href="https://hexdocs.pm/ash/3.5.32/Ash.html#can/3"><code class="inline">Ash.can/3</code></a> for more information</p><h2 id="can_search_offenders/4-options" class="section-heading"><a href="#can_search_offenders/4-options" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Options</span></h2><ul><li><code class="inline">:maybe_is</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - If the actor <em>may</em> be able to perform the action, what value should be returned. The default value is <code class="inline">:maybe</code>.</li><li><code class="inline">:filter_with</code> - If set to <code class="inline">:error</code>, the query will raise an error on a match. If set to <code class="inline">:filter</code> the query will filter out unauthorized access. Valid values are :filter, :error The default value is <code class="inline">:filter</code>.</li><li><code class="inline">:validate?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to treat an invalid action as a non-allowed action. The default value is <code class="inline">false</code>.</li><li><code class="inline">:reuse_values?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not loaded data like aggregates, calculations and relationships should be checked in memory if possible, instead of querying. No effect if <code class="inline">pre_flight?</code> is <code class="inline">false</code>. The default value is <code class="inline">false</code>.</li><li><code class="inline">:pre_flight?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not this is a pre_flight check (which may perform optimized in-memory checks) or the final proper check. The default value is <code class="inline">true</code>.</li><li><code class="inline">:scope</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A value that implements the <a href="https://hexdocs.pm/ash/3.5.32/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> protocol. Will overwrite any actor, tenant or context provided. See <a href="https://hexdocs.pm/ash/3.5.32/Ash.Context.html"><code class="inline">Ash.Context</code></a> for more.</li><li><code class="inline">:run_queries?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to run queries. If set to <code class="inline">true</code>, <code class="inline">:maybe</code> will not be returned. The default value is <code class="inline">true</code>.</li><li><code class="inline">:data</code> - The record or records specifically attempting to be acted upon.</li><li><code class="inline">:tenant</code> (value that implements the <a href="https://hexdocs.pm/ash/3.5.32/Ash.ToTenant.html"><code class="inline">Ash.ToTenant</code></a> protocol) - The tenant to use for authorization</li><li><code class="inline">:alter_source?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If set to <code class="inline">true</code>, the source being authorized is returned so it can be run. The default value is <code class="inline">false</code>.</li><li><code class="inline">:base_query</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A base query on which to apply an generated filters</li><li><code class="inline">:no_check?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not authorization must pass at the strict/filter step, or if post-checks are allowed to be run The default value is <code class="inline">false</code>.</li><li><code class="inline">:on_must_pass_strict_check</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - Override the value returned when <code class="inline">no_check?</code> is <code class="inline">true</code> but a check must be run.</li><li><code class="inline">:atomic_changeset</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A base query on which to apply an generated filters</li><li><code class="inline">:return_forbidden_error?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to return a forbidden error in cases of not being authorized. The default value is <code class="inline">false</code>.</li></ul>
  </section>
</section>
<section class="detail" id="can_search_offenders?/4">

    <span id="can_search_offenders?/2"></span>

    <span id="can_search_offenders?/3"></span>

  <div class="detail-header">
    <a href="#can_search_offenders?/4" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">can_search_offenders?(actor, query, params_or_opts \\ %{}, opts \\ [])</h1>


    </div>
  </div>

  <section class="docstring">

<p>Runs authorization checks for <code class="inline">EhsEnforcement.Enforcement.Offender.search</code>, returning a boolean.
See <a href="https://hexdocs.pm/ash/3.5.32/Ash.html#can?/3"><code class="inline">Ash.can?/3</code></a> for more information</p><h2 id="can_search_offenders?/4-options" class="section-heading"><a href="#can_search_offenders?/4-options" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Options</span></h2><ul><li><code class="inline">:maybe_is</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - If the actor <em>may</em> be able to perform the action, what value should be returned. The default value is <code class="inline">true</code>.</li><li><code class="inline">:filter_with</code> - If set to <code class="inline">:error</code>, the query will raise an error on a match. If set to <code class="inline">:filter</code> the query will filter out unauthorized access. Valid values are :filter, :error The default value is <code class="inline">:filter</code>.</li><li><code class="inline">:validate?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to treat an invalid action as a non-allowed action. The default value is <code class="inline">false</code>.</li><li><code class="inline">:reuse_values?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not loaded data like aggregates, calculations and relationships should be checked in memory if possible, instead of querying. No effect if <code class="inline">pre_flight?</code> is <code class="inline">false</code>. The default value is <code class="inline">false</code>.</li><li><code class="inline">:pre_flight?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not this is a pre_flight check (which may perform optimized in-memory checks) or the final proper check. The default value is <code class="inline">true</code>.</li><li><code class="inline">:scope</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A value that implements the <a href="https://hexdocs.pm/ash/3.5.32/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> protocol. Will overwrite any actor, tenant or context provided. See <a href="https://hexdocs.pm/ash/3.5.32/Ash.Context.html"><code class="inline">Ash.Context</code></a> for more.</li><li><code class="inline">:run_queries?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to run queries. If set to <code class="inline">true</code>, <code class="inline">:maybe</code> will not be returned. The default value is <code class="inline">true</code>.</li><li><code class="inline">:data</code> - The record or records specifically attempting to be acted upon.</li><li><code class="inline">:tenant</code> (value that implements the <a href="https://hexdocs.pm/ash/3.5.32/Ash.ToTenant.html"><code class="inline">Ash.ToTenant</code></a> protocol) - The tenant to use for authorization</li><li><code class="inline">:alter_source?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If set to <code class="inline">true</code>, the source being authorized is returned so it can be run. The default value is <code class="inline">false</code>.</li><li><code class="inline">:base_query</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A base query on which to apply an generated filters</li><li><code class="inline">:no_check?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not authorization must pass at the strict/filter step, or if post-checks are allowed to be run The default value is <code class="inline">false</code>.</li><li><code class="inline">:on_must_pass_strict_check</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - Override the value returned when <code class="inline">no_check?</code> is <code class="inline">true</code> but a check must be run.</li><li><code class="inline">:atomic_changeset</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A base query on which to apply an generated filters</li><li><code class="inline">:return_forbidden_error?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to return a forbidden error in cases of not being authorized. The default value is <code class="inline">false</code>.</li></ul>
  </section>
</section>
<section class="detail" id="can_sync_case_from_airtable/4">

    <span id="can_sync_case_from_airtable/2"></span>

    <span id="can_sync_case_from_airtable/3"></span>

  <div class="detail-header">
    <a href="#can_sync_case_from_airtable/4" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">can_sync_case_from_airtable(actor, record, params_or_opts \\ %{}, opts \\ [])</h1>


    </div>
  </div>

  <section class="docstring">

<p>Runs authorization checks for <code class="inline">EhsEnforcement.Enforcement.Case.sync_from_airtable</code>
See <a href="https://hexdocs.pm/ash/3.5.32/Ash.html#can/3"><code class="inline">Ash.can/3</code></a> for more information</p><h2 id="can_sync_case_from_airtable/4-options" class="section-heading"><a href="#can_sync_case_from_airtable/4-options" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Options</span></h2><ul><li><code class="inline">:maybe_is</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - If the actor <em>may</em> be able to perform the action, what value should be returned. The default value is <code class="inline">:maybe</code>.</li><li><code class="inline">:filter_with</code> - If set to <code class="inline">:error</code>, the query will raise an error on a match. If set to <code class="inline">:filter</code> the query will filter out unauthorized access. Valid values are :filter, :error The default value is <code class="inline">:filter</code>.</li><li><code class="inline">:validate?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to treat an invalid action as a non-allowed action. The default value is <code class="inline">false</code>.</li><li><code class="inline">:reuse_values?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not loaded data like aggregates, calculations and relationships should be checked in memory if possible, instead of querying. No effect if <code class="inline">pre_flight?</code> is <code class="inline">false</code>. The default value is <code class="inline">false</code>.</li><li><code class="inline">:pre_flight?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not this is a pre_flight check (which may perform optimized in-memory checks) or the final proper check. The default value is <code class="inline">true</code>.</li><li><code class="inline">:scope</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A value that implements the <a href="https://hexdocs.pm/ash/3.5.32/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> protocol. Will overwrite any actor, tenant or context provided. See <a href="https://hexdocs.pm/ash/3.5.32/Ash.Context.html"><code class="inline">Ash.Context</code></a> for more.</li><li><code class="inline">:run_queries?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to run queries. If set to <code class="inline">true</code>, <code class="inline">:maybe</code> will not be returned. The default value is <code class="inline">true</code>.</li><li><code class="inline">:data</code> - The record or records specifically attempting to be acted upon.</li><li><code class="inline">:tenant</code> (value that implements the <a href="https://hexdocs.pm/ash/3.5.32/Ash.ToTenant.html"><code class="inline">Ash.ToTenant</code></a> protocol) - The tenant to use for authorization</li><li><code class="inline">:alter_source?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If set to <code class="inline">true</code>, the source being authorized is returned so it can be run. The default value is <code class="inline">false</code>.</li><li><code class="inline">:base_query</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A base query on which to apply an generated filters</li><li><code class="inline">:no_check?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not authorization must pass at the strict/filter step, or if post-checks are allowed to be run The default value is <code class="inline">false</code>.</li><li><code class="inline">:on_must_pass_strict_check</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - Override the value returned when <code class="inline">no_check?</code> is <code class="inline">true</code> but a check must be run.</li><li><code class="inline">:atomic_changeset</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A base query on which to apply an generated filters</li><li><code class="inline">:return_forbidden_error?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to return a forbidden error in cases of not being authorized. The default value is <code class="inline">false</code>.</li></ul>
  </section>
</section>
<section class="detail" id="can_sync_case_from_airtable?/4">

    <span id="can_sync_case_from_airtable?/2"></span>

    <span id="can_sync_case_from_airtable?/3"></span>

  <div class="detail-header">
    <a href="#can_sync_case_from_airtable?/4" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">can_sync_case_from_airtable?(actor, record, params_or_opts \\ %{}, opts \\ [])</h1>


    </div>
  </div>

  <section class="docstring">

<p>Runs authorization checks for <code class="inline">EhsEnforcement.Enforcement.Case.sync_from_airtable</code>, returning a boolean.
See <a href="https://hexdocs.pm/ash/3.5.32/Ash.html#can?/3"><code class="inline">Ash.can?/3</code></a> for more information</p><h2 id="can_sync_case_from_airtable?/4-options" class="section-heading"><a href="#can_sync_case_from_airtable?/4-options" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Options</span></h2><ul><li><code class="inline">:maybe_is</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - If the actor <em>may</em> be able to perform the action, what value should be returned. The default value is <code class="inline">true</code>.</li><li><code class="inline">:filter_with</code> - If set to <code class="inline">:error</code>, the query will raise an error on a match. If set to <code class="inline">:filter</code> the query will filter out unauthorized access. Valid values are :filter, :error The default value is <code class="inline">:filter</code>.</li><li><code class="inline">:validate?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to treat an invalid action as a non-allowed action. The default value is <code class="inline">false</code>.</li><li><code class="inline">:reuse_values?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not loaded data like aggregates, calculations and relationships should be checked in memory if possible, instead of querying. No effect if <code class="inline">pre_flight?</code> is <code class="inline">false</code>. The default value is <code class="inline">false</code>.</li><li><code class="inline">:pre_flight?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not this is a pre_flight check (which may perform optimized in-memory checks) or the final proper check. The default value is <code class="inline">true</code>.</li><li><code class="inline">:scope</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A value that implements the <a href="https://hexdocs.pm/ash/3.5.32/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> protocol. Will overwrite any actor, tenant or context provided. See <a href="https://hexdocs.pm/ash/3.5.32/Ash.Context.html"><code class="inline">Ash.Context</code></a> for more.</li><li><code class="inline">:run_queries?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to run queries. If set to <code class="inline">true</code>, <code class="inline">:maybe</code> will not be returned. The default value is <code class="inline">true</code>.</li><li><code class="inline">:data</code> - The record or records specifically attempting to be acted upon.</li><li><code class="inline">:tenant</code> (value that implements the <a href="https://hexdocs.pm/ash/3.5.32/Ash.ToTenant.html"><code class="inline">Ash.ToTenant</code></a> protocol) - The tenant to use for authorization</li><li><code class="inline">:alter_source?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If set to <code class="inline">true</code>, the source being authorized is returned so it can be run. The default value is <code class="inline">false</code>.</li><li><code class="inline">:base_query</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A base query on which to apply an generated filters</li><li><code class="inline">:no_check?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not authorization must pass at the strict/filter step, or if post-checks are allowed to be run The default value is <code class="inline">false</code>.</li><li><code class="inline">:on_must_pass_strict_check</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - Override the value returned when <code class="inline">no_check?</code> is <code class="inline">true</code> but a check must be run.</li><li><code class="inline">:atomic_changeset</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A base query on which to apply an generated filters</li><li><code class="inline">:return_forbidden_error?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to return a forbidden error in cases of not being authorized. The default value is <code class="inline">false</code>.</li></ul>
  </section>
</section>
<section class="detail" id="can_update_agency/4">

    <span id="can_update_agency/2"></span>

    <span id="can_update_agency/3"></span>

  <div class="detail-header">
    <a href="#can_update_agency/4" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">can_update_agency(actor, record, params_or_opts \\ %{}, opts \\ [])</h1>


    </div>
  </div>

  <section class="docstring">

<p>Runs authorization checks for <code class="inline">EhsEnforcement.Enforcement.Agency.update</code>
See <a href="https://hexdocs.pm/ash/3.5.32/Ash.html#can/3"><code class="inline">Ash.can/3</code></a> for more information</p><h2 id="can_update_agency/4-options" class="section-heading"><a href="#can_update_agency/4-options" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Options</span></h2><ul><li><code class="inline">:maybe_is</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - If the actor <em>may</em> be able to perform the action, what value should be returned. The default value is <code class="inline">:maybe</code>.</li><li><code class="inline">:filter_with</code> - If set to <code class="inline">:error</code>, the query will raise an error on a match. If set to <code class="inline">:filter</code> the query will filter out unauthorized access. Valid values are :filter, :error The default value is <code class="inline">:filter</code>.</li><li><code class="inline">:validate?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to treat an invalid action as a non-allowed action. The default value is <code class="inline">false</code>.</li><li><code class="inline">:reuse_values?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not loaded data like aggregates, calculations and relationships should be checked in memory if possible, instead of querying. No effect if <code class="inline">pre_flight?</code> is <code class="inline">false</code>. The default value is <code class="inline">false</code>.</li><li><code class="inline">:pre_flight?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not this is a pre_flight check (which may perform optimized in-memory checks) or the final proper check. The default value is <code class="inline">true</code>.</li><li><code class="inline">:scope</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A value that implements the <a href="https://hexdocs.pm/ash/3.5.32/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> protocol. Will overwrite any actor, tenant or context provided. See <a href="https://hexdocs.pm/ash/3.5.32/Ash.Context.html"><code class="inline">Ash.Context</code></a> for more.</li><li><code class="inline">:run_queries?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to run queries. If set to <code class="inline">true</code>, <code class="inline">:maybe</code> will not be returned. The default value is <code class="inline">true</code>.</li><li><code class="inline">:data</code> - The record or records specifically attempting to be acted upon.</li><li><code class="inline">:tenant</code> (value that implements the <a href="https://hexdocs.pm/ash/3.5.32/Ash.ToTenant.html"><code class="inline">Ash.ToTenant</code></a> protocol) - The tenant to use for authorization</li><li><code class="inline">:alter_source?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If set to <code class="inline">true</code>, the source being authorized is returned so it can be run. The default value is <code class="inline">false</code>.</li><li><code class="inline">:base_query</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A base query on which to apply an generated filters</li><li><code class="inline">:no_check?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not authorization must pass at the strict/filter step, or if post-checks are allowed to be run The default value is <code class="inline">false</code>.</li><li><code class="inline">:on_must_pass_strict_check</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - Override the value returned when <code class="inline">no_check?</code> is <code class="inline">true</code> but a check must be run.</li><li><code class="inline">:atomic_changeset</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A base query on which to apply an generated filters</li><li><code class="inline">:return_forbidden_error?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to return a forbidden error in cases of not being authorized. The default value is <code class="inline">false</code>.</li></ul>
  </section>
</section>
<section class="detail" id="can_update_agency?/4">

    <span id="can_update_agency?/2"></span>

    <span id="can_update_agency?/3"></span>

  <div class="detail-header">
    <a href="#can_update_agency?/4" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">can_update_agency?(actor, record, params_or_opts \\ %{}, opts \\ [])</h1>


    </div>
  </div>

  <section class="docstring">

<p>Runs authorization checks for <code class="inline">EhsEnforcement.Enforcement.Agency.update</code>, returning a boolean.
See <a href="https://hexdocs.pm/ash/3.5.32/Ash.html#can?/3"><code class="inline">Ash.can?/3</code></a> for more information</p><h2 id="can_update_agency?/4-options" class="section-heading"><a href="#can_update_agency?/4-options" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Options</span></h2><ul><li><code class="inline">:maybe_is</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - If the actor <em>may</em> be able to perform the action, what value should be returned. The default value is <code class="inline">true</code>.</li><li><code class="inline">:filter_with</code> - If set to <code class="inline">:error</code>, the query will raise an error on a match. If set to <code class="inline">:filter</code> the query will filter out unauthorized access. Valid values are :filter, :error The default value is <code class="inline">:filter</code>.</li><li><code class="inline">:validate?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to treat an invalid action as a non-allowed action. The default value is <code class="inline">false</code>.</li><li><code class="inline">:reuse_values?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not loaded data like aggregates, calculations and relationships should be checked in memory if possible, instead of querying. No effect if <code class="inline">pre_flight?</code> is <code class="inline">false</code>. The default value is <code class="inline">false</code>.</li><li><code class="inline">:pre_flight?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not this is a pre_flight check (which may perform optimized in-memory checks) or the final proper check. The default value is <code class="inline">true</code>.</li><li><code class="inline">:scope</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A value that implements the <a href="https://hexdocs.pm/ash/3.5.32/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> protocol. Will overwrite any actor, tenant or context provided. See <a href="https://hexdocs.pm/ash/3.5.32/Ash.Context.html"><code class="inline">Ash.Context</code></a> for more.</li><li><code class="inline">:run_queries?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to run queries. If set to <code class="inline">true</code>, <code class="inline">:maybe</code> will not be returned. The default value is <code class="inline">true</code>.</li><li><code class="inline">:data</code> - The record or records specifically attempting to be acted upon.</li><li><code class="inline">:tenant</code> (value that implements the <a href="https://hexdocs.pm/ash/3.5.32/Ash.ToTenant.html"><code class="inline">Ash.ToTenant</code></a> protocol) - The tenant to use for authorization</li><li><code class="inline">:alter_source?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If set to <code class="inline">true</code>, the source being authorized is returned so it can be run. The default value is <code class="inline">false</code>.</li><li><code class="inline">:base_query</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A base query on which to apply an generated filters</li><li><code class="inline">:no_check?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not authorization must pass at the strict/filter step, or if post-checks are allowed to be run The default value is <code class="inline">false</code>.</li><li><code class="inline">:on_must_pass_strict_check</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - Override the value returned when <code class="inline">no_check?</code> is <code class="inline">true</code> but a check must be run.</li><li><code class="inline">:atomic_changeset</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A base query on which to apply an generated filters</li><li><code class="inline">:return_forbidden_error?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to return a forbidden error in cases of not being authorized. The default value is <code class="inline">false</code>.</li></ul>
  </section>
</section>
<section class="detail" id="can_update_breach/4">

    <span id="can_update_breach/2"></span>

    <span id="can_update_breach/3"></span>

  <div class="detail-header">
    <a href="#can_update_breach/4" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">can_update_breach(actor, record, params_or_opts \\ %{}, opts \\ [])</h1>


    </div>
  </div>

  <section class="docstring">

<p>Runs authorization checks for <code class="inline">EhsEnforcement.Enforcement.Breach.update</code>
See <a href="https://hexdocs.pm/ash/3.5.32/Ash.html#can/3"><code class="inline">Ash.can/3</code></a> for more information</p><h2 id="can_update_breach/4-options" class="section-heading"><a href="#can_update_breach/4-options" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Options</span></h2><ul><li><code class="inline">:maybe_is</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - If the actor <em>may</em> be able to perform the action, what value should be returned. The default value is <code class="inline">:maybe</code>.</li><li><code class="inline">:filter_with</code> - If set to <code class="inline">:error</code>, the query will raise an error on a match. If set to <code class="inline">:filter</code> the query will filter out unauthorized access. Valid values are :filter, :error The default value is <code class="inline">:filter</code>.</li><li><code class="inline">:validate?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to treat an invalid action as a non-allowed action. The default value is <code class="inline">false</code>.</li><li><code class="inline">:reuse_values?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not loaded data like aggregates, calculations and relationships should be checked in memory if possible, instead of querying. No effect if <code class="inline">pre_flight?</code> is <code class="inline">false</code>. The default value is <code class="inline">false</code>.</li><li><code class="inline">:pre_flight?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not this is a pre_flight check (which may perform optimized in-memory checks) or the final proper check. The default value is <code class="inline">true</code>.</li><li><code class="inline">:scope</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A value that implements the <a href="https://hexdocs.pm/ash/3.5.32/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> protocol. Will overwrite any actor, tenant or context provided. See <a href="https://hexdocs.pm/ash/3.5.32/Ash.Context.html"><code class="inline">Ash.Context</code></a> for more.</li><li><code class="inline">:run_queries?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to run queries. If set to <code class="inline">true</code>, <code class="inline">:maybe</code> will not be returned. The default value is <code class="inline">true</code>.</li><li><code class="inline">:data</code> - The record or records specifically attempting to be acted upon.</li><li><code class="inline">:tenant</code> (value that implements the <a href="https://hexdocs.pm/ash/3.5.32/Ash.ToTenant.html"><code class="inline">Ash.ToTenant</code></a> protocol) - The tenant to use for authorization</li><li><code class="inline">:alter_source?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If set to <code class="inline">true</code>, the source being authorized is returned so it can be run. The default value is <code class="inline">false</code>.</li><li><code class="inline">:base_query</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A base query on which to apply an generated filters</li><li><code class="inline">:no_check?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not authorization must pass at the strict/filter step, or if post-checks are allowed to be run The default value is <code class="inline">false</code>.</li><li><code class="inline">:on_must_pass_strict_check</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - Override the value returned when <code class="inline">no_check?</code> is <code class="inline">true</code> but a check must be run.</li><li><code class="inline">:atomic_changeset</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A base query on which to apply an generated filters</li><li><code class="inline">:return_forbidden_error?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to return a forbidden error in cases of not being authorized. The default value is <code class="inline">false</code>.</li></ul>
  </section>
</section>
<section class="detail" id="can_update_breach?/4">

    <span id="can_update_breach?/2"></span>

    <span id="can_update_breach?/3"></span>

  <div class="detail-header">
    <a href="#can_update_breach?/4" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">can_update_breach?(actor, record, params_or_opts \\ %{}, opts \\ [])</h1>


    </div>
  </div>

  <section class="docstring">

<p>Runs authorization checks for <code class="inline">EhsEnforcement.Enforcement.Breach.update</code>, returning a boolean.
See <a href="https://hexdocs.pm/ash/3.5.32/Ash.html#can?/3"><code class="inline">Ash.can?/3</code></a> for more information</p><h2 id="can_update_breach?/4-options" class="section-heading"><a href="#can_update_breach?/4-options" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Options</span></h2><ul><li><code class="inline">:maybe_is</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - If the actor <em>may</em> be able to perform the action, what value should be returned. The default value is <code class="inline">true</code>.</li><li><code class="inline">:filter_with</code> - If set to <code class="inline">:error</code>, the query will raise an error on a match. If set to <code class="inline">:filter</code> the query will filter out unauthorized access. Valid values are :filter, :error The default value is <code class="inline">:filter</code>.</li><li><code class="inline">:validate?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to treat an invalid action as a non-allowed action. The default value is <code class="inline">false</code>.</li><li><code class="inline">:reuse_values?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not loaded data like aggregates, calculations and relationships should be checked in memory if possible, instead of querying. No effect if <code class="inline">pre_flight?</code> is <code class="inline">false</code>. The default value is <code class="inline">false</code>.</li><li><code class="inline">:pre_flight?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not this is a pre_flight check (which may perform optimized in-memory checks) or the final proper check. The default value is <code class="inline">true</code>.</li><li><code class="inline">:scope</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A value that implements the <a href="https://hexdocs.pm/ash/3.5.32/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> protocol. Will overwrite any actor, tenant or context provided. See <a href="https://hexdocs.pm/ash/3.5.32/Ash.Context.html"><code class="inline">Ash.Context</code></a> for more.</li><li><code class="inline">:run_queries?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to run queries. If set to <code class="inline">true</code>, <code class="inline">:maybe</code> will not be returned. The default value is <code class="inline">true</code>.</li><li><code class="inline">:data</code> - The record or records specifically attempting to be acted upon.</li><li><code class="inline">:tenant</code> (value that implements the <a href="https://hexdocs.pm/ash/3.5.32/Ash.ToTenant.html"><code class="inline">Ash.ToTenant</code></a> protocol) - The tenant to use for authorization</li><li><code class="inline">:alter_source?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If set to <code class="inline">true</code>, the source being authorized is returned so it can be run. The default value is <code class="inline">false</code>.</li><li><code class="inline">:base_query</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A base query on which to apply an generated filters</li><li><code class="inline">:no_check?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not authorization must pass at the strict/filter step, or if post-checks are allowed to be run The default value is <code class="inline">false</code>.</li><li><code class="inline">:on_must_pass_strict_check</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - Override the value returned when <code class="inline">no_check?</code> is <code class="inline">true</code> but a check must be run.</li><li><code class="inline">:atomic_changeset</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A base query on which to apply an generated filters</li><li><code class="inline">:return_forbidden_error?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to return a forbidden error in cases of not being authorized. The default value is <code class="inline">false</code>.</li></ul>
  </section>
</section>
<section class="detail" id="can_update_case/4">

    <span id="can_update_case/2"></span>

    <span id="can_update_case/3"></span>

  <div class="detail-header">
    <a href="#can_update_case/4" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">can_update_case(actor, record, params_or_opts \\ %{}, opts \\ [])</h1>


    </div>
  </div>

  <section class="docstring">

<p>Runs authorization checks for <code class="inline">EhsEnforcement.Enforcement.Case.update</code>
See <a href="https://hexdocs.pm/ash/3.5.32/Ash.html#can/3"><code class="inline">Ash.can/3</code></a> for more information</p><h2 id="can_update_case/4-options" class="section-heading"><a href="#can_update_case/4-options" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Options</span></h2><ul><li><code class="inline">:maybe_is</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - If the actor <em>may</em> be able to perform the action, what value should be returned. The default value is <code class="inline">:maybe</code>.</li><li><code class="inline">:filter_with</code> - If set to <code class="inline">:error</code>, the query will raise an error on a match. If set to <code class="inline">:filter</code> the query will filter out unauthorized access. Valid values are :filter, :error The default value is <code class="inline">:filter</code>.</li><li><code class="inline">:validate?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to treat an invalid action as a non-allowed action. The default value is <code class="inline">false</code>.</li><li><code class="inline">:reuse_values?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not loaded data like aggregates, calculations and relationships should be checked in memory if possible, instead of querying. No effect if <code class="inline">pre_flight?</code> is <code class="inline">false</code>. The default value is <code class="inline">false</code>.</li><li><code class="inline">:pre_flight?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not this is a pre_flight check (which may perform optimized in-memory checks) or the final proper check. The default value is <code class="inline">true</code>.</li><li><code class="inline">:scope</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A value that implements the <a href="https://hexdocs.pm/ash/3.5.32/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> protocol. Will overwrite any actor, tenant or context provided. See <a href="https://hexdocs.pm/ash/3.5.32/Ash.Context.html"><code class="inline">Ash.Context</code></a> for more.</li><li><code class="inline">:run_queries?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to run queries. If set to <code class="inline">true</code>, <code class="inline">:maybe</code> will not be returned. The default value is <code class="inline">true</code>.</li><li><code class="inline">:data</code> - The record or records specifically attempting to be acted upon.</li><li><code class="inline">:tenant</code> (value that implements the <a href="https://hexdocs.pm/ash/3.5.32/Ash.ToTenant.html"><code class="inline">Ash.ToTenant</code></a> protocol) - The tenant to use for authorization</li><li><code class="inline">:alter_source?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If set to <code class="inline">true</code>, the source being authorized is returned so it can be run. The default value is <code class="inline">false</code>.</li><li><code class="inline">:base_query</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A base query on which to apply an generated filters</li><li><code class="inline">:no_check?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not authorization must pass at the strict/filter step, or if post-checks are allowed to be run The default value is <code class="inline">false</code>.</li><li><code class="inline">:on_must_pass_strict_check</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - Override the value returned when <code class="inline">no_check?</code> is <code class="inline">true</code> but a check must be run.</li><li><code class="inline">:atomic_changeset</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A base query on which to apply an generated filters</li><li><code class="inline">:return_forbidden_error?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to return a forbidden error in cases of not being authorized. The default value is <code class="inline">false</code>.</li></ul>
  </section>
</section>
<section class="detail" id="can_update_case?/4">

    <span id="can_update_case?/2"></span>

    <span id="can_update_case?/3"></span>

  <div class="detail-header">
    <a href="#can_update_case?/4" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">can_update_case?(actor, record, params_or_opts \\ %{}, opts \\ [])</h1>


    </div>
  </div>

  <section class="docstring">

<p>Runs authorization checks for <code class="inline">EhsEnforcement.Enforcement.Case.update</code>, returning a boolean.
See <a href="https://hexdocs.pm/ash/3.5.32/Ash.html#can?/3"><code class="inline">Ash.can?/3</code></a> for more information</p><h2 id="can_update_case?/4-options" class="section-heading"><a href="#can_update_case?/4-options" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Options</span></h2><ul><li><code class="inline">:maybe_is</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - If the actor <em>may</em> be able to perform the action, what value should be returned. The default value is <code class="inline">true</code>.</li><li><code class="inline">:filter_with</code> - If set to <code class="inline">:error</code>, the query will raise an error on a match. If set to <code class="inline">:filter</code> the query will filter out unauthorized access. Valid values are :filter, :error The default value is <code class="inline">:filter</code>.</li><li><code class="inline">:validate?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to treat an invalid action as a non-allowed action. The default value is <code class="inline">false</code>.</li><li><code class="inline">:reuse_values?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not loaded data like aggregates, calculations and relationships should be checked in memory if possible, instead of querying. No effect if <code class="inline">pre_flight?</code> is <code class="inline">false</code>. The default value is <code class="inline">false</code>.</li><li><code class="inline">:pre_flight?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not this is a pre_flight check (which may perform optimized in-memory checks) or the final proper check. The default value is <code class="inline">true</code>.</li><li><code class="inline">:scope</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A value that implements the <a href="https://hexdocs.pm/ash/3.5.32/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> protocol. Will overwrite any actor, tenant or context provided. See <a href="https://hexdocs.pm/ash/3.5.32/Ash.Context.html"><code class="inline">Ash.Context</code></a> for more.</li><li><code class="inline">:run_queries?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to run queries. If set to <code class="inline">true</code>, <code class="inline">:maybe</code> will not be returned. The default value is <code class="inline">true</code>.</li><li><code class="inline">:data</code> - The record or records specifically attempting to be acted upon.</li><li><code class="inline">:tenant</code> (value that implements the <a href="https://hexdocs.pm/ash/3.5.32/Ash.ToTenant.html"><code class="inline">Ash.ToTenant</code></a> protocol) - The tenant to use for authorization</li><li><code class="inline">:alter_source?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If set to <code class="inline">true</code>, the source being authorized is returned so it can be run. The default value is <code class="inline">false</code>.</li><li><code class="inline">:base_query</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A base query on which to apply an generated filters</li><li><code class="inline">:no_check?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not authorization must pass at the strict/filter step, or if post-checks are allowed to be run The default value is <code class="inline">false</code>.</li><li><code class="inline">:on_must_pass_strict_check</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - Override the value returned when <code class="inline">no_check?</code> is <code class="inline">true</code> but a check must be run.</li><li><code class="inline">:atomic_changeset</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A base query on which to apply an generated filters</li><li><code class="inline">:return_forbidden_error?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to return a forbidden error in cases of not being authorized. The default value is <code class="inline">false</code>.</li></ul>
  </section>
</section>
<section class="detail" id="can_update_case_from_scraping/4">

    <span id="can_update_case_from_scraping/2"></span>

    <span id="can_update_case_from_scraping/3"></span>

  <div class="detail-header">
    <a href="#can_update_case_from_scraping/4" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">can_update_case_from_scraping(actor, record, params_or_opts \\ %{}, opts \\ [])</h1>


    </div>
  </div>

  <section class="docstring">

<p>Runs authorization checks for <code class="inline">EhsEnforcement.Enforcement.Case.update_from_scraping</code>
See <a href="https://hexdocs.pm/ash/3.5.32/Ash.html#can/3"><code class="inline">Ash.can/3</code></a> for more information</p><h2 id="can_update_case_from_scraping/4-options" class="section-heading"><a href="#can_update_case_from_scraping/4-options" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Options</span></h2><ul><li><code class="inline">:maybe_is</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - If the actor <em>may</em> be able to perform the action, what value should be returned. The default value is <code class="inline">:maybe</code>.</li><li><code class="inline">:filter_with</code> - If set to <code class="inline">:error</code>, the query will raise an error on a match. If set to <code class="inline">:filter</code> the query will filter out unauthorized access. Valid values are :filter, :error The default value is <code class="inline">:filter</code>.</li><li><code class="inline">:validate?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to treat an invalid action as a non-allowed action. The default value is <code class="inline">false</code>.</li><li><code class="inline">:reuse_values?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not loaded data like aggregates, calculations and relationships should be checked in memory if possible, instead of querying. No effect if <code class="inline">pre_flight?</code> is <code class="inline">false</code>. The default value is <code class="inline">false</code>.</li><li><code class="inline">:pre_flight?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not this is a pre_flight check (which may perform optimized in-memory checks) or the final proper check. The default value is <code class="inline">true</code>.</li><li><code class="inline">:scope</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A value that implements the <a href="https://hexdocs.pm/ash/3.5.32/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> protocol. Will overwrite any actor, tenant or context provided. See <a href="https://hexdocs.pm/ash/3.5.32/Ash.Context.html"><code class="inline">Ash.Context</code></a> for more.</li><li><code class="inline">:run_queries?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to run queries. If set to <code class="inline">true</code>, <code class="inline">:maybe</code> will not be returned. The default value is <code class="inline">true</code>.</li><li><code class="inline">:data</code> - The record or records specifically attempting to be acted upon.</li><li><code class="inline">:tenant</code> (value that implements the <a href="https://hexdocs.pm/ash/3.5.32/Ash.ToTenant.html"><code class="inline">Ash.ToTenant</code></a> protocol) - The tenant to use for authorization</li><li><code class="inline">:alter_source?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If set to <code class="inline">true</code>, the source being authorized is returned so it can be run. The default value is <code class="inline">false</code>.</li><li><code class="inline">:base_query</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A base query on which to apply an generated filters</li><li><code class="inline">:no_check?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not authorization must pass at the strict/filter step, or if post-checks are allowed to be run The default value is <code class="inline">false</code>.</li><li><code class="inline">:on_must_pass_strict_check</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - Override the value returned when <code class="inline">no_check?</code> is <code class="inline">true</code> but a check must be run.</li><li><code class="inline">:atomic_changeset</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A base query on which to apply an generated filters</li><li><code class="inline">:return_forbidden_error?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to return a forbidden error in cases of not being authorized. The default value is <code class="inline">false</code>.</li></ul>
  </section>
</section>
<section class="detail" id="can_update_case_from_scraping?/4">

    <span id="can_update_case_from_scraping?/2"></span>

    <span id="can_update_case_from_scraping?/3"></span>

  <div class="detail-header">
    <a href="#can_update_case_from_scraping?/4" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">can_update_case_from_scraping?(actor, record, params_or_opts \\ %{}, opts \\ [])</h1>


    </div>
  </div>

  <section class="docstring">

<p>Runs authorization checks for <code class="inline">EhsEnforcement.Enforcement.Case.update_from_scraping</code>, returning a boolean.
See <a href="https://hexdocs.pm/ash/3.5.32/Ash.html#can?/3"><code class="inline">Ash.can?/3</code></a> for more information</p><h2 id="can_update_case_from_scraping?/4-options" class="section-heading"><a href="#can_update_case_from_scraping?/4-options" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Options</span></h2><ul><li><code class="inline">:maybe_is</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - If the actor <em>may</em> be able to perform the action, what value should be returned. The default value is <code class="inline">true</code>.</li><li><code class="inline">:filter_with</code> - If set to <code class="inline">:error</code>, the query will raise an error on a match. If set to <code class="inline">:filter</code> the query will filter out unauthorized access. Valid values are :filter, :error The default value is <code class="inline">:filter</code>.</li><li><code class="inline">:validate?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to treat an invalid action as a non-allowed action. The default value is <code class="inline">false</code>.</li><li><code class="inline">:reuse_values?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not loaded data like aggregates, calculations and relationships should be checked in memory if possible, instead of querying. No effect if <code class="inline">pre_flight?</code> is <code class="inline">false</code>. The default value is <code class="inline">false</code>.</li><li><code class="inline">:pre_flight?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not this is a pre_flight check (which may perform optimized in-memory checks) or the final proper check. The default value is <code class="inline">true</code>.</li><li><code class="inline">:scope</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A value that implements the <a href="https://hexdocs.pm/ash/3.5.32/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> protocol. Will overwrite any actor, tenant or context provided. See <a href="https://hexdocs.pm/ash/3.5.32/Ash.Context.html"><code class="inline">Ash.Context</code></a> for more.</li><li><code class="inline">:run_queries?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to run queries. If set to <code class="inline">true</code>, <code class="inline">:maybe</code> will not be returned. The default value is <code class="inline">true</code>.</li><li><code class="inline">:data</code> - The record or records specifically attempting to be acted upon.</li><li><code class="inline">:tenant</code> (value that implements the <a href="https://hexdocs.pm/ash/3.5.32/Ash.ToTenant.html"><code class="inline">Ash.ToTenant</code></a> protocol) - The tenant to use for authorization</li><li><code class="inline">:alter_source?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If set to <code class="inline">true</code>, the source being authorized is returned so it can be run. The default value is <code class="inline">false</code>.</li><li><code class="inline">:base_query</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A base query on which to apply an generated filters</li><li><code class="inline">:no_check?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not authorization must pass at the strict/filter step, or if post-checks are allowed to be run The default value is <code class="inline">false</code>.</li><li><code class="inline">:on_must_pass_strict_check</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - Override the value returned when <code class="inline">no_check?</code> is <code class="inline">true</code> but a check must be run.</li><li><code class="inline">:atomic_changeset</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A base query on which to apply an generated filters</li><li><code class="inline">:return_forbidden_error?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to return a forbidden error in cases of not being authorized. The default value is <code class="inline">false</code>.</li></ul>
  </section>
</section>
<section class="detail" id="can_update_notice/4">

    <span id="can_update_notice/2"></span>

    <span id="can_update_notice/3"></span>

  <div class="detail-header">
    <a href="#can_update_notice/4" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">can_update_notice(actor, record, params_or_opts \\ %{}, opts \\ [])</h1>


    </div>
  </div>

  <section class="docstring">

<p>Runs authorization checks for <code class="inline">EhsEnforcement.Enforcement.Notice.update</code>
See <a href="https://hexdocs.pm/ash/3.5.32/Ash.html#can/3"><code class="inline">Ash.can/3</code></a> for more information</p><h2 id="can_update_notice/4-options" class="section-heading"><a href="#can_update_notice/4-options" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Options</span></h2><ul><li><code class="inline">:maybe_is</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - If the actor <em>may</em> be able to perform the action, what value should be returned. The default value is <code class="inline">:maybe</code>.</li><li><code class="inline">:filter_with</code> - If set to <code class="inline">:error</code>, the query will raise an error on a match. If set to <code class="inline">:filter</code> the query will filter out unauthorized access. Valid values are :filter, :error The default value is <code class="inline">:filter</code>.</li><li><code class="inline">:validate?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to treat an invalid action as a non-allowed action. The default value is <code class="inline">false</code>.</li><li><code class="inline">:reuse_values?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not loaded data like aggregates, calculations and relationships should be checked in memory if possible, instead of querying. No effect if <code class="inline">pre_flight?</code> is <code class="inline">false</code>. The default value is <code class="inline">false</code>.</li><li><code class="inline">:pre_flight?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not this is a pre_flight check (which may perform optimized in-memory checks) or the final proper check. The default value is <code class="inline">true</code>.</li><li><code class="inline">:scope</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A value that implements the <a href="https://hexdocs.pm/ash/3.5.32/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> protocol. Will overwrite any actor, tenant or context provided. See <a href="https://hexdocs.pm/ash/3.5.32/Ash.Context.html"><code class="inline">Ash.Context</code></a> for more.</li><li><code class="inline">:run_queries?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to run queries. If set to <code class="inline">true</code>, <code class="inline">:maybe</code> will not be returned. The default value is <code class="inline">true</code>.</li><li><code class="inline">:data</code> - The record or records specifically attempting to be acted upon.</li><li><code class="inline">:tenant</code> (value that implements the <a href="https://hexdocs.pm/ash/3.5.32/Ash.ToTenant.html"><code class="inline">Ash.ToTenant</code></a> protocol) - The tenant to use for authorization</li><li><code class="inline">:alter_source?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If set to <code class="inline">true</code>, the source being authorized is returned so it can be run. The default value is <code class="inline">false</code>.</li><li><code class="inline">:base_query</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A base query on which to apply an generated filters</li><li><code class="inline">:no_check?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not authorization must pass at the strict/filter step, or if post-checks are allowed to be run The default value is <code class="inline">false</code>.</li><li><code class="inline">:on_must_pass_strict_check</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - Override the value returned when <code class="inline">no_check?</code> is <code class="inline">true</code> but a check must be run.</li><li><code class="inline">:atomic_changeset</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A base query on which to apply an generated filters</li><li><code class="inline">:return_forbidden_error?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to return a forbidden error in cases of not being authorized. The default value is <code class="inline">false</code>.</li></ul>
  </section>
</section>
<section class="detail" id="can_update_notice?/4">

    <span id="can_update_notice?/2"></span>

    <span id="can_update_notice?/3"></span>

  <div class="detail-header">
    <a href="#can_update_notice?/4" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">can_update_notice?(actor, record, params_or_opts \\ %{}, opts \\ [])</h1>


    </div>
  </div>

  <section class="docstring">

<p>Runs authorization checks for <code class="inline">EhsEnforcement.Enforcement.Notice.update</code>, returning a boolean.
See <a href="https://hexdocs.pm/ash/3.5.32/Ash.html#can?/3"><code class="inline">Ash.can?/3</code></a> for more information</p><h2 id="can_update_notice?/4-options" class="section-heading"><a href="#can_update_notice?/4-options" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Options</span></h2><ul><li><code class="inline">:maybe_is</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - If the actor <em>may</em> be able to perform the action, what value should be returned. The default value is <code class="inline">true</code>.</li><li><code class="inline">:filter_with</code> - If set to <code class="inline">:error</code>, the query will raise an error on a match. If set to <code class="inline">:filter</code> the query will filter out unauthorized access. Valid values are :filter, :error The default value is <code class="inline">:filter</code>.</li><li><code class="inline">:validate?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to treat an invalid action as a non-allowed action. The default value is <code class="inline">false</code>.</li><li><code class="inline">:reuse_values?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not loaded data like aggregates, calculations and relationships should be checked in memory if possible, instead of querying. No effect if <code class="inline">pre_flight?</code> is <code class="inline">false</code>. The default value is <code class="inline">false</code>.</li><li><code class="inline">:pre_flight?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not this is a pre_flight check (which may perform optimized in-memory checks) or the final proper check. The default value is <code class="inline">true</code>.</li><li><code class="inline">:scope</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A value that implements the <a href="https://hexdocs.pm/ash/3.5.32/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> protocol. Will overwrite any actor, tenant or context provided. See <a href="https://hexdocs.pm/ash/3.5.32/Ash.Context.html"><code class="inline">Ash.Context</code></a> for more.</li><li><code class="inline">:run_queries?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to run queries. If set to <code class="inline">true</code>, <code class="inline">:maybe</code> will not be returned. The default value is <code class="inline">true</code>.</li><li><code class="inline">:data</code> - The record or records specifically attempting to be acted upon.</li><li><code class="inline">:tenant</code> (value that implements the <a href="https://hexdocs.pm/ash/3.5.32/Ash.ToTenant.html"><code class="inline">Ash.ToTenant</code></a> protocol) - The tenant to use for authorization</li><li><code class="inline">:alter_source?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If set to <code class="inline">true</code>, the source being authorized is returned so it can be run. The default value is <code class="inline">false</code>.</li><li><code class="inline">:base_query</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A base query on which to apply an generated filters</li><li><code class="inline">:no_check?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not authorization must pass at the strict/filter step, or if post-checks are allowed to be run The default value is <code class="inline">false</code>.</li><li><code class="inline">:on_must_pass_strict_check</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - Override the value returned when <code class="inline">no_check?</code> is <code class="inline">true</code> but a check must be run.</li><li><code class="inline">:atomic_changeset</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A base query on which to apply an generated filters</li><li><code class="inline">:return_forbidden_error?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to return a forbidden error in cases of not being authorized. The default value is <code class="inline">false</code>.</li></ul>
  </section>
</section>
<section class="detail" id="can_update_offender/4">

    <span id="can_update_offender/2"></span>

    <span id="can_update_offender/3"></span>

  <div class="detail-header">
    <a href="#can_update_offender/4" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">can_update_offender(actor, record, params_or_opts \\ %{}, opts \\ [])</h1>


    </div>
  </div>

  <section class="docstring">

<p>Runs authorization checks for <code class="inline">EhsEnforcement.Enforcement.Offender.update</code>
See <a href="https://hexdocs.pm/ash/3.5.32/Ash.html#can/3"><code class="inline">Ash.can/3</code></a> for more information</p><h2 id="can_update_offender/4-options" class="section-heading"><a href="#can_update_offender/4-options" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Options</span></h2><ul><li><code class="inline">:maybe_is</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - If the actor <em>may</em> be able to perform the action, what value should be returned. The default value is <code class="inline">:maybe</code>.</li><li><code class="inline">:filter_with</code> - If set to <code class="inline">:error</code>, the query will raise an error on a match. If set to <code class="inline">:filter</code> the query will filter out unauthorized access. Valid values are :filter, :error The default value is <code class="inline">:filter</code>.</li><li><code class="inline">:validate?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to treat an invalid action as a non-allowed action. The default value is <code class="inline">false</code>.</li><li><code class="inline">:reuse_values?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not loaded data like aggregates, calculations and relationships should be checked in memory if possible, instead of querying. No effect if <code class="inline">pre_flight?</code> is <code class="inline">false</code>. The default value is <code class="inline">false</code>.</li><li><code class="inline">:pre_flight?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not this is a pre_flight check (which may perform optimized in-memory checks) or the final proper check. The default value is <code class="inline">true</code>.</li><li><code class="inline">:scope</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A value that implements the <a href="https://hexdocs.pm/ash/3.5.32/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> protocol. Will overwrite any actor, tenant or context provided. See <a href="https://hexdocs.pm/ash/3.5.32/Ash.Context.html"><code class="inline">Ash.Context</code></a> for more.</li><li><code class="inline">:run_queries?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to run queries. If set to <code class="inline">true</code>, <code class="inline">:maybe</code> will not be returned. The default value is <code class="inline">true</code>.</li><li><code class="inline">:data</code> - The record or records specifically attempting to be acted upon.</li><li><code class="inline">:tenant</code> (value that implements the <a href="https://hexdocs.pm/ash/3.5.32/Ash.ToTenant.html"><code class="inline">Ash.ToTenant</code></a> protocol) - The tenant to use for authorization</li><li><code class="inline">:alter_source?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If set to <code class="inline">true</code>, the source being authorized is returned so it can be run. The default value is <code class="inline">false</code>.</li><li><code class="inline">:base_query</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A base query on which to apply an generated filters</li><li><code class="inline">:no_check?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not authorization must pass at the strict/filter step, or if post-checks are allowed to be run The default value is <code class="inline">false</code>.</li><li><code class="inline">:on_must_pass_strict_check</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - Override the value returned when <code class="inline">no_check?</code> is <code class="inline">true</code> but a check must be run.</li><li><code class="inline">:atomic_changeset</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A base query on which to apply an generated filters</li><li><code class="inline">:return_forbidden_error?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to return a forbidden error in cases of not being authorized. The default value is <code class="inline">false</code>.</li></ul>
  </section>
</section>
<section class="detail" id="can_update_offender?/4">

    <span id="can_update_offender?/2"></span>

    <span id="can_update_offender?/3"></span>

  <div class="detail-header">
    <a href="#can_update_offender?/4" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">can_update_offender?(actor, record, params_or_opts \\ %{}, opts \\ [])</h1>


    </div>
  </div>

  <section class="docstring">

<p>Runs authorization checks for <code class="inline">EhsEnforcement.Enforcement.Offender.update</code>, returning a boolean.
See <a href="https://hexdocs.pm/ash/3.5.32/Ash.html#can?/3"><code class="inline">Ash.can?/3</code></a> for more information</p><h2 id="can_update_offender?/4-options" class="section-heading"><a href="#can_update_offender?/4-options" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Options</span></h2><ul><li><code class="inline">:maybe_is</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - If the actor <em>may</em> be able to perform the action, what value should be returned. The default value is <code class="inline">true</code>.</li><li><code class="inline">:filter_with</code> - If set to <code class="inline">:error</code>, the query will raise an error on a match. If set to <code class="inline">:filter</code> the query will filter out unauthorized access. Valid values are :filter, :error The default value is <code class="inline">:filter</code>.</li><li><code class="inline">:validate?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to treat an invalid action as a non-allowed action. The default value is <code class="inline">false</code>.</li><li><code class="inline">:reuse_values?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not loaded data like aggregates, calculations and relationships should be checked in memory if possible, instead of querying. No effect if <code class="inline">pre_flight?</code> is <code class="inline">false</code>. The default value is <code class="inline">false</code>.</li><li><code class="inline">:pre_flight?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not this is a pre_flight check (which may perform optimized in-memory checks) or the final proper check. The default value is <code class="inline">true</code>.</li><li><code class="inline">:scope</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A value that implements the <a href="https://hexdocs.pm/ash/3.5.32/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> protocol. Will overwrite any actor, tenant or context provided. See <a href="https://hexdocs.pm/ash/3.5.32/Ash.Context.html"><code class="inline">Ash.Context</code></a> for more.</li><li><code class="inline">:run_queries?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to run queries. If set to <code class="inline">true</code>, <code class="inline">:maybe</code> will not be returned. The default value is <code class="inline">true</code>.</li><li><code class="inline">:data</code> - The record or records specifically attempting to be acted upon.</li><li><code class="inline">:tenant</code> (value that implements the <a href="https://hexdocs.pm/ash/3.5.32/Ash.ToTenant.html"><code class="inline">Ash.ToTenant</code></a> protocol) - The tenant to use for authorization</li><li><code class="inline">:alter_source?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If set to <code class="inline">true</code>, the source being authorized is returned so it can be run. The default value is <code class="inline">false</code>.</li><li><code class="inline">:base_query</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A base query on which to apply an generated filters</li><li><code class="inline">:no_check?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not authorization must pass at the strict/filter step, or if post-checks are allowed to be run The default value is <code class="inline">false</code>.</li><li><code class="inline">:on_must_pass_strict_check</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - Override the value returned when <code class="inline">no_check?</code> is <code class="inline">true</code> but a check must be run.</li><li><code class="inline">:atomic_changeset</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A base query on which to apply an generated filters</li><li><code class="inline">:return_forbidden_error?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to return a forbidden error in cases of not being authorized. The default value is <code class="inline">false</code>.</li></ul>
  </section>
</section>
<section class="detail" id="can_update_offender_statistics/4">

    <span id="can_update_offender_statistics/2"></span>

    <span id="can_update_offender_statistics/3"></span>

  <div class="detail-header">
    <a href="#can_update_offender_statistics/4" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">can_update_offender_statistics(actor, record, params_or_opts \\ %{}, opts \\ [])</h1>


    </div>
  </div>

  <section class="docstring">

<p>Runs authorization checks for <code class="inline">EhsEnforcement.Enforcement.Offender.update_statistics</code>
See <a href="https://hexdocs.pm/ash/3.5.32/Ash.html#can/3"><code class="inline">Ash.can/3</code></a> for more information</p><h2 id="can_update_offender_statistics/4-options" class="section-heading"><a href="#can_update_offender_statistics/4-options" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Options</span></h2><ul><li><code class="inline">:maybe_is</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - If the actor <em>may</em> be able to perform the action, what value should be returned. The default value is <code class="inline">:maybe</code>.</li><li><code class="inline">:filter_with</code> - If set to <code class="inline">:error</code>, the query will raise an error on a match. If set to <code class="inline">:filter</code> the query will filter out unauthorized access. Valid values are :filter, :error The default value is <code class="inline">:filter</code>.</li><li><code class="inline">:validate?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to treat an invalid action as a non-allowed action. The default value is <code class="inline">false</code>.</li><li><code class="inline">:reuse_values?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not loaded data like aggregates, calculations and relationships should be checked in memory if possible, instead of querying. No effect if <code class="inline">pre_flight?</code> is <code class="inline">false</code>. The default value is <code class="inline">false</code>.</li><li><code class="inline">:pre_flight?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not this is a pre_flight check (which may perform optimized in-memory checks) or the final proper check. The default value is <code class="inline">true</code>.</li><li><code class="inline">:scope</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A value that implements the <a href="https://hexdocs.pm/ash/3.5.32/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> protocol. Will overwrite any actor, tenant or context provided. See <a href="https://hexdocs.pm/ash/3.5.32/Ash.Context.html"><code class="inline">Ash.Context</code></a> for more.</li><li><code class="inline">:run_queries?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to run queries. If set to <code class="inline">true</code>, <code class="inline">:maybe</code> will not be returned. The default value is <code class="inline">true</code>.</li><li><code class="inline">:data</code> - The record or records specifically attempting to be acted upon.</li><li><code class="inline">:tenant</code> (value that implements the <a href="https://hexdocs.pm/ash/3.5.32/Ash.ToTenant.html"><code class="inline">Ash.ToTenant</code></a> protocol) - The tenant to use for authorization</li><li><code class="inline">:alter_source?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If set to <code class="inline">true</code>, the source being authorized is returned so it can be run. The default value is <code class="inline">false</code>.</li><li><code class="inline">:base_query</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A base query on which to apply an generated filters</li><li><code class="inline">:no_check?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not authorization must pass at the strict/filter step, or if post-checks are allowed to be run The default value is <code class="inline">false</code>.</li><li><code class="inline">:on_must_pass_strict_check</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - Override the value returned when <code class="inline">no_check?</code> is <code class="inline">true</code> but a check must be run.</li><li><code class="inline">:atomic_changeset</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A base query on which to apply an generated filters</li><li><code class="inline">:return_forbidden_error?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to return a forbidden error in cases of not being authorized. The default value is <code class="inline">false</code>.</li></ul>
  </section>
</section>
<section class="detail" id="can_update_offender_statistics?/4">

    <span id="can_update_offender_statistics?/2"></span>

    <span id="can_update_offender_statistics?/3"></span>

  <div class="detail-header">
    <a href="#can_update_offender_statistics?/4" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">can_update_offender_statistics?(actor, record, params_or_opts \\ %{}, opts \\ [])</h1>


    </div>
  </div>

  <section class="docstring">

<p>Runs authorization checks for <code class="inline">EhsEnforcement.Enforcement.Offender.update_statistics</code>, returning a boolean.
See <a href="https://hexdocs.pm/ash/3.5.32/Ash.html#can?/3"><code class="inline">Ash.can?/3</code></a> for more information</p><h2 id="can_update_offender_statistics?/4-options" class="section-heading"><a href="#can_update_offender_statistics?/4-options" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Options</span></h2><ul><li><code class="inline">:maybe_is</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - If the actor <em>may</em> be able to perform the action, what value should be returned. The default value is <code class="inline">true</code>.</li><li><code class="inline">:filter_with</code> - If set to <code class="inline">:error</code>, the query will raise an error on a match. If set to <code class="inline">:filter</code> the query will filter out unauthorized access. Valid values are :filter, :error The default value is <code class="inline">:filter</code>.</li><li><code class="inline">:validate?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to treat an invalid action as a non-allowed action. The default value is <code class="inline">false</code>.</li><li><code class="inline">:reuse_values?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not loaded data like aggregates, calculations and relationships should be checked in memory if possible, instead of querying. No effect if <code class="inline">pre_flight?</code> is <code class="inline">false</code>. The default value is <code class="inline">false</code>.</li><li><code class="inline">:pre_flight?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not this is a pre_flight check (which may perform optimized in-memory checks) or the final proper check. The default value is <code class="inline">true</code>.</li><li><code class="inline">:scope</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A value that implements the <a href="https://hexdocs.pm/ash/3.5.32/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> protocol. Will overwrite any actor, tenant or context provided. See <a href="https://hexdocs.pm/ash/3.5.32/Ash.Context.html"><code class="inline">Ash.Context</code></a> for more.</li><li><code class="inline">:run_queries?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to run queries. If set to <code class="inline">true</code>, <code class="inline">:maybe</code> will not be returned. The default value is <code class="inline">true</code>.</li><li><code class="inline">:data</code> - The record or records specifically attempting to be acted upon.</li><li><code class="inline">:tenant</code> (value that implements the <a href="https://hexdocs.pm/ash/3.5.32/Ash.ToTenant.html"><code class="inline">Ash.ToTenant</code></a> protocol) - The tenant to use for authorization</li><li><code class="inline">:alter_source?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If set to <code class="inline">true</code>, the source being authorized is returned so it can be run. The default value is <code class="inline">false</code>.</li><li><code class="inline">:base_query</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A base query on which to apply an generated filters</li><li><code class="inline">:no_check?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not authorization must pass at the strict/filter step, or if post-checks are allowed to be run The default value is <code class="inline">false</code>.</li><li><code class="inline">:on_must_pass_strict_check</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - Override the value returned when <code class="inline">no_check?</code> is <code class="inline">true</code> but a check must be run.</li><li><code class="inline">:atomic_changeset</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A base query on which to apply an generated filters</li><li><code class="inline">:return_forbidden_error?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to return a forbidden error in cases of not being authorized. The default value is <code class="inline">false</code>.</li></ul>
  </section>
</section>
<section class="detail" id="change_case_for_airtable_sync/2">

    <span id="change_case_for_airtable_sync/1"></span>

  <div class="detail-header">
    <a href="#change_case_for_airtable_sync/2" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">change_case_for_airtable_sync(case_record, attrs \\ %{})</h1>


    </div>
  </div>

  <section class="docstring">


  </section>
</section>
<section class="detail" id="change_case_for_scraping/2">

    <span id="change_case_for_scraping/1"></span>

  <div class="detail-header">
    <a href="#change_case_for_scraping/2" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">change_case_for_scraping(case_record, attrs \\ %{})</h1>


    </div>
  </div>

  <section class="docstring">


  </section>
</section>
<section class="detail" id="changeset_to_bulk_create_cases/2">

    <span id="changeset_to_bulk_create_cases/0"></span>

    <span id="changeset_to_bulk_create_cases/1"></span>

  <div class="detail-header">
    <a href="#changeset_to_bulk_create_cases/2" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">changeset_to_bulk_create_cases(params_or_opts \\ %{}, opts \\ [])</h1>


    </div>
  </div>

  <section class="docstring">

<p>Returns the changeset corresponding to the action.</p><h2 id="changeset_to_bulk_create_cases/2-options" class="section-heading"><a href="#changeset_to_bulk_create_cases/2-options" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Options</span></h2><ul><li><code class="inline">:tracer</code> (one or a list of module that adopts <a href="https://hexdocs.pm/ash/3.5.32/Ash.Tracer.html"><code class="inline">Ash.Tracer</code></a>) - A tracer that implements the <a href="https://hexdocs.pm/ash/3.5.32/Ash.Tracer.html"><code class="inline">Ash.Tracer</code></a> behaviour. See that module for more.</li><li><code class="inline">:authorize?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If an actor option is provided (even if it is <code class="inline">nil</code>), authorization happens automatically. If not, this flag can be used to authorize with no user.</li><li><code class="inline">:tenant</code> (value that implements the <a href="https://hexdocs.pm/ash/3.5.32/Ash.ToTenant.html"><code class="inline">Ash.ToTenant</code></a> protocol) - A tenant to set on the query or changeset</li><li><code class="inline">:actor</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - If an actor is provided, it will be used in conjunction with the authorizers of a resource to authorize access</li><li><code class="inline">:scope</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A value that implements the <a href="https://hexdocs.pm/ash/3.5.32/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> protocol, for passing around actor/tenant/context in a single value. See <a href="https://hexdocs.pm/ash/3.5.32/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> for more.</li><li><code class="inline">:changeset</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A changeset to seed the action with.</li></ul>
  </section>
</section>
<section class="detail" id="changeset_to_create_agency/2">

    <span id="changeset_to_create_agency/0"></span>

    <span id="changeset_to_create_agency/1"></span>

  <div class="detail-header">
    <a href="#changeset_to_create_agency/2" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">changeset_to_create_agency(params_or_opts \\ %{}, opts \\ [])</h1>


    </div>
  </div>

  <section class="docstring">

<p>Returns the changeset corresponding to the action.</p><h2 id="changeset_to_create_agency/2-options" class="section-heading"><a href="#changeset_to_create_agency/2-options" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Options</span></h2><ul><li><code class="inline">:tracer</code> (one or a list of module that adopts <a href="https://hexdocs.pm/ash/3.5.32/Ash.Tracer.html"><code class="inline">Ash.Tracer</code></a>) - A tracer that implements the <a href="https://hexdocs.pm/ash/3.5.32/Ash.Tracer.html"><code class="inline">Ash.Tracer</code></a> behaviour. See that module for more.</li><li><code class="inline">:authorize?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If an actor option is provided (even if it is <code class="inline">nil</code>), authorization happens automatically. If not, this flag can be used to authorize with no user.</li><li><code class="inline">:tenant</code> (value that implements the <a href="https://hexdocs.pm/ash/3.5.32/Ash.ToTenant.html"><code class="inline">Ash.ToTenant</code></a> protocol) - A tenant to set on the query or changeset</li><li><code class="inline">:actor</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - If an actor is provided, it will be used in conjunction with the authorizers of a resource to authorize access</li><li><code class="inline">:scope</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A value that implements the <a href="https://hexdocs.pm/ash/3.5.32/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> protocol, for passing around actor/tenant/context in a single value. See <a href="https://hexdocs.pm/ash/3.5.32/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> for more.</li><li><code class="inline">:changeset</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A changeset to seed the action with.</li></ul>
  </section>
</section>
<section class="detail" id="changeset_to_create_breach/2">

    <span id="changeset_to_create_breach/0"></span>

    <span id="changeset_to_create_breach/1"></span>

  <div class="detail-header">
    <a href="#changeset_to_create_breach/2" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">changeset_to_create_breach(params_or_opts \\ %{}, opts \\ [])</h1>


    </div>
  </div>

  <section class="docstring">

<p>Returns the changeset corresponding to the action.</p><h2 id="changeset_to_create_breach/2-options" class="section-heading"><a href="#changeset_to_create_breach/2-options" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Options</span></h2><ul><li><code class="inline">:tracer</code> (one or a list of module that adopts <a href="https://hexdocs.pm/ash/3.5.32/Ash.Tracer.html"><code class="inline">Ash.Tracer</code></a>) - A tracer that implements the <a href="https://hexdocs.pm/ash/3.5.32/Ash.Tracer.html"><code class="inline">Ash.Tracer</code></a> behaviour. See that module for more.</li><li><code class="inline">:authorize?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If an actor option is provided (even if it is <code class="inline">nil</code>), authorization happens automatically. If not, this flag can be used to authorize with no user.</li><li><code class="inline">:tenant</code> (value that implements the <a href="https://hexdocs.pm/ash/3.5.32/Ash.ToTenant.html"><code class="inline">Ash.ToTenant</code></a> protocol) - A tenant to set on the query or changeset</li><li><code class="inline">:actor</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - If an actor is provided, it will be used in conjunction with the authorizers of a resource to authorize access</li><li><code class="inline">:scope</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A value that implements the <a href="https://hexdocs.pm/ash/3.5.32/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> protocol, for passing around actor/tenant/context in a single value. See <a href="https://hexdocs.pm/ash/3.5.32/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> for more.</li><li><code class="inline">:changeset</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A changeset to seed the action with.</li></ul>
  </section>
</section>
<section class="detail" id="changeset_to_create_case/2">

    <span id="changeset_to_create_case/0"></span>

    <span id="changeset_to_create_case/1"></span>

  <div class="detail-header">
    <a href="#changeset_to_create_case/2" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">changeset_to_create_case(params_or_opts \\ %{}, opts \\ [])</h1>


    </div>
  </div>

  <section class="docstring">

<p>Returns the changeset corresponding to the action.</p><h2 id="changeset_to_create_case/2-options" class="section-heading"><a href="#changeset_to_create_case/2-options" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Options</span></h2><ul><li><code class="inline">:tracer</code> (one or a list of module that adopts <a href="https://hexdocs.pm/ash/3.5.32/Ash.Tracer.html"><code class="inline">Ash.Tracer</code></a>) - A tracer that implements the <a href="https://hexdocs.pm/ash/3.5.32/Ash.Tracer.html"><code class="inline">Ash.Tracer</code></a> behaviour. See that module for more.</li><li><code class="inline">:authorize?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If an actor option is provided (even if it is <code class="inline">nil</code>), authorization happens automatically. If not, this flag can be used to authorize with no user.</li><li><code class="inline">:tenant</code> (value that implements the <a href="https://hexdocs.pm/ash/3.5.32/Ash.ToTenant.html"><code class="inline">Ash.ToTenant</code></a> protocol) - A tenant to set on the query or changeset</li><li><code class="inline">:actor</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - If an actor is provided, it will be used in conjunction with the authorizers of a resource to authorize access</li><li><code class="inline">:scope</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A value that implements the <a href="https://hexdocs.pm/ash/3.5.32/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> protocol, for passing around actor/tenant/context in a single value. See <a href="https://hexdocs.pm/ash/3.5.32/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> for more.</li><li><code class="inline">:changeset</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A changeset to seed the action with.</li></ul>
  </section>
</section>
<section class="detail" id="changeset_to_create_notice/2">

    <span id="changeset_to_create_notice/0"></span>

    <span id="changeset_to_create_notice/1"></span>

  <div class="detail-header">
    <a href="#changeset_to_create_notice/2" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">changeset_to_create_notice(params_or_opts \\ %{}, opts \\ [])</h1>


    </div>
  </div>

  <section class="docstring">

<p>Returns the changeset corresponding to the action.</p><h2 id="changeset_to_create_notice/2-options" class="section-heading"><a href="#changeset_to_create_notice/2-options" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Options</span></h2><ul><li><code class="inline">:tracer</code> (one or a list of module that adopts <a href="https://hexdocs.pm/ash/3.5.32/Ash.Tracer.html"><code class="inline">Ash.Tracer</code></a>) - A tracer that implements the <a href="https://hexdocs.pm/ash/3.5.32/Ash.Tracer.html"><code class="inline">Ash.Tracer</code></a> behaviour. See that module for more.</li><li><code class="inline">:authorize?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If an actor option is provided (even if it is <code class="inline">nil</code>), authorization happens automatically. If not, this flag can be used to authorize with no user.</li><li><code class="inline">:tenant</code> (value that implements the <a href="https://hexdocs.pm/ash/3.5.32/Ash.ToTenant.html"><code class="inline">Ash.ToTenant</code></a> protocol) - A tenant to set on the query or changeset</li><li><code class="inline">:actor</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - If an actor is provided, it will be used in conjunction with the authorizers of a resource to authorize access</li><li><code class="inline">:scope</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A value that implements the <a href="https://hexdocs.pm/ash/3.5.32/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> protocol, for passing around actor/tenant/context in a single value. See <a href="https://hexdocs.pm/ash/3.5.32/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> for more.</li><li><code class="inline">:changeset</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A changeset to seed the action with.</li></ul>
  </section>
</section>
<section class="detail" id="changeset_to_create_offender/2">

    <span id="changeset_to_create_offender/0"></span>

    <span id="changeset_to_create_offender/1"></span>

  <div class="detail-header">
    <a href="#changeset_to_create_offender/2" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">changeset_to_create_offender(params_or_opts \\ %{}, opts \\ [])</h1>


    </div>
  </div>

  <section class="docstring">

<p>Returns the changeset corresponding to the action.</p><h2 id="changeset_to_create_offender/2-options" class="section-heading"><a href="#changeset_to_create_offender/2-options" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Options</span></h2><ul><li><code class="inline">:tracer</code> (one or a list of module that adopts <a href="https://hexdocs.pm/ash/3.5.32/Ash.Tracer.html"><code class="inline">Ash.Tracer</code></a>) - A tracer that implements the <a href="https://hexdocs.pm/ash/3.5.32/Ash.Tracer.html"><code class="inline">Ash.Tracer</code></a> behaviour. See that module for more.</li><li><code class="inline">:authorize?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If an actor option is provided (even if it is <code class="inline">nil</code>), authorization happens automatically. If not, this flag can be used to authorize with no user.</li><li><code class="inline">:tenant</code> (value that implements the <a href="https://hexdocs.pm/ash/3.5.32/Ash.ToTenant.html"><code class="inline">Ash.ToTenant</code></a> protocol) - A tenant to set on the query or changeset</li><li><code class="inline">:actor</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - If an actor is provided, it will be used in conjunction with the authorizers of a resource to authorize access</li><li><code class="inline">:scope</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A value that implements the <a href="https://hexdocs.pm/ash/3.5.32/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> protocol, for passing around actor/tenant/context in a single value. See <a href="https://hexdocs.pm/ash/3.5.32/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> for more.</li><li><code class="inline">:changeset</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A changeset to seed the action with.</li></ul>
  </section>
</section>
<section class="detail" id="changeset_to_destroy_case/3">

    <span id="changeset_to_destroy_case/1"></span>

    <span id="changeset_to_destroy_case/2"></span>

  <div class="detail-header">
    <a href="#changeset_to_destroy_case/3" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">changeset_to_destroy_case(record, params_or_opts \\ %{}, opts \\ [])</h1>


    </div>
  </div>

  <section class="docstring">

<p>Returns the changeset corresponding to the action.</p><h2 id="changeset_to_destroy_case/3-options" class="section-heading"><a href="#changeset_to_destroy_case/3-options" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Options</span></h2><ul><li><code class="inline">:tracer</code> (one or a list of module that adopts <a href="https://hexdocs.pm/ash/3.5.32/Ash.Tracer.html"><code class="inline">Ash.Tracer</code></a>) - A tracer that implements the <a href="https://hexdocs.pm/ash/3.5.32/Ash.Tracer.html"><code class="inline">Ash.Tracer</code></a> behaviour. See that module for more.</li><li><code class="inline">:authorize?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If an actor option is provided (even if it is <code class="inline">nil</code>), authorization happens automatically. If not, this flag can be used to authorize with no user.</li><li><code class="inline">:tenant</code> (value that implements the <a href="https://hexdocs.pm/ash/3.5.32/Ash.ToTenant.html"><code class="inline">Ash.ToTenant</code></a> protocol) - A tenant to set on the query or changeset</li><li><code class="inline">:actor</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - If an actor is provided, it will be used in conjunction with the authorizers of a resource to authorize access</li><li><code class="inline">:scope</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A value that implements the <a href="https://hexdocs.pm/ash/3.5.32/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> protocol, for passing around actor/tenant/context in a single value. See <a href="https://hexdocs.pm/ash/3.5.32/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> for more.</li></ul>
  </section>
</section>
<section class="detail" id="changeset_to_destroy_notice/3">

    <span id="changeset_to_destroy_notice/1"></span>

    <span id="changeset_to_destroy_notice/2"></span>

  <div class="detail-header">
    <a href="#changeset_to_destroy_notice/3" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">changeset_to_destroy_notice(record, params_or_opts \\ %{}, opts \\ [])</h1>


    </div>
  </div>

  <section class="docstring">

<p>Returns the changeset corresponding to the action.</p><h2 id="changeset_to_destroy_notice/3-options" class="section-heading"><a href="#changeset_to_destroy_notice/3-options" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Options</span></h2><ul><li><code class="inline">:tracer</code> (one or a list of module that adopts <a href="https://hexdocs.pm/ash/3.5.32/Ash.Tracer.html"><code class="inline">Ash.Tracer</code></a>) - A tracer that implements the <a href="https://hexdocs.pm/ash/3.5.32/Ash.Tracer.html"><code class="inline">Ash.Tracer</code></a> behaviour. See that module for more.</li><li><code class="inline">:authorize?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If an actor option is provided (even if it is <code class="inline">nil</code>), authorization happens automatically. If not, this flag can be used to authorize with no user.</li><li><code class="inline">:tenant</code> (value that implements the <a href="https://hexdocs.pm/ash/3.5.32/Ash.ToTenant.html"><code class="inline">Ash.ToTenant</code></a> protocol) - A tenant to set on the query or changeset</li><li><code class="inline">:actor</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - If an actor is provided, it will be used in conjunction with the authorizers of a resource to authorize access</li><li><code class="inline">:scope</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A value that implements the <a href="https://hexdocs.pm/ash/3.5.32/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> protocol, for passing around actor/tenant/context in a single value. See <a href="https://hexdocs.pm/ash/3.5.32/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> for more.</li></ul>
  </section>
</section>
<section class="detail" id="changeset_to_refresh_metrics/2">

    <span id="changeset_to_refresh_metrics/0"></span>

    <span id="changeset_to_refresh_metrics/1"></span>

  <div class="detail-header">
    <a href="#changeset_to_refresh_metrics/2" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">changeset_to_refresh_metrics(params_or_opts \\ %{}, opts \\ [])</h1>


    </div>
  </div>

  <section class="docstring">

<p>Returns the changeset corresponding to the action.</p><h2 id="changeset_to_refresh_metrics/2-options" class="section-heading"><a href="#changeset_to_refresh_metrics/2-options" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Options</span></h2><ul><li><code class="inline">:tracer</code> (one or a list of module that adopts <a href="https://hexdocs.pm/ash/3.5.32/Ash.Tracer.html"><code class="inline">Ash.Tracer</code></a>) - A tracer that implements the <a href="https://hexdocs.pm/ash/3.5.32/Ash.Tracer.html"><code class="inline">Ash.Tracer</code></a> behaviour. See that module for more.</li><li><code class="inline">:authorize?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If an actor option is provided (even if it is <code class="inline">nil</code>), authorization happens automatically. If not, this flag can be used to authorize with no user.</li><li><code class="inline">:tenant</code> (value that implements the <a href="https://hexdocs.pm/ash/3.5.32/Ash.ToTenant.html"><code class="inline">Ash.ToTenant</code></a> protocol) - A tenant to set on the query or changeset</li><li><code class="inline">:actor</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - If an actor is provided, it will be used in conjunction with the authorizers of a resource to authorize access</li><li><code class="inline">:scope</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A value that implements the <a href="https://hexdocs.pm/ash/3.5.32/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> protocol, for passing around actor/tenant/context in a single value. See <a href="https://hexdocs.pm/ash/3.5.32/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> for more.</li><li><code class="inline">:changeset</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A changeset to seed the action with.</li></ul>
  </section>
</section>
<section class="detail" id="changeset_to_sync_case_from_airtable/3">

    <span id="changeset_to_sync_case_from_airtable/1"></span>

    <span id="changeset_to_sync_case_from_airtable/2"></span>

  <div class="detail-header">
    <a href="#changeset_to_sync_case_from_airtable/3" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">changeset_to_sync_case_from_airtable(record, params_or_opts \\ %{}, opts \\ [])</h1>


    </div>
  </div>

  <section class="docstring">

<p>Returns the changeset corresponding to the action.</p><h2 id="changeset_to_sync_case_from_airtable/3-options" class="section-heading"><a href="#changeset_to_sync_case_from_airtable/3-options" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Options</span></h2><ul><li><code class="inline">:tracer</code> (one or a list of module that adopts <a href="https://hexdocs.pm/ash/3.5.32/Ash.Tracer.html"><code class="inline">Ash.Tracer</code></a>) - A tracer that implements the <a href="https://hexdocs.pm/ash/3.5.32/Ash.Tracer.html"><code class="inline">Ash.Tracer</code></a> behaviour. See that module for more.</li><li><code class="inline">:authorize?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If an actor option is provided (even if it is <code class="inline">nil</code>), authorization happens automatically. If not, this flag can be used to authorize with no user.</li><li><code class="inline">:tenant</code> (value that implements the <a href="https://hexdocs.pm/ash/3.5.32/Ash.ToTenant.html"><code class="inline">Ash.ToTenant</code></a> protocol) - A tenant to set on the query or changeset</li><li><code class="inline">:actor</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - If an actor is provided, it will be used in conjunction with the authorizers of a resource to authorize access</li><li><code class="inline">:scope</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A value that implements the <a href="https://hexdocs.pm/ash/3.5.32/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> protocol, for passing around actor/tenant/context in a single value. See <a href="https://hexdocs.pm/ash/3.5.32/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> for more.</li></ul>
  </section>
</section>
<section class="detail" id="changeset_to_update_agency/3">

    <span id="changeset_to_update_agency/1"></span>

    <span id="changeset_to_update_agency/2"></span>

  <div class="detail-header">
    <a href="#changeset_to_update_agency/3" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">changeset_to_update_agency(record, params_or_opts \\ %{}, opts \\ [])</h1>


    </div>
  </div>

  <section class="docstring">

<p>Returns the changeset corresponding to the action.</p><h2 id="changeset_to_update_agency/3-options" class="section-heading"><a href="#changeset_to_update_agency/3-options" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Options</span></h2><ul><li><code class="inline">:tracer</code> (one or a list of module that adopts <a href="https://hexdocs.pm/ash/3.5.32/Ash.Tracer.html"><code class="inline">Ash.Tracer</code></a>) - A tracer that implements the <a href="https://hexdocs.pm/ash/3.5.32/Ash.Tracer.html"><code class="inline">Ash.Tracer</code></a> behaviour. See that module for more.</li><li><code class="inline">:authorize?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If an actor option is provided (even if it is <code class="inline">nil</code>), authorization happens automatically. If not, this flag can be used to authorize with no user.</li><li><code class="inline">:tenant</code> (value that implements the <a href="https://hexdocs.pm/ash/3.5.32/Ash.ToTenant.html"><code class="inline">Ash.ToTenant</code></a> protocol) - A tenant to set on the query or changeset</li><li><code class="inline">:actor</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - If an actor is provided, it will be used in conjunction with the authorizers of a resource to authorize access</li><li><code class="inline">:scope</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A value that implements the <a href="https://hexdocs.pm/ash/3.5.32/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> protocol, for passing around actor/tenant/context in a single value. See <a href="https://hexdocs.pm/ash/3.5.32/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> for more.</li></ul>
  </section>
</section>
<section class="detail" id="changeset_to_update_breach/3">

    <span id="changeset_to_update_breach/1"></span>

    <span id="changeset_to_update_breach/2"></span>

  <div class="detail-header">
    <a href="#changeset_to_update_breach/3" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">changeset_to_update_breach(record, params_or_opts \\ %{}, opts \\ [])</h1>


    </div>
  </div>

  <section class="docstring">

<p>Returns the changeset corresponding to the action.</p><h2 id="changeset_to_update_breach/3-options" class="section-heading"><a href="#changeset_to_update_breach/3-options" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Options</span></h2><ul><li><code class="inline">:tracer</code> (one or a list of module that adopts <a href="https://hexdocs.pm/ash/3.5.32/Ash.Tracer.html"><code class="inline">Ash.Tracer</code></a>) - A tracer that implements the <a href="https://hexdocs.pm/ash/3.5.32/Ash.Tracer.html"><code class="inline">Ash.Tracer</code></a> behaviour. See that module for more.</li><li><code class="inline">:authorize?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If an actor option is provided (even if it is <code class="inline">nil</code>), authorization happens automatically. If not, this flag can be used to authorize with no user.</li><li><code class="inline">:tenant</code> (value that implements the <a href="https://hexdocs.pm/ash/3.5.32/Ash.ToTenant.html"><code class="inline">Ash.ToTenant</code></a> protocol) - A tenant to set on the query or changeset</li><li><code class="inline">:actor</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - If an actor is provided, it will be used in conjunction with the authorizers of a resource to authorize access</li><li><code class="inline">:scope</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A value that implements the <a href="https://hexdocs.pm/ash/3.5.32/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> protocol, for passing around actor/tenant/context in a single value. See <a href="https://hexdocs.pm/ash/3.5.32/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> for more.</li></ul>
  </section>
</section>
<section class="detail" id="changeset_to_update_case/3">

    <span id="changeset_to_update_case/1"></span>

    <span id="changeset_to_update_case/2"></span>

  <div class="detail-header">
    <a href="#changeset_to_update_case/3" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">changeset_to_update_case(record, params_or_opts \\ %{}, opts \\ [])</h1>


    </div>
  </div>

  <section class="docstring">

<p>Returns the changeset corresponding to the action.</p><h2 id="changeset_to_update_case/3-options" class="section-heading"><a href="#changeset_to_update_case/3-options" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Options</span></h2><ul><li><code class="inline">:tracer</code> (one or a list of module that adopts <a href="https://hexdocs.pm/ash/3.5.32/Ash.Tracer.html"><code class="inline">Ash.Tracer</code></a>) - A tracer that implements the <a href="https://hexdocs.pm/ash/3.5.32/Ash.Tracer.html"><code class="inline">Ash.Tracer</code></a> behaviour. See that module for more.</li><li><code class="inline">:authorize?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If an actor option is provided (even if it is <code class="inline">nil</code>), authorization happens automatically. If not, this flag can be used to authorize with no user.</li><li><code class="inline">:tenant</code> (value that implements the <a href="https://hexdocs.pm/ash/3.5.32/Ash.ToTenant.html"><code class="inline">Ash.ToTenant</code></a> protocol) - A tenant to set on the query or changeset</li><li><code class="inline">:actor</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - If an actor is provided, it will be used in conjunction with the authorizers of a resource to authorize access</li><li><code class="inline">:scope</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A value that implements the <a href="https://hexdocs.pm/ash/3.5.32/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> protocol, for passing around actor/tenant/context in a single value. See <a href="https://hexdocs.pm/ash/3.5.32/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> for more.</li></ul>
  </section>
</section>
<section class="detail" id="changeset_to_update_case_from_scraping/3">

    <span id="changeset_to_update_case_from_scraping/1"></span>

    <span id="changeset_to_update_case_from_scraping/2"></span>

  <div class="detail-header">
    <a href="#changeset_to_update_case_from_scraping/3" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">changeset_to_update_case_from_scraping(record, params_or_opts \\ %{}, opts \\ [])</h1>


    </div>
  </div>

  <section class="docstring">

<p>Returns the changeset corresponding to the action.</p><h2 id="changeset_to_update_case_from_scraping/3-options" class="section-heading"><a href="#changeset_to_update_case_from_scraping/3-options" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Options</span></h2><ul><li><code class="inline">:tracer</code> (one or a list of module that adopts <a href="https://hexdocs.pm/ash/3.5.32/Ash.Tracer.html"><code class="inline">Ash.Tracer</code></a>) - A tracer that implements the <a href="https://hexdocs.pm/ash/3.5.32/Ash.Tracer.html"><code class="inline">Ash.Tracer</code></a> behaviour. See that module for more.</li><li><code class="inline">:authorize?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If an actor option is provided (even if it is <code class="inline">nil</code>), authorization happens automatically. If not, this flag can be used to authorize with no user.</li><li><code class="inline">:tenant</code> (value that implements the <a href="https://hexdocs.pm/ash/3.5.32/Ash.ToTenant.html"><code class="inline">Ash.ToTenant</code></a> protocol) - A tenant to set on the query or changeset</li><li><code class="inline">:actor</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - If an actor is provided, it will be used in conjunction with the authorizers of a resource to authorize access</li><li><code class="inline">:scope</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A value that implements the <a href="https://hexdocs.pm/ash/3.5.32/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> protocol, for passing around actor/tenant/context in a single value. See <a href="https://hexdocs.pm/ash/3.5.32/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> for more.</li></ul>
  </section>
</section>
<section class="detail" id="changeset_to_update_notice/3">

    <span id="changeset_to_update_notice/1"></span>

    <span id="changeset_to_update_notice/2"></span>

  <div class="detail-header">
    <a href="#changeset_to_update_notice/3" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">changeset_to_update_notice(record, params_or_opts \\ %{}, opts \\ [])</h1>


    </div>
  </div>

  <section class="docstring">

<p>Returns the changeset corresponding to the action.</p><h2 id="changeset_to_update_notice/3-options" class="section-heading"><a href="#changeset_to_update_notice/3-options" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Options</span></h2><ul><li><code class="inline">:tracer</code> (one or a list of module that adopts <a href="https://hexdocs.pm/ash/3.5.32/Ash.Tracer.html"><code class="inline">Ash.Tracer</code></a>) - A tracer that implements the <a href="https://hexdocs.pm/ash/3.5.32/Ash.Tracer.html"><code class="inline">Ash.Tracer</code></a> behaviour. See that module for more.</li><li><code class="inline">:authorize?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If an actor option is provided (even if it is <code class="inline">nil</code>), authorization happens automatically. If not, this flag can be used to authorize with no user.</li><li><code class="inline">:tenant</code> (value that implements the <a href="https://hexdocs.pm/ash/3.5.32/Ash.ToTenant.html"><code class="inline">Ash.ToTenant</code></a> protocol) - A tenant to set on the query or changeset</li><li><code class="inline">:actor</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - If an actor is provided, it will be used in conjunction with the authorizers of a resource to authorize access</li><li><code class="inline">:scope</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A value that implements the <a href="https://hexdocs.pm/ash/3.5.32/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> protocol, for passing around actor/tenant/context in a single value. See <a href="https://hexdocs.pm/ash/3.5.32/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> for more.</li></ul>
  </section>
</section>
<section class="detail" id="changeset_to_update_offender/3">

    <span id="changeset_to_update_offender/1"></span>

    <span id="changeset_to_update_offender/2"></span>

  <div class="detail-header">
    <a href="#changeset_to_update_offender/3" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">changeset_to_update_offender(record, params_or_opts \\ %{}, opts \\ [])</h1>


    </div>
  </div>

  <section class="docstring">

<p>Returns the changeset corresponding to the action.</p><h2 id="changeset_to_update_offender/3-options" class="section-heading"><a href="#changeset_to_update_offender/3-options" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Options</span></h2><ul><li><code class="inline">:tracer</code> (one or a list of module that adopts <a href="https://hexdocs.pm/ash/3.5.32/Ash.Tracer.html"><code class="inline">Ash.Tracer</code></a>) - A tracer that implements the <a href="https://hexdocs.pm/ash/3.5.32/Ash.Tracer.html"><code class="inline">Ash.Tracer</code></a> behaviour. See that module for more.</li><li><code class="inline">:authorize?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If an actor option is provided (even if it is <code class="inline">nil</code>), authorization happens automatically. If not, this flag can be used to authorize with no user.</li><li><code class="inline">:tenant</code> (value that implements the <a href="https://hexdocs.pm/ash/3.5.32/Ash.ToTenant.html"><code class="inline">Ash.ToTenant</code></a> protocol) - A tenant to set on the query or changeset</li><li><code class="inline">:actor</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - If an actor is provided, it will be used in conjunction with the authorizers of a resource to authorize access</li><li><code class="inline">:scope</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A value that implements the <a href="https://hexdocs.pm/ash/3.5.32/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> protocol, for passing around actor/tenant/context in a single value. See <a href="https://hexdocs.pm/ash/3.5.32/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> for more.</li></ul>
  </section>
</section>
<section class="detail" id="changeset_to_update_offender_statistics/3">

    <span id="changeset_to_update_offender_statistics/1"></span>

    <span id="changeset_to_update_offender_statistics/2"></span>

  <div class="detail-header">
    <a href="#changeset_to_update_offender_statistics/3" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">changeset_to_update_offender_statistics(record, params_or_opts \\ %{}, opts \\ [])</h1>


    </div>
  </div>

  <section class="docstring">

<p>Returns the changeset corresponding to the action.</p><h2 id="changeset_to_update_offender_statistics/3-options" class="section-heading"><a href="#changeset_to_update_offender_statistics/3-options" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Options</span></h2><ul><li><code class="inline">:tracer</code> (one or a list of module that adopts <a href="https://hexdocs.pm/ash/3.5.32/Ash.Tracer.html"><code class="inline">Ash.Tracer</code></a>) - A tracer that implements the <a href="https://hexdocs.pm/ash/3.5.32/Ash.Tracer.html"><code class="inline">Ash.Tracer</code></a> behaviour. See that module for more.</li><li><code class="inline">:authorize?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If an actor option is provided (even if it is <code class="inline">nil</code>), authorization happens automatically. If not, this flag can be used to authorize with no user.</li><li><code class="inline">:tenant</code> (value that implements the <a href="https://hexdocs.pm/ash/3.5.32/Ash.ToTenant.html"><code class="inline">Ash.ToTenant</code></a> protocol) - A tenant to set on the query or changeset</li><li><code class="inline">:actor</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - If an actor is provided, it will be used in conjunction with the authorizers of a resource to authorize access</li><li><code class="inline">:scope</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A value that implements the <a href="https://hexdocs.pm/ash/3.5.32/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> protocol, for passing around actor/tenant/context in a single value. See <a href="https://hexdocs.pm/ash/3.5.32/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> for more.</li></ul>
  </section>
</section>
<section class="detail" id="clear_cache/0">

  <div class="detail-header">
    <a href="#clear_cache/0" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">clear_cache()</h1>


    </div>
  </div>

  <section class="docstring">

<p>Clear all cached results. Useful when data is updated.</p>
  </section>
</section>
<section class="detail" id="count_cases!/1">

    <span id="count_cases!/0"></span>

  <div class="detail-header">
    <a href="#count_cases!/1" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">count_cases!(opts \\ [])</h1>


    </div>
  </div>

  <section class="docstring">


  </section>
</section>
<section class="detail" id="count_cases_cached!/1">

    <span id="count_cases_cached!/0"></span>

  <div class="detail-header">
    <a href="#count_cases_cached!/1" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">count_cases_cached!(opts \\ [])</h1>


    </div>
  </div>

  <section class="docstring">

<p>Cached count functions for dashboard metrics and pagination.</p>
  </section>
</section>
<section class="detail" id="count_cases_monitored!/1">

    <span id="count_cases_monitored!/0"></span>

  <div class="detail-header">
    <a href="#count_cases_monitored!/1" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">count_cases_monitored!(opts \\ [])</h1>


    </div>
  </div>

  <section class="docstring">

<p>Monitored version of count_cases! that logs slow queries.</p>
  </section>
</section>
<section class="detail" id="count_notices!/1">

    <span id="count_notices!/0"></span>

  <div class="detail-header">
    <a href="#count_notices!/1" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">count_notices!(opts \\ [])</h1>


    </div>
  </div>

  <section class="docstring">


  </section>
</section>
<section class="detail" id="count_notices_cached!/1">

    <span id="count_notices_cached!/0"></span>

  <div class="detail-header">
    <a href="#count_notices_cached!/1" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">count_notices_cached!(opts \\ [])</h1>


    </div>
  </div>

  <section class="docstring">


  </section>
</section>
<section class="detail" id="count_notices_monitored!/1">

    <span id="count_notices_monitored!/0"></span>

  <div class="detail-header">
    <a href="#count_notices_monitored!/1" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">count_notices_monitored!(opts \\ [])</h1>


    </div>
  </div>

  <section class="docstring">

<p>Monitored version of count_notices! that logs slow queries.</p>
  </section>
</section>
<section class="detail" id="count_offenders!/1">

    <span id="count_offenders!/0"></span>

  <div class="detail-header">
    <a href="#count_offenders!/1" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">count_offenders!(opts \\ [])</h1>


    </div>
  </div>

  <section class="docstring">


  </section>
</section>
<section class="detail" id="create_agency/2">

    <span id="create_agency/0"></span>

    <span id="create_agency/1"></span>

  <div class="detail-header">
    <a href="#create_agency/2" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">create_agency(params \\ nil, opts \\ nil)</h1>


    </div>
  </div>

  <section class="docstring">

<p>Calls the create action on EhsEnforcement.Enforcement.Agency.</p><h1>Inputs</h1><ul><li>code</li><li>enabled</li><li>name</li><li>base_url</li></ul><h2 id="create_agency/2-options" class="section-heading"><a href="#create_agency/2-options" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Options</span></h2><ul><li><code class="inline">:upsert?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If a conflict is found based on the primary key, the record is updated in the database (requires upsert support) The default value is <code class="inline">false</code>.</li><li><code class="inline">:return_skipped_upsert?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If <code class="inline">true</code>, and a record was <em>not</em> upserted because its filter prevented the upsert, the original record (which was <em>not</em> upserted) will be returned. The default value is <code class="inline">false</code>.</li><li><code class="inline">:upsert_identity</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - The identity to use when detecting conflicts for <code class="inline">upsert?</code>, e.g. <code class="inline">upsert_identity: :full_name</code>. By default, the primary key is used. Has no effect if <code class="inline">upsert?: true</code> is not provided</li><li><code class="inline">:upsert_fields</code> - The fields to upsert. If not set, the action's upsert_fields is used, and if that is not set, then any fields not being set to defaults are written.</li><li><code class="inline">:upsert_condition</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - An expression to check if the record should be updated when there's a conflict.</li><li><code class="inline">:timeout</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">timeout/0</code></a>) - A positive integer, or <code class="inline">:infinity</code>. If none is provided, the timeout configured on the domain is used.</li><li><code class="inline">:tracer</code> (one or a list of module that adopts <a href="https://hexdocs.pm/ash/3.5.32/Ash.Tracer.html"><code class="inline">Ash.Tracer</code></a>) - A tracer that implements the <a href="https://hexdocs.pm/ash/3.5.32/Ash.Tracer.html"><code class="inline">Ash.Tracer</code></a> behaviour. See that module for more.</li><li><code class="inline">:action</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - The action to use, either an Action struct or the name of the action</li><li><code class="inline">:authorize?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If an actor option is provided (even if it is <code class="inline">nil</code>), authorization happens automatically. If not, this flag can be used to authorize with no user.</li><li><code class="inline">:context</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">map/0</code></a>) - Context to set on the query, changeset, or input</li><li><code class="inline">:tenant</code> (value that implements the <a href="https://hexdocs.pm/ash/3.5.32/Ash.ToTenant.html"><code class="inline">Ash.ToTenant</code></a> protocol) - A tenant to set on the query or changeset</li><li><code class="inline">:actor</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - If an actor is provided, it will be used in conjunction with the authorizers of a resource to authorize access</li><li><code class="inline">:scope</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A value that implements the <a href="https://hexdocs.pm/ash/3.5.32/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> protocol, for passing around actor/tenant/context in a single value. See <a href="https://hexdocs.pm/ash/3.5.32/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> for more.</li><li><code class="inline">:return_notifications?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Use this if you're running ash actions in your own transaction and you want to manually handle sending notifications.<br/>If a transaction is ongoing, and this is false, notifications will be discarded, otherwise
the return value is <code class="inline">{:ok, result, notifications}</code> (or <code class="inline">{:ok, notifications}</code>)<br/>To send notifications later, use <code class="inline">Ash.Notifier.notify(notifications)</code>. It sends any notifications
that can be sent, and returns the rest. The default value is <code class="inline">false</code>.</li><li><code class="inline">:rollback_on_error?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to rollback the transaction on error, if the resource is in a transaction.<br/>If the action has <code class="inline">transaction? false</code> this option has no effect. If an error is returned from the
data layer and the resource is in a transaction, the transaction is always rolled back, regardless. The default value is <code class="inline">true</code>.</li><li><code class="inline">:notification_metadata</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - Metadata to be merged into the metadata field for all notifications sent from this operation. The default value is <code class="inline">%{}</code>.</li><li><code class="inline">:skip_unknown_inputs</code> - A list of inputs that, if provided, will be ignored if they are not recognized by the action. Use <code class="inline">:*</code> to indicate all unknown keys.</li><li><code class="inline">:load</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A load statement to add onto the changeset</li><li><code class="inline">:changeset</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A changeset to seed the action with.</li><li><code class="inline">:bulk_options</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">keyword/0</code></a>) - Options passed to <code class="inline">Ash.bulk_create</code>, if a list or stream of inputs is provided.<ul><li><code class="inline">:select</code> (list of <a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - A select statement to apply to records. Ignored if <code class="inline">return_records?</code> is not true.</li><li><code class="inline">:after_action</code> (function of arity 2) - An after_action hook to be added to each processed changeset</li><li><code class="inline">:read_action</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - The action to use when building the read query.</li><li><code class="inline">:assume_casted?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to cast attributes and arguments as input. This is an optimization for cases where the input is already casted and/or not in need of casting The default value is <code class="inline">false</code>.</li><li><code class="inline">:select</code> (list of <a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - A select statement to apply to records. Ignored if <code class="inline">return_records?</code> is not true.</li><li><code class="inline">:authorize_query_with</code> - If set to <code class="inline">:error</code>, instead of filtering unauthorized query results, unauthorized query results will raise an appropriate forbidden error. Uses <code class="inline">authorize_with</code> if not set.</li><li><code class="inline">:authorize_changeset_with</code> - If set to <code class="inline">:error</code>, instead of filtering unauthorized changes, unauthorized changes will raise an appropriate forbidden error. Uses <code class="inline">authorize_with</code> if not set.</li><li><code class="inline">:authorize_with</code> - If set to <code class="inline">:error</code>, instead of filtering unauthorized query results, unauthorized query results will raise an appropriate forbidden error. The default value is <code class="inline">:filter</code>.</li><li><code class="inline">:private_arguments</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">map/0</code></a>) - Private argument values to set on each changeset before validations and changes are run. The default value is <code class="inline">%{}</code>.</li><li><code class="inline">:sorted?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to sort results by their input position, in cases where <code class="inline">return_records?: true</code> was provided. The default value is <code class="inline">false</code>.</li><li><code class="inline">:return_records?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to return all of the records that were inserted. Defaults to false to account for large inserts. The default value is <code class="inline">false</code>.</li><li><code class="inline">:return_errors?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether to return all errors that occur during the operation. Defaults to the value of <code class="inline">:bulk_actions_default_to_errors?</code> in your config, or <code class="inline">false</code> if not set. Returning all errors may be expensive for large inserts. The default value is <code class="inline">false</code>.</li><li><code class="inline">:batch_size</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">pos_integer/0</code></a>) - The number of records to include in each batch. Defaults to the <code class="inline">default_limit</code>
or <code class="inline">max_page_size</code> of the action, or 100.</li><li><code class="inline">:return_stream?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If set to <code class="inline">true</code>, instead of an <a href="https://hexdocs.pm/ash/3.5.32/Ash.BulkResult.html"><code class="inline">Ash.BulkResult</code></a>, a mixed stream is returned.
Potential elements:
<code class="inline">{:notification, notification}</code> - if <code class="inline">return_notifications?</code> is set to <code class="inline">true</code>
<code class="inline">{:ok, record}</code> - if <code class="inline">return_records?</code> is set to <code class="inline">true</code>
<code class="inline">{:error, error}</code> - an error that occurred. May be changeset or an individual error.
The default value is <code class="inline">false</code>.</li><li><code class="inline">:return_nothing?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Mutes warnings about returning nothing.
Only relevant if <code class="inline">return_stream?</code> is set to <code class="inline">true</code> and all other
<code class="inline">return_*?</code> options are set to <code class="inline">false</code>.
The default value is <code class="inline">false</code>.</li><li><code class="inline">:stop_on_error?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If true, the first encountered error will stop the action and be returned. Otherwise, errors
will be skipped. The default value is <code class="inline">false</code>.</li><li><code class="inline">:notify?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to generate any notifications. If this is set to <code class="inline">true</code> then the data layer must return
the results from each batch. This may be intensive for large bulk actions.
Notifications will be automatically sent unless <code class="inline">return_notifications?</code> is set to <code class="inline">true</code>.
The default value is <code class="inline">false</code>.</li><li><code class="inline">:transaction</code> - Whether or not to wrap the entire execution in a transaction, each batch, or not at all.
Keep in mind:
<code class="inline">before_transaction</code> and <code class="inline">after_transaction</code> hooks attached to changesets will have to be run
<em>inside</em> the transaction if you choose <code class="inline">transaction: :all</code>.
The default value is <code class="inline">:batch</code>.</li><li><code class="inline">:max_concurrency</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">non_neg_integer/0</code></a>) - If set to a value greater than 0, up to that many tasks will be started to run batches asynchronously The default value is <code class="inline">0</code>.</li></ul></li><li><code class="inline">:private_arguments</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">map/0</code></a>) - Private argument values to set before validations and changes. The default value is <code class="inline">%{}</code>.</li></ul>
  </section>
</section>
<section class="detail" id="create_agency!/2">

    <span id="create_agency!/0"></span>

    <span id="create_agency!/1"></span>

  <div class="detail-header">
    <a href="#create_agency!/2" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">create_agency!(params \\ nil, opts \\ nil)</h1>


    </div>
  </div>

  <section class="docstring">

<p>Calls the create action on EhsEnforcement.Enforcement.Agency.
Raises any errors instead of returning them</p><h1>Inputs</h1><ul><li>code</li><li>enabled</li><li>name</li><li>base_url</li></ul><h2 id="create_agency!/2-options" class="section-heading"><a href="#create_agency!/2-options" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Options</span></h2><ul><li><code class="inline">:upsert?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If a conflict is found based on the primary key, the record is updated in the database (requires upsert support) The default value is <code class="inline">false</code>.</li><li><code class="inline">:return_skipped_upsert?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If <code class="inline">true</code>, and a record was <em>not</em> upserted because its filter prevented the upsert, the original record (which was <em>not</em> upserted) will be returned. The default value is <code class="inline">false</code>.</li><li><code class="inline">:upsert_identity</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - The identity to use when detecting conflicts for <code class="inline">upsert?</code>, e.g. <code class="inline">upsert_identity: :full_name</code>. By default, the primary key is used. Has no effect if <code class="inline">upsert?: true</code> is not provided</li><li><code class="inline">:upsert_fields</code> - The fields to upsert. If not set, the action's upsert_fields is used, and if that is not set, then any fields not being set to defaults are written.</li><li><code class="inline">:upsert_condition</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - An expression to check if the record should be updated when there's a conflict.</li><li><code class="inline">:timeout</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">timeout/0</code></a>) - A positive integer, or <code class="inline">:infinity</code>. If none is provided, the timeout configured on the domain is used.</li><li><code class="inline">:tracer</code> (one or a list of module that adopts <a href="https://hexdocs.pm/ash/3.5.32/Ash.Tracer.html"><code class="inline">Ash.Tracer</code></a>) - A tracer that implements the <a href="https://hexdocs.pm/ash/3.5.32/Ash.Tracer.html"><code class="inline">Ash.Tracer</code></a> behaviour. See that module for more.</li><li><code class="inline">:action</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - The action to use, either an Action struct or the name of the action</li><li><code class="inline">:authorize?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If an actor option is provided (even if it is <code class="inline">nil</code>), authorization happens automatically. If not, this flag can be used to authorize with no user.</li><li><code class="inline">:context</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">map/0</code></a>) - Context to set on the query, changeset, or input</li><li><code class="inline">:tenant</code> (value that implements the <a href="https://hexdocs.pm/ash/3.5.32/Ash.ToTenant.html"><code class="inline">Ash.ToTenant</code></a> protocol) - A tenant to set on the query or changeset</li><li><code class="inline">:actor</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - If an actor is provided, it will be used in conjunction with the authorizers of a resource to authorize access</li><li><code class="inline">:scope</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A value that implements the <a href="https://hexdocs.pm/ash/3.5.32/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> protocol, for passing around actor/tenant/context in a single value. See <a href="https://hexdocs.pm/ash/3.5.32/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> for more.</li><li><code class="inline">:return_notifications?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Use this if you're running ash actions in your own transaction and you want to manually handle sending notifications.<br/>If a transaction is ongoing, and this is false, notifications will be discarded, otherwise
the return value is <code class="inline">{:ok, result, notifications}</code> (or <code class="inline">{:ok, notifications}</code>)<br/>To send notifications later, use <code class="inline">Ash.Notifier.notify(notifications)</code>. It sends any notifications
that can be sent, and returns the rest. The default value is <code class="inline">false</code>.</li><li><code class="inline">:rollback_on_error?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to rollback the transaction on error, if the resource is in a transaction.<br/>If the action has <code class="inline">transaction? false</code> this option has no effect. If an error is returned from the
data layer and the resource is in a transaction, the transaction is always rolled back, regardless. The default value is <code class="inline">true</code>.</li><li><code class="inline">:notification_metadata</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - Metadata to be merged into the metadata field for all notifications sent from this operation. The default value is <code class="inline">%{}</code>.</li><li><code class="inline">:skip_unknown_inputs</code> - A list of inputs that, if provided, will be ignored if they are not recognized by the action. Use <code class="inline">:*</code> to indicate all unknown keys.</li><li><code class="inline">:load</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A load statement to add onto the changeset</li><li><code class="inline">:changeset</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A changeset to seed the action with.</li><li><code class="inline">:bulk_options</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">keyword/0</code></a>) - Options passed to <code class="inline">Ash.bulk_create</code>, if a list or stream of inputs is provided.<ul><li><code class="inline">:select</code> (list of <a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - A select statement to apply to records. Ignored if <code class="inline">return_records?</code> is not true.</li><li><code class="inline">:after_action</code> (function of arity 2) - An after_action hook to be added to each processed changeset</li><li><code class="inline">:read_action</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - The action to use when building the read query.</li><li><code class="inline">:assume_casted?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to cast attributes and arguments as input. This is an optimization for cases where the input is already casted and/or not in need of casting The default value is <code class="inline">false</code>.</li><li><code class="inline">:select</code> (list of <a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - A select statement to apply to records. Ignored if <code class="inline">return_records?</code> is not true.</li><li><code class="inline">:authorize_query_with</code> - If set to <code class="inline">:error</code>, instead of filtering unauthorized query results, unauthorized query results will raise an appropriate forbidden error. Uses <code class="inline">authorize_with</code> if not set.</li><li><code class="inline">:authorize_changeset_with</code> - If set to <code class="inline">:error</code>, instead of filtering unauthorized changes, unauthorized changes will raise an appropriate forbidden error. Uses <code class="inline">authorize_with</code> if not set.</li><li><code class="inline">:authorize_with</code> - If set to <code class="inline">:error</code>, instead of filtering unauthorized query results, unauthorized query results will raise an appropriate forbidden error. The default value is <code class="inline">:filter</code>.</li><li><code class="inline">:private_arguments</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">map/0</code></a>) - Private argument values to set on each changeset before validations and changes are run. The default value is <code class="inline">%{}</code>.</li><li><code class="inline">:sorted?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to sort results by their input position, in cases where <code class="inline">return_records?: true</code> was provided. The default value is <code class="inline">false</code>.</li><li><code class="inline">:return_records?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to return all of the records that were inserted. Defaults to false to account for large inserts. The default value is <code class="inline">false</code>.</li><li><code class="inline">:return_errors?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether to return all errors that occur during the operation. Defaults to the value of <code class="inline">:bulk_actions_default_to_errors?</code> in your config, or <code class="inline">false</code> if not set. Returning all errors may be expensive for large inserts. The default value is <code class="inline">false</code>.</li><li><code class="inline">:batch_size</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">pos_integer/0</code></a>) - The number of records to include in each batch. Defaults to the <code class="inline">default_limit</code>
or <code class="inline">max_page_size</code> of the action, or 100.</li><li><code class="inline">:return_stream?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If set to <code class="inline">true</code>, instead of an <a href="https://hexdocs.pm/ash/3.5.32/Ash.BulkResult.html"><code class="inline">Ash.BulkResult</code></a>, a mixed stream is returned.
Potential elements:
<code class="inline">{:notification, notification}</code> - if <code class="inline">return_notifications?</code> is set to <code class="inline">true</code>
<code class="inline">{:ok, record}</code> - if <code class="inline">return_records?</code> is set to <code class="inline">true</code>
<code class="inline">{:error, error}</code> - an error that occurred. May be changeset or an individual error.
The default value is <code class="inline">false</code>.</li><li><code class="inline">:return_nothing?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Mutes warnings about returning nothing.
Only relevant if <code class="inline">return_stream?</code> is set to <code class="inline">true</code> and all other
<code class="inline">return_*?</code> options are set to <code class="inline">false</code>.
The default value is <code class="inline">false</code>.</li><li><code class="inline">:stop_on_error?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If true, the first encountered error will stop the action and be returned. Otherwise, errors
will be skipped. The default value is <code class="inline">false</code>.</li><li><code class="inline">:notify?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to generate any notifications. If this is set to <code class="inline">true</code> then the data layer must return
the results from each batch. This may be intensive for large bulk actions.
Notifications will be automatically sent unless <code class="inline">return_notifications?</code> is set to <code class="inline">true</code>.
The default value is <code class="inline">false</code>.</li><li><code class="inline">:transaction</code> - Whether or not to wrap the entire execution in a transaction, each batch, or not at all.
Keep in mind:
<code class="inline">before_transaction</code> and <code class="inline">after_transaction</code> hooks attached to changesets will have to be run
<em>inside</em> the transaction if you choose <code class="inline">transaction: :all</code>.
The default value is <code class="inline">:batch</code>.</li><li><code class="inline">:max_concurrency</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">non_neg_integer/0</code></a>) - If set to a value greater than 0, up to that many tasks will be started to run batches asynchronously The default value is <code class="inline">0</code>.</li></ul></li><li><code class="inline">:private_arguments</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">map/0</code></a>) - Private argument values to set before validations and changes. The default value is <code class="inline">%{}</code>.</li></ul>
  </section>
</section>
<section class="detail" id="create_breach/2">

    <span id="create_breach/0"></span>

    <span id="create_breach/1"></span>

  <div class="detail-header">
    <a href="#create_breach/2" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">create_breach(params \\ nil, opts \\ nil)</h1>


    </div>
  </div>

  <section class="docstring">

<p>Calls the create action on EhsEnforcement.Enforcement.Breach.</p><h1>Inputs</h1><ul><li>case_id</li><li>breach_description</li><li>legislation_reference</li><li>legislation_type</li></ul><h2 id="create_breach/2-options" class="section-heading"><a href="#create_breach/2-options" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Options</span></h2><ul><li><code class="inline">:upsert?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If a conflict is found based on the primary key, the record is updated in the database (requires upsert support) The default value is <code class="inline">false</code>.</li><li><code class="inline">:return_skipped_upsert?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If <code class="inline">true</code>, and a record was <em>not</em> upserted because its filter prevented the upsert, the original record (which was <em>not</em> upserted) will be returned. The default value is <code class="inline">false</code>.</li><li><code class="inline">:upsert_identity</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - The identity to use when detecting conflicts for <code class="inline">upsert?</code>, e.g. <code class="inline">upsert_identity: :full_name</code>. By default, the primary key is used. Has no effect if <code class="inline">upsert?: true</code> is not provided</li><li><code class="inline">:upsert_fields</code> - The fields to upsert. If not set, the action's upsert_fields is used, and if that is not set, then any fields not being set to defaults are written.</li><li><code class="inline">:upsert_condition</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - An expression to check if the record should be updated when there's a conflict.</li><li><code class="inline">:timeout</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">timeout/0</code></a>) - A positive integer, or <code class="inline">:infinity</code>. If none is provided, the timeout configured on the domain is used.</li><li><code class="inline">:tracer</code> (one or a list of module that adopts <a href="https://hexdocs.pm/ash/3.5.32/Ash.Tracer.html"><code class="inline">Ash.Tracer</code></a>) - A tracer that implements the <a href="https://hexdocs.pm/ash/3.5.32/Ash.Tracer.html"><code class="inline">Ash.Tracer</code></a> behaviour. See that module for more.</li><li><code class="inline">:action</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - The action to use, either an Action struct or the name of the action</li><li><code class="inline">:authorize?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If an actor option is provided (even if it is <code class="inline">nil</code>), authorization happens automatically. If not, this flag can be used to authorize with no user.</li><li><code class="inline">:context</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">map/0</code></a>) - Context to set on the query, changeset, or input</li><li><code class="inline">:tenant</code> (value that implements the <a href="https://hexdocs.pm/ash/3.5.32/Ash.ToTenant.html"><code class="inline">Ash.ToTenant</code></a> protocol) - A tenant to set on the query or changeset</li><li><code class="inline">:actor</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - If an actor is provided, it will be used in conjunction with the authorizers of a resource to authorize access</li><li><code class="inline">:scope</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A value that implements the <a href="https://hexdocs.pm/ash/3.5.32/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> protocol, for passing around actor/tenant/context in a single value. See <a href="https://hexdocs.pm/ash/3.5.32/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> for more.</li><li><code class="inline">:return_notifications?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Use this if you're running ash actions in your own transaction and you want to manually handle sending notifications.<br/>If a transaction is ongoing, and this is false, notifications will be discarded, otherwise
the return value is <code class="inline">{:ok, result, notifications}</code> (or <code class="inline">{:ok, notifications}</code>)<br/>To send notifications later, use <code class="inline">Ash.Notifier.notify(notifications)</code>. It sends any notifications
that can be sent, and returns the rest. The default value is <code class="inline">false</code>.</li><li><code class="inline">:rollback_on_error?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to rollback the transaction on error, if the resource is in a transaction.<br/>If the action has <code class="inline">transaction? false</code> this option has no effect. If an error is returned from the
data layer and the resource is in a transaction, the transaction is always rolled back, regardless. The default value is <code class="inline">true</code>.</li><li><code class="inline">:notification_metadata</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - Metadata to be merged into the metadata field for all notifications sent from this operation. The default value is <code class="inline">%{}</code>.</li><li><code class="inline">:skip_unknown_inputs</code> - A list of inputs that, if provided, will be ignored if they are not recognized by the action. Use <code class="inline">:*</code> to indicate all unknown keys.</li><li><code class="inline">:load</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A load statement to add onto the changeset</li><li><code class="inline">:changeset</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A changeset to seed the action with.</li><li><code class="inline">:bulk_options</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">keyword/0</code></a>) - Options passed to <code class="inline">Ash.bulk_create</code>, if a list or stream of inputs is provided.<ul><li><code class="inline">:select</code> (list of <a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - A select statement to apply to records. Ignored if <code class="inline">return_records?</code> is not true.</li><li><code class="inline">:after_action</code> (function of arity 2) - An after_action hook to be added to each processed changeset</li><li><code class="inline">:read_action</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - The action to use when building the read query.</li><li><code class="inline">:assume_casted?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to cast attributes and arguments as input. This is an optimization for cases where the input is already casted and/or not in need of casting The default value is <code class="inline">false</code>.</li><li><code class="inline">:select</code> (list of <a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - A select statement to apply to records. Ignored if <code class="inline">return_records?</code> is not true.</li><li><code class="inline">:authorize_query_with</code> - If set to <code class="inline">:error</code>, instead of filtering unauthorized query results, unauthorized query results will raise an appropriate forbidden error. Uses <code class="inline">authorize_with</code> if not set.</li><li><code class="inline">:authorize_changeset_with</code> - If set to <code class="inline">:error</code>, instead of filtering unauthorized changes, unauthorized changes will raise an appropriate forbidden error. Uses <code class="inline">authorize_with</code> if not set.</li><li><code class="inline">:authorize_with</code> - If set to <code class="inline">:error</code>, instead of filtering unauthorized query results, unauthorized query results will raise an appropriate forbidden error. The default value is <code class="inline">:filter</code>.</li><li><code class="inline">:private_arguments</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">map/0</code></a>) - Private argument values to set on each changeset before validations and changes are run. The default value is <code class="inline">%{}</code>.</li><li><code class="inline">:sorted?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to sort results by their input position, in cases where <code class="inline">return_records?: true</code> was provided. The default value is <code class="inline">false</code>.</li><li><code class="inline">:return_records?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to return all of the records that were inserted. Defaults to false to account for large inserts. The default value is <code class="inline">false</code>.</li><li><code class="inline">:return_errors?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether to return all errors that occur during the operation. Defaults to the value of <code class="inline">:bulk_actions_default_to_errors?</code> in your config, or <code class="inline">false</code> if not set. Returning all errors may be expensive for large inserts. The default value is <code class="inline">false</code>.</li><li><code class="inline">:batch_size</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">pos_integer/0</code></a>) - The number of records to include in each batch. Defaults to the <code class="inline">default_limit</code>
or <code class="inline">max_page_size</code> of the action, or 100.</li><li><code class="inline">:return_stream?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If set to <code class="inline">true</code>, instead of an <a href="https://hexdocs.pm/ash/3.5.32/Ash.BulkResult.html"><code class="inline">Ash.BulkResult</code></a>, a mixed stream is returned.
Potential elements:
<code class="inline">{:notification, notification}</code> - if <code class="inline">return_notifications?</code> is set to <code class="inline">true</code>
<code class="inline">{:ok, record}</code> - if <code class="inline">return_records?</code> is set to <code class="inline">true</code>
<code class="inline">{:error, error}</code> - an error that occurred. May be changeset or an individual error.
The default value is <code class="inline">false</code>.</li><li><code class="inline">:return_nothing?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Mutes warnings about returning nothing.
Only relevant if <code class="inline">return_stream?</code> is set to <code class="inline">true</code> and all other
<code class="inline">return_*?</code> options are set to <code class="inline">false</code>.
The default value is <code class="inline">false</code>.</li><li><code class="inline">:stop_on_error?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If true, the first encountered error will stop the action and be returned. Otherwise, errors
will be skipped. The default value is <code class="inline">false</code>.</li><li><code class="inline">:notify?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to generate any notifications. If this is set to <code class="inline">true</code> then the data layer must return
the results from each batch. This may be intensive for large bulk actions.
Notifications will be automatically sent unless <code class="inline">return_notifications?</code> is set to <code class="inline">true</code>.
The default value is <code class="inline">false</code>.</li><li><code class="inline">:transaction</code> - Whether or not to wrap the entire execution in a transaction, each batch, or not at all.
Keep in mind:
<code class="inline">before_transaction</code> and <code class="inline">after_transaction</code> hooks attached to changesets will have to be run
<em>inside</em> the transaction if you choose <code class="inline">transaction: :all</code>.
The default value is <code class="inline">:batch</code>.</li><li><code class="inline">:max_concurrency</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">non_neg_integer/0</code></a>) - If set to a value greater than 0, up to that many tasks will be started to run batches asynchronously The default value is <code class="inline">0</code>.</li></ul></li><li><code class="inline">:private_arguments</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">map/0</code></a>) - Private argument values to set before validations and changes. The default value is <code class="inline">%{}</code>.</li></ul>
  </section>
</section>
<section class="detail" id="create_breach!/2">

    <span id="create_breach!/0"></span>

    <span id="create_breach!/1"></span>

  <div class="detail-header">
    <a href="#create_breach!/2" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">create_breach!(params \\ nil, opts \\ nil)</h1>


    </div>
  </div>

  <section class="docstring">

<p>Calls the create action on EhsEnforcement.Enforcement.Breach.
Raises any errors instead of returning them</p><h1>Inputs</h1><ul><li>case_id</li><li>breach_description</li><li>legislation_reference</li><li>legislation_type</li></ul><h2 id="create_breach!/2-options" class="section-heading"><a href="#create_breach!/2-options" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Options</span></h2><ul><li><code class="inline">:upsert?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If a conflict is found based on the primary key, the record is updated in the database (requires upsert support) The default value is <code class="inline">false</code>.</li><li><code class="inline">:return_skipped_upsert?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If <code class="inline">true</code>, and a record was <em>not</em> upserted because its filter prevented the upsert, the original record (which was <em>not</em> upserted) will be returned. The default value is <code class="inline">false</code>.</li><li><code class="inline">:upsert_identity</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - The identity to use when detecting conflicts for <code class="inline">upsert?</code>, e.g. <code class="inline">upsert_identity: :full_name</code>. By default, the primary key is used. Has no effect if <code class="inline">upsert?: true</code> is not provided</li><li><code class="inline">:upsert_fields</code> - The fields to upsert. If not set, the action's upsert_fields is used, and if that is not set, then any fields not being set to defaults are written.</li><li><code class="inline">:upsert_condition</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - An expression to check if the record should be updated when there's a conflict.</li><li><code class="inline">:timeout</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">timeout/0</code></a>) - A positive integer, or <code class="inline">:infinity</code>. If none is provided, the timeout configured on the domain is used.</li><li><code class="inline">:tracer</code> (one or a list of module that adopts <a href="https://hexdocs.pm/ash/3.5.32/Ash.Tracer.html"><code class="inline">Ash.Tracer</code></a>) - A tracer that implements the <a href="https://hexdocs.pm/ash/3.5.32/Ash.Tracer.html"><code class="inline">Ash.Tracer</code></a> behaviour. See that module for more.</li><li><code class="inline">:action</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - The action to use, either an Action struct or the name of the action</li><li><code class="inline">:authorize?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If an actor option is provided (even if it is <code class="inline">nil</code>), authorization happens automatically. If not, this flag can be used to authorize with no user.</li><li><code class="inline">:context</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">map/0</code></a>) - Context to set on the query, changeset, or input</li><li><code class="inline">:tenant</code> (value that implements the <a href="https://hexdocs.pm/ash/3.5.32/Ash.ToTenant.html"><code class="inline">Ash.ToTenant</code></a> protocol) - A tenant to set on the query or changeset</li><li><code class="inline">:actor</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - If an actor is provided, it will be used in conjunction with the authorizers of a resource to authorize access</li><li><code class="inline">:scope</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A value that implements the <a href="https://hexdocs.pm/ash/3.5.32/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> protocol, for passing around actor/tenant/context in a single value. See <a href="https://hexdocs.pm/ash/3.5.32/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> for more.</li><li><code class="inline">:return_notifications?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Use this if you're running ash actions in your own transaction and you want to manually handle sending notifications.<br/>If a transaction is ongoing, and this is false, notifications will be discarded, otherwise
the return value is <code class="inline">{:ok, result, notifications}</code> (or <code class="inline">{:ok, notifications}</code>)<br/>To send notifications later, use <code class="inline">Ash.Notifier.notify(notifications)</code>. It sends any notifications
that can be sent, and returns the rest. The default value is <code class="inline">false</code>.</li><li><code class="inline">:rollback_on_error?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to rollback the transaction on error, if the resource is in a transaction.<br/>If the action has <code class="inline">transaction? false</code> this option has no effect. If an error is returned from the
data layer and the resource is in a transaction, the transaction is always rolled back, regardless. The default value is <code class="inline">true</code>.</li><li><code class="inline">:notification_metadata</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - Metadata to be merged into the metadata field for all notifications sent from this operation. The default value is <code class="inline">%{}</code>.</li><li><code class="inline">:skip_unknown_inputs</code> - A list of inputs that, if provided, will be ignored if they are not recognized by the action. Use <code class="inline">:*</code> to indicate all unknown keys.</li><li><code class="inline">:load</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A load statement to add onto the changeset</li><li><code class="inline">:changeset</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A changeset to seed the action with.</li><li><code class="inline">:bulk_options</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">keyword/0</code></a>) - Options passed to <code class="inline">Ash.bulk_create</code>, if a list or stream of inputs is provided.<ul><li><code class="inline">:select</code> (list of <a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - A select statement to apply to records. Ignored if <code class="inline">return_records?</code> is not true.</li><li><code class="inline">:after_action</code> (function of arity 2) - An after_action hook to be added to each processed changeset</li><li><code class="inline">:read_action</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - The action to use when building the read query.</li><li><code class="inline">:assume_casted?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to cast attributes and arguments as input. This is an optimization for cases where the input is already casted and/or not in need of casting The default value is <code class="inline">false</code>.</li><li><code class="inline">:select</code> (list of <a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - A select statement to apply to records. Ignored if <code class="inline">return_records?</code> is not true.</li><li><code class="inline">:authorize_query_with</code> - If set to <code class="inline">:error</code>, instead of filtering unauthorized query results, unauthorized query results will raise an appropriate forbidden error. Uses <code class="inline">authorize_with</code> if not set.</li><li><code class="inline">:authorize_changeset_with</code> - If set to <code class="inline">:error</code>, instead of filtering unauthorized changes, unauthorized changes will raise an appropriate forbidden error. Uses <code class="inline">authorize_with</code> if not set.</li><li><code class="inline">:authorize_with</code> - If set to <code class="inline">:error</code>, instead of filtering unauthorized query results, unauthorized query results will raise an appropriate forbidden error. The default value is <code class="inline">:filter</code>.</li><li><code class="inline">:private_arguments</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">map/0</code></a>) - Private argument values to set on each changeset before validations and changes are run. The default value is <code class="inline">%{}</code>.</li><li><code class="inline">:sorted?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to sort results by their input position, in cases where <code class="inline">return_records?: true</code> was provided. The default value is <code class="inline">false</code>.</li><li><code class="inline">:return_records?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to return all of the records that were inserted. Defaults to false to account for large inserts. The default value is <code class="inline">false</code>.</li><li><code class="inline">:return_errors?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether to return all errors that occur during the operation. Defaults to the value of <code class="inline">:bulk_actions_default_to_errors?</code> in your config, or <code class="inline">false</code> if not set. Returning all errors may be expensive for large inserts. The default value is <code class="inline">false</code>.</li><li><code class="inline">:batch_size</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">pos_integer/0</code></a>) - The number of records to include in each batch. Defaults to the <code class="inline">default_limit</code>
or <code class="inline">max_page_size</code> of the action, or 100.</li><li><code class="inline">:return_stream?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If set to <code class="inline">true</code>, instead of an <a href="https://hexdocs.pm/ash/3.5.32/Ash.BulkResult.html"><code class="inline">Ash.BulkResult</code></a>, a mixed stream is returned.
Potential elements:
<code class="inline">{:notification, notification}</code> - if <code class="inline">return_notifications?</code> is set to <code class="inline">true</code>
<code class="inline">{:ok, record}</code> - if <code class="inline">return_records?</code> is set to <code class="inline">true</code>
<code class="inline">{:error, error}</code> - an error that occurred. May be changeset or an individual error.
The default value is <code class="inline">false</code>.</li><li><code class="inline">:return_nothing?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Mutes warnings about returning nothing.
Only relevant if <code class="inline">return_stream?</code> is set to <code class="inline">true</code> and all other
<code class="inline">return_*?</code> options are set to <code class="inline">false</code>.
The default value is <code class="inline">false</code>.</li><li><code class="inline">:stop_on_error?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If true, the first encountered error will stop the action and be returned. Otherwise, errors
will be skipped. The default value is <code class="inline">false</code>.</li><li><code class="inline">:notify?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to generate any notifications. If this is set to <code class="inline">true</code> then the data layer must return
the results from each batch. This may be intensive for large bulk actions.
Notifications will be automatically sent unless <code class="inline">return_notifications?</code> is set to <code class="inline">true</code>.
The default value is <code class="inline">false</code>.</li><li><code class="inline">:transaction</code> - Whether or not to wrap the entire execution in a transaction, each batch, or not at all.
Keep in mind:
<code class="inline">before_transaction</code> and <code class="inline">after_transaction</code> hooks attached to changesets will have to be run
<em>inside</em> the transaction if you choose <code class="inline">transaction: :all</code>.
The default value is <code class="inline">:batch</code>.</li><li><code class="inline">:max_concurrency</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">non_neg_integer/0</code></a>) - If set to a value greater than 0, up to that many tasks will be started to run batches asynchronously The default value is <code class="inline">0</code>.</li></ul></li><li><code class="inline">:private_arguments</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">map/0</code></a>) - Private argument values to set before validations and changes. The default value is <code class="inline">%{}</code>.</li></ul>
  </section>
</section>
<section class="detail" id="create_case/2">

    <span id="create_case/0"></span>

    <span id="create_case/1"></span>

  <div class="detail-header">
    <a href="#create_case/2" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">create_case(params \\ nil, opts \\ nil)</h1>


    </div>
  </div>

  <section class="docstring">

<p>Calls the create action on EhsEnforcement.Enforcement.Case.</p><h1>Inputs</h1><ul><li>offender_id</li><li>offender_attrs</li><li>offence_hearing_date</li><li>offence_action_type</li><li>offence_costs</li><li>agency_code</li><li>regulator_url</li><li>offence_breaches</li><li>regulator_function</li><li>offence_action_date</li><li>agency_id</li><li>offence_result</li><li>airtable_id</li><li>regulator_id</li><li>offence_breaches_clean</li><li>offence_fine</li><li>last_synced_at</li><li>url</li><li>related_cases</li></ul><h2 id="create_case/2-options" class="section-heading"><a href="#create_case/2-options" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Options</span></h2><ul><li><code class="inline">:upsert?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If a conflict is found based on the primary key, the record is updated in the database (requires upsert support) The default value is <code class="inline">false</code>.</li><li><code class="inline">:return_skipped_upsert?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If <code class="inline">true</code>, and a record was <em>not</em> upserted because its filter prevented the upsert, the original record (which was <em>not</em> upserted) will be returned. The default value is <code class="inline">false</code>.</li><li><code class="inline">:upsert_identity</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - The identity to use when detecting conflicts for <code class="inline">upsert?</code>, e.g. <code class="inline">upsert_identity: :full_name</code>. By default, the primary key is used. Has no effect if <code class="inline">upsert?: true</code> is not provided</li><li><code class="inline">:upsert_fields</code> - The fields to upsert. If not set, the action's upsert_fields is used, and if that is not set, then any fields not being set to defaults are written.</li><li><code class="inline">:upsert_condition</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - An expression to check if the record should be updated when there's a conflict.</li><li><code class="inline">:timeout</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">timeout/0</code></a>) - A positive integer, or <code class="inline">:infinity</code>. If none is provided, the timeout configured on the domain is used.</li><li><code class="inline">:tracer</code> (one or a list of module that adopts <a href="https://hexdocs.pm/ash/3.5.32/Ash.Tracer.html"><code class="inline">Ash.Tracer</code></a>) - A tracer that implements the <a href="https://hexdocs.pm/ash/3.5.32/Ash.Tracer.html"><code class="inline">Ash.Tracer</code></a> behaviour. See that module for more.</li><li><code class="inline">:action</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - The action to use, either an Action struct or the name of the action</li><li><code class="inline">:authorize?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If an actor option is provided (even if it is <code class="inline">nil</code>), authorization happens automatically. If not, this flag can be used to authorize with no user.</li><li><code class="inline">:context</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">map/0</code></a>) - Context to set on the query, changeset, or input</li><li><code class="inline">:tenant</code> (value that implements the <a href="https://hexdocs.pm/ash/3.5.32/Ash.ToTenant.html"><code class="inline">Ash.ToTenant</code></a> protocol) - A tenant to set on the query or changeset</li><li><code class="inline">:actor</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - If an actor is provided, it will be used in conjunction with the authorizers of a resource to authorize access</li><li><code class="inline">:scope</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A value that implements the <a href="https://hexdocs.pm/ash/3.5.32/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> protocol, for passing around actor/tenant/context in a single value. See <a href="https://hexdocs.pm/ash/3.5.32/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> for more.</li><li><code class="inline">:return_notifications?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Use this if you're running ash actions in your own transaction and you want to manually handle sending notifications.<br/>If a transaction is ongoing, and this is false, notifications will be discarded, otherwise
the return value is <code class="inline">{:ok, result, notifications}</code> (or <code class="inline">{:ok, notifications}</code>)<br/>To send notifications later, use <code class="inline">Ash.Notifier.notify(notifications)</code>. It sends any notifications
that can be sent, and returns the rest. The default value is <code class="inline">false</code>.</li><li><code class="inline">:rollback_on_error?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to rollback the transaction on error, if the resource is in a transaction.<br/>If the action has <code class="inline">transaction? false</code> this option has no effect. If an error is returned from the
data layer and the resource is in a transaction, the transaction is always rolled back, regardless. The default value is <code class="inline">true</code>.</li><li><code class="inline">:notification_metadata</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - Metadata to be merged into the metadata field for all notifications sent from this operation. The default value is <code class="inline">%{}</code>.</li><li><code class="inline">:skip_unknown_inputs</code> - A list of inputs that, if provided, will be ignored if they are not recognized by the action. Use <code class="inline">:*</code> to indicate all unknown keys.</li><li><code class="inline">:load</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A load statement to add onto the changeset</li><li><code class="inline">:changeset</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A changeset to seed the action with.</li><li><code class="inline">:bulk_options</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">keyword/0</code></a>) - Options passed to <code class="inline">Ash.bulk_create</code>, if a list or stream of inputs is provided.<ul><li><code class="inline">:select</code> (list of <a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - A select statement to apply to records. Ignored if <code class="inline">return_records?</code> is not true.</li><li><code class="inline">:after_action</code> (function of arity 2) - An after_action hook to be added to each processed changeset</li><li><code class="inline">:read_action</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - The action to use when building the read query.</li><li><code class="inline">:assume_casted?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to cast attributes and arguments as input. This is an optimization for cases where the input is already casted and/or not in need of casting The default value is <code class="inline">false</code>.</li><li><code class="inline">:select</code> (list of <a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - A select statement to apply to records. Ignored if <code class="inline">return_records?</code> is not true.</li><li><code class="inline">:authorize_query_with</code> - If set to <code class="inline">:error</code>, instead of filtering unauthorized query results, unauthorized query results will raise an appropriate forbidden error. Uses <code class="inline">authorize_with</code> if not set.</li><li><code class="inline">:authorize_changeset_with</code> - If set to <code class="inline">:error</code>, instead of filtering unauthorized changes, unauthorized changes will raise an appropriate forbidden error. Uses <code class="inline">authorize_with</code> if not set.</li><li><code class="inline">:authorize_with</code> - If set to <code class="inline">:error</code>, instead of filtering unauthorized query results, unauthorized query results will raise an appropriate forbidden error. The default value is <code class="inline">:filter</code>.</li><li><code class="inline">:private_arguments</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">map/0</code></a>) - Private argument values to set on each changeset before validations and changes are run. The default value is <code class="inline">%{}</code>.</li><li><code class="inline">:sorted?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to sort results by their input position, in cases where <code class="inline">return_records?: true</code> was provided. The default value is <code class="inline">false</code>.</li><li><code class="inline">:return_records?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to return all of the records that were inserted. Defaults to false to account for large inserts. The default value is <code class="inline">false</code>.</li><li><code class="inline">:return_errors?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether to return all errors that occur during the operation. Defaults to the value of <code class="inline">:bulk_actions_default_to_errors?</code> in your config, or <code class="inline">false</code> if not set. Returning all errors may be expensive for large inserts. The default value is <code class="inline">false</code>.</li><li><code class="inline">:batch_size</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">pos_integer/0</code></a>) - The number of records to include in each batch. Defaults to the <code class="inline">default_limit</code>
or <code class="inline">max_page_size</code> of the action, or 100.</li><li><code class="inline">:return_stream?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If set to <code class="inline">true</code>, instead of an <a href="https://hexdocs.pm/ash/3.5.32/Ash.BulkResult.html"><code class="inline">Ash.BulkResult</code></a>, a mixed stream is returned.
Potential elements:
<code class="inline">{:notification, notification}</code> - if <code class="inline">return_notifications?</code> is set to <code class="inline">true</code>
<code class="inline">{:ok, record}</code> - if <code class="inline">return_records?</code> is set to <code class="inline">true</code>
<code class="inline">{:error, error}</code> - an error that occurred. May be changeset or an individual error.
The default value is <code class="inline">false</code>.</li><li><code class="inline">:return_nothing?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Mutes warnings about returning nothing.
Only relevant if <code class="inline">return_stream?</code> is set to <code class="inline">true</code> and all other
<code class="inline">return_*?</code> options are set to <code class="inline">false</code>.
The default value is <code class="inline">false</code>.</li><li><code class="inline">:stop_on_error?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If true, the first encountered error will stop the action and be returned. Otherwise, errors
will be skipped. The default value is <code class="inline">false</code>.</li><li><code class="inline">:notify?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to generate any notifications. If this is set to <code class="inline">true</code> then the data layer must return
the results from each batch. This may be intensive for large bulk actions.
Notifications will be automatically sent unless <code class="inline">return_notifications?</code> is set to <code class="inline">true</code>.
The default value is <code class="inline">false</code>.</li><li><code class="inline">:transaction</code> - Whether or not to wrap the entire execution in a transaction, each batch, or not at all.
Keep in mind:
<code class="inline">before_transaction</code> and <code class="inline">after_transaction</code> hooks attached to changesets will have to be run
<em>inside</em> the transaction if you choose <code class="inline">transaction: :all</code>.
The default value is <code class="inline">:batch</code>.</li><li><code class="inline">:max_concurrency</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">non_neg_integer/0</code></a>) - If set to a value greater than 0, up to that many tasks will be started to run batches asynchronously The default value is <code class="inline">0</code>.</li></ul></li><li><code class="inline">:private_arguments</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">map/0</code></a>) - Private argument values to set before validations and changes. The default value is <code class="inline">%{}</code>.</li></ul>
  </section>
</section>
<section class="detail" id="create_case!/2">

    <span id="create_case!/0"></span>

    <span id="create_case!/1"></span>

  <div class="detail-header">
    <a href="#create_case!/2" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">create_case!(params \\ nil, opts \\ nil)</h1>


    </div>
  </div>

  <section class="docstring">

<p>Calls the create action on EhsEnforcement.Enforcement.Case.
Raises any errors instead of returning them</p><h1>Inputs</h1><ul><li>offender_id</li><li>offender_attrs</li><li>offence_hearing_date</li><li>offence_action_type</li><li>offence_costs</li><li>agency_code</li><li>regulator_url</li><li>offence_breaches</li><li>regulator_function</li><li>offence_action_date</li><li>agency_id</li><li>offence_result</li><li>airtable_id</li><li>regulator_id</li><li>offence_breaches_clean</li><li>offence_fine</li><li>last_synced_at</li><li>url</li><li>related_cases</li></ul><h2 id="create_case!/2-options" class="section-heading"><a href="#create_case!/2-options" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Options</span></h2><ul><li><code class="inline">:upsert?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If a conflict is found based on the primary key, the record is updated in the database (requires upsert support) The default value is <code class="inline">false</code>.</li><li><code class="inline">:return_skipped_upsert?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If <code class="inline">true</code>, and a record was <em>not</em> upserted because its filter prevented the upsert, the original record (which was <em>not</em> upserted) will be returned. The default value is <code class="inline">false</code>.</li><li><code class="inline">:upsert_identity</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - The identity to use when detecting conflicts for <code class="inline">upsert?</code>, e.g. <code class="inline">upsert_identity: :full_name</code>. By default, the primary key is used. Has no effect if <code class="inline">upsert?: true</code> is not provided</li><li><code class="inline">:upsert_fields</code> - The fields to upsert. If not set, the action's upsert_fields is used, and if that is not set, then any fields not being set to defaults are written.</li><li><code class="inline">:upsert_condition</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - An expression to check if the record should be updated when there's a conflict.</li><li><code class="inline">:timeout</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">timeout/0</code></a>) - A positive integer, or <code class="inline">:infinity</code>. If none is provided, the timeout configured on the domain is used.</li><li><code class="inline">:tracer</code> (one or a list of module that adopts <a href="https://hexdocs.pm/ash/3.5.32/Ash.Tracer.html"><code class="inline">Ash.Tracer</code></a>) - A tracer that implements the <a href="https://hexdocs.pm/ash/3.5.32/Ash.Tracer.html"><code class="inline">Ash.Tracer</code></a> behaviour. See that module for more.</li><li><code class="inline">:action</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - The action to use, either an Action struct or the name of the action</li><li><code class="inline">:authorize?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If an actor option is provided (even if it is <code class="inline">nil</code>), authorization happens automatically. If not, this flag can be used to authorize with no user.</li><li><code class="inline">:context</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">map/0</code></a>) - Context to set on the query, changeset, or input</li><li><code class="inline">:tenant</code> (value that implements the <a href="https://hexdocs.pm/ash/3.5.32/Ash.ToTenant.html"><code class="inline">Ash.ToTenant</code></a> protocol) - A tenant to set on the query or changeset</li><li><code class="inline">:actor</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - If an actor is provided, it will be used in conjunction with the authorizers of a resource to authorize access</li><li><code class="inline">:scope</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A value that implements the <a href="https://hexdocs.pm/ash/3.5.32/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> protocol, for passing around actor/tenant/context in a single value. See <a href="https://hexdocs.pm/ash/3.5.32/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> for more.</li><li><code class="inline">:return_notifications?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Use this if you're running ash actions in your own transaction and you want to manually handle sending notifications.<br/>If a transaction is ongoing, and this is false, notifications will be discarded, otherwise
the return value is <code class="inline">{:ok, result, notifications}</code> (or <code class="inline">{:ok, notifications}</code>)<br/>To send notifications later, use <code class="inline">Ash.Notifier.notify(notifications)</code>. It sends any notifications
that can be sent, and returns the rest. The default value is <code class="inline">false</code>.</li><li><code class="inline">:rollback_on_error?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to rollback the transaction on error, if the resource is in a transaction.<br/>If the action has <code class="inline">transaction? false</code> this option has no effect. If an error is returned from the
data layer and the resource is in a transaction, the transaction is always rolled back, regardless. The default value is <code class="inline">true</code>.</li><li><code class="inline">:notification_metadata</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - Metadata to be merged into the metadata field for all notifications sent from this operation. The default value is <code class="inline">%{}</code>.</li><li><code class="inline">:skip_unknown_inputs</code> - A list of inputs that, if provided, will be ignored if they are not recognized by the action. Use <code class="inline">:*</code> to indicate all unknown keys.</li><li><code class="inline">:load</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A load statement to add onto the changeset</li><li><code class="inline">:changeset</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A changeset to seed the action with.</li><li><code class="inline">:bulk_options</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">keyword/0</code></a>) - Options passed to <code class="inline">Ash.bulk_create</code>, if a list or stream of inputs is provided.<ul><li><code class="inline">:select</code> (list of <a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - A select statement to apply to records. Ignored if <code class="inline">return_records?</code> is not true.</li><li><code class="inline">:after_action</code> (function of arity 2) - An after_action hook to be added to each processed changeset</li><li><code class="inline">:read_action</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - The action to use when building the read query.</li><li><code class="inline">:assume_casted?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to cast attributes and arguments as input. This is an optimization for cases where the input is already casted and/or not in need of casting The default value is <code class="inline">false</code>.</li><li><code class="inline">:select</code> (list of <a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - A select statement to apply to records. Ignored if <code class="inline">return_records?</code> is not true.</li><li><code class="inline">:authorize_query_with</code> - If set to <code class="inline">:error</code>, instead of filtering unauthorized query results, unauthorized query results will raise an appropriate forbidden error. Uses <code class="inline">authorize_with</code> if not set.</li><li><code class="inline">:authorize_changeset_with</code> - If set to <code class="inline">:error</code>, instead of filtering unauthorized changes, unauthorized changes will raise an appropriate forbidden error. Uses <code class="inline">authorize_with</code> if not set.</li><li><code class="inline">:authorize_with</code> - If set to <code class="inline">:error</code>, instead of filtering unauthorized query results, unauthorized query results will raise an appropriate forbidden error. The default value is <code class="inline">:filter</code>.</li><li><code class="inline">:private_arguments</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">map/0</code></a>) - Private argument values to set on each changeset before validations and changes are run. The default value is <code class="inline">%{}</code>.</li><li><code class="inline">:sorted?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to sort results by their input position, in cases where <code class="inline">return_records?: true</code> was provided. The default value is <code class="inline">false</code>.</li><li><code class="inline">:return_records?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to return all of the records that were inserted. Defaults to false to account for large inserts. The default value is <code class="inline">false</code>.</li><li><code class="inline">:return_errors?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether to return all errors that occur during the operation. Defaults to the value of <code class="inline">:bulk_actions_default_to_errors?</code> in your config, or <code class="inline">false</code> if not set. Returning all errors may be expensive for large inserts. The default value is <code class="inline">false</code>.</li><li><code class="inline">:batch_size</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">pos_integer/0</code></a>) - The number of records to include in each batch. Defaults to the <code class="inline">default_limit</code>
or <code class="inline">max_page_size</code> of the action, or 100.</li><li><code class="inline">:return_stream?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If set to <code class="inline">true</code>, instead of an <a href="https://hexdocs.pm/ash/3.5.32/Ash.BulkResult.html"><code class="inline">Ash.BulkResult</code></a>, a mixed stream is returned.
Potential elements:
<code class="inline">{:notification, notification}</code> - if <code class="inline">return_notifications?</code> is set to <code class="inline">true</code>
<code class="inline">{:ok, record}</code> - if <code class="inline">return_records?</code> is set to <code class="inline">true</code>
<code class="inline">{:error, error}</code> - an error that occurred. May be changeset or an individual error.
The default value is <code class="inline">false</code>.</li><li><code class="inline">:return_nothing?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Mutes warnings about returning nothing.
Only relevant if <code class="inline">return_stream?</code> is set to <code class="inline">true</code> and all other
<code class="inline">return_*?</code> options are set to <code class="inline">false</code>.
The default value is <code class="inline">false</code>.</li><li><code class="inline">:stop_on_error?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If true, the first encountered error will stop the action and be returned. Otherwise, errors
will be skipped. The default value is <code class="inline">false</code>.</li><li><code class="inline">:notify?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to generate any notifications. If this is set to <code class="inline">true</code> then the data layer must return
the results from each batch. This may be intensive for large bulk actions.
Notifications will be automatically sent unless <code class="inline">return_notifications?</code> is set to <code class="inline">true</code>.
The default value is <code class="inline">false</code>.</li><li><code class="inline">:transaction</code> - Whether or not to wrap the entire execution in a transaction, each batch, or not at all.
Keep in mind:
<code class="inline">before_transaction</code> and <code class="inline">after_transaction</code> hooks attached to changesets will have to be run
<em>inside</em> the transaction if you choose <code class="inline">transaction: :all</code>.
The default value is <code class="inline">:batch</code>.</li><li><code class="inline">:max_concurrency</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">non_neg_integer/0</code></a>) - If set to a value greater than 0, up to that many tasks will be started to run batches asynchronously The default value is <code class="inline">0</code>.</li></ul></li><li><code class="inline">:private_arguments</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">map/0</code></a>) - Private argument values to set before validations and changes. The default value is <code class="inline">%{}</code>.</li></ul>
  </section>
</section>
<section class="detail" id="create_notice/2">

    <span id="create_notice/0"></span>

    <span id="create_notice/1"></span>

  <div class="detail-header">
    <a href="#create_notice/2" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">create_notice(params \\ nil, opts \\ nil)</h1>


    </div>
  </div>

  <section class="docstring">

<p>Calls the create action on EhsEnforcement.Enforcement.Notice.</p><h1>Inputs</h1><ul><li>url</li><li>agency_id</li><li>offence_action_date</li><li>regulator_id</li><li>offence_breaches</li><li>offence_action_type</li><li>notice_body</li><li>last_synced_at</li><li>offender_id</li><li>airtable_id</li><li>agency_code</li><li>offender_attrs</li><li>compliance_date</li><li>notice_date</li><li>operative_date</li><li>regulator_ref_number</li></ul><h2 id="create_notice/2-options" class="section-heading"><a href="#create_notice/2-options" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Options</span></h2><ul><li><code class="inline">:upsert?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If a conflict is found based on the primary key, the record is updated in the database (requires upsert support) The default value is <code class="inline">false</code>.</li><li><code class="inline">:return_skipped_upsert?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If <code class="inline">true</code>, and a record was <em>not</em> upserted because its filter prevented the upsert, the original record (which was <em>not</em> upserted) will be returned. The default value is <code class="inline">false</code>.</li><li><code class="inline">:upsert_identity</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - The identity to use when detecting conflicts for <code class="inline">upsert?</code>, e.g. <code class="inline">upsert_identity: :full_name</code>. By default, the primary key is used. Has no effect if <code class="inline">upsert?: true</code> is not provided</li><li><code class="inline">:upsert_fields</code> - The fields to upsert. If not set, the action's upsert_fields is used, and if that is not set, then any fields not being set to defaults are written.</li><li><code class="inline">:upsert_condition</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - An expression to check if the record should be updated when there's a conflict.</li><li><code class="inline">:timeout</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">timeout/0</code></a>) - A positive integer, or <code class="inline">:infinity</code>. If none is provided, the timeout configured on the domain is used.</li><li><code class="inline">:tracer</code> (one or a list of module that adopts <a href="https://hexdocs.pm/ash/3.5.32/Ash.Tracer.html"><code class="inline">Ash.Tracer</code></a>) - A tracer that implements the <a href="https://hexdocs.pm/ash/3.5.32/Ash.Tracer.html"><code class="inline">Ash.Tracer</code></a> behaviour. See that module for more.</li><li><code class="inline">:action</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - The action to use, either an Action struct or the name of the action</li><li><code class="inline">:authorize?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If an actor option is provided (even if it is <code class="inline">nil</code>), authorization happens automatically. If not, this flag can be used to authorize with no user.</li><li><code class="inline">:context</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">map/0</code></a>) - Context to set on the query, changeset, or input</li><li><code class="inline">:tenant</code> (value that implements the <a href="https://hexdocs.pm/ash/3.5.32/Ash.ToTenant.html"><code class="inline">Ash.ToTenant</code></a> protocol) - A tenant to set on the query or changeset</li><li><code class="inline">:actor</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - If an actor is provided, it will be used in conjunction with the authorizers of a resource to authorize access</li><li><code class="inline">:scope</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A value that implements the <a href="https://hexdocs.pm/ash/3.5.32/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> protocol, for passing around actor/tenant/context in a single value. See <a href="https://hexdocs.pm/ash/3.5.32/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> for more.</li><li><code class="inline">:return_notifications?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Use this if you're running ash actions in your own transaction and you want to manually handle sending notifications.<br/>If a transaction is ongoing, and this is false, notifications will be discarded, otherwise
the return value is <code class="inline">{:ok, result, notifications}</code> (or <code class="inline">{:ok, notifications}</code>)<br/>To send notifications later, use <code class="inline">Ash.Notifier.notify(notifications)</code>. It sends any notifications
that can be sent, and returns the rest. The default value is <code class="inline">false</code>.</li><li><code class="inline">:rollback_on_error?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to rollback the transaction on error, if the resource is in a transaction.<br/>If the action has <code class="inline">transaction? false</code> this option has no effect. If an error is returned from the
data layer and the resource is in a transaction, the transaction is always rolled back, regardless. The default value is <code class="inline">true</code>.</li><li><code class="inline">:notification_metadata</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - Metadata to be merged into the metadata field for all notifications sent from this operation. The default value is <code class="inline">%{}</code>.</li><li><code class="inline">:skip_unknown_inputs</code> - A list of inputs that, if provided, will be ignored if they are not recognized by the action. Use <code class="inline">:*</code> to indicate all unknown keys.</li><li><code class="inline">:load</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A load statement to add onto the changeset</li><li><code class="inline">:changeset</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A changeset to seed the action with.</li><li><code class="inline">:bulk_options</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">keyword/0</code></a>) - Options passed to <code class="inline">Ash.bulk_create</code>, if a list or stream of inputs is provided.<ul><li><code class="inline">:select</code> (list of <a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - A select statement to apply to records. Ignored if <code class="inline">return_records?</code> is not true.</li><li><code class="inline">:after_action</code> (function of arity 2) - An after_action hook to be added to each processed changeset</li><li><code class="inline">:read_action</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - The action to use when building the read query.</li><li><code class="inline">:assume_casted?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to cast attributes and arguments as input. This is an optimization for cases where the input is already casted and/or not in need of casting The default value is <code class="inline">false</code>.</li><li><code class="inline">:select</code> (list of <a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - A select statement to apply to records. Ignored if <code class="inline">return_records?</code> is not true.</li><li><code class="inline">:authorize_query_with</code> - If set to <code class="inline">:error</code>, instead of filtering unauthorized query results, unauthorized query results will raise an appropriate forbidden error. Uses <code class="inline">authorize_with</code> if not set.</li><li><code class="inline">:authorize_changeset_with</code> - If set to <code class="inline">:error</code>, instead of filtering unauthorized changes, unauthorized changes will raise an appropriate forbidden error. Uses <code class="inline">authorize_with</code> if not set.</li><li><code class="inline">:authorize_with</code> - If set to <code class="inline">:error</code>, instead of filtering unauthorized query results, unauthorized query results will raise an appropriate forbidden error. The default value is <code class="inline">:filter</code>.</li><li><code class="inline">:private_arguments</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">map/0</code></a>) - Private argument values to set on each changeset before validations and changes are run. The default value is <code class="inline">%{}</code>.</li><li><code class="inline">:sorted?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to sort results by their input position, in cases where <code class="inline">return_records?: true</code> was provided. The default value is <code class="inline">false</code>.</li><li><code class="inline">:return_records?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to return all of the records that were inserted. Defaults to false to account for large inserts. The default value is <code class="inline">false</code>.</li><li><code class="inline">:return_errors?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether to return all errors that occur during the operation. Defaults to the value of <code class="inline">:bulk_actions_default_to_errors?</code> in your config, or <code class="inline">false</code> if not set. Returning all errors may be expensive for large inserts. The default value is <code class="inline">false</code>.</li><li><code class="inline">:batch_size</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">pos_integer/0</code></a>) - The number of records to include in each batch. Defaults to the <code class="inline">default_limit</code>
or <code class="inline">max_page_size</code> of the action, or 100.</li><li><code class="inline">:return_stream?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If set to <code class="inline">true</code>, instead of an <a href="https://hexdocs.pm/ash/3.5.32/Ash.BulkResult.html"><code class="inline">Ash.BulkResult</code></a>, a mixed stream is returned.
Potential elements:
<code class="inline">{:notification, notification}</code> - if <code class="inline">return_notifications?</code> is set to <code class="inline">true</code>
<code class="inline">{:ok, record}</code> - if <code class="inline">return_records?</code> is set to <code class="inline">true</code>
<code class="inline">{:error, error}</code> - an error that occurred. May be changeset or an individual error.
The default value is <code class="inline">false</code>.</li><li><code class="inline">:return_nothing?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Mutes warnings about returning nothing.
Only relevant if <code class="inline">return_stream?</code> is set to <code class="inline">true</code> and all other
<code class="inline">return_*?</code> options are set to <code class="inline">false</code>.
The default value is <code class="inline">false</code>.</li><li><code class="inline">:stop_on_error?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If true, the first encountered error will stop the action and be returned. Otherwise, errors
will be skipped. The default value is <code class="inline">false</code>.</li><li><code class="inline">:notify?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to generate any notifications. If this is set to <code class="inline">true</code> then the data layer must return
the results from each batch. This may be intensive for large bulk actions.
Notifications will be automatically sent unless <code class="inline">return_notifications?</code> is set to <code class="inline">true</code>.
The default value is <code class="inline">false</code>.</li><li><code class="inline">:transaction</code> - Whether or not to wrap the entire execution in a transaction, each batch, or not at all.
Keep in mind:
<code class="inline">before_transaction</code> and <code class="inline">after_transaction</code> hooks attached to changesets will have to be run
<em>inside</em> the transaction if you choose <code class="inline">transaction: :all</code>.
The default value is <code class="inline">:batch</code>.</li><li><code class="inline">:max_concurrency</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">non_neg_integer/0</code></a>) - If set to a value greater than 0, up to that many tasks will be started to run batches asynchronously The default value is <code class="inline">0</code>.</li></ul></li><li><code class="inline">:private_arguments</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">map/0</code></a>) - Private argument values to set before validations and changes. The default value is <code class="inline">%{}</code>.</li></ul>
  </section>
</section>
<section class="detail" id="create_notice!/2">

    <span id="create_notice!/0"></span>

    <span id="create_notice!/1"></span>

  <div class="detail-header">
    <a href="#create_notice!/2" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">create_notice!(params \\ nil, opts \\ nil)</h1>


    </div>
  </div>

  <section class="docstring">

<p>Calls the create action on EhsEnforcement.Enforcement.Notice.
Raises any errors instead of returning them</p><h1>Inputs</h1><ul><li>url</li><li>agency_id</li><li>offence_action_date</li><li>regulator_id</li><li>offence_breaches</li><li>offence_action_type</li><li>notice_body</li><li>last_synced_at</li><li>offender_id</li><li>airtable_id</li><li>agency_code</li><li>offender_attrs</li><li>compliance_date</li><li>notice_date</li><li>operative_date</li><li>regulator_ref_number</li></ul><h2 id="create_notice!/2-options" class="section-heading"><a href="#create_notice!/2-options" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Options</span></h2><ul><li><code class="inline">:upsert?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If a conflict is found based on the primary key, the record is updated in the database (requires upsert support) The default value is <code class="inline">false</code>.</li><li><code class="inline">:return_skipped_upsert?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If <code class="inline">true</code>, and a record was <em>not</em> upserted because its filter prevented the upsert, the original record (which was <em>not</em> upserted) will be returned. The default value is <code class="inline">false</code>.</li><li><code class="inline">:upsert_identity</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - The identity to use when detecting conflicts for <code class="inline">upsert?</code>, e.g. <code class="inline">upsert_identity: :full_name</code>. By default, the primary key is used. Has no effect if <code class="inline">upsert?: true</code> is not provided</li><li><code class="inline">:upsert_fields</code> - The fields to upsert. If not set, the action's upsert_fields is used, and if that is not set, then any fields not being set to defaults are written.</li><li><code class="inline">:upsert_condition</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - An expression to check if the record should be updated when there's a conflict.</li><li><code class="inline">:timeout</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">timeout/0</code></a>) - A positive integer, or <code class="inline">:infinity</code>. If none is provided, the timeout configured on the domain is used.</li><li><code class="inline">:tracer</code> (one or a list of module that adopts <a href="https://hexdocs.pm/ash/3.5.32/Ash.Tracer.html"><code class="inline">Ash.Tracer</code></a>) - A tracer that implements the <a href="https://hexdocs.pm/ash/3.5.32/Ash.Tracer.html"><code class="inline">Ash.Tracer</code></a> behaviour. See that module for more.</li><li><code class="inline">:action</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - The action to use, either an Action struct or the name of the action</li><li><code class="inline">:authorize?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If an actor option is provided (even if it is <code class="inline">nil</code>), authorization happens automatically. If not, this flag can be used to authorize with no user.</li><li><code class="inline">:context</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">map/0</code></a>) - Context to set on the query, changeset, or input</li><li><code class="inline">:tenant</code> (value that implements the <a href="https://hexdocs.pm/ash/3.5.32/Ash.ToTenant.html"><code class="inline">Ash.ToTenant</code></a> protocol) - A tenant to set on the query or changeset</li><li><code class="inline">:actor</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - If an actor is provided, it will be used in conjunction with the authorizers of a resource to authorize access</li><li><code class="inline">:scope</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A value that implements the <a href="https://hexdocs.pm/ash/3.5.32/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> protocol, for passing around actor/tenant/context in a single value. See <a href="https://hexdocs.pm/ash/3.5.32/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> for more.</li><li><code class="inline">:return_notifications?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Use this if you're running ash actions in your own transaction and you want to manually handle sending notifications.<br/>If a transaction is ongoing, and this is false, notifications will be discarded, otherwise
the return value is <code class="inline">{:ok, result, notifications}</code> (or <code class="inline">{:ok, notifications}</code>)<br/>To send notifications later, use <code class="inline">Ash.Notifier.notify(notifications)</code>. It sends any notifications
that can be sent, and returns the rest. The default value is <code class="inline">false</code>.</li><li><code class="inline">:rollback_on_error?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to rollback the transaction on error, if the resource is in a transaction.<br/>If the action has <code class="inline">transaction? false</code> this option has no effect. If an error is returned from the
data layer and the resource is in a transaction, the transaction is always rolled back, regardless. The default value is <code class="inline">true</code>.</li><li><code class="inline">:notification_metadata</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - Metadata to be merged into the metadata field for all notifications sent from this operation. The default value is <code class="inline">%{}</code>.</li><li><code class="inline">:skip_unknown_inputs</code> - A list of inputs that, if provided, will be ignored if they are not recognized by the action. Use <code class="inline">:*</code> to indicate all unknown keys.</li><li><code class="inline">:load</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A load statement to add onto the changeset</li><li><code class="inline">:changeset</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A changeset to seed the action with.</li><li><code class="inline">:bulk_options</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">keyword/0</code></a>) - Options passed to <code class="inline">Ash.bulk_create</code>, if a list or stream of inputs is provided.<ul><li><code class="inline">:select</code> (list of <a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - A select statement to apply to records. Ignored if <code class="inline">return_records?</code> is not true.</li><li><code class="inline">:after_action</code> (function of arity 2) - An after_action hook to be added to each processed changeset</li><li><code class="inline">:read_action</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - The action to use when building the read query.</li><li><code class="inline">:assume_casted?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to cast attributes and arguments as input. This is an optimization for cases where the input is already casted and/or not in need of casting The default value is <code class="inline">false</code>.</li><li><code class="inline">:select</code> (list of <a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - A select statement to apply to records. Ignored if <code class="inline">return_records?</code> is not true.</li><li><code class="inline">:authorize_query_with</code> - If set to <code class="inline">:error</code>, instead of filtering unauthorized query results, unauthorized query results will raise an appropriate forbidden error. Uses <code class="inline">authorize_with</code> if not set.</li><li><code class="inline">:authorize_changeset_with</code> - If set to <code class="inline">:error</code>, instead of filtering unauthorized changes, unauthorized changes will raise an appropriate forbidden error. Uses <code class="inline">authorize_with</code> if not set.</li><li><code class="inline">:authorize_with</code> - If set to <code class="inline">:error</code>, instead of filtering unauthorized query results, unauthorized query results will raise an appropriate forbidden error. The default value is <code class="inline">:filter</code>.</li><li><code class="inline">:private_arguments</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">map/0</code></a>) - Private argument values to set on each changeset before validations and changes are run. The default value is <code class="inline">%{}</code>.</li><li><code class="inline">:sorted?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to sort results by their input position, in cases where <code class="inline">return_records?: true</code> was provided. The default value is <code class="inline">false</code>.</li><li><code class="inline">:return_records?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to return all of the records that were inserted. Defaults to false to account for large inserts. The default value is <code class="inline">false</code>.</li><li><code class="inline">:return_errors?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether to return all errors that occur during the operation. Defaults to the value of <code class="inline">:bulk_actions_default_to_errors?</code> in your config, or <code class="inline">false</code> if not set. Returning all errors may be expensive for large inserts. The default value is <code class="inline">false</code>.</li><li><code class="inline">:batch_size</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">pos_integer/0</code></a>) - The number of records to include in each batch. Defaults to the <code class="inline">default_limit</code>
or <code class="inline">max_page_size</code> of the action, or 100.</li><li><code class="inline">:return_stream?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If set to <code class="inline">true</code>, instead of an <a href="https://hexdocs.pm/ash/3.5.32/Ash.BulkResult.html"><code class="inline">Ash.BulkResult</code></a>, a mixed stream is returned.
Potential elements:
<code class="inline">{:notification, notification}</code> - if <code class="inline">return_notifications?</code> is set to <code class="inline">true</code>
<code class="inline">{:ok, record}</code> - if <code class="inline">return_records?</code> is set to <code class="inline">true</code>
<code class="inline">{:error, error}</code> - an error that occurred. May be changeset or an individual error.
The default value is <code class="inline">false</code>.</li><li><code class="inline">:return_nothing?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Mutes warnings about returning nothing.
Only relevant if <code class="inline">return_stream?</code> is set to <code class="inline">true</code> and all other
<code class="inline">return_*?</code> options are set to <code class="inline">false</code>.
The default value is <code class="inline">false</code>.</li><li><code class="inline">:stop_on_error?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If true, the first encountered error will stop the action and be returned. Otherwise, errors
will be skipped. The default value is <code class="inline">false</code>.</li><li><code class="inline">:notify?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to generate any notifications. If this is set to <code class="inline">true</code> then the data layer must return
the results from each batch. This may be intensive for large bulk actions.
Notifications will be automatically sent unless <code class="inline">return_notifications?</code> is set to <code class="inline">true</code>.
The default value is <code class="inline">false</code>.</li><li><code class="inline">:transaction</code> - Whether or not to wrap the entire execution in a transaction, each batch, or not at all.
Keep in mind:
<code class="inline">before_transaction</code> and <code class="inline">after_transaction</code> hooks attached to changesets will have to be run
<em>inside</em> the transaction if you choose <code class="inline">transaction: :all</code>.
The default value is <code class="inline">:batch</code>.</li><li><code class="inline">:max_concurrency</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">non_neg_integer/0</code></a>) - If set to a value greater than 0, up to that many tasks will be started to run batches asynchronously The default value is <code class="inline">0</code>.</li></ul></li><li><code class="inline">:private_arguments</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">map/0</code></a>) - Private argument values to set before validations and changes. The default value is <code class="inline">%{}</code>.</li></ul>
  </section>
</section>
<section class="detail" id="create_offender/2">

    <span id="create_offender/0"></span>

    <span id="create_offender/1"></span>

  <div class="detail-header">
    <a href="#create_offender/2" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">create_offender(params \\ nil, opts \\ nil)</h1>


    </div>
  </div>

  <section class="docstring">

<p>Calls the create action on EhsEnforcement.Enforcement.Offender.</p><h1>Inputs</h1><ul><li>name</li><li>address</li><li>postcode</li><li>local_authority</li><li>main_activity</li><li>total_cases</li><li>total_fines</li><li>business_type</li><li>country</li><li>first_seen_date</li><li>industry</li><li>last_seen_date</li><li>sic_code</li><li>total_notices</li></ul><h2 id="create_offender/2-options" class="section-heading"><a href="#create_offender/2-options" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Options</span></h2><ul><li><code class="inline">:upsert?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If a conflict is found based on the primary key, the record is updated in the database (requires upsert support) The default value is <code class="inline">false</code>.</li><li><code class="inline">:return_skipped_upsert?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If <code class="inline">true</code>, and a record was <em>not</em> upserted because its filter prevented the upsert, the original record (which was <em>not</em> upserted) will be returned. The default value is <code class="inline">false</code>.</li><li><code class="inline">:upsert_identity</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - The identity to use when detecting conflicts for <code class="inline">upsert?</code>, e.g. <code class="inline">upsert_identity: :full_name</code>. By default, the primary key is used. Has no effect if <code class="inline">upsert?: true</code> is not provided</li><li><code class="inline">:upsert_fields</code> - The fields to upsert. If not set, the action's upsert_fields is used, and if that is not set, then any fields not being set to defaults are written.</li><li><code class="inline">:upsert_condition</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - An expression to check if the record should be updated when there's a conflict.</li><li><code class="inline">:timeout</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">timeout/0</code></a>) - A positive integer, or <code class="inline">:infinity</code>. If none is provided, the timeout configured on the domain is used.</li><li><code class="inline">:tracer</code> (one or a list of module that adopts <a href="https://hexdocs.pm/ash/3.5.32/Ash.Tracer.html"><code class="inline">Ash.Tracer</code></a>) - A tracer that implements the <a href="https://hexdocs.pm/ash/3.5.32/Ash.Tracer.html"><code class="inline">Ash.Tracer</code></a> behaviour. See that module for more.</li><li><code class="inline">:action</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - The action to use, either an Action struct or the name of the action</li><li><code class="inline">:authorize?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If an actor option is provided (even if it is <code class="inline">nil</code>), authorization happens automatically. If not, this flag can be used to authorize with no user.</li><li><code class="inline">:context</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">map/0</code></a>) - Context to set on the query, changeset, or input</li><li><code class="inline">:tenant</code> (value that implements the <a href="https://hexdocs.pm/ash/3.5.32/Ash.ToTenant.html"><code class="inline">Ash.ToTenant</code></a> protocol) - A tenant to set on the query or changeset</li><li><code class="inline">:actor</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - If an actor is provided, it will be used in conjunction with the authorizers of a resource to authorize access</li><li><code class="inline">:scope</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A value that implements the <a href="https://hexdocs.pm/ash/3.5.32/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> protocol, for passing around actor/tenant/context in a single value. See <a href="https://hexdocs.pm/ash/3.5.32/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> for more.</li><li><code class="inline">:return_notifications?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Use this if you're running ash actions in your own transaction and you want to manually handle sending notifications.<br/>If a transaction is ongoing, and this is false, notifications will be discarded, otherwise
the return value is <code class="inline">{:ok, result, notifications}</code> (or <code class="inline">{:ok, notifications}</code>)<br/>To send notifications later, use <code class="inline">Ash.Notifier.notify(notifications)</code>. It sends any notifications
that can be sent, and returns the rest. The default value is <code class="inline">false</code>.</li><li><code class="inline">:rollback_on_error?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to rollback the transaction on error, if the resource is in a transaction.<br/>If the action has <code class="inline">transaction? false</code> this option has no effect. If an error is returned from the
data layer and the resource is in a transaction, the transaction is always rolled back, regardless. The default value is <code class="inline">true</code>.</li><li><code class="inline">:notification_metadata</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - Metadata to be merged into the metadata field for all notifications sent from this operation. The default value is <code class="inline">%{}</code>.</li><li><code class="inline">:skip_unknown_inputs</code> - A list of inputs that, if provided, will be ignored if they are not recognized by the action. Use <code class="inline">:*</code> to indicate all unknown keys.</li><li><code class="inline">:load</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A load statement to add onto the changeset</li><li><code class="inline">:changeset</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A changeset to seed the action with.</li><li><code class="inline">:bulk_options</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">keyword/0</code></a>) - Options passed to <code class="inline">Ash.bulk_create</code>, if a list or stream of inputs is provided.<ul><li><code class="inline">:select</code> (list of <a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - A select statement to apply to records. Ignored if <code class="inline">return_records?</code> is not true.</li><li><code class="inline">:after_action</code> (function of arity 2) - An after_action hook to be added to each processed changeset</li><li><code class="inline">:read_action</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - The action to use when building the read query.</li><li><code class="inline">:assume_casted?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to cast attributes and arguments as input. This is an optimization for cases where the input is already casted and/or not in need of casting The default value is <code class="inline">false</code>.</li><li><code class="inline">:select</code> (list of <a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - A select statement to apply to records. Ignored if <code class="inline">return_records?</code> is not true.</li><li><code class="inline">:authorize_query_with</code> - If set to <code class="inline">:error</code>, instead of filtering unauthorized query results, unauthorized query results will raise an appropriate forbidden error. Uses <code class="inline">authorize_with</code> if not set.</li><li><code class="inline">:authorize_changeset_with</code> - If set to <code class="inline">:error</code>, instead of filtering unauthorized changes, unauthorized changes will raise an appropriate forbidden error. Uses <code class="inline">authorize_with</code> if not set.</li><li><code class="inline">:authorize_with</code> - If set to <code class="inline">:error</code>, instead of filtering unauthorized query results, unauthorized query results will raise an appropriate forbidden error. The default value is <code class="inline">:filter</code>.</li><li><code class="inline">:private_arguments</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">map/0</code></a>) - Private argument values to set on each changeset before validations and changes are run. The default value is <code class="inline">%{}</code>.</li><li><code class="inline">:sorted?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to sort results by their input position, in cases where <code class="inline">return_records?: true</code> was provided. The default value is <code class="inline">false</code>.</li><li><code class="inline">:return_records?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to return all of the records that were inserted. Defaults to false to account for large inserts. The default value is <code class="inline">false</code>.</li><li><code class="inline">:return_errors?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether to return all errors that occur during the operation. Defaults to the value of <code class="inline">:bulk_actions_default_to_errors?</code> in your config, or <code class="inline">false</code> if not set. Returning all errors may be expensive for large inserts. The default value is <code class="inline">false</code>.</li><li><code class="inline">:batch_size</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">pos_integer/0</code></a>) - The number of records to include in each batch. Defaults to the <code class="inline">default_limit</code>
or <code class="inline">max_page_size</code> of the action, or 100.</li><li><code class="inline">:return_stream?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If set to <code class="inline">true</code>, instead of an <a href="https://hexdocs.pm/ash/3.5.32/Ash.BulkResult.html"><code class="inline">Ash.BulkResult</code></a>, a mixed stream is returned.
Potential elements:
<code class="inline">{:notification, notification}</code> - if <code class="inline">return_notifications?</code> is set to <code class="inline">true</code>
<code class="inline">{:ok, record}</code> - if <code class="inline">return_records?</code> is set to <code class="inline">true</code>
<code class="inline">{:error, error}</code> - an error that occurred. May be changeset or an individual error.
The default value is <code class="inline">false</code>.</li><li><code class="inline">:return_nothing?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Mutes warnings about returning nothing.
Only relevant if <code class="inline">return_stream?</code> is set to <code class="inline">true</code> and all other
<code class="inline">return_*?</code> options are set to <code class="inline">false</code>.
The default value is <code class="inline">false</code>.</li><li><code class="inline">:stop_on_error?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If true, the first encountered error will stop the action and be returned. Otherwise, errors
will be skipped. The default value is <code class="inline">false</code>.</li><li><code class="inline">:notify?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to generate any notifications. If this is set to <code class="inline">true</code> then the data layer must return
the results from each batch. This may be intensive for large bulk actions.
Notifications will be automatically sent unless <code class="inline">return_notifications?</code> is set to <code class="inline">true</code>.
The default value is <code class="inline">false</code>.</li><li><code class="inline">:transaction</code> - Whether or not to wrap the entire execution in a transaction, each batch, or not at all.
Keep in mind:
<code class="inline">before_transaction</code> and <code class="inline">after_transaction</code> hooks attached to changesets will have to be run
<em>inside</em> the transaction if you choose <code class="inline">transaction: :all</code>.
The default value is <code class="inline">:batch</code>.</li><li><code class="inline">:max_concurrency</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">non_neg_integer/0</code></a>) - If set to a value greater than 0, up to that many tasks will be started to run batches asynchronously The default value is <code class="inline">0</code>.</li></ul></li><li><code class="inline">:private_arguments</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">map/0</code></a>) - Private argument values to set before validations and changes. The default value is <code class="inline">%{}</code>.</li></ul>
  </section>
</section>
<section class="detail" id="create_offender!/2">

    <span id="create_offender!/0"></span>

    <span id="create_offender!/1"></span>

  <div class="detail-header">
    <a href="#create_offender!/2" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">create_offender!(params \\ nil, opts \\ nil)</h1>


    </div>
  </div>

  <section class="docstring">

<p>Calls the create action on EhsEnforcement.Enforcement.Offender.
Raises any errors instead of returning them</p><h1>Inputs</h1><ul><li>name</li><li>address</li><li>postcode</li><li>local_authority</li><li>main_activity</li><li>total_cases</li><li>total_fines</li><li>business_type</li><li>country</li><li>first_seen_date</li><li>industry</li><li>last_seen_date</li><li>sic_code</li><li>total_notices</li></ul><h2 id="create_offender!/2-options" class="section-heading"><a href="#create_offender!/2-options" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Options</span></h2><ul><li><code class="inline">:upsert?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If a conflict is found based on the primary key, the record is updated in the database (requires upsert support) The default value is <code class="inline">false</code>.</li><li><code class="inline">:return_skipped_upsert?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If <code class="inline">true</code>, and a record was <em>not</em> upserted because its filter prevented the upsert, the original record (which was <em>not</em> upserted) will be returned. The default value is <code class="inline">false</code>.</li><li><code class="inline">:upsert_identity</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - The identity to use when detecting conflicts for <code class="inline">upsert?</code>, e.g. <code class="inline">upsert_identity: :full_name</code>. By default, the primary key is used. Has no effect if <code class="inline">upsert?: true</code> is not provided</li><li><code class="inline">:upsert_fields</code> - The fields to upsert. If not set, the action's upsert_fields is used, and if that is not set, then any fields not being set to defaults are written.</li><li><code class="inline">:upsert_condition</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - An expression to check if the record should be updated when there's a conflict.</li><li><code class="inline">:timeout</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">timeout/0</code></a>) - A positive integer, or <code class="inline">:infinity</code>. If none is provided, the timeout configured on the domain is used.</li><li><code class="inline">:tracer</code> (one or a list of module that adopts <a href="https://hexdocs.pm/ash/3.5.32/Ash.Tracer.html"><code class="inline">Ash.Tracer</code></a>) - A tracer that implements the <a href="https://hexdocs.pm/ash/3.5.32/Ash.Tracer.html"><code class="inline">Ash.Tracer</code></a> behaviour. See that module for more.</li><li><code class="inline">:action</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - The action to use, either an Action struct or the name of the action</li><li><code class="inline">:authorize?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If an actor option is provided (even if it is <code class="inline">nil</code>), authorization happens automatically. If not, this flag can be used to authorize with no user.</li><li><code class="inline">:context</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">map/0</code></a>) - Context to set on the query, changeset, or input</li><li><code class="inline">:tenant</code> (value that implements the <a href="https://hexdocs.pm/ash/3.5.32/Ash.ToTenant.html"><code class="inline">Ash.ToTenant</code></a> protocol) - A tenant to set on the query or changeset</li><li><code class="inline">:actor</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - If an actor is provided, it will be used in conjunction with the authorizers of a resource to authorize access</li><li><code class="inline">:scope</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A value that implements the <a href="https://hexdocs.pm/ash/3.5.32/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> protocol, for passing around actor/tenant/context in a single value. See <a href="https://hexdocs.pm/ash/3.5.32/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> for more.</li><li><code class="inline">:return_notifications?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Use this if you're running ash actions in your own transaction and you want to manually handle sending notifications.<br/>If a transaction is ongoing, and this is false, notifications will be discarded, otherwise
the return value is <code class="inline">{:ok, result, notifications}</code> (or <code class="inline">{:ok, notifications}</code>)<br/>To send notifications later, use <code class="inline">Ash.Notifier.notify(notifications)</code>. It sends any notifications
that can be sent, and returns the rest. The default value is <code class="inline">false</code>.</li><li><code class="inline">:rollback_on_error?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to rollback the transaction on error, if the resource is in a transaction.<br/>If the action has <code class="inline">transaction? false</code> this option has no effect. If an error is returned from the
data layer and the resource is in a transaction, the transaction is always rolled back, regardless. The default value is <code class="inline">true</code>.</li><li><code class="inline">:notification_metadata</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - Metadata to be merged into the metadata field for all notifications sent from this operation. The default value is <code class="inline">%{}</code>.</li><li><code class="inline">:skip_unknown_inputs</code> - A list of inputs that, if provided, will be ignored if they are not recognized by the action. Use <code class="inline">:*</code> to indicate all unknown keys.</li><li><code class="inline">:load</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A load statement to add onto the changeset</li><li><code class="inline">:changeset</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A changeset to seed the action with.</li><li><code class="inline">:bulk_options</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">keyword/0</code></a>) - Options passed to <code class="inline">Ash.bulk_create</code>, if a list or stream of inputs is provided.<ul><li><code class="inline">:select</code> (list of <a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - A select statement to apply to records. Ignored if <code class="inline">return_records?</code> is not true.</li><li><code class="inline">:after_action</code> (function of arity 2) - An after_action hook to be added to each processed changeset</li><li><code class="inline">:read_action</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - The action to use when building the read query.</li><li><code class="inline">:assume_casted?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to cast attributes and arguments as input. This is an optimization for cases where the input is already casted and/or not in need of casting The default value is <code class="inline">false</code>.</li><li><code class="inline">:select</code> (list of <a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - A select statement to apply to records. Ignored if <code class="inline">return_records?</code> is not true.</li><li><code class="inline">:authorize_query_with</code> - If set to <code class="inline">:error</code>, instead of filtering unauthorized query results, unauthorized query results will raise an appropriate forbidden error. Uses <code class="inline">authorize_with</code> if not set.</li><li><code class="inline">:authorize_changeset_with</code> - If set to <code class="inline">:error</code>, instead of filtering unauthorized changes, unauthorized changes will raise an appropriate forbidden error. Uses <code class="inline">authorize_with</code> if not set.</li><li><code class="inline">:authorize_with</code> - If set to <code class="inline">:error</code>, instead of filtering unauthorized query results, unauthorized query results will raise an appropriate forbidden error. The default value is <code class="inline">:filter</code>.</li><li><code class="inline">:private_arguments</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">map/0</code></a>) - Private argument values to set on each changeset before validations and changes are run. The default value is <code class="inline">%{}</code>.</li><li><code class="inline">:sorted?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to sort results by their input position, in cases where <code class="inline">return_records?: true</code> was provided. The default value is <code class="inline">false</code>.</li><li><code class="inline">:return_records?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to return all of the records that were inserted. Defaults to false to account for large inserts. The default value is <code class="inline">false</code>.</li><li><code class="inline">:return_errors?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether to return all errors that occur during the operation. Defaults to the value of <code class="inline">:bulk_actions_default_to_errors?</code> in your config, or <code class="inline">false</code> if not set. Returning all errors may be expensive for large inserts. The default value is <code class="inline">false</code>.</li><li><code class="inline">:batch_size</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">pos_integer/0</code></a>) - The number of records to include in each batch. Defaults to the <code class="inline">default_limit</code>
or <code class="inline">max_page_size</code> of the action, or 100.</li><li><code class="inline">:return_stream?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If set to <code class="inline">true</code>, instead of an <a href="https://hexdocs.pm/ash/3.5.32/Ash.BulkResult.html"><code class="inline">Ash.BulkResult</code></a>, a mixed stream is returned.
Potential elements:
<code class="inline">{:notification, notification}</code> - if <code class="inline">return_notifications?</code> is set to <code class="inline">true</code>
<code class="inline">{:ok, record}</code> - if <code class="inline">return_records?</code> is set to <code class="inline">true</code>
<code class="inline">{:error, error}</code> - an error that occurred. May be changeset or an individual error.
The default value is <code class="inline">false</code>.</li><li><code class="inline">:return_nothing?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Mutes warnings about returning nothing.
Only relevant if <code class="inline">return_stream?</code> is set to <code class="inline">true</code> and all other
<code class="inline">return_*?</code> options are set to <code class="inline">false</code>.
The default value is <code class="inline">false</code>.</li><li><code class="inline">:stop_on_error?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If true, the first encountered error will stop the action and be returned. Otherwise, errors
will be skipped. The default value is <code class="inline">false</code>.</li><li><code class="inline">:notify?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to generate any notifications. If this is set to <code class="inline">true</code> then the data layer must return
the results from each batch. This may be intensive for large bulk actions.
Notifications will be automatically sent unless <code class="inline">return_notifications?</code> is set to <code class="inline">true</code>.
The default value is <code class="inline">false</code>.</li><li><code class="inline">:transaction</code> - Whether or not to wrap the entire execution in a transaction, each batch, or not at all.
Keep in mind:
<code class="inline">before_transaction</code> and <code class="inline">after_transaction</code> hooks attached to changesets will have to be run
<em>inside</em> the transaction if you choose <code class="inline">transaction: :all</code>.
The default value is <code class="inline">:batch</code>.</li><li><code class="inline">:max_concurrency</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">non_neg_integer/0</code></a>) - If set to a value greater than 0, up to that many tasks will be started to run batches asynchronously The default value is <code class="inline">0</code>.</li></ul></li><li><code class="inline">:private_arguments</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">map/0</code></a>) - Private argument values to set before validations and changes. The default value is <code class="inline">%{}</code>.</li></ul>
  </section>
</section>
<section class="detail" id="default_short_name/0">

  <div class="detail-header">
    <a href="#default_short_name/0" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">default_short_name()</h1>


    </div>
  </div>

  <section class="docstring">


  </section>
</section>
<section class="detail" id="destroy_case/3">

    <span id="destroy_case/1"></span>

    <span id="destroy_case/2"></span>

  <div class="detail-header">
    <a href="#destroy_case/3" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">destroy_case(record, params \\ nil, opts \\ nil)</h1>


    </div>
  </div>

  <section class="docstring">

<p>Calls the destroy action on EhsEnforcement.Enforcement.Case.</p><h2 id="destroy_case/3-options" class="section-heading"><a href="#destroy_case/3-options" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Options</span></h2><ul><li><code class="inline">:return_destroyed?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If true, the destroyed record is included in the return result, e.g <code class="inline">{:ok, destroyed}</code> or <code class="inline">{:ok, destroyed, notifications}</code> The default value is <code class="inline">false</code>.</li><li><code class="inline">:timeout</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">timeout/0</code></a>) - A positive integer, or <code class="inline">:infinity</code>. If none is provided, the timeout configured on the domain is used.</li><li><code class="inline">:tracer</code> (one or a list of module that adopts <a href="https://hexdocs.pm/ash/3.5.32/Ash.Tracer.html"><code class="inline">Ash.Tracer</code></a>) - A tracer that implements the <a href="https://hexdocs.pm/ash/3.5.32/Ash.Tracer.html"><code class="inline">Ash.Tracer</code></a> behaviour. See that module for more.</li><li><code class="inline">:action</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - The action to use, either an Action struct or the name of the action</li><li><code class="inline">:authorize?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If an actor option is provided (even if it is <code class="inline">nil</code>), authorization happens automatically. If not, this flag can be used to authorize with no user.</li><li><code class="inline">:context</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">map/0</code></a>) - Context to set on the query, changeset, or input</li><li><code class="inline">:tenant</code> (value that implements the <a href="https://hexdocs.pm/ash/3.5.32/Ash.ToTenant.html"><code class="inline">Ash.ToTenant</code></a> protocol) - A tenant to set on the query or changeset</li><li><code class="inline">:actor</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - If an actor is provided, it will be used in conjunction with the authorizers of a resource to authorize access</li><li><code class="inline">:scope</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A value that implements the <a href="https://hexdocs.pm/ash/3.5.32/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> protocol, for passing around actor/tenant/context in a single value. See <a href="https://hexdocs.pm/ash/3.5.32/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> for more.</li><li><code class="inline">:return_notifications?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Use this if you're running ash actions in your own transaction and you want to manually handle sending notifications.<br/>If a transaction is ongoing, and this is false, notifications will be discarded, otherwise
the return value is <code class="inline">{:ok, result, notifications}</code> (or <code class="inline">{:ok, notifications}</code>)<br/>To send notifications later, use <code class="inline">Ash.Notifier.notify(notifications)</code>. It sends any notifications
that can be sent, and returns the rest. The default value is <code class="inline">false</code>.</li><li><code class="inline">:rollback_on_error?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to rollback the transaction on error, if the resource is in a transaction.<br/>If the action has <code class="inline">transaction? false</code> this option has no effect. If an error is returned from the
data layer and the resource is in a transaction, the transaction is always rolled back, regardless. The default value is <code class="inline">true</code>.</li><li><code class="inline">:notification_metadata</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - Metadata to be merged into the metadata field for all notifications sent from this operation. The default value is <code class="inline">%{}</code>.</li><li><code class="inline">:skip_unknown_inputs</code> - A list of inputs that, if provided, will be ignored if they are not recognized by the action. Use <code class="inline">:*</code> to indicate all unknown keys.</li><li><code class="inline">:load</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A load statement to add onto the changeset</li><li><code class="inline">:bulk_options</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">keyword/0</code></a>) - Options passed to <code class="inline">Ash.bulk_destroy</code>, if a query, list, or stream of inputs is provided.<ul><li><code class="inline">:stream_batch_size</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">integer/0</code></a>) - Batch size to use if provided a query and the query must be streamed</li><li><code class="inline">:allow_stream_with</code> - The 'worst' strategy allowed to be used to fetch records if the <code class="inline">:stream</code> strategy is chosen. See the <a href="https://hexdocs.pm/ash/3.5.32/Ash.html#stream!/2"><code class="inline">Ash.stream!/2</code></a> docs for more. The default value is <code class="inline">:keyset</code>.</li><li><code class="inline">:authorize_query?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If a query is given, determines whether or not authorization is run on that query. The default value is <code class="inline">true</code>.</li><li><code class="inline">:strategy</code> - The strategy or strategies to enable. :stream is used in all cases if the data layer does not support atomics. The default value is <code class="inline">:atomic</code>.</li><li><code class="inline">:filter</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A filter to apply to records. This is also applied to a stream of inputs.</li><li><code class="inline">:allow_stream_with</code> - The 'worst' strategy allowed to be used to fetch records. See <a href="https://hexdocs.pm/ash/3.5.32/Ash.html#stream!/2"><code class="inline">Ash.stream!/2</code></a> docs for more. The default value is <code class="inline">:keyset</code>.</li><li><code class="inline">:stream_with</code> - The specific strategy to use to fetch records. See <a href="https://hexdocs.pm/ash/3.5.32/Ash.html#stream!/2"><code class="inline">Ash.stream!/2</code></a> docs for more.</li><li><code class="inline">:max_concurrency</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">non_neg_integer/0</code></a>) - The maximum number of processes allowed to be started for parallel loading of relationships and calculations. Defaults to <code class="inline">System.schedulers_online() * 2</code></li><li><code class="inline">:lock</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A lock statement to add onto the query</li><li><code class="inline">:return_query?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If <code class="inline">true</code>, the query that was ultimately used is returned as a third tuple element.
The query goes through many potential changes during a request, potentially adding
authorization filters, or replacing relationships for other data layers with their
corresponding ids. This option can be used to get the true query that was sent to
the data layer.
The default value is <code class="inline">false</code>.</li><li><code class="inline">:reuse_values?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether calculations are allowed to reuse values that have already been loaded, or must refetch them from the data layer. The default value is <code class="inline">false</code>.</li><li><code class="inline">:strict?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If set to true, only specified attributes will be loaded when passing
  a list of fields to fetch on a relationship, which allows for more
  optimized data-fetching.
  See <a href="https://hexdocs.pm/ash/3.5.32/Ash.Query.html#load/2"><code class="inline">Ash.Query.load/2</code></a>.
The default value is <code class="inline">false</code>.</li><li><code class="inline">:authorize_with</code> - If set to <code class="inline">:error</code>, instead of applying authorization filters as a filter, any records not matching the authorization filter will cause an error to be returned. The default value is <code class="inline">:filter</code>.</li><li><code class="inline">:read_action</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - The action to use when building the read query.</li><li><code class="inline">:assume_casted?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to cast attributes and arguments as input. This is an optimization for cases where the input is already casted and/or not in need of casting The default value is <code class="inline">false</code>.</li><li><code class="inline">:select</code> (list of <a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - A select statement to apply to records. Ignored if <code class="inline">return_records?</code> is not true.</li><li><code class="inline">:authorize_query_with</code> - If set to <code class="inline">:error</code>, instead of filtering unauthorized query results, unauthorized query results will raise an appropriate forbidden error. Uses <code class="inline">authorize_with</code> if not set.</li><li><code class="inline">:authorize_changeset_with</code> - If set to <code class="inline">:error</code>, instead of filtering unauthorized changes, unauthorized changes will raise an appropriate forbidden error. Uses <code class="inline">authorize_with</code> if not set.</li><li><code class="inline">:authorize_with</code> - If set to <code class="inline">:error</code>, instead of filtering unauthorized query results, unauthorized query results will raise an appropriate forbidden error. The default value is <code class="inline">:filter</code>.</li><li><code class="inline">:private_arguments</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">map/0</code></a>) - Private argument values to set on each changeset before validations and changes are run. The default value is <code class="inline">%{}</code>.</li><li><code class="inline">:sorted?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to sort results by their input position, in cases where <code class="inline">return_records?: true</code> was provided. The default value is <code class="inline">false</code>.</li><li><code class="inline">:return_records?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to return all of the records that were inserted. Defaults to false to account for large inserts. The default value is <code class="inline">false</code>.</li><li><code class="inline">:return_errors?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether to return all errors that occur during the operation. Defaults to the value of <code class="inline">:bulk_actions_default_to_errors?</code> in your config, or <code class="inline">false</code> if not set. Returning all errors may be expensive for large inserts. The default value is <code class="inline">false</code>.</li><li><code class="inline">:batch_size</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">pos_integer/0</code></a>) - The number of records to include in each batch. Defaults to the <code class="inline">default_limit</code>
or <code class="inline">max_page_size</code> of the action, or 100.</li><li><code class="inline">:return_stream?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If set to <code class="inline">true</code>, instead of an <a href="https://hexdocs.pm/ash/3.5.32/Ash.BulkResult.html"><code class="inline">Ash.BulkResult</code></a>, a mixed stream is returned.
Potential elements:
<code class="inline">{:notification, notification}</code> - if <code class="inline">return_notifications?</code> is set to <code class="inline">true</code>
<code class="inline">{:ok, record}</code> - if <code class="inline">return_records?</code> is set to <code class="inline">true</code>
<code class="inline">{:error, error}</code> - an error that occurred. May be changeset or an individual error.
The default value is <code class="inline">false</code>.</li><li><code class="inline">:return_nothing?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Mutes warnings about returning nothing.
Only relevant if <code class="inline">return_stream?</code> is set to <code class="inline">true</code> and all other
<code class="inline">return_*?</code> options are set to <code class="inline">false</code>.
The default value is <code class="inline">false</code>.</li><li><code class="inline">:stop_on_error?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If true, the first encountered error will stop the action and be returned. Otherwise, errors
will be skipped. The default value is <code class="inline">false</code>.</li><li><code class="inline">:notify?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to generate any notifications. If this is set to <code class="inline">true</code> then the data layer must return
the results from each batch. This may be intensive for large bulk actions.
Notifications will be automatically sent unless <code class="inline">return_notifications?</code> is set to <code class="inline">true</code>.
The default value is <code class="inline">false</code>.</li><li><code class="inline">:transaction</code> - Whether or not to wrap the entire execution in a transaction, each batch, or not at all.
Keep in mind:
<code class="inline">before_transaction</code> and <code class="inline">after_transaction</code> hooks attached to changesets will have to be run
<em>inside</em> the transaction if you choose <code class="inline">transaction: :all</code>.
The default value is <code class="inline">:batch</code>.</li><li><code class="inline">:max_concurrency</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">non_neg_integer/0</code></a>) - If set to a value greater than 0, up to that many tasks will be started to run batches asynchronously The default value is <code class="inline">0</code>.</li></ul></li><li><code class="inline">:private_arguments</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">map/0</code></a>) - Private argument values to set before validations and changes. The default value is <code class="inline">%{}</code>.</li></ul>
  </section>
</section>
<section class="detail" id="destroy_case!/3">

    <span id="destroy_case!/1"></span>

    <span id="destroy_case!/2"></span>

  <div class="detail-header">
    <a href="#destroy_case!/3" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">destroy_case!(record, params \\ nil, opts \\ nil)</h1>


    </div>
  </div>

  <section class="docstring">

<p>Calls the destroy action on EhsEnforcement.Enforcement.Case.
Raises any errors instead of returning them</p><h2 id="destroy_case!/3-options" class="section-heading"><a href="#destroy_case!/3-options" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Options</span></h2><ul><li><code class="inline">:return_destroyed?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If true, the destroyed record is included in the return result, e.g <code class="inline">{:ok, destroyed}</code> or <code class="inline">{:ok, destroyed, notifications}</code> The default value is <code class="inline">false</code>.</li><li><code class="inline">:timeout</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">timeout/0</code></a>) - A positive integer, or <code class="inline">:infinity</code>. If none is provided, the timeout configured on the domain is used.</li><li><code class="inline">:tracer</code> (one or a list of module that adopts <a href="https://hexdocs.pm/ash/3.5.32/Ash.Tracer.html"><code class="inline">Ash.Tracer</code></a>) - A tracer that implements the <a href="https://hexdocs.pm/ash/3.5.32/Ash.Tracer.html"><code class="inline">Ash.Tracer</code></a> behaviour. See that module for more.</li><li><code class="inline">:action</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - The action to use, either an Action struct or the name of the action</li><li><code class="inline">:authorize?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If an actor option is provided (even if it is <code class="inline">nil</code>), authorization happens automatically. If not, this flag can be used to authorize with no user.</li><li><code class="inline">:context</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">map/0</code></a>) - Context to set on the query, changeset, or input</li><li><code class="inline">:tenant</code> (value that implements the <a href="https://hexdocs.pm/ash/3.5.32/Ash.ToTenant.html"><code class="inline">Ash.ToTenant</code></a> protocol) - A tenant to set on the query or changeset</li><li><code class="inline">:actor</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - If an actor is provided, it will be used in conjunction with the authorizers of a resource to authorize access</li><li><code class="inline">:scope</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A value that implements the <a href="https://hexdocs.pm/ash/3.5.32/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> protocol, for passing around actor/tenant/context in a single value. See <a href="https://hexdocs.pm/ash/3.5.32/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> for more.</li><li><code class="inline">:return_notifications?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Use this if you're running ash actions in your own transaction and you want to manually handle sending notifications.<br/>If a transaction is ongoing, and this is false, notifications will be discarded, otherwise
the return value is <code class="inline">{:ok, result, notifications}</code> (or <code class="inline">{:ok, notifications}</code>)<br/>To send notifications later, use <code class="inline">Ash.Notifier.notify(notifications)</code>. It sends any notifications
that can be sent, and returns the rest. The default value is <code class="inline">false</code>.</li><li><code class="inline">:rollback_on_error?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to rollback the transaction on error, if the resource is in a transaction.<br/>If the action has <code class="inline">transaction? false</code> this option has no effect. If an error is returned from the
data layer and the resource is in a transaction, the transaction is always rolled back, regardless. The default value is <code class="inline">true</code>.</li><li><code class="inline">:notification_metadata</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - Metadata to be merged into the metadata field for all notifications sent from this operation. The default value is <code class="inline">%{}</code>.</li><li><code class="inline">:skip_unknown_inputs</code> - A list of inputs that, if provided, will be ignored if they are not recognized by the action. Use <code class="inline">:*</code> to indicate all unknown keys.</li><li><code class="inline">:load</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A load statement to add onto the changeset</li><li><code class="inline">:bulk_options</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">keyword/0</code></a>) - Options passed to <code class="inline">Ash.bulk_destroy</code>, if a query, list, or stream of inputs is provided.<ul><li><code class="inline">:stream_batch_size</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">integer/0</code></a>) - Batch size to use if provided a query and the query must be streamed</li><li><code class="inline">:allow_stream_with</code> - The 'worst' strategy allowed to be used to fetch records if the <code class="inline">:stream</code> strategy is chosen. See the <a href="https://hexdocs.pm/ash/3.5.32/Ash.html#stream!/2"><code class="inline">Ash.stream!/2</code></a> docs for more. The default value is <code class="inline">:keyset</code>.</li><li><code class="inline">:authorize_query?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If a query is given, determines whether or not authorization is run on that query. The default value is <code class="inline">true</code>.</li><li><code class="inline">:strategy</code> - The strategy or strategies to enable. :stream is used in all cases if the data layer does not support atomics. The default value is <code class="inline">:atomic</code>.</li><li><code class="inline">:filter</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A filter to apply to records. This is also applied to a stream of inputs.</li><li><code class="inline">:allow_stream_with</code> - The 'worst' strategy allowed to be used to fetch records. See <a href="https://hexdocs.pm/ash/3.5.32/Ash.html#stream!/2"><code class="inline">Ash.stream!/2</code></a> docs for more. The default value is <code class="inline">:keyset</code>.</li><li><code class="inline">:stream_with</code> - The specific strategy to use to fetch records. See <a href="https://hexdocs.pm/ash/3.5.32/Ash.html#stream!/2"><code class="inline">Ash.stream!/2</code></a> docs for more.</li><li><code class="inline">:max_concurrency</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">non_neg_integer/0</code></a>) - The maximum number of processes allowed to be started for parallel loading of relationships and calculations. Defaults to <code class="inline">System.schedulers_online() * 2</code></li><li><code class="inline">:lock</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A lock statement to add onto the query</li><li><code class="inline">:return_query?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If <code class="inline">true</code>, the query that was ultimately used is returned as a third tuple element.
The query goes through many potential changes during a request, potentially adding
authorization filters, or replacing relationships for other data layers with their
corresponding ids. This option can be used to get the true query that was sent to
the data layer.
The default value is <code class="inline">false</code>.</li><li><code class="inline">:reuse_values?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether calculations are allowed to reuse values that have already been loaded, or must refetch them from the data layer. The default value is <code class="inline">false</code>.</li><li><code class="inline">:strict?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If set to true, only specified attributes will be loaded when passing
  a list of fields to fetch on a relationship, which allows for more
  optimized data-fetching.
  See <a href="https://hexdocs.pm/ash/3.5.32/Ash.Query.html#load/2"><code class="inline">Ash.Query.load/2</code></a>.
The default value is <code class="inline">false</code>.</li><li><code class="inline">:authorize_with</code> - If set to <code class="inline">:error</code>, instead of applying authorization filters as a filter, any records not matching the authorization filter will cause an error to be returned. The default value is <code class="inline">:filter</code>.</li><li><code class="inline">:read_action</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - The action to use when building the read query.</li><li><code class="inline">:assume_casted?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to cast attributes and arguments as input. This is an optimization for cases where the input is already casted and/or not in need of casting The default value is <code class="inline">false</code>.</li><li><code class="inline">:select</code> (list of <a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - A select statement to apply to records. Ignored if <code class="inline">return_records?</code> is not true.</li><li><code class="inline">:authorize_query_with</code> - If set to <code class="inline">:error</code>, instead of filtering unauthorized query results, unauthorized query results will raise an appropriate forbidden error. Uses <code class="inline">authorize_with</code> if not set.</li><li><code class="inline">:authorize_changeset_with</code> - If set to <code class="inline">:error</code>, instead of filtering unauthorized changes, unauthorized changes will raise an appropriate forbidden error. Uses <code class="inline">authorize_with</code> if not set.</li><li><code class="inline">:authorize_with</code> - If set to <code class="inline">:error</code>, instead of filtering unauthorized query results, unauthorized query results will raise an appropriate forbidden error. The default value is <code class="inline">:filter</code>.</li><li><code class="inline">:private_arguments</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">map/0</code></a>) - Private argument values to set on each changeset before validations and changes are run. The default value is <code class="inline">%{}</code>.</li><li><code class="inline">:sorted?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to sort results by their input position, in cases where <code class="inline">return_records?: true</code> was provided. The default value is <code class="inline">false</code>.</li><li><code class="inline">:return_records?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to return all of the records that were inserted. Defaults to false to account for large inserts. The default value is <code class="inline">false</code>.</li><li><code class="inline">:return_errors?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether to return all errors that occur during the operation. Defaults to the value of <code class="inline">:bulk_actions_default_to_errors?</code> in your config, or <code class="inline">false</code> if not set. Returning all errors may be expensive for large inserts. The default value is <code class="inline">false</code>.</li><li><code class="inline">:batch_size</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">pos_integer/0</code></a>) - The number of records to include in each batch. Defaults to the <code class="inline">default_limit</code>
or <code class="inline">max_page_size</code> of the action, or 100.</li><li><code class="inline">:return_stream?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If set to <code class="inline">true</code>, instead of an <a href="https://hexdocs.pm/ash/3.5.32/Ash.BulkResult.html"><code class="inline">Ash.BulkResult</code></a>, a mixed stream is returned.
Potential elements:
<code class="inline">{:notification, notification}</code> - if <code class="inline">return_notifications?</code> is set to <code class="inline">true</code>
<code class="inline">{:ok, record}</code> - if <code class="inline">return_records?</code> is set to <code class="inline">true</code>
<code class="inline">{:error, error}</code> - an error that occurred. May be changeset or an individual error.
The default value is <code class="inline">false</code>.</li><li><code class="inline">:return_nothing?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Mutes warnings about returning nothing.
Only relevant if <code class="inline">return_stream?</code> is set to <code class="inline">true</code> and all other
<code class="inline">return_*?</code> options are set to <code class="inline">false</code>.
The default value is <code class="inline">false</code>.</li><li><code class="inline">:stop_on_error?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If true, the first encountered error will stop the action and be returned. Otherwise, errors
will be skipped. The default value is <code class="inline">false</code>.</li><li><code class="inline">:notify?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to generate any notifications. If this is set to <code class="inline">true</code> then the data layer must return
the results from each batch. This may be intensive for large bulk actions.
Notifications will be automatically sent unless <code class="inline">return_notifications?</code> is set to <code class="inline">true</code>.
The default value is <code class="inline">false</code>.</li><li><code class="inline">:transaction</code> - Whether or not to wrap the entire execution in a transaction, each batch, or not at all.
Keep in mind:
<code class="inline">before_transaction</code> and <code class="inline">after_transaction</code> hooks attached to changesets will have to be run
<em>inside</em> the transaction if you choose <code class="inline">transaction: :all</code>.
The default value is <code class="inline">:batch</code>.</li><li><code class="inline">:max_concurrency</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">non_neg_integer/0</code></a>) - If set to a value greater than 0, up to that many tasks will be started to run batches asynchronously The default value is <code class="inline">0</code>.</li></ul></li><li><code class="inline">:private_arguments</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">map/0</code></a>) - Private argument values to set before validations and changes. The default value is <code class="inline">%{}</code>.</li></ul>
  </section>
</section>
<section class="detail" id="destroy_notice/3">

    <span id="destroy_notice/1"></span>

    <span id="destroy_notice/2"></span>

  <div class="detail-header">
    <a href="#destroy_notice/3" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">destroy_notice(record, params \\ nil, opts \\ nil)</h1>


    </div>
  </div>

  <section class="docstring">

<p>Calls the destroy action on EhsEnforcement.Enforcement.Notice.</p><h2 id="destroy_notice/3-options" class="section-heading"><a href="#destroy_notice/3-options" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Options</span></h2><ul><li><code class="inline">:return_destroyed?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If true, the destroyed record is included in the return result, e.g <code class="inline">{:ok, destroyed}</code> or <code class="inline">{:ok, destroyed, notifications}</code> The default value is <code class="inline">false</code>.</li><li><code class="inline">:timeout</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">timeout/0</code></a>) - A positive integer, or <code class="inline">:infinity</code>. If none is provided, the timeout configured on the domain is used.</li><li><code class="inline">:tracer</code> (one or a list of module that adopts <a href="https://hexdocs.pm/ash/3.5.32/Ash.Tracer.html"><code class="inline">Ash.Tracer</code></a>) - A tracer that implements the <a href="https://hexdocs.pm/ash/3.5.32/Ash.Tracer.html"><code class="inline">Ash.Tracer</code></a> behaviour. See that module for more.</li><li><code class="inline">:action</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - The action to use, either an Action struct or the name of the action</li><li><code class="inline">:authorize?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If an actor option is provided (even if it is <code class="inline">nil</code>), authorization happens automatically. If not, this flag can be used to authorize with no user.</li><li><code class="inline">:context</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">map/0</code></a>) - Context to set on the query, changeset, or input</li><li><code class="inline">:tenant</code> (value that implements the <a href="https://hexdocs.pm/ash/3.5.32/Ash.ToTenant.html"><code class="inline">Ash.ToTenant</code></a> protocol) - A tenant to set on the query or changeset</li><li><code class="inline">:actor</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - If an actor is provided, it will be used in conjunction with the authorizers of a resource to authorize access</li><li><code class="inline">:scope</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A value that implements the <a href="https://hexdocs.pm/ash/3.5.32/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> protocol, for passing around actor/tenant/context in a single value. See <a href="https://hexdocs.pm/ash/3.5.32/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> for more.</li><li><code class="inline">:return_notifications?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Use this if you're running ash actions in your own transaction and you want to manually handle sending notifications.<br/>If a transaction is ongoing, and this is false, notifications will be discarded, otherwise
the return value is <code class="inline">{:ok, result, notifications}</code> (or <code class="inline">{:ok, notifications}</code>)<br/>To send notifications later, use <code class="inline">Ash.Notifier.notify(notifications)</code>. It sends any notifications
that can be sent, and returns the rest. The default value is <code class="inline">false</code>.</li><li><code class="inline">:rollback_on_error?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to rollback the transaction on error, if the resource is in a transaction.<br/>If the action has <code class="inline">transaction? false</code> this option has no effect. If an error is returned from the
data layer and the resource is in a transaction, the transaction is always rolled back, regardless. The default value is <code class="inline">true</code>.</li><li><code class="inline">:notification_metadata</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - Metadata to be merged into the metadata field for all notifications sent from this operation. The default value is <code class="inline">%{}</code>.</li><li><code class="inline">:skip_unknown_inputs</code> - A list of inputs that, if provided, will be ignored if they are not recognized by the action. Use <code class="inline">:*</code> to indicate all unknown keys.</li><li><code class="inline">:load</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A load statement to add onto the changeset</li><li><code class="inline">:bulk_options</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">keyword/0</code></a>) - Options passed to <code class="inline">Ash.bulk_destroy</code>, if a query, list, or stream of inputs is provided.<ul><li><code class="inline">:stream_batch_size</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">integer/0</code></a>) - Batch size to use if provided a query and the query must be streamed</li><li><code class="inline">:allow_stream_with</code> - The 'worst' strategy allowed to be used to fetch records if the <code class="inline">:stream</code> strategy is chosen. See the <a href="https://hexdocs.pm/ash/3.5.32/Ash.html#stream!/2"><code class="inline">Ash.stream!/2</code></a> docs for more. The default value is <code class="inline">:keyset</code>.</li><li><code class="inline">:authorize_query?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If a query is given, determines whether or not authorization is run on that query. The default value is <code class="inline">true</code>.</li><li><code class="inline">:strategy</code> - The strategy or strategies to enable. :stream is used in all cases if the data layer does not support atomics. The default value is <code class="inline">:atomic</code>.</li><li><code class="inline">:filter</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A filter to apply to records. This is also applied to a stream of inputs.</li><li><code class="inline">:allow_stream_with</code> - The 'worst' strategy allowed to be used to fetch records. See <a href="https://hexdocs.pm/ash/3.5.32/Ash.html#stream!/2"><code class="inline">Ash.stream!/2</code></a> docs for more. The default value is <code class="inline">:keyset</code>.</li><li><code class="inline">:stream_with</code> - The specific strategy to use to fetch records. See <a href="https://hexdocs.pm/ash/3.5.32/Ash.html#stream!/2"><code class="inline">Ash.stream!/2</code></a> docs for more.</li><li><code class="inline">:max_concurrency</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">non_neg_integer/0</code></a>) - The maximum number of processes allowed to be started for parallel loading of relationships and calculations. Defaults to <code class="inline">System.schedulers_online() * 2</code></li><li><code class="inline">:lock</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A lock statement to add onto the query</li><li><code class="inline">:return_query?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If <code class="inline">true</code>, the query that was ultimately used is returned as a third tuple element.
The query goes through many potential changes during a request, potentially adding
authorization filters, or replacing relationships for other data layers with their
corresponding ids. This option can be used to get the true query that was sent to
the data layer.
The default value is <code class="inline">false</code>.</li><li><code class="inline">:reuse_values?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether calculations are allowed to reuse values that have already been loaded, or must refetch them from the data layer. The default value is <code class="inline">false</code>.</li><li><code class="inline">:strict?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If set to true, only specified attributes will be loaded when passing
  a list of fields to fetch on a relationship, which allows for more
  optimized data-fetching.
  See <a href="https://hexdocs.pm/ash/3.5.32/Ash.Query.html#load/2"><code class="inline">Ash.Query.load/2</code></a>.
The default value is <code class="inline">false</code>.</li><li><code class="inline">:authorize_with</code> - If set to <code class="inline">:error</code>, instead of applying authorization filters as a filter, any records not matching the authorization filter will cause an error to be returned. The default value is <code class="inline">:filter</code>.</li><li><code class="inline">:read_action</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - The action to use when building the read query.</li><li><code class="inline">:assume_casted?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to cast attributes and arguments as input. This is an optimization for cases where the input is already casted and/or not in need of casting The default value is <code class="inline">false</code>.</li><li><code class="inline">:select</code> (list of <a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - A select statement to apply to records. Ignored if <code class="inline">return_records?</code> is not true.</li><li><code class="inline">:authorize_query_with</code> - If set to <code class="inline">:error</code>, instead of filtering unauthorized query results, unauthorized query results will raise an appropriate forbidden error. Uses <code class="inline">authorize_with</code> if not set.</li><li><code class="inline">:authorize_changeset_with</code> - If set to <code class="inline">:error</code>, instead of filtering unauthorized changes, unauthorized changes will raise an appropriate forbidden error. Uses <code class="inline">authorize_with</code> if not set.</li><li><code class="inline">:authorize_with</code> - If set to <code class="inline">:error</code>, instead of filtering unauthorized query results, unauthorized query results will raise an appropriate forbidden error. The default value is <code class="inline">:filter</code>.</li><li><code class="inline">:private_arguments</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">map/0</code></a>) - Private argument values to set on each changeset before validations and changes are run. The default value is <code class="inline">%{}</code>.</li><li><code class="inline">:sorted?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to sort results by their input position, in cases where <code class="inline">return_records?: true</code> was provided. The default value is <code class="inline">false</code>.</li><li><code class="inline">:return_records?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to return all of the records that were inserted. Defaults to false to account for large inserts. The default value is <code class="inline">false</code>.</li><li><code class="inline">:return_errors?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether to return all errors that occur during the operation. Defaults to the value of <code class="inline">:bulk_actions_default_to_errors?</code> in your config, or <code class="inline">false</code> if not set. Returning all errors may be expensive for large inserts. The default value is <code class="inline">false</code>.</li><li><code class="inline">:batch_size</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">pos_integer/0</code></a>) - The number of records to include in each batch. Defaults to the <code class="inline">default_limit</code>
or <code class="inline">max_page_size</code> of the action, or 100.</li><li><code class="inline">:return_stream?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If set to <code class="inline">true</code>, instead of an <a href="https://hexdocs.pm/ash/3.5.32/Ash.BulkResult.html"><code class="inline">Ash.BulkResult</code></a>, a mixed stream is returned.
Potential elements:
<code class="inline">{:notification, notification}</code> - if <code class="inline">return_notifications?</code> is set to <code class="inline">true</code>
<code class="inline">{:ok, record}</code> - if <code class="inline">return_records?</code> is set to <code class="inline">true</code>
<code class="inline">{:error, error}</code> - an error that occurred. May be changeset or an individual error.
The default value is <code class="inline">false</code>.</li><li><code class="inline">:return_nothing?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Mutes warnings about returning nothing.
Only relevant if <code class="inline">return_stream?</code> is set to <code class="inline">true</code> and all other
<code class="inline">return_*?</code> options are set to <code class="inline">false</code>.
The default value is <code class="inline">false</code>.</li><li><code class="inline">:stop_on_error?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If true, the first encountered error will stop the action and be returned. Otherwise, errors
will be skipped. The default value is <code class="inline">false</code>.</li><li><code class="inline">:notify?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to generate any notifications. If this is set to <code class="inline">true</code> then the data layer must return
the results from each batch. This may be intensive for large bulk actions.
Notifications will be automatically sent unless <code class="inline">return_notifications?</code> is set to <code class="inline">true</code>.
The default value is <code class="inline">false</code>.</li><li><code class="inline">:transaction</code> - Whether or not to wrap the entire execution in a transaction, each batch, or not at all.
Keep in mind:
<code class="inline">before_transaction</code> and <code class="inline">after_transaction</code> hooks attached to changesets will have to be run
<em>inside</em> the transaction if you choose <code class="inline">transaction: :all</code>.
The default value is <code class="inline">:batch</code>.</li><li><code class="inline">:max_concurrency</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">non_neg_integer/0</code></a>) - If set to a value greater than 0, up to that many tasks will be started to run batches asynchronously The default value is <code class="inline">0</code>.</li></ul></li><li><code class="inline">:private_arguments</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">map/0</code></a>) - Private argument values to set before validations and changes. The default value is <code class="inline">%{}</code>.</li></ul>
  </section>
</section>
<section class="detail" id="destroy_notice!/3">

    <span id="destroy_notice!/1"></span>

    <span id="destroy_notice!/2"></span>

  <div class="detail-header">
    <a href="#destroy_notice!/3" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">destroy_notice!(record, params \\ nil, opts \\ nil)</h1>


    </div>
  </div>

  <section class="docstring">

<p>Calls the destroy action on EhsEnforcement.Enforcement.Notice.
Raises any errors instead of returning them</p><h2 id="destroy_notice!/3-options" class="section-heading"><a href="#destroy_notice!/3-options" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Options</span></h2><ul><li><code class="inline">:return_destroyed?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If true, the destroyed record is included in the return result, e.g <code class="inline">{:ok, destroyed}</code> or <code class="inline">{:ok, destroyed, notifications}</code> The default value is <code class="inline">false</code>.</li><li><code class="inline">:timeout</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">timeout/0</code></a>) - A positive integer, or <code class="inline">:infinity</code>. If none is provided, the timeout configured on the domain is used.</li><li><code class="inline">:tracer</code> (one or a list of module that adopts <a href="https://hexdocs.pm/ash/3.5.32/Ash.Tracer.html"><code class="inline">Ash.Tracer</code></a>) - A tracer that implements the <a href="https://hexdocs.pm/ash/3.5.32/Ash.Tracer.html"><code class="inline">Ash.Tracer</code></a> behaviour. See that module for more.</li><li><code class="inline">:action</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - The action to use, either an Action struct or the name of the action</li><li><code class="inline">:authorize?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If an actor option is provided (even if it is <code class="inline">nil</code>), authorization happens automatically. If not, this flag can be used to authorize with no user.</li><li><code class="inline">:context</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">map/0</code></a>) - Context to set on the query, changeset, or input</li><li><code class="inline">:tenant</code> (value that implements the <a href="https://hexdocs.pm/ash/3.5.32/Ash.ToTenant.html"><code class="inline">Ash.ToTenant</code></a> protocol) - A tenant to set on the query or changeset</li><li><code class="inline">:actor</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - If an actor is provided, it will be used in conjunction with the authorizers of a resource to authorize access</li><li><code class="inline">:scope</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A value that implements the <a href="https://hexdocs.pm/ash/3.5.32/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> protocol, for passing around actor/tenant/context in a single value. See <a href="https://hexdocs.pm/ash/3.5.32/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> for more.</li><li><code class="inline">:return_notifications?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Use this if you're running ash actions in your own transaction and you want to manually handle sending notifications.<br/>If a transaction is ongoing, and this is false, notifications will be discarded, otherwise
the return value is <code class="inline">{:ok, result, notifications}</code> (or <code class="inline">{:ok, notifications}</code>)<br/>To send notifications later, use <code class="inline">Ash.Notifier.notify(notifications)</code>. It sends any notifications
that can be sent, and returns the rest. The default value is <code class="inline">false</code>.</li><li><code class="inline">:rollback_on_error?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to rollback the transaction on error, if the resource is in a transaction.<br/>If the action has <code class="inline">transaction? false</code> this option has no effect. If an error is returned from the
data layer and the resource is in a transaction, the transaction is always rolled back, regardless. The default value is <code class="inline">true</code>.</li><li><code class="inline">:notification_metadata</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - Metadata to be merged into the metadata field for all notifications sent from this operation. The default value is <code class="inline">%{}</code>.</li><li><code class="inline">:skip_unknown_inputs</code> - A list of inputs that, if provided, will be ignored if they are not recognized by the action. Use <code class="inline">:*</code> to indicate all unknown keys.</li><li><code class="inline">:load</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A load statement to add onto the changeset</li><li><code class="inline">:bulk_options</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">keyword/0</code></a>) - Options passed to <code class="inline">Ash.bulk_destroy</code>, if a query, list, or stream of inputs is provided.<ul><li><code class="inline">:stream_batch_size</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">integer/0</code></a>) - Batch size to use if provided a query and the query must be streamed</li><li><code class="inline">:allow_stream_with</code> - The 'worst' strategy allowed to be used to fetch records if the <code class="inline">:stream</code> strategy is chosen. See the <a href="https://hexdocs.pm/ash/3.5.32/Ash.html#stream!/2"><code class="inline">Ash.stream!/2</code></a> docs for more. The default value is <code class="inline">:keyset</code>.</li><li><code class="inline">:authorize_query?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If a query is given, determines whether or not authorization is run on that query. The default value is <code class="inline">true</code>.</li><li><code class="inline">:strategy</code> - The strategy or strategies to enable. :stream is used in all cases if the data layer does not support atomics. The default value is <code class="inline">:atomic</code>.</li><li><code class="inline">:filter</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A filter to apply to records. This is also applied to a stream of inputs.</li><li><code class="inline">:allow_stream_with</code> - The 'worst' strategy allowed to be used to fetch records. See <a href="https://hexdocs.pm/ash/3.5.32/Ash.html#stream!/2"><code class="inline">Ash.stream!/2</code></a> docs for more. The default value is <code class="inline">:keyset</code>.</li><li><code class="inline">:stream_with</code> - The specific strategy to use to fetch records. See <a href="https://hexdocs.pm/ash/3.5.32/Ash.html#stream!/2"><code class="inline">Ash.stream!/2</code></a> docs for more.</li><li><code class="inline">:max_concurrency</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">non_neg_integer/0</code></a>) - The maximum number of processes allowed to be started for parallel loading of relationships and calculations. Defaults to <code class="inline">System.schedulers_online() * 2</code></li><li><code class="inline">:lock</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A lock statement to add onto the query</li><li><code class="inline">:return_query?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If <code class="inline">true</code>, the query that was ultimately used is returned as a third tuple element.
The query goes through many potential changes during a request, potentially adding
authorization filters, or replacing relationships for other data layers with their
corresponding ids. This option can be used to get the true query that was sent to
the data layer.
The default value is <code class="inline">false</code>.</li><li><code class="inline">:reuse_values?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether calculations are allowed to reuse values that have already been loaded, or must refetch them from the data layer. The default value is <code class="inline">false</code>.</li><li><code class="inline">:strict?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If set to true, only specified attributes will be loaded when passing
  a list of fields to fetch on a relationship, which allows for more
  optimized data-fetching.
  See <a href="https://hexdocs.pm/ash/3.5.32/Ash.Query.html#load/2"><code class="inline">Ash.Query.load/2</code></a>.
The default value is <code class="inline">false</code>.</li><li><code class="inline">:authorize_with</code> - If set to <code class="inline">:error</code>, instead of applying authorization filters as a filter, any records not matching the authorization filter will cause an error to be returned. The default value is <code class="inline">:filter</code>.</li><li><code class="inline">:read_action</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - The action to use when building the read query.</li><li><code class="inline">:assume_casted?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to cast attributes and arguments as input. This is an optimization for cases where the input is already casted and/or not in need of casting The default value is <code class="inline">false</code>.</li><li><code class="inline">:select</code> (list of <a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - A select statement to apply to records. Ignored if <code class="inline">return_records?</code> is not true.</li><li><code class="inline">:authorize_query_with</code> - If set to <code class="inline">:error</code>, instead of filtering unauthorized query results, unauthorized query results will raise an appropriate forbidden error. Uses <code class="inline">authorize_with</code> if not set.</li><li><code class="inline">:authorize_changeset_with</code> - If set to <code class="inline">:error</code>, instead of filtering unauthorized changes, unauthorized changes will raise an appropriate forbidden error. Uses <code class="inline">authorize_with</code> if not set.</li><li><code class="inline">:authorize_with</code> - If set to <code class="inline">:error</code>, instead of filtering unauthorized query results, unauthorized query results will raise an appropriate forbidden error. The default value is <code class="inline">:filter</code>.</li><li><code class="inline">:private_arguments</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">map/0</code></a>) - Private argument values to set on each changeset before validations and changes are run. The default value is <code class="inline">%{}</code>.</li><li><code class="inline">:sorted?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to sort results by their input position, in cases where <code class="inline">return_records?: true</code> was provided. The default value is <code class="inline">false</code>.</li><li><code class="inline">:return_records?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to return all of the records that were inserted. Defaults to false to account for large inserts. The default value is <code class="inline">false</code>.</li><li><code class="inline">:return_errors?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether to return all errors that occur during the operation. Defaults to the value of <code class="inline">:bulk_actions_default_to_errors?</code> in your config, or <code class="inline">false</code> if not set. Returning all errors may be expensive for large inserts. The default value is <code class="inline">false</code>.</li><li><code class="inline">:batch_size</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">pos_integer/0</code></a>) - The number of records to include in each batch. Defaults to the <code class="inline">default_limit</code>
or <code class="inline">max_page_size</code> of the action, or 100.</li><li><code class="inline">:return_stream?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If set to <code class="inline">true</code>, instead of an <a href="https://hexdocs.pm/ash/3.5.32/Ash.BulkResult.html"><code class="inline">Ash.BulkResult</code></a>, a mixed stream is returned.
Potential elements:
<code class="inline">{:notification, notification}</code> - if <code class="inline">return_notifications?</code> is set to <code class="inline">true</code>
<code class="inline">{:ok, record}</code> - if <code class="inline">return_records?</code> is set to <code class="inline">true</code>
<code class="inline">{:error, error}</code> - an error that occurred. May be changeset or an individual error.
The default value is <code class="inline">false</code>.</li><li><code class="inline">:return_nothing?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Mutes warnings about returning nothing.
Only relevant if <code class="inline">return_stream?</code> is set to <code class="inline">true</code> and all other
<code class="inline">return_*?</code> options are set to <code class="inline">false</code>.
The default value is <code class="inline">false</code>.</li><li><code class="inline">:stop_on_error?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If true, the first encountered error will stop the action and be returned. Otherwise, errors
will be skipped. The default value is <code class="inline">false</code>.</li><li><code class="inline">:notify?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to generate any notifications. If this is set to <code class="inline">true</code> then the data layer must return
the results from each batch. This may be intensive for large bulk actions.
Notifications will be automatically sent unless <code class="inline">return_notifications?</code> is set to <code class="inline">true</code>.
The default value is <code class="inline">false</code>.</li><li><code class="inline">:transaction</code> - Whether or not to wrap the entire execution in a transaction, each batch, or not at all.
Keep in mind:
<code class="inline">before_transaction</code> and <code class="inline">after_transaction</code> hooks attached to changesets will have to be run
<em>inside</em> the transaction if you choose <code class="inline">transaction: :all</code>.
The default value is <code class="inline">:batch</code>.</li><li><code class="inline">:max_concurrency</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">non_neg_integer/0</code></a>) - If set to a value greater than 0, up to that many tasks will be started to run batches asynchronously The default value is <code class="inline">0</code>.</li></ul></li><li><code class="inline">:private_arguments</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">map/0</code></a>) - Private argument values to set before validations and changes. The default value is <code class="inline">%{}</code>.</li></ul>
  </section>
</section>
<section class="detail" id="form_to_bulk_create_cases/1">

    <span id="form_to_bulk_create_cases/0"></span>

  <div class="detail-header">
    <a href="#form_to_bulk_create_cases/1" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">form_to_bulk_create_cases(form_opts \\ [])</h1>


    </div>
  </div>

  <section class="docstring">

<p>Batch processing for creating multiple cases efficiently</p><h2 id="form_to_bulk_create_cases/1-options" class="section-heading"><a href="#form_to_bulk_create_cases/1-options" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Options</span></h2><ul><li><code class="inline">:actor</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - The actor performing the action. Passed through to the underlying action.</li><li><code class="inline">:scope</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A value that implements the <a href="https://hexdocs.pm/ash/3.5.32/Ash.Scope.html"><code class="inline">Ash.Scope</code></a> protocol, for passing around actor/tenant/context in a single value. See <a href="https://hexdocs.pm/ash/3.5.32/Ash.Scope.html"><code class="inline">Ash.Scope</code></a> for more.</li><li><code class="inline">:forms</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">keyword/0</code></a>) - Nested form configurations. See <code class="inline">for_create/3</code> &quot;Nested Form Options&quot; docs for more.</li><li><code class="inline">:warn_on_unhandled_errors?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Warns on any errors that don't match the form pattern of <code class="inline">{:field, &quot;message&quot;, [replacement: :vars]}</code> or implement the <a href="https://hexdocs.pm/ash_phoenix/2.3.11/AshPhoenix.FormData.Error.html"><code class="inline">AshPhoenix.FormData.Error</code></a> protocol. The default value is <code class="inline">true</code>.</li><li><code class="inline">:domain</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - The domain to use when calling the action.</li><li><code class="inline">:as</code> (<a href="https://hexdocs.pm/elixir/String.html#t:t/0"><code class="inline">String.t/0</code></a>) - The name of the form in the submitted params. You will need to pull the form params out using this key. The default value is <code class="inline">&quot;form&quot;</code>.</li><li><code class="inline">:id</code> (<a href="https://hexdocs.pm/elixir/String.html#t:t/0"><code class="inline">String.t/0</code></a>) - The html id of the form. Defaults to the value of <code class="inline">:as</code> if provided, otherwise &quot;form&quot;</li><li><code class="inline">:transform_errors</code> - Allows for manual manipulation and transformation of errors.<br/>If possible, try to implement <a href="https://hexdocs.pm/ash_phoenix/2.3.11/AshPhoenix.FormData.Error.html"><code class="inline">AshPhoenix.FormData.Error</code></a> for the error (if it as a custom one, for example).
If that isn't possible, you can provide this function which will get the changeset and the error, and should
return a list of ash phoenix formatted errors, e.g <code class="inline">[{field :: atom, message :: String.t(), substituations :: Keyword.t()}]</code><br/>Example:<pre><code class="makeup elixir" translate="no"><span class="nc">AshPhoenix.Form</span><span class="o">.</span><span class="n">for_create</span><span class="p" data-group-id="8257707419-1">(</span><span class="n">...</span><span class="p">,</span><span class="w"> </span><span class="ss">transform_errors</span><span class="p">:</span><span class="w"> </span><span class="k" data-group-id="8257707419-2">fn</span><span class="w">
  </span><span class="c">_changeset</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="8257707419-3">%{</span><span class="ss">field</span><span class="p">:</span><span class="w"> </span><span class="ss">:field1</span><span class="p" data-group-id="8257707419-3">}</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">error</span><span class="w"> </span><span class="o">-&gt;</span><span class="w">
    </span><span class="p" data-group-id="8257707419-4">%{</span><span class="n">error</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="ss">field</span><span class="p">:</span><span class="w"> </span><span class="ss">:field2</span><span class="p" data-group-id="8257707419-4">}</span><span class="w">  
  </span><span class="c">_changeset</span><span class="p">,</span><span class="w"> </span><span class="n">error</span><span class="w"> </span><span class="o">-&gt;</span><span class="w">
    </span><span class="n">error</span><span class="w">
</span><span class="k" data-group-id="8257707419-2">end</span></code></pre></li><li><code class="inline">:prepare_source</code> - A 1-argument function the receives the initial changeset (or query) and makes any relevant changes to it.
This can be used to do things like:  <ul><li>Set default argument values before the validations are run using <a href="https://hexdocs.pm/ash/3.5.32/Ash.Changeset.html#set_arguments/2"><code class="inline">Ash.Changeset.set_arguments/2</code></a> or <a href="https://hexdocs.pm/ash/3.5.32/Ash.Changeset.html#set_argument/3"><code class="inline">Ash.Changeset.set_argument/3</code></a></li><li>Set changeset context</li><li>Do any other pre-processing on the changeset</li></ul></li><li><code class="inline">:prepare_params</code> - A 2-argument function that receives the params map and the :validate atom and should return prepared params.
Called before the form is validated.</li><li><code class="inline">:transform_params</code> - A function for post-processing the form parameters before they are used for changeset validation/submission.
Use a 3-argument function to pattern match on the <a href="https://hexdocs.pm/ash_phoenix/2.3.11/AshPhoenix.Form.html"><code class="inline">AshPhoenix.Form</code></a> struct.</li><li><code class="inline">:method</code> (<a href="https://hexdocs.pm/elixir/String.html#t:t/0"><code class="inline">String.t/0</code></a>) - The http method to associate with the form. Defaults to <code class="inline">post</code> for creates, and <code class="inline">put</code> for everything else.</li><li><code class="inline">:exclude_fields_if_empty</code> - These fields will be ignored if they are empty strings.<br/>This list of fields supports dead view forms. When a form is submitted from dead view
empty fields are submitted as empty strings. This is problematic for fields that allow_nil
or those that have default values.</li><li><code class="inline">:tenant</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - The current tenant. Passed through to the underlying action.</li><li><code class="inline">:params</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - The initial parameters to use for the form. This is useful for setting up a form with default values. The default value is <code class="inline">%{}</code>.
Any <em>additional</em> options will be passed to the underlying call to build the source, i.e
<a href="https://hexdocs.pm/ash/3.5.32/Ash.ActionInput.html#for_action/4"><code class="inline">Ash.ActionInput.for_action/4</code></a>, or <code class="inline">Ash.Changeset.for_*</code>. This means you can set things
like the tenant/actor. These will be retained, and provided again when
<code class="inline">Form.submit/3</code> is called.</li></ul><h2 id="form_to_bulk_create_cases/1-nested-form-options" class="section-heading"><a href="#form_to_bulk_create_cases/1-nested-form-options" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Nested Form Options</span></h2><ul><li><code class="inline">:type</code> - The cardinality of the nested form - <code class="inline">:list</code> or <code class="inline">:single</code>. Valid values are :list, :single The default value is <code class="inline">:single</code>.</li><li><code class="inline">:sparse?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If the nested form is <code class="inline">sparse</code>, the form won't expect all inputs for all forms to be present.<br/>Has no effect if the type is <code class="inline">:single</code>.<br/>Normally, if you leave some forms out of a list of nested forms, they are removed from the parameters
passed to the action. For example, if you had a <code class="inline">post</code> with two comments <code class="inline">[%Comment{id: 1}, %Comment{id: 2}]</code>
and you passed down params like <code class="inline">comments[0][id]=1&amp;comments[1][text]=new_text</code>, we would remove the second comment
from the input parameters, resulting in the following being passed into the action: <code class="inline">%{&quot;comments&quot; =&gt; [%{&quot;id&quot; =&gt; 1, &quot;text&quot; =&gt; &quot;new&quot;}]}</code>.
By setting it to sparse, you have to explicitly use <code class="inline">remove_form</code> for that removal to happen. So in the same scenario above, the parameters
that would be sent would actually be <code class="inline">%{&quot;comments&quot; =&gt; [%{&quot;id&quot; =&gt; 1, &quot;text&quot; =&gt; &quot;new&quot;}, %{&quot;id&quot; =&gt; 2}]}</code>.<br/>One major difference with <code class="inline">sparse?</code> is that the form actually ignores the <em>index</em> provided, e.g <code class="inline">comments[0]...</code>, and instead uses the primary
key e.g <code class="inline">comments[0][id]</code> to match which form is being updated. This prevents you from having to find the index of the specific item you want to
update. Which could be very gnarly on deeply nested forms. If there is no primary key, or the primary key does not match anything, it is treated
as a new form.<br/>REMEMBER: You need to use <code class="inline">Phoenix.Components.inputs_for</code> to render the nested forms, or manually add hidden inputs using
<code class="inline">hidden_inputs_for</code> (or <code class="inline">HiddenInputs</code> if using Surface) for the id to be automatically placed into the form.</li><li><code class="inline">:forms</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">keyword/0</code></a>) - Forms nested inside the current nesting level in all cases.</li><li><code class="inline">:for_type</code> - What action types the form applies for. Leave blank for it to apply to all action types. Valid values are :read, :create, :update</li><li><code class="inline">:merge?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - When building parameters, this input will be merged with its parent input. This allows for combining multiple forms into a single input. The default value is <code class="inline">false</code>.</li><li><code class="inline">:for</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - When creating parameters for the action, the key that the forms should be gathered into. Defaults to the key used to configure the nested form. Ignored if <code class="inline">merge?</code> is <code class="inline">true</code>.</li><li><code class="inline">:resource</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - The resource of the nested forms. Unnecessary if you are providing the <code class="inline">data</code> key, and not adding additional forms to this path.</li><li><code class="inline">:create_action</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - The create action to use when building new forms. Only necessary if you want to use <code class="inline">add_form/3</code> with this path.</li><li><code class="inline">:update_action</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - The update action to use when building forms for data. Only necessary if you supply the <code class="inline">data</code> key.</li><li><code class="inline">:data</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - The current value or values that should have update forms built by default.<br/>You can also provide a single argument function that will return the data based on the
data of the parent form. This is important for multiple nesting levels of <code class="inline">:list</code> type
forms, because the data depends on which parent is being rendered.</li></ul>
  </section>
</section>
<section class="detail" id="form_to_create_agency/1">

    <span id="form_to_create_agency/0"></span>

  <div class="detail-header">
    <a href="#form_to_create_agency/1" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">form_to_create_agency(form_opts \\ [])</h1>


    </div>
  </div>

  <section class="docstring">

<p>Creates a form for the create action on EhsEnforcement.Enforcement.Agency.</p><h2 id="form_to_create_agency/1-options" class="section-heading"><a href="#form_to_create_agency/1-options" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Options</span></h2><ul><li><code class="inline">:actor</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - The actor performing the action. Passed through to the underlying action.</li><li><code class="inline">:scope</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A value that implements the <a href="https://hexdocs.pm/ash/3.5.32/Ash.Scope.html"><code class="inline">Ash.Scope</code></a> protocol, for passing around actor/tenant/context in a single value. See <a href="https://hexdocs.pm/ash/3.5.32/Ash.Scope.html"><code class="inline">Ash.Scope</code></a> for more.</li><li><code class="inline">:forms</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">keyword/0</code></a>) - Nested form configurations. See <code class="inline">for_create/3</code> &quot;Nested Form Options&quot; docs for more.</li><li><code class="inline">:warn_on_unhandled_errors?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Warns on any errors that don't match the form pattern of <code class="inline">{:field, &quot;message&quot;, [replacement: :vars]}</code> or implement the <a href="https://hexdocs.pm/ash_phoenix/2.3.11/AshPhoenix.FormData.Error.html"><code class="inline">AshPhoenix.FormData.Error</code></a> protocol. The default value is <code class="inline">true</code>.</li><li><code class="inline">:domain</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - The domain to use when calling the action.</li><li><code class="inline">:as</code> (<a href="https://hexdocs.pm/elixir/String.html#t:t/0"><code class="inline">String.t/0</code></a>) - The name of the form in the submitted params. You will need to pull the form params out using this key. The default value is <code class="inline">&quot;form&quot;</code>.</li><li><code class="inline">:id</code> (<a href="https://hexdocs.pm/elixir/String.html#t:t/0"><code class="inline">String.t/0</code></a>) - The html id of the form. Defaults to the value of <code class="inline">:as</code> if provided, otherwise &quot;form&quot;</li><li><code class="inline">:transform_errors</code> - Allows for manual manipulation and transformation of errors.<br/>If possible, try to implement <a href="https://hexdocs.pm/ash_phoenix/2.3.11/AshPhoenix.FormData.Error.html"><code class="inline">AshPhoenix.FormData.Error</code></a> for the error (if it as a custom one, for example).
If that isn't possible, you can provide this function which will get the changeset and the error, and should
return a list of ash phoenix formatted errors, e.g <code class="inline">[{field :: atom, message :: String.t(), substituations :: Keyword.t()}]</code><br/>Example:<pre><code class="makeup elixir" translate="no"><span class="nc">AshPhoenix.Form</span><span class="o">.</span><span class="n">for_create</span><span class="p" data-group-id="0486092758-1">(</span><span class="n">...</span><span class="p">,</span><span class="w"> </span><span class="ss">transform_errors</span><span class="p">:</span><span class="w"> </span><span class="k" data-group-id="0486092758-2">fn</span><span class="w">
  </span><span class="c">_changeset</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="0486092758-3">%{</span><span class="ss">field</span><span class="p">:</span><span class="w"> </span><span class="ss">:field1</span><span class="p" data-group-id="0486092758-3">}</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">error</span><span class="w"> </span><span class="o">-&gt;</span><span class="w">
    </span><span class="p" data-group-id="0486092758-4">%{</span><span class="n">error</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="ss">field</span><span class="p">:</span><span class="w"> </span><span class="ss">:field2</span><span class="p" data-group-id="0486092758-4">}</span><span class="w">  
  </span><span class="c">_changeset</span><span class="p">,</span><span class="w"> </span><span class="n">error</span><span class="w"> </span><span class="o">-&gt;</span><span class="w">
    </span><span class="n">error</span><span class="w">
</span><span class="k" data-group-id="0486092758-2">end</span></code></pre></li><li><code class="inline">:prepare_source</code> - A 1-argument function the receives the initial changeset (or query) and makes any relevant changes to it.
This can be used to do things like:  <ul><li>Set default argument values before the validations are run using <a href="https://hexdocs.pm/ash/3.5.32/Ash.Changeset.html#set_arguments/2"><code class="inline">Ash.Changeset.set_arguments/2</code></a> or <a href="https://hexdocs.pm/ash/3.5.32/Ash.Changeset.html#set_argument/3"><code class="inline">Ash.Changeset.set_argument/3</code></a></li><li>Set changeset context</li><li>Do any other pre-processing on the changeset</li></ul></li><li><code class="inline">:prepare_params</code> - A 2-argument function that receives the params map and the :validate atom and should return prepared params.
Called before the form is validated.</li><li><code class="inline">:transform_params</code> - A function for post-processing the form parameters before they are used for changeset validation/submission.
Use a 3-argument function to pattern match on the <a href="https://hexdocs.pm/ash_phoenix/2.3.11/AshPhoenix.Form.html"><code class="inline">AshPhoenix.Form</code></a> struct.</li><li><code class="inline">:method</code> (<a href="https://hexdocs.pm/elixir/String.html#t:t/0"><code class="inline">String.t/0</code></a>) - The http method to associate with the form. Defaults to <code class="inline">post</code> for creates, and <code class="inline">put</code> for everything else.</li><li><code class="inline">:exclude_fields_if_empty</code> - These fields will be ignored if they are empty strings.<br/>This list of fields supports dead view forms. When a form is submitted from dead view
empty fields are submitted as empty strings. This is problematic for fields that allow_nil
or those that have default values.</li><li><code class="inline">:tenant</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - The current tenant. Passed through to the underlying action.</li><li><code class="inline">:params</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - The initial parameters to use for the form. This is useful for setting up a form with default values. The default value is <code class="inline">%{}</code>.
Any <em>additional</em> options will be passed to the underlying call to build the source, i.e
<a href="https://hexdocs.pm/ash/3.5.32/Ash.ActionInput.html#for_action/4"><code class="inline">Ash.ActionInput.for_action/4</code></a>, or <code class="inline">Ash.Changeset.for_*</code>. This means you can set things
like the tenant/actor. These will be retained, and provided again when
<code class="inline">Form.submit/3</code> is called.</li></ul><h2 id="form_to_create_agency/1-nested-form-options" class="section-heading"><a href="#form_to_create_agency/1-nested-form-options" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Nested Form Options</span></h2><ul><li><code class="inline">:type</code> - The cardinality of the nested form - <code class="inline">:list</code> or <code class="inline">:single</code>. Valid values are :list, :single The default value is <code class="inline">:single</code>.</li><li><code class="inline">:sparse?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If the nested form is <code class="inline">sparse</code>, the form won't expect all inputs for all forms to be present.<br/>Has no effect if the type is <code class="inline">:single</code>.<br/>Normally, if you leave some forms out of a list of nested forms, they are removed from the parameters
passed to the action. For example, if you had a <code class="inline">post</code> with two comments <code class="inline">[%Comment{id: 1}, %Comment{id: 2}]</code>
and you passed down params like <code class="inline">comments[0][id]=1&amp;comments[1][text]=new_text</code>, we would remove the second comment
from the input parameters, resulting in the following being passed into the action: <code class="inline">%{&quot;comments&quot; =&gt; [%{&quot;id&quot; =&gt; 1, &quot;text&quot; =&gt; &quot;new&quot;}]}</code>.
By setting it to sparse, you have to explicitly use <code class="inline">remove_form</code> for that removal to happen. So in the same scenario above, the parameters
that would be sent would actually be <code class="inline">%{&quot;comments&quot; =&gt; [%{&quot;id&quot; =&gt; 1, &quot;text&quot; =&gt; &quot;new&quot;}, %{&quot;id&quot; =&gt; 2}]}</code>.<br/>One major difference with <code class="inline">sparse?</code> is that the form actually ignores the <em>index</em> provided, e.g <code class="inline">comments[0]...</code>, and instead uses the primary
key e.g <code class="inline">comments[0][id]</code> to match which form is being updated. This prevents you from having to find the index of the specific item you want to
update. Which could be very gnarly on deeply nested forms. If there is no primary key, or the primary key does not match anything, it is treated
as a new form.<br/>REMEMBER: You need to use <code class="inline">Phoenix.Components.inputs_for</code> to render the nested forms, or manually add hidden inputs using
<code class="inline">hidden_inputs_for</code> (or <code class="inline">HiddenInputs</code> if using Surface) for the id to be automatically placed into the form.</li><li><code class="inline">:forms</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">keyword/0</code></a>) - Forms nested inside the current nesting level in all cases.</li><li><code class="inline">:for_type</code> - What action types the form applies for. Leave blank for it to apply to all action types. Valid values are :read, :create, :update</li><li><code class="inline">:merge?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - When building parameters, this input will be merged with its parent input. This allows for combining multiple forms into a single input. The default value is <code class="inline">false</code>.</li><li><code class="inline">:for</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - When creating parameters for the action, the key that the forms should be gathered into. Defaults to the key used to configure the nested form. Ignored if <code class="inline">merge?</code> is <code class="inline">true</code>.</li><li><code class="inline">:resource</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - The resource of the nested forms. Unnecessary if you are providing the <code class="inline">data</code> key, and not adding additional forms to this path.</li><li><code class="inline">:create_action</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - The create action to use when building new forms. Only necessary if you want to use <code class="inline">add_form/3</code> with this path.</li><li><code class="inline">:update_action</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - The update action to use when building forms for data. Only necessary if you supply the <code class="inline">data</code> key.</li><li><code class="inline">:data</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - The current value or values that should have update forms built by default.<br/>You can also provide a single argument function that will return the data based on the
data of the parent form. This is important for multiple nesting levels of <code class="inline">:list</code> type
forms, because the data depends on which parent is being rendered.</li></ul>
  </section>
</section>
<section class="detail" id="form_to_create_breach/1">

    <span id="form_to_create_breach/0"></span>

  <div class="detail-header">
    <a href="#form_to_create_breach/1" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">form_to_create_breach(form_opts \\ [])</h1>


    </div>
  </div>

  <section class="docstring">

<p>Creates a form for the create action on EhsEnforcement.Enforcement.Breach.</p><h2 id="form_to_create_breach/1-options" class="section-heading"><a href="#form_to_create_breach/1-options" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Options</span></h2><ul><li><code class="inline">:actor</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - The actor performing the action. Passed through to the underlying action.</li><li><code class="inline">:scope</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A value that implements the <a href="https://hexdocs.pm/ash/3.5.32/Ash.Scope.html"><code class="inline">Ash.Scope</code></a> protocol, for passing around actor/tenant/context in a single value. See <a href="https://hexdocs.pm/ash/3.5.32/Ash.Scope.html"><code class="inline">Ash.Scope</code></a> for more.</li><li><code class="inline">:forms</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">keyword/0</code></a>) - Nested form configurations. See <code class="inline">for_create/3</code> &quot;Nested Form Options&quot; docs for more.</li><li><code class="inline">:warn_on_unhandled_errors?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Warns on any errors that don't match the form pattern of <code class="inline">{:field, &quot;message&quot;, [replacement: :vars]}</code> or implement the <a href="https://hexdocs.pm/ash_phoenix/2.3.11/AshPhoenix.FormData.Error.html"><code class="inline">AshPhoenix.FormData.Error</code></a> protocol. The default value is <code class="inline">true</code>.</li><li><code class="inline">:domain</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - The domain to use when calling the action.</li><li><code class="inline">:as</code> (<a href="https://hexdocs.pm/elixir/String.html#t:t/0"><code class="inline">String.t/0</code></a>) - The name of the form in the submitted params. You will need to pull the form params out using this key. The default value is <code class="inline">&quot;form&quot;</code>.</li><li><code class="inline">:id</code> (<a href="https://hexdocs.pm/elixir/String.html#t:t/0"><code class="inline">String.t/0</code></a>) - The html id of the form. Defaults to the value of <code class="inline">:as</code> if provided, otherwise &quot;form&quot;</li><li><code class="inline">:transform_errors</code> - Allows for manual manipulation and transformation of errors.<br/>If possible, try to implement <a href="https://hexdocs.pm/ash_phoenix/2.3.11/AshPhoenix.FormData.Error.html"><code class="inline">AshPhoenix.FormData.Error</code></a> for the error (if it as a custom one, for example).
If that isn't possible, you can provide this function which will get the changeset and the error, and should
return a list of ash phoenix formatted errors, e.g <code class="inline">[{field :: atom, message :: String.t(), substituations :: Keyword.t()}]</code><br/>Example:<pre><code class="makeup elixir" translate="no"><span class="nc">AshPhoenix.Form</span><span class="o">.</span><span class="n">for_create</span><span class="p" data-group-id="8492077498-1">(</span><span class="n">...</span><span class="p">,</span><span class="w"> </span><span class="ss">transform_errors</span><span class="p">:</span><span class="w"> </span><span class="k" data-group-id="8492077498-2">fn</span><span class="w">
  </span><span class="c">_changeset</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="8492077498-3">%{</span><span class="ss">field</span><span class="p">:</span><span class="w"> </span><span class="ss">:field1</span><span class="p" data-group-id="8492077498-3">}</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">error</span><span class="w"> </span><span class="o">-&gt;</span><span class="w">
    </span><span class="p" data-group-id="8492077498-4">%{</span><span class="n">error</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="ss">field</span><span class="p">:</span><span class="w"> </span><span class="ss">:field2</span><span class="p" data-group-id="8492077498-4">}</span><span class="w">  
  </span><span class="c">_changeset</span><span class="p">,</span><span class="w"> </span><span class="n">error</span><span class="w"> </span><span class="o">-&gt;</span><span class="w">
    </span><span class="n">error</span><span class="w">
</span><span class="k" data-group-id="8492077498-2">end</span></code></pre></li><li><code class="inline">:prepare_source</code> - A 1-argument function the receives the initial changeset (or query) and makes any relevant changes to it.
This can be used to do things like:  <ul><li>Set default argument values before the validations are run using <a href="https://hexdocs.pm/ash/3.5.32/Ash.Changeset.html#set_arguments/2"><code class="inline">Ash.Changeset.set_arguments/2</code></a> or <a href="https://hexdocs.pm/ash/3.5.32/Ash.Changeset.html#set_argument/3"><code class="inline">Ash.Changeset.set_argument/3</code></a></li><li>Set changeset context</li><li>Do any other pre-processing on the changeset</li></ul></li><li><code class="inline">:prepare_params</code> - A 2-argument function that receives the params map and the :validate atom and should return prepared params.
Called before the form is validated.</li><li><code class="inline">:transform_params</code> - A function for post-processing the form parameters before they are used for changeset validation/submission.
Use a 3-argument function to pattern match on the <a href="https://hexdocs.pm/ash_phoenix/2.3.11/AshPhoenix.Form.html"><code class="inline">AshPhoenix.Form</code></a> struct.</li><li><code class="inline">:method</code> (<a href="https://hexdocs.pm/elixir/String.html#t:t/0"><code class="inline">String.t/0</code></a>) - The http method to associate with the form. Defaults to <code class="inline">post</code> for creates, and <code class="inline">put</code> for everything else.</li><li><code class="inline">:exclude_fields_if_empty</code> - These fields will be ignored if they are empty strings.<br/>This list of fields supports dead view forms. When a form is submitted from dead view
empty fields are submitted as empty strings. This is problematic for fields that allow_nil
or those that have default values.</li><li><code class="inline">:tenant</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - The current tenant. Passed through to the underlying action.</li><li><code class="inline">:params</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - The initial parameters to use for the form. This is useful for setting up a form with default values. The default value is <code class="inline">%{}</code>.
Any <em>additional</em> options will be passed to the underlying call to build the source, i.e
<a href="https://hexdocs.pm/ash/3.5.32/Ash.ActionInput.html#for_action/4"><code class="inline">Ash.ActionInput.for_action/4</code></a>, or <code class="inline">Ash.Changeset.for_*</code>. This means you can set things
like the tenant/actor. These will be retained, and provided again when
<code class="inline">Form.submit/3</code> is called.</li></ul><h2 id="form_to_create_breach/1-nested-form-options" class="section-heading"><a href="#form_to_create_breach/1-nested-form-options" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Nested Form Options</span></h2><ul><li><code class="inline">:type</code> - The cardinality of the nested form - <code class="inline">:list</code> or <code class="inline">:single</code>. Valid values are :list, :single The default value is <code class="inline">:single</code>.</li><li><code class="inline">:sparse?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If the nested form is <code class="inline">sparse</code>, the form won't expect all inputs for all forms to be present.<br/>Has no effect if the type is <code class="inline">:single</code>.<br/>Normally, if you leave some forms out of a list of nested forms, they are removed from the parameters
passed to the action. For example, if you had a <code class="inline">post</code> with two comments <code class="inline">[%Comment{id: 1}, %Comment{id: 2}]</code>
and you passed down params like <code class="inline">comments[0][id]=1&amp;comments[1][text]=new_text</code>, we would remove the second comment
from the input parameters, resulting in the following being passed into the action: <code class="inline">%{&quot;comments&quot; =&gt; [%{&quot;id&quot; =&gt; 1, &quot;text&quot; =&gt; &quot;new&quot;}]}</code>.
By setting it to sparse, you have to explicitly use <code class="inline">remove_form</code> for that removal to happen. So in the same scenario above, the parameters
that would be sent would actually be <code class="inline">%{&quot;comments&quot; =&gt; [%{&quot;id&quot; =&gt; 1, &quot;text&quot; =&gt; &quot;new&quot;}, %{&quot;id&quot; =&gt; 2}]}</code>.<br/>One major difference with <code class="inline">sparse?</code> is that the form actually ignores the <em>index</em> provided, e.g <code class="inline">comments[0]...</code>, and instead uses the primary
key e.g <code class="inline">comments[0][id]</code> to match which form is being updated. This prevents you from having to find the index of the specific item you want to
update. Which could be very gnarly on deeply nested forms. If there is no primary key, or the primary key does not match anything, it is treated
as a new form.<br/>REMEMBER: You need to use <code class="inline">Phoenix.Components.inputs_for</code> to render the nested forms, or manually add hidden inputs using
<code class="inline">hidden_inputs_for</code> (or <code class="inline">HiddenInputs</code> if using Surface) for the id to be automatically placed into the form.</li><li><code class="inline">:forms</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">keyword/0</code></a>) - Forms nested inside the current nesting level in all cases.</li><li><code class="inline">:for_type</code> - What action types the form applies for. Leave blank for it to apply to all action types. Valid values are :read, :create, :update</li><li><code class="inline">:merge?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - When building parameters, this input will be merged with its parent input. This allows for combining multiple forms into a single input. The default value is <code class="inline">false</code>.</li><li><code class="inline">:for</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - When creating parameters for the action, the key that the forms should be gathered into. Defaults to the key used to configure the nested form. Ignored if <code class="inline">merge?</code> is <code class="inline">true</code>.</li><li><code class="inline">:resource</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - The resource of the nested forms. Unnecessary if you are providing the <code class="inline">data</code> key, and not adding additional forms to this path.</li><li><code class="inline">:create_action</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - The create action to use when building new forms. Only necessary if you want to use <code class="inline">add_form/3</code> with this path.</li><li><code class="inline">:update_action</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - The update action to use when building forms for data. Only necessary if you supply the <code class="inline">data</code> key.</li><li><code class="inline">:data</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - The current value or values that should have update forms built by default.<br/>You can also provide a single argument function that will return the data based on the
data of the parent form. This is important for multiple nesting levels of <code class="inline">:list</code> type
forms, because the data depends on which parent is being rendered.</li></ul>
  </section>
</section>
<section class="detail" id="form_to_create_case/1">

    <span id="form_to_create_case/0"></span>

  <div class="detail-header">
    <a href="#form_to_create_case/1" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">form_to_create_case(form_opts \\ [])</h1>


    </div>
  </div>

  <section class="docstring">

<p>Creates a form for the create action on EhsEnforcement.Enforcement.Case.</p><h2 id="form_to_create_case/1-options" class="section-heading"><a href="#form_to_create_case/1-options" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Options</span></h2><ul><li><code class="inline">:actor</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - The actor performing the action. Passed through to the underlying action.</li><li><code class="inline">:scope</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A value that implements the <a href="https://hexdocs.pm/ash/3.5.32/Ash.Scope.html"><code class="inline">Ash.Scope</code></a> protocol, for passing around actor/tenant/context in a single value. See <a href="https://hexdocs.pm/ash/3.5.32/Ash.Scope.html"><code class="inline">Ash.Scope</code></a> for more.</li><li><code class="inline">:forms</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">keyword/0</code></a>) - Nested form configurations. See <code class="inline">for_create/3</code> &quot;Nested Form Options&quot; docs for more.</li><li><code class="inline">:warn_on_unhandled_errors?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Warns on any errors that don't match the form pattern of <code class="inline">{:field, &quot;message&quot;, [replacement: :vars]}</code> or implement the <a href="https://hexdocs.pm/ash_phoenix/2.3.11/AshPhoenix.FormData.Error.html"><code class="inline">AshPhoenix.FormData.Error</code></a> protocol. The default value is <code class="inline">true</code>.</li><li><code class="inline">:domain</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - The domain to use when calling the action.</li><li><code class="inline">:as</code> (<a href="https://hexdocs.pm/elixir/String.html#t:t/0"><code class="inline">String.t/0</code></a>) - The name of the form in the submitted params. You will need to pull the form params out using this key. The default value is <code class="inline">&quot;form&quot;</code>.</li><li><code class="inline">:id</code> (<a href="https://hexdocs.pm/elixir/String.html#t:t/0"><code class="inline">String.t/0</code></a>) - The html id of the form. Defaults to the value of <code class="inline">:as</code> if provided, otherwise &quot;form&quot;</li><li><code class="inline">:transform_errors</code> - Allows for manual manipulation and transformation of errors.<br/>If possible, try to implement <a href="https://hexdocs.pm/ash_phoenix/2.3.11/AshPhoenix.FormData.Error.html"><code class="inline">AshPhoenix.FormData.Error</code></a> for the error (if it as a custom one, for example).
If that isn't possible, you can provide this function which will get the changeset and the error, and should
return a list of ash phoenix formatted errors, e.g <code class="inline">[{field :: atom, message :: String.t(), substituations :: Keyword.t()}]</code><br/>Example:<pre><code class="makeup elixir" translate="no"><span class="nc">AshPhoenix.Form</span><span class="o">.</span><span class="n">for_create</span><span class="p" data-group-id="2202742711-1">(</span><span class="n">...</span><span class="p">,</span><span class="w"> </span><span class="ss">transform_errors</span><span class="p">:</span><span class="w"> </span><span class="k" data-group-id="2202742711-2">fn</span><span class="w">
  </span><span class="c">_changeset</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="2202742711-3">%{</span><span class="ss">field</span><span class="p">:</span><span class="w"> </span><span class="ss">:field1</span><span class="p" data-group-id="2202742711-3">}</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">error</span><span class="w"> </span><span class="o">-&gt;</span><span class="w">
    </span><span class="p" data-group-id="2202742711-4">%{</span><span class="n">error</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="ss">field</span><span class="p">:</span><span class="w"> </span><span class="ss">:field2</span><span class="p" data-group-id="2202742711-4">}</span><span class="w">  
  </span><span class="c">_changeset</span><span class="p">,</span><span class="w"> </span><span class="n">error</span><span class="w"> </span><span class="o">-&gt;</span><span class="w">
    </span><span class="n">error</span><span class="w">
</span><span class="k" data-group-id="2202742711-2">end</span></code></pre></li><li><code class="inline">:prepare_source</code> - A 1-argument function the receives the initial changeset (or query) and makes any relevant changes to it.
This can be used to do things like:  <ul><li>Set default argument values before the validations are run using <a href="https://hexdocs.pm/ash/3.5.32/Ash.Changeset.html#set_arguments/2"><code class="inline">Ash.Changeset.set_arguments/2</code></a> or <a href="https://hexdocs.pm/ash/3.5.32/Ash.Changeset.html#set_argument/3"><code class="inline">Ash.Changeset.set_argument/3</code></a></li><li>Set changeset context</li><li>Do any other pre-processing on the changeset</li></ul></li><li><code class="inline">:prepare_params</code> - A 2-argument function that receives the params map and the :validate atom and should return prepared params.
Called before the form is validated.</li><li><code class="inline">:transform_params</code> - A function for post-processing the form parameters before they are used for changeset validation/submission.
Use a 3-argument function to pattern match on the <a href="https://hexdocs.pm/ash_phoenix/2.3.11/AshPhoenix.Form.html"><code class="inline">AshPhoenix.Form</code></a> struct.</li><li><code class="inline">:method</code> (<a href="https://hexdocs.pm/elixir/String.html#t:t/0"><code class="inline">String.t/0</code></a>) - The http method to associate with the form. Defaults to <code class="inline">post</code> for creates, and <code class="inline">put</code> for everything else.</li><li><code class="inline">:exclude_fields_if_empty</code> - These fields will be ignored if they are empty strings.<br/>This list of fields supports dead view forms. When a form is submitted from dead view
empty fields are submitted as empty strings. This is problematic for fields that allow_nil
or those that have default values.</li><li><code class="inline">:tenant</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - The current tenant. Passed through to the underlying action.</li><li><code class="inline">:params</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - The initial parameters to use for the form. This is useful for setting up a form with default values. The default value is <code class="inline">%{}</code>.
Any <em>additional</em> options will be passed to the underlying call to build the source, i.e
<a href="https://hexdocs.pm/ash/3.5.32/Ash.ActionInput.html#for_action/4"><code class="inline">Ash.ActionInput.for_action/4</code></a>, or <code class="inline">Ash.Changeset.for_*</code>. This means you can set things
like the tenant/actor. These will be retained, and provided again when
<code class="inline">Form.submit/3</code> is called.</li></ul><h2 id="form_to_create_case/1-nested-form-options" class="section-heading"><a href="#form_to_create_case/1-nested-form-options" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Nested Form Options</span></h2><ul><li><code class="inline">:type</code> - The cardinality of the nested form - <code class="inline">:list</code> or <code class="inline">:single</code>. Valid values are :list, :single The default value is <code class="inline">:single</code>.</li><li><code class="inline">:sparse?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If the nested form is <code class="inline">sparse</code>, the form won't expect all inputs for all forms to be present.<br/>Has no effect if the type is <code class="inline">:single</code>.<br/>Normally, if you leave some forms out of a list of nested forms, they are removed from the parameters
passed to the action. For example, if you had a <code class="inline">post</code> with two comments <code class="inline">[%Comment{id: 1}, %Comment{id: 2}]</code>
and you passed down params like <code class="inline">comments[0][id]=1&amp;comments[1][text]=new_text</code>, we would remove the second comment
from the input parameters, resulting in the following being passed into the action: <code class="inline">%{&quot;comments&quot; =&gt; [%{&quot;id&quot; =&gt; 1, &quot;text&quot; =&gt; &quot;new&quot;}]}</code>.
By setting it to sparse, you have to explicitly use <code class="inline">remove_form</code> for that removal to happen. So in the same scenario above, the parameters
that would be sent would actually be <code class="inline">%{&quot;comments&quot; =&gt; [%{&quot;id&quot; =&gt; 1, &quot;text&quot; =&gt; &quot;new&quot;}, %{&quot;id&quot; =&gt; 2}]}</code>.<br/>One major difference with <code class="inline">sparse?</code> is that the form actually ignores the <em>index</em> provided, e.g <code class="inline">comments[0]...</code>, and instead uses the primary
key e.g <code class="inline">comments[0][id]</code> to match which form is being updated. This prevents you from having to find the index of the specific item you want to
update. Which could be very gnarly on deeply nested forms. If there is no primary key, or the primary key does not match anything, it is treated
as a new form.<br/>REMEMBER: You need to use <code class="inline">Phoenix.Components.inputs_for</code> to render the nested forms, or manually add hidden inputs using
<code class="inline">hidden_inputs_for</code> (or <code class="inline">HiddenInputs</code> if using Surface) for the id to be automatically placed into the form.</li><li><code class="inline">:forms</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">keyword/0</code></a>) - Forms nested inside the current nesting level in all cases.</li><li><code class="inline">:for_type</code> - What action types the form applies for. Leave blank for it to apply to all action types. Valid values are :read, :create, :update</li><li><code class="inline">:merge?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - When building parameters, this input will be merged with its parent input. This allows for combining multiple forms into a single input. The default value is <code class="inline">false</code>.</li><li><code class="inline">:for</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - When creating parameters for the action, the key that the forms should be gathered into. Defaults to the key used to configure the nested form. Ignored if <code class="inline">merge?</code> is <code class="inline">true</code>.</li><li><code class="inline">:resource</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - The resource of the nested forms. Unnecessary if you are providing the <code class="inline">data</code> key, and not adding additional forms to this path.</li><li><code class="inline">:create_action</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - The create action to use when building new forms. Only necessary if you want to use <code class="inline">add_form/3</code> with this path.</li><li><code class="inline">:update_action</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - The update action to use when building forms for data. Only necessary if you supply the <code class="inline">data</code> key.</li><li><code class="inline">:data</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - The current value or values that should have update forms built by default.<br/>You can also provide a single argument function that will return the data based on the
data of the parent form. This is important for multiple nesting levels of <code class="inline">:list</code> type
forms, because the data depends on which parent is being rendered.</li></ul>
  </section>
</section>
<section class="detail" id="form_to_create_notice/1">

    <span id="form_to_create_notice/0"></span>

  <div class="detail-header">
    <a href="#form_to_create_notice/1" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">form_to_create_notice(form_opts \\ [])</h1>


    </div>
  </div>

  <section class="docstring">

<p>Creates a form for the create action on EhsEnforcement.Enforcement.Notice.</p><h2 id="form_to_create_notice/1-options" class="section-heading"><a href="#form_to_create_notice/1-options" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Options</span></h2><ul><li><code class="inline">:actor</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - The actor performing the action. Passed through to the underlying action.</li><li><code class="inline">:scope</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A value that implements the <a href="https://hexdocs.pm/ash/3.5.32/Ash.Scope.html"><code class="inline">Ash.Scope</code></a> protocol, for passing around actor/tenant/context in a single value. See <a href="https://hexdocs.pm/ash/3.5.32/Ash.Scope.html"><code class="inline">Ash.Scope</code></a> for more.</li><li><code class="inline">:forms</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">keyword/0</code></a>) - Nested form configurations. See <code class="inline">for_create/3</code> &quot;Nested Form Options&quot; docs for more.</li><li><code class="inline">:warn_on_unhandled_errors?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Warns on any errors that don't match the form pattern of <code class="inline">{:field, &quot;message&quot;, [replacement: :vars]}</code> or implement the <a href="https://hexdocs.pm/ash_phoenix/2.3.11/AshPhoenix.FormData.Error.html"><code class="inline">AshPhoenix.FormData.Error</code></a> protocol. The default value is <code class="inline">true</code>.</li><li><code class="inline">:domain</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - The domain to use when calling the action.</li><li><code class="inline">:as</code> (<a href="https://hexdocs.pm/elixir/String.html#t:t/0"><code class="inline">String.t/0</code></a>) - The name of the form in the submitted params. You will need to pull the form params out using this key. The default value is <code class="inline">&quot;form&quot;</code>.</li><li><code class="inline">:id</code> (<a href="https://hexdocs.pm/elixir/String.html#t:t/0"><code class="inline">String.t/0</code></a>) - The html id of the form. Defaults to the value of <code class="inline">:as</code> if provided, otherwise &quot;form&quot;</li><li><code class="inline">:transform_errors</code> - Allows for manual manipulation and transformation of errors.<br/>If possible, try to implement <a href="https://hexdocs.pm/ash_phoenix/2.3.11/AshPhoenix.FormData.Error.html"><code class="inline">AshPhoenix.FormData.Error</code></a> for the error (if it as a custom one, for example).
If that isn't possible, you can provide this function which will get the changeset and the error, and should
return a list of ash phoenix formatted errors, e.g <code class="inline">[{field :: atom, message :: String.t(), substituations :: Keyword.t()}]</code><br/>Example:<pre><code class="makeup elixir" translate="no"><span class="nc">AshPhoenix.Form</span><span class="o">.</span><span class="n">for_create</span><span class="p" data-group-id="3151204184-1">(</span><span class="n">...</span><span class="p">,</span><span class="w"> </span><span class="ss">transform_errors</span><span class="p">:</span><span class="w"> </span><span class="k" data-group-id="3151204184-2">fn</span><span class="w">
  </span><span class="c">_changeset</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="3151204184-3">%{</span><span class="ss">field</span><span class="p">:</span><span class="w"> </span><span class="ss">:field1</span><span class="p" data-group-id="3151204184-3">}</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">error</span><span class="w"> </span><span class="o">-&gt;</span><span class="w">
    </span><span class="p" data-group-id="3151204184-4">%{</span><span class="n">error</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="ss">field</span><span class="p">:</span><span class="w"> </span><span class="ss">:field2</span><span class="p" data-group-id="3151204184-4">}</span><span class="w">  
  </span><span class="c">_changeset</span><span class="p">,</span><span class="w"> </span><span class="n">error</span><span class="w"> </span><span class="o">-&gt;</span><span class="w">
    </span><span class="n">error</span><span class="w">
</span><span class="k" data-group-id="3151204184-2">end</span></code></pre></li><li><code class="inline">:prepare_source</code> - A 1-argument function the receives the initial changeset (or query) and makes any relevant changes to it.
This can be used to do things like:  <ul><li>Set default argument values before the validations are run using <a href="https://hexdocs.pm/ash/3.5.32/Ash.Changeset.html#set_arguments/2"><code class="inline">Ash.Changeset.set_arguments/2</code></a> or <a href="https://hexdocs.pm/ash/3.5.32/Ash.Changeset.html#set_argument/3"><code class="inline">Ash.Changeset.set_argument/3</code></a></li><li>Set changeset context</li><li>Do any other pre-processing on the changeset</li></ul></li><li><code class="inline">:prepare_params</code> - A 2-argument function that receives the params map and the :validate atom and should return prepared params.
Called before the form is validated.</li><li><code class="inline">:transform_params</code> - A function for post-processing the form parameters before they are used for changeset validation/submission.
Use a 3-argument function to pattern match on the <a href="https://hexdocs.pm/ash_phoenix/2.3.11/AshPhoenix.Form.html"><code class="inline">AshPhoenix.Form</code></a> struct.</li><li><code class="inline">:method</code> (<a href="https://hexdocs.pm/elixir/String.html#t:t/0"><code class="inline">String.t/0</code></a>) - The http method to associate with the form. Defaults to <code class="inline">post</code> for creates, and <code class="inline">put</code> for everything else.</li><li><code class="inline">:exclude_fields_if_empty</code> - These fields will be ignored if they are empty strings.<br/>This list of fields supports dead view forms. When a form is submitted from dead view
empty fields are submitted as empty strings. This is problematic for fields that allow_nil
or those that have default values.</li><li><code class="inline">:tenant</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - The current tenant. Passed through to the underlying action.</li><li><code class="inline">:params</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - The initial parameters to use for the form. This is useful for setting up a form with default values. The default value is <code class="inline">%{}</code>.
Any <em>additional</em> options will be passed to the underlying call to build the source, i.e
<a href="https://hexdocs.pm/ash/3.5.32/Ash.ActionInput.html#for_action/4"><code class="inline">Ash.ActionInput.for_action/4</code></a>, or <code class="inline">Ash.Changeset.for_*</code>. This means you can set things
like the tenant/actor. These will be retained, and provided again when
<code class="inline">Form.submit/3</code> is called.</li></ul><h2 id="form_to_create_notice/1-nested-form-options" class="section-heading"><a href="#form_to_create_notice/1-nested-form-options" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Nested Form Options</span></h2><ul><li><code class="inline">:type</code> - The cardinality of the nested form - <code class="inline">:list</code> or <code class="inline">:single</code>. Valid values are :list, :single The default value is <code class="inline">:single</code>.</li><li><code class="inline">:sparse?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If the nested form is <code class="inline">sparse</code>, the form won't expect all inputs for all forms to be present.<br/>Has no effect if the type is <code class="inline">:single</code>.<br/>Normally, if you leave some forms out of a list of nested forms, they are removed from the parameters
passed to the action. For example, if you had a <code class="inline">post</code> with two comments <code class="inline">[%Comment{id: 1}, %Comment{id: 2}]</code>
and you passed down params like <code class="inline">comments[0][id]=1&amp;comments[1][text]=new_text</code>, we would remove the second comment
from the input parameters, resulting in the following being passed into the action: <code class="inline">%{&quot;comments&quot; =&gt; [%{&quot;id&quot; =&gt; 1, &quot;text&quot; =&gt; &quot;new&quot;}]}</code>.
By setting it to sparse, you have to explicitly use <code class="inline">remove_form</code> for that removal to happen. So in the same scenario above, the parameters
that would be sent would actually be <code class="inline">%{&quot;comments&quot; =&gt; [%{&quot;id&quot; =&gt; 1, &quot;text&quot; =&gt; &quot;new&quot;}, %{&quot;id&quot; =&gt; 2}]}</code>.<br/>One major difference with <code class="inline">sparse?</code> is that the form actually ignores the <em>index</em> provided, e.g <code class="inline">comments[0]...</code>, and instead uses the primary
key e.g <code class="inline">comments[0][id]</code> to match which form is being updated. This prevents you from having to find the index of the specific item you want to
update. Which could be very gnarly on deeply nested forms. If there is no primary key, or the primary key does not match anything, it is treated
as a new form.<br/>REMEMBER: You need to use <code class="inline">Phoenix.Components.inputs_for</code> to render the nested forms, or manually add hidden inputs using
<code class="inline">hidden_inputs_for</code> (or <code class="inline">HiddenInputs</code> if using Surface) for the id to be automatically placed into the form.</li><li><code class="inline">:forms</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">keyword/0</code></a>) - Forms nested inside the current nesting level in all cases.</li><li><code class="inline">:for_type</code> - What action types the form applies for. Leave blank for it to apply to all action types. Valid values are :read, :create, :update</li><li><code class="inline">:merge?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - When building parameters, this input will be merged with its parent input. This allows for combining multiple forms into a single input. The default value is <code class="inline">false</code>.</li><li><code class="inline">:for</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - When creating parameters for the action, the key that the forms should be gathered into. Defaults to the key used to configure the nested form. Ignored if <code class="inline">merge?</code> is <code class="inline">true</code>.</li><li><code class="inline">:resource</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - The resource of the nested forms. Unnecessary if you are providing the <code class="inline">data</code> key, and not adding additional forms to this path.</li><li><code class="inline">:create_action</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - The create action to use when building new forms. Only necessary if you want to use <code class="inline">add_form/3</code> with this path.</li><li><code class="inline">:update_action</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - The update action to use when building forms for data. Only necessary if you supply the <code class="inline">data</code> key.</li><li><code class="inline">:data</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - The current value or values that should have update forms built by default.<br/>You can also provide a single argument function that will return the data based on the
data of the parent form. This is important for multiple nesting levels of <code class="inline">:list</code> type
forms, because the data depends on which parent is being rendered.</li></ul>
  </section>
</section>
<section class="detail" id="form_to_create_offender/1">

    <span id="form_to_create_offender/0"></span>

  <div class="detail-header">
    <a href="#form_to_create_offender/1" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">form_to_create_offender(form_opts \\ [])</h1>


    </div>
  </div>

  <section class="docstring">

<p>Creates a form for the create action on EhsEnforcement.Enforcement.Offender.</p><h2 id="form_to_create_offender/1-options" class="section-heading"><a href="#form_to_create_offender/1-options" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Options</span></h2><ul><li><code class="inline">:actor</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - The actor performing the action. Passed through to the underlying action.</li><li><code class="inline">:scope</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A value that implements the <a href="https://hexdocs.pm/ash/3.5.32/Ash.Scope.html"><code class="inline">Ash.Scope</code></a> protocol, for passing around actor/tenant/context in a single value. See <a href="https://hexdocs.pm/ash/3.5.32/Ash.Scope.html"><code class="inline">Ash.Scope</code></a> for more.</li><li><code class="inline">:forms</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">keyword/0</code></a>) - Nested form configurations. See <code class="inline">for_create/3</code> &quot;Nested Form Options&quot; docs for more.</li><li><code class="inline">:warn_on_unhandled_errors?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Warns on any errors that don't match the form pattern of <code class="inline">{:field, &quot;message&quot;, [replacement: :vars]}</code> or implement the <a href="https://hexdocs.pm/ash_phoenix/2.3.11/AshPhoenix.FormData.Error.html"><code class="inline">AshPhoenix.FormData.Error</code></a> protocol. The default value is <code class="inline">true</code>.</li><li><code class="inline">:domain</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - The domain to use when calling the action.</li><li><code class="inline">:as</code> (<a href="https://hexdocs.pm/elixir/String.html#t:t/0"><code class="inline">String.t/0</code></a>) - The name of the form in the submitted params. You will need to pull the form params out using this key. The default value is <code class="inline">&quot;form&quot;</code>.</li><li><code class="inline">:id</code> (<a href="https://hexdocs.pm/elixir/String.html#t:t/0"><code class="inline">String.t/0</code></a>) - The html id of the form. Defaults to the value of <code class="inline">:as</code> if provided, otherwise &quot;form&quot;</li><li><code class="inline">:transform_errors</code> - Allows for manual manipulation and transformation of errors.<br/>If possible, try to implement <a href="https://hexdocs.pm/ash_phoenix/2.3.11/AshPhoenix.FormData.Error.html"><code class="inline">AshPhoenix.FormData.Error</code></a> for the error (if it as a custom one, for example).
If that isn't possible, you can provide this function which will get the changeset and the error, and should
return a list of ash phoenix formatted errors, e.g <code class="inline">[{field :: atom, message :: String.t(), substituations :: Keyword.t()}]</code><br/>Example:<pre><code class="makeup elixir" translate="no"><span class="nc">AshPhoenix.Form</span><span class="o">.</span><span class="n">for_create</span><span class="p" data-group-id="5803385161-1">(</span><span class="n">...</span><span class="p">,</span><span class="w"> </span><span class="ss">transform_errors</span><span class="p">:</span><span class="w"> </span><span class="k" data-group-id="5803385161-2">fn</span><span class="w">
  </span><span class="c">_changeset</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="5803385161-3">%{</span><span class="ss">field</span><span class="p">:</span><span class="w"> </span><span class="ss">:field1</span><span class="p" data-group-id="5803385161-3">}</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">error</span><span class="w"> </span><span class="o">-&gt;</span><span class="w">
    </span><span class="p" data-group-id="5803385161-4">%{</span><span class="n">error</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="ss">field</span><span class="p">:</span><span class="w"> </span><span class="ss">:field2</span><span class="p" data-group-id="5803385161-4">}</span><span class="w">  
  </span><span class="c">_changeset</span><span class="p">,</span><span class="w"> </span><span class="n">error</span><span class="w"> </span><span class="o">-&gt;</span><span class="w">
    </span><span class="n">error</span><span class="w">
</span><span class="k" data-group-id="5803385161-2">end</span></code></pre></li><li><code class="inline">:prepare_source</code> - A 1-argument function the receives the initial changeset (or query) and makes any relevant changes to it.
This can be used to do things like:  <ul><li>Set default argument values before the validations are run using <a href="https://hexdocs.pm/ash/3.5.32/Ash.Changeset.html#set_arguments/2"><code class="inline">Ash.Changeset.set_arguments/2</code></a> or <a href="https://hexdocs.pm/ash/3.5.32/Ash.Changeset.html#set_argument/3"><code class="inline">Ash.Changeset.set_argument/3</code></a></li><li>Set changeset context</li><li>Do any other pre-processing on the changeset</li></ul></li><li><code class="inline">:prepare_params</code> - A 2-argument function that receives the params map and the :validate atom and should return prepared params.
Called before the form is validated.</li><li><code class="inline">:transform_params</code> - A function for post-processing the form parameters before they are used for changeset validation/submission.
Use a 3-argument function to pattern match on the <a href="https://hexdocs.pm/ash_phoenix/2.3.11/AshPhoenix.Form.html"><code class="inline">AshPhoenix.Form</code></a> struct.</li><li><code class="inline">:method</code> (<a href="https://hexdocs.pm/elixir/String.html#t:t/0"><code class="inline">String.t/0</code></a>) - The http method to associate with the form. Defaults to <code class="inline">post</code> for creates, and <code class="inline">put</code> for everything else.</li><li><code class="inline">:exclude_fields_if_empty</code> - These fields will be ignored if they are empty strings.<br/>This list of fields supports dead view forms. When a form is submitted from dead view
empty fields are submitted as empty strings. This is problematic for fields that allow_nil
or those that have default values.</li><li><code class="inline">:tenant</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - The current tenant. Passed through to the underlying action.</li><li><code class="inline">:params</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - The initial parameters to use for the form. This is useful for setting up a form with default values. The default value is <code class="inline">%{}</code>.
Any <em>additional</em> options will be passed to the underlying call to build the source, i.e
<a href="https://hexdocs.pm/ash/3.5.32/Ash.ActionInput.html#for_action/4"><code class="inline">Ash.ActionInput.for_action/4</code></a>, or <code class="inline">Ash.Changeset.for_*</code>. This means you can set things
like the tenant/actor. These will be retained, and provided again when
<code class="inline">Form.submit/3</code> is called.</li></ul><h2 id="form_to_create_offender/1-nested-form-options" class="section-heading"><a href="#form_to_create_offender/1-nested-form-options" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Nested Form Options</span></h2><ul><li><code class="inline">:type</code> - The cardinality of the nested form - <code class="inline">:list</code> or <code class="inline">:single</code>. Valid values are :list, :single The default value is <code class="inline">:single</code>.</li><li><code class="inline">:sparse?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If the nested form is <code class="inline">sparse</code>, the form won't expect all inputs for all forms to be present.<br/>Has no effect if the type is <code class="inline">:single</code>.<br/>Normally, if you leave some forms out of a list of nested forms, they are removed from the parameters
passed to the action. For example, if you had a <code class="inline">post</code> with two comments <code class="inline">[%Comment{id: 1}, %Comment{id: 2}]</code>
and you passed down params like <code class="inline">comments[0][id]=1&amp;comments[1][text]=new_text</code>, we would remove the second comment
from the input parameters, resulting in the following being passed into the action: <code class="inline">%{&quot;comments&quot; =&gt; [%{&quot;id&quot; =&gt; 1, &quot;text&quot; =&gt; &quot;new&quot;}]}</code>.
By setting it to sparse, you have to explicitly use <code class="inline">remove_form</code> for that removal to happen. So in the same scenario above, the parameters
that would be sent would actually be <code class="inline">%{&quot;comments&quot; =&gt; [%{&quot;id&quot; =&gt; 1, &quot;text&quot; =&gt; &quot;new&quot;}, %{&quot;id&quot; =&gt; 2}]}</code>.<br/>One major difference with <code class="inline">sparse?</code> is that the form actually ignores the <em>index</em> provided, e.g <code class="inline">comments[0]...</code>, and instead uses the primary
key e.g <code class="inline">comments[0][id]</code> to match which form is being updated. This prevents you from having to find the index of the specific item you want to
update. Which could be very gnarly on deeply nested forms. If there is no primary key, or the primary key does not match anything, it is treated
as a new form.<br/>REMEMBER: You need to use <code class="inline">Phoenix.Components.inputs_for</code> to render the nested forms, or manually add hidden inputs using
<code class="inline">hidden_inputs_for</code> (or <code class="inline">HiddenInputs</code> if using Surface) for the id to be automatically placed into the form.</li><li><code class="inline">:forms</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">keyword/0</code></a>) - Forms nested inside the current nesting level in all cases.</li><li><code class="inline">:for_type</code> - What action types the form applies for. Leave blank for it to apply to all action types. Valid values are :read, :create, :update</li><li><code class="inline">:merge?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - When building parameters, this input will be merged with its parent input. This allows for combining multiple forms into a single input. The default value is <code class="inline">false</code>.</li><li><code class="inline">:for</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - When creating parameters for the action, the key that the forms should be gathered into. Defaults to the key used to configure the nested form. Ignored if <code class="inline">merge?</code> is <code class="inline">true</code>.</li><li><code class="inline">:resource</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - The resource of the nested forms. Unnecessary if you are providing the <code class="inline">data</code> key, and not adding additional forms to this path.</li><li><code class="inline">:create_action</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - The create action to use when building new forms. Only necessary if you want to use <code class="inline">add_form/3</code> with this path.</li><li><code class="inline">:update_action</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - The update action to use when building forms for data. Only necessary if you supply the <code class="inline">data</code> key.</li><li><code class="inline">:data</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - The current value or values that should have update forms built by default.<br/>You can also provide a single argument function that will return the data based on the
data of the parent form. This is important for multiple nesting levels of <code class="inline">:list</code> type
forms, because the data depends on which parent is being rendered.</li></ul>
  </section>
</section>
<section class="detail" id="form_to_destroy_case/2">

    <span id="form_to_destroy_case/1"></span>

  <div class="detail-header">
    <a href="#form_to_destroy_case/2" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">form_to_destroy_case(record, form_opts \\ [])</h1>


    </div>
  </div>

  <section class="docstring">

<p>Creates a form for the destroy action on EhsEnforcement.Enforcement.Case.</p><h2 id="form_to_destroy_case/2-options" class="section-heading"><a href="#form_to_destroy_case/2-options" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Options</span></h2><ul><li><code class="inline">:actor</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - The actor performing the action. Passed through to the underlying action.</li><li><code class="inline">:scope</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A value that implements the <a href="https://hexdocs.pm/ash/3.5.32/Ash.Scope.html"><code class="inline">Ash.Scope</code></a> protocol, for passing around actor/tenant/context in a single value. See <a href="https://hexdocs.pm/ash/3.5.32/Ash.Scope.html"><code class="inline">Ash.Scope</code></a> for more.</li><li><code class="inline">:forms</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">keyword/0</code></a>) - Nested form configurations. See <code class="inline">for_create/3</code> &quot;Nested Form Options&quot; docs for more.</li><li><code class="inline">:warn_on_unhandled_errors?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Warns on any errors that don't match the form pattern of <code class="inline">{:field, &quot;message&quot;, [replacement: :vars]}</code> or implement the <a href="https://hexdocs.pm/ash_phoenix/2.3.11/AshPhoenix.FormData.Error.html"><code class="inline">AshPhoenix.FormData.Error</code></a> protocol. The default value is <code class="inline">true</code>.</li><li><code class="inline">:domain</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - The domain to use when calling the action.</li><li><code class="inline">:as</code> (<a href="https://hexdocs.pm/elixir/String.html#t:t/0"><code class="inline">String.t/0</code></a>) - The name of the form in the submitted params. You will need to pull the form params out using this key. The default value is <code class="inline">&quot;form&quot;</code>.</li><li><code class="inline">:id</code> (<a href="https://hexdocs.pm/elixir/String.html#t:t/0"><code class="inline">String.t/0</code></a>) - The html id of the form. Defaults to the value of <code class="inline">:as</code> if provided, otherwise &quot;form&quot;</li><li><code class="inline">:transform_errors</code> - Allows for manual manipulation and transformation of errors.<br/>If possible, try to implement <a href="https://hexdocs.pm/ash_phoenix/2.3.11/AshPhoenix.FormData.Error.html"><code class="inline">AshPhoenix.FormData.Error</code></a> for the error (if it as a custom one, for example).
If that isn't possible, you can provide this function which will get the changeset and the error, and should
return a list of ash phoenix formatted errors, e.g <code class="inline">[{field :: atom, message :: String.t(), substituations :: Keyword.t()}]</code><br/>Example:<pre><code class="makeup elixir" translate="no"><span class="nc">AshPhoenix.Form</span><span class="o">.</span><span class="n">for_create</span><span class="p" data-group-id="7791712688-1">(</span><span class="n">...</span><span class="p">,</span><span class="w"> </span><span class="ss">transform_errors</span><span class="p">:</span><span class="w"> </span><span class="k" data-group-id="7791712688-2">fn</span><span class="w">
  </span><span class="c">_changeset</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="7791712688-3">%{</span><span class="ss">field</span><span class="p">:</span><span class="w"> </span><span class="ss">:field1</span><span class="p" data-group-id="7791712688-3">}</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">error</span><span class="w"> </span><span class="o">-&gt;</span><span class="w">
    </span><span class="p" data-group-id="7791712688-4">%{</span><span class="n">error</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="ss">field</span><span class="p">:</span><span class="w"> </span><span class="ss">:field2</span><span class="p" data-group-id="7791712688-4">}</span><span class="w">  
  </span><span class="c">_changeset</span><span class="p">,</span><span class="w"> </span><span class="n">error</span><span class="w"> </span><span class="o">-&gt;</span><span class="w">
    </span><span class="n">error</span><span class="w">
</span><span class="k" data-group-id="7791712688-2">end</span></code></pre></li><li><code class="inline">:prepare_source</code> - A 1-argument function the receives the initial changeset (or query) and makes any relevant changes to it.
This can be used to do things like:  <ul><li>Set default argument values before the validations are run using <a href="https://hexdocs.pm/ash/3.5.32/Ash.Changeset.html#set_arguments/2"><code class="inline">Ash.Changeset.set_arguments/2</code></a> or <a href="https://hexdocs.pm/ash/3.5.32/Ash.Changeset.html#set_argument/3"><code class="inline">Ash.Changeset.set_argument/3</code></a></li><li>Set changeset context</li><li>Do any other pre-processing on the changeset</li></ul></li><li><code class="inline">:prepare_params</code> - A 2-argument function that receives the params map and the :validate atom and should return prepared params.
Called before the form is validated.</li><li><code class="inline">:transform_params</code> - A function for post-processing the form parameters before they are used for changeset validation/submission.
Use a 3-argument function to pattern match on the <a href="https://hexdocs.pm/ash_phoenix/2.3.11/AshPhoenix.Form.html"><code class="inline">AshPhoenix.Form</code></a> struct.</li><li><code class="inline">:method</code> (<a href="https://hexdocs.pm/elixir/String.html#t:t/0"><code class="inline">String.t/0</code></a>) - The http method to associate with the form. Defaults to <code class="inline">post</code> for creates, and <code class="inline">put</code> for everything else.</li><li><code class="inline">:exclude_fields_if_empty</code> - These fields will be ignored if they are empty strings.<br/>This list of fields supports dead view forms. When a form is submitted from dead view
empty fields are submitted as empty strings. This is problematic for fields that allow_nil
or those that have default values.</li><li><code class="inline">:tenant</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - The current tenant. Passed through to the underlying action.</li><li><code class="inline">:params</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - The initial parameters to use for the form. This is useful for setting up a form with default values. The default value is <code class="inline">%{}</code>.
Any <em>additional</em> options will be passed to the underlying call to build the source, i.e
<a href="https://hexdocs.pm/ash/3.5.32/Ash.ActionInput.html#for_action/4"><code class="inline">Ash.ActionInput.for_action/4</code></a>, or <code class="inline">Ash.Changeset.for_*</code>. This means you can set things
like the tenant/actor. These will be retained, and provided again when
<code class="inline">Form.submit/3</code> is called.</li></ul><h2 id="form_to_destroy_case/2-nested-form-options" class="section-heading"><a href="#form_to_destroy_case/2-nested-form-options" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Nested Form Options</span></h2><ul><li><code class="inline">:type</code> - The cardinality of the nested form - <code class="inline">:list</code> or <code class="inline">:single</code>. Valid values are :list, :single The default value is <code class="inline">:single</code>.</li><li><code class="inline">:sparse?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If the nested form is <code class="inline">sparse</code>, the form won't expect all inputs for all forms to be present.<br/>Has no effect if the type is <code class="inline">:single</code>.<br/>Normally, if you leave some forms out of a list of nested forms, they are removed from the parameters
passed to the action. For example, if you had a <code class="inline">post</code> with two comments <code class="inline">[%Comment{id: 1}, %Comment{id: 2}]</code>
and you passed down params like <code class="inline">comments[0][id]=1&amp;comments[1][text]=new_text</code>, we would remove the second comment
from the input parameters, resulting in the following being passed into the action: <code class="inline">%{&quot;comments&quot; =&gt; [%{&quot;id&quot; =&gt; 1, &quot;text&quot; =&gt; &quot;new&quot;}]}</code>.
By setting it to sparse, you have to explicitly use <code class="inline">remove_form</code> for that removal to happen. So in the same scenario above, the parameters
that would be sent would actually be <code class="inline">%{&quot;comments&quot; =&gt; [%{&quot;id&quot; =&gt; 1, &quot;text&quot; =&gt; &quot;new&quot;}, %{&quot;id&quot; =&gt; 2}]}</code>.<br/>One major difference with <code class="inline">sparse?</code> is that the form actually ignores the <em>index</em> provided, e.g <code class="inline">comments[0]...</code>, and instead uses the primary
key e.g <code class="inline">comments[0][id]</code> to match which form is being updated. This prevents you from having to find the index of the specific item you want to
update. Which could be very gnarly on deeply nested forms. If there is no primary key, or the primary key does not match anything, it is treated
as a new form.<br/>REMEMBER: You need to use <code class="inline">Phoenix.Components.inputs_for</code> to render the nested forms, or manually add hidden inputs using
<code class="inline">hidden_inputs_for</code> (or <code class="inline">HiddenInputs</code> if using Surface) for the id to be automatically placed into the form.</li><li><code class="inline">:forms</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">keyword/0</code></a>) - Forms nested inside the current nesting level in all cases.</li><li><code class="inline">:for_type</code> - What action types the form applies for. Leave blank for it to apply to all action types. Valid values are :read, :create, :update</li><li><code class="inline">:merge?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - When building parameters, this input will be merged with its parent input. This allows for combining multiple forms into a single input. The default value is <code class="inline">false</code>.</li><li><code class="inline">:for</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - When creating parameters for the action, the key that the forms should be gathered into. Defaults to the key used to configure the nested form. Ignored if <code class="inline">merge?</code> is <code class="inline">true</code>.</li><li><code class="inline">:resource</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - The resource of the nested forms. Unnecessary if you are providing the <code class="inline">data</code> key, and not adding additional forms to this path.</li><li><code class="inline">:create_action</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - The create action to use when building new forms. Only necessary if you want to use <code class="inline">add_form/3</code> with this path.</li><li><code class="inline">:update_action</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - The update action to use when building forms for data. Only necessary if you supply the <code class="inline">data</code> key.</li><li><code class="inline">:data</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - The current value or values that should have update forms built by default.<br/>You can also provide a single argument function that will return the data based on the
data of the parent form. This is important for multiple nesting levels of <code class="inline">:list</code> type
forms, because the data depends on which parent is being rendered.</li></ul>
  </section>
</section>
<section class="detail" id="form_to_destroy_notice/2">

    <span id="form_to_destroy_notice/1"></span>

  <div class="detail-header">
    <a href="#form_to_destroy_notice/2" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">form_to_destroy_notice(record, form_opts \\ [])</h1>


    </div>
  </div>

  <section class="docstring">

<p>Creates a form for the destroy action on EhsEnforcement.Enforcement.Notice.</p><h2 id="form_to_destroy_notice/2-options" class="section-heading"><a href="#form_to_destroy_notice/2-options" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Options</span></h2><ul><li><code class="inline">:actor</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - The actor performing the action. Passed through to the underlying action.</li><li><code class="inline">:scope</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A value that implements the <a href="https://hexdocs.pm/ash/3.5.32/Ash.Scope.html"><code class="inline">Ash.Scope</code></a> protocol, for passing around actor/tenant/context in a single value. See <a href="https://hexdocs.pm/ash/3.5.32/Ash.Scope.html"><code class="inline">Ash.Scope</code></a> for more.</li><li><code class="inline">:forms</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">keyword/0</code></a>) - Nested form configurations. See <code class="inline">for_create/3</code> &quot;Nested Form Options&quot; docs for more.</li><li><code class="inline">:warn_on_unhandled_errors?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Warns on any errors that don't match the form pattern of <code class="inline">{:field, &quot;message&quot;, [replacement: :vars]}</code> or implement the <a href="https://hexdocs.pm/ash_phoenix/2.3.11/AshPhoenix.FormData.Error.html"><code class="inline">AshPhoenix.FormData.Error</code></a> protocol. The default value is <code class="inline">true</code>.</li><li><code class="inline">:domain</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - The domain to use when calling the action.</li><li><code class="inline">:as</code> (<a href="https://hexdocs.pm/elixir/String.html#t:t/0"><code class="inline">String.t/0</code></a>) - The name of the form in the submitted params. You will need to pull the form params out using this key. The default value is <code class="inline">&quot;form&quot;</code>.</li><li><code class="inline">:id</code> (<a href="https://hexdocs.pm/elixir/String.html#t:t/0"><code class="inline">String.t/0</code></a>) - The html id of the form. Defaults to the value of <code class="inline">:as</code> if provided, otherwise &quot;form&quot;</li><li><code class="inline">:transform_errors</code> - Allows for manual manipulation and transformation of errors.<br/>If possible, try to implement <a href="https://hexdocs.pm/ash_phoenix/2.3.11/AshPhoenix.FormData.Error.html"><code class="inline">AshPhoenix.FormData.Error</code></a> for the error (if it as a custom one, for example).
If that isn't possible, you can provide this function which will get the changeset and the error, and should
return a list of ash phoenix formatted errors, e.g <code class="inline">[{field :: atom, message :: String.t(), substituations :: Keyword.t()}]</code><br/>Example:<pre><code class="makeup elixir" translate="no"><span class="nc">AshPhoenix.Form</span><span class="o">.</span><span class="n">for_create</span><span class="p" data-group-id="8911182536-1">(</span><span class="n">...</span><span class="p">,</span><span class="w"> </span><span class="ss">transform_errors</span><span class="p">:</span><span class="w"> </span><span class="k" data-group-id="8911182536-2">fn</span><span class="w">
  </span><span class="c">_changeset</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="8911182536-3">%{</span><span class="ss">field</span><span class="p">:</span><span class="w"> </span><span class="ss">:field1</span><span class="p" data-group-id="8911182536-3">}</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">error</span><span class="w"> </span><span class="o">-&gt;</span><span class="w">
    </span><span class="p" data-group-id="8911182536-4">%{</span><span class="n">error</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="ss">field</span><span class="p">:</span><span class="w"> </span><span class="ss">:field2</span><span class="p" data-group-id="8911182536-4">}</span><span class="w">  
  </span><span class="c">_changeset</span><span class="p">,</span><span class="w"> </span><span class="n">error</span><span class="w"> </span><span class="o">-&gt;</span><span class="w">
    </span><span class="n">error</span><span class="w">
</span><span class="k" data-group-id="8911182536-2">end</span></code></pre></li><li><code class="inline">:prepare_source</code> - A 1-argument function the receives the initial changeset (or query) and makes any relevant changes to it.
This can be used to do things like:  <ul><li>Set default argument values before the validations are run using <a href="https://hexdocs.pm/ash/3.5.32/Ash.Changeset.html#set_arguments/2"><code class="inline">Ash.Changeset.set_arguments/2</code></a> or <a href="https://hexdocs.pm/ash/3.5.32/Ash.Changeset.html#set_argument/3"><code class="inline">Ash.Changeset.set_argument/3</code></a></li><li>Set changeset context</li><li>Do any other pre-processing on the changeset</li></ul></li><li><code class="inline">:prepare_params</code> - A 2-argument function that receives the params map and the :validate atom and should return prepared params.
Called before the form is validated.</li><li><code class="inline">:transform_params</code> - A function for post-processing the form parameters before they are used for changeset validation/submission.
Use a 3-argument function to pattern match on the <a href="https://hexdocs.pm/ash_phoenix/2.3.11/AshPhoenix.Form.html"><code class="inline">AshPhoenix.Form</code></a> struct.</li><li><code class="inline">:method</code> (<a href="https://hexdocs.pm/elixir/String.html#t:t/0"><code class="inline">String.t/0</code></a>) - The http method to associate with the form. Defaults to <code class="inline">post</code> for creates, and <code class="inline">put</code> for everything else.</li><li><code class="inline">:exclude_fields_if_empty</code> - These fields will be ignored if they are empty strings.<br/>This list of fields supports dead view forms. When a form is submitted from dead view
empty fields are submitted as empty strings. This is problematic for fields that allow_nil
or those that have default values.</li><li><code class="inline">:tenant</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - The current tenant. Passed through to the underlying action.</li><li><code class="inline">:params</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - The initial parameters to use for the form. This is useful for setting up a form with default values. The default value is <code class="inline">%{}</code>.
Any <em>additional</em> options will be passed to the underlying call to build the source, i.e
<a href="https://hexdocs.pm/ash/3.5.32/Ash.ActionInput.html#for_action/4"><code class="inline">Ash.ActionInput.for_action/4</code></a>, or <code class="inline">Ash.Changeset.for_*</code>. This means you can set things
like the tenant/actor. These will be retained, and provided again when
<code class="inline">Form.submit/3</code> is called.</li></ul><h2 id="form_to_destroy_notice/2-nested-form-options" class="section-heading"><a href="#form_to_destroy_notice/2-nested-form-options" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Nested Form Options</span></h2><ul><li><code class="inline">:type</code> - The cardinality of the nested form - <code class="inline">:list</code> or <code class="inline">:single</code>. Valid values are :list, :single The default value is <code class="inline">:single</code>.</li><li><code class="inline">:sparse?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If the nested form is <code class="inline">sparse</code>, the form won't expect all inputs for all forms to be present.<br/>Has no effect if the type is <code class="inline">:single</code>.<br/>Normally, if you leave some forms out of a list of nested forms, they are removed from the parameters
passed to the action. For example, if you had a <code class="inline">post</code> with two comments <code class="inline">[%Comment{id: 1}, %Comment{id: 2}]</code>
and you passed down params like <code class="inline">comments[0][id]=1&amp;comments[1][text]=new_text</code>, we would remove the second comment
from the input parameters, resulting in the following being passed into the action: <code class="inline">%{&quot;comments&quot; =&gt; [%{&quot;id&quot; =&gt; 1, &quot;text&quot; =&gt; &quot;new&quot;}]}</code>.
By setting it to sparse, you have to explicitly use <code class="inline">remove_form</code> for that removal to happen. So in the same scenario above, the parameters
that would be sent would actually be <code class="inline">%{&quot;comments&quot; =&gt; [%{&quot;id&quot; =&gt; 1, &quot;text&quot; =&gt; &quot;new&quot;}, %{&quot;id&quot; =&gt; 2}]}</code>.<br/>One major difference with <code class="inline">sparse?</code> is that the form actually ignores the <em>index</em> provided, e.g <code class="inline">comments[0]...</code>, and instead uses the primary
key e.g <code class="inline">comments[0][id]</code> to match which form is being updated. This prevents you from having to find the index of the specific item you want to
update. Which could be very gnarly on deeply nested forms. If there is no primary key, or the primary key does not match anything, it is treated
as a new form.<br/>REMEMBER: You need to use <code class="inline">Phoenix.Components.inputs_for</code> to render the nested forms, or manually add hidden inputs using
<code class="inline">hidden_inputs_for</code> (or <code class="inline">HiddenInputs</code> if using Surface) for the id to be automatically placed into the form.</li><li><code class="inline">:forms</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">keyword/0</code></a>) - Forms nested inside the current nesting level in all cases.</li><li><code class="inline">:for_type</code> - What action types the form applies for. Leave blank for it to apply to all action types. Valid values are :read, :create, :update</li><li><code class="inline">:merge?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - When building parameters, this input will be merged with its parent input. This allows for combining multiple forms into a single input. The default value is <code class="inline">false</code>.</li><li><code class="inline">:for</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - When creating parameters for the action, the key that the forms should be gathered into. Defaults to the key used to configure the nested form. Ignored if <code class="inline">merge?</code> is <code class="inline">true</code>.</li><li><code class="inline">:resource</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - The resource of the nested forms. Unnecessary if you are providing the <code class="inline">data</code> key, and not adding additional forms to this path.</li><li><code class="inline">:create_action</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - The create action to use when building new forms. Only necessary if you want to use <code class="inline">add_form/3</code> with this path.</li><li><code class="inline">:update_action</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - The update action to use when building forms for data. Only necessary if you supply the <code class="inline">data</code> key.</li><li><code class="inline">:data</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - The current value or values that should have update forms built by default.<br/>You can also provide a single argument function that will return the data based on the
data of the parent form. This is important for multiple nesting levels of <code class="inline">:list</code> type
forms, because the data depends on which parent is being rendered.</li></ul>
  </section>
</section>
<section class="detail" id="form_to_get_agency/1">

    <span id="form_to_get_agency/0"></span>

  <div class="detail-header">
    <a href="#form_to_get_agency/1" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">form_to_get_agency(form_opts \\ [])</h1>


    </div>
  </div>

  <section class="docstring">

<p>Creates a form for the read action on EhsEnforcement.Enforcement.Agency.</p><h2 id="form_to_get_agency/1-options" class="section-heading"><a href="#form_to_get_agency/1-options" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Options</span></h2><ul><li><code class="inline">:actor</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - The actor performing the action. Passed through to the underlying action.</li><li><code class="inline">:scope</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A value that implements the <a href="https://hexdocs.pm/ash/3.5.32/Ash.Scope.html"><code class="inline">Ash.Scope</code></a> protocol, for passing around actor/tenant/context in a single value. See <a href="https://hexdocs.pm/ash/3.5.32/Ash.Scope.html"><code class="inline">Ash.Scope</code></a> for more.</li><li><code class="inline">:forms</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">keyword/0</code></a>) - Nested form configurations. See <code class="inline">for_create/3</code> &quot;Nested Form Options&quot; docs for more.</li><li><code class="inline">:warn_on_unhandled_errors?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Warns on any errors that don't match the form pattern of <code class="inline">{:field, &quot;message&quot;, [replacement: :vars]}</code> or implement the <a href="https://hexdocs.pm/ash_phoenix/2.3.11/AshPhoenix.FormData.Error.html"><code class="inline">AshPhoenix.FormData.Error</code></a> protocol. The default value is <code class="inline">true</code>.</li><li><code class="inline">:domain</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - The domain to use when calling the action.</li><li><code class="inline">:as</code> (<a href="https://hexdocs.pm/elixir/String.html#t:t/0"><code class="inline">String.t/0</code></a>) - The name of the form in the submitted params. You will need to pull the form params out using this key. The default value is <code class="inline">&quot;form&quot;</code>.</li><li><code class="inline">:id</code> (<a href="https://hexdocs.pm/elixir/String.html#t:t/0"><code class="inline">String.t/0</code></a>) - The html id of the form. Defaults to the value of <code class="inline">:as</code> if provided, otherwise &quot;form&quot;</li><li><code class="inline">:transform_errors</code> - Allows for manual manipulation and transformation of errors.<br/>If possible, try to implement <a href="https://hexdocs.pm/ash_phoenix/2.3.11/AshPhoenix.FormData.Error.html"><code class="inline">AshPhoenix.FormData.Error</code></a> for the error (if it as a custom one, for example).
If that isn't possible, you can provide this function which will get the changeset and the error, and should
return a list of ash phoenix formatted errors, e.g <code class="inline">[{field :: atom, message :: String.t(), substituations :: Keyword.t()}]</code><br/>Example:<pre><code class="makeup elixir" translate="no"><span class="nc">AshPhoenix.Form</span><span class="o">.</span><span class="n">for_create</span><span class="p" data-group-id="3632779677-1">(</span><span class="n">...</span><span class="p">,</span><span class="w"> </span><span class="ss">transform_errors</span><span class="p">:</span><span class="w"> </span><span class="k" data-group-id="3632779677-2">fn</span><span class="w">
  </span><span class="c">_changeset</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="3632779677-3">%{</span><span class="ss">field</span><span class="p">:</span><span class="w"> </span><span class="ss">:field1</span><span class="p" data-group-id="3632779677-3">}</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">error</span><span class="w"> </span><span class="o">-&gt;</span><span class="w">
    </span><span class="p" data-group-id="3632779677-4">%{</span><span class="n">error</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="ss">field</span><span class="p">:</span><span class="w"> </span><span class="ss">:field2</span><span class="p" data-group-id="3632779677-4">}</span><span class="w">  
  </span><span class="c">_changeset</span><span class="p">,</span><span class="w"> </span><span class="n">error</span><span class="w"> </span><span class="o">-&gt;</span><span class="w">
    </span><span class="n">error</span><span class="w">
</span><span class="k" data-group-id="3632779677-2">end</span></code></pre></li><li><code class="inline">:prepare_source</code> - A 1-argument function the receives the initial changeset (or query) and makes any relevant changes to it.
This can be used to do things like:  <ul><li>Set default argument values before the validations are run using <a href="https://hexdocs.pm/ash/3.5.32/Ash.Changeset.html#set_arguments/2"><code class="inline">Ash.Changeset.set_arguments/2</code></a> or <a href="https://hexdocs.pm/ash/3.5.32/Ash.Changeset.html#set_argument/3"><code class="inline">Ash.Changeset.set_argument/3</code></a></li><li>Set changeset context</li><li>Do any other pre-processing on the changeset</li></ul></li><li><code class="inline">:prepare_params</code> - A 2-argument function that receives the params map and the :validate atom and should return prepared params.
Called before the form is validated.</li><li><code class="inline">:transform_params</code> - A function for post-processing the form parameters before they are used for changeset validation/submission.
Use a 3-argument function to pattern match on the <a href="https://hexdocs.pm/ash_phoenix/2.3.11/AshPhoenix.Form.html"><code class="inline">AshPhoenix.Form</code></a> struct.</li><li><code class="inline">:method</code> (<a href="https://hexdocs.pm/elixir/String.html#t:t/0"><code class="inline">String.t/0</code></a>) - The http method to associate with the form. Defaults to <code class="inline">post</code> for creates, and <code class="inline">put</code> for everything else.</li><li><code class="inline">:exclude_fields_if_empty</code> - These fields will be ignored if they are empty strings.<br/>This list of fields supports dead view forms. When a form is submitted from dead view
empty fields are submitted as empty strings. This is problematic for fields that allow_nil
or those that have default values.</li><li><code class="inline">:tenant</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - The current tenant. Passed through to the underlying action.</li><li><code class="inline">:params</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - The initial parameters to use for the form. This is useful for setting up a form with default values. The default value is <code class="inline">%{}</code>.
Any <em>additional</em> options will be passed to the underlying call to build the source, i.e
<a href="https://hexdocs.pm/ash/3.5.32/Ash.ActionInput.html#for_action/4"><code class="inline">Ash.ActionInput.for_action/4</code></a>, or <code class="inline">Ash.Changeset.for_*</code>. This means you can set things
like the tenant/actor. These will be retained, and provided again when
<code class="inline">Form.submit/3</code> is called.</li></ul><h2 id="form_to_get_agency/1-nested-form-options" class="section-heading"><a href="#form_to_get_agency/1-nested-form-options" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Nested Form Options</span></h2><ul><li><code class="inline">:type</code> - The cardinality of the nested form - <code class="inline">:list</code> or <code class="inline">:single</code>. Valid values are :list, :single The default value is <code class="inline">:single</code>.</li><li><code class="inline">:sparse?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If the nested form is <code class="inline">sparse</code>, the form won't expect all inputs for all forms to be present.<br/>Has no effect if the type is <code class="inline">:single</code>.<br/>Normally, if you leave some forms out of a list of nested forms, they are removed from the parameters
passed to the action. For example, if you had a <code class="inline">post</code> with two comments <code class="inline">[%Comment{id: 1}, %Comment{id: 2}]</code>
and you passed down params like <code class="inline">comments[0][id]=1&amp;comments[1][text]=new_text</code>, we would remove the second comment
from the input parameters, resulting in the following being passed into the action: <code class="inline">%{&quot;comments&quot; =&gt; [%{&quot;id&quot; =&gt; 1, &quot;text&quot; =&gt; &quot;new&quot;}]}</code>.
By setting it to sparse, you have to explicitly use <code class="inline">remove_form</code> for that removal to happen. So in the same scenario above, the parameters
that would be sent would actually be <code class="inline">%{&quot;comments&quot; =&gt; [%{&quot;id&quot; =&gt; 1, &quot;text&quot; =&gt; &quot;new&quot;}, %{&quot;id&quot; =&gt; 2}]}</code>.<br/>One major difference with <code class="inline">sparse?</code> is that the form actually ignores the <em>index</em> provided, e.g <code class="inline">comments[0]...</code>, and instead uses the primary
key e.g <code class="inline">comments[0][id]</code> to match which form is being updated. This prevents you from having to find the index of the specific item you want to
update. Which could be very gnarly on deeply nested forms. If there is no primary key, or the primary key does not match anything, it is treated
as a new form.<br/>REMEMBER: You need to use <code class="inline">Phoenix.Components.inputs_for</code> to render the nested forms, or manually add hidden inputs using
<code class="inline">hidden_inputs_for</code> (or <code class="inline">HiddenInputs</code> if using Surface) for the id to be automatically placed into the form.</li><li><code class="inline">:forms</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">keyword/0</code></a>) - Forms nested inside the current nesting level in all cases.</li><li><code class="inline">:for_type</code> - What action types the form applies for. Leave blank for it to apply to all action types. Valid values are :read, :create, :update</li><li><code class="inline">:merge?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - When building parameters, this input will be merged with its parent input. This allows for combining multiple forms into a single input. The default value is <code class="inline">false</code>.</li><li><code class="inline">:for</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - When creating parameters for the action, the key that the forms should be gathered into. Defaults to the key used to configure the nested form. Ignored if <code class="inline">merge?</code> is <code class="inline">true</code>.</li><li><code class="inline">:resource</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - The resource of the nested forms. Unnecessary if you are providing the <code class="inline">data</code> key, and not adding additional forms to this path.</li><li><code class="inline">:create_action</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - The create action to use when building new forms. Only necessary if you want to use <code class="inline">add_form/3</code> with this path.</li><li><code class="inline">:update_action</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - The update action to use when building forms for data. Only necessary if you supply the <code class="inline">data</code> key.</li><li><code class="inline">:data</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - The current value or values that should have update forms built by default.<br/>You can also provide a single argument function that will return the data based on the
data of the parent form. This is important for multiple nesting levels of <code class="inline">:list</code> type
forms, because the data depends on which parent is being rendered.</li></ul>
  </section>
</section>
<section class="detail" id="form_to_get_agency_by_code/1">

    <span id="form_to_get_agency_by_code/0"></span>

  <div class="detail-header">
    <a href="#form_to_get_agency_by_code/1" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">form_to_get_agency_by_code(form_opts \\ [])</h1>


    </div>
  </div>

  <section class="docstring">

<p>Creates a form for the read action on EhsEnforcement.Enforcement.Agency.</p><h2 id="form_to_get_agency_by_code/1-options" class="section-heading"><a href="#form_to_get_agency_by_code/1-options" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Options</span></h2><ul><li><code class="inline">:actor</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - The actor performing the action. Passed through to the underlying action.</li><li><code class="inline">:scope</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A value that implements the <a href="https://hexdocs.pm/ash/3.5.32/Ash.Scope.html"><code class="inline">Ash.Scope</code></a> protocol, for passing around actor/tenant/context in a single value. See <a href="https://hexdocs.pm/ash/3.5.32/Ash.Scope.html"><code class="inline">Ash.Scope</code></a> for more.</li><li><code class="inline">:forms</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">keyword/0</code></a>) - Nested form configurations. See <code class="inline">for_create/3</code> &quot;Nested Form Options&quot; docs for more.</li><li><code class="inline">:warn_on_unhandled_errors?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Warns on any errors that don't match the form pattern of <code class="inline">{:field, &quot;message&quot;, [replacement: :vars]}</code> or implement the <a href="https://hexdocs.pm/ash_phoenix/2.3.11/AshPhoenix.FormData.Error.html"><code class="inline">AshPhoenix.FormData.Error</code></a> protocol. The default value is <code class="inline">true</code>.</li><li><code class="inline">:domain</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - The domain to use when calling the action.</li><li><code class="inline">:as</code> (<a href="https://hexdocs.pm/elixir/String.html#t:t/0"><code class="inline">String.t/0</code></a>) - The name of the form in the submitted params. You will need to pull the form params out using this key. The default value is <code class="inline">&quot;form&quot;</code>.</li><li><code class="inline">:id</code> (<a href="https://hexdocs.pm/elixir/String.html#t:t/0"><code class="inline">String.t/0</code></a>) - The html id of the form. Defaults to the value of <code class="inline">:as</code> if provided, otherwise &quot;form&quot;</li><li><code class="inline">:transform_errors</code> - Allows for manual manipulation and transformation of errors.<br/>If possible, try to implement <a href="https://hexdocs.pm/ash_phoenix/2.3.11/AshPhoenix.FormData.Error.html"><code class="inline">AshPhoenix.FormData.Error</code></a> for the error (if it as a custom one, for example).
If that isn't possible, you can provide this function which will get the changeset and the error, and should
return a list of ash phoenix formatted errors, e.g <code class="inline">[{field :: atom, message :: String.t(), substituations :: Keyword.t()}]</code><br/>Example:<pre><code class="makeup elixir" translate="no"><span class="nc">AshPhoenix.Form</span><span class="o">.</span><span class="n">for_create</span><span class="p" data-group-id="2844432431-1">(</span><span class="n">...</span><span class="p">,</span><span class="w"> </span><span class="ss">transform_errors</span><span class="p">:</span><span class="w"> </span><span class="k" data-group-id="2844432431-2">fn</span><span class="w">
  </span><span class="c">_changeset</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="2844432431-3">%{</span><span class="ss">field</span><span class="p">:</span><span class="w"> </span><span class="ss">:field1</span><span class="p" data-group-id="2844432431-3">}</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">error</span><span class="w"> </span><span class="o">-&gt;</span><span class="w">
    </span><span class="p" data-group-id="2844432431-4">%{</span><span class="n">error</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="ss">field</span><span class="p">:</span><span class="w"> </span><span class="ss">:field2</span><span class="p" data-group-id="2844432431-4">}</span><span class="w">  
  </span><span class="c">_changeset</span><span class="p">,</span><span class="w"> </span><span class="n">error</span><span class="w"> </span><span class="o">-&gt;</span><span class="w">
    </span><span class="n">error</span><span class="w">
</span><span class="k" data-group-id="2844432431-2">end</span></code></pre></li><li><code class="inline">:prepare_source</code> - A 1-argument function the receives the initial changeset (or query) and makes any relevant changes to it.
This can be used to do things like:  <ul><li>Set default argument values before the validations are run using <a href="https://hexdocs.pm/ash/3.5.32/Ash.Changeset.html#set_arguments/2"><code class="inline">Ash.Changeset.set_arguments/2</code></a> or <a href="https://hexdocs.pm/ash/3.5.32/Ash.Changeset.html#set_argument/3"><code class="inline">Ash.Changeset.set_argument/3</code></a></li><li>Set changeset context</li><li>Do any other pre-processing on the changeset</li></ul></li><li><code class="inline">:prepare_params</code> - A 2-argument function that receives the params map and the :validate atom and should return prepared params.
Called before the form is validated.</li><li><code class="inline">:transform_params</code> - A function for post-processing the form parameters before they are used for changeset validation/submission.
Use a 3-argument function to pattern match on the <a href="https://hexdocs.pm/ash_phoenix/2.3.11/AshPhoenix.Form.html"><code class="inline">AshPhoenix.Form</code></a> struct.</li><li><code class="inline">:method</code> (<a href="https://hexdocs.pm/elixir/String.html#t:t/0"><code class="inline">String.t/0</code></a>) - The http method to associate with the form. Defaults to <code class="inline">post</code> for creates, and <code class="inline">put</code> for everything else.</li><li><code class="inline">:exclude_fields_if_empty</code> - These fields will be ignored if they are empty strings.<br/>This list of fields supports dead view forms. When a form is submitted from dead view
empty fields are submitted as empty strings. This is problematic for fields that allow_nil
or those that have default values.</li><li><code class="inline">:tenant</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - The current tenant. Passed through to the underlying action.</li><li><code class="inline">:params</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - The initial parameters to use for the form. This is useful for setting up a form with default values. The default value is <code class="inline">%{}</code>.
Any <em>additional</em> options will be passed to the underlying call to build the source, i.e
<a href="https://hexdocs.pm/ash/3.5.32/Ash.ActionInput.html#for_action/4"><code class="inline">Ash.ActionInput.for_action/4</code></a>, or <code class="inline">Ash.Changeset.for_*</code>. This means you can set things
like the tenant/actor. These will be retained, and provided again when
<code class="inline">Form.submit/3</code> is called.</li></ul><h2 id="form_to_get_agency_by_code/1-nested-form-options" class="section-heading"><a href="#form_to_get_agency_by_code/1-nested-form-options" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Nested Form Options</span></h2><ul><li><code class="inline">:type</code> - The cardinality of the nested form - <code class="inline">:list</code> or <code class="inline">:single</code>. Valid values are :list, :single The default value is <code class="inline">:single</code>.</li><li><code class="inline">:sparse?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If the nested form is <code class="inline">sparse</code>, the form won't expect all inputs for all forms to be present.<br/>Has no effect if the type is <code class="inline">:single</code>.<br/>Normally, if you leave some forms out of a list of nested forms, they are removed from the parameters
passed to the action. For example, if you had a <code class="inline">post</code> with two comments <code class="inline">[%Comment{id: 1}, %Comment{id: 2}]</code>
and you passed down params like <code class="inline">comments[0][id]=1&amp;comments[1][text]=new_text</code>, we would remove the second comment
from the input parameters, resulting in the following being passed into the action: <code class="inline">%{&quot;comments&quot; =&gt; [%{&quot;id&quot; =&gt; 1, &quot;text&quot; =&gt; &quot;new&quot;}]}</code>.
By setting it to sparse, you have to explicitly use <code class="inline">remove_form</code> for that removal to happen. So in the same scenario above, the parameters
that would be sent would actually be <code class="inline">%{&quot;comments&quot; =&gt; [%{&quot;id&quot; =&gt; 1, &quot;text&quot; =&gt; &quot;new&quot;}, %{&quot;id&quot; =&gt; 2}]}</code>.<br/>One major difference with <code class="inline">sparse?</code> is that the form actually ignores the <em>index</em> provided, e.g <code class="inline">comments[0]...</code>, and instead uses the primary
key e.g <code class="inline">comments[0][id]</code> to match which form is being updated. This prevents you from having to find the index of the specific item you want to
update. Which could be very gnarly on deeply nested forms. If there is no primary key, or the primary key does not match anything, it is treated
as a new form.<br/>REMEMBER: You need to use <code class="inline">Phoenix.Components.inputs_for</code> to render the nested forms, or manually add hidden inputs using
<code class="inline">hidden_inputs_for</code> (or <code class="inline">HiddenInputs</code> if using Surface) for the id to be automatically placed into the form.</li><li><code class="inline">:forms</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">keyword/0</code></a>) - Forms nested inside the current nesting level in all cases.</li><li><code class="inline">:for_type</code> - What action types the form applies for. Leave blank for it to apply to all action types. Valid values are :read, :create, :update</li><li><code class="inline">:merge?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - When building parameters, this input will be merged with its parent input. This allows for combining multiple forms into a single input. The default value is <code class="inline">false</code>.</li><li><code class="inline">:for</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - When creating parameters for the action, the key that the forms should be gathered into. Defaults to the key used to configure the nested form. Ignored if <code class="inline">merge?</code> is <code class="inline">true</code>.</li><li><code class="inline">:resource</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - The resource of the nested forms. Unnecessary if you are providing the <code class="inline">data</code> key, and not adding additional forms to this path.</li><li><code class="inline">:create_action</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - The create action to use when building new forms. Only necessary if you want to use <code class="inline">add_form/3</code> with this path.</li><li><code class="inline">:update_action</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - The update action to use when building forms for data. Only necessary if you supply the <code class="inline">data</code> key.</li><li><code class="inline">:data</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - The current value or values that should have update forms built by default.<br/>You can also provide a single argument function that will return the data based on the
data of the parent form. This is important for multiple nesting levels of <code class="inline">:list</code> type
forms, because the data depends on which parent is being rendered.</li></ul>
  </section>
</section>
<section class="detail" id="form_to_get_breach/1">

    <span id="form_to_get_breach/0"></span>

  <div class="detail-header">
    <a href="#form_to_get_breach/1" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">form_to_get_breach(form_opts \\ [])</h1>


    </div>
  </div>

  <section class="docstring">

<p>Creates a form for the read action on EhsEnforcement.Enforcement.Breach.</p><h2 id="form_to_get_breach/1-options" class="section-heading"><a href="#form_to_get_breach/1-options" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Options</span></h2><ul><li><code class="inline">:actor</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - The actor performing the action. Passed through to the underlying action.</li><li><code class="inline">:scope</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A value that implements the <a href="https://hexdocs.pm/ash/3.5.32/Ash.Scope.html"><code class="inline">Ash.Scope</code></a> protocol, for passing around actor/tenant/context in a single value. See <a href="https://hexdocs.pm/ash/3.5.32/Ash.Scope.html"><code class="inline">Ash.Scope</code></a> for more.</li><li><code class="inline">:forms</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">keyword/0</code></a>) - Nested form configurations. See <code class="inline">for_create/3</code> &quot;Nested Form Options&quot; docs for more.</li><li><code class="inline">:warn_on_unhandled_errors?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Warns on any errors that don't match the form pattern of <code class="inline">{:field, &quot;message&quot;, [replacement: :vars]}</code> or implement the <a href="https://hexdocs.pm/ash_phoenix/2.3.11/AshPhoenix.FormData.Error.html"><code class="inline">AshPhoenix.FormData.Error</code></a> protocol. The default value is <code class="inline">true</code>.</li><li><code class="inline">:domain</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - The domain to use when calling the action.</li><li><code class="inline">:as</code> (<a href="https://hexdocs.pm/elixir/String.html#t:t/0"><code class="inline">String.t/0</code></a>) - The name of the form in the submitted params. You will need to pull the form params out using this key. The default value is <code class="inline">&quot;form&quot;</code>.</li><li><code class="inline">:id</code> (<a href="https://hexdocs.pm/elixir/String.html#t:t/0"><code class="inline">String.t/0</code></a>) - The html id of the form. Defaults to the value of <code class="inline">:as</code> if provided, otherwise &quot;form&quot;</li><li><code class="inline">:transform_errors</code> - Allows for manual manipulation and transformation of errors.<br/>If possible, try to implement <a href="https://hexdocs.pm/ash_phoenix/2.3.11/AshPhoenix.FormData.Error.html"><code class="inline">AshPhoenix.FormData.Error</code></a> for the error (if it as a custom one, for example).
If that isn't possible, you can provide this function which will get the changeset and the error, and should
return a list of ash phoenix formatted errors, e.g <code class="inline">[{field :: atom, message :: String.t(), substituations :: Keyword.t()}]</code><br/>Example:<pre><code class="makeup elixir" translate="no"><span class="nc">AshPhoenix.Form</span><span class="o">.</span><span class="n">for_create</span><span class="p" data-group-id="9278748500-1">(</span><span class="n">...</span><span class="p">,</span><span class="w"> </span><span class="ss">transform_errors</span><span class="p">:</span><span class="w"> </span><span class="k" data-group-id="9278748500-2">fn</span><span class="w">
  </span><span class="c">_changeset</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="9278748500-3">%{</span><span class="ss">field</span><span class="p">:</span><span class="w"> </span><span class="ss">:field1</span><span class="p" data-group-id="9278748500-3">}</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">error</span><span class="w"> </span><span class="o">-&gt;</span><span class="w">
    </span><span class="p" data-group-id="9278748500-4">%{</span><span class="n">error</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="ss">field</span><span class="p">:</span><span class="w"> </span><span class="ss">:field2</span><span class="p" data-group-id="9278748500-4">}</span><span class="w">  
  </span><span class="c">_changeset</span><span class="p">,</span><span class="w"> </span><span class="n">error</span><span class="w"> </span><span class="o">-&gt;</span><span class="w">
    </span><span class="n">error</span><span class="w">
</span><span class="k" data-group-id="9278748500-2">end</span></code></pre></li><li><code class="inline">:prepare_source</code> - A 1-argument function the receives the initial changeset (or query) and makes any relevant changes to it.
This can be used to do things like:  <ul><li>Set default argument values before the validations are run using <a href="https://hexdocs.pm/ash/3.5.32/Ash.Changeset.html#set_arguments/2"><code class="inline">Ash.Changeset.set_arguments/2</code></a> or <a href="https://hexdocs.pm/ash/3.5.32/Ash.Changeset.html#set_argument/3"><code class="inline">Ash.Changeset.set_argument/3</code></a></li><li>Set changeset context</li><li>Do any other pre-processing on the changeset</li></ul></li><li><code class="inline">:prepare_params</code> - A 2-argument function that receives the params map and the :validate atom and should return prepared params.
Called before the form is validated.</li><li><code class="inline">:transform_params</code> - A function for post-processing the form parameters before they are used for changeset validation/submission.
Use a 3-argument function to pattern match on the <a href="https://hexdocs.pm/ash_phoenix/2.3.11/AshPhoenix.Form.html"><code class="inline">AshPhoenix.Form</code></a> struct.</li><li><code class="inline">:method</code> (<a href="https://hexdocs.pm/elixir/String.html#t:t/0"><code class="inline">String.t/0</code></a>) - The http method to associate with the form. Defaults to <code class="inline">post</code> for creates, and <code class="inline">put</code> for everything else.</li><li><code class="inline">:exclude_fields_if_empty</code> - These fields will be ignored if they are empty strings.<br/>This list of fields supports dead view forms. When a form is submitted from dead view
empty fields are submitted as empty strings. This is problematic for fields that allow_nil
or those that have default values.</li><li><code class="inline">:tenant</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - The current tenant. Passed through to the underlying action.</li><li><code class="inline">:params</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - The initial parameters to use for the form. This is useful for setting up a form with default values. The default value is <code class="inline">%{}</code>.
Any <em>additional</em> options will be passed to the underlying call to build the source, i.e
<a href="https://hexdocs.pm/ash/3.5.32/Ash.ActionInput.html#for_action/4"><code class="inline">Ash.ActionInput.for_action/4</code></a>, or <code class="inline">Ash.Changeset.for_*</code>. This means you can set things
like the tenant/actor. These will be retained, and provided again when
<code class="inline">Form.submit/3</code> is called.</li></ul><h2 id="form_to_get_breach/1-nested-form-options" class="section-heading"><a href="#form_to_get_breach/1-nested-form-options" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Nested Form Options</span></h2><ul><li><code class="inline">:type</code> - The cardinality of the nested form - <code class="inline">:list</code> or <code class="inline">:single</code>. Valid values are :list, :single The default value is <code class="inline">:single</code>.</li><li><code class="inline">:sparse?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If the nested form is <code class="inline">sparse</code>, the form won't expect all inputs for all forms to be present.<br/>Has no effect if the type is <code class="inline">:single</code>.<br/>Normally, if you leave some forms out of a list of nested forms, they are removed from the parameters
passed to the action. For example, if you had a <code class="inline">post</code> with two comments <code class="inline">[%Comment{id: 1}, %Comment{id: 2}]</code>
and you passed down params like <code class="inline">comments[0][id]=1&amp;comments[1][text]=new_text</code>, we would remove the second comment
from the input parameters, resulting in the following being passed into the action: <code class="inline">%{&quot;comments&quot; =&gt; [%{&quot;id&quot; =&gt; 1, &quot;text&quot; =&gt; &quot;new&quot;}]}</code>.
By setting it to sparse, you have to explicitly use <code class="inline">remove_form</code> for that removal to happen. So in the same scenario above, the parameters
that would be sent would actually be <code class="inline">%{&quot;comments&quot; =&gt; [%{&quot;id&quot; =&gt; 1, &quot;text&quot; =&gt; &quot;new&quot;}, %{&quot;id&quot; =&gt; 2}]}</code>.<br/>One major difference with <code class="inline">sparse?</code> is that the form actually ignores the <em>index</em> provided, e.g <code class="inline">comments[0]...</code>, and instead uses the primary
key e.g <code class="inline">comments[0][id]</code> to match which form is being updated. This prevents you from having to find the index of the specific item you want to
update. Which could be very gnarly on deeply nested forms. If there is no primary key, or the primary key does not match anything, it is treated
as a new form.<br/>REMEMBER: You need to use <code class="inline">Phoenix.Components.inputs_for</code> to render the nested forms, or manually add hidden inputs using
<code class="inline">hidden_inputs_for</code> (or <code class="inline">HiddenInputs</code> if using Surface) for the id to be automatically placed into the form.</li><li><code class="inline">:forms</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">keyword/0</code></a>) - Forms nested inside the current nesting level in all cases.</li><li><code class="inline">:for_type</code> - What action types the form applies for. Leave blank for it to apply to all action types. Valid values are :read, :create, :update</li><li><code class="inline">:merge?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - When building parameters, this input will be merged with its parent input. This allows for combining multiple forms into a single input. The default value is <code class="inline">false</code>.</li><li><code class="inline">:for</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - When creating parameters for the action, the key that the forms should be gathered into. Defaults to the key used to configure the nested form. Ignored if <code class="inline">merge?</code> is <code class="inline">true</code>.</li><li><code class="inline">:resource</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - The resource of the nested forms. Unnecessary if you are providing the <code class="inline">data</code> key, and not adding additional forms to this path.</li><li><code class="inline">:create_action</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - The create action to use when building new forms. Only necessary if you want to use <code class="inline">add_form/3</code> with this path.</li><li><code class="inline">:update_action</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - The update action to use when building forms for data. Only necessary if you supply the <code class="inline">data</code> key.</li><li><code class="inline">:data</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - The current value or values that should have update forms built by default.<br/>You can also provide a single argument function that will return the data based on the
data of the parent form. This is important for multiple nesting levels of <code class="inline">:list</code> type
forms, because the data depends on which parent is being rendered.</li></ul>
  </section>
</section>
<section class="detail" id="form_to_get_case/1">

    <span id="form_to_get_case/0"></span>

  <div class="detail-header">
    <a href="#form_to_get_case/1" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">form_to_get_case(form_opts \\ [])</h1>


    </div>
  </div>

  <section class="docstring">

<p>Creates a form for the read action on EhsEnforcement.Enforcement.Case.</p><h2 id="form_to_get_case/1-options" class="section-heading"><a href="#form_to_get_case/1-options" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Options</span></h2><ul><li><code class="inline">:actor</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - The actor performing the action. Passed through to the underlying action.</li><li><code class="inline">:scope</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A value that implements the <a href="https://hexdocs.pm/ash/3.5.32/Ash.Scope.html"><code class="inline">Ash.Scope</code></a> protocol, for passing around actor/tenant/context in a single value. See <a href="https://hexdocs.pm/ash/3.5.32/Ash.Scope.html"><code class="inline">Ash.Scope</code></a> for more.</li><li><code class="inline">:forms</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">keyword/0</code></a>) - Nested form configurations. See <code class="inline">for_create/3</code> &quot;Nested Form Options&quot; docs for more.</li><li><code class="inline">:warn_on_unhandled_errors?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Warns on any errors that don't match the form pattern of <code class="inline">{:field, &quot;message&quot;, [replacement: :vars]}</code> or implement the <a href="https://hexdocs.pm/ash_phoenix/2.3.11/AshPhoenix.FormData.Error.html"><code class="inline">AshPhoenix.FormData.Error</code></a> protocol. The default value is <code class="inline">true</code>.</li><li><code class="inline">:domain</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - The domain to use when calling the action.</li><li><code class="inline">:as</code> (<a href="https://hexdocs.pm/elixir/String.html#t:t/0"><code class="inline">String.t/0</code></a>) - The name of the form in the submitted params. You will need to pull the form params out using this key. The default value is <code class="inline">&quot;form&quot;</code>.</li><li><code class="inline">:id</code> (<a href="https://hexdocs.pm/elixir/String.html#t:t/0"><code class="inline">String.t/0</code></a>) - The html id of the form. Defaults to the value of <code class="inline">:as</code> if provided, otherwise &quot;form&quot;</li><li><code class="inline">:transform_errors</code> - Allows for manual manipulation and transformation of errors.<br/>If possible, try to implement <a href="https://hexdocs.pm/ash_phoenix/2.3.11/AshPhoenix.FormData.Error.html"><code class="inline">AshPhoenix.FormData.Error</code></a> for the error (if it as a custom one, for example).
If that isn't possible, you can provide this function which will get the changeset and the error, and should
return a list of ash phoenix formatted errors, e.g <code class="inline">[{field :: atom, message :: String.t(), substituations :: Keyword.t()}]</code><br/>Example:<pre><code class="makeup elixir" translate="no"><span class="nc">AshPhoenix.Form</span><span class="o">.</span><span class="n">for_create</span><span class="p" data-group-id="1139518277-1">(</span><span class="n">...</span><span class="p">,</span><span class="w"> </span><span class="ss">transform_errors</span><span class="p">:</span><span class="w"> </span><span class="k" data-group-id="1139518277-2">fn</span><span class="w">
  </span><span class="c">_changeset</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="1139518277-3">%{</span><span class="ss">field</span><span class="p">:</span><span class="w"> </span><span class="ss">:field1</span><span class="p" data-group-id="1139518277-3">}</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">error</span><span class="w"> </span><span class="o">-&gt;</span><span class="w">
    </span><span class="p" data-group-id="1139518277-4">%{</span><span class="n">error</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="ss">field</span><span class="p">:</span><span class="w"> </span><span class="ss">:field2</span><span class="p" data-group-id="1139518277-4">}</span><span class="w">  
  </span><span class="c">_changeset</span><span class="p">,</span><span class="w"> </span><span class="n">error</span><span class="w"> </span><span class="o">-&gt;</span><span class="w">
    </span><span class="n">error</span><span class="w">
</span><span class="k" data-group-id="1139518277-2">end</span></code></pre></li><li><code class="inline">:prepare_source</code> - A 1-argument function the receives the initial changeset (or query) and makes any relevant changes to it.
This can be used to do things like:  <ul><li>Set default argument values before the validations are run using <a href="https://hexdocs.pm/ash/3.5.32/Ash.Changeset.html#set_arguments/2"><code class="inline">Ash.Changeset.set_arguments/2</code></a> or <a href="https://hexdocs.pm/ash/3.5.32/Ash.Changeset.html#set_argument/3"><code class="inline">Ash.Changeset.set_argument/3</code></a></li><li>Set changeset context</li><li>Do any other pre-processing on the changeset</li></ul></li><li><code class="inline">:prepare_params</code> - A 2-argument function that receives the params map and the :validate atom and should return prepared params.
Called before the form is validated.</li><li><code class="inline">:transform_params</code> - A function for post-processing the form parameters before they are used for changeset validation/submission.
Use a 3-argument function to pattern match on the <a href="https://hexdocs.pm/ash_phoenix/2.3.11/AshPhoenix.Form.html"><code class="inline">AshPhoenix.Form</code></a> struct.</li><li><code class="inline">:method</code> (<a href="https://hexdocs.pm/elixir/String.html#t:t/0"><code class="inline">String.t/0</code></a>) - The http method to associate with the form. Defaults to <code class="inline">post</code> for creates, and <code class="inline">put</code> for everything else.</li><li><code class="inline">:exclude_fields_if_empty</code> - These fields will be ignored if they are empty strings.<br/>This list of fields supports dead view forms. When a form is submitted from dead view
empty fields are submitted as empty strings. This is problematic for fields that allow_nil
or those that have default values.</li><li><code class="inline">:tenant</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - The current tenant. Passed through to the underlying action.</li><li><code class="inline">:params</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - The initial parameters to use for the form. This is useful for setting up a form with default values. The default value is <code class="inline">%{}</code>.
Any <em>additional</em> options will be passed to the underlying call to build the source, i.e
<a href="https://hexdocs.pm/ash/3.5.32/Ash.ActionInput.html#for_action/4"><code class="inline">Ash.ActionInput.for_action/4</code></a>, or <code class="inline">Ash.Changeset.for_*</code>. This means you can set things
like the tenant/actor. These will be retained, and provided again when
<code class="inline">Form.submit/3</code> is called.</li></ul><h2 id="form_to_get_case/1-nested-form-options" class="section-heading"><a href="#form_to_get_case/1-nested-form-options" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Nested Form Options</span></h2><ul><li><code class="inline">:type</code> - The cardinality of the nested form - <code class="inline">:list</code> or <code class="inline">:single</code>. Valid values are :list, :single The default value is <code class="inline">:single</code>.</li><li><code class="inline">:sparse?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If the nested form is <code class="inline">sparse</code>, the form won't expect all inputs for all forms to be present.<br/>Has no effect if the type is <code class="inline">:single</code>.<br/>Normally, if you leave some forms out of a list of nested forms, they are removed from the parameters
passed to the action. For example, if you had a <code class="inline">post</code> with two comments <code class="inline">[%Comment{id: 1}, %Comment{id: 2}]</code>
and you passed down params like <code class="inline">comments[0][id]=1&amp;comments[1][text]=new_text</code>, we would remove the second comment
from the input parameters, resulting in the following being passed into the action: <code class="inline">%{&quot;comments&quot; =&gt; [%{&quot;id&quot; =&gt; 1, &quot;text&quot; =&gt; &quot;new&quot;}]}</code>.
By setting it to sparse, you have to explicitly use <code class="inline">remove_form</code> for that removal to happen. So in the same scenario above, the parameters
that would be sent would actually be <code class="inline">%{&quot;comments&quot; =&gt; [%{&quot;id&quot; =&gt; 1, &quot;text&quot; =&gt; &quot;new&quot;}, %{&quot;id&quot; =&gt; 2}]}</code>.<br/>One major difference with <code class="inline">sparse?</code> is that the form actually ignores the <em>index</em> provided, e.g <code class="inline">comments[0]...</code>, and instead uses the primary
key e.g <code class="inline">comments[0][id]</code> to match which form is being updated. This prevents you from having to find the index of the specific item you want to
update. Which could be very gnarly on deeply nested forms. If there is no primary key, or the primary key does not match anything, it is treated
as a new form.<br/>REMEMBER: You need to use <code class="inline">Phoenix.Components.inputs_for</code> to render the nested forms, or manually add hidden inputs using
<code class="inline">hidden_inputs_for</code> (or <code class="inline">HiddenInputs</code> if using Surface) for the id to be automatically placed into the form.</li><li><code class="inline">:forms</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">keyword/0</code></a>) - Forms nested inside the current nesting level in all cases.</li><li><code class="inline">:for_type</code> - What action types the form applies for. Leave blank for it to apply to all action types. Valid values are :read, :create, :update</li><li><code class="inline">:merge?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - When building parameters, this input will be merged with its parent input. This allows for combining multiple forms into a single input. The default value is <code class="inline">false</code>.</li><li><code class="inline">:for</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - When creating parameters for the action, the key that the forms should be gathered into. Defaults to the key used to configure the nested form. Ignored if <code class="inline">merge?</code> is <code class="inline">true</code>.</li><li><code class="inline">:resource</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - The resource of the nested forms. Unnecessary if you are providing the <code class="inline">data</code> key, and not adding additional forms to this path.</li><li><code class="inline">:create_action</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - The create action to use when building new forms. Only necessary if you want to use <code class="inline">add_form/3</code> with this path.</li><li><code class="inline">:update_action</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - The update action to use when building forms for data. Only necessary if you supply the <code class="inline">data</code> key.</li><li><code class="inline">:data</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - The current value or values that should have update forms built by default.<br/>You can also provide a single argument function that will return the data based on the
data of the parent form. This is important for multiple nesting levels of <code class="inline">:list</code> type
forms, because the data depends on which parent is being rendered.</li></ul>
  </section>
</section>
<section class="detail" id="form_to_get_current_metrics/1">

    <span id="form_to_get_current_metrics/0"></span>

  <div class="detail-header">
    <a href="#form_to_get_current_metrics/1" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">form_to_get_current_metrics(form_opts \\ [])</h1>


    </div>
  </div>

  <section class="docstring">

<p>Get the most recent metrics for each time period</p><h2 id="form_to_get_current_metrics/1-options" class="section-heading"><a href="#form_to_get_current_metrics/1-options" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Options</span></h2><ul><li><code class="inline">:actor</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - The actor performing the action. Passed through to the underlying action.</li><li><code class="inline">:scope</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A value that implements the <a href="https://hexdocs.pm/ash/3.5.32/Ash.Scope.html"><code class="inline">Ash.Scope</code></a> protocol, for passing around actor/tenant/context in a single value. See <a href="https://hexdocs.pm/ash/3.5.32/Ash.Scope.html"><code class="inline">Ash.Scope</code></a> for more.</li><li><code class="inline">:forms</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">keyword/0</code></a>) - Nested form configurations. See <code class="inline">for_create/3</code> &quot;Nested Form Options&quot; docs for more.</li><li><code class="inline">:warn_on_unhandled_errors?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Warns on any errors that don't match the form pattern of <code class="inline">{:field, &quot;message&quot;, [replacement: :vars]}</code> or implement the <a href="https://hexdocs.pm/ash_phoenix/2.3.11/AshPhoenix.FormData.Error.html"><code class="inline">AshPhoenix.FormData.Error</code></a> protocol. The default value is <code class="inline">true</code>.</li><li><code class="inline">:domain</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - The domain to use when calling the action.</li><li><code class="inline">:as</code> (<a href="https://hexdocs.pm/elixir/String.html#t:t/0"><code class="inline">String.t/0</code></a>) - The name of the form in the submitted params. You will need to pull the form params out using this key. The default value is <code class="inline">&quot;form&quot;</code>.</li><li><code class="inline">:id</code> (<a href="https://hexdocs.pm/elixir/String.html#t:t/0"><code class="inline">String.t/0</code></a>) - The html id of the form. Defaults to the value of <code class="inline">:as</code> if provided, otherwise &quot;form&quot;</li><li><code class="inline">:transform_errors</code> - Allows for manual manipulation and transformation of errors.<br/>If possible, try to implement <a href="https://hexdocs.pm/ash_phoenix/2.3.11/AshPhoenix.FormData.Error.html"><code class="inline">AshPhoenix.FormData.Error</code></a> for the error (if it as a custom one, for example).
If that isn't possible, you can provide this function which will get the changeset and the error, and should
return a list of ash phoenix formatted errors, e.g <code class="inline">[{field :: atom, message :: String.t(), substituations :: Keyword.t()}]</code><br/>Example:<pre><code class="makeup elixir" translate="no"><span class="nc">AshPhoenix.Form</span><span class="o">.</span><span class="n">for_create</span><span class="p" data-group-id="0847876257-1">(</span><span class="n">...</span><span class="p">,</span><span class="w"> </span><span class="ss">transform_errors</span><span class="p">:</span><span class="w"> </span><span class="k" data-group-id="0847876257-2">fn</span><span class="w">
  </span><span class="c">_changeset</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="0847876257-3">%{</span><span class="ss">field</span><span class="p">:</span><span class="w"> </span><span class="ss">:field1</span><span class="p" data-group-id="0847876257-3">}</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">error</span><span class="w"> </span><span class="o">-&gt;</span><span class="w">
    </span><span class="p" data-group-id="0847876257-4">%{</span><span class="n">error</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="ss">field</span><span class="p">:</span><span class="w"> </span><span class="ss">:field2</span><span class="p" data-group-id="0847876257-4">}</span><span class="w">  
  </span><span class="c">_changeset</span><span class="p">,</span><span class="w"> </span><span class="n">error</span><span class="w"> </span><span class="o">-&gt;</span><span class="w">
    </span><span class="n">error</span><span class="w">
</span><span class="k" data-group-id="0847876257-2">end</span></code></pre></li><li><code class="inline">:prepare_source</code> - A 1-argument function the receives the initial changeset (or query) and makes any relevant changes to it.
This can be used to do things like:  <ul><li>Set default argument values before the validations are run using <a href="https://hexdocs.pm/ash/3.5.32/Ash.Changeset.html#set_arguments/2"><code class="inline">Ash.Changeset.set_arguments/2</code></a> or <a href="https://hexdocs.pm/ash/3.5.32/Ash.Changeset.html#set_argument/3"><code class="inline">Ash.Changeset.set_argument/3</code></a></li><li>Set changeset context</li><li>Do any other pre-processing on the changeset</li></ul></li><li><code class="inline">:prepare_params</code> - A 2-argument function that receives the params map and the :validate atom and should return prepared params.
Called before the form is validated.</li><li><code class="inline">:transform_params</code> - A function for post-processing the form parameters before they are used for changeset validation/submission.
Use a 3-argument function to pattern match on the <a href="https://hexdocs.pm/ash_phoenix/2.3.11/AshPhoenix.Form.html"><code class="inline">AshPhoenix.Form</code></a> struct.</li><li><code class="inline">:method</code> (<a href="https://hexdocs.pm/elixir/String.html#t:t/0"><code class="inline">String.t/0</code></a>) - The http method to associate with the form. Defaults to <code class="inline">post</code> for creates, and <code class="inline">put</code> for everything else.</li><li><code class="inline">:exclude_fields_if_empty</code> - These fields will be ignored if they are empty strings.<br/>This list of fields supports dead view forms. When a form is submitted from dead view
empty fields are submitted as empty strings. This is problematic for fields that allow_nil
or those that have default values.</li><li><code class="inline">:tenant</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - The current tenant. Passed through to the underlying action.</li><li><code class="inline">:params</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - The initial parameters to use for the form. This is useful for setting up a form with default values. The default value is <code class="inline">%{}</code>.
Any <em>additional</em> options will be passed to the underlying call to build the source, i.e
<a href="https://hexdocs.pm/ash/3.5.32/Ash.ActionInput.html#for_action/4"><code class="inline">Ash.ActionInput.for_action/4</code></a>, or <code class="inline">Ash.Changeset.for_*</code>. This means you can set things
like the tenant/actor. These will be retained, and provided again when
<code class="inline">Form.submit/3</code> is called.</li></ul><h2 id="form_to_get_current_metrics/1-nested-form-options" class="section-heading"><a href="#form_to_get_current_metrics/1-nested-form-options" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Nested Form Options</span></h2><ul><li><code class="inline">:type</code> - The cardinality of the nested form - <code class="inline">:list</code> or <code class="inline">:single</code>. Valid values are :list, :single The default value is <code class="inline">:single</code>.</li><li><code class="inline">:sparse?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If the nested form is <code class="inline">sparse</code>, the form won't expect all inputs for all forms to be present.<br/>Has no effect if the type is <code class="inline">:single</code>.<br/>Normally, if you leave some forms out of a list of nested forms, they are removed from the parameters
passed to the action. For example, if you had a <code class="inline">post</code> with two comments <code class="inline">[%Comment{id: 1}, %Comment{id: 2}]</code>
and you passed down params like <code class="inline">comments[0][id]=1&amp;comments[1][text]=new_text</code>, we would remove the second comment
from the input parameters, resulting in the following being passed into the action: <code class="inline">%{&quot;comments&quot; =&gt; [%{&quot;id&quot; =&gt; 1, &quot;text&quot; =&gt; &quot;new&quot;}]}</code>.
By setting it to sparse, you have to explicitly use <code class="inline">remove_form</code> for that removal to happen. So in the same scenario above, the parameters
that would be sent would actually be <code class="inline">%{&quot;comments&quot; =&gt; [%{&quot;id&quot; =&gt; 1, &quot;text&quot; =&gt; &quot;new&quot;}, %{&quot;id&quot; =&gt; 2}]}</code>.<br/>One major difference with <code class="inline">sparse?</code> is that the form actually ignores the <em>index</em> provided, e.g <code class="inline">comments[0]...</code>, and instead uses the primary
key e.g <code class="inline">comments[0][id]</code> to match which form is being updated. This prevents you from having to find the index of the specific item you want to
update. Which could be very gnarly on deeply nested forms. If there is no primary key, or the primary key does not match anything, it is treated
as a new form.<br/>REMEMBER: You need to use <code class="inline">Phoenix.Components.inputs_for</code> to render the nested forms, or manually add hidden inputs using
<code class="inline">hidden_inputs_for</code> (or <code class="inline">HiddenInputs</code> if using Surface) for the id to be automatically placed into the form.</li><li><code class="inline">:forms</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">keyword/0</code></a>) - Forms nested inside the current nesting level in all cases.</li><li><code class="inline">:for_type</code> - What action types the form applies for. Leave blank for it to apply to all action types. Valid values are :read, :create, :update</li><li><code class="inline">:merge?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - When building parameters, this input will be merged with its parent input. This allows for combining multiple forms into a single input. The default value is <code class="inline">false</code>.</li><li><code class="inline">:for</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - When creating parameters for the action, the key that the forms should be gathered into. Defaults to the key used to configure the nested form. Ignored if <code class="inline">merge?</code> is <code class="inline">true</code>.</li><li><code class="inline">:resource</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - The resource of the nested forms. Unnecessary if you are providing the <code class="inline">data</code> key, and not adding additional forms to this path.</li><li><code class="inline">:create_action</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - The create action to use when building new forms. Only necessary if you want to use <code class="inline">add_form/3</code> with this path.</li><li><code class="inline">:update_action</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - The update action to use when building forms for data. Only necessary if you supply the <code class="inline">data</code> key.</li><li><code class="inline">:data</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - The current value or values that should have update forms built by default.<br/>You can also provide a single argument function that will return the data based on the
data of the parent form. This is important for multiple nesting levels of <code class="inline">:list</code> type
forms, because the data depends on which parent is being rendered.</li></ul>
  </section>
</section>
<section class="detail" id="form_to_get_notice/1">

    <span id="form_to_get_notice/0"></span>

  <div class="detail-header">
    <a href="#form_to_get_notice/1" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">form_to_get_notice(form_opts \\ [])</h1>


    </div>
  </div>

  <section class="docstring">

<p>Creates a form for the read action on EhsEnforcement.Enforcement.Notice.</p><h2 id="form_to_get_notice/1-options" class="section-heading"><a href="#form_to_get_notice/1-options" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Options</span></h2><ul><li><code class="inline">:actor</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - The actor performing the action. Passed through to the underlying action.</li><li><code class="inline">:scope</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A value that implements the <a href="https://hexdocs.pm/ash/3.5.32/Ash.Scope.html"><code class="inline">Ash.Scope</code></a> protocol, for passing around actor/tenant/context in a single value. See <a href="https://hexdocs.pm/ash/3.5.32/Ash.Scope.html"><code class="inline">Ash.Scope</code></a> for more.</li><li><code class="inline">:forms</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">keyword/0</code></a>) - Nested form configurations. See <code class="inline">for_create/3</code> &quot;Nested Form Options&quot; docs for more.</li><li><code class="inline">:warn_on_unhandled_errors?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Warns on any errors that don't match the form pattern of <code class="inline">{:field, &quot;message&quot;, [replacement: :vars]}</code> or implement the <a href="https://hexdocs.pm/ash_phoenix/2.3.11/AshPhoenix.FormData.Error.html"><code class="inline">AshPhoenix.FormData.Error</code></a> protocol. The default value is <code class="inline">true</code>.</li><li><code class="inline">:domain</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - The domain to use when calling the action.</li><li><code class="inline">:as</code> (<a href="https://hexdocs.pm/elixir/String.html#t:t/0"><code class="inline">String.t/0</code></a>) - The name of the form in the submitted params. You will need to pull the form params out using this key. The default value is <code class="inline">&quot;form&quot;</code>.</li><li><code class="inline">:id</code> (<a href="https://hexdocs.pm/elixir/String.html#t:t/0"><code class="inline">String.t/0</code></a>) - The html id of the form. Defaults to the value of <code class="inline">:as</code> if provided, otherwise &quot;form&quot;</li><li><code class="inline">:transform_errors</code> - Allows for manual manipulation and transformation of errors.<br/>If possible, try to implement <a href="https://hexdocs.pm/ash_phoenix/2.3.11/AshPhoenix.FormData.Error.html"><code class="inline">AshPhoenix.FormData.Error</code></a> for the error (if it as a custom one, for example).
If that isn't possible, you can provide this function which will get the changeset and the error, and should
return a list of ash phoenix formatted errors, e.g <code class="inline">[{field :: atom, message :: String.t(), substituations :: Keyword.t()}]</code><br/>Example:<pre><code class="makeup elixir" translate="no"><span class="nc">AshPhoenix.Form</span><span class="o">.</span><span class="n">for_create</span><span class="p" data-group-id="2678870413-1">(</span><span class="n">...</span><span class="p">,</span><span class="w"> </span><span class="ss">transform_errors</span><span class="p">:</span><span class="w"> </span><span class="k" data-group-id="2678870413-2">fn</span><span class="w">
  </span><span class="c">_changeset</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="2678870413-3">%{</span><span class="ss">field</span><span class="p">:</span><span class="w"> </span><span class="ss">:field1</span><span class="p" data-group-id="2678870413-3">}</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">error</span><span class="w"> </span><span class="o">-&gt;</span><span class="w">
    </span><span class="p" data-group-id="2678870413-4">%{</span><span class="n">error</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="ss">field</span><span class="p">:</span><span class="w"> </span><span class="ss">:field2</span><span class="p" data-group-id="2678870413-4">}</span><span class="w">  
  </span><span class="c">_changeset</span><span class="p">,</span><span class="w"> </span><span class="n">error</span><span class="w"> </span><span class="o">-&gt;</span><span class="w">
    </span><span class="n">error</span><span class="w">
</span><span class="k" data-group-id="2678870413-2">end</span></code></pre></li><li><code class="inline">:prepare_source</code> - A 1-argument function the receives the initial changeset (or query) and makes any relevant changes to it.
This can be used to do things like:  <ul><li>Set default argument values before the validations are run using <a href="https://hexdocs.pm/ash/3.5.32/Ash.Changeset.html#set_arguments/2"><code class="inline">Ash.Changeset.set_arguments/2</code></a> or <a href="https://hexdocs.pm/ash/3.5.32/Ash.Changeset.html#set_argument/3"><code class="inline">Ash.Changeset.set_argument/3</code></a></li><li>Set changeset context</li><li>Do any other pre-processing on the changeset</li></ul></li><li><code class="inline">:prepare_params</code> - A 2-argument function that receives the params map and the :validate atom and should return prepared params.
Called before the form is validated.</li><li><code class="inline">:transform_params</code> - A function for post-processing the form parameters before they are used for changeset validation/submission.
Use a 3-argument function to pattern match on the <a href="https://hexdocs.pm/ash_phoenix/2.3.11/AshPhoenix.Form.html"><code class="inline">AshPhoenix.Form</code></a> struct.</li><li><code class="inline">:method</code> (<a href="https://hexdocs.pm/elixir/String.html#t:t/0"><code class="inline">String.t/0</code></a>) - The http method to associate with the form. Defaults to <code class="inline">post</code> for creates, and <code class="inline">put</code> for everything else.</li><li><code class="inline">:exclude_fields_if_empty</code> - These fields will be ignored if they are empty strings.<br/>This list of fields supports dead view forms. When a form is submitted from dead view
empty fields are submitted as empty strings. This is problematic for fields that allow_nil
or those that have default values.</li><li><code class="inline">:tenant</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - The current tenant. Passed through to the underlying action.</li><li><code class="inline">:params</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - The initial parameters to use for the form. This is useful for setting up a form with default values. The default value is <code class="inline">%{}</code>.
Any <em>additional</em> options will be passed to the underlying call to build the source, i.e
<a href="https://hexdocs.pm/ash/3.5.32/Ash.ActionInput.html#for_action/4"><code class="inline">Ash.ActionInput.for_action/4</code></a>, or <code class="inline">Ash.Changeset.for_*</code>. This means you can set things
like the tenant/actor. These will be retained, and provided again when
<code class="inline">Form.submit/3</code> is called.</li></ul><h2 id="form_to_get_notice/1-nested-form-options" class="section-heading"><a href="#form_to_get_notice/1-nested-form-options" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Nested Form Options</span></h2><ul><li><code class="inline">:type</code> - The cardinality of the nested form - <code class="inline">:list</code> or <code class="inline">:single</code>. Valid values are :list, :single The default value is <code class="inline">:single</code>.</li><li><code class="inline">:sparse?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If the nested form is <code class="inline">sparse</code>, the form won't expect all inputs for all forms to be present.<br/>Has no effect if the type is <code class="inline">:single</code>.<br/>Normally, if you leave some forms out of a list of nested forms, they are removed from the parameters
passed to the action. For example, if you had a <code class="inline">post</code> with two comments <code class="inline">[%Comment{id: 1}, %Comment{id: 2}]</code>
and you passed down params like <code class="inline">comments[0][id]=1&amp;comments[1][text]=new_text</code>, we would remove the second comment
from the input parameters, resulting in the following being passed into the action: <code class="inline">%{&quot;comments&quot; =&gt; [%{&quot;id&quot; =&gt; 1, &quot;text&quot; =&gt; &quot;new&quot;}]}</code>.
By setting it to sparse, you have to explicitly use <code class="inline">remove_form</code> for that removal to happen. So in the same scenario above, the parameters
that would be sent would actually be <code class="inline">%{&quot;comments&quot; =&gt; [%{&quot;id&quot; =&gt; 1, &quot;text&quot; =&gt; &quot;new&quot;}, %{&quot;id&quot; =&gt; 2}]}</code>.<br/>One major difference with <code class="inline">sparse?</code> is that the form actually ignores the <em>index</em> provided, e.g <code class="inline">comments[0]...</code>, and instead uses the primary
key e.g <code class="inline">comments[0][id]</code> to match which form is being updated. This prevents you from having to find the index of the specific item you want to
update. Which could be very gnarly on deeply nested forms. If there is no primary key, or the primary key does not match anything, it is treated
as a new form.<br/>REMEMBER: You need to use <code class="inline">Phoenix.Components.inputs_for</code> to render the nested forms, or manually add hidden inputs using
<code class="inline">hidden_inputs_for</code> (or <code class="inline">HiddenInputs</code> if using Surface) for the id to be automatically placed into the form.</li><li><code class="inline">:forms</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">keyword/0</code></a>) - Forms nested inside the current nesting level in all cases.</li><li><code class="inline">:for_type</code> - What action types the form applies for. Leave blank for it to apply to all action types. Valid values are :read, :create, :update</li><li><code class="inline">:merge?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - When building parameters, this input will be merged with its parent input. This allows for combining multiple forms into a single input. The default value is <code class="inline">false</code>.</li><li><code class="inline">:for</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - When creating parameters for the action, the key that the forms should be gathered into. Defaults to the key used to configure the nested form. Ignored if <code class="inline">merge?</code> is <code class="inline">true</code>.</li><li><code class="inline">:resource</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - The resource of the nested forms. Unnecessary if you are providing the <code class="inline">data</code> key, and not adding additional forms to this path.</li><li><code class="inline">:create_action</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - The create action to use when building new forms. Only necessary if you want to use <code class="inline">add_form/3</code> with this path.</li><li><code class="inline">:update_action</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - The update action to use when building forms for data. Only necessary if you supply the <code class="inline">data</code> key.</li><li><code class="inline">:data</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - The current value or values that should have update forms built by default.<br/>You can also provide a single argument function that will return the data based on the
data of the parent form. This is important for multiple nesting levels of <code class="inline">:list</code> type
forms, because the data depends on which parent is being rendered.</li></ul>
  </section>
</section>
<section class="detail" id="form_to_get_offender/1">

    <span id="form_to_get_offender/0"></span>

  <div class="detail-header">
    <a href="#form_to_get_offender/1" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">form_to_get_offender(form_opts \\ [])</h1>


    </div>
  </div>

  <section class="docstring">

<p>Creates a form for the read action on EhsEnforcement.Enforcement.Offender.</p><h2 id="form_to_get_offender/1-options" class="section-heading"><a href="#form_to_get_offender/1-options" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Options</span></h2><ul><li><code class="inline">:actor</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - The actor performing the action. Passed through to the underlying action.</li><li><code class="inline">:scope</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A value that implements the <a href="https://hexdocs.pm/ash/3.5.32/Ash.Scope.html"><code class="inline">Ash.Scope</code></a> protocol, for passing around actor/tenant/context in a single value. See <a href="https://hexdocs.pm/ash/3.5.32/Ash.Scope.html"><code class="inline">Ash.Scope</code></a> for more.</li><li><code class="inline">:forms</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">keyword/0</code></a>) - Nested form configurations. See <code class="inline">for_create/3</code> &quot;Nested Form Options&quot; docs for more.</li><li><code class="inline">:warn_on_unhandled_errors?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Warns on any errors that don't match the form pattern of <code class="inline">{:field, &quot;message&quot;, [replacement: :vars]}</code> or implement the <a href="https://hexdocs.pm/ash_phoenix/2.3.11/AshPhoenix.FormData.Error.html"><code class="inline">AshPhoenix.FormData.Error</code></a> protocol. The default value is <code class="inline">true</code>.</li><li><code class="inline">:domain</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - The domain to use when calling the action.</li><li><code class="inline">:as</code> (<a href="https://hexdocs.pm/elixir/String.html#t:t/0"><code class="inline">String.t/0</code></a>) - The name of the form in the submitted params. You will need to pull the form params out using this key. The default value is <code class="inline">&quot;form&quot;</code>.</li><li><code class="inline">:id</code> (<a href="https://hexdocs.pm/elixir/String.html#t:t/0"><code class="inline">String.t/0</code></a>) - The html id of the form. Defaults to the value of <code class="inline">:as</code> if provided, otherwise &quot;form&quot;</li><li><code class="inline">:transform_errors</code> - Allows for manual manipulation and transformation of errors.<br/>If possible, try to implement <a href="https://hexdocs.pm/ash_phoenix/2.3.11/AshPhoenix.FormData.Error.html"><code class="inline">AshPhoenix.FormData.Error</code></a> for the error (if it as a custom one, for example).
If that isn't possible, you can provide this function which will get the changeset and the error, and should
return a list of ash phoenix formatted errors, e.g <code class="inline">[{field :: atom, message :: String.t(), substituations :: Keyword.t()}]</code><br/>Example:<pre><code class="makeup elixir" translate="no"><span class="nc">AshPhoenix.Form</span><span class="o">.</span><span class="n">for_create</span><span class="p" data-group-id="1937351798-1">(</span><span class="n">...</span><span class="p">,</span><span class="w"> </span><span class="ss">transform_errors</span><span class="p">:</span><span class="w"> </span><span class="k" data-group-id="1937351798-2">fn</span><span class="w">
  </span><span class="c">_changeset</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="1937351798-3">%{</span><span class="ss">field</span><span class="p">:</span><span class="w"> </span><span class="ss">:field1</span><span class="p" data-group-id="1937351798-3">}</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">error</span><span class="w"> </span><span class="o">-&gt;</span><span class="w">
    </span><span class="p" data-group-id="1937351798-4">%{</span><span class="n">error</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="ss">field</span><span class="p">:</span><span class="w"> </span><span class="ss">:field2</span><span class="p" data-group-id="1937351798-4">}</span><span class="w">  
  </span><span class="c">_changeset</span><span class="p">,</span><span class="w"> </span><span class="n">error</span><span class="w"> </span><span class="o">-&gt;</span><span class="w">
    </span><span class="n">error</span><span class="w">
</span><span class="k" data-group-id="1937351798-2">end</span></code></pre></li><li><code class="inline">:prepare_source</code> - A 1-argument function the receives the initial changeset (or query) and makes any relevant changes to it.
This can be used to do things like:  <ul><li>Set default argument values before the validations are run using <a href="https://hexdocs.pm/ash/3.5.32/Ash.Changeset.html#set_arguments/2"><code class="inline">Ash.Changeset.set_arguments/2</code></a> or <a href="https://hexdocs.pm/ash/3.5.32/Ash.Changeset.html#set_argument/3"><code class="inline">Ash.Changeset.set_argument/3</code></a></li><li>Set changeset context</li><li>Do any other pre-processing on the changeset</li></ul></li><li><code class="inline">:prepare_params</code> - A 2-argument function that receives the params map and the :validate atom and should return prepared params.
Called before the form is validated.</li><li><code class="inline">:transform_params</code> - A function for post-processing the form parameters before they are used for changeset validation/submission.
Use a 3-argument function to pattern match on the <a href="https://hexdocs.pm/ash_phoenix/2.3.11/AshPhoenix.Form.html"><code class="inline">AshPhoenix.Form</code></a> struct.</li><li><code class="inline">:method</code> (<a href="https://hexdocs.pm/elixir/String.html#t:t/0"><code class="inline">String.t/0</code></a>) - The http method to associate with the form. Defaults to <code class="inline">post</code> for creates, and <code class="inline">put</code> for everything else.</li><li><code class="inline">:exclude_fields_if_empty</code> - These fields will be ignored if they are empty strings.<br/>This list of fields supports dead view forms. When a form is submitted from dead view
empty fields are submitted as empty strings. This is problematic for fields that allow_nil
or those that have default values.</li><li><code class="inline">:tenant</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - The current tenant. Passed through to the underlying action.</li><li><code class="inline">:params</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - The initial parameters to use for the form. This is useful for setting up a form with default values. The default value is <code class="inline">%{}</code>.
Any <em>additional</em> options will be passed to the underlying call to build the source, i.e
<a href="https://hexdocs.pm/ash/3.5.32/Ash.ActionInput.html#for_action/4"><code class="inline">Ash.ActionInput.for_action/4</code></a>, or <code class="inline">Ash.Changeset.for_*</code>. This means you can set things
like the tenant/actor. These will be retained, and provided again when
<code class="inline">Form.submit/3</code> is called.</li></ul><h2 id="form_to_get_offender/1-nested-form-options" class="section-heading"><a href="#form_to_get_offender/1-nested-form-options" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Nested Form Options</span></h2><ul><li><code class="inline">:type</code> - The cardinality of the nested form - <code class="inline">:list</code> or <code class="inline">:single</code>. Valid values are :list, :single The default value is <code class="inline">:single</code>.</li><li><code class="inline">:sparse?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If the nested form is <code class="inline">sparse</code>, the form won't expect all inputs for all forms to be present.<br/>Has no effect if the type is <code class="inline">:single</code>.<br/>Normally, if you leave some forms out of a list of nested forms, they are removed from the parameters
passed to the action. For example, if you had a <code class="inline">post</code> with two comments <code class="inline">[%Comment{id: 1}, %Comment{id: 2}]</code>
and you passed down params like <code class="inline">comments[0][id]=1&amp;comments[1][text]=new_text</code>, we would remove the second comment
from the input parameters, resulting in the following being passed into the action: <code class="inline">%{&quot;comments&quot; =&gt; [%{&quot;id&quot; =&gt; 1, &quot;text&quot; =&gt; &quot;new&quot;}]}</code>.
By setting it to sparse, you have to explicitly use <code class="inline">remove_form</code> for that removal to happen. So in the same scenario above, the parameters
that would be sent would actually be <code class="inline">%{&quot;comments&quot; =&gt; [%{&quot;id&quot; =&gt; 1, &quot;text&quot; =&gt; &quot;new&quot;}, %{&quot;id&quot; =&gt; 2}]}</code>.<br/>One major difference with <code class="inline">sparse?</code> is that the form actually ignores the <em>index</em> provided, e.g <code class="inline">comments[0]...</code>, and instead uses the primary
key e.g <code class="inline">comments[0][id]</code> to match which form is being updated. This prevents you from having to find the index of the specific item you want to
update. Which could be very gnarly on deeply nested forms. If there is no primary key, or the primary key does not match anything, it is treated
as a new form.<br/>REMEMBER: You need to use <code class="inline">Phoenix.Components.inputs_for</code> to render the nested forms, or manually add hidden inputs using
<code class="inline">hidden_inputs_for</code> (or <code class="inline">HiddenInputs</code> if using Surface) for the id to be automatically placed into the form.</li><li><code class="inline">:forms</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">keyword/0</code></a>) - Forms nested inside the current nesting level in all cases.</li><li><code class="inline">:for_type</code> - What action types the form applies for. Leave blank for it to apply to all action types. Valid values are :read, :create, :update</li><li><code class="inline">:merge?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - When building parameters, this input will be merged with its parent input. This allows for combining multiple forms into a single input. The default value is <code class="inline">false</code>.</li><li><code class="inline">:for</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - When creating parameters for the action, the key that the forms should be gathered into. Defaults to the key used to configure the nested form. Ignored if <code class="inline">merge?</code> is <code class="inline">true</code>.</li><li><code class="inline">:resource</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - The resource of the nested forms. Unnecessary if you are providing the <code class="inline">data</code> key, and not adding additional forms to this path.</li><li><code class="inline">:create_action</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - The create action to use when building new forms. Only necessary if you want to use <code class="inline">add_form/3</code> with this path.</li><li><code class="inline">:update_action</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - The update action to use when building forms for data. Only necessary if you supply the <code class="inline">data</code> key.</li><li><code class="inline">:data</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - The current value or values that should have update forms built by default.<br/>You can also provide a single argument function that will return the data based on the
data of the parent form. This is important for multiple nesting levels of <code class="inline">:list</code> type
forms, because the data depends on which parent is being rendered.</li></ul>
  </section>
</section>
<section class="detail" id="form_to_list_agencies/1">

    <span id="form_to_list_agencies/0"></span>

  <div class="detail-header">
    <a href="#form_to_list_agencies/1" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">form_to_list_agencies(form_opts \\ [])</h1>


    </div>
  </div>

  <section class="docstring">

<p>Creates a form for the read action on EhsEnforcement.Enforcement.Agency.</p><h2 id="form_to_list_agencies/1-options" class="section-heading"><a href="#form_to_list_agencies/1-options" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Options</span></h2><ul><li><code class="inline">:actor</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - The actor performing the action. Passed through to the underlying action.</li><li><code class="inline">:scope</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A value that implements the <a href="https://hexdocs.pm/ash/3.5.32/Ash.Scope.html"><code class="inline">Ash.Scope</code></a> protocol, for passing around actor/tenant/context in a single value. See <a href="https://hexdocs.pm/ash/3.5.32/Ash.Scope.html"><code class="inline">Ash.Scope</code></a> for more.</li><li><code class="inline">:forms</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">keyword/0</code></a>) - Nested form configurations. See <code class="inline">for_create/3</code> &quot;Nested Form Options&quot; docs for more.</li><li><code class="inline">:warn_on_unhandled_errors?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Warns on any errors that don't match the form pattern of <code class="inline">{:field, &quot;message&quot;, [replacement: :vars]}</code> or implement the <a href="https://hexdocs.pm/ash_phoenix/2.3.11/AshPhoenix.FormData.Error.html"><code class="inline">AshPhoenix.FormData.Error</code></a> protocol. The default value is <code class="inline">true</code>.</li><li><code class="inline">:domain</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - The domain to use when calling the action.</li><li><code class="inline">:as</code> (<a href="https://hexdocs.pm/elixir/String.html#t:t/0"><code class="inline">String.t/0</code></a>) - The name of the form in the submitted params. You will need to pull the form params out using this key. The default value is <code class="inline">&quot;form&quot;</code>.</li><li><code class="inline">:id</code> (<a href="https://hexdocs.pm/elixir/String.html#t:t/0"><code class="inline">String.t/0</code></a>) - The html id of the form. Defaults to the value of <code class="inline">:as</code> if provided, otherwise &quot;form&quot;</li><li><code class="inline">:transform_errors</code> - Allows for manual manipulation and transformation of errors.<br/>If possible, try to implement <a href="https://hexdocs.pm/ash_phoenix/2.3.11/AshPhoenix.FormData.Error.html"><code class="inline">AshPhoenix.FormData.Error</code></a> for the error (if it as a custom one, for example).
If that isn't possible, you can provide this function which will get the changeset and the error, and should
return a list of ash phoenix formatted errors, e.g <code class="inline">[{field :: atom, message :: String.t(), substituations :: Keyword.t()}]</code><br/>Example:<pre><code class="makeup elixir" translate="no"><span class="nc">AshPhoenix.Form</span><span class="o">.</span><span class="n">for_create</span><span class="p" data-group-id="1554952911-1">(</span><span class="n">...</span><span class="p">,</span><span class="w"> </span><span class="ss">transform_errors</span><span class="p">:</span><span class="w"> </span><span class="k" data-group-id="1554952911-2">fn</span><span class="w">
  </span><span class="c">_changeset</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="1554952911-3">%{</span><span class="ss">field</span><span class="p">:</span><span class="w"> </span><span class="ss">:field1</span><span class="p" data-group-id="1554952911-3">}</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">error</span><span class="w"> </span><span class="o">-&gt;</span><span class="w">
    </span><span class="p" data-group-id="1554952911-4">%{</span><span class="n">error</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="ss">field</span><span class="p">:</span><span class="w"> </span><span class="ss">:field2</span><span class="p" data-group-id="1554952911-4">}</span><span class="w">  
  </span><span class="c">_changeset</span><span class="p">,</span><span class="w"> </span><span class="n">error</span><span class="w"> </span><span class="o">-&gt;</span><span class="w">
    </span><span class="n">error</span><span class="w">
</span><span class="k" data-group-id="1554952911-2">end</span></code></pre></li><li><code class="inline">:prepare_source</code> - A 1-argument function the receives the initial changeset (or query) and makes any relevant changes to it.
This can be used to do things like:  <ul><li>Set default argument values before the validations are run using <a href="https://hexdocs.pm/ash/3.5.32/Ash.Changeset.html#set_arguments/2"><code class="inline">Ash.Changeset.set_arguments/2</code></a> or <a href="https://hexdocs.pm/ash/3.5.32/Ash.Changeset.html#set_argument/3"><code class="inline">Ash.Changeset.set_argument/3</code></a></li><li>Set changeset context</li><li>Do any other pre-processing on the changeset</li></ul></li><li><code class="inline">:prepare_params</code> - A 2-argument function that receives the params map and the :validate atom and should return prepared params.
Called before the form is validated.</li><li><code class="inline">:transform_params</code> - A function for post-processing the form parameters before they are used for changeset validation/submission.
Use a 3-argument function to pattern match on the <a href="https://hexdocs.pm/ash_phoenix/2.3.11/AshPhoenix.Form.html"><code class="inline">AshPhoenix.Form</code></a> struct.</li><li><code class="inline">:method</code> (<a href="https://hexdocs.pm/elixir/String.html#t:t/0"><code class="inline">String.t/0</code></a>) - The http method to associate with the form. Defaults to <code class="inline">post</code> for creates, and <code class="inline">put</code> for everything else.</li><li><code class="inline">:exclude_fields_if_empty</code> - These fields will be ignored if they are empty strings.<br/>This list of fields supports dead view forms. When a form is submitted from dead view
empty fields are submitted as empty strings. This is problematic for fields that allow_nil
or those that have default values.</li><li><code class="inline">:tenant</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - The current tenant. Passed through to the underlying action.</li><li><code class="inline">:params</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - The initial parameters to use for the form. This is useful for setting up a form with default values. The default value is <code class="inline">%{}</code>.
Any <em>additional</em> options will be passed to the underlying call to build the source, i.e
<a href="https://hexdocs.pm/ash/3.5.32/Ash.ActionInput.html#for_action/4"><code class="inline">Ash.ActionInput.for_action/4</code></a>, or <code class="inline">Ash.Changeset.for_*</code>. This means you can set things
like the tenant/actor. These will be retained, and provided again when
<code class="inline">Form.submit/3</code> is called.</li></ul><h2 id="form_to_list_agencies/1-nested-form-options" class="section-heading"><a href="#form_to_list_agencies/1-nested-form-options" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Nested Form Options</span></h2><ul><li><code class="inline">:type</code> - The cardinality of the nested form - <code class="inline">:list</code> or <code class="inline">:single</code>. Valid values are :list, :single The default value is <code class="inline">:single</code>.</li><li><code class="inline">:sparse?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If the nested form is <code class="inline">sparse</code>, the form won't expect all inputs for all forms to be present.<br/>Has no effect if the type is <code class="inline">:single</code>.<br/>Normally, if you leave some forms out of a list of nested forms, they are removed from the parameters
passed to the action. For example, if you had a <code class="inline">post</code> with two comments <code class="inline">[%Comment{id: 1}, %Comment{id: 2}]</code>
and you passed down params like <code class="inline">comments[0][id]=1&amp;comments[1][text]=new_text</code>, we would remove the second comment
from the input parameters, resulting in the following being passed into the action: <code class="inline">%{&quot;comments&quot; =&gt; [%{&quot;id&quot; =&gt; 1, &quot;text&quot; =&gt; &quot;new&quot;}]}</code>.
By setting it to sparse, you have to explicitly use <code class="inline">remove_form</code> for that removal to happen. So in the same scenario above, the parameters
that would be sent would actually be <code class="inline">%{&quot;comments&quot; =&gt; [%{&quot;id&quot; =&gt; 1, &quot;text&quot; =&gt; &quot;new&quot;}, %{&quot;id&quot; =&gt; 2}]}</code>.<br/>One major difference with <code class="inline">sparse?</code> is that the form actually ignores the <em>index</em> provided, e.g <code class="inline">comments[0]...</code>, and instead uses the primary
key e.g <code class="inline">comments[0][id]</code> to match which form is being updated. This prevents you from having to find the index of the specific item you want to
update. Which could be very gnarly on deeply nested forms. If there is no primary key, or the primary key does not match anything, it is treated
as a new form.<br/>REMEMBER: You need to use <code class="inline">Phoenix.Components.inputs_for</code> to render the nested forms, or manually add hidden inputs using
<code class="inline">hidden_inputs_for</code> (or <code class="inline">HiddenInputs</code> if using Surface) for the id to be automatically placed into the form.</li><li><code class="inline">:forms</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">keyword/0</code></a>) - Forms nested inside the current nesting level in all cases.</li><li><code class="inline">:for_type</code> - What action types the form applies for. Leave blank for it to apply to all action types. Valid values are :read, :create, :update</li><li><code class="inline">:merge?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - When building parameters, this input will be merged with its parent input. This allows for combining multiple forms into a single input. The default value is <code class="inline">false</code>.</li><li><code class="inline">:for</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - When creating parameters for the action, the key that the forms should be gathered into. Defaults to the key used to configure the nested form. Ignored if <code class="inline">merge?</code> is <code class="inline">true</code>.</li><li><code class="inline">:resource</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - The resource of the nested forms. Unnecessary if you are providing the <code class="inline">data</code> key, and not adding additional forms to this path.</li><li><code class="inline">:create_action</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - The create action to use when building new forms. Only necessary if you want to use <code class="inline">add_form/3</code> with this path.</li><li><code class="inline">:update_action</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - The update action to use when building forms for data. Only necessary if you supply the <code class="inline">data</code> key.</li><li><code class="inline">:data</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - The current value or values that should have update forms built by default.<br/>You can also provide a single argument function that will return the data based on the
data of the parent form. This is important for multiple nesting levels of <code class="inline">:list</code> type
forms, because the data depends on which parent is being rendered.</li></ul>
  </section>
</section>
<section class="detail" id="form_to_list_breaches/1">

    <span id="form_to_list_breaches/0"></span>

  <div class="detail-header">
    <a href="#form_to_list_breaches/1" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">form_to_list_breaches(form_opts \\ [])</h1>


    </div>
  </div>

  <section class="docstring">

<p>Creates a form for the read action on EhsEnforcement.Enforcement.Breach.</p><h2 id="form_to_list_breaches/1-options" class="section-heading"><a href="#form_to_list_breaches/1-options" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Options</span></h2><ul><li><code class="inline">:actor</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - The actor performing the action. Passed through to the underlying action.</li><li><code class="inline">:scope</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A value that implements the <a href="https://hexdocs.pm/ash/3.5.32/Ash.Scope.html"><code class="inline">Ash.Scope</code></a> protocol, for passing around actor/tenant/context in a single value. See <a href="https://hexdocs.pm/ash/3.5.32/Ash.Scope.html"><code class="inline">Ash.Scope</code></a> for more.</li><li><code class="inline">:forms</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">keyword/0</code></a>) - Nested form configurations. See <code class="inline">for_create/3</code> &quot;Nested Form Options&quot; docs for more.</li><li><code class="inline">:warn_on_unhandled_errors?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Warns on any errors that don't match the form pattern of <code class="inline">{:field, &quot;message&quot;, [replacement: :vars]}</code> or implement the <a href="https://hexdocs.pm/ash_phoenix/2.3.11/AshPhoenix.FormData.Error.html"><code class="inline">AshPhoenix.FormData.Error</code></a> protocol. The default value is <code class="inline">true</code>.</li><li><code class="inline">:domain</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - The domain to use when calling the action.</li><li><code class="inline">:as</code> (<a href="https://hexdocs.pm/elixir/String.html#t:t/0"><code class="inline">String.t/0</code></a>) - The name of the form in the submitted params. You will need to pull the form params out using this key. The default value is <code class="inline">&quot;form&quot;</code>.</li><li><code class="inline">:id</code> (<a href="https://hexdocs.pm/elixir/String.html#t:t/0"><code class="inline">String.t/0</code></a>) - The html id of the form. Defaults to the value of <code class="inline">:as</code> if provided, otherwise &quot;form&quot;</li><li><code class="inline">:transform_errors</code> - Allows for manual manipulation and transformation of errors.<br/>If possible, try to implement <a href="https://hexdocs.pm/ash_phoenix/2.3.11/AshPhoenix.FormData.Error.html"><code class="inline">AshPhoenix.FormData.Error</code></a> for the error (if it as a custom one, for example).
If that isn't possible, you can provide this function which will get the changeset and the error, and should
return a list of ash phoenix formatted errors, e.g <code class="inline">[{field :: atom, message :: String.t(), substituations :: Keyword.t()}]</code><br/>Example:<pre><code class="makeup elixir" translate="no"><span class="nc">AshPhoenix.Form</span><span class="o">.</span><span class="n">for_create</span><span class="p" data-group-id="6089124043-1">(</span><span class="n">...</span><span class="p">,</span><span class="w"> </span><span class="ss">transform_errors</span><span class="p">:</span><span class="w"> </span><span class="k" data-group-id="6089124043-2">fn</span><span class="w">
  </span><span class="c">_changeset</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="6089124043-3">%{</span><span class="ss">field</span><span class="p">:</span><span class="w"> </span><span class="ss">:field1</span><span class="p" data-group-id="6089124043-3">}</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">error</span><span class="w"> </span><span class="o">-&gt;</span><span class="w">
    </span><span class="p" data-group-id="6089124043-4">%{</span><span class="n">error</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="ss">field</span><span class="p">:</span><span class="w"> </span><span class="ss">:field2</span><span class="p" data-group-id="6089124043-4">}</span><span class="w">  
  </span><span class="c">_changeset</span><span class="p">,</span><span class="w"> </span><span class="n">error</span><span class="w"> </span><span class="o">-&gt;</span><span class="w">
    </span><span class="n">error</span><span class="w">
</span><span class="k" data-group-id="6089124043-2">end</span></code></pre></li><li><code class="inline">:prepare_source</code> - A 1-argument function the receives the initial changeset (or query) and makes any relevant changes to it.
This can be used to do things like:  <ul><li>Set default argument values before the validations are run using <a href="https://hexdocs.pm/ash/3.5.32/Ash.Changeset.html#set_arguments/2"><code class="inline">Ash.Changeset.set_arguments/2</code></a> or <a href="https://hexdocs.pm/ash/3.5.32/Ash.Changeset.html#set_argument/3"><code class="inline">Ash.Changeset.set_argument/3</code></a></li><li>Set changeset context</li><li>Do any other pre-processing on the changeset</li></ul></li><li><code class="inline">:prepare_params</code> - A 2-argument function that receives the params map and the :validate atom and should return prepared params.
Called before the form is validated.</li><li><code class="inline">:transform_params</code> - A function for post-processing the form parameters before they are used for changeset validation/submission.
Use a 3-argument function to pattern match on the <a href="https://hexdocs.pm/ash_phoenix/2.3.11/AshPhoenix.Form.html"><code class="inline">AshPhoenix.Form</code></a> struct.</li><li><code class="inline">:method</code> (<a href="https://hexdocs.pm/elixir/String.html#t:t/0"><code class="inline">String.t/0</code></a>) - The http method to associate with the form. Defaults to <code class="inline">post</code> for creates, and <code class="inline">put</code> for everything else.</li><li><code class="inline">:exclude_fields_if_empty</code> - These fields will be ignored if they are empty strings.<br/>This list of fields supports dead view forms. When a form is submitted from dead view
empty fields are submitted as empty strings. This is problematic for fields that allow_nil
or those that have default values.</li><li><code class="inline">:tenant</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - The current tenant. Passed through to the underlying action.</li><li><code class="inline">:params</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - The initial parameters to use for the form. This is useful for setting up a form with default values. The default value is <code class="inline">%{}</code>.
Any <em>additional</em> options will be passed to the underlying call to build the source, i.e
<a href="https://hexdocs.pm/ash/3.5.32/Ash.ActionInput.html#for_action/4"><code class="inline">Ash.ActionInput.for_action/4</code></a>, or <code class="inline">Ash.Changeset.for_*</code>. This means you can set things
like the tenant/actor. These will be retained, and provided again when
<code class="inline">Form.submit/3</code> is called.</li></ul><h2 id="form_to_list_breaches/1-nested-form-options" class="section-heading"><a href="#form_to_list_breaches/1-nested-form-options" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Nested Form Options</span></h2><ul><li><code class="inline">:type</code> - The cardinality of the nested form - <code class="inline">:list</code> or <code class="inline">:single</code>. Valid values are :list, :single The default value is <code class="inline">:single</code>.</li><li><code class="inline">:sparse?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If the nested form is <code class="inline">sparse</code>, the form won't expect all inputs for all forms to be present.<br/>Has no effect if the type is <code class="inline">:single</code>.<br/>Normally, if you leave some forms out of a list of nested forms, they are removed from the parameters
passed to the action. For example, if you had a <code class="inline">post</code> with two comments <code class="inline">[%Comment{id: 1}, %Comment{id: 2}]</code>
and you passed down params like <code class="inline">comments[0][id]=1&amp;comments[1][text]=new_text</code>, we would remove the second comment
from the input parameters, resulting in the following being passed into the action: <code class="inline">%{&quot;comments&quot; =&gt; [%{&quot;id&quot; =&gt; 1, &quot;text&quot; =&gt; &quot;new&quot;}]}</code>.
By setting it to sparse, you have to explicitly use <code class="inline">remove_form</code> for that removal to happen. So in the same scenario above, the parameters
that would be sent would actually be <code class="inline">%{&quot;comments&quot; =&gt; [%{&quot;id&quot; =&gt; 1, &quot;text&quot; =&gt; &quot;new&quot;}, %{&quot;id&quot; =&gt; 2}]}</code>.<br/>One major difference with <code class="inline">sparse?</code> is that the form actually ignores the <em>index</em> provided, e.g <code class="inline">comments[0]...</code>, and instead uses the primary
key e.g <code class="inline">comments[0][id]</code> to match which form is being updated. This prevents you from having to find the index of the specific item you want to
update. Which could be very gnarly on deeply nested forms. If there is no primary key, or the primary key does not match anything, it is treated
as a new form.<br/>REMEMBER: You need to use <code class="inline">Phoenix.Components.inputs_for</code> to render the nested forms, or manually add hidden inputs using
<code class="inline">hidden_inputs_for</code> (or <code class="inline">HiddenInputs</code> if using Surface) for the id to be automatically placed into the form.</li><li><code class="inline">:forms</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">keyword/0</code></a>) - Forms nested inside the current nesting level in all cases.</li><li><code class="inline">:for_type</code> - What action types the form applies for. Leave blank for it to apply to all action types. Valid values are :read, :create, :update</li><li><code class="inline">:merge?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - When building parameters, this input will be merged with its parent input. This allows for combining multiple forms into a single input. The default value is <code class="inline">false</code>.</li><li><code class="inline">:for</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - When creating parameters for the action, the key that the forms should be gathered into. Defaults to the key used to configure the nested form. Ignored if <code class="inline">merge?</code> is <code class="inline">true</code>.</li><li><code class="inline">:resource</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - The resource of the nested forms. Unnecessary if you are providing the <code class="inline">data</code> key, and not adding additional forms to this path.</li><li><code class="inline">:create_action</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - The create action to use when building new forms. Only necessary if you want to use <code class="inline">add_form/3</code> with this path.</li><li><code class="inline">:update_action</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - The update action to use when building forms for data. Only necessary if you supply the <code class="inline">data</code> key.</li><li><code class="inline">:data</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - The current value or values that should have update forms built by default.<br/>You can also provide a single argument function that will return the data based on the
data of the parent form. This is important for multiple nesting levels of <code class="inline">:list</code> type
forms, because the data depends on which parent is being rendered.</li></ul>
  </section>
</section>
<section class="detail" id="form_to_list_cases/1">

    <span id="form_to_list_cases/0"></span>

  <div class="detail-header">
    <a href="#form_to_list_cases/1" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">form_to_list_cases(form_opts \\ [])</h1>


    </div>
  </div>

  <section class="docstring">

<p>Creates a form for the read action on EhsEnforcement.Enforcement.Case.</p><h2 id="form_to_list_cases/1-options" class="section-heading"><a href="#form_to_list_cases/1-options" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Options</span></h2><ul><li><code class="inline">:actor</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - The actor performing the action. Passed through to the underlying action.</li><li><code class="inline">:scope</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A value that implements the <a href="https://hexdocs.pm/ash/3.5.32/Ash.Scope.html"><code class="inline">Ash.Scope</code></a> protocol, for passing around actor/tenant/context in a single value. See <a href="https://hexdocs.pm/ash/3.5.32/Ash.Scope.html"><code class="inline">Ash.Scope</code></a> for more.</li><li><code class="inline">:forms</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">keyword/0</code></a>) - Nested form configurations. See <code class="inline">for_create/3</code> &quot;Nested Form Options&quot; docs for more.</li><li><code class="inline">:warn_on_unhandled_errors?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Warns on any errors that don't match the form pattern of <code class="inline">{:field, &quot;message&quot;, [replacement: :vars]}</code> or implement the <a href="https://hexdocs.pm/ash_phoenix/2.3.11/AshPhoenix.FormData.Error.html"><code class="inline">AshPhoenix.FormData.Error</code></a> protocol. The default value is <code class="inline">true</code>.</li><li><code class="inline">:domain</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - The domain to use when calling the action.</li><li><code class="inline">:as</code> (<a href="https://hexdocs.pm/elixir/String.html#t:t/0"><code class="inline">String.t/0</code></a>) - The name of the form in the submitted params. You will need to pull the form params out using this key. The default value is <code class="inline">&quot;form&quot;</code>.</li><li><code class="inline">:id</code> (<a href="https://hexdocs.pm/elixir/String.html#t:t/0"><code class="inline">String.t/0</code></a>) - The html id of the form. Defaults to the value of <code class="inline">:as</code> if provided, otherwise &quot;form&quot;</li><li><code class="inline">:transform_errors</code> - Allows for manual manipulation and transformation of errors.<br/>If possible, try to implement <a href="https://hexdocs.pm/ash_phoenix/2.3.11/AshPhoenix.FormData.Error.html"><code class="inline">AshPhoenix.FormData.Error</code></a> for the error (if it as a custom one, for example).
If that isn't possible, you can provide this function which will get the changeset and the error, and should
return a list of ash phoenix formatted errors, e.g <code class="inline">[{field :: atom, message :: String.t(), substituations :: Keyword.t()}]</code><br/>Example:<pre><code class="makeup elixir" translate="no"><span class="nc">AshPhoenix.Form</span><span class="o">.</span><span class="n">for_create</span><span class="p" data-group-id="3644548076-1">(</span><span class="n">...</span><span class="p">,</span><span class="w"> </span><span class="ss">transform_errors</span><span class="p">:</span><span class="w"> </span><span class="k" data-group-id="3644548076-2">fn</span><span class="w">
  </span><span class="c">_changeset</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="3644548076-3">%{</span><span class="ss">field</span><span class="p">:</span><span class="w"> </span><span class="ss">:field1</span><span class="p" data-group-id="3644548076-3">}</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">error</span><span class="w"> </span><span class="o">-&gt;</span><span class="w">
    </span><span class="p" data-group-id="3644548076-4">%{</span><span class="n">error</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="ss">field</span><span class="p">:</span><span class="w"> </span><span class="ss">:field2</span><span class="p" data-group-id="3644548076-4">}</span><span class="w">  
  </span><span class="c">_changeset</span><span class="p">,</span><span class="w"> </span><span class="n">error</span><span class="w"> </span><span class="o">-&gt;</span><span class="w">
    </span><span class="n">error</span><span class="w">
</span><span class="k" data-group-id="3644548076-2">end</span></code></pre></li><li><code class="inline">:prepare_source</code> - A 1-argument function the receives the initial changeset (or query) and makes any relevant changes to it.
This can be used to do things like:  <ul><li>Set default argument values before the validations are run using <a href="https://hexdocs.pm/ash/3.5.32/Ash.Changeset.html#set_arguments/2"><code class="inline">Ash.Changeset.set_arguments/2</code></a> or <a href="https://hexdocs.pm/ash/3.5.32/Ash.Changeset.html#set_argument/3"><code class="inline">Ash.Changeset.set_argument/3</code></a></li><li>Set changeset context</li><li>Do any other pre-processing on the changeset</li></ul></li><li><code class="inline">:prepare_params</code> - A 2-argument function that receives the params map and the :validate atom and should return prepared params.
Called before the form is validated.</li><li><code class="inline">:transform_params</code> - A function for post-processing the form parameters before they are used for changeset validation/submission.
Use a 3-argument function to pattern match on the <a href="https://hexdocs.pm/ash_phoenix/2.3.11/AshPhoenix.Form.html"><code class="inline">AshPhoenix.Form</code></a> struct.</li><li><code class="inline">:method</code> (<a href="https://hexdocs.pm/elixir/String.html#t:t/0"><code class="inline">String.t/0</code></a>) - The http method to associate with the form. Defaults to <code class="inline">post</code> for creates, and <code class="inline">put</code> for everything else.</li><li><code class="inline">:exclude_fields_if_empty</code> - These fields will be ignored if they are empty strings.<br/>This list of fields supports dead view forms. When a form is submitted from dead view
empty fields are submitted as empty strings. This is problematic for fields that allow_nil
or those that have default values.</li><li><code class="inline">:tenant</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - The current tenant. Passed through to the underlying action.</li><li><code class="inline">:params</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - The initial parameters to use for the form. This is useful for setting up a form with default values. The default value is <code class="inline">%{}</code>.
Any <em>additional</em> options will be passed to the underlying call to build the source, i.e
<a href="https://hexdocs.pm/ash/3.5.32/Ash.ActionInput.html#for_action/4"><code class="inline">Ash.ActionInput.for_action/4</code></a>, or <code class="inline">Ash.Changeset.for_*</code>. This means you can set things
like the tenant/actor. These will be retained, and provided again when
<code class="inline">Form.submit/3</code> is called.</li></ul><h2 id="form_to_list_cases/1-nested-form-options" class="section-heading"><a href="#form_to_list_cases/1-nested-form-options" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Nested Form Options</span></h2><ul><li><code class="inline">:type</code> - The cardinality of the nested form - <code class="inline">:list</code> or <code class="inline">:single</code>. Valid values are :list, :single The default value is <code class="inline">:single</code>.</li><li><code class="inline">:sparse?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If the nested form is <code class="inline">sparse</code>, the form won't expect all inputs for all forms to be present.<br/>Has no effect if the type is <code class="inline">:single</code>.<br/>Normally, if you leave some forms out of a list of nested forms, they are removed from the parameters
passed to the action. For example, if you had a <code class="inline">post</code> with two comments <code class="inline">[%Comment{id: 1}, %Comment{id: 2}]</code>
and you passed down params like <code class="inline">comments[0][id]=1&amp;comments[1][text]=new_text</code>, we would remove the second comment
from the input parameters, resulting in the following being passed into the action: <code class="inline">%{&quot;comments&quot; =&gt; [%{&quot;id&quot; =&gt; 1, &quot;text&quot; =&gt; &quot;new&quot;}]}</code>.
By setting it to sparse, you have to explicitly use <code class="inline">remove_form</code> for that removal to happen. So in the same scenario above, the parameters
that would be sent would actually be <code class="inline">%{&quot;comments&quot; =&gt; [%{&quot;id&quot; =&gt; 1, &quot;text&quot; =&gt; &quot;new&quot;}, %{&quot;id&quot; =&gt; 2}]}</code>.<br/>One major difference with <code class="inline">sparse?</code> is that the form actually ignores the <em>index</em> provided, e.g <code class="inline">comments[0]...</code>, and instead uses the primary
key e.g <code class="inline">comments[0][id]</code> to match which form is being updated. This prevents you from having to find the index of the specific item you want to
update. Which could be very gnarly on deeply nested forms. If there is no primary key, or the primary key does not match anything, it is treated
as a new form.<br/>REMEMBER: You need to use <code class="inline">Phoenix.Components.inputs_for</code> to render the nested forms, or manually add hidden inputs using
<code class="inline">hidden_inputs_for</code> (or <code class="inline">HiddenInputs</code> if using Surface) for the id to be automatically placed into the form.</li><li><code class="inline">:forms</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">keyword/0</code></a>) - Forms nested inside the current nesting level in all cases.</li><li><code class="inline">:for_type</code> - What action types the form applies for. Leave blank for it to apply to all action types. Valid values are :read, :create, :update</li><li><code class="inline">:merge?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - When building parameters, this input will be merged with its parent input. This allows for combining multiple forms into a single input. The default value is <code class="inline">false</code>.</li><li><code class="inline">:for</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - When creating parameters for the action, the key that the forms should be gathered into. Defaults to the key used to configure the nested form. Ignored if <code class="inline">merge?</code> is <code class="inline">true</code>.</li><li><code class="inline">:resource</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - The resource of the nested forms. Unnecessary if you are providing the <code class="inline">data</code> key, and not adding additional forms to this path.</li><li><code class="inline">:create_action</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - The create action to use when building new forms. Only necessary if you want to use <code class="inline">add_form/3</code> with this path.</li><li><code class="inline">:update_action</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - The update action to use when building forms for data. Only necessary if you supply the <code class="inline">data</code> key.</li><li><code class="inline">:data</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - The current value or values that should have update forms built by default.<br/>You can also provide a single argument function that will return the data based on the
data of the parent form. This is important for multiple nesting levels of <code class="inline">:list</code> type
forms, because the data depends on which parent is being rendered.</li></ul>
  </section>
</section>
<section class="detail" id="form_to_list_cases_by_date_range/1">

    <span id="form_to_list_cases_by_date_range/0"></span>

  <div class="detail-header">
    <a href="#form_to_list_cases_by_date_range/1" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">form_to_list_cases_by_date_range(form_opts \\ [])</h1>


    </div>
  </div>

  <section class="docstring">

<p>Creates a form for the by_date_range action on EhsEnforcement.Enforcement.Case.</p><h2 id="form_to_list_cases_by_date_range/1-options" class="section-heading"><a href="#form_to_list_cases_by_date_range/1-options" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Options</span></h2><ul><li><code class="inline">:actor</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - The actor performing the action. Passed through to the underlying action.</li><li><code class="inline">:scope</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A value that implements the <a href="https://hexdocs.pm/ash/3.5.32/Ash.Scope.html"><code class="inline">Ash.Scope</code></a> protocol, for passing around actor/tenant/context in a single value. See <a href="https://hexdocs.pm/ash/3.5.32/Ash.Scope.html"><code class="inline">Ash.Scope</code></a> for more.</li><li><code class="inline">:forms</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">keyword/0</code></a>) - Nested form configurations. See <code class="inline">for_create/3</code> &quot;Nested Form Options&quot; docs for more.</li><li><code class="inline">:warn_on_unhandled_errors?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Warns on any errors that don't match the form pattern of <code class="inline">{:field, &quot;message&quot;, [replacement: :vars]}</code> or implement the <a href="https://hexdocs.pm/ash_phoenix/2.3.11/AshPhoenix.FormData.Error.html"><code class="inline">AshPhoenix.FormData.Error</code></a> protocol. The default value is <code class="inline">true</code>.</li><li><code class="inline">:domain</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - The domain to use when calling the action.</li><li><code class="inline">:as</code> (<a href="https://hexdocs.pm/elixir/String.html#t:t/0"><code class="inline">String.t/0</code></a>) - The name of the form in the submitted params. You will need to pull the form params out using this key. The default value is <code class="inline">&quot;form&quot;</code>.</li><li><code class="inline">:id</code> (<a href="https://hexdocs.pm/elixir/String.html#t:t/0"><code class="inline">String.t/0</code></a>) - The html id of the form. Defaults to the value of <code class="inline">:as</code> if provided, otherwise &quot;form&quot;</li><li><code class="inline">:transform_errors</code> - Allows for manual manipulation and transformation of errors.<br/>If possible, try to implement <a href="https://hexdocs.pm/ash_phoenix/2.3.11/AshPhoenix.FormData.Error.html"><code class="inline">AshPhoenix.FormData.Error</code></a> for the error (if it as a custom one, for example).
If that isn't possible, you can provide this function which will get the changeset and the error, and should
return a list of ash phoenix formatted errors, e.g <code class="inline">[{field :: atom, message :: String.t(), substituations :: Keyword.t()}]</code><br/>Example:<pre><code class="makeup elixir" translate="no"><span class="nc">AshPhoenix.Form</span><span class="o">.</span><span class="n">for_create</span><span class="p" data-group-id="4049713880-1">(</span><span class="n">...</span><span class="p">,</span><span class="w"> </span><span class="ss">transform_errors</span><span class="p">:</span><span class="w"> </span><span class="k" data-group-id="4049713880-2">fn</span><span class="w">
  </span><span class="c">_changeset</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="4049713880-3">%{</span><span class="ss">field</span><span class="p">:</span><span class="w"> </span><span class="ss">:field1</span><span class="p" data-group-id="4049713880-3">}</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">error</span><span class="w"> </span><span class="o">-&gt;</span><span class="w">
    </span><span class="p" data-group-id="4049713880-4">%{</span><span class="n">error</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="ss">field</span><span class="p">:</span><span class="w"> </span><span class="ss">:field2</span><span class="p" data-group-id="4049713880-4">}</span><span class="w">  
  </span><span class="c">_changeset</span><span class="p">,</span><span class="w"> </span><span class="n">error</span><span class="w"> </span><span class="o">-&gt;</span><span class="w">
    </span><span class="n">error</span><span class="w">
</span><span class="k" data-group-id="4049713880-2">end</span></code></pre></li><li><code class="inline">:prepare_source</code> - A 1-argument function the receives the initial changeset (or query) and makes any relevant changes to it.
This can be used to do things like:  <ul><li>Set default argument values before the validations are run using <a href="https://hexdocs.pm/ash/3.5.32/Ash.Changeset.html#set_arguments/2"><code class="inline">Ash.Changeset.set_arguments/2</code></a> or <a href="https://hexdocs.pm/ash/3.5.32/Ash.Changeset.html#set_argument/3"><code class="inline">Ash.Changeset.set_argument/3</code></a></li><li>Set changeset context</li><li>Do any other pre-processing on the changeset</li></ul></li><li><code class="inline">:prepare_params</code> - A 2-argument function that receives the params map and the :validate atom and should return prepared params.
Called before the form is validated.</li><li><code class="inline">:transform_params</code> - A function for post-processing the form parameters before they are used for changeset validation/submission.
Use a 3-argument function to pattern match on the <a href="https://hexdocs.pm/ash_phoenix/2.3.11/AshPhoenix.Form.html"><code class="inline">AshPhoenix.Form</code></a> struct.</li><li><code class="inline">:method</code> (<a href="https://hexdocs.pm/elixir/String.html#t:t/0"><code class="inline">String.t/0</code></a>) - The http method to associate with the form. Defaults to <code class="inline">post</code> for creates, and <code class="inline">put</code> for everything else.</li><li><code class="inline">:exclude_fields_if_empty</code> - These fields will be ignored if they are empty strings.<br/>This list of fields supports dead view forms. When a form is submitted from dead view
empty fields are submitted as empty strings. This is problematic for fields that allow_nil
or those that have default values.</li><li><code class="inline">:tenant</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - The current tenant. Passed through to the underlying action.</li><li><code class="inline">:params</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - The initial parameters to use for the form. This is useful for setting up a form with default values. The default value is <code class="inline">%{}</code>.
Any <em>additional</em> options will be passed to the underlying call to build the source, i.e
<a href="https://hexdocs.pm/ash/3.5.32/Ash.ActionInput.html#for_action/4"><code class="inline">Ash.ActionInput.for_action/4</code></a>, or <code class="inline">Ash.Changeset.for_*</code>. This means you can set things
like the tenant/actor. These will be retained, and provided again when
<code class="inline">Form.submit/3</code> is called.</li></ul><h2 id="form_to_list_cases_by_date_range/1-nested-form-options" class="section-heading"><a href="#form_to_list_cases_by_date_range/1-nested-form-options" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Nested Form Options</span></h2><ul><li><code class="inline">:type</code> - The cardinality of the nested form - <code class="inline">:list</code> or <code class="inline">:single</code>. Valid values are :list, :single The default value is <code class="inline">:single</code>.</li><li><code class="inline">:sparse?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If the nested form is <code class="inline">sparse</code>, the form won't expect all inputs for all forms to be present.<br/>Has no effect if the type is <code class="inline">:single</code>.<br/>Normally, if you leave some forms out of a list of nested forms, they are removed from the parameters
passed to the action. For example, if you had a <code class="inline">post</code> with two comments <code class="inline">[%Comment{id: 1}, %Comment{id: 2}]</code>
and you passed down params like <code class="inline">comments[0][id]=1&amp;comments[1][text]=new_text</code>, we would remove the second comment
from the input parameters, resulting in the following being passed into the action: <code class="inline">%{&quot;comments&quot; =&gt; [%{&quot;id&quot; =&gt; 1, &quot;text&quot; =&gt; &quot;new&quot;}]}</code>.
By setting it to sparse, you have to explicitly use <code class="inline">remove_form</code> for that removal to happen. So in the same scenario above, the parameters
that would be sent would actually be <code class="inline">%{&quot;comments&quot; =&gt; [%{&quot;id&quot; =&gt; 1, &quot;text&quot; =&gt; &quot;new&quot;}, %{&quot;id&quot; =&gt; 2}]}</code>.<br/>One major difference with <code class="inline">sparse?</code> is that the form actually ignores the <em>index</em> provided, e.g <code class="inline">comments[0]...</code>, and instead uses the primary
key e.g <code class="inline">comments[0][id]</code> to match which form is being updated. This prevents you from having to find the index of the specific item you want to
update. Which could be very gnarly on deeply nested forms. If there is no primary key, or the primary key does not match anything, it is treated
as a new form.<br/>REMEMBER: You need to use <code class="inline">Phoenix.Components.inputs_for</code> to render the nested forms, or manually add hidden inputs using
<code class="inline">hidden_inputs_for</code> (or <code class="inline">HiddenInputs</code> if using Surface) for the id to be automatically placed into the form.</li><li><code class="inline">:forms</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">keyword/0</code></a>) - Forms nested inside the current nesting level in all cases.</li><li><code class="inline">:for_type</code> - What action types the form applies for. Leave blank for it to apply to all action types. Valid values are :read, :create, :update</li><li><code class="inline">:merge?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - When building parameters, this input will be merged with its parent input. This allows for combining multiple forms into a single input. The default value is <code class="inline">false</code>.</li><li><code class="inline">:for</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - When creating parameters for the action, the key that the forms should be gathered into. Defaults to the key used to configure the nested form. Ignored if <code class="inline">merge?</code> is <code class="inline">true</code>.</li><li><code class="inline">:resource</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - The resource of the nested forms. Unnecessary if you are providing the <code class="inline">data</code> key, and not adding additional forms to this path.</li><li><code class="inline">:create_action</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - The create action to use when building new forms. Only necessary if you want to use <code class="inline">add_form/3</code> with this path.</li><li><code class="inline">:update_action</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - The update action to use when building forms for data. Only necessary if you supply the <code class="inline">data</code> key.</li><li><code class="inline">:data</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - The current value or values that should have update forms built by default.<br/>You can also provide a single argument function that will return the data based on the
data of the parent form. This is important for multiple nesting levels of <code class="inline">:list</code> type
forms, because the data depends on which parent is being rendered.</li></ul>
  </section>
</section>
<section class="detail" id="form_to_list_notices/1">

    <span id="form_to_list_notices/0"></span>

  <div class="detail-header">
    <a href="#form_to_list_notices/1" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">form_to_list_notices(form_opts \\ [])</h1>


    </div>
  </div>

  <section class="docstring">

<p>Creates a form for the read action on EhsEnforcement.Enforcement.Notice.</p><h2 id="form_to_list_notices/1-options" class="section-heading"><a href="#form_to_list_notices/1-options" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Options</span></h2><ul><li><code class="inline">:actor</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - The actor performing the action. Passed through to the underlying action.</li><li><code class="inline">:scope</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A value that implements the <a href="https://hexdocs.pm/ash/3.5.32/Ash.Scope.html"><code class="inline">Ash.Scope</code></a> protocol, for passing around actor/tenant/context in a single value. See <a href="https://hexdocs.pm/ash/3.5.32/Ash.Scope.html"><code class="inline">Ash.Scope</code></a> for more.</li><li><code class="inline">:forms</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">keyword/0</code></a>) - Nested form configurations. See <code class="inline">for_create/3</code> &quot;Nested Form Options&quot; docs for more.</li><li><code class="inline">:warn_on_unhandled_errors?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Warns on any errors that don't match the form pattern of <code class="inline">{:field, &quot;message&quot;, [replacement: :vars]}</code> or implement the <a href="https://hexdocs.pm/ash_phoenix/2.3.11/AshPhoenix.FormData.Error.html"><code class="inline">AshPhoenix.FormData.Error</code></a> protocol. The default value is <code class="inline">true</code>.</li><li><code class="inline">:domain</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - The domain to use when calling the action.</li><li><code class="inline">:as</code> (<a href="https://hexdocs.pm/elixir/String.html#t:t/0"><code class="inline">String.t/0</code></a>) - The name of the form in the submitted params. You will need to pull the form params out using this key. The default value is <code class="inline">&quot;form&quot;</code>.</li><li><code class="inline">:id</code> (<a href="https://hexdocs.pm/elixir/String.html#t:t/0"><code class="inline">String.t/0</code></a>) - The html id of the form. Defaults to the value of <code class="inline">:as</code> if provided, otherwise &quot;form&quot;</li><li><code class="inline">:transform_errors</code> - Allows for manual manipulation and transformation of errors.<br/>If possible, try to implement <a href="https://hexdocs.pm/ash_phoenix/2.3.11/AshPhoenix.FormData.Error.html"><code class="inline">AshPhoenix.FormData.Error</code></a> for the error (if it as a custom one, for example).
If that isn't possible, you can provide this function which will get the changeset and the error, and should
return a list of ash phoenix formatted errors, e.g <code class="inline">[{field :: atom, message :: String.t(), substituations :: Keyword.t()}]</code><br/>Example:<pre><code class="makeup elixir" translate="no"><span class="nc">AshPhoenix.Form</span><span class="o">.</span><span class="n">for_create</span><span class="p" data-group-id="8167496054-1">(</span><span class="n">...</span><span class="p">,</span><span class="w"> </span><span class="ss">transform_errors</span><span class="p">:</span><span class="w"> </span><span class="k" data-group-id="8167496054-2">fn</span><span class="w">
  </span><span class="c">_changeset</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="8167496054-3">%{</span><span class="ss">field</span><span class="p">:</span><span class="w"> </span><span class="ss">:field1</span><span class="p" data-group-id="8167496054-3">}</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">error</span><span class="w"> </span><span class="o">-&gt;</span><span class="w">
    </span><span class="p" data-group-id="8167496054-4">%{</span><span class="n">error</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="ss">field</span><span class="p">:</span><span class="w"> </span><span class="ss">:field2</span><span class="p" data-group-id="8167496054-4">}</span><span class="w">  
  </span><span class="c">_changeset</span><span class="p">,</span><span class="w"> </span><span class="n">error</span><span class="w"> </span><span class="o">-&gt;</span><span class="w">
    </span><span class="n">error</span><span class="w">
</span><span class="k" data-group-id="8167496054-2">end</span></code></pre></li><li><code class="inline">:prepare_source</code> - A 1-argument function the receives the initial changeset (or query) and makes any relevant changes to it.
This can be used to do things like:  <ul><li>Set default argument values before the validations are run using <a href="https://hexdocs.pm/ash/3.5.32/Ash.Changeset.html#set_arguments/2"><code class="inline">Ash.Changeset.set_arguments/2</code></a> or <a href="https://hexdocs.pm/ash/3.5.32/Ash.Changeset.html#set_argument/3"><code class="inline">Ash.Changeset.set_argument/3</code></a></li><li>Set changeset context</li><li>Do any other pre-processing on the changeset</li></ul></li><li><code class="inline">:prepare_params</code> - A 2-argument function that receives the params map and the :validate atom and should return prepared params.
Called before the form is validated.</li><li><code class="inline">:transform_params</code> - A function for post-processing the form parameters before they are used for changeset validation/submission.
Use a 3-argument function to pattern match on the <a href="https://hexdocs.pm/ash_phoenix/2.3.11/AshPhoenix.Form.html"><code class="inline">AshPhoenix.Form</code></a> struct.</li><li><code class="inline">:method</code> (<a href="https://hexdocs.pm/elixir/String.html#t:t/0"><code class="inline">String.t/0</code></a>) - The http method to associate with the form. Defaults to <code class="inline">post</code> for creates, and <code class="inline">put</code> for everything else.</li><li><code class="inline">:exclude_fields_if_empty</code> - These fields will be ignored if they are empty strings.<br/>This list of fields supports dead view forms. When a form is submitted from dead view
empty fields are submitted as empty strings. This is problematic for fields that allow_nil
or those that have default values.</li><li><code class="inline">:tenant</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - The current tenant. Passed through to the underlying action.</li><li><code class="inline">:params</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - The initial parameters to use for the form. This is useful for setting up a form with default values. The default value is <code class="inline">%{}</code>.
Any <em>additional</em> options will be passed to the underlying call to build the source, i.e
<a href="https://hexdocs.pm/ash/3.5.32/Ash.ActionInput.html#for_action/4"><code class="inline">Ash.ActionInput.for_action/4</code></a>, or <code class="inline">Ash.Changeset.for_*</code>. This means you can set things
like the tenant/actor. These will be retained, and provided again when
<code class="inline">Form.submit/3</code> is called.</li></ul><h2 id="form_to_list_notices/1-nested-form-options" class="section-heading"><a href="#form_to_list_notices/1-nested-form-options" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Nested Form Options</span></h2><ul><li><code class="inline">:type</code> - The cardinality of the nested form - <code class="inline">:list</code> or <code class="inline">:single</code>. Valid values are :list, :single The default value is <code class="inline">:single</code>.</li><li><code class="inline">:sparse?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If the nested form is <code class="inline">sparse</code>, the form won't expect all inputs for all forms to be present.<br/>Has no effect if the type is <code class="inline">:single</code>.<br/>Normally, if you leave some forms out of a list of nested forms, they are removed from the parameters
passed to the action. For example, if you had a <code class="inline">post</code> with two comments <code class="inline">[%Comment{id: 1}, %Comment{id: 2}]</code>
and you passed down params like <code class="inline">comments[0][id]=1&amp;comments[1][text]=new_text</code>, we would remove the second comment
from the input parameters, resulting in the following being passed into the action: <code class="inline">%{&quot;comments&quot; =&gt; [%{&quot;id&quot; =&gt; 1, &quot;text&quot; =&gt; &quot;new&quot;}]}</code>.
By setting it to sparse, you have to explicitly use <code class="inline">remove_form</code> for that removal to happen. So in the same scenario above, the parameters
that would be sent would actually be <code class="inline">%{&quot;comments&quot; =&gt; [%{&quot;id&quot; =&gt; 1, &quot;text&quot; =&gt; &quot;new&quot;}, %{&quot;id&quot; =&gt; 2}]}</code>.<br/>One major difference with <code class="inline">sparse?</code> is that the form actually ignores the <em>index</em> provided, e.g <code class="inline">comments[0]...</code>, and instead uses the primary
key e.g <code class="inline">comments[0][id]</code> to match which form is being updated. This prevents you from having to find the index of the specific item you want to
update. Which could be very gnarly on deeply nested forms. If there is no primary key, or the primary key does not match anything, it is treated
as a new form.<br/>REMEMBER: You need to use <code class="inline">Phoenix.Components.inputs_for</code> to render the nested forms, or manually add hidden inputs using
<code class="inline">hidden_inputs_for</code> (or <code class="inline">HiddenInputs</code> if using Surface) for the id to be automatically placed into the form.</li><li><code class="inline">:forms</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">keyword/0</code></a>) - Forms nested inside the current nesting level in all cases.</li><li><code class="inline">:for_type</code> - What action types the form applies for. Leave blank for it to apply to all action types. Valid values are :read, :create, :update</li><li><code class="inline">:merge?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - When building parameters, this input will be merged with its parent input. This allows for combining multiple forms into a single input. The default value is <code class="inline">false</code>.</li><li><code class="inline">:for</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - When creating parameters for the action, the key that the forms should be gathered into. Defaults to the key used to configure the nested form. Ignored if <code class="inline">merge?</code> is <code class="inline">true</code>.</li><li><code class="inline">:resource</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - The resource of the nested forms. Unnecessary if you are providing the <code class="inline">data</code> key, and not adding additional forms to this path.</li><li><code class="inline">:create_action</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - The create action to use when building new forms. Only necessary if you want to use <code class="inline">add_form/3</code> with this path.</li><li><code class="inline">:update_action</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - The update action to use when building forms for data. Only necessary if you supply the <code class="inline">data</code> key.</li><li><code class="inline">:data</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - The current value or values that should have update forms built by default.<br/>You can also provide a single argument function that will return the data based on the
data of the parent form. This is important for multiple nesting levels of <code class="inline">:list</code> type
forms, because the data depends on which parent is being rendered.</li></ul>
  </section>
</section>
<section class="detail" id="form_to_list_offenders/1">

    <span id="form_to_list_offenders/0"></span>

  <div class="detail-header">
    <a href="#form_to_list_offenders/1" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">form_to_list_offenders(form_opts \\ [])</h1>


    </div>
  </div>

  <section class="docstring">

<p>Creates a form for the read action on EhsEnforcement.Enforcement.Offender.</p><h2 id="form_to_list_offenders/1-options" class="section-heading"><a href="#form_to_list_offenders/1-options" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Options</span></h2><ul><li><code class="inline">:actor</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - The actor performing the action. Passed through to the underlying action.</li><li><code class="inline">:scope</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A value that implements the <a href="https://hexdocs.pm/ash/3.5.32/Ash.Scope.html"><code class="inline">Ash.Scope</code></a> protocol, for passing around actor/tenant/context in a single value. See <a href="https://hexdocs.pm/ash/3.5.32/Ash.Scope.html"><code class="inline">Ash.Scope</code></a> for more.</li><li><code class="inline">:forms</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">keyword/0</code></a>) - Nested form configurations. See <code class="inline">for_create/3</code> &quot;Nested Form Options&quot; docs for more.</li><li><code class="inline">:warn_on_unhandled_errors?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Warns on any errors that don't match the form pattern of <code class="inline">{:field, &quot;message&quot;, [replacement: :vars]}</code> or implement the <a href="https://hexdocs.pm/ash_phoenix/2.3.11/AshPhoenix.FormData.Error.html"><code class="inline">AshPhoenix.FormData.Error</code></a> protocol. The default value is <code class="inline">true</code>.</li><li><code class="inline">:domain</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - The domain to use when calling the action.</li><li><code class="inline">:as</code> (<a href="https://hexdocs.pm/elixir/String.html#t:t/0"><code class="inline">String.t/0</code></a>) - The name of the form in the submitted params. You will need to pull the form params out using this key. The default value is <code class="inline">&quot;form&quot;</code>.</li><li><code class="inline">:id</code> (<a href="https://hexdocs.pm/elixir/String.html#t:t/0"><code class="inline">String.t/0</code></a>) - The html id of the form. Defaults to the value of <code class="inline">:as</code> if provided, otherwise &quot;form&quot;</li><li><code class="inline">:transform_errors</code> - Allows for manual manipulation and transformation of errors.<br/>If possible, try to implement <a href="https://hexdocs.pm/ash_phoenix/2.3.11/AshPhoenix.FormData.Error.html"><code class="inline">AshPhoenix.FormData.Error</code></a> for the error (if it as a custom one, for example).
If that isn't possible, you can provide this function which will get the changeset and the error, and should
return a list of ash phoenix formatted errors, e.g <code class="inline">[{field :: atom, message :: String.t(), substituations :: Keyword.t()}]</code><br/>Example:<pre><code class="makeup elixir" translate="no"><span class="nc">AshPhoenix.Form</span><span class="o">.</span><span class="n">for_create</span><span class="p" data-group-id="7532725105-1">(</span><span class="n">...</span><span class="p">,</span><span class="w"> </span><span class="ss">transform_errors</span><span class="p">:</span><span class="w"> </span><span class="k" data-group-id="7532725105-2">fn</span><span class="w">
  </span><span class="c">_changeset</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="7532725105-3">%{</span><span class="ss">field</span><span class="p">:</span><span class="w"> </span><span class="ss">:field1</span><span class="p" data-group-id="7532725105-3">}</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">error</span><span class="w"> </span><span class="o">-&gt;</span><span class="w">
    </span><span class="p" data-group-id="7532725105-4">%{</span><span class="n">error</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="ss">field</span><span class="p">:</span><span class="w"> </span><span class="ss">:field2</span><span class="p" data-group-id="7532725105-4">}</span><span class="w">  
  </span><span class="c">_changeset</span><span class="p">,</span><span class="w"> </span><span class="n">error</span><span class="w"> </span><span class="o">-&gt;</span><span class="w">
    </span><span class="n">error</span><span class="w">
</span><span class="k" data-group-id="7532725105-2">end</span></code></pre></li><li><code class="inline">:prepare_source</code> - A 1-argument function the receives the initial changeset (or query) and makes any relevant changes to it.
This can be used to do things like:  <ul><li>Set default argument values before the validations are run using <a href="https://hexdocs.pm/ash/3.5.32/Ash.Changeset.html#set_arguments/2"><code class="inline">Ash.Changeset.set_arguments/2</code></a> or <a href="https://hexdocs.pm/ash/3.5.32/Ash.Changeset.html#set_argument/3"><code class="inline">Ash.Changeset.set_argument/3</code></a></li><li>Set changeset context</li><li>Do any other pre-processing on the changeset</li></ul></li><li><code class="inline">:prepare_params</code> - A 2-argument function that receives the params map and the :validate atom and should return prepared params.
Called before the form is validated.</li><li><code class="inline">:transform_params</code> - A function for post-processing the form parameters before they are used for changeset validation/submission.
Use a 3-argument function to pattern match on the <a href="https://hexdocs.pm/ash_phoenix/2.3.11/AshPhoenix.Form.html"><code class="inline">AshPhoenix.Form</code></a> struct.</li><li><code class="inline">:method</code> (<a href="https://hexdocs.pm/elixir/String.html#t:t/0"><code class="inline">String.t/0</code></a>) - The http method to associate with the form. Defaults to <code class="inline">post</code> for creates, and <code class="inline">put</code> for everything else.</li><li><code class="inline">:exclude_fields_if_empty</code> - These fields will be ignored if they are empty strings.<br/>This list of fields supports dead view forms. When a form is submitted from dead view
empty fields are submitted as empty strings. This is problematic for fields that allow_nil
or those that have default values.</li><li><code class="inline">:tenant</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - The current tenant. Passed through to the underlying action.</li><li><code class="inline">:params</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - The initial parameters to use for the form. This is useful for setting up a form with default values. The default value is <code class="inline">%{}</code>.
Any <em>additional</em> options will be passed to the underlying call to build the source, i.e
<a href="https://hexdocs.pm/ash/3.5.32/Ash.ActionInput.html#for_action/4"><code class="inline">Ash.ActionInput.for_action/4</code></a>, or <code class="inline">Ash.Changeset.for_*</code>. This means you can set things
like the tenant/actor. These will be retained, and provided again when
<code class="inline">Form.submit/3</code> is called.</li></ul><h2 id="form_to_list_offenders/1-nested-form-options" class="section-heading"><a href="#form_to_list_offenders/1-nested-form-options" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Nested Form Options</span></h2><ul><li><code class="inline">:type</code> - The cardinality of the nested form - <code class="inline">:list</code> or <code class="inline">:single</code>. Valid values are :list, :single The default value is <code class="inline">:single</code>.</li><li><code class="inline">:sparse?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If the nested form is <code class="inline">sparse</code>, the form won't expect all inputs for all forms to be present.<br/>Has no effect if the type is <code class="inline">:single</code>.<br/>Normally, if you leave some forms out of a list of nested forms, they are removed from the parameters
passed to the action. For example, if you had a <code class="inline">post</code> with two comments <code class="inline">[%Comment{id: 1}, %Comment{id: 2}]</code>
and you passed down params like <code class="inline">comments[0][id]=1&amp;comments[1][text]=new_text</code>, we would remove the second comment
from the input parameters, resulting in the following being passed into the action: <code class="inline">%{&quot;comments&quot; =&gt; [%{&quot;id&quot; =&gt; 1, &quot;text&quot; =&gt; &quot;new&quot;}]}</code>.
By setting it to sparse, you have to explicitly use <code class="inline">remove_form</code> for that removal to happen. So in the same scenario above, the parameters
that would be sent would actually be <code class="inline">%{&quot;comments&quot; =&gt; [%{&quot;id&quot; =&gt; 1, &quot;text&quot; =&gt; &quot;new&quot;}, %{&quot;id&quot; =&gt; 2}]}</code>.<br/>One major difference with <code class="inline">sparse?</code> is that the form actually ignores the <em>index</em> provided, e.g <code class="inline">comments[0]...</code>, and instead uses the primary
key e.g <code class="inline">comments[0][id]</code> to match which form is being updated. This prevents you from having to find the index of the specific item you want to
update. Which could be very gnarly on deeply nested forms. If there is no primary key, or the primary key does not match anything, it is treated
as a new form.<br/>REMEMBER: You need to use <code class="inline">Phoenix.Components.inputs_for</code> to render the nested forms, or manually add hidden inputs using
<code class="inline">hidden_inputs_for</code> (or <code class="inline">HiddenInputs</code> if using Surface) for the id to be automatically placed into the form.</li><li><code class="inline">:forms</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">keyword/0</code></a>) - Forms nested inside the current nesting level in all cases.</li><li><code class="inline">:for_type</code> - What action types the form applies for. Leave blank for it to apply to all action types. Valid values are :read, :create, :update</li><li><code class="inline">:merge?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - When building parameters, this input will be merged with its parent input. This allows for combining multiple forms into a single input. The default value is <code class="inline">false</code>.</li><li><code class="inline">:for</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - When creating parameters for the action, the key that the forms should be gathered into. Defaults to the key used to configure the nested form. Ignored if <code class="inline">merge?</code> is <code class="inline">true</code>.</li><li><code class="inline">:resource</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - The resource of the nested forms. Unnecessary if you are providing the <code class="inline">data</code> key, and not adding additional forms to this path.</li><li><code class="inline">:create_action</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - The create action to use when building new forms. Only necessary if you want to use <code class="inline">add_form/3</code> with this path.</li><li><code class="inline">:update_action</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - The update action to use when building forms for data. Only necessary if you supply the <code class="inline">data</code> key.</li><li><code class="inline">:data</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - The current value or values that should have update forms built by default.<br/>You can also provide a single argument function that will return the data based on the
data of the parent form. This is important for multiple nesting levels of <code class="inline">:list</code> type
forms, because the data depends on which parent is being rendered.</li></ul>
  </section>
</section>
<section class="detail" id="form_to_refresh_metrics/1">

    <span id="form_to_refresh_metrics/0"></span>

  <div class="detail-header">
    <a href="#form_to_refresh_metrics/1" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">form_to_refresh_metrics(form_opts \\ [])</h1>


    </div>
  </div>

  <section class="docstring">

<p>Refresh all dashboard metrics by recalculating from current data</p><h2 id="form_to_refresh_metrics/1-options" class="section-heading"><a href="#form_to_refresh_metrics/1-options" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Options</span></h2><ul><li><code class="inline">:actor</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - The actor performing the action. Passed through to the underlying action.</li><li><code class="inline">:scope</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A value that implements the <a href="https://hexdocs.pm/ash/3.5.32/Ash.Scope.html"><code class="inline">Ash.Scope</code></a> protocol, for passing around actor/tenant/context in a single value. See <a href="https://hexdocs.pm/ash/3.5.32/Ash.Scope.html"><code class="inline">Ash.Scope</code></a> for more.</li><li><code class="inline">:forms</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">keyword/0</code></a>) - Nested form configurations. See <code class="inline">for_create/3</code> &quot;Nested Form Options&quot; docs for more.</li><li><code class="inline">:warn_on_unhandled_errors?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Warns on any errors that don't match the form pattern of <code class="inline">{:field, &quot;message&quot;, [replacement: :vars]}</code> or implement the <a href="https://hexdocs.pm/ash_phoenix/2.3.11/AshPhoenix.FormData.Error.html"><code class="inline">AshPhoenix.FormData.Error</code></a> protocol. The default value is <code class="inline">true</code>.</li><li><code class="inline">:domain</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - The domain to use when calling the action.</li><li><code class="inline">:as</code> (<a href="https://hexdocs.pm/elixir/String.html#t:t/0"><code class="inline">String.t/0</code></a>) - The name of the form in the submitted params. You will need to pull the form params out using this key. The default value is <code class="inline">&quot;form&quot;</code>.</li><li><code class="inline">:id</code> (<a href="https://hexdocs.pm/elixir/String.html#t:t/0"><code class="inline">String.t/0</code></a>) - The html id of the form. Defaults to the value of <code class="inline">:as</code> if provided, otherwise &quot;form&quot;</li><li><code class="inline">:transform_errors</code> - Allows for manual manipulation and transformation of errors.<br/>If possible, try to implement <a href="https://hexdocs.pm/ash_phoenix/2.3.11/AshPhoenix.FormData.Error.html"><code class="inline">AshPhoenix.FormData.Error</code></a> for the error (if it as a custom one, for example).
If that isn't possible, you can provide this function which will get the changeset and the error, and should
return a list of ash phoenix formatted errors, e.g <code class="inline">[{field :: atom, message :: String.t(), substituations :: Keyword.t()}]</code><br/>Example:<pre><code class="makeup elixir" translate="no"><span class="nc">AshPhoenix.Form</span><span class="o">.</span><span class="n">for_create</span><span class="p" data-group-id="9537576591-1">(</span><span class="n">...</span><span class="p">,</span><span class="w"> </span><span class="ss">transform_errors</span><span class="p">:</span><span class="w"> </span><span class="k" data-group-id="9537576591-2">fn</span><span class="w">
  </span><span class="c">_changeset</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="9537576591-3">%{</span><span class="ss">field</span><span class="p">:</span><span class="w"> </span><span class="ss">:field1</span><span class="p" data-group-id="9537576591-3">}</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">error</span><span class="w"> </span><span class="o">-&gt;</span><span class="w">
    </span><span class="p" data-group-id="9537576591-4">%{</span><span class="n">error</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="ss">field</span><span class="p">:</span><span class="w"> </span><span class="ss">:field2</span><span class="p" data-group-id="9537576591-4">}</span><span class="w">  
  </span><span class="c">_changeset</span><span class="p">,</span><span class="w"> </span><span class="n">error</span><span class="w"> </span><span class="o">-&gt;</span><span class="w">
    </span><span class="n">error</span><span class="w">
</span><span class="k" data-group-id="9537576591-2">end</span></code></pre></li><li><code class="inline">:prepare_source</code> - A 1-argument function the receives the initial changeset (or query) and makes any relevant changes to it.
This can be used to do things like:  <ul><li>Set default argument values before the validations are run using <a href="https://hexdocs.pm/ash/3.5.32/Ash.Changeset.html#set_arguments/2"><code class="inline">Ash.Changeset.set_arguments/2</code></a> or <a href="https://hexdocs.pm/ash/3.5.32/Ash.Changeset.html#set_argument/3"><code class="inline">Ash.Changeset.set_argument/3</code></a></li><li>Set changeset context</li><li>Do any other pre-processing on the changeset</li></ul></li><li><code class="inline">:prepare_params</code> - A 2-argument function that receives the params map and the :validate atom and should return prepared params.
Called before the form is validated.</li><li><code class="inline">:transform_params</code> - A function for post-processing the form parameters before they are used for changeset validation/submission.
Use a 3-argument function to pattern match on the <a href="https://hexdocs.pm/ash_phoenix/2.3.11/AshPhoenix.Form.html"><code class="inline">AshPhoenix.Form</code></a> struct.</li><li><code class="inline">:method</code> (<a href="https://hexdocs.pm/elixir/String.html#t:t/0"><code class="inline">String.t/0</code></a>) - The http method to associate with the form. Defaults to <code class="inline">post</code> for creates, and <code class="inline">put</code> for everything else.</li><li><code class="inline">:exclude_fields_if_empty</code> - These fields will be ignored if they are empty strings.<br/>This list of fields supports dead view forms. When a form is submitted from dead view
empty fields are submitted as empty strings. This is problematic for fields that allow_nil
or those that have default values.</li><li><code class="inline">:tenant</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - The current tenant. Passed through to the underlying action.</li><li><code class="inline">:params</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - The initial parameters to use for the form. This is useful for setting up a form with default values. The default value is <code class="inline">%{}</code>.
Any <em>additional</em> options will be passed to the underlying call to build the source, i.e
<a href="https://hexdocs.pm/ash/3.5.32/Ash.ActionInput.html#for_action/4"><code class="inline">Ash.ActionInput.for_action/4</code></a>, or <code class="inline">Ash.Changeset.for_*</code>. This means you can set things
like the tenant/actor. These will be retained, and provided again when
<code class="inline">Form.submit/3</code> is called.</li></ul><h2 id="form_to_refresh_metrics/1-nested-form-options" class="section-heading"><a href="#form_to_refresh_metrics/1-nested-form-options" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Nested Form Options</span></h2><ul><li><code class="inline">:type</code> - The cardinality of the nested form - <code class="inline">:list</code> or <code class="inline">:single</code>. Valid values are :list, :single The default value is <code class="inline">:single</code>.</li><li><code class="inline">:sparse?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If the nested form is <code class="inline">sparse</code>, the form won't expect all inputs for all forms to be present.<br/>Has no effect if the type is <code class="inline">:single</code>.<br/>Normally, if you leave some forms out of a list of nested forms, they are removed from the parameters
passed to the action. For example, if you had a <code class="inline">post</code> with two comments <code class="inline">[%Comment{id: 1}, %Comment{id: 2}]</code>
and you passed down params like <code class="inline">comments[0][id]=1&amp;comments[1][text]=new_text</code>, we would remove the second comment
from the input parameters, resulting in the following being passed into the action: <code class="inline">%{&quot;comments&quot; =&gt; [%{&quot;id&quot; =&gt; 1, &quot;text&quot; =&gt; &quot;new&quot;}]}</code>.
By setting it to sparse, you have to explicitly use <code class="inline">remove_form</code> for that removal to happen. So in the same scenario above, the parameters
that would be sent would actually be <code class="inline">%{&quot;comments&quot; =&gt; [%{&quot;id&quot; =&gt; 1, &quot;text&quot; =&gt; &quot;new&quot;}, %{&quot;id&quot; =&gt; 2}]}</code>.<br/>One major difference with <code class="inline">sparse?</code> is that the form actually ignores the <em>index</em> provided, e.g <code class="inline">comments[0]...</code>, and instead uses the primary
key e.g <code class="inline">comments[0][id]</code> to match which form is being updated. This prevents you from having to find the index of the specific item you want to
update. Which could be very gnarly on deeply nested forms. If there is no primary key, or the primary key does not match anything, it is treated
as a new form.<br/>REMEMBER: You need to use <code class="inline">Phoenix.Components.inputs_for</code> to render the nested forms, or manually add hidden inputs using
<code class="inline">hidden_inputs_for</code> (or <code class="inline">HiddenInputs</code> if using Surface) for the id to be automatically placed into the form.</li><li><code class="inline">:forms</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">keyword/0</code></a>) - Forms nested inside the current nesting level in all cases.</li><li><code class="inline">:for_type</code> - What action types the form applies for. Leave blank for it to apply to all action types. Valid values are :read, :create, :update</li><li><code class="inline">:merge?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - When building parameters, this input will be merged with its parent input. This allows for combining multiple forms into a single input. The default value is <code class="inline">false</code>.</li><li><code class="inline">:for</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - When creating parameters for the action, the key that the forms should be gathered into. Defaults to the key used to configure the nested form. Ignored if <code class="inline">merge?</code> is <code class="inline">true</code>.</li><li><code class="inline">:resource</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - The resource of the nested forms. Unnecessary if you are providing the <code class="inline">data</code> key, and not adding additional forms to this path.</li><li><code class="inline">:create_action</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - The create action to use when building new forms. Only necessary if you want to use <code class="inline">add_form/3</code> with this path.</li><li><code class="inline">:update_action</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - The update action to use when building forms for data. Only necessary if you supply the <code class="inline">data</code> key.</li><li><code class="inline">:data</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - The current value or values that should have update forms built by default.<br/>You can also provide a single argument function that will return the data based on the
data of the parent form. This is important for multiple nesting levels of <code class="inline">:list</code> type
forms, because the data depends on which parent is being rendered.</li></ul>
  </section>
</section>
<section class="detail" id="form_to_search_offenders/1">

    <span id="form_to_search_offenders/0"></span>

  <div class="detail-header">
    <a href="#form_to_search_offenders/1" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">form_to_search_offenders(form_opts \\ [])</h1>


    </div>
  </div>

  <section class="docstring">

<p>Creates a form for the search action on EhsEnforcement.Enforcement.Offender.</p><h2 id="form_to_search_offenders/1-options" class="section-heading"><a href="#form_to_search_offenders/1-options" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Options</span></h2><ul><li><code class="inline">:actor</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - The actor performing the action. Passed through to the underlying action.</li><li><code class="inline">:scope</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A value that implements the <a href="https://hexdocs.pm/ash/3.5.32/Ash.Scope.html"><code class="inline">Ash.Scope</code></a> protocol, for passing around actor/tenant/context in a single value. See <a href="https://hexdocs.pm/ash/3.5.32/Ash.Scope.html"><code class="inline">Ash.Scope</code></a> for more.</li><li><code class="inline">:forms</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">keyword/0</code></a>) - Nested form configurations. See <code class="inline">for_create/3</code> &quot;Nested Form Options&quot; docs for more.</li><li><code class="inline">:warn_on_unhandled_errors?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Warns on any errors that don't match the form pattern of <code class="inline">{:field, &quot;message&quot;, [replacement: :vars]}</code> or implement the <a href="https://hexdocs.pm/ash_phoenix/2.3.11/AshPhoenix.FormData.Error.html"><code class="inline">AshPhoenix.FormData.Error</code></a> protocol. The default value is <code class="inline">true</code>.</li><li><code class="inline">:domain</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - The domain to use when calling the action.</li><li><code class="inline">:as</code> (<a href="https://hexdocs.pm/elixir/String.html#t:t/0"><code class="inline">String.t/0</code></a>) - The name of the form in the submitted params. You will need to pull the form params out using this key. The default value is <code class="inline">&quot;form&quot;</code>.</li><li><code class="inline">:id</code> (<a href="https://hexdocs.pm/elixir/String.html#t:t/0"><code class="inline">String.t/0</code></a>) - The html id of the form. Defaults to the value of <code class="inline">:as</code> if provided, otherwise &quot;form&quot;</li><li><code class="inline">:transform_errors</code> - Allows for manual manipulation and transformation of errors.<br/>If possible, try to implement <a href="https://hexdocs.pm/ash_phoenix/2.3.11/AshPhoenix.FormData.Error.html"><code class="inline">AshPhoenix.FormData.Error</code></a> for the error (if it as a custom one, for example).
If that isn't possible, you can provide this function which will get the changeset and the error, and should
return a list of ash phoenix formatted errors, e.g <code class="inline">[{field :: atom, message :: String.t(), substituations :: Keyword.t()}]</code><br/>Example:<pre><code class="makeup elixir" translate="no"><span class="nc">AshPhoenix.Form</span><span class="o">.</span><span class="n">for_create</span><span class="p" data-group-id="4820517746-1">(</span><span class="n">...</span><span class="p">,</span><span class="w"> </span><span class="ss">transform_errors</span><span class="p">:</span><span class="w"> </span><span class="k" data-group-id="4820517746-2">fn</span><span class="w">
  </span><span class="c">_changeset</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="4820517746-3">%{</span><span class="ss">field</span><span class="p">:</span><span class="w"> </span><span class="ss">:field1</span><span class="p" data-group-id="4820517746-3">}</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">error</span><span class="w"> </span><span class="o">-&gt;</span><span class="w">
    </span><span class="p" data-group-id="4820517746-4">%{</span><span class="n">error</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="ss">field</span><span class="p">:</span><span class="w"> </span><span class="ss">:field2</span><span class="p" data-group-id="4820517746-4">}</span><span class="w">  
  </span><span class="c">_changeset</span><span class="p">,</span><span class="w"> </span><span class="n">error</span><span class="w"> </span><span class="o">-&gt;</span><span class="w">
    </span><span class="n">error</span><span class="w">
</span><span class="k" data-group-id="4820517746-2">end</span></code></pre></li><li><code class="inline">:prepare_source</code> - A 1-argument function the receives the initial changeset (or query) and makes any relevant changes to it.
This can be used to do things like:  <ul><li>Set default argument values before the validations are run using <a href="https://hexdocs.pm/ash/3.5.32/Ash.Changeset.html#set_arguments/2"><code class="inline">Ash.Changeset.set_arguments/2</code></a> or <a href="https://hexdocs.pm/ash/3.5.32/Ash.Changeset.html#set_argument/3"><code class="inline">Ash.Changeset.set_argument/3</code></a></li><li>Set changeset context</li><li>Do any other pre-processing on the changeset</li></ul></li><li><code class="inline">:prepare_params</code> - A 2-argument function that receives the params map and the :validate atom and should return prepared params.
Called before the form is validated.</li><li><code class="inline">:transform_params</code> - A function for post-processing the form parameters before they are used for changeset validation/submission.
Use a 3-argument function to pattern match on the <a href="https://hexdocs.pm/ash_phoenix/2.3.11/AshPhoenix.Form.html"><code class="inline">AshPhoenix.Form</code></a> struct.</li><li><code class="inline">:method</code> (<a href="https://hexdocs.pm/elixir/String.html#t:t/0"><code class="inline">String.t/0</code></a>) - The http method to associate with the form. Defaults to <code class="inline">post</code> for creates, and <code class="inline">put</code> for everything else.</li><li><code class="inline">:exclude_fields_if_empty</code> - These fields will be ignored if they are empty strings.<br/>This list of fields supports dead view forms. When a form is submitted from dead view
empty fields are submitted as empty strings. This is problematic for fields that allow_nil
or those that have default values.</li><li><code class="inline">:tenant</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - The current tenant. Passed through to the underlying action.</li><li><code class="inline">:params</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - The initial parameters to use for the form. This is useful for setting up a form with default values. The default value is <code class="inline">%{}</code>.
Any <em>additional</em> options will be passed to the underlying call to build the source, i.e
<a href="https://hexdocs.pm/ash/3.5.32/Ash.ActionInput.html#for_action/4"><code class="inline">Ash.ActionInput.for_action/4</code></a>, or <code class="inline">Ash.Changeset.for_*</code>. This means you can set things
like the tenant/actor. These will be retained, and provided again when
<code class="inline">Form.submit/3</code> is called.</li></ul><h2 id="form_to_search_offenders/1-nested-form-options" class="section-heading"><a href="#form_to_search_offenders/1-nested-form-options" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Nested Form Options</span></h2><ul><li><code class="inline">:type</code> - The cardinality of the nested form - <code class="inline">:list</code> or <code class="inline">:single</code>. Valid values are :list, :single The default value is <code class="inline">:single</code>.</li><li><code class="inline">:sparse?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If the nested form is <code class="inline">sparse</code>, the form won't expect all inputs for all forms to be present.<br/>Has no effect if the type is <code class="inline">:single</code>.<br/>Normally, if you leave some forms out of a list of nested forms, they are removed from the parameters
passed to the action. For example, if you had a <code class="inline">post</code> with two comments <code class="inline">[%Comment{id: 1}, %Comment{id: 2}]</code>
and you passed down params like <code class="inline">comments[0][id]=1&amp;comments[1][text]=new_text</code>, we would remove the second comment
from the input parameters, resulting in the following being passed into the action: <code class="inline">%{&quot;comments&quot; =&gt; [%{&quot;id&quot; =&gt; 1, &quot;text&quot; =&gt; &quot;new&quot;}]}</code>.
By setting it to sparse, you have to explicitly use <code class="inline">remove_form</code> for that removal to happen. So in the same scenario above, the parameters
that would be sent would actually be <code class="inline">%{&quot;comments&quot; =&gt; [%{&quot;id&quot; =&gt; 1, &quot;text&quot; =&gt; &quot;new&quot;}, %{&quot;id&quot; =&gt; 2}]}</code>.<br/>One major difference with <code class="inline">sparse?</code> is that the form actually ignores the <em>index</em> provided, e.g <code class="inline">comments[0]...</code>, and instead uses the primary
key e.g <code class="inline">comments[0][id]</code> to match which form is being updated. This prevents you from having to find the index of the specific item you want to
update. Which could be very gnarly on deeply nested forms. If there is no primary key, or the primary key does not match anything, it is treated
as a new form.<br/>REMEMBER: You need to use <code class="inline">Phoenix.Components.inputs_for</code> to render the nested forms, or manually add hidden inputs using
<code class="inline">hidden_inputs_for</code> (or <code class="inline">HiddenInputs</code> if using Surface) for the id to be automatically placed into the form.</li><li><code class="inline">:forms</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">keyword/0</code></a>) - Forms nested inside the current nesting level in all cases.</li><li><code class="inline">:for_type</code> - What action types the form applies for. Leave blank for it to apply to all action types. Valid values are :read, :create, :update</li><li><code class="inline">:merge?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - When building parameters, this input will be merged with its parent input. This allows for combining multiple forms into a single input. The default value is <code class="inline">false</code>.</li><li><code class="inline">:for</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - When creating parameters for the action, the key that the forms should be gathered into. Defaults to the key used to configure the nested form. Ignored if <code class="inline">merge?</code> is <code class="inline">true</code>.</li><li><code class="inline">:resource</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - The resource of the nested forms. Unnecessary if you are providing the <code class="inline">data</code> key, and not adding additional forms to this path.</li><li><code class="inline">:create_action</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - The create action to use when building new forms. Only necessary if you want to use <code class="inline">add_form/3</code> with this path.</li><li><code class="inline">:update_action</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - The update action to use when building forms for data. Only necessary if you supply the <code class="inline">data</code> key.</li><li><code class="inline">:data</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - The current value or values that should have update forms built by default.<br/>You can also provide a single argument function that will return the data based on the
data of the parent form. This is important for multiple nesting levels of <code class="inline">:list</code> type
forms, because the data depends on which parent is being rendered.</li></ul>
  </section>
</section>
<section class="detail" id="form_to_sync_case_from_airtable/2">

    <span id="form_to_sync_case_from_airtable/1"></span>

  <div class="detail-header">
    <a href="#form_to_sync_case_from_airtable/2" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">form_to_sync_case_from_airtable(record, form_opts \\ [])</h1>


    </div>
  </div>

  <section class="docstring">

<p>Creates a form for the sync_from_airtable action on EhsEnforcement.Enforcement.Case.</p><h2 id="form_to_sync_case_from_airtable/2-options" class="section-heading"><a href="#form_to_sync_case_from_airtable/2-options" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Options</span></h2><ul><li><code class="inline">:actor</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - The actor performing the action. Passed through to the underlying action.</li><li><code class="inline">:scope</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A value that implements the <a href="https://hexdocs.pm/ash/3.5.32/Ash.Scope.html"><code class="inline">Ash.Scope</code></a> protocol, for passing around actor/tenant/context in a single value. See <a href="https://hexdocs.pm/ash/3.5.32/Ash.Scope.html"><code class="inline">Ash.Scope</code></a> for more.</li><li><code class="inline">:forms</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">keyword/0</code></a>) - Nested form configurations. See <code class="inline">for_create/3</code> &quot;Nested Form Options&quot; docs for more.</li><li><code class="inline">:warn_on_unhandled_errors?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Warns on any errors that don't match the form pattern of <code class="inline">{:field, &quot;message&quot;, [replacement: :vars]}</code> or implement the <a href="https://hexdocs.pm/ash_phoenix/2.3.11/AshPhoenix.FormData.Error.html"><code class="inline">AshPhoenix.FormData.Error</code></a> protocol. The default value is <code class="inline">true</code>.</li><li><code class="inline">:domain</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - The domain to use when calling the action.</li><li><code class="inline">:as</code> (<a href="https://hexdocs.pm/elixir/String.html#t:t/0"><code class="inline">String.t/0</code></a>) - The name of the form in the submitted params. You will need to pull the form params out using this key. The default value is <code class="inline">&quot;form&quot;</code>.</li><li><code class="inline">:id</code> (<a href="https://hexdocs.pm/elixir/String.html#t:t/0"><code class="inline">String.t/0</code></a>) - The html id of the form. Defaults to the value of <code class="inline">:as</code> if provided, otherwise &quot;form&quot;</li><li><code class="inline">:transform_errors</code> - Allows for manual manipulation and transformation of errors.<br/>If possible, try to implement <a href="https://hexdocs.pm/ash_phoenix/2.3.11/AshPhoenix.FormData.Error.html"><code class="inline">AshPhoenix.FormData.Error</code></a> for the error (if it as a custom one, for example).
If that isn't possible, you can provide this function which will get the changeset and the error, and should
return a list of ash phoenix formatted errors, e.g <code class="inline">[{field :: atom, message :: String.t(), substituations :: Keyword.t()}]</code><br/>Example:<pre><code class="makeup elixir" translate="no"><span class="nc">AshPhoenix.Form</span><span class="o">.</span><span class="n">for_create</span><span class="p" data-group-id="4211754974-1">(</span><span class="n">...</span><span class="p">,</span><span class="w"> </span><span class="ss">transform_errors</span><span class="p">:</span><span class="w"> </span><span class="k" data-group-id="4211754974-2">fn</span><span class="w">
  </span><span class="c">_changeset</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="4211754974-3">%{</span><span class="ss">field</span><span class="p">:</span><span class="w"> </span><span class="ss">:field1</span><span class="p" data-group-id="4211754974-3">}</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">error</span><span class="w"> </span><span class="o">-&gt;</span><span class="w">
    </span><span class="p" data-group-id="4211754974-4">%{</span><span class="n">error</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="ss">field</span><span class="p">:</span><span class="w"> </span><span class="ss">:field2</span><span class="p" data-group-id="4211754974-4">}</span><span class="w">  
  </span><span class="c">_changeset</span><span class="p">,</span><span class="w"> </span><span class="n">error</span><span class="w"> </span><span class="o">-&gt;</span><span class="w">
    </span><span class="n">error</span><span class="w">
</span><span class="k" data-group-id="4211754974-2">end</span></code></pre></li><li><code class="inline">:prepare_source</code> - A 1-argument function the receives the initial changeset (or query) and makes any relevant changes to it.
This can be used to do things like:  <ul><li>Set default argument values before the validations are run using <a href="https://hexdocs.pm/ash/3.5.32/Ash.Changeset.html#set_arguments/2"><code class="inline">Ash.Changeset.set_arguments/2</code></a> or <a href="https://hexdocs.pm/ash/3.5.32/Ash.Changeset.html#set_argument/3"><code class="inline">Ash.Changeset.set_argument/3</code></a></li><li>Set changeset context</li><li>Do any other pre-processing on the changeset</li></ul></li><li><code class="inline">:prepare_params</code> - A 2-argument function that receives the params map and the :validate atom and should return prepared params.
Called before the form is validated.</li><li><code class="inline">:transform_params</code> - A function for post-processing the form parameters before they are used for changeset validation/submission.
Use a 3-argument function to pattern match on the <a href="https://hexdocs.pm/ash_phoenix/2.3.11/AshPhoenix.Form.html"><code class="inline">AshPhoenix.Form</code></a> struct.</li><li><code class="inline">:method</code> (<a href="https://hexdocs.pm/elixir/String.html#t:t/0"><code class="inline">String.t/0</code></a>) - The http method to associate with the form. Defaults to <code class="inline">post</code> for creates, and <code class="inline">put</code> for everything else.</li><li><code class="inline">:exclude_fields_if_empty</code> - These fields will be ignored if they are empty strings.<br/>This list of fields supports dead view forms. When a form is submitted from dead view
empty fields are submitted as empty strings. This is problematic for fields that allow_nil
or those that have default values.</li><li><code class="inline">:tenant</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - The current tenant. Passed through to the underlying action.</li><li><code class="inline">:params</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - The initial parameters to use for the form. This is useful for setting up a form with default values. The default value is <code class="inline">%{}</code>.
Any <em>additional</em> options will be passed to the underlying call to build the source, i.e
<a href="https://hexdocs.pm/ash/3.5.32/Ash.ActionInput.html#for_action/4"><code class="inline">Ash.ActionInput.for_action/4</code></a>, or <code class="inline">Ash.Changeset.for_*</code>. This means you can set things
like the tenant/actor. These will be retained, and provided again when
<code class="inline">Form.submit/3</code> is called.</li></ul><h2 id="form_to_sync_case_from_airtable/2-nested-form-options" class="section-heading"><a href="#form_to_sync_case_from_airtable/2-nested-form-options" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Nested Form Options</span></h2><ul><li><code class="inline">:type</code> - The cardinality of the nested form - <code class="inline">:list</code> or <code class="inline">:single</code>. Valid values are :list, :single The default value is <code class="inline">:single</code>.</li><li><code class="inline">:sparse?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If the nested form is <code class="inline">sparse</code>, the form won't expect all inputs for all forms to be present.<br/>Has no effect if the type is <code class="inline">:single</code>.<br/>Normally, if you leave some forms out of a list of nested forms, they are removed from the parameters
passed to the action. For example, if you had a <code class="inline">post</code> with two comments <code class="inline">[%Comment{id: 1}, %Comment{id: 2}]</code>
and you passed down params like <code class="inline">comments[0][id]=1&amp;comments[1][text]=new_text</code>, we would remove the second comment
from the input parameters, resulting in the following being passed into the action: <code class="inline">%{&quot;comments&quot; =&gt; [%{&quot;id&quot; =&gt; 1, &quot;text&quot; =&gt; &quot;new&quot;}]}</code>.
By setting it to sparse, you have to explicitly use <code class="inline">remove_form</code> for that removal to happen. So in the same scenario above, the parameters
that would be sent would actually be <code class="inline">%{&quot;comments&quot; =&gt; [%{&quot;id&quot; =&gt; 1, &quot;text&quot; =&gt; &quot;new&quot;}, %{&quot;id&quot; =&gt; 2}]}</code>.<br/>One major difference with <code class="inline">sparse?</code> is that the form actually ignores the <em>index</em> provided, e.g <code class="inline">comments[0]...</code>, and instead uses the primary
key e.g <code class="inline">comments[0][id]</code> to match which form is being updated. This prevents you from having to find the index of the specific item you want to
update. Which could be very gnarly on deeply nested forms. If there is no primary key, or the primary key does not match anything, it is treated
as a new form.<br/>REMEMBER: You need to use <code class="inline">Phoenix.Components.inputs_for</code> to render the nested forms, or manually add hidden inputs using
<code class="inline">hidden_inputs_for</code> (or <code class="inline">HiddenInputs</code> if using Surface) for the id to be automatically placed into the form.</li><li><code class="inline">:forms</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">keyword/0</code></a>) - Forms nested inside the current nesting level in all cases.</li><li><code class="inline">:for_type</code> - What action types the form applies for. Leave blank for it to apply to all action types. Valid values are :read, :create, :update</li><li><code class="inline">:merge?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - When building parameters, this input will be merged with its parent input. This allows for combining multiple forms into a single input. The default value is <code class="inline">false</code>.</li><li><code class="inline">:for</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - When creating parameters for the action, the key that the forms should be gathered into. Defaults to the key used to configure the nested form. Ignored if <code class="inline">merge?</code> is <code class="inline">true</code>.</li><li><code class="inline">:resource</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - The resource of the nested forms. Unnecessary if you are providing the <code class="inline">data</code> key, and not adding additional forms to this path.</li><li><code class="inline">:create_action</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - The create action to use when building new forms. Only necessary if you want to use <code class="inline">add_form/3</code> with this path.</li><li><code class="inline">:update_action</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - The update action to use when building forms for data. Only necessary if you supply the <code class="inline">data</code> key.</li><li><code class="inline">:data</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - The current value or values that should have update forms built by default.<br/>You can also provide a single argument function that will return the data based on the
data of the parent form. This is important for multiple nesting levels of <code class="inline">:list</code> type
forms, because the data depends on which parent is being rendered.</li></ul>
  </section>
</section>
<section class="detail" id="form_to_update_agency/2">

    <span id="form_to_update_agency/1"></span>

  <div class="detail-header">
    <a href="#form_to_update_agency/2" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">form_to_update_agency(record, form_opts \\ [])</h1>


    </div>
  </div>

  <section class="docstring">

<p>Creates a form for the update action on EhsEnforcement.Enforcement.Agency.</p><h2 id="form_to_update_agency/2-options" class="section-heading"><a href="#form_to_update_agency/2-options" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Options</span></h2><ul><li><code class="inline">:actor</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - The actor performing the action. Passed through to the underlying action.</li><li><code class="inline">:scope</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A value that implements the <a href="https://hexdocs.pm/ash/3.5.32/Ash.Scope.html"><code class="inline">Ash.Scope</code></a> protocol, for passing around actor/tenant/context in a single value. See <a href="https://hexdocs.pm/ash/3.5.32/Ash.Scope.html"><code class="inline">Ash.Scope</code></a> for more.</li><li><code class="inline">:forms</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">keyword/0</code></a>) - Nested form configurations. See <code class="inline">for_create/3</code> &quot;Nested Form Options&quot; docs for more.</li><li><code class="inline">:warn_on_unhandled_errors?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Warns on any errors that don't match the form pattern of <code class="inline">{:field, &quot;message&quot;, [replacement: :vars]}</code> or implement the <a href="https://hexdocs.pm/ash_phoenix/2.3.11/AshPhoenix.FormData.Error.html"><code class="inline">AshPhoenix.FormData.Error</code></a> protocol. The default value is <code class="inline">true</code>.</li><li><code class="inline">:domain</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - The domain to use when calling the action.</li><li><code class="inline">:as</code> (<a href="https://hexdocs.pm/elixir/String.html#t:t/0"><code class="inline">String.t/0</code></a>) - The name of the form in the submitted params. You will need to pull the form params out using this key. The default value is <code class="inline">&quot;form&quot;</code>.</li><li><code class="inline">:id</code> (<a href="https://hexdocs.pm/elixir/String.html#t:t/0"><code class="inline">String.t/0</code></a>) - The html id of the form. Defaults to the value of <code class="inline">:as</code> if provided, otherwise &quot;form&quot;</li><li><code class="inline">:transform_errors</code> - Allows for manual manipulation and transformation of errors.<br/>If possible, try to implement <a href="https://hexdocs.pm/ash_phoenix/2.3.11/AshPhoenix.FormData.Error.html"><code class="inline">AshPhoenix.FormData.Error</code></a> for the error (if it as a custom one, for example).
If that isn't possible, you can provide this function which will get the changeset and the error, and should
return a list of ash phoenix formatted errors, e.g <code class="inline">[{field :: atom, message :: String.t(), substituations :: Keyword.t()}]</code><br/>Example:<pre><code class="makeup elixir" translate="no"><span class="nc">AshPhoenix.Form</span><span class="o">.</span><span class="n">for_create</span><span class="p" data-group-id="4785842570-1">(</span><span class="n">...</span><span class="p">,</span><span class="w"> </span><span class="ss">transform_errors</span><span class="p">:</span><span class="w"> </span><span class="k" data-group-id="4785842570-2">fn</span><span class="w">
  </span><span class="c">_changeset</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="4785842570-3">%{</span><span class="ss">field</span><span class="p">:</span><span class="w"> </span><span class="ss">:field1</span><span class="p" data-group-id="4785842570-3">}</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">error</span><span class="w"> </span><span class="o">-&gt;</span><span class="w">
    </span><span class="p" data-group-id="4785842570-4">%{</span><span class="n">error</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="ss">field</span><span class="p">:</span><span class="w"> </span><span class="ss">:field2</span><span class="p" data-group-id="4785842570-4">}</span><span class="w">  
  </span><span class="c">_changeset</span><span class="p">,</span><span class="w"> </span><span class="n">error</span><span class="w"> </span><span class="o">-&gt;</span><span class="w">
    </span><span class="n">error</span><span class="w">
</span><span class="k" data-group-id="4785842570-2">end</span></code></pre></li><li><code class="inline">:prepare_source</code> - A 1-argument function the receives the initial changeset (or query) and makes any relevant changes to it.
This can be used to do things like:  <ul><li>Set default argument values before the validations are run using <a href="https://hexdocs.pm/ash/3.5.32/Ash.Changeset.html#set_arguments/2"><code class="inline">Ash.Changeset.set_arguments/2</code></a> or <a href="https://hexdocs.pm/ash/3.5.32/Ash.Changeset.html#set_argument/3"><code class="inline">Ash.Changeset.set_argument/3</code></a></li><li>Set changeset context</li><li>Do any other pre-processing on the changeset</li></ul></li><li><code class="inline">:prepare_params</code> - A 2-argument function that receives the params map and the :validate atom and should return prepared params.
Called before the form is validated.</li><li><code class="inline">:transform_params</code> - A function for post-processing the form parameters before they are used for changeset validation/submission.
Use a 3-argument function to pattern match on the <a href="https://hexdocs.pm/ash_phoenix/2.3.11/AshPhoenix.Form.html"><code class="inline">AshPhoenix.Form</code></a> struct.</li><li><code class="inline">:method</code> (<a href="https://hexdocs.pm/elixir/String.html#t:t/0"><code class="inline">String.t/0</code></a>) - The http method to associate with the form. Defaults to <code class="inline">post</code> for creates, and <code class="inline">put</code> for everything else.</li><li><code class="inline">:exclude_fields_if_empty</code> - These fields will be ignored if they are empty strings.<br/>This list of fields supports dead view forms. When a form is submitted from dead view
empty fields are submitted as empty strings. This is problematic for fields that allow_nil
or those that have default values.</li><li><code class="inline">:tenant</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - The current tenant. Passed through to the underlying action.</li><li><code class="inline">:params</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - The initial parameters to use for the form. This is useful for setting up a form with default values. The default value is <code class="inline">%{}</code>.
Any <em>additional</em> options will be passed to the underlying call to build the source, i.e
<a href="https://hexdocs.pm/ash/3.5.32/Ash.ActionInput.html#for_action/4"><code class="inline">Ash.ActionInput.for_action/4</code></a>, or <code class="inline">Ash.Changeset.for_*</code>. This means you can set things
like the tenant/actor. These will be retained, and provided again when
<code class="inline">Form.submit/3</code> is called.</li></ul><h2 id="form_to_update_agency/2-nested-form-options" class="section-heading"><a href="#form_to_update_agency/2-nested-form-options" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Nested Form Options</span></h2><ul><li><code class="inline">:type</code> - The cardinality of the nested form - <code class="inline">:list</code> or <code class="inline">:single</code>. Valid values are :list, :single The default value is <code class="inline">:single</code>.</li><li><code class="inline">:sparse?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If the nested form is <code class="inline">sparse</code>, the form won't expect all inputs for all forms to be present.<br/>Has no effect if the type is <code class="inline">:single</code>.<br/>Normally, if you leave some forms out of a list of nested forms, they are removed from the parameters
passed to the action. For example, if you had a <code class="inline">post</code> with two comments <code class="inline">[%Comment{id: 1}, %Comment{id: 2}]</code>
and you passed down params like <code class="inline">comments[0][id]=1&amp;comments[1][text]=new_text</code>, we would remove the second comment
from the input parameters, resulting in the following being passed into the action: <code class="inline">%{&quot;comments&quot; =&gt; [%{&quot;id&quot; =&gt; 1, &quot;text&quot; =&gt; &quot;new&quot;}]}</code>.
By setting it to sparse, you have to explicitly use <code class="inline">remove_form</code> for that removal to happen. So in the same scenario above, the parameters
that would be sent would actually be <code class="inline">%{&quot;comments&quot; =&gt; [%{&quot;id&quot; =&gt; 1, &quot;text&quot; =&gt; &quot;new&quot;}, %{&quot;id&quot; =&gt; 2}]}</code>.<br/>One major difference with <code class="inline">sparse?</code> is that the form actually ignores the <em>index</em> provided, e.g <code class="inline">comments[0]...</code>, and instead uses the primary
key e.g <code class="inline">comments[0][id]</code> to match which form is being updated. This prevents you from having to find the index of the specific item you want to
update. Which could be very gnarly on deeply nested forms. If there is no primary key, or the primary key does not match anything, it is treated
as a new form.<br/>REMEMBER: You need to use <code class="inline">Phoenix.Components.inputs_for</code> to render the nested forms, or manually add hidden inputs using
<code class="inline">hidden_inputs_for</code> (or <code class="inline">HiddenInputs</code> if using Surface) for the id to be automatically placed into the form.</li><li><code class="inline">:forms</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">keyword/0</code></a>) - Forms nested inside the current nesting level in all cases.</li><li><code class="inline">:for_type</code> - What action types the form applies for. Leave blank for it to apply to all action types. Valid values are :read, :create, :update</li><li><code class="inline">:merge?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - When building parameters, this input will be merged with its parent input. This allows for combining multiple forms into a single input. The default value is <code class="inline">false</code>.</li><li><code class="inline">:for</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - When creating parameters for the action, the key that the forms should be gathered into. Defaults to the key used to configure the nested form. Ignored if <code class="inline">merge?</code> is <code class="inline">true</code>.</li><li><code class="inline">:resource</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - The resource of the nested forms. Unnecessary if you are providing the <code class="inline">data</code> key, and not adding additional forms to this path.</li><li><code class="inline">:create_action</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - The create action to use when building new forms. Only necessary if you want to use <code class="inline">add_form/3</code> with this path.</li><li><code class="inline">:update_action</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - The update action to use when building forms for data. Only necessary if you supply the <code class="inline">data</code> key.</li><li><code class="inline">:data</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - The current value or values that should have update forms built by default.<br/>You can also provide a single argument function that will return the data based on the
data of the parent form. This is important for multiple nesting levels of <code class="inline">:list</code> type
forms, because the data depends on which parent is being rendered.</li></ul>
  </section>
</section>
<section class="detail" id="form_to_update_breach/2">

    <span id="form_to_update_breach/1"></span>

  <div class="detail-header">
    <a href="#form_to_update_breach/2" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">form_to_update_breach(record, form_opts \\ [])</h1>


    </div>
  </div>

  <section class="docstring">

<p>Creates a form for the update action on EhsEnforcement.Enforcement.Breach.</p><h2 id="form_to_update_breach/2-options" class="section-heading"><a href="#form_to_update_breach/2-options" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Options</span></h2><ul><li><code class="inline">:actor</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - The actor performing the action. Passed through to the underlying action.</li><li><code class="inline">:scope</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A value that implements the <a href="https://hexdocs.pm/ash/3.5.32/Ash.Scope.html"><code class="inline">Ash.Scope</code></a> protocol, for passing around actor/tenant/context in a single value. See <a href="https://hexdocs.pm/ash/3.5.32/Ash.Scope.html"><code class="inline">Ash.Scope</code></a> for more.</li><li><code class="inline">:forms</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">keyword/0</code></a>) - Nested form configurations. See <code class="inline">for_create/3</code> &quot;Nested Form Options&quot; docs for more.</li><li><code class="inline">:warn_on_unhandled_errors?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Warns on any errors that don't match the form pattern of <code class="inline">{:field, &quot;message&quot;, [replacement: :vars]}</code> or implement the <a href="https://hexdocs.pm/ash_phoenix/2.3.11/AshPhoenix.FormData.Error.html"><code class="inline">AshPhoenix.FormData.Error</code></a> protocol. The default value is <code class="inline">true</code>.</li><li><code class="inline">:domain</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - The domain to use when calling the action.</li><li><code class="inline">:as</code> (<a href="https://hexdocs.pm/elixir/String.html#t:t/0"><code class="inline">String.t/0</code></a>) - The name of the form in the submitted params. You will need to pull the form params out using this key. The default value is <code class="inline">&quot;form&quot;</code>.</li><li><code class="inline">:id</code> (<a href="https://hexdocs.pm/elixir/String.html#t:t/0"><code class="inline">String.t/0</code></a>) - The html id of the form. Defaults to the value of <code class="inline">:as</code> if provided, otherwise &quot;form&quot;</li><li><code class="inline">:transform_errors</code> - Allows for manual manipulation and transformation of errors.<br/>If possible, try to implement <a href="https://hexdocs.pm/ash_phoenix/2.3.11/AshPhoenix.FormData.Error.html"><code class="inline">AshPhoenix.FormData.Error</code></a> for the error (if it as a custom one, for example).
If that isn't possible, you can provide this function which will get the changeset and the error, and should
return a list of ash phoenix formatted errors, e.g <code class="inline">[{field :: atom, message :: String.t(), substituations :: Keyword.t()}]</code><br/>Example:<pre><code class="makeup elixir" translate="no"><span class="nc">AshPhoenix.Form</span><span class="o">.</span><span class="n">for_create</span><span class="p" data-group-id="8198151544-1">(</span><span class="n">...</span><span class="p">,</span><span class="w"> </span><span class="ss">transform_errors</span><span class="p">:</span><span class="w"> </span><span class="k" data-group-id="8198151544-2">fn</span><span class="w">
  </span><span class="c">_changeset</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="8198151544-3">%{</span><span class="ss">field</span><span class="p">:</span><span class="w"> </span><span class="ss">:field1</span><span class="p" data-group-id="8198151544-3">}</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">error</span><span class="w"> </span><span class="o">-&gt;</span><span class="w">
    </span><span class="p" data-group-id="8198151544-4">%{</span><span class="n">error</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="ss">field</span><span class="p">:</span><span class="w"> </span><span class="ss">:field2</span><span class="p" data-group-id="8198151544-4">}</span><span class="w">  
  </span><span class="c">_changeset</span><span class="p">,</span><span class="w"> </span><span class="n">error</span><span class="w"> </span><span class="o">-&gt;</span><span class="w">
    </span><span class="n">error</span><span class="w">
</span><span class="k" data-group-id="8198151544-2">end</span></code></pre></li><li><code class="inline">:prepare_source</code> - A 1-argument function the receives the initial changeset (or query) and makes any relevant changes to it.
This can be used to do things like:  <ul><li>Set default argument values before the validations are run using <a href="https://hexdocs.pm/ash/3.5.32/Ash.Changeset.html#set_arguments/2"><code class="inline">Ash.Changeset.set_arguments/2</code></a> or <a href="https://hexdocs.pm/ash/3.5.32/Ash.Changeset.html#set_argument/3"><code class="inline">Ash.Changeset.set_argument/3</code></a></li><li>Set changeset context</li><li>Do any other pre-processing on the changeset</li></ul></li><li><code class="inline">:prepare_params</code> - A 2-argument function that receives the params map and the :validate atom and should return prepared params.
Called before the form is validated.</li><li><code class="inline">:transform_params</code> - A function for post-processing the form parameters before they are used for changeset validation/submission.
Use a 3-argument function to pattern match on the <a href="https://hexdocs.pm/ash_phoenix/2.3.11/AshPhoenix.Form.html"><code class="inline">AshPhoenix.Form</code></a> struct.</li><li><code class="inline">:method</code> (<a href="https://hexdocs.pm/elixir/String.html#t:t/0"><code class="inline">String.t/0</code></a>) - The http method to associate with the form. Defaults to <code class="inline">post</code> for creates, and <code class="inline">put</code> for everything else.</li><li><code class="inline">:exclude_fields_if_empty</code> - These fields will be ignored if they are empty strings.<br/>This list of fields supports dead view forms. When a form is submitted from dead view
empty fields are submitted as empty strings. This is problematic for fields that allow_nil
or those that have default values.</li><li><code class="inline">:tenant</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - The current tenant. Passed through to the underlying action.</li><li><code class="inline">:params</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - The initial parameters to use for the form. This is useful for setting up a form with default values. The default value is <code class="inline">%{}</code>.
Any <em>additional</em> options will be passed to the underlying call to build the source, i.e
<a href="https://hexdocs.pm/ash/3.5.32/Ash.ActionInput.html#for_action/4"><code class="inline">Ash.ActionInput.for_action/4</code></a>, or <code class="inline">Ash.Changeset.for_*</code>. This means you can set things
like the tenant/actor. These will be retained, and provided again when
<code class="inline">Form.submit/3</code> is called.</li></ul><h2 id="form_to_update_breach/2-nested-form-options" class="section-heading"><a href="#form_to_update_breach/2-nested-form-options" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Nested Form Options</span></h2><ul><li><code class="inline">:type</code> - The cardinality of the nested form - <code class="inline">:list</code> or <code class="inline">:single</code>. Valid values are :list, :single The default value is <code class="inline">:single</code>.</li><li><code class="inline">:sparse?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If the nested form is <code class="inline">sparse</code>, the form won't expect all inputs for all forms to be present.<br/>Has no effect if the type is <code class="inline">:single</code>.<br/>Normally, if you leave some forms out of a list of nested forms, they are removed from the parameters
passed to the action. For example, if you had a <code class="inline">post</code> with two comments <code class="inline">[%Comment{id: 1}, %Comment{id: 2}]</code>
and you passed down params like <code class="inline">comments[0][id]=1&amp;comments[1][text]=new_text</code>, we would remove the second comment
from the input parameters, resulting in the following being passed into the action: <code class="inline">%{&quot;comments&quot; =&gt; [%{&quot;id&quot; =&gt; 1, &quot;text&quot; =&gt; &quot;new&quot;}]}</code>.
By setting it to sparse, you have to explicitly use <code class="inline">remove_form</code> for that removal to happen. So in the same scenario above, the parameters
that would be sent would actually be <code class="inline">%{&quot;comments&quot; =&gt; [%{&quot;id&quot; =&gt; 1, &quot;text&quot; =&gt; &quot;new&quot;}, %{&quot;id&quot; =&gt; 2}]}</code>.<br/>One major difference with <code class="inline">sparse?</code> is that the form actually ignores the <em>index</em> provided, e.g <code class="inline">comments[0]...</code>, and instead uses the primary
key e.g <code class="inline">comments[0][id]</code> to match which form is being updated. This prevents you from having to find the index of the specific item you want to
update. Which could be very gnarly on deeply nested forms. If there is no primary key, or the primary key does not match anything, it is treated
as a new form.<br/>REMEMBER: You need to use <code class="inline">Phoenix.Components.inputs_for</code> to render the nested forms, or manually add hidden inputs using
<code class="inline">hidden_inputs_for</code> (or <code class="inline">HiddenInputs</code> if using Surface) for the id to be automatically placed into the form.</li><li><code class="inline">:forms</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">keyword/0</code></a>) - Forms nested inside the current nesting level in all cases.</li><li><code class="inline">:for_type</code> - What action types the form applies for. Leave blank for it to apply to all action types. Valid values are :read, :create, :update</li><li><code class="inline">:merge?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - When building parameters, this input will be merged with its parent input. This allows for combining multiple forms into a single input. The default value is <code class="inline">false</code>.</li><li><code class="inline">:for</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - When creating parameters for the action, the key that the forms should be gathered into. Defaults to the key used to configure the nested form. Ignored if <code class="inline">merge?</code> is <code class="inline">true</code>.</li><li><code class="inline">:resource</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - The resource of the nested forms. Unnecessary if you are providing the <code class="inline">data</code> key, and not adding additional forms to this path.</li><li><code class="inline">:create_action</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - The create action to use when building new forms. Only necessary if you want to use <code class="inline">add_form/3</code> with this path.</li><li><code class="inline">:update_action</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - The update action to use when building forms for data. Only necessary if you supply the <code class="inline">data</code> key.</li><li><code class="inline">:data</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - The current value or values that should have update forms built by default.<br/>You can also provide a single argument function that will return the data based on the
data of the parent form. This is important for multiple nesting levels of <code class="inline">:list</code> type
forms, because the data depends on which parent is being rendered.</li></ul>
  </section>
</section>
<section class="detail" id="form_to_update_case/2">

    <span id="form_to_update_case/1"></span>

  <div class="detail-header">
    <a href="#form_to_update_case/2" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">form_to_update_case(record, form_opts \\ [])</h1>


    </div>
  </div>

  <section class="docstring">

<p>Creates a form for the update action on EhsEnforcement.Enforcement.Case.</p><h2 id="form_to_update_case/2-options" class="section-heading"><a href="#form_to_update_case/2-options" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Options</span></h2><ul><li><code class="inline">:actor</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - The actor performing the action. Passed through to the underlying action.</li><li><code class="inline">:scope</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A value that implements the <a href="https://hexdocs.pm/ash/3.5.32/Ash.Scope.html"><code class="inline">Ash.Scope</code></a> protocol, for passing around actor/tenant/context in a single value. See <a href="https://hexdocs.pm/ash/3.5.32/Ash.Scope.html"><code class="inline">Ash.Scope</code></a> for more.</li><li><code class="inline">:forms</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">keyword/0</code></a>) - Nested form configurations. See <code class="inline">for_create/3</code> &quot;Nested Form Options&quot; docs for more.</li><li><code class="inline">:warn_on_unhandled_errors?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Warns on any errors that don't match the form pattern of <code class="inline">{:field, &quot;message&quot;, [replacement: :vars]}</code> or implement the <a href="https://hexdocs.pm/ash_phoenix/2.3.11/AshPhoenix.FormData.Error.html"><code class="inline">AshPhoenix.FormData.Error</code></a> protocol. The default value is <code class="inline">true</code>.</li><li><code class="inline">:domain</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - The domain to use when calling the action.</li><li><code class="inline">:as</code> (<a href="https://hexdocs.pm/elixir/String.html#t:t/0"><code class="inline">String.t/0</code></a>) - The name of the form in the submitted params. You will need to pull the form params out using this key. The default value is <code class="inline">&quot;form&quot;</code>.</li><li><code class="inline">:id</code> (<a href="https://hexdocs.pm/elixir/String.html#t:t/0"><code class="inline">String.t/0</code></a>) - The html id of the form. Defaults to the value of <code class="inline">:as</code> if provided, otherwise &quot;form&quot;</li><li><code class="inline">:transform_errors</code> - Allows for manual manipulation and transformation of errors.<br/>If possible, try to implement <a href="https://hexdocs.pm/ash_phoenix/2.3.11/AshPhoenix.FormData.Error.html"><code class="inline">AshPhoenix.FormData.Error</code></a> for the error (if it as a custom one, for example).
If that isn't possible, you can provide this function which will get the changeset and the error, and should
return a list of ash phoenix formatted errors, e.g <code class="inline">[{field :: atom, message :: String.t(), substituations :: Keyword.t()}]</code><br/>Example:<pre><code class="makeup elixir" translate="no"><span class="nc">AshPhoenix.Form</span><span class="o">.</span><span class="n">for_create</span><span class="p" data-group-id="0097550212-1">(</span><span class="n">...</span><span class="p">,</span><span class="w"> </span><span class="ss">transform_errors</span><span class="p">:</span><span class="w"> </span><span class="k" data-group-id="0097550212-2">fn</span><span class="w">
  </span><span class="c">_changeset</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="0097550212-3">%{</span><span class="ss">field</span><span class="p">:</span><span class="w"> </span><span class="ss">:field1</span><span class="p" data-group-id="0097550212-3">}</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">error</span><span class="w"> </span><span class="o">-&gt;</span><span class="w">
    </span><span class="p" data-group-id="0097550212-4">%{</span><span class="n">error</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="ss">field</span><span class="p">:</span><span class="w"> </span><span class="ss">:field2</span><span class="p" data-group-id="0097550212-4">}</span><span class="w">  
  </span><span class="c">_changeset</span><span class="p">,</span><span class="w"> </span><span class="n">error</span><span class="w"> </span><span class="o">-&gt;</span><span class="w">
    </span><span class="n">error</span><span class="w">
</span><span class="k" data-group-id="0097550212-2">end</span></code></pre></li><li><code class="inline">:prepare_source</code> - A 1-argument function the receives the initial changeset (or query) and makes any relevant changes to it.
This can be used to do things like:  <ul><li>Set default argument values before the validations are run using <a href="https://hexdocs.pm/ash/3.5.32/Ash.Changeset.html#set_arguments/2"><code class="inline">Ash.Changeset.set_arguments/2</code></a> or <a href="https://hexdocs.pm/ash/3.5.32/Ash.Changeset.html#set_argument/3"><code class="inline">Ash.Changeset.set_argument/3</code></a></li><li>Set changeset context</li><li>Do any other pre-processing on the changeset</li></ul></li><li><code class="inline">:prepare_params</code> - A 2-argument function that receives the params map and the :validate atom and should return prepared params.
Called before the form is validated.</li><li><code class="inline">:transform_params</code> - A function for post-processing the form parameters before they are used for changeset validation/submission.
Use a 3-argument function to pattern match on the <a href="https://hexdocs.pm/ash_phoenix/2.3.11/AshPhoenix.Form.html"><code class="inline">AshPhoenix.Form</code></a> struct.</li><li><code class="inline">:method</code> (<a href="https://hexdocs.pm/elixir/String.html#t:t/0"><code class="inline">String.t/0</code></a>) - The http method to associate with the form. Defaults to <code class="inline">post</code> for creates, and <code class="inline">put</code> for everything else.</li><li><code class="inline">:exclude_fields_if_empty</code> - These fields will be ignored if they are empty strings.<br/>This list of fields supports dead view forms. When a form is submitted from dead view
empty fields are submitted as empty strings. This is problematic for fields that allow_nil
or those that have default values.</li><li><code class="inline">:tenant</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - The current tenant. Passed through to the underlying action.</li><li><code class="inline">:params</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - The initial parameters to use for the form. This is useful for setting up a form with default values. The default value is <code class="inline">%{}</code>.
Any <em>additional</em> options will be passed to the underlying call to build the source, i.e
<a href="https://hexdocs.pm/ash/3.5.32/Ash.ActionInput.html#for_action/4"><code class="inline">Ash.ActionInput.for_action/4</code></a>, or <code class="inline">Ash.Changeset.for_*</code>. This means you can set things
like the tenant/actor. These will be retained, and provided again when
<code class="inline">Form.submit/3</code> is called.</li></ul><h2 id="form_to_update_case/2-nested-form-options" class="section-heading"><a href="#form_to_update_case/2-nested-form-options" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Nested Form Options</span></h2><ul><li><code class="inline">:type</code> - The cardinality of the nested form - <code class="inline">:list</code> or <code class="inline">:single</code>. Valid values are :list, :single The default value is <code class="inline">:single</code>.</li><li><code class="inline">:sparse?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If the nested form is <code class="inline">sparse</code>, the form won't expect all inputs for all forms to be present.<br/>Has no effect if the type is <code class="inline">:single</code>.<br/>Normally, if you leave some forms out of a list of nested forms, they are removed from the parameters
passed to the action. For example, if you had a <code class="inline">post</code> with two comments <code class="inline">[%Comment{id: 1}, %Comment{id: 2}]</code>
and you passed down params like <code class="inline">comments[0][id]=1&amp;comments[1][text]=new_text</code>, we would remove the second comment
from the input parameters, resulting in the following being passed into the action: <code class="inline">%{&quot;comments&quot; =&gt; [%{&quot;id&quot; =&gt; 1, &quot;text&quot; =&gt; &quot;new&quot;}]}</code>.
By setting it to sparse, you have to explicitly use <code class="inline">remove_form</code> for that removal to happen. So in the same scenario above, the parameters
that would be sent would actually be <code class="inline">%{&quot;comments&quot; =&gt; [%{&quot;id&quot; =&gt; 1, &quot;text&quot; =&gt; &quot;new&quot;}, %{&quot;id&quot; =&gt; 2}]}</code>.<br/>One major difference with <code class="inline">sparse?</code> is that the form actually ignores the <em>index</em> provided, e.g <code class="inline">comments[0]...</code>, and instead uses the primary
key e.g <code class="inline">comments[0][id]</code> to match which form is being updated. This prevents you from having to find the index of the specific item you want to
update. Which could be very gnarly on deeply nested forms. If there is no primary key, or the primary key does not match anything, it is treated
as a new form.<br/>REMEMBER: You need to use <code class="inline">Phoenix.Components.inputs_for</code> to render the nested forms, or manually add hidden inputs using
<code class="inline">hidden_inputs_for</code> (or <code class="inline">HiddenInputs</code> if using Surface) for the id to be automatically placed into the form.</li><li><code class="inline">:forms</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">keyword/0</code></a>) - Forms nested inside the current nesting level in all cases.</li><li><code class="inline">:for_type</code> - What action types the form applies for. Leave blank for it to apply to all action types. Valid values are :read, :create, :update</li><li><code class="inline">:merge?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - When building parameters, this input will be merged with its parent input. This allows for combining multiple forms into a single input. The default value is <code class="inline">false</code>.</li><li><code class="inline">:for</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - When creating parameters for the action, the key that the forms should be gathered into. Defaults to the key used to configure the nested form. Ignored if <code class="inline">merge?</code> is <code class="inline">true</code>.</li><li><code class="inline">:resource</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - The resource of the nested forms. Unnecessary if you are providing the <code class="inline">data</code> key, and not adding additional forms to this path.</li><li><code class="inline">:create_action</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - The create action to use when building new forms. Only necessary if you want to use <code class="inline">add_form/3</code> with this path.</li><li><code class="inline">:update_action</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - The update action to use when building forms for data. Only necessary if you supply the <code class="inline">data</code> key.</li><li><code class="inline">:data</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - The current value or values that should have update forms built by default.<br/>You can also provide a single argument function that will return the data based on the
data of the parent form. This is important for multiple nesting levels of <code class="inline">:list</code> type
forms, because the data depends on which parent is being rendered.</li></ul>
  </section>
</section>
<section class="detail" id="form_to_update_case_from_scraping/2">

    <span id="form_to_update_case_from_scraping/1"></span>

  <div class="detail-header">
    <a href="#form_to_update_case_from_scraping/2" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">form_to_update_case_from_scraping(record, form_opts \\ [])</h1>


    </div>
  </div>

  <section class="docstring">

<p>Creates a form for the update_from_scraping action on EhsEnforcement.Enforcement.Case.</p><h2 id="form_to_update_case_from_scraping/2-options" class="section-heading"><a href="#form_to_update_case_from_scraping/2-options" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Options</span></h2><ul><li><code class="inline">:actor</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - The actor performing the action. Passed through to the underlying action.</li><li><code class="inline">:scope</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A value that implements the <a href="https://hexdocs.pm/ash/3.5.32/Ash.Scope.html"><code class="inline">Ash.Scope</code></a> protocol, for passing around actor/tenant/context in a single value. See <a href="https://hexdocs.pm/ash/3.5.32/Ash.Scope.html"><code class="inline">Ash.Scope</code></a> for more.</li><li><code class="inline">:forms</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">keyword/0</code></a>) - Nested form configurations. See <code class="inline">for_create/3</code> &quot;Nested Form Options&quot; docs for more.</li><li><code class="inline">:warn_on_unhandled_errors?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Warns on any errors that don't match the form pattern of <code class="inline">{:field, &quot;message&quot;, [replacement: :vars]}</code> or implement the <a href="https://hexdocs.pm/ash_phoenix/2.3.11/AshPhoenix.FormData.Error.html"><code class="inline">AshPhoenix.FormData.Error</code></a> protocol. The default value is <code class="inline">true</code>.</li><li><code class="inline">:domain</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - The domain to use when calling the action.</li><li><code class="inline">:as</code> (<a href="https://hexdocs.pm/elixir/String.html#t:t/0"><code class="inline">String.t/0</code></a>) - The name of the form in the submitted params. You will need to pull the form params out using this key. The default value is <code class="inline">&quot;form&quot;</code>.</li><li><code class="inline">:id</code> (<a href="https://hexdocs.pm/elixir/String.html#t:t/0"><code class="inline">String.t/0</code></a>) - The html id of the form. Defaults to the value of <code class="inline">:as</code> if provided, otherwise &quot;form&quot;</li><li><code class="inline">:transform_errors</code> - Allows for manual manipulation and transformation of errors.<br/>If possible, try to implement <a href="https://hexdocs.pm/ash_phoenix/2.3.11/AshPhoenix.FormData.Error.html"><code class="inline">AshPhoenix.FormData.Error</code></a> for the error (if it as a custom one, for example).
If that isn't possible, you can provide this function which will get the changeset and the error, and should
return a list of ash phoenix formatted errors, e.g <code class="inline">[{field :: atom, message :: String.t(), substituations :: Keyword.t()}]</code><br/>Example:<pre><code class="makeup elixir" translate="no"><span class="nc">AshPhoenix.Form</span><span class="o">.</span><span class="n">for_create</span><span class="p" data-group-id="6953312006-1">(</span><span class="n">...</span><span class="p">,</span><span class="w"> </span><span class="ss">transform_errors</span><span class="p">:</span><span class="w"> </span><span class="k" data-group-id="6953312006-2">fn</span><span class="w">
  </span><span class="c">_changeset</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="6953312006-3">%{</span><span class="ss">field</span><span class="p">:</span><span class="w"> </span><span class="ss">:field1</span><span class="p" data-group-id="6953312006-3">}</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">error</span><span class="w"> </span><span class="o">-&gt;</span><span class="w">
    </span><span class="p" data-group-id="6953312006-4">%{</span><span class="n">error</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="ss">field</span><span class="p">:</span><span class="w"> </span><span class="ss">:field2</span><span class="p" data-group-id="6953312006-4">}</span><span class="w">  
  </span><span class="c">_changeset</span><span class="p">,</span><span class="w"> </span><span class="n">error</span><span class="w"> </span><span class="o">-&gt;</span><span class="w">
    </span><span class="n">error</span><span class="w">
</span><span class="k" data-group-id="6953312006-2">end</span></code></pre></li><li><code class="inline">:prepare_source</code> - A 1-argument function the receives the initial changeset (or query) and makes any relevant changes to it.
This can be used to do things like:  <ul><li>Set default argument values before the validations are run using <a href="https://hexdocs.pm/ash/3.5.32/Ash.Changeset.html#set_arguments/2"><code class="inline">Ash.Changeset.set_arguments/2</code></a> or <a href="https://hexdocs.pm/ash/3.5.32/Ash.Changeset.html#set_argument/3"><code class="inline">Ash.Changeset.set_argument/3</code></a></li><li>Set changeset context</li><li>Do any other pre-processing on the changeset</li></ul></li><li><code class="inline">:prepare_params</code> - A 2-argument function that receives the params map and the :validate atom and should return prepared params.
Called before the form is validated.</li><li><code class="inline">:transform_params</code> - A function for post-processing the form parameters before they are used for changeset validation/submission.
Use a 3-argument function to pattern match on the <a href="https://hexdocs.pm/ash_phoenix/2.3.11/AshPhoenix.Form.html"><code class="inline">AshPhoenix.Form</code></a> struct.</li><li><code class="inline">:method</code> (<a href="https://hexdocs.pm/elixir/String.html#t:t/0"><code class="inline">String.t/0</code></a>) - The http method to associate with the form. Defaults to <code class="inline">post</code> for creates, and <code class="inline">put</code> for everything else.</li><li><code class="inline">:exclude_fields_if_empty</code> - These fields will be ignored if they are empty strings.<br/>This list of fields supports dead view forms. When a form is submitted from dead view
empty fields are submitted as empty strings. This is problematic for fields that allow_nil
or those that have default values.</li><li><code class="inline">:tenant</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - The current tenant. Passed through to the underlying action.</li><li><code class="inline">:params</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - The initial parameters to use for the form. This is useful for setting up a form with default values. The default value is <code class="inline">%{}</code>.
Any <em>additional</em> options will be passed to the underlying call to build the source, i.e
<a href="https://hexdocs.pm/ash/3.5.32/Ash.ActionInput.html#for_action/4"><code class="inline">Ash.ActionInput.for_action/4</code></a>, or <code class="inline">Ash.Changeset.for_*</code>. This means you can set things
like the tenant/actor. These will be retained, and provided again when
<code class="inline">Form.submit/3</code> is called.</li></ul><h2 id="form_to_update_case_from_scraping/2-nested-form-options" class="section-heading"><a href="#form_to_update_case_from_scraping/2-nested-form-options" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Nested Form Options</span></h2><ul><li><code class="inline">:type</code> - The cardinality of the nested form - <code class="inline">:list</code> or <code class="inline">:single</code>. Valid values are :list, :single The default value is <code class="inline">:single</code>.</li><li><code class="inline">:sparse?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If the nested form is <code class="inline">sparse</code>, the form won't expect all inputs for all forms to be present.<br/>Has no effect if the type is <code class="inline">:single</code>.<br/>Normally, if you leave some forms out of a list of nested forms, they are removed from the parameters
passed to the action. For example, if you had a <code class="inline">post</code> with two comments <code class="inline">[%Comment{id: 1}, %Comment{id: 2}]</code>
and you passed down params like <code class="inline">comments[0][id]=1&amp;comments[1][text]=new_text</code>, we would remove the second comment
from the input parameters, resulting in the following being passed into the action: <code class="inline">%{&quot;comments&quot; =&gt; [%{&quot;id&quot; =&gt; 1, &quot;text&quot; =&gt; &quot;new&quot;}]}</code>.
By setting it to sparse, you have to explicitly use <code class="inline">remove_form</code> for that removal to happen. So in the same scenario above, the parameters
that would be sent would actually be <code class="inline">%{&quot;comments&quot; =&gt; [%{&quot;id&quot; =&gt; 1, &quot;text&quot; =&gt; &quot;new&quot;}, %{&quot;id&quot; =&gt; 2}]}</code>.<br/>One major difference with <code class="inline">sparse?</code> is that the form actually ignores the <em>index</em> provided, e.g <code class="inline">comments[0]...</code>, and instead uses the primary
key e.g <code class="inline">comments[0][id]</code> to match which form is being updated. This prevents you from having to find the index of the specific item you want to
update. Which could be very gnarly on deeply nested forms. If there is no primary key, or the primary key does not match anything, it is treated
as a new form.<br/>REMEMBER: You need to use <code class="inline">Phoenix.Components.inputs_for</code> to render the nested forms, or manually add hidden inputs using
<code class="inline">hidden_inputs_for</code> (or <code class="inline">HiddenInputs</code> if using Surface) for the id to be automatically placed into the form.</li><li><code class="inline">:forms</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">keyword/0</code></a>) - Forms nested inside the current nesting level in all cases.</li><li><code class="inline">:for_type</code> - What action types the form applies for. Leave blank for it to apply to all action types. Valid values are :read, :create, :update</li><li><code class="inline">:merge?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - When building parameters, this input will be merged with its parent input. This allows for combining multiple forms into a single input. The default value is <code class="inline">false</code>.</li><li><code class="inline">:for</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - When creating parameters for the action, the key that the forms should be gathered into. Defaults to the key used to configure the nested form. Ignored if <code class="inline">merge?</code> is <code class="inline">true</code>.</li><li><code class="inline">:resource</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - The resource of the nested forms. Unnecessary if you are providing the <code class="inline">data</code> key, and not adding additional forms to this path.</li><li><code class="inline">:create_action</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - The create action to use when building new forms. Only necessary if you want to use <code class="inline">add_form/3</code> with this path.</li><li><code class="inline">:update_action</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - The update action to use when building forms for data. Only necessary if you supply the <code class="inline">data</code> key.</li><li><code class="inline">:data</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - The current value or values that should have update forms built by default.<br/>You can also provide a single argument function that will return the data based on the
data of the parent form. This is important for multiple nesting levels of <code class="inline">:list</code> type
forms, because the data depends on which parent is being rendered.</li></ul>
  </section>
</section>
<section class="detail" id="form_to_update_notice/2">

    <span id="form_to_update_notice/1"></span>

  <div class="detail-header">
    <a href="#form_to_update_notice/2" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">form_to_update_notice(record, form_opts \\ [])</h1>


    </div>
  </div>

  <section class="docstring">

<p>Creates a form for the update action on EhsEnforcement.Enforcement.Notice.</p><h2 id="form_to_update_notice/2-options" class="section-heading"><a href="#form_to_update_notice/2-options" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Options</span></h2><ul><li><code class="inline">:actor</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - The actor performing the action. Passed through to the underlying action.</li><li><code class="inline">:scope</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A value that implements the <a href="https://hexdocs.pm/ash/3.5.32/Ash.Scope.html"><code class="inline">Ash.Scope</code></a> protocol, for passing around actor/tenant/context in a single value. See <a href="https://hexdocs.pm/ash/3.5.32/Ash.Scope.html"><code class="inline">Ash.Scope</code></a> for more.</li><li><code class="inline">:forms</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">keyword/0</code></a>) - Nested form configurations. See <code class="inline">for_create/3</code> &quot;Nested Form Options&quot; docs for more.</li><li><code class="inline">:warn_on_unhandled_errors?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Warns on any errors that don't match the form pattern of <code class="inline">{:field, &quot;message&quot;, [replacement: :vars]}</code> or implement the <a href="https://hexdocs.pm/ash_phoenix/2.3.11/AshPhoenix.FormData.Error.html"><code class="inline">AshPhoenix.FormData.Error</code></a> protocol. The default value is <code class="inline">true</code>.</li><li><code class="inline">:domain</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - The domain to use when calling the action.</li><li><code class="inline">:as</code> (<a href="https://hexdocs.pm/elixir/String.html#t:t/0"><code class="inline">String.t/0</code></a>) - The name of the form in the submitted params. You will need to pull the form params out using this key. The default value is <code class="inline">&quot;form&quot;</code>.</li><li><code class="inline">:id</code> (<a href="https://hexdocs.pm/elixir/String.html#t:t/0"><code class="inline">String.t/0</code></a>) - The html id of the form. Defaults to the value of <code class="inline">:as</code> if provided, otherwise &quot;form&quot;</li><li><code class="inline">:transform_errors</code> - Allows for manual manipulation and transformation of errors.<br/>If possible, try to implement <a href="https://hexdocs.pm/ash_phoenix/2.3.11/AshPhoenix.FormData.Error.html"><code class="inline">AshPhoenix.FormData.Error</code></a> for the error (if it as a custom one, for example).
If that isn't possible, you can provide this function which will get the changeset and the error, and should
return a list of ash phoenix formatted errors, e.g <code class="inline">[{field :: atom, message :: String.t(), substituations :: Keyword.t()}]</code><br/>Example:<pre><code class="makeup elixir" translate="no"><span class="nc">AshPhoenix.Form</span><span class="o">.</span><span class="n">for_create</span><span class="p" data-group-id="9082945422-1">(</span><span class="n">...</span><span class="p">,</span><span class="w"> </span><span class="ss">transform_errors</span><span class="p">:</span><span class="w"> </span><span class="k" data-group-id="9082945422-2">fn</span><span class="w">
  </span><span class="c">_changeset</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="9082945422-3">%{</span><span class="ss">field</span><span class="p">:</span><span class="w"> </span><span class="ss">:field1</span><span class="p" data-group-id="9082945422-3">}</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">error</span><span class="w"> </span><span class="o">-&gt;</span><span class="w">
    </span><span class="p" data-group-id="9082945422-4">%{</span><span class="n">error</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="ss">field</span><span class="p">:</span><span class="w"> </span><span class="ss">:field2</span><span class="p" data-group-id="9082945422-4">}</span><span class="w">  
  </span><span class="c">_changeset</span><span class="p">,</span><span class="w"> </span><span class="n">error</span><span class="w"> </span><span class="o">-&gt;</span><span class="w">
    </span><span class="n">error</span><span class="w">
</span><span class="k" data-group-id="9082945422-2">end</span></code></pre></li><li><code class="inline">:prepare_source</code> - A 1-argument function the receives the initial changeset (or query) and makes any relevant changes to it.
This can be used to do things like:  <ul><li>Set default argument values before the validations are run using <a href="https://hexdocs.pm/ash/3.5.32/Ash.Changeset.html#set_arguments/2"><code class="inline">Ash.Changeset.set_arguments/2</code></a> or <a href="https://hexdocs.pm/ash/3.5.32/Ash.Changeset.html#set_argument/3"><code class="inline">Ash.Changeset.set_argument/3</code></a></li><li>Set changeset context</li><li>Do any other pre-processing on the changeset</li></ul></li><li><code class="inline">:prepare_params</code> - A 2-argument function that receives the params map and the :validate atom and should return prepared params.
Called before the form is validated.</li><li><code class="inline">:transform_params</code> - A function for post-processing the form parameters before they are used for changeset validation/submission.
Use a 3-argument function to pattern match on the <a href="https://hexdocs.pm/ash_phoenix/2.3.11/AshPhoenix.Form.html"><code class="inline">AshPhoenix.Form</code></a> struct.</li><li><code class="inline">:method</code> (<a href="https://hexdocs.pm/elixir/String.html#t:t/0"><code class="inline">String.t/0</code></a>) - The http method to associate with the form. Defaults to <code class="inline">post</code> for creates, and <code class="inline">put</code> for everything else.</li><li><code class="inline">:exclude_fields_if_empty</code> - These fields will be ignored if they are empty strings.<br/>This list of fields supports dead view forms. When a form is submitted from dead view
empty fields are submitted as empty strings. This is problematic for fields that allow_nil
or those that have default values.</li><li><code class="inline">:tenant</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - The current tenant. Passed through to the underlying action.</li><li><code class="inline">:params</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - The initial parameters to use for the form. This is useful for setting up a form with default values. The default value is <code class="inline">%{}</code>.
Any <em>additional</em> options will be passed to the underlying call to build the source, i.e
<a href="https://hexdocs.pm/ash/3.5.32/Ash.ActionInput.html#for_action/4"><code class="inline">Ash.ActionInput.for_action/4</code></a>, or <code class="inline">Ash.Changeset.for_*</code>. This means you can set things
like the tenant/actor. These will be retained, and provided again when
<code class="inline">Form.submit/3</code> is called.</li></ul><h2 id="form_to_update_notice/2-nested-form-options" class="section-heading"><a href="#form_to_update_notice/2-nested-form-options" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Nested Form Options</span></h2><ul><li><code class="inline">:type</code> - The cardinality of the nested form - <code class="inline">:list</code> or <code class="inline">:single</code>. Valid values are :list, :single The default value is <code class="inline">:single</code>.</li><li><code class="inline">:sparse?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If the nested form is <code class="inline">sparse</code>, the form won't expect all inputs for all forms to be present.<br/>Has no effect if the type is <code class="inline">:single</code>.<br/>Normally, if you leave some forms out of a list of nested forms, they are removed from the parameters
passed to the action. For example, if you had a <code class="inline">post</code> with two comments <code class="inline">[%Comment{id: 1}, %Comment{id: 2}]</code>
and you passed down params like <code class="inline">comments[0][id]=1&amp;comments[1][text]=new_text</code>, we would remove the second comment
from the input parameters, resulting in the following being passed into the action: <code class="inline">%{&quot;comments&quot; =&gt; [%{&quot;id&quot; =&gt; 1, &quot;text&quot; =&gt; &quot;new&quot;}]}</code>.
By setting it to sparse, you have to explicitly use <code class="inline">remove_form</code> for that removal to happen. So in the same scenario above, the parameters
that would be sent would actually be <code class="inline">%{&quot;comments&quot; =&gt; [%{&quot;id&quot; =&gt; 1, &quot;text&quot; =&gt; &quot;new&quot;}, %{&quot;id&quot; =&gt; 2}]}</code>.<br/>One major difference with <code class="inline">sparse?</code> is that the form actually ignores the <em>index</em> provided, e.g <code class="inline">comments[0]...</code>, and instead uses the primary
key e.g <code class="inline">comments[0][id]</code> to match which form is being updated. This prevents you from having to find the index of the specific item you want to
update. Which could be very gnarly on deeply nested forms. If there is no primary key, or the primary key does not match anything, it is treated
as a new form.<br/>REMEMBER: You need to use <code class="inline">Phoenix.Components.inputs_for</code> to render the nested forms, or manually add hidden inputs using
<code class="inline">hidden_inputs_for</code> (or <code class="inline">HiddenInputs</code> if using Surface) for the id to be automatically placed into the form.</li><li><code class="inline">:forms</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">keyword/0</code></a>) - Forms nested inside the current nesting level in all cases.</li><li><code class="inline">:for_type</code> - What action types the form applies for. Leave blank for it to apply to all action types. Valid values are :read, :create, :update</li><li><code class="inline">:merge?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - When building parameters, this input will be merged with its parent input. This allows for combining multiple forms into a single input. The default value is <code class="inline">false</code>.</li><li><code class="inline">:for</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - When creating parameters for the action, the key that the forms should be gathered into. Defaults to the key used to configure the nested form. Ignored if <code class="inline">merge?</code> is <code class="inline">true</code>.</li><li><code class="inline">:resource</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - The resource of the nested forms. Unnecessary if you are providing the <code class="inline">data</code> key, and not adding additional forms to this path.</li><li><code class="inline">:create_action</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - The create action to use when building new forms. Only necessary if you want to use <code class="inline">add_form/3</code> with this path.</li><li><code class="inline">:update_action</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - The update action to use when building forms for data. Only necessary if you supply the <code class="inline">data</code> key.</li><li><code class="inline">:data</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - The current value or values that should have update forms built by default.<br/>You can also provide a single argument function that will return the data based on the
data of the parent form. This is important for multiple nesting levels of <code class="inline">:list</code> type
forms, because the data depends on which parent is being rendered.</li></ul>
  </section>
</section>
<section class="detail" id="form_to_update_offender/2">

    <span id="form_to_update_offender/1"></span>

  <div class="detail-header">
    <a href="#form_to_update_offender/2" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">form_to_update_offender(record, form_opts \\ [])</h1>


    </div>
  </div>

  <section class="docstring">

<p>Creates a form for the update action on EhsEnforcement.Enforcement.Offender.</p><h2 id="form_to_update_offender/2-options" class="section-heading"><a href="#form_to_update_offender/2-options" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Options</span></h2><ul><li><code class="inline">:actor</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - The actor performing the action. Passed through to the underlying action.</li><li><code class="inline">:scope</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A value that implements the <a href="https://hexdocs.pm/ash/3.5.32/Ash.Scope.html"><code class="inline">Ash.Scope</code></a> protocol, for passing around actor/tenant/context in a single value. See <a href="https://hexdocs.pm/ash/3.5.32/Ash.Scope.html"><code class="inline">Ash.Scope</code></a> for more.</li><li><code class="inline">:forms</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">keyword/0</code></a>) - Nested form configurations. See <code class="inline">for_create/3</code> &quot;Nested Form Options&quot; docs for more.</li><li><code class="inline">:warn_on_unhandled_errors?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Warns on any errors that don't match the form pattern of <code class="inline">{:field, &quot;message&quot;, [replacement: :vars]}</code> or implement the <a href="https://hexdocs.pm/ash_phoenix/2.3.11/AshPhoenix.FormData.Error.html"><code class="inline">AshPhoenix.FormData.Error</code></a> protocol. The default value is <code class="inline">true</code>.</li><li><code class="inline">:domain</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - The domain to use when calling the action.</li><li><code class="inline">:as</code> (<a href="https://hexdocs.pm/elixir/String.html#t:t/0"><code class="inline">String.t/0</code></a>) - The name of the form in the submitted params. You will need to pull the form params out using this key. The default value is <code class="inline">&quot;form&quot;</code>.</li><li><code class="inline">:id</code> (<a href="https://hexdocs.pm/elixir/String.html#t:t/0"><code class="inline">String.t/0</code></a>) - The html id of the form. Defaults to the value of <code class="inline">:as</code> if provided, otherwise &quot;form&quot;</li><li><code class="inline">:transform_errors</code> - Allows for manual manipulation and transformation of errors.<br/>If possible, try to implement <a href="https://hexdocs.pm/ash_phoenix/2.3.11/AshPhoenix.FormData.Error.html"><code class="inline">AshPhoenix.FormData.Error</code></a> for the error (if it as a custom one, for example).
If that isn't possible, you can provide this function which will get the changeset and the error, and should
return a list of ash phoenix formatted errors, e.g <code class="inline">[{field :: atom, message :: String.t(), substituations :: Keyword.t()}]</code><br/>Example:<pre><code class="makeup elixir" translate="no"><span class="nc">AshPhoenix.Form</span><span class="o">.</span><span class="n">for_create</span><span class="p" data-group-id="9832222782-1">(</span><span class="n">...</span><span class="p">,</span><span class="w"> </span><span class="ss">transform_errors</span><span class="p">:</span><span class="w"> </span><span class="k" data-group-id="9832222782-2">fn</span><span class="w">
  </span><span class="c">_changeset</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="9832222782-3">%{</span><span class="ss">field</span><span class="p">:</span><span class="w"> </span><span class="ss">:field1</span><span class="p" data-group-id="9832222782-3">}</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">error</span><span class="w"> </span><span class="o">-&gt;</span><span class="w">
    </span><span class="p" data-group-id="9832222782-4">%{</span><span class="n">error</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="ss">field</span><span class="p">:</span><span class="w"> </span><span class="ss">:field2</span><span class="p" data-group-id="9832222782-4">}</span><span class="w">  
  </span><span class="c">_changeset</span><span class="p">,</span><span class="w"> </span><span class="n">error</span><span class="w"> </span><span class="o">-&gt;</span><span class="w">
    </span><span class="n">error</span><span class="w">
</span><span class="k" data-group-id="9832222782-2">end</span></code></pre></li><li><code class="inline">:prepare_source</code> - A 1-argument function the receives the initial changeset (or query) and makes any relevant changes to it.
This can be used to do things like:  <ul><li>Set default argument values before the validations are run using <a href="https://hexdocs.pm/ash/3.5.32/Ash.Changeset.html#set_arguments/2"><code class="inline">Ash.Changeset.set_arguments/2</code></a> or <a href="https://hexdocs.pm/ash/3.5.32/Ash.Changeset.html#set_argument/3"><code class="inline">Ash.Changeset.set_argument/3</code></a></li><li>Set changeset context</li><li>Do any other pre-processing on the changeset</li></ul></li><li><code class="inline">:prepare_params</code> - A 2-argument function that receives the params map and the :validate atom and should return prepared params.
Called before the form is validated.</li><li><code class="inline">:transform_params</code> - A function for post-processing the form parameters before they are used for changeset validation/submission.
Use a 3-argument function to pattern match on the <a href="https://hexdocs.pm/ash_phoenix/2.3.11/AshPhoenix.Form.html"><code class="inline">AshPhoenix.Form</code></a> struct.</li><li><code class="inline">:method</code> (<a href="https://hexdocs.pm/elixir/String.html#t:t/0"><code class="inline">String.t/0</code></a>) - The http method to associate with the form. Defaults to <code class="inline">post</code> for creates, and <code class="inline">put</code> for everything else.</li><li><code class="inline">:exclude_fields_if_empty</code> - These fields will be ignored if they are empty strings.<br/>This list of fields supports dead view forms. When a form is submitted from dead view
empty fields are submitted as empty strings. This is problematic for fields that allow_nil
or those that have default values.</li><li><code class="inline">:tenant</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - The current tenant. Passed through to the underlying action.</li><li><code class="inline">:params</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - The initial parameters to use for the form. This is useful for setting up a form with default values. The default value is <code class="inline">%{}</code>.
Any <em>additional</em> options will be passed to the underlying call to build the source, i.e
<a href="https://hexdocs.pm/ash/3.5.32/Ash.ActionInput.html#for_action/4"><code class="inline">Ash.ActionInput.for_action/4</code></a>, or <code class="inline">Ash.Changeset.for_*</code>. This means you can set things
like the tenant/actor. These will be retained, and provided again when
<code class="inline">Form.submit/3</code> is called.</li></ul><h2 id="form_to_update_offender/2-nested-form-options" class="section-heading"><a href="#form_to_update_offender/2-nested-form-options" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Nested Form Options</span></h2><ul><li><code class="inline">:type</code> - The cardinality of the nested form - <code class="inline">:list</code> or <code class="inline">:single</code>. Valid values are :list, :single The default value is <code class="inline">:single</code>.</li><li><code class="inline">:sparse?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If the nested form is <code class="inline">sparse</code>, the form won't expect all inputs for all forms to be present.<br/>Has no effect if the type is <code class="inline">:single</code>.<br/>Normally, if you leave some forms out of a list of nested forms, they are removed from the parameters
passed to the action. For example, if you had a <code class="inline">post</code> with two comments <code class="inline">[%Comment{id: 1}, %Comment{id: 2}]</code>
and you passed down params like <code class="inline">comments[0][id]=1&amp;comments[1][text]=new_text</code>, we would remove the second comment
from the input parameters, resulting in the following being passed into the action: <code class="inline">%{&quot;comments&quot; =&gt; [%{&quot;id&quot; =&gt; 1, &quot;text&quot; =&gt; &quot;new&quot;}]}</code>.
By setting it to sparse, you have to explicitly use <code class="inline">remove_form</code> for that removal to happen. So in the same scenario above, the parameters
that would be sent would actually be <code class="inline">%{&quot;comments&quot; =&gt; [%{&quot;id&quot; =&gt; 1, &quot;text&quot; =&gt; &quot;new&quot;}, %{&quot;id&quot; =&gt; 2}]}</code>.<br/>One major difference with <code class="inline">sparse?</code> is that the form actually ignores the <em>index</em> provided, e.g <code class="inline">comments[0]...</code>, and instead uses the primary
key e.g <code class="inline">comments[0][id]</code> to match which form is being updated. This prevents you from having to find the index of the specific item you want to
update. Which could be very gnarly on deeply nested forms. If there is no primary key, or the primary key does not match anything, it is treated
as a new form.<br/>REMEMBER: You need to use <code class="inline">Phoenix.Components.inputs_for</code> to render the nested forms, or manually add hidden inputs using
<code class="inline">hidden_inputs_for</code> (or <code class="inline">HiddenInputs</code> if using Surface) for the id to be automatically placed into the form.</li><li><code class="inline">:forms</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">keyword/0</code></a>) - Forms nested inside the current nesting level in all cases.</li><li><code class="inline">:for_type</code> - What action types the form applies for. Leave blank for it to apply to all action types. Valid values are :read, :create, :update</li><li><code class="inline">:merge?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - When building parameters, this input will be merged with its parent input. This allows for combining multiple forms into a single input. The default value is <code class="inline">false</code>.</li><li><code class="inline">:for</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - When creating parameters for the action, the key that the forms should be gathered into. Defaults to the key used to configure the nested form. Ignored if <code class="inline">merge?</code> is <code class="inline">true</code>.</li><li><code class="inline">:resource</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - The resource of the nested forms. Unnecessary if you are providing the <code class="inline">data</code> key, and not adding additional forms to this path.</li><li><code class="inline">:create_action</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - The create action to use when building new forms. Only necessary if you want to use <code class="inline">add_form/3</code> with this path.</li><li><code class="inline">:update_action</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - The update action to use when building forms for data. Only necessary if you supply the <code class="inline">data</code> key.</li><li><code class="inline">:data</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - The current value or values that should have update forms built by default.<br/>You can also provide a single argument function that will return the data based on the
data of the parent form. This is important for multiple nesting levels of <code class="inline">:list</code> type
forms, because the data depends on which parent is being rendered.</li></ul>
  </section>
</section>
<section class="detail" id="form_to_update_offender_statistics/2">

    <span id="form_to_update_offender_statistics/1"></span>

  <div class="detail-header">
    <a href="#form_to_update_offender_statistics/2" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">form_to_update_offender_statistics(record, form_opts \\ [])</h1>


    </div>
  </div>

  <section class="docstring">

<p>Creates a form for the update_statistics action on EhsEnforcement.Enforcement.Offender.</p><h2 id="form_to_update_offender_statistics/2-options" class="section-heading"><a href="#form_to_update_offender_statistics/2-options" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Options</span></h2><ul><li><code class="inline">:actor</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - The actor performing the action. Passed through to the underlying action.</li><li><code class="inline">:scope</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A value that implements the <a href="https://hexdocs.pm/ash/3.5.32/Ash.Scope.html"><code class="inline">Ash.Scope</code></a> protocol, for passing around actor/tenant/context in a single value. See <a href="https://hexdocs.pm/ash/3.5.32/Ash.Scope.html"><code class="inline">Ash.Scope</code></a> for more.</li><li><code class="inline">:forms</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">keyword/0</code></a>) - Nested form configurations. See <code class="inline">for_create/3</code> &quot;Nested Form Options&quot; docs for more.</li><li><code class="inline">:warn_on_unhandled_errors?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Warns on any errors that don't match the form pattern of <code class="inline">{:field, &quot;message&quot;, [replacement: :vars]}</code> or implement the <a href="https://hexdocs.pm/ash_phoenix/2.3.11/AshPhoenix.FormData.Error.html"><code class="inline">AshPhoenix.FormData.Error</code></a> protocol. The default value is <code class="inline">true</code>.</li><li><code class="inline">:domain</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - The domain to use when calling the action.</li><li><code class="inline">:as</code> (<a href="https://hexdocs.pm/elixir/String.html#t:t/0"><code class="inline">String.t/0</code></a>) - The name of the form in the submitted params. You will need to pull the form params out using this key. The default value is <code class="inline">&quot;form&quot;</code>.</li><li><code class="inline">:id</code> (<a href="https://hexdocs.pm/elixir/String.html#t:t/0"><code class="inline">String.t/0</code></a>) - The html id of the form. Defaults to the value of <code class="inline">:as</code> if provided, otherwise &quot;form&quot;</li><li><code class="inline">:transform_errors</code> - Allows for manual manipulation and transformation of errors.<br/>If possible, try to implement <a href="https://hexdocs.pm/ash_phoenix/2.3.11/AshPhoenix.FormData.Error.html"><code class="inline">AshPhoenix.FormData.Error</code></a> for the error (if it as a custom one, for example).
If that isn't possible, you can provide this function which will get the changeset and the error, and should
return a list of ash phoenix formatted errors, e.g <code class="inline">[{field :: atom, message :: String.t(), substituations :: Keyword.t()}]</code><br/>Example:<pre><code class="makeup elixir" translate="no"><span class="nc">AshPhoenix.Form</span><span class="o">.</span><span class="n">for_create</span><span class="p" data-group-id="0389539417-1">(</span><span class="n">...</span><span class="p">,</span><span class="w"> </span><span class="ss">transform_errors</span><span class="p">:</span><span class="w"> </span><span class="k" data-group-id="0389539417-2">fn</span><span class="w">
  </span><span class="c">_changeset</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="0389539417-3">%{</span><span class="ss">field</span><span class="p">:</span><span class="w"> </span><span class="ss">:field1</span><span class="p" data-group-id="0389539417-3">}</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">error</span><span class="w"> </span><span class="o">-&gt;</span><span class="w">
    </span><span class="p" data-group-id="0389539417-4">%{</span><span class="n">error</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="ss">field</span><span class="p">:</span><span class="w"> </span><span class="ss">:field2</span><span class="p" data-group-id="0389539417-4">}</span><span class="w">  
  </span><span class="c">_changeset</span><span class="p">,</span><span class="w"> </span><span class="n">error</span><span class="w"> </span><span class="o">-&gt;</span><span class="w">
    </span><span class="n">error</span><span class="w">
</span><span class="k" data-group-id="0389539417-2">end</span></code></pre></li><li><code class="inline">:prepare_source</code> - A 1-argument function the receives the initial changeset (or query) and makes any relevant changes to it.
This can be used to do things like:  <ul><li>Set default argument values before the validations are run using <a href="https://hexdocs.pm/ash/3.5.32/Ash.Changeset.html#set_arguments/2"><code class="inline">Ash.Changeset.set_arguments/2</code></a> or <a href="https://hexdocs.pm/ash/3.5.32/Ash.Changeset.html#set_argument/3"><code class="inline">Ash.Changeset.set_argument/3</code></a></li><li>Set changeset context</li><li>Do any other pre-processing on the changeset</li></ul></li><li><code class="inline">:prepare_params</code> - A 2-argument function that receives the params map and the :validate atom and should return prepared params.
Called before the form is validated.</li><li><code class="inline">:transform_params</code> - A function for post-processing the form parameters before they are used for changeset validation/submission.
Use a 3-argument function to pattern match on the <a href="https://hexdocs.pm/ash_phoenix/2.3.11/AshPhoenix.Form.html"><code class="inline">AshPhoenix.Form</code></a> struct.</li><li><code class="inline">:method</code> (<a href="https://hexdocs.pm/elixir/String.html#t:t/0"><code class="inline">String.t/0</code></a>) - The http method to associate with the form. Defaults to <code class="inline">post</code> for creates, and <code class="inline">put</code> for everything else.</li><li><code class="inline">:exclude_fields_if_empty</code> - These fields will be ignored if they are empty strings.<br/>This list of fields supports dead view forms. When a form is submitted from dead view
empty fields are submitted as empty strings. This is problematic for fields that allow_nil
or those that have default values.</li><li><code class="inline">:tenant</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - The current tenant. Passed through to the underlying action.</li><li><code class="inline">:params</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - The initial parameters to use for the form. This is useful for setting up a form with default values. The default value is <code class="inline">%{}</code>.
Any <em>additional</em> options will be passed to the underlying call to build the source, i.e
<a href="https://hexdocs.pm/ash/3.5.32/Ash.ActionInput.html#for_action/4"><code class="inline">Ash.ActionInput.for_action/4</code></a>, or <code class="inline">Ash.Changeset.for_*</code>. This means you can set things
like the tenant/actor. These will be retained, and provided again when
<code class="inline">Form.submit/3</code> is called.</li></ul><h2 id="form_to_update_offender_statistics/2-nested-form-options" class="section-heading"><a href="#form_to_update_offender_statistics/2-nested-form-options" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Nested Form Options</span></h2><ul><li><code class="inline">:type</code> - The cardinality of the nested form - <code class="inline">:list</code> or <code class="inline">:single</code>. Valid values are :list, :single The default value is <code class="inline">:single</code>.</li><li><code class="inline">:sparse?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If the nested form is <code class="inline">sparse</code>, the form won't expect all inputs for all forms to be present.<br/>Has no effect if the type is <code class="inline">:single</code>.<br/>Normally, if you leave some forms out of a list of nested forms, they are removed from the parameters
passed to the action. For example, if you had a <code class="inline">post</code> with two comments <code class="inline">[%Comment{id: 1}, %Comment{id: 2}]</code>
and you passed down params like <code class="inline">comments[0][id]=1&amp;comments[1][text]=new_text</code>, we would remove the second comment
from the input parameters, resulting in the following being passed into the action: <code class="inline">%{&quot;comments&quot; =&gt; [%{&quot;id&quot; =&gt; 1, &quot;text&quot; =&gt; &quot;new&quot;}]}</code>.
By setting it to sparse, you have to explicitly use <code class="inline">remove_form</code> for that removal to happen. So in the same scenario above, the parameters
that would be sent would actually be <code class="inline">%{&quot;comments&quot; =&gt; [%{&quot;id&quot; =&gt; 1, &quot;text&quot; =&gt; &quot;new&quot;}, %{&quot;id&quot; =&gt; 2}]}</code>.<br/>One major difference with <code class="inline">sparse?</code> is that the form actually ignores the <em>index</em> provided, e.g <code class="inline">comments[0]...</code>, and instead uses the primary
key e.g <code class="inline">comments[0][id]</code> to match which form is being updated. This prevents you from having to find the index of the specific item you want to
update. Which could be very gnarly on deeply nested forms. If there is no primary key, or the primary key does not match anything, it is treated
as a new form.<br/>REMEMBER: You need to use <code class="inline">Phoenix.Components.inputs_for</code> to render the nested forms, or manually add hidden inputs using
<code class="inline">hidden_inputs_for</code> (or <code class="inline">HiddenInputs</code> if using Surface) for the id to be automatically placed into the form.</li><li><code class="inline">:forms</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">keyword/0</code></a>) - Forms nested inside the current nesting level in all cases.</li><li><code class="inline">:for_type</code> - What action types the form applies for. Leave blank for it to apply to all action types. Valid values are :read, :create, :update</li><li><code class="inline">:merge?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - When building parameters, this input will be merged with its parent input. This allows for combining multiple forms into a single input. The default value is <code class="inline">false</code>.</li><li><code class="inline">:for</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - When creating parameters for the action, the key that the forms should be gathered into. Defaults to the key used to configure the nested form. Ignored if <code class="inline">merge?</code> is <code class="inline">true</code>.</li><li><code class="inline">:resource</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - The resource of the nested forms. Unnecessary if you are providing the <code class="inline">data</code> key, and not adding additional forms to this path.</li><li><code class="inline">:create_action</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - The create action to use when building new forms. Only necessary if you want to use <code class="inline">add_form/3</code> with this path.</li><li><code class="inline">:update_action</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - The update action to use when building forms for data. Only necessary if you supply the <code class="inline">data</code> key.</li><li><code class="inline">:data</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - The current value or values that should have update forms built by default.<br/>You can also provide a single argument function that will return the data based on the
data of the parent form. This is important for multiple nesting levels of <code class="inline">:list</code> type
forms, because the data depends on which parent is being rendered.</li></ul>
  </section>
</section>
<section class="detail" id="fuzzy_search_cases/2">

    <span id="fuzzy_search_cases/1"></span>

  <div class="detail-header">
    <a href="#fuzzy_search_cases/2" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">fuzzy_search_cases(search_term, opts \\ [])</h1>


    </div>
  </div>

  <section class="docstring">

<p>Perform fuzzy search across cases using pg_trgm trigram similarity.</p><p>This function uses PostgreSQL's pg_trgm extension to find cases with text fields
that are similar to the search term, even with typos or partial matches.</p><h2 id="fuzzy_search_cases/2-parameters" class="section-heading"><a href="#fuzzy_search_cases/2-parameters" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Parameters</span></h2><ul><li><code class="inline">search_term</code> - The text to search for (minimum 3 characters)</li><li><code class="inline">opts</code> - Additional query options (limit, offset, etc.)</li></ul><h2 id="fuzzy_search_cases/2-options" class="section-heading"><a href="#fuzzy_search_cases/2-options" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Options</span></h2><ul><li><code class="inline">:similarity_threshold</code> - Minimum similarity score (0.0-1.0, default: 0.3)</li><li><code class="inline">:limit</code> - Maximum number of results to return</li><li><code class="inline">:offset</code> - Number of results to skip</li><li><code class="inline">:load</code> - Associations to preload</li></ul><h2 id="fuzzy_search_cases/2-examples" class="section-heading"><a href="#fuzzy_search_cases/2-examples" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Examples</span></h2><pre><code class="makeup elixir" translate="no"><span class="gp unselectable">iex&gt; </span><span class="n">fuzzy_search_cases</span><span class="p" data-group-id="1883681947-1">(</span><span class="s">&quot;construction&quot;</span><span class="p">,</span><span class="w"> </span><span class="ss">limit</span><span class="p">:</span><span class="w"> </span><span class="mi">10</span><span class="p" data-group-id="1883681947-1">)</span><span class="w">
</span><span class="p" data-group-id="1883681947-2">[</span><span class="p" data-group-id="1883681947-3">%</span><span class="nc" data-group-id="1883681947-3">Case</span><span class="p" data-group-id="1883681947-3">{</span><span class="ss">regulator_id</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;HSE-2024-123&quot;</span><span class="p">,</span><span class="w"> </span><span class="ss">offence_breaches</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;Construction (Design and Management) Regulations 2015&quot;</span><span class="p" data-group-id="1883681947-3">}</span><span class="p" data-group-id="1883681947-2">]</span><span class="w">

</span><span class="gp unselectable">iex&gt; </span><span class="n">fuzzy_search_cases</span><span class="p" data-group-id="1883681947-4">(</span><span class="s">&quot;acme corp&quot;</span><span class="p">,</span><span class="w"> </span><span class="ss">similarity_threshold</span><span class="p">:</span><span class="w"> </span><span class="mf">0.4</span><span class="p" data-group-id="1883681947-4">)</span><span class="w">
</span><span class="p" data-group-id="1883681947-5">[</span><span class="p" data-group-id="1883681947-6">%</span><span class="nc" data-group-id="1883681947-6">Case</span><span class="p" data-group-id="1883681947-6">{</span><span class="ss">offender</span><span class="p">:</span><span class="w"> </span><span class="p" data-group-id="1883681947-7">%{</span><span class="ss">name</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;ACME Construction Ltd&quot;</span><span class="p" data-group-id="1883681947-7">}</span><span class="p" data-group-id="1883681947-6">}</span><span class="p" data-group-id="1883681947-5">]</span></code></pre>
  </section>
</section>
<section class="detail" id="fuzzy_search_notices/2">

    <span id="fuzzy_search_notices/1"></span>

  <div class="detail-header">
    <a href="#fuzzy_search_notices/2" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">fuzzy_search_notices(search_term, opts \\ [])</h1>


    </div>
  </div>

  <section class="docstring">

<p>Perform fuzzy search across notices using pg_trgm trigram similarity.</p><p>Similar to fuzzy_search_cases/2 but searches notice fields including notice body.</p>
  </section>
</section>
<section class="detail" id="fuzzy_search_offenders/2">

    <span id="fuzzy_search_offenders/1"></span>

  <div class="detail-header">
    <a href="#fuzzy_search_offenders/2" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">fuzzy_search_offenders(search_term, opts \\ [])</h1>


    </div>
  </div>

  <section class="docstring">

<p>Perform fuzzy search across offenders using pg_trgm trigram similarity.</p><p>Searches offender name, normalized name, local authority, and main activity fields.</p>
  </section>
</section>
<section class="detail" id="get_agency/3">

    <span id="get_agency/1"></span>

    <span id="get_agency/2"></span>

  <div class="detail-header">
    <a href="#get_agency/3" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">get_agency(id, params \\ nil, opts \\ nil)</h1>


    </div>
  </div>

  <section class="docstring">

<p>Calls the read action on EhsEnforcement.Enforcement.Agency.</p><h2 id="get_agency/3-options" class="section-heading"><a href="#get_agency/3-options" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Options</span></h2><ul><li><code class="inline">:page</code> - Pagination options, see <a href="https://hexdocs.pm/ash/3.5.32/Ash.html#read/2"><code class="inline">Ash.read/2</code></a> for more.</li><li><code class="inline">:load</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A load statement to add onto the query</li><li><code class="inline">:max_concurrency</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">non_neg_integer/0</code></a>) - The maximum number of processes allowed to be started for parallel loading of relationships and calculations. Defaults to <code class="inline">System.schedulers_online() * 2</code></li><li><code class="inline">:lock</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A lock statement to add onto the query</li><li><code class="inline">:return_query?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If <code class="inline">true</code>, the query that was ultimately used is returned as a third tuple element.<br/>The query goes through many potential changes during a request, potentially adding
authorization filters, or replacing relationships for other data layers with their
corresponding ids. This option can be used to get the true query that was sent to
the data layer. The default value is <code class="inline">false</code>.</li><li><code class="inline">:skip_unknown_inputs</code> - A list of inputs that, if provided, will be ignored if they are not recognized by the action. Use <code class="inline">:*</code> to indicate all unknown keys.</li><li><code class="inline">:reuse_values?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether calculations are allowed to reuse values that have already been loaded, or must refetch them from the data layer. The default value is <code class="inline">false</code>.</li><li><code class="inline">:strict?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If set to true, only specified attributes will be loaded when passing
  a list of fields to fetch on a relationship, which allows for more
  optimized data-fetching.<br/>  See <a href="https://hexdocs.pm/ash/3.5.32/Ash.Query.html#load/2"><code class="inline">Ash.Query.load/2</code></a>. The default value is <code class="inline">false</code>.</li><li><code class="inline">:authorize_with</code> - If set to <code class="inline">:error</code>, instead of applying authorization filters as a filter, any records not matching the authorization filter will cause an error to be returned. Valid values are :filter, :error The default value is <code class="inline">:filter</code>.</li><li><code class="inline">:timeout</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">timeout/0</code></a>) - A positive integer, or <code class="inline">:infinity</code>. If none is provided, the timeout configured on the domain is used.</li><li><code class="inline">:tracer</code> (one or a list of module that adopts <a href="https://hexdocs.pm/ash/3.5.32/Ash.Tracer.html"><code class="inline">Ash.Tracer</code></a>) - A tracer that implements the <a href="https://hexdocs.pm/ash/3.5.32/Ash.Tracer.html"><code class="inline">Ash.Tracer</code></a> behaviour. See that module for more.</li><li><code class="inline">:action</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - The action to use, either an Action struct or the name of the action</li><li><code class="inline">:authorize?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If an actor option is provided (even if it is <code class="inline">nil</code>), authorization happens automatically. If not, this flag can be used to authorize with no user.</li><li><code class="inline">:context</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">map/0</code></a>) - Context to set on the query, changeset, or input</li><li><code class="inline">:tenant</code> (value that implements the <a href="https://hexdocs.pm/ash/3.5.32/Ash.ToTenant.html"><code class="inline">Ash.ToTenant</code></a> protocol) - A tenant to set on the query or changeset</li><li><code class="inline">:actor</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - If an actor is provided, it will be used in conjunction with the authorizers of a resource to authorize access</li><li><code class="inline">:scope</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A value that implements the <a href="https://hexdocs.pm/ash/3.5.32/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> protocol, for passing around actor/tenant/context in a single value. See <a href="https://hexdocs.pm/ash/3.5.32/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> for more.</li><li><code class="inline">:query</code> - A query to seed the action with.</li><li><code class="inline">:not_found_error?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to return or raise a <code class="inline">NotFound</code> error or to return <code class="inline">nil</code> when a get? action/interface is called.</li><li><code class="inline">:stream?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If true, a stream of the results will be returned The default value is <code class="inline">false</code>.</li><li><code class="inline">:stream_options</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">keyword/0</code></a>) - Options passed to <code class="inline">Ash.stream!</code>, if <code class="inline">stream?: true</code> is given<ul><li><code class="inline">:batch_size</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">integer/0</code></a>) - How many records to request in each query run. Defaults to the pagination limits on the resource, or 250.</li><li><code class="inline">:allow_stream_with</code> - The 'worst' strategy allowed to be used to fetch records. See <a href="https://hexdocs.pm/ash/3.5.32/Ash.html#stream!/2"><code class="inline">Ash.stream!/2</code></a> docs for more. The default value is <code class="inline">:keyset</code>.</li><li><code class="inline">:stream_with</code> - The specific strategy to use to fetch records. See <a href="https://hexdocs.pm/ash/3.5.32/Ash.html#stream!/2"><code class="inline">Ash.stream!/2</code></a> docs for more.</li></ul></li></ul>
  </section>
</section>
<section class="detail" id="get_agency!/3">

    <span id="get_agency!/1"></span>

    <span id="get_agency!/2"></span>

  <div class="detail-header">
    <a href="#get_agency!/3" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">get_agency!(id, params \\ nil, opts \\ nil)</h1>


    </div>
  </div>

  <section class="docstring">

<p>Calls the read action on EhsEnforcement.Enforcement.Agency.
Raises any errors instead of returning them</p><h2 id="get_agency!/3-options" class="section-heading"><a href="#get_agency!/3-options" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Options</span></h2><ul><li><code class="inline">:page</code> - Pagination options, see <a href="https://hexdocs.pm/ash/3.5.32/Ash.html#read/2"><code class="inline">Ash.read/2</code></a> for more.</li><li><code class="inline">:load</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A load statement to add onto the query</li><li><code class="inline">:max_concurrency</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">non_neg_integer/0</code></a>) - The maximum number of processes allowed to be started for parallel loading of relationships and calculations. Defaults to <code class="inline">System.schedulers_online() * 2</code></li><li><code class="inline">:lock</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A lock statement to add onto the query</li><li><code class="inline">:return_query?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If <code class="inline">true</code>, the query that was ultimately used is returned as a third tuple element.<br/>The query goes through many potential changes during a request, potentially adding
authorization filters, or replacing relationships for other data layers with their
corresponding ids. This option can be used to get the true query that was sent to
the data layer. The default value is <code class="inline">false</code>.</li><li><code class="inline">:skip_unknown_inputs</code> - A list of inputs that, if provided, will be ignored if they are not recognized by the action. Use <code class="inline">:*</code> to indicate all unknown keys.</li><li><code class="inline">:reuse_values?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether calculations are allowed to reuse values that have already been loaded, or must refetch them from the data layer. The default value is <code class="inline">false</code>.</li><li><code class="inline">:strict?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If set to true, only specified attributes will be loaded when passing
  a list of fields to fetch on a relationship, which allows for more
  optimized data-fetching.<br/>  See <a href="https://hexdocs.pm/ash/3.5.32/Ash.Query.html#load/2"><code class="inline">Ash.Query.load/2</code></a>. The default value is <code class="inline">false</code>.</li><li><code class="inline">:authorize_with</code> - If set to <code class="inline">:error</code>, instead of applying authorization filters as a filter, any records not matching the authorization filter will cause an error to be returned. Valid values are :filter, :error The default value is <code class="inline">:filter</code>.</li><li><code class="inline">:timeout</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">timeout/0</code></a>) - A positive integer, or <code class="inline">:infinity</code>. If none is provided, the timeout configured on the domain is used.</li><li><code class="inline">:tracer</code> (one or a list of module that adopts <a href="https://hexdocs.pm/ash/3.5.32/Ash.Tracer.html"><code class="inline">Ash.Tracer</code></a>) - A tracer that implements the <a href="https://hexdocs.pm/ash/3.5.32/Ash.Tracer.html"><code class="inline">Ash.Tracer</code></a> behaviour. See that module for more.</li><li><code class="inline">:action</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - The action to use, either an Action struct or the name of the action</li><li><code class="inline">:authorize?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If an actor option is provided (even if it is <code class="inline">nil</code>), authorization happens automatically. If not, this flag can be used to authorize with no user.</li><li><code class="inline">:context</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">map/0</code></a>) - Context to set on the query, changeset, or input</li><li><code class="inline">:tenant</code> (value that implements the <a href="https://hexdocs.pm/ash/3.5.32/Ash.ToTenant.html"><code class="inline">Ash.ToTenant</code></a> protocol) - A tenant to set on the query or changeset</li><li><code class="inline">:actor</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - If an actor is provided, it will be used in conjunction with the authorizers of a resource to authorize access</li><li><code class="inline">:scope</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A value that implements the <a href="https://hexdocs.pm/ash/3.5.32/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> protocol, for passing around actor/tenant/context in a single value. See <a href="https://hexdocs.pm/ash/3.5.32/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> for more.</li><li><code class="inline">:query</code> - A query to seed the action with.</li><li><code class="inline">:not_found_error?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to return or raise a <code class="inline">NotFound</code> error or to return <code class="inline">nil</code> when a get? action/interface is called.</li><li><code class="inline">:stream?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If true, a stream of the results will be returned The default value is <code class="inline">false</code>.</li><li><code class="inline">:stream_options</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">keyword/0</code></a>) - Options passed to <code class="inline">Ash.stream!</code>, if <code class="inline">stream?: true</code> is given<ul><li><code class="inline">:batch_size</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">integer/0</code></a>) - How many records to request in each query run. Defaults to the pagination limits on the resource, or 250.</li><li><code class="inline">:allow_stream_with</code> - The 'worst' strategy allowed to be used to fetch records. See <a href="https://hexdocs.pm/ash/3.5.32/Ash.html#stream!/2"><code class="inline">Ash.stream!/2</code></a> docs for more. The default value is <code class="inline">:keyset</code>.</li><li><code class="inline">:stream_with</code> - The specific strategy to use to fetch records. See <a href="https://hexdocs.pm/ash/3.5.32/Ash.html#stream!/2"><code class="inline">Ash.stream!/2</code></a> docs for more.</li></ul></li></ul>
  </section>
</section>
<section class="detail" id="get_agency_by_code/3">

    <span id="get_agency_by_code/1"></span>

    <span id="get_agency_by_code/2"></span>

  <div class="detail-header">
    <a href="#get_agency_by_code/3" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">get_agency_by_code(code, params \\ nil, opts \\ nil)</h1>


    </div>
  </div>

  <section class="docstring">

<p>Calls the read action on EhsEnforcement.Enforcement.Agency.</p><h2 id="get_agency_by_code/3-options" class="section-heading"><a href="#get_agency_by_code/3-options" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Options</span></h2><ul><li><code class="inline">:page</code> - Pagination options, see <a href="https://hexdocs.pm/ash/3.5.32/Ash.html#read/2"><code class="inline">Ash.read/2</code></a> for more.</li><li><code class="inline">:load</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A load statement to add onto the query</li><li><code class="inline">:max_concurrency</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">non_neg_integer/0</code></a>) - The maximum number of processes allowed to be started for parallel loading of relationships and calculations. Defaults to <code class="inline">System.schedulers_online() * 2</code></li><li><code class="inline">:lock</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A lock statement to add onto the query</li><li><code class="inline">:return_query?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If <code class="inline">true</code>, the query that was ultimately used is returned as a third tuple element.<br/>The query goes through many potential changes during a request, potentially adding
authorization filters, or replacing relationships for other data layers with their
corresponding ids. This option can be used to get the true query that was sent to
the data layer. The default value is <code class="inline">false</code>.</li><li><code class="inline">:skip_unknown_inputs</code> - A list of inputs that, if provided, will be ignored if they are not recognized by the action. Use <code class="inline">:*</code> to indicate all unknown keys.</li><li><code class="inline">:reuse_values?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether calculations are allowed to reuse values that have already been loaded, or must refetch them from the data layer. The default value is <code class="inline">false</code>.</li><li><code class="inline">:strict?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If set to true, only specified attributes will be loaded when passing
  a list of fields to fetch on a relationship, which allows for more
  optimized data-fetching.<br/>  See <a href="https://hexdocs.pm/ash/3.5.32/Ash.Query.html#load/2"><code class="inline">Ash.Query.load/2</code></a>. The default value is <code class="inline">false</code>.</li><li><code class="inline">:authorize_with</code> - If set to <code class="inline">:error</code>, instead of applying authorization filters as a filter, any records not matching the authorization filter will cause an error to be returned. Valid values are :filter, :error The default value is <code class="inline">:filter</code>.</li><li><code class="inline">:timeout</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">timeout/0</code></a>) - A positive integer, or <code class="inline">:infinity</code>. If none is provided, the timeout configured on the domain is used.</li><li><code class="inline">:tracer</code> (one or a list of module that adopts <a href="https://hexdocs.pm/ash/3.5.32/Ash.Tracer.html"><code class="inline">Ash.Tracer</code></a>) - A tracer that implements the <a href="https://hexdocs.pm/ash/3.5.32/Ash.Tracer.html"><code class="inline">Ash.Tracer</code></a> behaviour. See that module for more.</li><li><code class="inline">:action</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - The action to use, either an Action struct or the name of the action</li><li><code class="inline">:authorize?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If an actor option is provided (even if it is <code class="inline">nil</code>), authorization happens automatically. If not, this flag can be used to authorize with no user.</li><li><code class="inline">:context</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">map/0</code></a>) - Context to set on the query, changeset, or input</li><li><code class="inline">:tenant</code> (value that implements the <a href="https://hexdocs.pm/ash/3.5.32/Ash.ToTenant.html"><code class="inline">Ash.ToTenant</code></a> protocol) - A tenant to set on the query or changeset</li><li><code class="inline">:actor</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - If an actor is provided, it will be used in conjunction with the authorizers of a resource to authorize access</li><li><code class="inline">:scope</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A value that implements the <a href="https://hexdocs.pm/ash/3.5.32/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> protocol, for passing around actor/tenant/context in a single value. See <a href="https://hexdocs.pm/ash/3.5.32/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> for more.</li><li><code class="inline">:query</code> - A query to seed the action with.</li><li><code class="inline">:not_found_error?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to return or raise a <code class="inline">NotFound</code> error or to return <code class="inline">nil</code> when a get? action/interface is called.</li><li><code class="inline">:stream?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If true, a stream of the results will be returned The default value is <code class="inline">false</code>.</li><li><code class="inline">:stream_options</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">keyword/0</code></a>) - Options passed to <code class="inline">Ash.stream!</code>, if <code class="inline">stream?: true</code> is given<ul><li><code class="inline">:batch_size</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">integer/0</code></a>) - How many records to request in each query run. Defaults to the pagination limits on the resource, or 250.</li><li><code class="inline">:allow_stream_with</code> - The 'worst' strategy allowed to be used to fetch records. See <a href="https://hexdocs.pm/ash/3.5.32/Ash.html#stream!/2"><code class="inline">Ash.stream!/2</code></a> docs for more. The default value is <code class="inline">:keyset</code>.</li><li><code class="inline">:stream_with</code> - The specific strategy to use to fetch records. See <a href="https://hexdocs.pm/ash/3.5.32/Ash.html#stream!/2"><code class="inline">Ash.stream!/2</code></a> docs for more.</li></ul></li></ul>
  </section>
</section>
<section class="detail" id="get_agency_by_code!/3">

    <span id="get_agency_by_code!/1"></span>

    <span id="get_agency_by_code!/2"></span>

  <div class="detail-header">
    <a href="#get_agency_by_code!/3" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">get_agency_by_code!(code, params \\ nil, opts \\ nil)</h1>


    </div>
  </div>

  <section class="docstring">

<p>Calls the read action on EhsEnforcement.Enforcement.Agency.
Raises any errors instead of returning them</p><h2 id="get_agency_by_code!/3-options" class="section-heading"><a href="#get_agency_by_code!/3-options" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Options</span></h2><ul><li><code class="inline">:page</code> - Pagination options, see <a href="https://hexdocs.pm/ash/3.5.32/Ash.html#read/2"><code class="inline">Ash.read/2</code></a> for more.</li><li><code class="inline">:load</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A load statement to add onto the query</li><li><code class="inline">:max_concurrency</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">non_neg_integer/0</code></a>) - The maximum number of processes allowed to be started for parallel loading of relationships and calculations. Defaults to <code class="inline">System.schedulers_online() * 2</code></li><li><code class="inline">:lock</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A lock statement to add onto the query</li><li><code class="inline">:return_query?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If <code class="inline">true</code>, the query that was ultimately used is returned as a third tuple element.<br/>The query goes through many potential changes during a request, potentially adding
authorization filters, or replacing relationships for other data layers with their
corresponding ids. This option can be used to get the true query that was sent to
the data layer. The default value is <code class="inline">false</code>.</li><li><code class="inline">:skip_unknown_inputs</code> - A list of inputs that, if provided, will be ignored if they are not recognized by the action. Use <code class="inline">:*</code> to indicate all unknown keys.</li><li><code class="inline">:reuse_values?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether calculations are allowed to reuse values that have already been loaded, or must refetch them from the data layer. The default value is <code class="inline">false</code>.</li><li><code class="inline">:strict?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If set to true, only specified attributes will be loaded when passing
  a list of fields to fetch on a relationship, which allows for more
  optimized data-fetching.<br/>  See <a href="https://hexdocs.pm/ash/3.5.32/Ash.Query.html#load/2"><code class="inline">Ash.Query.load/2</code></a>. The default value is <code class="inline">false</code>.</li><li><code class="inline">:authorize_with</code> - If set to <code class="inline">:error</code>, instead of applying authorization filters as a filter, any records not matching the authorization filter will cause an error to be returned. Valid values are :filter, :error The default value is <code class="inline">:filter</code>.</li><li><code class="inline">:timeout</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">timeout/0</code></a>) - A positive integer, or <code class="inline">:infinity</code>. If none is provided, the timeout configured on the domain is used.</li><li><code class="inline">:tracer</code> (one or a list of module that adopts <a href="https://hexdocs.pm/ash/3.5.32/Ash.Tracer.html"><code class="inline">Ash.Tracer</code></a>) - A tracer that implements the <a href="https://hexdocs.pm/ash/3.5.32/Ash.Tracer.html"><code class="inline">Ash.Tracer</code></a> behaviour. See that module for more.</li><li><code class="inline">:action</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - The action to use, either an Action struct or the name of the action</li><li><code class="inline">:authorize?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If an actor option is provided (even if it is <code class="inline">nil</code>), authorization happens automatically. If not, this flag can be used to authorize with no user.</li><li><code class="inline">:context</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">map/0</code></a>) - Context to set on the query, changeset, or input</li><li><code class="inline">:tenant</code> (value that implements the <a href="https://hexdocs.pm/ash/3.5.32/Ash.ToTenant.html"><code class="inline">Ash.ToTenant</code></a> protocol) - A tenant to set on the query or changeset</li><li><code class="inline">:actor</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - If an actor is provided, it will be used in conjunction with the authorizers of a resource to authorize access</li><li><code class="inline">:scope</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A value that implements the <a href="https://hexdocs.pm/ash/3.5.32/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> protocol, for passing around actor/tenant/context in a single value. See <a href="https://hexdocs.pm/ash/3.5.32/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> for more.</li><li><code class="inline">:query</code> - A query to seed the action with.</li><li><code class="inline">:not_found_error?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to return or raise a <code class="inline">NotFound</code> error or to return <code class="inline">nil</code> when a get? action/interface is called.</li><li><code class="inline">:stream?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If true, a stream of the results will be returned The default value is <code class="inline">false</code>.</li><li><code class="inline">:stream_options</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">keyword/0</code></a>) - Options passed to <code class="inline">Ash.stream!</code>, if <code class="inline">stream?: true</code> is given<ul><li><code class="inline">:batch_size</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">integer/0</code></a>) - How many records to request in each query run. Defaults to the pagination limits on the resource, or 250.</li><li><code class="inline">:allow_stream_with</code> - The 'worst' strategy allowed to be used to fetch records. See <a href="https://hexdocs.pm/ash/3.5.32/Ash.html#stream!/2"><code class="inline">Ash.stream!/2</code></a> docs for more. The default value is <code class="inline">:keyset</code>.</li><li><code class="inline">:stream_with</code> - The specific strategy to use to fetch records. See <a href="https://hexdocs.pm/ash/3.5.32/Ash.html#stream!/2"><code class="inline">Ash.stream!/2</code></a> docs for more.</li></ul></li></ul>
  </section>
</section>
<section class="detail" id="get_breach/3">

    <span id="get_breach/1"></span>

    <span id="get_breach/2"></span>

  <div class="detail-header">
    <a href="#get_breach/3" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">get_breach(id, params \\ nil, opts \\ nil)</h1>


    </div>
  </div>

  <section class="docstring">

<p>Calls the read action on EhsEnforcement.Enforcement.Breach.</p><h2 id="get_breach/3-options" class="section-heading"><a href="#get_breach/3-options" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Options</span></h2><ul><li><code class="inline">:page</code> - Pagination options, see <a href="https://hexdocs.pm/ash/3.5.32/Ash.html#read/2"><code class="inline">Ash.read/2</code></a> for more.</li><li><code class="inline">:load</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A load statement to add onto the query</li><li><code class="inline">:max_concurrency</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">non_neg_integer/0</code></a>) - The maximum number of processes allowed to be started for parallel loading of relationships and calculations. Defaults to <code class="inline">System.schedulers_online() * 2</code></li><li><code class="inline">:lock</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A lock statement to add onto the query</li><li><code class="inline">:return_query?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If <code class="inline">true</code>, the query that was ultimately used is returned as a third tuple element.<br/>The query goes through many potential changes during a request, potentially adding
authorization filters, or replacing relationships for other data layers with their
corresponding ids. This option can be used to get the true query that was sent to
the data layer. The default value is <code class="inline">false</code>.</li><li><code class="inline">:skip_unknown_inputs</code> - A list of inputs that, if provided, will be ignored if they are not recognized by the action. Use <code class="inline">:*</code> to indicate all unknown keys.</li><li><code class="inline">:reuse_values?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether calculations are allowed to reuse values that have already been loaded, or must refetch them from the data layer. The default value is <code class="inline">false</code>.</li><li><code class="inline">:strict?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If set to true, only specified attributes will be loaded when passing
  a list of fields to fetch on a relationship, which allows for more
  optimized data-fetching.<br/>  See <a href="https://hexdocs.pm/ash/3.5.32/Ash.Query.html#load/2"><code class="inline">Ash.Query.load/2</code></a>. The default value is <code class="inline">false</code>.</li><li><code class="inline">:authorize_with</code> - If set to <code class="inline">:error</code>, instead of applying authorization filters as a filter, any records not matching the authorization filter will cause an error to be returned. Valid values are :filter, :error The default value is <code class="inline">:filter</code>.</li><li><code class="inline">:timeout</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">timeout/0</code></a>) - A positive integer, or <code class="inline">:infinity</code>. If none is provided, the timeout configured on the domain is used.</li><li><code class="inline">:tracer</code> (one or a list of module that adopts <a href="https://hexdocs.pm/ash/3.5.32/Ash.Tracer.html"><code class="inline">Ash.Tracer</code></a>) - A tracer that implements the <a href="https://hexdocs.pm/ash/3.5.32/Ash.Tracer.html"><code class="inline">Ash.Tracer</code></a> behaviour. See that module for more.</li><li><code class="inline">:action</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - The action to use, either an Action struct or the name of the action</li><li><code class="inline">:authorize?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If an actor option is provided (even if it is <code class="inline">nil</code>), authorization happens automatically. If not, this flag can be used to authorize with no user.</li><li><code class="inline">:context</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">map/0</code></a>) - Context to set on the query, changeset, or input</li><li><code class="inline">:tenant</code> (value that implements the <a href="https://hexdocs.pm/ash/3.5.32/Ash.ToTenant.html"><code class="inline">Ash.ToTenant</code></a> protocol) - A tenant to set on the query or changeset</li><li><code class="inline">:actor</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - If an actor is provided, it will be used in conjunction with the authorizers of a resource to authorize access</li><li><code class="inline">:scope</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A value that implements the <a href="https://hexdocs.pm/ash/3.5.32/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> protocol, for passing around actor/tenant/context in a single value. See <a href="https://hexdocs.pm/ash/3.5.32/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> for more.</li><li><code class="inline">:query</code> - A query to seed the action with.</li><li><code class="inline">:not_found_error?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to return or raise a <code class="inline">NotFound</code> error or to return <code class="inline">nil</code> when a get? action/interface is called.</li><li><code class="inline">:stream?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If true, a stream of the results will be returned The default value is <code class="inline">false</code>.</li><li><code class="inline">:stream_options</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">keyword/0</code></a>) - Options passed to <code class="inline">Ash.stream!</code>, if <code class="inline">stream?: true</code> is given<ul><li><code class="inline">:batch_size</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">integer/0</code></a>) - How many records to request in each query run. Defaults to the pagination limits on the resource, or 250.</li><li><code class="inline">:allow_stream_with</code> - The 'worst' strategy allowed to be used to fetch records. See <a href="https://hexdocs.pm/ash/3.5.32/Ash.html#stream!/2"><code class="inline">Ash.stream!/2</code></a> docs for more. The default value is <code class="inline">:keyset</code>.</li><li><code class="inline">:stream_with</code> - The specific strategy to use to fetch records. See <a href="https://hexdocs.pm/ash/3.5.32/Ash.html#stream!/2"><code class="inline">Ash.stream!/2</code></a> docs for more.</li></ul></li></ul>
  </section>
</section>
<section class="detail" id="get_breach!/3">

    <span id="get_breach!/1"></span>

    <span id="get_breach!/2"></span>

  <div class="detail-header">
    <a href="#get_breach!/3" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">get_breach!(id, params \\ nil, opts \\ nil)</h1>


    </div>
  </div>

  <section class="docstring">

<p>Calls the read action on EhsEnforcement.Enforcement.Breach.
Raises any errors instead of returning them</p><h2 id="get_breach!/3-options" class="section-heading"><a href="#get_breach!/3-options" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Options</span></h2><ul><li><code class="inline">:page</code> - Pagination options, see <a href="https://hexdocs.pm/ash/3.5.32/Ash.html#read/2"><code class="inline">Ash.read/2</code></a> for more.</li><li><code class="inline">:load</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A load statement to add onto the query</li><li><code class="inline">:max_concurrency</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">non_neg_integer/0</code></a>) - The maximum number of processes allowed to be started for parallel loading of relationships and calculations. Defaults to <code class="inline">System.schedulers_online() * 2</code></li><li><code class="inline">:lock</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A lock statement to add onto the query</li><li><code class="inline">:return_query?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If <code class="inline">true</code>, the query that was ultimately used is returned as a third tuple element.<br/>The query goes through many potential changes during a request, potentially adding
authorization filters, or replacing relationships for other data layers with their
corresponding ids. This option can be used to get the true query that was sent to
the data layer. The default value is <code class="inline">false</code>.</li><li><code class="inline">:skip_unknown_inputs</code> - A list of inputs that, if provided, will be ignored if they are not recognized by the action. Use <code class="inline">:*</code> to indicate all unknown keys.</li><li><code class="inline">:reuse_values?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether calculations are allowed to reuse values that have already been loaded, or must refetch them from the data layer. The default value is <code class="inline">false</code>.</li><li><code class="inline">:strict?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If set to true, only specified attributes will be loaded when passing
  a list of fields to fetch on a relationship, which allows for more
  optimized data-fetching.<br/>  See <a href="https://hexdocs.pm/ash/3.5.32/Ash.Query.html#load/2"><code class="inline">Ash.Query.load/2</code></a>. The default value is <code class="inline">false</code>.</li><li><code class="inline">:authorize_with</code> - If set to <code class="inline">:error</code>, instead of applying authorization filters as a filter, any records not matching the authorization filter will cause an error to be returned. Valid values are :filter, :error The default value is <code class="inline">:filter</code>.</li><li><code class="inline">:timeout</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">timeout/0</code></a>) - A positive integer, or <code class="inline">:infinity</code>. If none is provided, the timeout configured on the domain is used.</li><li><code class="inline">:tracer</code> (one or a list of module that adopts <a href="https://hexdocs.pm/ash/3.5.32/Ash.Tracer.html"><code class="inline">Ash.Tracer</code></a>) - A tracer that implements the <a href="https://hexdocs.pm/ash/3.5.32/Ash.Tracer.html"><code class="inline">Ash.Tracer</code></a> behaviour. See that module for more.</li><li><code class="inline">:action</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - The action to use, either an Action struct or the name of the action</li><li><code class="inline">:authorize?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If an actor option is provided (even if it is <code class="inline">nil</code>), authorization happens automatically. If not, this flag can be used to authorize with no user.</li><li><code class="inline">:context</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">map/0</code></a>) - Context to set on the query, changeset, or input</li><li><code class="inline">:tenant</code> (value that implements the <a href="https://hexdocs.pm/ash/3.5.32/Ash.ToTenant.html"><code class="inline">Ash.ToTenant</code></a> protocol) - A tenant to set on the query or changeset</li><li><code class="inline">:actor</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - If an actor is provided, it will be used in conjunction with the authorizers of a resource to authorize access</li><li><code class="inline">:scope</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A value that implements the <a href="https://hexdocs.pm/ash/3.5.32/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> protocol, for passing around actor/tenant/context in a single value. See <a href="https://hexdocs.pm/ash/3.5.32/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> for more.</li><li><code class="inline">:query</code> - A query to seed the action with.</li><li><code class="inline">:not_found_error?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to return or raise a <code class="inline">NotFound</code> error or to return <code class="inline">nil</code> when a get? action/interface is called.</li><li><code class="inline">:stream?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If true, a stream of the results will be returned The default value is <code class="inline">false</code>.</li><li><code class="inline">:stream_options</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">keyword/0</code></a>) - Options passed to <code class="inline">Ash.stream!</code>, if <code class="inline">stream?: true</code> is given<ul><li><code class="inline">:batch_size</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">integer/0</code></a>) - How many records to request in each query run. Defaults to the pagination limits on the resource, or 250.</li><li><code class="inline">:allow_stream_with</code> - The 'worst' strategy allowed to be used to fetch records. See <a href="https://hexdocs.pm/ash/3.5.32/Ash.html#stream!/2"><code class="inline">Ash.stream!/2</code></a> docs for more. The default value is <code class="inline">:keyset</code>.</li><li><code class="inline">:stream_with</code> - The specific strategy to use to fetch records. See <a href="https://hexdocs.pm/ash/3.5.32/Ash.html#stream!/2"><code class="inline">Ash.stream!/2</code></a> docs for more.</li></ul></li></ul>
  </section>
</section>
<section class="detail" id="get_case/3">

    <span id="get_case/1"></span>

    <span id="get_case/2"></span>

  <div class="detail-header">
    <a href="#get_case/3" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">get_case(id, params \\ nil, opts \\ nil)</h1>


    </div>
  </div>

  <section class="docstring">

<p>Calls the read action on EhsEnforcement.Enforcement.Case.</p><h2 id="get_case/3-options" class="section-heading"><a href="#get_case/3-options" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Options</span></h2><ul><li><code class="inline">:page</code> - Pagination options, see <a href="https://hexdocs.pm/ash/3.5.32/Ash.html#read/2"><code class="inline">Ash.read/2</code></a> for more.</li><li><code class="inline">:load</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A load statement to add onto the query</li><li><code class="inline">:max_concurrency</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">non_neg_integer/0</code></a>) - The maximum number of processes allowed to be started for parallel loading of relationships and calculations. Defaults to <code class="inline">System.schedulers_online() * 2</code></li><li><code class="inline">:lock</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A lock statement to add onto the query</li><li><code class="inline">:return_query?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If <code class="inline">true</code>, the query that was ultimately used is returned as a third tuple element.<br/>The query goes through many potential changes during a request, potentially adding
authorization filters, or replacing relationships for other data layers with their
corresponding ids. This option can be used to get the true query that was sent to
the data layer. The default value is <code class="inline">false</code>.</li><li><code class="inline">:skip_unknown_inputs</code> - A list of inputs that, if provided, will be ignored if they are not recognized by the action. Use <code class="inline">:*</code> to indicate all unknown keys.</li><li><code class="inline">:reuse_values?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether calculations are allowed to reuse values that have already been loaded, or must refetch them from the data layer. The default value is <code class="inline">false</code>.</li><li><code class="inline">:strict?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If set to true, only specified attributes will be loaded when passing
  a list of fields to fetch on a relationship, which allows for more
  optimized data-fetching.<br/>  See <a href="https://hexdocs.pm/ash/3.5.32/Ash.Query.html#load/2"><code class="inline">Ash.Query.load/2</code></a>. The default value is <code class="inline">false</code>.</li><li><code class="inline">:authorize_with</code> - If set to <code class="inline">:error</code>, instead of applying authorization filters as a filter, any records not matching the authorization filter will cause an error to be returned. Valid values are :filter, :error The default value is <code class="inline">:filter</code>.</li><li><code class="inline">:timeout</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">timeout/0</code></a>) - A positive integer, or <code class="inline">:infinity</code>. If none is provided, the timeout configured on the domain is used.</li><li><code class="inline">:tracer</code> (one or a list of module that adopts <a href="https://hexdocs.pm/ash/3.5.32/Ash.Tracer.html"><code class="inline">Ash.Tracer</code></a>) - A tracer that implements the <a href="https://hexdocs.pm/ash/3.5.32/Ash.Tracer.html"><code class="inline">Ash.Tracer</code></a> behaviour. See that module for more.</li><li><code class="inline">:action</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - The action to use, either an Action struct or the name of the action</li><li><code class="inline">:authorize?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If an actor option is provided (even if it is <code class="inline">nil</code>), authorization happens automatically. If not, this flag can be used to authorize with no user.</li><li><code class="inline">:context</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">map/0</code></a>) - Context to set on the query, changeset, or input</li><li><code class="inline">:tenant</code> (value that implements the <a href="https://hexdocs.pm/ash/3.5.32/Ash.ToTenant.html"><code class="inline">Ash.ToTenant</code></a> protocol) - A tenant to set on the query or changeset</li><li><code class="inline">:actor</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - If an actor is provided, it will be used in conjunction with the authorizers of a resource to authorize access</li><li><code class="inline">:scope</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A value that implements the <a href="https://hexdocs.pm/ash/3.5.32/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> protocol, for passing around actor/tenant/context in a single value. See <a href="https://hexdocs.pm/ash/3.5.32/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> for more.</li><li><code class="inline">:query</code> - A query to seed the action with.</li><li><code class="inline">:not_found_error?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to return or raise a <code class="inline">NotFound</code> error or to return <code class="inline">nil</code> when a get? action/interface is called.</li><li><code class="inline">:stream?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If true, a stream of the results will be returned The default value is <code class="inline">false</code>.</li><li><code class="inline">:stream_options</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">keyword/0</code></a>) - Options passed to <code class="inline">Ash.stream!</code>, if <code class="inline">stream?: true</code> is given<ul><li><code class="inline">:batch_size</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">integer/0</code></a>) - How many records to request in each query run. Defaults to the pagination limits on the resource, or 250.</li><li><code class="inline">:allow_stream_with</code> - The 'worst' strategy allowed to be used to fetch records. See <a href="https://hexdocs.pm/ash/3.5.32/Ash.html#stream!/2"><code class="inline">Ash.stream!/2</code></a> docs for more. The default value is <code class="inline">:keyset</code>.</li><li><code class="inline">:stream_with</code> - The specific strategy to use to fetch records. See <a href="https://hexdocs.pm/ash/3.5.32/Ash.html#stream!/2"><code class="inline">Ash.stream!/2</code></a> docs for more.</li></ul></li></ul>
  </section>
</section>
<section class="detail" id="get_case!/3">

    <span id="get_case!/1"></span>

    <span id="get_case!/2"></span>

  <div class="detail-header">
    <a href="#get_case!/3" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">get_case!(id, params \\ nil, opts \\ nil)</h1>


    </div>
  </div>

  <section class="docstring">

<p>Calls the read action on EhsEnforcement.Enforcement.Case.
Raises any errors instead of returning them</p><h2 id="get_case!/3-options" class="section-heading"><a href="#get_case!/3-options" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Options</span></h2><ul><li><code class="inline">:page</code> - Pagination options, see <a href="https://hexdocs.pm/ash/3.5.32/Ash.html#read/2"><code class="inline">Ash.read/2</code></a> for more.</li><li><code class="inline">:load</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A load statement to add onto the query</li><li><code class="inline">:max_concurrency</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">non_neg_integer/0</code></a>) - The maximum number of processes allowed to be started for parallel loading of relationships and calculations. Defaults to <code class="inline">System.schedulers_online() * 2</code></li><li><code class="inline">:lock</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A lock statement to add onto the query</li><li><code class="inline">:return_query?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If <code class="inline">true</code>, the query that was ultimately used is returned as a third tuple element.<br/>The query goes through many potential changes during a request, potentially adding
authorization filters, or replacing relationships for other data layers with their
corresponding ids. This option can be used to get the true query that was sent to
the data layer. The default value is <code class="inline">false</code>.</li><li><code class="inline">:skip_unknown_inputs</code> - A list of inputs that, if provided, will be ignored if they are not recognized by the action. Use <code class="inline">:*</code> to indicate all unknown keys.</li><li><code class="inline">:reuse_values?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether calculations are allowed to reuse values that have already been loaded, or must refetch them from the data layer. The default value is <code class="inline">false</code>.</li><li><code class="inline">:strict?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If set to true, only specified attributes will be loaded when passing
  a list of fields to fetch on a relationship, which allows for more
  optimized data-fetching.<br/>  See <a href="https://hexdocs.pm/ash/3.5.32/Ash.Query.html#load/2"><code class="inline">Ash.Query.load/2</code></a>. The default value is <code class="inline">false</code>.</li><li><code class="inline">:authorize_with</code> - If set to <code class="inline">:error</code>, instead of applying authorization filters as a filter, any records not matching the authorization filter will cause an error to be returned. Valid values are :filter, :error The default value is <code class="inline">:filter</code>.</li><li><code class="inline">:timeout</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">timeout/0</code></a>) - A positive integer, or <code class="inline">:infinity</code>. If none is provided, the timeout configured on the domain is used.</li><li><code class="inline">:tracer</code> (one or a list of module that adopts <a href="https://hexdocs.pm/ash/3.5.32/Ash.Tracer.html"><code class="inline">Ash.Tracer</code></a>) - A tracer that implements the <a href="https://hexdocs.pm/ash/3.5.32/Ash.Tracer.html"><code class="inline">Ash.Tracer</code></a> behaviour. See that module for more.</li><li><code class="inline">:action</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - The action to use, either an Action struct or the name of the action</li><li><code class="inline">:authorize?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If an actor option is provided (even if it is <code class="inline">nil</code>), authorization happens automatically. If not, this flag can be used to authorize with no user.</li><li><code class="inline">:context</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">map/0</code></a>) - Context to set on the query, changeset, or input</li><li><code class="inline">:tenant</code> (value that implements the <a href="https://hexdocs.pm/ash/3.5.32/Ash.ToTenant.html"><code class="inline">Ash.ToTenant</code></a> protocol) - A tenant to set on the query or changeset</li><li><code class="inline">:actor</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - If an actor is provided, it will be used in conjunction with the authorizers of a resource to authorize access</li><li><code class="inline">:scope</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A value that implements the <a href="https://hexdocs.pm/ash/3.5.32/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> protocol, for passing around actor/tenant/context in a single value. See <a href="https://hexdocs.pm/ash/3.5.32/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> for more.</li><li><code class="inline">:query</code> - A query to seed the action with.</li><li><code class="inline">:not_found_error?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to return or raise a <code class="inline">NotFound</code> error or to return <code class="inline">nil</code> when a get? action/interface is called.</li><li><code class="inline">:stream?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If true, a stream of the results will be returned The default value is <code class="inline">false</code>.</li><li><code class="inline">:stream_options</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">keyword/0</code></a>) - Options passed to <code class="inline">Ash.stream!</code>, if <code class="inline">stream?: true</code> is given<ul><li><code class="inline">:batch_size</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">integer/0</code></a>) - How many records to request in each query run. Defaults to the pagination limits on the resource, or 250.</li><li><code class="inline">:allow_stream_with</code> - The 'worst' strategy allowed to be used to fetch records. See <a href="https://hexdocs.pm/ash/3.5.32/Ash.html#stream!/2"><code class="inline">Ash.stream!/2</code></a> docs for more. The default value is <code class="inline">:keyset</code>.</li><li><code class="inline">:stream_with</code> - The specific strategy to use to fetch records. See <a href="https://hexdocs.pm/ash/3.5.32/Ash.html#stream!/2"><code class="inline">Ash.stream!/2</code></a> docs for more.</li></ul></li></ul>
  </section>
</section>
<section class="detail" id="get_current_metrics/2">

    <span id="get_current_metrics/0"></span>

    <span id="get_current_metrics/1"></span>

  <div class="detail-header">
    <a href="#get_current_metrics/2" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">get_current_metrics(params \\ nil, opts \\ nil)</h1>


    </div>
  </div>

  <section class="docstring">

<p>Get the most recent metrics for each time period</p><h2 id="get_current_metrics/2-options" class="section-heading"><a href="#get_current_metrics/2-options" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Options</span></h2><ul><li><code class="inline">:page</code> - Pagination options, see <a href="https://hexdocs.pm/ash/3.5.32/Ash.html#read/2"><code class="inline">Ash.read/2</code></a> for more.</li><li><code class="inline">:load</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A load statement to add onto the query</li><li><code class="inline">:max_concurrency</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">non_neg_integer/0</code></a>) - The maximum number of processes allowed to be started for parallel loading of relationships and calculations. Defaults to <code class="inline">System.schedulers_online() * 2</code></li><li><code class="inline">:lock</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A lock statement to add onto the query</li><li><code class="inline">:return_query?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If <code class="inline">true</code>, the query that was ultimately used is returned as a third tuple element.<br/>The query goes through many potential changes during a request, potentially adding
authorization filters, or replacing relationships for other data layers with their
corresponding ids. This option can be used to get the true query that was sent to
the data layer. The default value is <code class="inline">false</code>.</li><li><code class="inline">:skip_unknown_inputs</code> - A list of inputs that, if provided, will be ignored if they are not recognized by the action. Use <code class="inline">:*</code> to indicate all unknown keys.</li><li><code class="inline">:reuse_values?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether calculations are allowed to reuse values that have already been loaded, or must refetch them from the data layer. The default value is <code class="inline">false</code>.</li><li><code class="inline">:strict?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If set to true, only specified attributes will be loaded when passing
  a list of fields to fetch on a relationship, which allows for more
  optimized data-fetching.<br/>  See <a href="https://hexdocs.pm/ash/3.5.32/Ash.Query.html#load/2"><code class="inline">Ash.Query.load/2</code></a>. The default value is <code class="inline">false</code>.</li><li><code class="inline">:authorize_with</code> - If set to <code class="inline">:error</code>, instead of applying authorization filters as a filter, any records not matching the authorization filter will cause an error to be returned. Valid values are :filter, :error The default value is <code class="inline">:filter</code>.</li><li><code class="inline">:timeout</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">timeout/0</code></a>) - A positive integer, or <code class="inline">:infinity</code>. If none is provided, the timeout configured on the domain is used.</li><li><code class="inline">:tracer</code> (one or a list of module that adopts <a href="https://hexdocs.pm/ash/3.5.32/Ash.Tracer.html"><code class="inline">Ash.Tracer</code></a>) - A tracer that implements the <a href="https://hexdocs.pm/ash/3.5.32/Ash.Tracer.html"><code class="inline">Ash.Tracer</code></a> behaviour. See that module for more.</li><li><code class="inline">:action</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - The action to use, either an Action struct or the name of the action</li><li><code class="inline">:authorize?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If an actor option is provided (even if it is <code class="inline">nil</code>), authorization happens automatically. If not, this flag can be used to authorize with no user.</li><li><code class="inline">:context</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">map/0</code></a>) - Context to set on the query, changeset, or input</li><li><code class="inline">:tenant</code> (value that implements the <a href="https://hexdocs.pm/ash/3.5.32/Ash.ToTenant.html"><code class="inline">Ash.ToTenant</code></a> protocol) - A tenant to set on the query or changeset</li><li><code class="inline">:actor</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - If an actor is provided, it will be used in conjunction with the authorizers of a resource to authorize access</li><li><code class="inline">:scope</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A value that implements the <a href="https://hexdocs.pm/ash/3.5.32/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> protocol, for passing around actor/tenant/context in a single value. See <a href="https://hexdocs.pm/ash/3.5.32/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> for more.</li><li><code class="inline">:query</code> - A query to seed the action with.</li><li><code class="inline">:not_found_error?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to return or raise a <code class="inline">NotFound</code> error or to return <code class="inline">nil</code> when a get? action/interface is called.</li><li><code class="inline">:stream?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If true, a stream of the results will be returned The default value is <code class="inline">false</code>.</li><li><code class="inline">:stream_options</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">keyword/0</code></a>) - Options passed to <code class="inline">Ash.stream!</code>, if <code class="inline">stream?: true</code> is given<ul><li><code class="inline">:batch_size</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">integer/0</code></a>) - How many records to request in each query run. Defaults to the pagination limits on the resource, or 250.</li><li><code class="inline">:allow_stream_with</code> - The 'worst' strategy allowed to be used to fetch records. See <a href="https://hexdocs.pm/ash/3.5.32/Ash.html#stream!/2"><code class="inline">Ash.stream!/2</code></a> docs for more. The default value is <code class="inline">:keyset</code>.</li><li><code class="inline">:stream_with</code> - The specific strategy to use to fetch records. See <a href="https://hexdocs.pm/ash/3.5.32/Ash.html#stream!/2"><code class="inline">Ash.stream!/2</code></a> docs for more.</li></ul></li></ul>
  </section>
</section>
<section class="detail" id="get_current_metrics!/2">

    <span id="get_current_metrics!/0"></span>

    <span id="get_current_metrics!/1"></span>

  <div class="detail-header">
    <a href="#get_current_metrics!/2" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">get_current_metrics!(params \\ nil, opts \\ nil)</h1>


    </div>
  </div>

  <section class="docstring">

<p>Get the most recent metrics for each time period
Raises any errors instead of returning them</p><h2 id="get_current_metrics!/2-options" class="section-heading"><a href="#get_current_metrics!/2-options" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Options</span></h2><ul><li><code class="inline">:page</code> - Pagination options, see <a href="https://hexdocs.pm/ash/3.5.32/Ash.html#read/2"><code class="inline">Ash.read/2</code></a> for more.</li><li><code class="inline">:load</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A load statement to add onto the query</li><li><code class="inline">:max_concurrency</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">non_neg_integer/0</code></a>) - The maximum number of processes allowed to be started for parallel loading of relationships and calculations. Defaults to <code class="inline">System.schedulers_online() * 2</code></li><li><code class="inline">:lock</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A lock statement to add onto the query</li><li><code class="inline">:return_query?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If <code class="inline">true</code>, the query that was ultimately used is returned as a third tuple element.<br/>The query goes through many potential changes during a request, potentially adding
authorization filters, or replacing relationships for other data layers with their
corresponding ids. This option can be used to get the true query that was sent to
the data layer. The default value is <code class="inline">false</code>.</li><li><code class="inline">:skip_unknown_inputs</code> - A list of inputs that, if provided, will be ignored if they are not recognized by the action. Use <code class="inline">:*</code> to indicate all unknown keys.</li><li><code class="inline">:reuse_values?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether calculations are allowed to reuse values that have already been loaded, or must refetch them from the data layer. The default value is <code class="inline">false</code>.</li><li><code class="inline">:strict?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If set to true, only specified attributes will be loaded when passing
  a list of fields to fetch on a relationship, which allows for more
  optimized data-fetching.<br/>  See <a href="https://hexdocs.pm/ash/3.5.32/Ash.Query.html#load/2"><code class="inline">Ash.Query.load/2</code></a>. The default value is <code class="inline">false</code>.</li><li><code class="inline">:authorize_with</code> - If set to <code class="inline">:error</code>, instead of applying authorization filters as a filter, any records not matching the authorization filter will cause an error to be returned. Valid values are :filter, :error The default value is <code class="inline">:filter</code>.</li><li><code class="inline">:timeout</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">timeout/0</code></a>) - A positive integer, or <code class="inline">:infinity</code>. If none is provided, the timeout configured on the domain is used.</li><li><code class="inline">:tracer</code> (one or a list of module that adopts <a href="https://hexdocs.pm/ash/3.5.32/Ash.Tracer.html"><code class="inline">Ash.Tracer</code></a>) - A tracer that implements the <a href="https://hexdocs.pm/ash/3.5.32/Ash.Tracer.html"><code class="inline">Ash.Tracer</code></a> behaviour. See that module for more.</li><li><code class="inline">:action</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - The action to use, either an Action struct or the name of the action</li><li><code class="inline">:authorize?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If an actor option is provided (even if it is <code class="inline">nil</code>), authorization happens automatically. If not, this flag can be used to authorize with no user.</li><li><code class="inline">:context</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">map/0</code></a>) - Context to set on the query, changeset, or input</li><li><code class="inline">:tenant</code> (value that implements the <a href="https://hexdocs.pm/ash/3.5.32/Ash.ToTenant.html"><code class="inline">Ash.ToTenant</code></a> protocol) - A tenant to set on the query or changeset</li><li><code class="inline">:actor</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - If an actor is provided, it will be used in conjunction with the authorizers of a resource to authorize access</li><li><code class="inline">:scope</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A value that implements the <a href="https://hexdocs.pm/ash/3.5.32/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> protocol, for passing around actor/tenant/context in a single value. See <a href="https://hexdocs.pm/ash/3.5.32/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> for more.</li><li><code class="inline">:query</code> - A query to seed the action with.</li><li><code class="inline">:not_found_error?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to return or raise a <code class="inline">NotFound</code> error or to return <code class="inline">nil</code> when a get? action/interface is called.</li><li><code class="inline">:stream?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If true, a stream of the results will be returned The default value is <code class="inline">false</code>.</li><li><code class="inline">:stream_options</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">keyword/0</code></a>) - Options passed to <code class="inline">Ash.stream!</code>, if <code class="inline">stream?: true</code> is given<ul><li><code class="inline">:batch_size</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">integer/0</code></a>) - How many records to request in each query run. Defaults to the pagination limits on the resource, or 250.</li><li><code class="inline">:allow_stream_with</code> - The 'worst' strategy allowed to be used to fetch records. See <a href="https://hexdocs.pm/ash/3.5.32/Ash.html#stream!/2"><code class="inline">Ash.stream!/2</code></a> docs for more. The default value is <code class="inline">:keyset</code>.</li><li><code class="inline">:stream_with</code> - The specific strategy to use to fetch records. See <a href="https://hexdocs.pm/ash/3.5.32/Ash.html#stream!/2"><code class="inline">Ash.stream!/2</code></a> docs for more.</li></ul></li></ul>
  </section>
</section>
<section class="detail" id="get_notice/3">

    <span id="get_notice/1"></span>

    <span id="get_notice/2"></span>

  <div class="detail-header">
    <a href="#get_notice/3" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">get_notice(id, params \\ nil, opts \\ nil)</h1>


    </div>
  </div>

  <section class="docstring">

<p>Calls the read action on EhsEnforcement.Enforcement.Notice.</p><h2 id="get_notice/3-options" class="section-heading"><a href="#get_notice/3-options" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Options</span></h2><ul><li><code class="inline">:page</code> - Pagination options, see <a href="https://hexdocs.pm/ash/3.5.32/Ash.html#read/2"><code class="inline">Ash.read/2</code></a> for more.</li><li><code class="inline">:load</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A load statement to add onto the query</li><li><code class="inline">:max_concurrency</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">non_neg_integer/0</code></a>) - The maximum number of processes allowed to be started for parallel loading of relationships and calculations. Defaults to <code class="inline">System.schedulers_online() * 2</code></li><li><code class="inline">:lock</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A lock statement to add onto the query</li><li><code class="inline">:return_query?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If <code class="inline">true</code>, the query that was ultimately used is returned as a third tuple element.<br/>The query goes through many potential changes during a request, potentially adding
authorization filters, or replacing relationships for other data layers with their
corresponding ids. This option can be used to get the true query that was sent to
the data layer. The default value is <code class="inline">false</code>.</li><li><code class="inline">:skip_unknown_inputs</code> - A list of inputs that, if provided, will be ignored if they are not recognized by the action. Use <code class="inline">:*</code> to indicate all unknown keys.</li><li><code class="inline">:reuse_values?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether calculations are allowed to reuse values that have already been loaded, or must refetch them from the data layer. The default value is <code class="inline">false</code>.</li><li><code class="inline">:strict?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If set to true, only specified attributes will be loaded when passing
  a list of fields to fetch on a relationship, which allows for more
  optimized data-fetching.<br/>  See <a href="https://hexdocs.pm/ash/3.5.32/Ash.Query.html#load/2"><code class="inline">Ash.Query.load/2</code></a>. The default value is <code class="inline">false</code>.</li><li><code class="inline">:authorize_with</code> - If set to <code class="inline">:error</code>, instead of applying authorization filters as a filter, any records not matching the authorization filter will cause an error to be returned. Valid values are :filter, :error The default value is <code class="inline">:filter</code>.</li><li><code class="inline">:timeout</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">timeout/0</code></a>) - A positive integer, or <code class="inline">:infinity</code>. If none is provided, the timeout configured on the domain is used.</li><li><code class="inline">:tracer</code> (one or a list of module that adopts <a href="https://hexdocs.pm/ash/3.5.32/Ash.Tracer.html"><code class="inline">Ash.Tracer</code></a>) - A tracer that implements the <a href="https://hexdocs.pm/ash/3.5.32/Ash.Tracer.html"><code class="inline">Ash.Tracer</code></a> behaviour. See that module for more.</li><li><code class="inline">:action</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - The action to use, either an Action struct or the name of the action</li><li><code class="inline">:authorize?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If an actor option is provided (even if it is <code class="inline">nil</code>), authorization happens automatically. If not, this flag can be used to authorize with no user.</li><li><code class="inline">:context</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">map/0</code></a>) - Context to set on the query, changeset, or input</li><li><code class="inline">:tenant</code> (value that implements the <a href="https://hexdocs.pm/ash/3.5.32/Ash.ToTenant.html"><code class="inline">Ash.ToTenant</code></a> protocol) - A tenant to set on the query or changeset</li><li><code class="inline">:actor</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - If an actor is provided, it will be used in conjunction with the authorizers of a resource to authorize access</li><li><code class="inline">:scope</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A value that implements the <a href="https://hexdocs.pm/ash/3.5.32/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> protocol, for passing around actor/tenant/context in a single value. See <a href="https://hexdocs.pm/ash/3.5.32/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> for more.</li><li><code class="inline">:query</code> - A query to seed the action with.</li><li><code class="inline">:not_found_error?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to return or raise a <code class="inline">NotFound</code> error or to return <code class="inline">nil</code> when a get? action/interface is called.</li><li><code class="inline">:stream?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If true, a stream of the results will be returned The default value is <code class="inline">false</code>.</li><li><code class="inline">:stream_options</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">keyword/0</code></a>) - Options passed to <code class="inline">Ash.stream!</code>, if <code class="inline">stream?: true</code> is given<ul><li><code class="inline">:batch_size</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">integer/0</code></a>) - How many records to request in each query run. Defaults to the pagination limits on the resource, or 250.</li><li><code class="inline">:allow_stream_with</code> - The 'worst' strategy allowed to be used to fetch records. See <a href="https://hexdocs.pm/ash/3.5.32/Ash.html#stream!/2"><code class="inline">Ash.stream!/2</code></a> docs for more. The default value is <code class="inline">:keyset</code>.</li><li><code class="inline">:stream_with</code> - The specific strategy to use to fetch records. See <a href="https://hexdocs.pm/ash/3.5.32/Ash.html#stream!/2"><code class="inline">Ash.stream!/2</code></a> docs for more.</li></ul></li></ul>
  </section>
</section>
<section class="detail" id="get_notice!/3">

    <span id="get_notice!/1"></span>

    <span id="get_notice!/2"></span>

  <div class="detail-header">
    <a href="#get_notice!/3" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">get_notice!(id, params \\ nil, opts \\ nil)</h1>


    </div>
  </div>

  <section class="docstring">

<p>Calls the read action on EhsEnforcement.Enforcement.Notice.
Raises any errors instead of returning them</p><h2 id="get_notice!/3-options" class="section-heading"><a href="#get_notice!/3-options" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Options</span></h2><ul><li><code class="inline">:page</code> - Pagination options, see <a href="https://hexdocs.pm/ash/3.5.32/Ash.html#read/2"><code class="inline">Ash.read/2</code></a> for more.</li><li><code class="inline">:load</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A load statement to add onto the query</li><li><code class="inline">:max_concurrency</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">non_neg_integer/0</code></a>) - The maximum number of processes allowed to be started for parallel loading of relationships and calculations. Defaults to <code class="inline">System.schedulers_online() * 2</code></li><li><code class="inline">:lock</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A lock statement to add onto the query</li><li><code class="inline">:return_query?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If <code class="inline">true</code>, the query that was ultimately used is returned as a third tuple element.<br/>The query goes through many potential changes during a request, potentially adding
authorization filters, or replacing relationships for other data layers with their
corresponding ids. This option can be used to get the true query that was sent to
the data layer. The default value is <code class="inline">false</code>.</li><li><code class="inline">:skip_unknown_inputs</code> - A list of inputs that, if provided, will be ignored if they are not recognized by the action. Use <code class="inline">:*</code> to indicate all unknown keys.</li><li><code class="inline">:reuse_values?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether calculations are allowed to reuse values that have already been loaded, or must refetch them from the data layer. The default value is <code class="inline">false</code>.</li><li><code class="inline">:strict?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If set to true, only specified attributes will be loaded when passing
  a list of fields to fetch on a relationship, which allows for more
  optimized data-fetching.<br/>  See <a href="https://hexdocs.pm/ash/3.5.32/Ash.Query.html#load/2"><code class="inline">Ash.Query.load/2</code></a>. The default value is <code class="inline">false</code>.</li><li><code class="inline">:authorize_with</code> - If set to <code class="inline">:error</code>, instead of applying authorization filters as a filter, any records not matching the authorization filter will cause an error to be returned. Valid values are :filter, :error The default value is <code class="inline">:filter</code>.</li><li><code class="inline">:timeout</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">timeout/0</code></a>) - A positive integer, or <code class="inline">:infinity</code>. If none is provided, the timeout configured on the domain is used.</li><li><code class="inline">:tracer</code> (one or a list of module that adopts <a href="https://hexdocs.pm/ash/3.5.32/Ash.Tracer.html"><code class="inline">Ash.Tracer</code></a>) - A tracer that implements the <a href="https://hexdocs.pm/ash/3.5.32/Ash.Tracer.html"><code class="inline">Ash.Tracer</code></a> behaviour. See that module for more.</li><li><code class="inline">:action</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - The action to use, either an Action struct or the name of the action</li><li><code class="inline">:authorize?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If an actor option is provided (even if it is <code class="inline">nil</code>), authorization happens automatically. If not, this flag can be used to authorize with no user.</li><li><code class="inline">:context</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">map/0</code></a>) - Context to set on the query, changeset, or input</li><li><code class="inline">:tenant</code> (value that implements the <a href="https://hexdocs.pm/ash/3.5.32/Ash.ToTenant.html"><code class="inline">Ash.ToTenant</code></a> protocol) - A tenant to set on the query or changeset</li><li><code class="inline">:actor</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - If an actor is provided, it will be used in conjunction with the authorizers of a resource to authorize access</li><li><code class="inline">:scope</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A value that implements the <a href="https://hexdocs.pm/ash/3.5.32/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> protocol, for passing around actor/tenant/context in a single value. See <a href="https://hexdocs.pm/ash/3.5.32/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> for more.</li><li><code class="inline">:query</code> - A query to seed the action with.</li><li><code class="inline">:not_found_error?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to return or raise a <code class="inline">NotFound</code> error or to return <code class="inline">nil</code> when a get? action/interface is called.</li><li><code class="inline">:stream?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If true, a stream of the results will be returned The default value is <code class="inline">false</code>.</li><li><code class="inline">:stream_options</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">keyword/0</code></a>) - Options passed to <code class="inline">Ash.stream!</code>, if <code class="inline">stream?: true</code> is given<ul><li><code class="inline">:batch_size</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">integer/0</code></a>) - How many records to request in each query run. Defaults to the pagination limits on the resource, or 250.</li><li><code class="inline">:allow_stream_with</code> - The 'worst' strategy allowed to be used to fetch records. See <a href="https://hexdocs.pm/ash/3.5.32/Ash.html#stream!/2"><code class="inline">Ash.stream!/2</code></a> docs for more. The default value is <code class="inline">:keyset</code>.</li><li><code class="inline">:stream_with</code> - The specific strategy to use to fetch records. See <a href="https://hexdocs.pm/ash/3.5.32/Ash.html#stream!/2"><code class="inline">Ash.stream!/2</code></a> docs for more.</li></ul></li></ul>
  </section>
</section>
<section class="detail" id="get_offender/3">

    <span id="get_offender/1"></span>

    <span id="get_offender/2"></span>

  <div class="detail-header">
    <a href="#get_offender/3" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">get_offender(id, params \\ nil, opts \\ nil)</h1>


    </div>
  </div>

  <section class="docstring">

<p>Calls the read action on EhsEnforcement.Enforcement.Offender.</p><h2 id="get_offender/3-options" class="section-heading"><a href="#get_offender/3-options" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Options</span></h2><ul><li><code class="inline">:page</code> - Pagination options, see <a href="https://hexdocs.pm/ash/3.5.32/Ash.html#read/2"><code class="inline">Ash.read/2</code></a> for more.</li><li><code class="inline">:load</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A load statement to add onto the query</li><li><code class="inline">:max_concurrency</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">non_neg_integer/0</code></a>) - The maximum number of processes allowed to be started for parallel loading of relationships and calculations. Defaults to <code class="inline">System.schedulers_online() * 2</code></li><li><code class="inline">:lock</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A lock statement to add onto the query</li><li><code class="inline">:return_query?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If <code class="inline">true</code>, the query that was ultimately used is returned as a third tuple element.<br/>The query goes through many potential changes during a request, potentially adding
authorization filters, or replacing relationships for other data layers with their
corresponding ids. This option can be used to get the true query that was sent to
the data layer. The default value is <code class="inline">false</code>.</li><li><code class="inline">:skip_unknown_inputs</code> - A list of inputs that, if provided, will be ignored if they are not recognized by the action. Use <code class="inline">:*</code> to indicate all unknown keys.</li><li><code class="inline">:reuse_values?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether calculations are allowed to reuse values that have already been loaded, or must refetch them from the data layer. The default value is <code class="inline">false</code>.</li><li><code class="inline">:strict?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If set to true, only specified attributes will be loaded when passing
  a list of fields to fetch on a relationship, which allows for more
  optimized data-fetching.<br/>  See <a href="https://hexdocs.pm/ash/3.5.32/Ash.Query.html#load/2"><code class="inline">Ash.Query.load/2</code></a>. The default value is <code class="inline">false</code>.</li><li><code class="inline">:authorize_with</code> - If set to <code class="inline">:error</code>, instead of applying authorization filters as a filter, any records not matching the authorization filter will cause an error to be returned. Valid values are :filter, :error The default value is <code class="inline">:filter</code>.</li><li><code class="inline">:timeout</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">timeout/0</code></a>) - A positive integer, or <code class="inline">:infinity</code>. If none is provided, the timeout configured on the domain is used.</li><li><code class="inline">:tracer</code> (one or a list of module that adopts <a href="https://hexdocs.pm/ash/3.5.32/Ash.Tracer.html"><code class="inline">Ash.Tracer</code></a>) - A tracer that implements the <a href="https://hexdocs.pm/ash/3.5.32/Ash.Tracer.html"><code class="inline">Ash.Tracer</code></a> behaviour. See that module for more.</li><li><code class="inline">:action</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - The action to use, either an Action struct or the name of the action</li><li><code class="inline">:authorize?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If an actor option is provided (even if it is <code class="inline">nil</code>), authorization happens automatically. If not, this flag can be used to authorize with no user.</li><li><code class="inline">:context</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">map/0</code></a>) - Context to set on the query, changeset, or input</li><li><code class="inline">:tenant</code> (value that implements the <a href="https://hexdocs.pm/ash/3.5.32/Ash.ToTenant.html"><code class="inline">Ash.ToTenant</code></a> protocol) - A tenant to set on the query or changeset</li><li><code class="inline">:actor</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - If an actor is provided, it will be used in conjunction with the authorizers of a resource to authorize access</li><li><code class="inline">:scope</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A value that implements the <a href="https://hexdocs.pm/ash/3.5.32/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> protocol, for passing around actor/tenant/context in a single value. See <a href="https://hexdocs.pm/ash/3.5.32/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> for more.</li><li><code class="inline">:query</code> - A query to seed the action with.</li><li><code class="inline">:not_found_error?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to return or raise a <code class="inline">NotFound</code> error or to return <code class="inline">nil</code> when a get? action/interface is called.</li><li><code class="inline">:stream?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If true, a stream of the results will be returned The default value is <code class="inline">false</code>.</li><li><code class="inline">:stream_options</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">keyword/0</code></a>) - Options passed to <code class="inline">Ash.stream!</code>, if <code class="inline">stream?: true</code> is given<ul><li><code class="inline">:batch_size</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">integer/0</code></a>) - How many records to request in each query run. Defaults to the pagination limits on the resource, or 250.</li><li><code class="inline">:allow_stream_with</code> - The 'worst' strategy allowed to be used to fetch records. See <a href="https://hexdocs.pm/ash/3.5.32/Ash.html#stream!/2"><code class="inline">Ash.stream!/2</code></a> docs for more. The default value is <code class="inline">:keyset</code>.</li><li><code class="inline">:stream_with</code> - The specific strategy to use to fetch records. See <a href="https://hexdocs.pm/ash/3.5.32/Ash.html#stream!/2"><code class="inline">Ash.stream!/2</code></a> docs for more.</li></ul></li></ul>
  </section>
</section>
<section class="detail" id="get_offender!/3">

    <span id="get_offender!/1"></span>

    <span id="get_offender!/2"></span>

  <div class="detail-header">
    <a href="#get_offender!/3" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">get_offender!(id, params \\ nil, opts \\ nil)</h1>


    </div>
  </div>

  <section class="docstring">

<p>Calls the read action on EhsEnforcement.Enforcement.Offender.
Raises any errors instead of returning them</p><h2 id="get_offender!/3-options" class="section-heading"><a href="#get_offender!/3-options" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Options</span></h2><ul><li><code class="inline">:page</code> - Pagination options, see <a href="https://hexdocs.pm/ash/3.5.32/Ash.html#read/2"><code class="inline">Ash.read/2</code></a> for more.</li><li><code class="inline">:load</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A load statement to add onto the query</li><li><code class="inline">:max_concurrency</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">non_neg_integer/0</code></a>) - The maximum number of processes allowed to be started for parallel loading of relationships and calculations. Defaults to <code class="inline">System.schedulers_online() * 2</code></li><li><code class="inline">:lock</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A lock statement to add onto the query</li><li><code class="inline">:return_query?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If <code class="inline">true</code>, the query that was ultimately used is returned as a third tuple element.<br/>The query goes through many potential changes during a request, potentially adding
authorization filters, or replacing relationships for other data layers with their
corresponding ids. This option can be used to get the true query that was sent to
the data layer. The default value is <code class="inline">false</code>.</li><li><code class="inline">:skip_unknown_inputs</code> - A list of inputs that, if provided, will be ignored if they are not recognized by the action. Use <code class="inline">:*</code> to indicate all unknown keys.</li><li><code class="inline">:reuse_values?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether calculations are allowed to reuse values that have already been loaded, or must refetch them from the data layer. The default value is <code class="inline">false</code>.</li><li><code class="inline">:strict?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If set to true, only specified attributes will be loaded when passing
  a list of fields to fetch on a relationship, which allows for more
  optimized data-fetching.<br/>  See <a href="https://hexdocs.pm/ash/3.5.32/Ash.Query.html#load/2"><code class="inline">Ash.Query.load/2</code></a>. The default value is <code class="inline">false</code>.</li><li><code class="inline">:authorize_with</code> - If set to <code class="inline">:error</code>, instead of applying authorization filters as a filter, any records not matching the authorization filter will cause an error to be returned. Valid values are :filter, :error The default value is <code class="inline">:filter</code>.</li><li><code class="inline">:timeout</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">timeout/0</code></a>) - A positive integer, or <code class="inline">:infinity</code>. If none is provided, the timeout configured on the domain is used.</li><li><code class="inline">:tracer</code> (one or a list of module that adopts <a href="https://hexdocs.pm/ash/3.5.32/Ash.Tracer.html"><code class="inline">Ash.Tracer</code></a>) - A tracer that implements the <a href="https://hexdocs.pm/ash/3.5.32/Ash.Tracer.html"><code class="inline">Ash.Tracer</code></a> behaviour. See that module for more.</li><li><code class="inline">:action</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - The action to use, either an Action struct or the name of the action</li><li><code class="inline">:authorize?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If an actor option is provided (even if it is <code class="inline">nil</code>), authorization happens automatically. If not, this flag can be used to authorize with no user.</li><li><code class="inline">:context</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">map/0</code></a>) - Context to set on the query, changeset, or input</li><li><code class="inline">:tenant</code> (value that implements the <a href="https://hexdocs.pm/ash/3.5.32/Ash.ToTenant.html"><code class="inline">Ash.ToTenant</code></a> protocol) - A tenant to set on the query or changeset</li><li><code class="inline">:actor</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - If an actor is provided, it will be used in conjunction with the authorizers of a resource to authorize access</li><li><code class="inline">:scope</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A value that implements the <a href="https://hexdocs.pm/ash/3.5.32/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> protocol, for passing around actor/tenant/context in a single value. See <a href="https://hexdocs.pm/ash/3.5.32/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> for more.</li><li><code class="inline">:query</code> - A query to seed the action with.</li><li><code class="inline">:not_found_error?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to return or raise a <code class="inline">NotFound</code> error or to return <code class="inline">nil</code> when a get? action/interface is called.</li><li><code class="inline">:stream?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If true, a stream of the results will be returned The default value is <code class="inline">false</code>.</li><li><code class="inline">:stream_options</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">keyword/0</code></a>) - Options passed to <code class="inline">Ash.stream!</code>, if <code class="inline">stream?: true</code> is given<ul><li><code class="inline">:batch_size</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">integer/0</code></a>) - How many records to request in each query run. Defaults to the pagination limits on the resource, or 250.</li><li><code class="inline">:allow_stream_with</code> - The 'worst' strategy allowed to be used to fetch records. See <a href="https://hexdocs.pm/ash/3.5.32/Ash.html#stream!/2"><code class="inline">Ash.stream!/2</code></a> docs for more. The default value is <code class="inline">:keyset</code>.</li><li><code class="inline">:stream_with</code> - The specific strategy to use to fetch records. See <a href="https://hexdocs.pm/ash/3.5.32/Ash.html#stream!/2"><code class="inline">Ash.stream!/2</code></a> docs for more.</li></ul></li></ul>
  </section>
</section>
<section class="detail" id="get_offender_by_name_and_postcode/2">

  <div class="detail-header">
    <a href="#get_offender_by_name_and_postcode/2" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">get_offender_by_name_and_postcode(name, postcode)</h1>


    </div>
  </div>

  <section class="docstring">

<p>Code Interface Functions</p><p>This domain now uses Ash code interfaces. Use the generated functions instead of direct Ash calls:</p><h2 id="get_offender_by_name_and_postcode/2-agency-functions" class="section-heading"><a href="#get_offender_by_name_and_postcode/2-agency-functions" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Agency Functions</span></h2><ul><li><a href="#list_agencies/1"><code class="inline">list_agencies/1</code></a> - List all agencies with options</li><li><a href="#get_agency/2"><code class="inline">get_agency/2</code></a> - Get agency by ID  </li><li><a href="#create_agency/2"><code class="inline">create_agency/2</code></a> - Create new agency</li><li><a href="#update_agency/3"><code class="inline">update_agency/3</code></a> - Update existing agency</li><li><a href="#get_agency_by_code/2"><code class="inline">get_agency_by_code/2</code></a> - Get agency by code</li></ul><h2 id="get_offender_by_name_and_postcode/2-offender-functions" class="section-heading"><a href="#get_offender_by_name_and_postcode/2-offender-functions" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Offender Functions</span></h2><ul><li><a href="#list_offenders/1"><code class="inline">list_offenders/1</code></a> - List all offenders with options</li><li><a href="#get_offender/2"><code class="inline">get_offender/2</code></a> - Get offender by ID</li><li><a href="#create_offender/2"><code class="inline">create_offender/2</code></a> - Create new offender</li><li><a href="#update_offender/3"><code class="inline">update_offender/3</code></a> - Update existing offender</li><li><a href="#search_offenders/2"><code class="inline">search_offenders/2</code></a> - Search offenders with query</li><li><a href="#update_offender_statistics/3"><code class="inline">update_offender_statistics/3</code></a> - Update offender statistics</li></ul><h2 id="get_offender_by_name_and_postcode/2-case-functions" class="section-heading"><a href="#get_offender_by_name_and_postcode/2-case-functions" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Case Functions</span></h2><ul><li><a href="#list_cases/1"><code class="inline">list_cases/1</code></a> - List all cases with basic options (code interface)</li><li><a href="#list_cases_with_filters/1"><code class="inline">list_cases_with_filters/1</code></a> - List cases with complex filtering (custom function)</li><li><a href="#get_case/2"><code class="inline">get_case/2</code></a> - Get case by ID</li><li><a href="#create_case/2"><code class="inline">create_case/2</code></a> - Create new case</li><li><a href="#update_case_from_scraping/3"><code class="inline">update_case_from_scraping/3</code></a> - Update case from HSE scraping</li><li><a href="#sync_case_from_airtable/3"><code class="inline">sync_case_from_airtable/3</code></a> - Sync case from Airtable migration</li><li><a href="#destroy_case/2"><code class="inline">destroy_case/2</code></a> - Delete case</li><li><a href="#list_cases_by_date_range/3"><code class="inline">list_cases_by_date_range/3</code></a> - List cases in date range</li><li><a href="#bulk_create_cases/2"><code class="inline">bulk_create_cases/2</code></a> - Bulk create multiple cases</li></ul><h2 id="get_offender_by_name_and_postcode/2-notice-functions" class="section-heading"><a href="#get_offender_by_name_and_postcode/2-notice-functions" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Notice Functions</span></h2><ul><li><a href="#list_notices/1"><code class="inline">list_notices/1</code></a> - List all notices with options</li><li><a href="#get_notice/2"><code class="inline">get_notice/2</code></a> - Get notice by ID</li><li><a href="#create_notice/2"><code class="inline">create_notice/2</code></a> - Create new notice</li><li><a href="#update_notice/3"><code class="inline">update_notice/3</code></a> - Update existing notice</li><li><a href="#destroy_notice/2"><code class="inline">destroy_notice/2</code></a> - Delete notice</li><li><code class="inline">sync_notice/3</code> - Sync notice data</li></ul><h2 id="get_offender_by_name_and_postcode/2-breach-functions" class="section-heading"><a href="#get_offender_by_name_and_postcode/2-breach-functions" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Breach Functions</span></h2><ul><li><a href="#list_breaches/1"><code class="inline">list_breaches/1</code></a> - List all breaches with options</li><li><a href="#get_breach/2"><code class="inline">get_breach/2</code></a> - Get breach by ID</li><li><a href="#create_breach/2"><code class="inline">create_breach/2</code></a> - Create new breach</li><li><a href="#update_breach/3"><code class="inline">update_breach/3</code></a> - Update existing breach</li></ul><h2 id="get_offender_by_name_and_postcode/2-metrics-functions" class="section-heading"><a href="#get_offender_by_name_and_postcode/2-metrics-functions" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Metrics Functions</span></h2><ul><li><a href="#get_current_metrics/1"><code class="inline">get_current_metrics/1</code></a> - Get current cached dashboard metrics</li><li><a href="#refresh_metrics/1"><code class="inline">refresh_metrics/1</code></a> - Refresh all dashboard metrics from current data</li></ul>
  </section>
</section>
<section class="detail" id="get_performance_stats/0">

  <div class="detail-header">
    <a href="#get_performance_stats/0" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">get_performance_stats()</h1>


    </div>
  </div>

  <section class="docstring">

<p>Get query performance statistics for monitoring dashboards.
This could be extended to track metrics in ETS/database for reporting.</p>
  </section>
</section>
<section class="detail" id="init_cache/0">

  <div class="detail-header">
    <a href="#init_cache/0" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">init_cache()</h1>


    </div>
  </div>

  <section class="docstring">

<p>Initialize the cache table. Called during application startup.</p>
  </section>
</section>
<section class="detail" id="list_agencies/2">

    <span id="list_agencies/0"></span>

    <span id="list_agencies/1"></span>

  <div class="detail-header">
    <a href="#list_agencies/2" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">list_agencies(params \\ nil, opts \\ nil)</h1>


    </div>
  </div>

  <section class="docstring">

<p>Calls the read action on EhsEnforcement.Enforcement.Agency.</p><h2 id="list_agencies/2-options" class="section-heading"><a href="#list_agencies/2-options" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Options</span></h2><ul><li><code class="inline">:page</code> - Pagination options, see <a href="https://hexdocs.pm/ash/3.5.32/Ash.html#read/2"><code class="inline">Ash.read/2</code></a> for more.</li><li><code class="inline">:load</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A load statement to add onto the query</li><li><code class="inline">:max_concurrency</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">non_neg_integer/0</code></a>) - The maximum number of processes allowed to be started for parallel loading of relationships and calculations. Defaults to <code class="inline">System.schedulers_online() * 2</code></li><li><code class="inline">:lock</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A lock statement to add onto the query</li><li><code class="inline">:return_query?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If <code class="inline">true</code>, the query that was ultimately used is returned as a third tuple element.<br/>The query goes through many potential changes during a request, potentially adding
authorization filters, or replacing relationships for other data layers with their
corresponding ids. This option can be used to get the true query that was sent to
the data layer. The default value is <code class="inline">false</code>.</li><li><code class="inline">:skip_unknown_inputs</code> - A list of inputs that, if provided, will be ignored if they are not recognized by the action. Use <code class="inline">:*</code> to indicate all unknown keys.</li><li><code class="inline">:reuse_values?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether calculations are allowed to reuse values that have already been loaded, or must refetch them from the data layer. The default value is <code class="inline">false</code>.</li><li><code class="inline">:strict?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If set to true, only specified attributes will be loaded when passing
  a list of fields to fetch on a relationship, which allows for more
  optimized data-fetching.<br/>  See <a href="https://hexdocs.pm/ash/3.5.32/Ash.Query.html#load/2"><code class="inline">Ash.Query.load/2</code></a>. The default value is <code class="inline">false</code>.</li><li><code class="inline">:authorize_with</code> - If set to <code class="inline">:error</code>, instead of applying authorization filters as a filter, any records not matching the authorization filter will cause an error to be returned. Valid values are :filter, :error The default value is <code class="inline">:filter</code>.</li><li><code class="inline">:timeout</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">timeout/0</code></a>) - A positive integer, or <code class="inline">:infinity</code>. If none is provided, the timeout configured on the domain is used.</li><li><code class="inline">:tracer</code> (one or a list of module that adopts <a href="https://hexdocs.pm/ash/3.5.32/Ash.Tracer.html"><code class="inline">Ash.Tracer</code></a>) - A tracer that implements the <a href="https://hexdocs.pm/ash/3.5.32/Ash.Tracer.html"><code class="inline">Ash.Tracer</code></a> behaviour. See that module for more.</li><li><code class="inline">:action</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - The action to use, either an Action struct or the name of the action</li><li><code class="inline">:authorize?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If an actor option is provided (even if it is <code class="inline">nil</code>), authorization happens automatically. If not, this flag can be used to authorize with no user.</li><li><code class="inline">:context</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">map/0</code></a>) - Context to set on the query, changeset, or input</li><li><code class="inline">:tenant</code> (value that implements the <a href="https://hexdocs.pm/ash/3.5.32/Ash.ToTenant.html"><code class="inline">Ash.ToTenant</code></a> protocol) - A tenant to set on the query or changeset</li><li><code class="inline">:actor</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - If an actor is provided, it will be used in conjunction with the authorizers of a resource to authorize access</li><li><code class="inline">:scope</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A value that implements the <a href="https://hexdocs.pm/ash/3.5.32/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> protocol, for passing around actor/tenant/context in a single value. See <a href="https://hexdocs.pm/ash/3.5.32/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> for more.</li><li><code class="inline">:query</code> - A query to seed the action with.</li><li><code class="inline">:not_found_error?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to return or raise a <code class="inline">NotFound</code> error or to return <code class="inline">nil</code> when a get? action/interface is called.</li><li><code class="inline">:stream?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If true, a stream of the results will be returned The default value is <code class="inline">false</code>.</li><li><code class="inline">:stream_options</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">keyword/0</code></a>) - Options passed to <code class="inline">Ash.stream!</code>, if <code class="inline">stream?: true</code> is given<ul><li><code class="inline">:batch_size</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">integer/0</code></a>) - How many records to request in each query run. Defaults to the pagination limits on the resource, or 250.</li><li><code class="inline">:allow_stream_with</code> - The 'worst' strategy allowed to be used to fetch records. See <a href="https://hexdocs.pm/ash/3.5.32/Ash.html#stream!/2"><code class="inline">Ash.stream!/2</code></a> docs for more. The default value is <code class="inline">:keyset</code>.</li><li><code class="inline">:stream_with</code> - The specific strategy to use to fetch records. See <a href="https://hexdocs.pm/ash/3.5.32/Ash.html#stream!/2"><code class="inline">Ash.stream!/2</code></a> docs for more.</li></ul></li></ul>
  </section>
</section>
<section class="detail" id="list_agencies!/2">

    <span id="list_agencies!/0"></span>

    <span id="list_agencies!/1"></span>

  <div class="detail-header">
    <a href="#list_agencies!/2" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">list_agencies!(params \\ nil, opts \\ nil)</h1>


    </div>
  </div>

  <section class="docstring">

<p>Calls the read action on EhsEnforcement.Enforcement.Agency.
Raises any errors instead of returning them</p><h2 id="list_agencies!/2-options" class="section-heading"><a href="#list_agencies!/2-options" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Options</span></h2><ul><li><code class="inline">:page</code> - Pagination options, see <a href="https://hexdocs.pm/ash/3.5.32/Ash.html#read/2"><code class="inline">Ash.read/2</code></a> for more.</li><li><code class="inline">:load</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A load statement to add onto the query</li><li><code class="inline">:max_concurrency</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">non_neg_integer/0</code></a>) - The maximum number of processes allowed to be started for parallel loading of relationships and calculations. Defaults to <code class="inline">System.schedulers_online() * 2</code></li><li><code class="inline">:lock</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A lock statement to add onto the query</li><li><code class="inline">:return_query?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If <code class="inline">true</code>, the query that was ultimately used is returned as a third tuple element.<br/>The query goes through many potential changes during a request, potentially adding
authorization filters, or replacing relationships for other data layers with their
corresponding ids. This option can be used to get the true query that was sent to
the data layer. The default value is <code class="inline">false</code>.</li><li><code class="inline">:skip_unknown_inputs</code> - A list of inputs that, if provided, will be ignored if they are not recognized by the action. Use <code class="inline">:*</code> to indicate all unknown keys.</li><li><code class="inline">:reuse_values?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether calculations are allowed to reuse values that have already been loaded, or must refetch them from the data layer. The default value is <code class="inline">false</code>.</li><li><code class="inline">:strict?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If set to true, only specified attributes will be loaded when passing
  a list of fields to fetch on a relationship, which allows for more
  optimized data-fetching.<br/>  See <a href="https://hexdocs.pm/ash/3.5.32/Ash.Query.html#load/2"><code class="inline">Ash.Query.load/2</code></a>. The default value is <code class="inline">false</code>.</li><li><code class="inline">:authorize_with</code> - If set to <code class="inline">:error</code>, instead of applying authorization filters as a filter, any records not matching the authorization filter will cause an error to be returned. Valid values are :filter, :error The default value is <code class="inline">:filter</code>.</li><li><code class="inline">:timeout</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">timeout/0</code></a>) - A positive integer, or <code class="inline">:infinity</code>. If none is provided, the timeout configured on the domain is used.</li><li><code class="inline">:tracer</code> (one or a list of module that adopts <a href="https://hexdocs.pm/ash/3.5.32/Ash.Tracer.html"><code class="inline">Ash.Tracer</code></a>) - A tracer that implements the <a href="https://hexdocs.pm/ash/3.5.32/Ash.Tracer.html"><code class="inline">Ash.Tracer</code></a> behaviour. See that module for more.</li><li><code class="inline">:action</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - The action to use, either an Action struct or the name of the action</li><li><code class="inline">:authorize?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If an actor option is provided (even if it is <code class="inline">nil</code>), authorization happens automatically. If not, this flag can be used to authorize with no user.</li><li><code class="inline">:context</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">map/0</code></a>) - Context to set on the query, changeset, or input</li><li><code class="inline">:tenant</code> (value that implements the <a href="https://hexdocs.pm/ash/3.5.32/Ash.ToTenant.html"><code class="inline">Ash.ToTenant</code></a> protocol) - A tenant to set on the query or changeset</li><li><code class="inline">:actor</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - If an actor is provided, it will be used in conjunction with the authorizers of a resource to authorize access</li><li><code class="inline">:scope</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A value that implements the <a href="https://hexdocs.pm/ash/3.5.32/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> protocol, for passing around actor/tenant/context in a single value. See <a href="https://hexdocs.pm/ash/3.5.32/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> for more.</li><li><code class="inline">:query</code> - A query to seed the action with.</li><li><code class="inline">:not_found_error?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to return or raise a <code class="inline">NotFound</code> error or to return <code class="inline">nil</code> when a get? action/interface is called.</li><li><code class="inline">:stream?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If true, a stream of the results will be returned The default value is <code class="inline">false</code>.</li><li><code class="inline">:stream_options</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">keyword/0</code></a>) - Options passed to <code class="inline">Ash.stream!</code>, if <code class="inline">stream?: true</code> is given<ul><li><code class="inline">:batch_size</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">integer/0</code></a>) - How many records to request in each query run. Defaults to the pagination limits on the resource, or 250.</li><li><code class="inline">:allow_stream_with</code> - The 'worst' strategy allowed to be used to fetch records. See <a href="https://hexdocs.pm/ash/3.5.32/Ash.html#stream!/2"><code class="inline">Ash.stream!/2</code></a> docs for more. The default value is <code class="inline">:keyset</code>.</li><li><code class="inline">:stream_with</code> - The specific strategy to use to fetch records. See <a href="https://hexdocs.pm/ash/3.5.32/Ash.html#stream!/2"><code class="inline">Ash.stream!/2</code></a> docs for more.</li></ul></li></ul>
  </section>
</section>
<section class="detail" id="list_breaches/2">

    <span id="list_breaches/0"></span>

    <span id="list_breaches/1"></span>

  <div class="detail-header">
    <a href="#list_breaches/2" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">list_breaches(params \\ nil, opts \\ nil)</h1>


    </div>
  </div>

  <section class="docstring">

<p>Calls the read action on EhsEnforcement.Enforcement.Breach.</p><h2 id="list_breaches/2-options" class="section-heading"><a href="#list_breaches/2-options" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Options</span></h2><ul><li><code class="inline">:page</code> - Pagination options, see <a href="https://hexdocs.pm/ash/3.5.32/Ash.html#read/2"><code class="inline">Ash.read/2</code></a> for more.</li><li><code class="inline">:load</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A load statement to add onto the query</li><li><code class="inline">:max_concurrency</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">non_neg_integer/0</code></a>) - The maximum number of processes allowed to be started for parallel loading of relationships and calculations. Defaults to <code class="inline">System.schedulers_online() * 2</code></li><li><code class="inline">:lock</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A lock statement to add onto the query</li><li><code class="inline">:return_query?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If <code class="inline">true</code>, the query that was ultimately used is returned as a third tuple element.<br/>The query goes through many potential changes during a request, potentially adding
authorization filters, or replacing relationships for other data layers with their
corresponding ids. This option can be used to get the true query that was sent to
the data layer. The default value is <code class="inline">false</code>.</li><li><code class="inline">:skip_unknown_inputs</code> - A list of inputs that, if provided, will be ignored if they are not recognized by the action. Use <code class="inline">:*</code> to indicate all unknown keys.</li><li><code class="inline">:reuse_values?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether calculations are allowed to reuse values that have already been loaded, or must refetch them from the data layer. The default value is <code class="inline">false</code>.</li><li><code class="inline">:strict?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If set to true, only specified attributes will be loaded when passing
  a list of fields to fetch on a relationship, which allows for more
  optimized data-fetching.<br/>  See <a href="https://hexdocs.pm/ash/3.5.32/Ash.Query.html#load/2"><code class="inline">Ash.Query.load/2</code></a>. The default value is <code class="inline">false</code>.</li><li><code class="inline">:authorize_with</code> - If set to <code class="inline">:error</code>, instead of applying authorization filters as a filter, any records not matching the authorization filter will cause an error to be returned. Valid values are :filter, :error The default value is <code class="inline">:filter</code>.</li><li><code class="inline">:timeout</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">timeout/0</code></a>) - A positive integer, or <code class="inline">:infinity</code>. If none is provided, the timeout configured on the domain is used.</li><li><code class="inline">:tracer</code> (one or a list of module that adopts <a href="https://hexdocs.pm/ash/3.5.32/Ash.Tracer.html"><code class="inline">Ash.Tracer</code></a>) - A tracer that implements the <a href="https://hexdocs.pm/ash/3.5.32/Ash.Tracer.html"><code class="inline">Ash.Tracer</code></a> behaviour. See that module for more.</li><li><code class="inline">:action</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - The action to use, either an Action struct or the name of the action</li><li><code class="inline">:authorize?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If an actor option is provided (even if it is <code class="inline">nil</code>), authorization happens automatically. If not, this flag can be used to authorize with no user.</li><li><code class="inline">:context</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">map/0</code></a>) - Context to set on the query, changeset, or input</li><li><code class="inline">:tenant</code> (value that implements the <a href="https://hexdocs.pm/ash/3.5.32/Ash.ToTenant.html"><code class="inline">Ash.ToTenant</code></a> protocol) - A tenant to set on the query or changeset</li><li><code class="inline">:actor</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - If an actor is provided, it will be used in conjunction with the authorizers of a resource to authorize access</li><li><code class="inline">:scope</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A value that implements the <a href="https://hexdocs.pm/ash/3.5.32/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> protocol, for passing around actor/tenant/context in a single value. See <a href="https://hexdocs.pm/ash/3.5.32/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> for more.</li><li><code class="inline">:query</code> - A query to seed the action with.</li><li><code class="inline">:not_found_error?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to return or raise a <code class="inline">NotFound</code> error or to return <code class="inline">nil</code> when a get? action/interface is called.</li><li><code class="inline">:stream?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If true, a stream of the results will be returned The default value is <code class="inline">false</code>.</li><li><code class="inline">:stream_options</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">keyword/0</code></a>) - Options passed to <code class="inline">Ash.stream!</code>, if <code class="inline">stream?: true</code> is given<ul><li><code class="inline">:batch_size</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">integer/0</code></a>) - How many records to request in each query run. Defaults to the pagination limits on the resource, or 250.</li><li><code class="inline">:allow_stream_with</code> - The 'worst' strategy allowed to be used to fetch records. See <a href="https://hexdocs.pm/ash/3.5.32/Ash.html#stream!/2"><code class="inline">Ash.stream!/2</code></a> docs for more. The default value is <code class="inline">:keyset</code>.</li><li><code class="inline">:stream_with</code> - The specific strategy to use to fetch records. See <a href="https://hexdocs.pm/ash/3.5.32/Ash.html#stream!/2"><code class="inline">Ash.stream!/2</code></a> docs for more.</li></ul></li></ul>
  </section>
</section>
<section class="detail" id="list_breaches!/2">

    <span id="list_breaches!/0"></span>

    <span id="list_breaches!/1"></span>

  <div class="detail-header">
    <a href="#list_breaches!/2" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">list_breaches!(params \\ nil, opts \\ nil)</h1>


    </div>
  </div>

  <section class="docstring">

<p>Calls the read action on EhsEnforcement.Enforcement.Breach.
Raises any errors instead of returning them</p><h2 id="list_breaches!/2-options" class="section-heading"><a href="#list_breaches!/2-options" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Options</span></h2><ul><li><code class="inline">:page</code> - Pagination options, see <a href="https://hexdocs.pm/ash/3.5.32/Ash.html#read/2"><code class="inline">Ash.read/2</code></a> for more.</li><li><code class="inline">:load</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A load statement to add onto the query</li><li><code class="inline">:max_concurrency</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">non_neg_integer/0</code></a>) - The maximum number of processes allowed to be started for parallel loading of relationships and calculations. Defaults to <code class="inline">System.schedulers_online() * 2</code></li><li><code class="inline">:lock</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A lock statement to add onto the query</li><li><code class="inline">:return_query?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If <code class="inline">true</code>, the query that was ultimately used is returned as a third tuple element.<br/>The query goes through many potential changes during a request, potentially adding
authorization filters, or replacing relationships for other data layers with their
corresponding ids. This option can be used to get the true query that was sent to
the data layer. The default value is <code class="inline">false</code>.</li><li><code class="inline">:skip_unknown_inputs</code> - A list of inputs that, if provided, will be ignored if they are not recognized by the action. Use <code class="inline">:*</code> to indicate all unknown keys.</li><li><code class="inline">:reuse_values?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether calculations are allowed to reuse values that have already been loaded, or must refetch them from the data layer. The default value is <code class="inline">false</code>.</li><li><code class="inline">:strict?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If set to true, only specified attributes will be loaded when passing
  a list of fields to fetch on a relationship, which allows for more
  optimized data-fetching.<br/>  See <a href="https://hexdocs.pm/ash/3.5.32/Ash.Query.html#load/2"><code class="inline">Ash.Query.load/2</code></a>. The default value is <code class="inline">false</code>.</li><li><code class="inline">:authorize_with</code> - If set to <code class="inline">:error</code>, instead of applying authorization filters as a filter, any records not matching the authorization filter will cause an error to be returned. Valid values are :filter, :error The default value is <code class="inline">:filter</code>.</li><li><code class="inline">:timeout</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">timeout/0</code></a>) - A positive integer, or <code class="inline">:infinity</code>. If none is provided, the timeout configured on the domain is used.</li><li><code class="inline">:tracer</code> (one or a list of module that adopts <a href="https://hexdocs.pm/ash/3.5.32/Ash.Tracer.html"><code class="inline">Ash.Tracer</code></a>) - A tracer that implements the <a href="https://hexdocs.pm/ash/3.5.32/Ash.Tracer.html"><code class="inline">Ash.Tracer</code></a> behaviour. See that module for more.</li><li><code class="inline">:action</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - The action to use, either an Action struct or the name of the action</li><li><code class="inline">:authorize?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If an actor option is provided (even if it is <code class="inline">nil</code>), authorization happens automatically. If not, this flag can be used to authorize with no user.</li><li><code class="inline">:context</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">map/0</code></a>) - Context to set on the query, changeset, or input</li><li><code class="inline">:tenant</code> (value that implements the <a href="https://hexdocs.pm/ash/3.5.32/Ash.ToTenant.html"><code class="inline">Ash.ToTenant</code></a> protocol) - A tenant to set on the query or changeset</li><li><code class="inline">:actor</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - If an actor is provided, it will be used in conjunction with the authorizers of a resource to authorize access</li><li><code class="inline">:scope</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A value that implements the <a href="https://hexdocs.pm/ash/3.5.32/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> protocol, for passing around actor/tenant/context in a single value. See <a href="https://hexdocs.pm/ash/3.5.32/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> for more.</li><li><code class="inline">:query</code> - A query to seed the action with.</li><li><code class="inline">:not_found_error?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to return or raise a <code class="inline">NotFound</code> error or to return <code class="inline">nil</code> when a get? action/interface is called.</li><li><code class="inline">:stream?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If true, a stream of the results will be returned The default value is <code class="inline">false</code>.</li><li><code class="inline">:stream_options</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">keyword/0</code></a>) - Options passed to <code class="inline">Ash.stream!</code>, if <code class="inline">stream?: true</code> is given<ul><li><code class="inline">:batch_size</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">integer/0</code></a>) - How many records to request in each query run. Defaults to the pagination limits on the resource, or 250.</li><li><code class="inline">:allow_stream_with</code> - The 'worst' strategy allowed to be used to fetch records. See <a href="https://hexdocs.pm/ash/3.5.32/Ash.html#stream!/2"><code class="inline">Ash.stream!/2</code></a> docs for more. The default value is <code class="inline">:keyset</code>.</li><li><code class="inline">:stream_with</code> - The specific strategy to use to fetch records. See <a href="https://hexdocs.pm/ash/3.5.32/Ash.html#stream!/2"><code class="inline">Ash.stream!/2</code></a> docs for more.</li></ul></li></ul>
  </section>
</section>
<section class="detail" id="list_cases/2">

    <span id="list_cases/0"></span>

    <span id="list_cases/1"></span>

  <div class="detail-header">
    <a href="#list_cases/2" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">list_cases(params \\ nil, opts \\ nil)</h1>


    </div>
  </div>

  <section class="docstring">

<p>Calls the read action on EhsEnforcement.Enforcement.Case.</p><h2 id="list_cases/2-options" class="section-heading"><a href="#list_cases/2-options" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Options</span></h2><ul><li><code class="inline">:page</code> - Pagination options, see <a href="https://hexdocs.pm/ash/3.5.32/Ash.html#read/2"><code class="inline">Ash.read/2</code></a> for more.</li><li><code class="inline">:load</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A load statement to add onto the query</li><li><code class="inline">:max_concurrency</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">non_neg_integer/0</code></a>) - The maximum number of processes allowed to be started for parallel loading of relationships and calculations. Defaults to <code class="inline">System.schedulers_online() * 2</code></li><li><code class="inline">:lock</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A lock statement to add onto the query</li><li><code class="inline">:return_query?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If <code class="inline">true</code>, the query that was ultimately used is returned as a third tuple element.<br/>The query goes through many potential changes during a request, potentially adding
authorization filters, or replacing relationships for other data layers with their
corresponding ids. This option can be used to get the true query that was sent to
the data layer. The default value is <code class="inline">false</code>.</li><li><code class="inline">:skip_unknown_inputs</code> - A list of inputs that, if provided, will be ignored if they are not recognized by the action. Use <code class="inline">:*</code> to indicate all unknown keys.</li><li><code class="inline">:reuse_values?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether calculations are allowed to reuse values that have already been loaded, or must refetch them from the data layer. The default value is <code class="inline">false</code>.</li><li><code class="inline">:strict?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If set to true, only specified attributes will be loaded when passing
  a list of fields to fetch on a relationship, which allows for more
  optimized data-fetching.<br/>  See <a href="https://hexdocs.pm/ash/3.5.32/Ash.Query.html#load/2"><code class="inline">Ash.Query.load/2</code></a>. The default value is <code class="inline">false</code>.</li><li><code class="inline">:authorize_with</code> - If set to <code class="inline">:error</code>, instead of applying authorization filters as a filter, any records not matching the authorization filter will cause an error to be returned. Valid values are :filter, :error The default value is <code class="inline">:filter</code>.</li><li><code class="inline">:timeout</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">timeout/0</code></a>) - A positive integer, or <code class="inline">:infinity</code>. If none is provided, the timeout configured on the domain is used.</li><li><code class="inline">:tracer</code> (one or a list of module that adopts <a href="https://hexdocs.pm/ash/3.5.32/Ash.Tracer.html"><code class="inline">Ash.Tracer</code></a>) - A tracer that implements the <a href="https://hexdocs.pm/ash/3.5.32/Ash.Tracer.html"><code class="inline">Ash.Tracer</code></a> behaviour. See that module for more.</li><li><code class="inline">:action</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - The action to use, either an Action struct or the name of the action</li><li><code class="inline">:authorize?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If an actor option is provided (even if it is <code class="inline">nil</code>), authorization happens automatically. If not, this flag can be used to authorize with no user.</li><li><code class="inline">:context</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">map/0</code></a>) - Context to set on the query, changeset, or input</li><li><code class="inline">:tenant</code> (value that implements the <a href="https://hexdocs.pm/ash/3.5.32/Ash.ToTenant.html"><code class="inline">Ash.ToTenant</code></a> protocol) - A tenant to set on the query or changeset</li><li><code class="inline">:actor</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - If an actor is provided, it will be used in conjunction with the authorizers of a resource to authorize access</li><li><code class="inline">:scope</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A value that implements the <a href="https://hexdocs.pm/ash/3.5.32/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> protocol, for passing around actor/tenant/context in a single value. See <a href="https://hexdocs.pm/ash/3.5.32/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> for more.</li><li><code class="inline">:query</code> - A query to seed the action with.</li><li><code class="inline">:not_found_error?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to return or raise a <code class="inline">NotFound</code> error or to return <code class="inline">nil</code> when a get? action/interface is called.</li><li><code class="inline">:stream?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If true, a stream of the results will be returned The default value is <code class="inline">false</code>.</li><li><code class="inline">:stream_options</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">keyword/0</code></a>) - Options passed to <code class="inline">Ash.stream!</code>, if <code class="inline">stream?: true</code> is given<ul><li><code class="inline">:batch_size</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">integer/0</code></a>) - How many records to request in each query run. Defaults to the pagination limits on the resource, or 250.</li><li><code class="inline">:allow_stream_with</code> - The 'worst' strategy allowed to be used to fetch records. See <a href="https://hexdocs.pm/ash/3.5.32/Ash.html#stream!/2"><code class="inline">Ash.stream!/2</code></a> docs for more. The default value is <code class="inline">:keyset</code>.</li><li><code class="inline">:stream_with</code> - The specific strategy to use to fetch records. See <a href="https://hexdocs.pm/ash/3.5.32/Ash.html#stream!/2"><code class="inline">Ash.stream!/2</code></a> docs for more.</li></ul></li></ul>
  </section>
</section>
<section class="detail" id="list_cases!/2">

    <span id="list_cases!/0"></span>

    <span id="list_cases!/1"></span>

  <div class="detail-header">
    <a href="#list_cases!/2" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">list_cases!(params \\ nil, opts \\ nil)</h1>


    </div>
  </div>

  <section class="docstring">

<p>Calls the read action on EhsEnforcement.Enforcement.Case.
Raises any errors instead of returning them</p><h2 id="list_cases!/2-options" class="section-heading"><a href="#list_cases!/2-options" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Options</span></h2><ul><li><code class="inline">:page</code> - Pagination options, see <a href="https://hexdocs.pm/ash/3.5.32/Ash.html#read/2"><code class="inline">Ash.read/2</code></a> for more.</li><li><code class="inline">:load</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A load statement to add onto the query</li><li><code class="inline">:max_concurrency</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">non_neg_integer/0</code></a>) - The maximum number of processes allowed to be started for parallel loading of relationships and calculations. Defaults to <code class="inline">System.schedulers_online() * 2</code></li><li><code class="inline">:lock</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A lock statement to add onto the query</li><li><code class="inline">:return_query?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If <code class="inline">true</code>, the query that was ultimately used is returned as a third tuple element.<br/>The query goes through many potential changes during a request, potentially adding
authorization filters, or replacing relationships for other data layers with their
corresponding ids. This option can be used to get the true query that was sent to
the data layer. The default value is <code class="inline">false</code>.</li><li><code class="inline">:skip_unknown_inputs</code> - A list of inputs that, if provided, will be ignored if they are not recognized by the action. Use <code class="inline">:*</code> to indicate all unknown keys.</li><li><code class="inline">:reuse_values?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether calculations are allowed to reuse values that have already been loaded, or must refetch them from the data layer. The default value is <code class="inline">false</code>.</li><li><code class="inline">:strict?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If set to true, only specified attributes will be loaded when passing
  a list of fields to fetch on a relationship, which allows for more
  optimized data-fetching.<br/>  See <a href="https://hexdocs.pm/ash/3.5.32/Ash.Query.html#load/2"><code class="inline">Ash.Query.load/2</code></a>. The default value is <code class="inline">false</code>.</li><li><code class="inline">:authorize_with</code> - If set to <code class="inline">:error</code>, instead of applying authorization filters as a filter, any records not matching the authorization filter will cause an error to be returned. Valid values are :filter, :error The default value is <code class="inline">:filter</code>.</li><li><code class="inline">:timeout</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">timeout/0</code></a>) - A positive integer, or <code class="inline">:infinity</code>. If none is provided, the timeout configured on the domain is used.</li><li><code class="inline">:tracer</code> (one or a list of module that adopts <a href="https://hexdocs.pm/ash/3.5.32/Ash.Tracer.html"><code class="inline">Ash.Tracer</code></a>) - A tracer that implements the <a href="https://hexdocs.pm/ash/3.5.32/Ash.Tracer.html"><code class="inline">Ash.Tracer</code></a> behaviour. See that module for more.</li><li><code class="inline">:action</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - The action to use, either an Action struct or the name of the action</li><li><code class="inline">:authorize?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If an actor option is provided (even if it is <code class="inline">nil</code>), authorization happens automatically. If not, this flag can be used to authorize with no user.</li><li><code class="inline">:context</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">map/0</code></a>) - Context to set on the query, changeset, or input</li><li><code class="inline">:tenant</code> (value that implements the <a href="https://hexdocs.pm/ash/3.5.32/Ash.ToTenant.html"><code class="inline">Ash.ToTenant</code></a> protocol) - A tenant to set on the query or changeset</li><li><code class="inline">:actor</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - If an actor is provided, it will be used in conjunction with the authorizers of a resource to authorize access</li><li><code class="inline">:scope</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A value that implements the <a href="https://hexdocs.pm/ash/3.5.32/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> protocol, for passing around actor/tenant/context in a single value. See <a href="https://hexdocs.pm/ash/3.5.32/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> for more.</li><li><code class="inline">:query</code> - A query to seed the action with.</li><li><code class="inline">:not_found_error?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to return or raise a <code class="inline">NotFound</code> error or to return <code class="inline">nil</code> when a get? action/interface is called.</li><li><code class="inline">:stream?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If true, a stream of the results will be returned The default value is <code class="inline">false</code>.</li><li><code class="inline">:stream_options</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">keyword/0</code></a>) - Options passed to <code class="inline">Ash.stream!</code>, if <code class="inline">stream?: true</code> is given<ul><li><code class="inline">:batch_size</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">integer/0</code></a>) - How many records to request in each query run. Defaults to the pagination limits on the resource, or 250.</li><li><code class="inline">:allow_stream_with</code> - The 'worst' strategy allowed to be used to fetch records. See <a href="https://hexdocs.pm/ash/3.5.32/Ash.html#stream!/2"><code class="inline">Ash.stream!/2</code></a> docs for more. The default value is <code class="inline">:keyset</code>.</li><li><code class="inline">:stream_with</code> - The specific strategy to use to fetch records. See <a href="https://hexdocs.pm/ash/3.5.32/Ash.html#stream!/2"><code class="inline">Ash.stream!/2</code></a> docs for more.</li></ul></li></ul>
  </section>
</section>
<section class="detail" id="list_cases_by_date_range/4">

    <span id="list_cases_by_date_range/2"></span>

    <span id="list_cases_by_date_range/3"></span>

  <div class="detail-header">
    <a href="#list_cases_by_date_range/4" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">list_cases_by_date_range(from_date, to_date, params \\ nil, opts \\ nil)</h1>


    </div>
  </div>

  <section class="docstring">

<p>Calls the by_date_range action on EhsEnforcement.Enforcement.Case.</p><h2 id="list_cases_by_date_range/4-options" class="section-heading"><a href="#list_cases_by_date_range/4-options" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Options</span></h2><ul><li><code class="inline">:page</code> - Pagination options, see <a href="https://hexdocs.pm/ash/3.5.32/Ash.html#read/2"><code class="inline">Ash.read/2</code></a> for more.</li><li><code class="inline">:load</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A load statement to add onto the query</li><li><code class="inline">:max_concurrency</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">non_neg_integer/0</code></a>) - The maximum number of processes allowed to be started for parallel loading of relationships and calculations. Defaults to <code class="inline">System.schedulers_online() * 2</code></li><li><code class="inline">:lock</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A lock statement to add onto the query</li><li><code class="inline">:return_query?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If <code class="inline">true</code>, the query that was ultimately used is returned as a third tuple element.<br/>The query goes through many potential changes during a request, potentially adding
authorization filters, or replacing relationships for other data layers with their
corresponding ids. This option can be used to get the true query that was sent to
the data layer. The default value is <code class="inline">false</code>.</li><li><code class="inline">:skip_unknown_inputs</code> - A list of inputs that, if provided, will be ignored if they are not recognized by the action. Use <code class="inline">:*</code> to indicate all unknown keys.</li><li><code class="inline">:reuse_values?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether calculations are allowed to reuse values that have already been loaded, or must refetch them from the data layer. The default value is <code class="inline">false</code>.</li><li><code class="inline">:strict?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If set to true, only specified attributes will be loaded when passing
  a list of fields to fetch on a relationship, which allows for more
  optimized data-fetching.<br/>  See <a href="https://hexdocs.pm/ash/3.5.32/Ash.Query.html#load/2"><code class="inline">Ash.Query.load/2</code></a>. The default value is <code class="inline">false</code>.</li><li><code class="inline">:authorize_with</code> - If set to <code class="inline">:error</code>, instead of applying authorization filters as a filter, any records not matching the authorization filter will cause an error to be returned. Valid values are :filter, :error The default value is <code class="inline">:filter</code>.</li><li><code class="inline">:timeout</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">timeout/0</code></a>) - A positive integer, or <code class="inline">:infinity</code>. If none is provided, the timeout configured on the domain is used.</li><li><code class="inline">:tracer</code> (one or a list of module that adopts <a href="https://hexdocs.pm/ash/3.5.32/Ash.Tracer.html"><code class="inline">Ash.Tracer</code></a>) - A tracer that implements the <a href="https://hexdocs.pm/ash/3.5.32/Ash.Tracer.html"><code class="inline">Ash.Tracer</code></a> behaviour. See that module for more.</li><li><code class="inline">:action</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - The action to use, either an Action struct or the name of the action</li><li><code class="inline">:authorize?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If an actor option is provided (even if it is <code class="inline">nil</code>), authorization happens automatically. If not, this flag can be used to authorize with no user.</li><li><code class="inline">:context</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">map/0</code></a>) - Context to set on the query, changeset, or input</li><li><code class="inline">:tenant</code> (value that implements the <a href="https://hexdocs.pm/ash/3.5.32/Ash.ToTenant.html"><code class="inline">Ash.ToTenant</code></a> protocol) - A tenant to set on the query or changeset</li><li><code class="inline">:actor</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - If an actor is provided, it will be used in conjunction with the authorizers of a resource to authorize access</li><li><code class="inline">:scope</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A value that implements the <a href="https://hexdocs.pm/ash/3.5.32/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> protocol, for passing around actor/tenant/context in a single value. See <a href="https://hexdocs.pm/ash/3.5.32/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> for more.</li><li><code class="inline">:query</code> - A query to seed the action with.</li><li><code class="inline">:not_found_error?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to return or raise a <code class="inline">NotFound</code> error or to return <code class="inline">nil</code> when a get? action/interface is called.</li><li><code class="inline">:stream?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If true, a stream of the results will be returned The default value is <code class="inline">false</code>.</li><li><code class="inline">:stream_options</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">keyword/0</code></a>) - Options passed to <code class="inline">Ash.stream!</code>, if <code class="inline">stream?: true</code> is given<ul><li><code class="inline">:batch_size</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">integer/0</code></a>) - How many records to request in each query run. Defaults to the pagination limits on the resource, or 250.</li><li><code class="inline">:allow_stream_with</code> - The 'worst' strategy allowed to be used to fetch records. See <a href="https://hexdocs.pm/ash/3.5.32/Ash.html#stream!/2"><code class="inline">Ash.stream!/2</code></a> docs for more. The default value is <code class="inline">:keyset</code>.</li><li><code class="inline">:stream_with</code> - The specific strategy to use to fetch records. See <a href="https://hexdocs.pm/ash/3.5.32/Ash.html#stream!/2"><code class="inline">Ash.stream!/2</code></a> docs for more.</li></ul></li></ul>
  </section>
</section>
<section class="detail" id="list_cases_by_date_range!/4">

    <span id="list_cases_by_date_range!/2"></span>

    <span id="list_cases_by_date_range!/3"></span>

  <div class="detail-header">
    <a href="#list_cases_by_date_range!/4" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">list_cases_by_date_range!(from_date, to_date, params \\ nil, opts \\ nil)</h1>


    </div>
  </div>

  <section class="docstring">

<p>Calls the by_date_range action on EhsEnforcement.Enforcement.Case.
Raises any errors instead of returning them</p><h2 id="list_cases_by_date_range!/4-options" class="section-heading"><a href="#list_cases_by_date_range!/4-options" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Options</span></h2><ul><li><code class="inline">:page</code> - Pagination options, see <a href="https://hexdocs.pm/ash/3.5.32/Ash.html#read/2"><code class="inline">Ash.read/2</code></a> for more.</li><li><code class="inline">:load</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A load statement to add onto the query</li><li><code class="inline">:max_concurrency</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">non_neg_integer/0</code></a>) - The maximum number of processes allowed to be started for parallel loading of relationships and calculations. Defaults to <code class="inline">System.schedulers_online() * 2</code></li><li><code class="inline">:lock</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A lock statement to add onto the query</li><li><code class="inline">:return_query?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If <code class="inline">true</code>, the query that was ultimately used is returned as a third tuple element.<br/>The query goes through many potential changes during a request, potentially adding
authorization filters, or replacing relationships for other data layers with their
corresponding ids. This option can be used to get the true query that was sent to
the data layer. The default value is <code class="inline">false</code>.</li><li><code class="inline">:skip_unknown_inputs</code> - A list of inputs that, if provided, will be ignored if they are not recognized by the action. Use <code class="inline">:*</code> to indicate all unknown keys.</li><li><code class="inline">:reuse_values?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether calculations are allowed to reuse values that have already been loaded, or must refetch them from the data layer. The default value is <code class="inline">false</code>.</li><li><code class="inline">:strict?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If set to true, only specified attributes will be loaded when passing
  a list of fields to fetch on a relationship, which allows for more
  optimized data-fetching.<br/>  See <a href="https://hexdocs.pm/ash/3.5.32/Ash.Query.html#load/2"><code class="inline">Ash.Query.load/2</code></a>. The default value is <code class="inline">false</code>.</li><li><code class="inline">:authorize_with</code> - If set to <code class="inline">:error</code>, instead of applying authorization filters as a filter, any records not matching the authorization filter will cause an error to be returned. Valid values are :filter, :error The default value is <code class="inline">:filter</code>.</li><li><code class="inline">:timeout</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">timeout/0</code></a>) - A positive integer, or <code class="inline">:infinity</code>. If none is provided, the timeout configured on the domain is used.</li><li><code class="inline">:tracer</code> (one or a list of module that adopts <a href="https://hexdocs.pm/ash/3.5.32/Ash.Tracer.html"><code class="inline">Ash.Tracer</code></a>) - A tracer that implements the <a href="https://hexdocs.pm/ash/3.5.32/Ash.Tracer.html"><code class="inline">Ash.Tracer</code></a> behaviour. See that module for more.</li><li><code class="inline">:action</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - The action to use, either an Action struct or the name of the action</li><li><code class="inline">:authorize?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If an actor option is provided (even if it is <code class="inline">nil</code>), authorization happens automatically. If not, this flag can be used to authorize with no user.</li><li><code class="inline">:context</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">map/0</code></a>) - Context to set on the query, changeset, or input</li><li><code class="inline">:tenant</code> (value that implements the <a href="https://hexdocs.pm/ash/3.5.32/Ash.ToTenant.html"><code class="inline">Ash.ToTenant</code></a> protocol) - A tenant to set on the query or changeset</li><li><code class="inline">:actor</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - If an actor is provided, it will be used in conjunction with the authorizers of a resource to authorize access</li><li><code class="inline">:scope</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A value that implements the <a href="https://hexdocs.pm/ash/3.5.32/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> protocol, for passing around actor/tenant/context in a single value. See <a href="https://hexdocs.pm/ash/3.5.32/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> for more.</li><li><code class="inline">:query</code> - A query to seed the action with.</li><li><code class="inline">:not_found_error?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to return or raise a <code class="inline">NotFound</code> error or to return <code class="inline">nil</code> when a get? action/interface is called.</li><li><code class="inline">:stream?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If true, a stream of the results will be returned The default value is <code class="inline">false</code>.</li><li><code class="inline">:stream_options</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">keyword/0</code></a>) - Options passed to <code class="inline">Ash.stream!</code>, if <code class="inline">stream?: true</code> is given<ul><li><code class="inline">:batch_size</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">integer/0</code></a>) - How many records to request in each query run. Defaults to the pagination limits on the resource, or 250.</li><li><code class="inline">:allow_stream_with</code> - The 'worst' strategy allowed to be used to fetch records. See <a href="https://hexdocs.pm/ash/3.5.32/Ash.html#stream!/2"><code class="inline">Ash.stream!/2</code></a> docs for more. The default value is <code class="inline">:keyset</code>.</li><li><code class="inline">:stream_with</code> - The specific strategy to use to fetch records. See <a href="https://hexdocs.pm/ash/3.5.32/Ash.html#stream!/2"><code class="inline">Ash.stream!/2</code></a> docs for more.</li></ul></li></ul>
  </section>
</section>
<section class="detail" id="list_cases_with_filters/1">

    <span id="list_cases_with_filters/0"></span>

  <div class="detail-header">
    <a href="#list_cases_with_filters/1" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">list_cases_with_filters(opts \\ [])</h1>


    </div>
  </div>

  <section class="docstring">


  </section>
</section>
<section class="detail" id="list_cases_with_filters!/1">

    <span id="list_cases_with_filters!/0"></span>

  <div class="detail-header">
    <a href="#list_cases_with_filters!/1" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">list_cases_with_filters!(opts \\ [])</h1>


    </div>
  </div>

  <section class="docstring">


  </section>
</section>
<section class="detail" id="list_cases_with_filters_cached!/1">

    <span id="list_cases_with_filters_cached!/0"></span>

  <div class="detail-header">
    <a href="#list_cases_with_filters_cached!/1" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">list_cases_with_filters_cached!(opts \\ [])</h1>


    </div>
  </div>

  <section class="docstring">

<p>Cached version of list_cases_with_filters! for frequently used filter combinations.</p><p>Uses a simple cache key based on common filter patterns to avoid repeated database queries.
Cache TTL is 300.0 seconds.</p>
  </section>
</section>
<section class="detail" id="list_cases_with_filters_monitored!/1">

    <span id="list_cases_with_filters_monitored!/0"></span>

  <div class="detail-header">
    <a href="#list_cases_with_filters_monitored!/1" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">list_cases_with_filters_monitored!(opts \\ [])</h1>


    </div>
  </div>

  <section class="docstring">

<p>Monitored version of list_cases_with_filters! that logs slow queries.</p>
  </section>
</section>
<section class="detail" id="list_notices/2">

    <span id="list_notices/0"></span>

    <span id="list_notices/1"></span>

  <div class="detail-header">
    <a href="#list_notices/2" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">list_notices(params \\ nil, opts \\ nil)</h1>


    </div>
  </div>

  <section class="docstring">

<p>Calls the read action on EhsEnforcement.Enforcement.Notice.</p><h2 id="list_notices/2-options" class="section-heading"><a href="#list_notices/2-options" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Options</span></h2><ul><li><code class="inline">:page</code> - Pagination options, see <a href="https://hexdocs.pm/ash/3.5.32/Ash.html#read/2"><code class="inline">Ash.read/2</code></a> for more.</li><li><code class="inline">:load</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A load statement to add onto the query</li><li><code class="inline">:max_concurrency</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">non_neg_integer/0</code></a>) - The maximum number of processes allowed to be started for parallel loading of relationships and calculations. Defaults to <code class="inline">System.schedulers_online() * 2</code></li><li><code class="inline">:lock</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A lock statement to add onto the query</li><li><code class="inline">:return_query?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If <code class="inline">true</code>, the query that was ultimately used is returned as a third tuple element.<br/>The query goes through many potential changes during a request, potentially adding
authorization filters, or replacing relationships for other data layers with their
corresponding ids. This option can be used to get the true query that was sent to
the data layer. The default value is <code class="inline">false</code>.</li><li><code class="inline">:skip_unknown_inputs</code> - A list of inputs that, if provided, will be ignored if they are not recognized by the action. Use <code class="inline">:*</code> to indicate all unknown keys.</li><li><code class="inline">:reuse_values?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether calculations are allowed to reuse values that have already been loaded, or must refetch them from the data layer. The default value is <code class="inline">false</code>.</li><li><code class="inline">:strict?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If set to true, only specified attributes will be loaded when passing
  a list of fields to fetch on a relationship, which allows for more
  optimized data-fetching.<br/>  See <a href="https://hexdocs.pm/ash/3.5.32/Ash.Query.html#load/2"><code class="inline">Ash.Query.load/2</code></a>. The default value is <code class="inline">false</code>.</li><li><code class="inline">:authorize_with</code> - If set to <code class="inline">:error</code>, instead of applying authorization filters as a filter, any records not matching the authorization filter will cause an error to be returned. Valid values are :filter, :error The default value is <code class="inline">:filter</code>.</li><li><code class="inline">:timeout</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">timeout/0</code></a>) - A positive integer, or <code class="inline">:infinity</code>. If none is provided, the timeout configured on the domain is used.</li><li><code class="inline">:tracer</code> (one or a list of module that adopts <a href="https://hexdocs.pm/ash/3.5.32/Ash.Tracer.html"><code class="inline">Ash.Tracer</code></a>) - A tracer that implements the <a href="https://hexdocs.pm/ash/3.5.32/Ash.Tracer.html"><code class="inline">Ash.Tracer</code></a> behaviour. See that module for more.</li><li><code class="inline">:action</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - The action to use, either an Action struct or the name of the action</li><li><code class="inline">:authorize?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If an actor option is provided (even if it is <code class="inline">nil</code>), authorization happens automatically. If not, this flag can be used to authorize with no user.</li><li><code class="inline">:context</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">map/0</code></a>) - Context to set on the query, changeset, or input</li><li><code class="inline">:tenant</code> (value that implements the <a href="https://hexdocs.pm/ash/3.5.32/Ash.ToTenant.html"><code class="inline">Ash.ToTenant</code></a> protocol) - A tenant to set on the query or changeset</li><li><code class="inline">:actor</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - If an actor is provided, it will be used in conjunction with the authorizers of a resource to authorize access</li><li><code class="inline">:scope</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A value that implements the <a href="https://hexdocs.pm/ash/3.5.32/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> protocol, for passing around actor/tenant/context in a single value. See <a href="https://hexdocs.pm/ash/3.5.32/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> for more.</li><li><code class="inline">:query</code> - A query to seed the action with.</li><li><code class="inline">:not_found_error?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to return or raise a <code class="inline">NotFound</code> error or to return <code class="inline">nil</code> when a get? action/interface is called.</li><li><code class="inline">:stream?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If true, a stream of the results will be returned The default value is <code class="inline">false</code>.</li><li><code class="inline">:stream_options</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">keyword/0</code></a>) - Options passed to <code class="inline">Ash.stream!</code>, if <code class="inline">stream?: true</code> is given<ul><li><code class="inline">:batch_size</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">integer/0</code></a>) - How many records to request in each query run. Defaults to the pagination limits on the resource, or 250.</li><li><code class="inline">:allow_stream_with</code> - The 'worst' strategy allowed to be used to fetch records. See <a href="https://hexdocs.pm/ash/3.5.32/Ash.html#stream!/2"><code class="inline">Ash.stream!/2</code></a> docs for more. The default value is <code class="inline">:keyset</code>.</li><li><code class="inline">:stream_with</code> - The specific strategy to use to fetch records. See <a href="https://hexdocs.pm/ash/3.5.32/Ash.html#stream!/2"><code class="inline">Ash.stream!/2</code></a> docs for more.</li></ul></li></ul>
  </section>
</section>
<section class="detail" id="list_notices!/2">

    <span id="list_notices!/0"></span>

    <span id="list_notices!/1"></span>

  <div class="detail-header">
    <a href="#list_notices!/2" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">list_notices!(params \\ nil, opts \\ nil)</h1>


    </div>
  </div>

  <section class="docstring">

<p>Calls the read action on EhsEnforcement.Enforcement.Notice.
Raises any errors instead of returning them</p><h2 id="list_notices!/2-options" class="section-heading"><a href="#list_notices!/2-options" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Options</span></h2><ul><li><code class="inline">:page</code> - Pagination options, see <a href="https://hexdocs.pm/ash/3.5.32/Ash.html#read/2"><code class="inline">Ash.read/2</code></a> for more.</li><li><code class="inline">:load</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A load statement to add onto the query</li><li><code class="inline">:max_concurrency</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">non_neg_integer/0</code></a>) - The maximum number of processes allowed to be started for parallel loading of relationships and calculations. Defaults to <code class="inline">System.schedulers_online() * 2</code></li><li><code class="inline">:lock</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A lock statement to add onto the query</li><li><code class="inline">:return_query?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If <code class="inline">true</code>, the query that was ultimately used is returned as a third tuple element.<br/>The query goes through many potential changes during a request, potentially adding
authorization filters, or replacing relationships for other data layers with their
corresponding ids. This option can be used to get the true query that was sent to
the data layer. The default value is <code class="inline">false</code>.</li><li><code class="inline">:skip_unknown_inputs</code> - A list of inputs that, if provided, will be ignored if they are not recognized by the action. Use <code class="inline">:*</code> to indicate all unknown keys.</li><li><code class="inline">:reuse_values?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether calculations are allowed to reuse values that have already been loaded, or must refetch them from the data layer. The default value is <code class="inline">false</code>.</li><li><code class="inline">:strict?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If set to true, only specified attributes will be loaded when passing
  a list of fields to fetch on a relationship, which allows for more
  optimized data-fetching.<br/>  See <a href="https://hexdocs.pm/ash/3.5.32/Ash.Query.html#load/2"><code class="inline">Ash.Query.load/2</code></a>. The default value is <code class="inline">false</code>.</li><li><code class="inline">:authorize_with</code> - If set to <code class="inline">:error</code>, instead of applying authorization filters as a filter, any records not matching the authorization filter will cause an error to be returned. Valid values are :filter, :error The default value is <code class="inline">:filter</code>.</li><li><code class="inline">:timeout</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">timeout/0</code></a>) - A positive integer, or <code class="inline">:infinity</code>. If none is provided, the timeout configured on the domain is used.</li><li><code class="inline">:tracer</code> (one or a list of module that adopts <a href="https://hexdocs.pm/ash/3.5.32/Ash.Tracer.html"><code class="inline">Ash.Tracer</code></a>) - A tracer that implements the <a href="https://hexdocs.pm/ash/3.5.32/Ash.Tracer.html"><code class="inline">Ash.Tracer</code></a> behaviour. See that module for more.</li><li><code class="inline">:action</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - The action to use, either an Action struct or the name of the action</li><li><code class="inline">:authorize?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If an actor option is provided (even if it is <code class="inline">nil</code>), authorization happens automatically. If not, this flag can be used to authorize with no user.</li><li><code class="inline">:context</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">map/0</code></a>) - Context to set on the query, changeset, or input</li><li><code class="inline">:tenant</code> (value that implements the <a href="https://hexdocs.pm/ash/3.5.32/Ash.ToTenant.html"><code class="inline">Ash.ToTenant</code></a> protocol) - A tenant to set on the query or changeset</li><li><code class="inline">:actor</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - If an actor is provided, it will be used in conjunction with the authorizers of a resource to authorize access</li><li><code class="inline">:scope</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A value that implements the <a href="https://hexdocs.pm/ash/3.5.32/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> protocol, for passing around actor/tenant/context in a single value. See <a href="https://hexdocs.pm/ash/3.5.32/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> for more.</li><li><code class="inline">:query</code> - A query to seed the action with.</li><li><code class="inline">:not_found_error?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to return or raise a <code class="inline">NotFound</code> error or to return <code class="inline">nil</code> when a get? action/interface is called.</li><li><code class="inline">:stream?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If true, a stream of the results will be returned The default value is <code class="inline">false</code>.</li><li><code class="inline">:stream_options</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">keyword/0</code></a>) - Options passed to <code class="inline">Ash.stream!</code>, if <code class="inline">stream?: true</code> is given<ul><li><code class="inline">:batch_size</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">integer/0</code></a>) - How many records to request in each query run. Defaults to the pagination limits on the resource, or 250.</li><li><code class="inline">:allow_stream_with</code> - The 'worst' strategy allowed to be used to fetch records. See <a href="https://hexdocs.pm/ash/3.5.32/Ash.html#stream!/2"><code class="inline">Ash.stream!/2</code></a> docs for more. The default value is <code class="inline">:keyset</code>.</li><li><code class="inline">:stream_with</code> - The specific strategy to use to fetch records. See <a href="https://hexdocs.pm/ash/3.5.32/Ash.html#stream!/2"><code class="inline">Ash.stream!/2</code></a> docs for more.</li></ul></li></ul>
  </section>
</section>
<section class="detail" id="list_notices_with_filters!/1">

    <span id="list_notices_with_filters!/0"></span>

  <div class="detail-header">
    <a href="#list_notices_with_filters!/1" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">list_notices_with_filters!(opts \\ [])</h1>


    </div>
  </div>

  <section class="docstring">


  </section>
</section>
<section class="detail" id="list_notices_with_filters_cached!/1">

    <span id="list_notices_with_filters_cached!/0"></span>

  <div class="detail-header">
    <a href="#list_notices_with_filters_cached!/1" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">list_notices_with_filters_cached!(opts \\ [])</h1>


    </div>
  </div>

  <section class="docstring">

<p>Cached version of list_notices_with_filters! for frequently used filter combinations.</p>
  </section>
</section>
<section class="detail" id="list_notices_with_filters_monitored!/1">

    <span id="list_notices_with_filters_monitored!/0"></span>

  <div class="detail-header">
    <a href="#list_notices_with_filters_monitored!/1" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">list_notices_with_filters_monitored!(opts \\ [])</h1>


    </div>
  </div>

  <section class="docstring">

<p>Monitored version of list_notices_with_filters! that logs slow queries.</p>
  </section>
</section>
<section class="detail" id="list_offenders/2">

    <span id="list_offenders/0"></span>

    <span id="list_offenders/1"></span>

  <div class="detail-header">
    <a href="#list_offenders/2" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">list_offenders(params \\ nil, opts \\ nil)</h1>


    </div>
  </div>

  <section class="docstring">

<p>Calls the read action on EhsEnforcement.Enforcement.Offender.</p><h2 id="list_offenders/2-options" class="section-heading"><a href="#list_offenders/2-options" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Options</span></h2><ul><li><code class="inline">:page</code> - Pagination options, see <a href="https://hexdocs.pm/ash/3.5.32/Ash.html#read/2"><code class="inline">Ash.read/2</code></a> for more.</li><li><code class="inline">:load</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A load statement to add onto the query</li><li><code class="inline">:max_concurrency</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">non_neg_integer/0</code></a>) - The maximum number of processes allowed to be started for parallel loading of relationships and calculations. Defaults to <code class="inline">System.schedulers_online() * 2</code></li><li><code class="inline">:lock</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A lock statement to add onto the query</li><li><code class="inline">:return_query?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If <code class="inline">true</code>, the query that was ultimately used is returned as a third tuple element.<br/>The query goes through many potential changes during a request, potentially adding
authorization filters, or replacing relationships for other data layers with their
corresponding ids. This option can be used to get the true query that was sent to
the data layer. The default value is <code class="inline">false</code>.</li><li><code class="inline">:skip_unknown_inputs</code> - A list of inputs that, if provided, will be ignored if they are not recognized by the action. Use <code class="inline">:*</code> to indicate all unknown keys.</li><li><code class="inline">:reuse_values?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether calculations are allowed to reuse values that have already been loaded, or must refetch them from the data layer. The default value is <code class="inline">false</code>.</li><li><code class="inline">:strict?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If set to true, only specified attributes will be loaded when passing
  a list of fields to fetch on a relationship, which allows for more
  optimized data-fetching.<br/>  See <a href="https://hexdocs.pm/ash/3.5.32/Ash.Query.html#load/2"><code class="inline">Ash.Query.load/2</code></a>. The default value is <code class="inline">false</code>.</li><li><code class="inline">:authorize_with</code> - If set to <code class="inline">:error</code>, instead of applying authorization filters as a filter, any records not matching the authorization filter will cause an error to be returned. Valid values are :filter, :error The default value is <code class="inline">:filter</code>.</li><li><code class="inline">:timeout</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">timeout/0</code></a>) - A positive integer, or <code class="inline">:infinity</code>. If none is provided, the timeout configured on the domain is used.</li><li><code class="inline">:tracer</code> (one or a list of module that adopts <a href="https://hexdocs.pm/ash/3.5.32/Ash.Tracer.html"><code class="inline">Ash.Tracer</code></a>) - A tracer that implements the <a href="https://hexdocs.pm/ash/3.5.32/Ash.Tracer.html"><code class="inline">Ash.Tracer</code></a> behaviour. See that module for more.</li><li><code class="inline">:action</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - The action to use, either an Action struct or the name of the action</li><li><code class="inline">:authorize?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If an actor option is provided (even if it is <code class="inline">nil</code>), authorization happens automatically. If not, this flag can be used to authorize with no user.</li><li><code class="inline">:context</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">map/0</code></a>) - Context to set on the query, changeset, or input</li><li><code class="inline">:tenant</code> (value that implements the <a href="https://hexdocs.pm/ash/3.5.32/Ash.ToTenant.html"><code class="inline">Ash.ToTenant</code></a> protocol) - A tenant to set on the query or changeset</li><li><code class="inline">:actor</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - If an actor is provided, it will be used in conjunction with the authorizers of a resource to authorize access</li><li><code class="inline">:scope</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A value that implements the <a href="https://hexdocs.pm/ash/3.5.32/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> protocol, for passing around actor/tenant/context in a single value. See <a href="https://hexdocs.pm/ash/3.5.32/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> for more.</li><li><code class="inline">:query</code> - A query to seed the action with.</li><li><code class="inline">:not_found_error?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to return or raise a <code class="inline">NotFound</code> error or to return <code class="inline">nil</code> when a get? action/interface is called.</li><li><code class="inline">:stream?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If true, a stream of the results will be returned The default value is <code class="inline">false</code>.</li><li><code class="inline">:stream_options</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">keyword/0</code></a>) - Options passed to <code class="inline">Ash.stream!</code>, if <code class="inline">stream?: true</code> is given<ul><li><code class="inline">:batch_size</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">integer/0</code></a>) - How many records to request in each query run. Defaults to the pagination limits on the resource, or 250.</li><li><code class="inline">:allow_stream_with</code> - The 'worst' strategy allowed to be used to fetch records. See <a href="https://hexdocs.pm/ash/3.5.32/Ash.html#stream!/2"><code class="inline">Ash.stream!/2</code></a> docs for more. The default value is <code class="inline">:keyset</code>.</li><li><code class="inline">:stream_with</code> - The specific strategy to use to fetch records. See <a href="https://hexdocs.pm/ash/3.5.32/Ash.html#stream!/2"><code class="inline">Ash.stream!/2</code></a> docs for more.</li></ul></li></ul>
  </section>
</section>
<section class="detail" id="list_offenders!/2">

    <span id="list_offenders!/0"></span>

    <span id="list_offenders!/1"></span>

  <div class="detail-header">
    <a href="#list_offenders!/2" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">list_offenders!(params \\ nil, opts \\ nil)</h1>


    </div>
  </div>

  <section class="docstring">

<p>Calls the read action on EhsEnforcement.Enforcement.Offender.
Raises any errors instead of returning them</p><h2 id="list_offenders!/2-options" class="section-heading"><a href="#list_offenders!/2-options" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Options</span></h2><ul><li><code class="inline">:page</code> - Pagination options, see <a href="https://hexdocs.pm/ash/3.5.32/Ash.html#read/2"><code class="inline">Ash.read/2</code></a> for more.</li><li><code class="inline">:load</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A load statement to add onto the query</li><li><code class="inline">:max_concurrency</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">non_neg_integer/0</code></a>) - The maximum number of processes allowed to be started for parallel loading of relationships and calculations. Defaults to <code class="inline">System.schedulers_online() * 2</code></li><li><code class="inline">:lock</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A lock statement to add onto the query</li><li><code class="inline">:return_query?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If <code class="inline">true</code>, the query that was ultimately used is returned as a third tuple element.<br/>The query goes through many potential changes during a request, potentially adding
authorization filters, or replacing relationships for other data layers with their
corresponding ids. This option can be used to get the true query that was sent to
the data layer. The default value is <code class="inline">false</code>.</li><li><code class="inline">:skip_unknown_inputs</code> - A list of inputs that, if provided, will be ignored if they are not recognized by the action. Use <code class="inline">:*</code> to indicate all unknown keys.</li><li><code class="inline">:reuse_values?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether calculations are allowed to reuse values that have already been loaded, or must refetch them from the data layer. The default value is <code class="inline">false</code>.</li><li><code class="inline">:strict?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If set to true, only specified attributes will be loaded when passing
  a list of fields to fetch on a relationship, which allows for more
  optimized data-fetching.<br/>  See <a href="https://hexdocs.pm/ash/3.5.32/Ash.Query.html#load/2"><code class="inline">Ash.Query.load/2</code></a>. The default value is <code class="inline">false</code>.</li><li><code class="inline">:authorize_with</code> - If set to <code class="inline">:error</code>, instead of applying authorization filters as a filter, any records not matching the authorization filter will cause an error to be returned. Valid values are :filter, :error The default value is <code class="inline">:filter</code>.</li><li><code class="inline">:timeout</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">timeout/0</code></a>) - A positive integer, or <code class="inline">:infinity</code>. If none is provided, the timeout configured on the domain is used.</li><li><code class="inline">:tracer</code> (one or a list of module that adopts <a href="https://hexdocs.pm/ash/3.5.32/Ash.Tracer.html"><code class="inline">Ash.Tracer</code></a>) - A tracer that implements the <a href="https://hexdocs.pm/ash/3.5.32/Ash.Tracer.html"><code class="inline">Ash.Tracer</code></a> behaviour. See that module for more.</li><li><code class="inline">:action</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - The action to use, either an Action struct or the name of the action</li><li><code class="inline">:authorize?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If an actor option is provided (even if it is <code class="inline">nil</code>), authorization happens automatically. If not, this flag can be used to authorize with no user.</li><li><code class="inline">:context</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">map/0</code></a>) - Context to set on the query, changeset, or input</li><li><code class="inline">:tenant</code> (value that implements the <a href="https://hexdocs.pm/ash/3.5.32/Ash.ToTenant.html"><code class="inline">Ash.ToTenant</code></a> protocol) - A tenant to set on the query or changeset</li><li><code class="inline">:actor</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - If an actor is provided, it will be used in conjunction with the authorizers of a resource to authorize access</li><li><code class="inline">:scope</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A value that implements the <a href="https://hexdocs.pm/ash/3.5.32/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> protocol, for passing around actor/tenant/context in a single value. See <a href="https://hexdocs.pm/ash/3.5.32/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> for more.</li><li><code class="inline">:query</code> - A query to seed the action with.</li><li><code class="inline">:not_found_error?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to return or raise a <code class="inline">NotFound</code> error or to return <code class="inline">nil</code> when a get? action/interface is called.</li><li><code class="inline">:stream?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If true, a stream of the results will be returned The default value is <code class="inline">false</code>.</li><li><code class="inline">:stream_options</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">keyword/0</code></a>) - Options passed to <code class="inline">Ash.stream!</code>, if <code class="inline">stream?: true</code> is given<ul><li><code class="inline">:batch_size</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">integer/0</code></a>) - How many records to request in each query run. Defaults to the pagination limits on the resource, or 250.</li><li><code class="inline">:allow_stream_with</code> - The 'worst' strategy allowed to be used to fetch records. See <a href="https://hexdocs.pm/ash/3.5.32/Ash.html#stream!/2"><code class="inline">Ash.stream!/2</code></a> docs for more. The default value is <code class="inline">:keyset</code>.</li><li><code class="inline">:stream_with</code> - The specific strategy to use to fetch records. See <a href="https://hexdocs.pm/ash/3.5.32/Ash.html#stream!/2"><code class="inline">Ash.stream!/2</code></a> docs for more.</li></ul></li></ul>
  </section>
</section>
<section class="detail" id="query_to_get_agency/3">

    <span id="query_to_get_agency/1"></span>

    <span id="query_to_get_agency/2"></span>

  <div class="detail-header">
    <a href="#query_to_get_agency/3" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">query_to_get_agency(id, params_or_opts \\ %{}, opts \\ [])</h1>


    </div>
  </div>

  <section class="docstring">

<p>Returns the query corresponding to the action.</p><h2 id="query_to_get_agency/3-options" class="section-heading"><a href="#query_to_get_agency/3-options" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Options</span></h2><ul><li><code class="inline">:tracer</code> (one or a list of module that adopts <a href="https://hexdocs.pm/ash/3.5.32/Ash.Tracer.html"><code class="inline">Ash.Tracer</code></a>) - A tracer that implements the <a href="https://hexdocs.pm/ash/3.5.32/Ash.Tracer.html"><code class="inline">Ash.Tracer</code></a> behaviour. See that module for more.</li><li><code class="inline">:authorize?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If an actor option is provided (even if it is <code class="inline">nil</code>), authorization happens automatically. If not, this flag can be used to authorize with no user.</li><li><code class="inline">:tenant</code> (value that implements the <a href="https://hexdocs.pm/ash/3.5.32/Ash.ToTenant.html"><code class="inline">Ash.ToTenant</code></a> protocol) - A tenant to set on the query or changeset</li><li><code class="inline">:actor</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - If an actor is provided, it will be used in conjunction with the authorizers of a resource to authorize access</li><li><code class="inline">:scope</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A value that implements the <a href="https://hexdocs.pm/ash/3.5.32/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> protocol, for passing around actor/tenant/context in a single value. See <a href="https://hexdocs.pm/ash/3.5.32/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> for more.</li><li><code class="inline">:query</code> - A query to seed the action with.</li></ul>
  </section>
</section>
<section class="detail" id="query_to_get_agency_by_code/3">

    <span id="query_to_get_agency_by_code/1"></span>

    <span id="query_to_get_agency_by_code/2"></span>

  <div class="detail-header">
    <a href="#query_to_get_agency_by_code/3" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">query_to_get_agency_by_code(code, params_or_opts \\ %{}, opts \\ [])</h1>


    </div>
  </div>

  <section class="docstring">

<p>Returns the query corresponding to the action.</p><h2 id="query_to_get_agency_by_code/3-options" class="section-heading"><a href="#query_to_get_agency_by_code/3-options" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Options</span></h2><ul><li><code class="inline">:tracer</code> (one or a list of module that adopts <a href="https://hexdocs.pm/ash/3.5.32/Ash.Tracer.html"><code class="inline">Ash.Tracer</code></a>) - A tracer that implements the <a href="https://hexdocs.pm/ash/3.5.32/Ash.Tracer.html"><code class="inline">Ash.Tracer</code></a> behaviour. See that module for more.</li><li><code class="inline">:authorize?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If an actor option is provided (even if it is <code class="inline">nil</code>), authorization happens automatically. If not, this flag can be used to authorize with no user.</li><li><code class="inline">:tenant</code> (value that implements the <a href="https://hexdocs.pm/ash/3.5.32/Ash.ToTenant.html"><code class="inline">Ash.ToTenant</code></a> protocol) - A tenant to set on the query or changeset</li><li><code class="inline">:actor</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - If an actor is provided, it will be used in conjunction with the authorizers of a resource to authorize access</li><li><code class="inline">:scope</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A value that implements the <a href="https://hexdocs.pm/ash/3.5.32/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> protocol, for passing around actor/tenant/context in a single value. See <a href="https://hexdocs.pm/ash/3.5.32/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> for more.</li><li><code class="inline">:query</code> - A query to seed the action with.</li></ul>
  </section>
</section>
<section class="detail" id="query_to_get_breach/3">

    <span id="query_to_get_breach/1"></span>

    <span id="query_to_get_breach/2"></span>

  <div class="detail-header">
    <a href="#query_to_get_breach/3" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">query_to_get_breach(id, params_or_opts \\ %{}, opts \\ [])</h1>


    </div>
  </div>

  <section class="docstring">

<p>Returns the query corresponding to the action.</p><h2 id="query_to_get_breach/3-options" class="section-heading"><a href="#query_to_get_breach/3-options" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Options</span></h2><ul><li><code class="inline">:tracer</code> (one or a list of module that adopts <a href="https://hexdocs.pm/ash/3.5.32/Ash.Tracer.html"><code class="inline">Ash.Tracer</code></a>) - A tracer that implements the <a href="https://hexdocs.pm/ash/3.5.32/Ash.Tracer.html"><code class="inline">Ash.Tracer</code></a> behaviour. See that module for more.</li><li><code class="inline">:authorize?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If an actor option is provided (even if it is <code class="inline">nil</code>), authorization happens automatically. If not, this flag can be used to authorize with no user.</li><li><code class="inline">:tenant</code> (value that implements the <a href="https://hexdocs.pm/ash/3.5.32/Ash.ToTenant.html"><code class="inline">Ash.ToTenant</code></a> protocol) - A tenant to set on the query or changeset</li><li><code class="inline">:actor</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - If an actor is provided, it will be used in conjunction with the authorizers of a resource to authorize access</li><li><code class="inline">:scope</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A value that implements the <a href="https://hexdocs.pm/ash/3.5.32/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> protocol, for passing around actor/tenant/context in a single value. See <a href="https://hexdocs.pm/ash/3.5.32/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> for more.</li><li><code class="inline">:query</code> - A query to seed the action with.</li></ul>
  </section>
</section>
<section class="detail" id="query_to_get_case/3">

    <span id="query_to_get_case/1"></span>

    <span id="query_to_get_case/2"></span>

  <div class="detail-header">
    <a href="#query_to_get_case/3" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">query_to_get_case(id, params_or_opts \\ %{}, opts \\ [])</h1>


    </div>
  </div>

  <section class="docstring">

<p>Returns the query corresponding to the action.</p><h2 id="query_to_get_case/3-options" class="section-heading"><a href="#query_to_get_case/3-options" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Options</span></h2><ul><li><code class="inline">:tracer</code> (one or a list of module that adopts <a href="https://hexdocs.pm/ash/3.5.32/Ash.Tracer.html"><code class="inline">Ash.Tracer</code></a>) - A tracer that implements the <a href="https://hexdocs.pm/ash/3.5.32/Ash.Tracer.html"><code class="inline">Ash.Tracer</code></a> behaviour. See that module for more.</li><li><code class="inline">:authorize?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If an actor option is provided (even if it is <code class="inline">nil</code>), authorization happens automatically. If not, this flag can be used to authorize with no user.</li><li><code class="inline">:tenant</code> (value that implements the <a href="https://hexdocs.pm/ash/3.5.32/Ash.ToTenant.html"><code class="inline">Ash.ToTenant</code></a> protocol) - A tenant to set on the query or changeset</li><li><code class="inline">:actor</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - If an actor is provided, it will be used in conjunction with the authorizers of a resource to authorize access</li><li><code class="inline">:scope</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A value that implements the <a href="https://hexdocs.pm/ash/3.5.32/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> protocol, for passing around actor/tenant/context in a single value. See <a href="https://hexdocs.pm/ash/3.5.32/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> for more.</li><li><code class="inline">:query</code> - A query to seed the action with.</li></ul>
  </section>
</section>
<section class="detail" id="query_to_get_current_metrics/2">

    <span id="query_to_get_current_metrics/0"></span>

    <span id="query_to_get_current_metrics/1"></span>

  <div class="detail-header">
    <a href="#query_to_get_current_metrics/2" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">query_to_get_current_metrics(params_or_opts \\ %{}, opts \\ [])</h1>


    </div>
  </div>

  <section class="docstring">

<p>Returns the query corresponding to the action.</p><h2 id="query_to_get_current_metrics/2-options" class="section-heading"><a href="#query_to_get_current_metrics/2-options" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Options</span></h2><ul><li><code class="inline">:tracer</code> (one or a list of module that adopts <a href="https://hexdocs.pm/ash/3.5.32/Ash.Tracer.html"><code class="inline">Ash.Tracer</code></a>) - A tracer that implements the <a href="https://hexdocs.pm/ash/3.5.32/Ash.Tracer.html"><code class="inline">Ash.Tracer</code></a> behaviour. See that module for more.</li><li><code class="inline">:authorize?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If an actor option is provided (even if it is <code class="inline">nil</code>), authorization happens automatically. If not, this flag can be used to authorize with no user.</li><li><code class="inline">:tenant</code> (value that implements the <a href="https://hexdocs.pm/ash/3.5.32/Ash.ToTenant.html"><code class="inline">Ash.ToTenant</code></a> protocol) - A tenant to set on the query or changeset</li><li><code class="inline">:actor</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - If an actor is provided, it will be used in conjunction with the authorizers of a resource to authorize access</li><li><code class="inline">:scope</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A value that implements the <a href="https://hexdocs.pm/ash/3.5.32/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> protocol, for passing around actor/tenant/context in a single value. See <a href="https://hexdocs.pm/ash/3.5.32/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> for more.</li><li><code class="inline">:query</code> - A query to seed the action with.</li></ul>
  </section>
</section>
<section class="detail" id="query_to_get_notice/3">

    <span id="query_to_get_notice/1"></span>

    <span id="query_to_get_notice/2"></span>

  <div class="detail-header">
    <a href="#query_to_get_notice/3" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">query_to_get_notice(id, params_or_opts \\ %{}, opts \\ [])</h1>


    </div>
  </div>

  <section class="docstring">

<p>Returns the query corresponding to the action.</p><h2 id="query_to_get_notice/3-options" class="section-heading"><a href="#query_to_get_notice/3-options" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Options</span></h2><ul><li><code class="inline">:tracer</code> (one or a list of module that adopts <a href="https://hexdocs.pm/ash/3.5.32/Ash.Tracer.html"><code class="inline">Ash.Tracer</code></a>) - A tracer that implements the <a href="https://hexdocs.pm/ash/3.5.32/Ash.Tracer.html"><code class="inline">Ash.Tracer</code></a> behaviour. See that module for more.</li><li><code class="inline">:authorize?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If an actor option is provided (even if it is <code class="inline">nil</code>), authorization happens automatically. If not, this flag can be used to authorize with no user.</li><li><code class="inline">:tenant</code> (value that implements the <a href="https://hexdocs.pm/ash/3.5.32/Ash.ToTenant.html"><code class="inline">Ash.ToTenant</code></a> protocol) - A tenant to set on the query or changeset</li><li><code class="inline">:actor</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - If an actor is provided, it will be used in conjunction with the authorizers of a resource to authorize access</li><li><code class="inline">:scope</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A value that implements the <a href="https://hexdocs.pm/ash/3.5.32/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> protocol, for passing around actor/tenant/context in a single value. See <a href="https://hexdocs.pm/ash/3.5.32/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> for more.</li><li><code class="inline">:query</code> - A query to seed the action with.</li></ul>
  </section>
</section>
<section class="detail" id="query_to_get_offender/3">

    <span id="query_to_get_offender/1"></span>

    <span id="query_to_get_offender/2"></span>

  <div class="detail-header">
    <a href="#query_to_get_offender/3" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">query_to_get_offender(id, params_or_opts \\ %{}, opts \\ [])</h1>


    </div>
  </div>

  <section class="docstring">

<p>Returns the query corresponding to the action.</p><h2 id="query_to_get_offender/3-options" class="section-heading"><a href="#query_to_get_offender/3-options" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Options</span></h2><ul><li><code class="inline">:tracer</code> (one or a list of module that adopts <a href="https://hexdocs.pm/ash/3.5.32/Ash.Tracer.html"><code class="inline">Ash.Tracer</code></a>) - A tracer that implements the <a href="https://hexdocs.pm/ash/3.5.32/Ash.Tracer.html"><code class="inline">Ash.Tracer</code></a> behaviour. See that module for more.</li><li><code class="inline">:authorize?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If an actor option is provided (even if it is <code class="inline">nil</code>), authorization happens automatically. If not, this flag can be used to authorize with no user.</li><li><code class="inline">:tenant</code> (value that implements the <a href="https://hexdocs.pm/ash/3.5.32/Ash.ToTenant.html"><code class="inline">Ash.ToTenant</code></a> protocol) - A tenant to set on the query or changeset</li><li><code class="inline">:actor</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - If an actor is provided, it will be used in conjunction with the authorizers of a resource to authorize access</li><li><code class="inline">:scope</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A value that implements the <a href="https://hexdocs.pm/ash/3.5.32/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> protocol, for passing around actor/tenant/context in a single value. See <a href="https://hexdocs.pm/ash/3.5.32/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> for more.</li><li><code class="inline">:query</code> - A query to seed the action with.</li></ul>
  </section>
</section>
<section class="detail" id="query_to_list_agencies/2">

    <span id="query_to_list_agencies/0"></span>

    <span id="query_to_list_agencies/1"></span>

  <div class="detail-header">
    <a href="#query_to_list_agencies/2" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">query_to_list_agencies(params_or_opts \\ %{}, opts \\ [])</h1>


    </div>
  </div>

  <section class="docstring">

<p>Returns the query corresponding to the action.</p><h2 id="query_to_list_agencies/2-options" class="section-heading"><a href="#query_to_list_agencies/2-options" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Options</span></h2><ul><li><code class="inline">:tracer</code> (one or a list of module that adopts <a href="https://hexdocs.pm/ash/3.5.32/Ash.Tracer.html"><code class="inline">Ash.Tracer</code></a>) - A tracer that implements the <a href="https://hexdocs.pm/ash/3.5.32/Ash.Tracer.html"><code class="inline">Ash.Tracer</code></a> behaviour. See that module for more.</li><li><code class="inline">:authorize?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If an actor option is provided (even if it is <code class="inline">nil</code>), authorization happens automatically. If not, this flag can be used to authorize with no user.</li><li><code class="inline">:tenant</code> (value that implements the <a href="https://hexdocs.pm/ash/3.5.32/Ash.ToTenant.html"><code class="inline">Ash.ToTenant</code></a> protocol) - A tenant to set on the query or changeset</li><li><code class="inline">:actor</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - If an actor is provided, it will be used in conjunction with the authorizers of a resource to authorize access</li><li><code class="inline">:scope</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A value that implements the <a href="https://hexdocs.pm/ash/3.5.32/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> protocol, for passing around actor/tenant/context in a single value. See <a href="https://hexdocs.pm/ash/3.5.32/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> for more.</li><li><code class="inline">:query</code> - A query to seed the action with.</li></ul>
  </section>
</section>
<section class="detail" id="query_to_list_breaches/2">

    <span id="query_to_list_breaches/0"></span>

    <span id="query_to_list_breaches/1"></span>

  <div class="detail-header">
    <a href="#query_to_list_breaches/2" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">query_to_list_breaches(params_or_opts \\ %{}, opts \\ [])</h1>


    </div>
  </div>

  <section class="docstring">

<p>Returns the query corresponding to the action.</p><h2 id="query_to_list_breaches/2-options" class="section-heading"><a href="#query_to_list_breaches/2-options" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Options</span></h2><ul><li><code class="inline">:tracer</code> (one or a list of module that adopts <a href="https://hexdocs.pm/ash/3.5.32/Ash.Tracer.html"><code class="inline">Ash.Tracer</code></a>) - A tracer that implements the <a href="https://hexdocs.pm/ash/3.5.32/Ash.Tracer.html"><code class="inline">Ash.Tracer</code></a> behaviour. See that module for more.</li><li><code class="inline">:authorize?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If an actor option is provided (even if it is <code class="inline">nil</code>), authorization happens automatically. If not, this flag can be used to authorize with no user.</li><li><code class="inline">:tenant</code> (value that implements the <a href="https://hexdocs.pm/ash/3.5.32/Ash.ToTenant.html"><code class="inline">Ash.ToTenant</code></a> protocol) - A tenant to set on the query or changeset</li><li><code class="inline">:actor</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - If an actor is provided, it will be used in conjunction with the authorizers of a resource to authorize access</li><li><code class="inline">:scope</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A value that implements the <a href="https://hexdocs.pm/ash/3.5.32/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> protocol, for passing around actor/tenant/context in a single value. See <a href="https://hexdocs.pm/ash/3.5.32/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> for more.</li><li><code class="inline">:query</code> - A query to seed the action with.</li></ul>
  </section>
</section>
<section class="detail" id="query_to_list_cases/2">

    <span id="query_to_list_cases/0"></span>

    <span id="query_to_list_cases/1"></span>

  <div class="detail-header">
    <a href="#query_to_list_cases/2" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">query_to_list_cases(params_or_opts \\ %{}, opts \\ [])</h1>


    </div>
  </div>

  <section class="docstring">

<p>Returns the query corresponding to the action.</p><h2 id="query_to_list_cases/2-options" class="section-heading"><a href="#query_to_list_cases/2-options" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Options</span></h2><ul><li><code class="inline">:tracer</code> (one or a list of module that adopts <a href="https://hexdocs.pm/ash/3.5.32/Ash.Tracer.html"><code class="inline">Ash.Tracer</code></a>) - A tracer that implements the <a href="https://hexdocs.pm/ash/3.5.32/Ash.Tracer.html"><code class="inline">Ash.Tracer</code></a> behaviour. See that module for more.</li><li><code class="inline">:authorize?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If an actor option is provided (even if it is <code class="inline">nil</code>), authorization happens automatically. If not, this flag can be used to authorize with no user.</li><li><code class="inline">:tenant</code> (value that implements the <a href="https://hexdocs.pm/ash/3.5.32/Ash.ToTenant.html"><code class="inline">Ash.ToTenant</code></a> protocol) - A tenant to set on the query or changeset</li><li><code class="inline">:actor</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - If an actor is provided, it will be used in conjunction with the authorizers of a resource to authorize access</li><li><code class="inline">:scope</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A value that implements the <a href="https://hexdocs.pm/ash/3.5.32/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> protocol, for passing around actor/tenant/context in a single value. See <a href="https://hexdocs.pm/ash/3.5.32/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> for more.</li><li><code class="inline">:query</code> - A query to seed the action with.</li></ul>
  </section>
</section>
<section class="detail" id="query_to_list_cases_by_date_range/4">

    <span id="query_to_list_cases_by_date_range/2"></span>

    <span id="query_to_list_cases_by_date_range/3"></span>

  <div class="detail-header">
    <a href="#query_to_list_cases_by_date_range/4" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">query_to_list_cases_by_date_range(from_date, to_date, params_or_opts \\ %{}, opts \\ [])</h1>


    </div>
  </div>

  <section class="docstring">

<p>Returns the query corresponding to the action.</p><h2 id="query_to_list_cases_by_date_range/4-options" class="section-heading"><a href="#query_to_list_cases_by_date_range/4-options" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Options</span></h2><ul><li><code class="inline">:tracer</code> (one or a list of module that adopts <a href="https://hexdocs.pm/ash/3.5.32/Ash.Tracer.html"><code class="inline">Ash.Tracer</code></a>) - A tracer that implements the <a href="https://hexdocs.pm/ash/3.5.32/Ash.Tracer.html"><code class="inline">Ash.Tracer</code></a> behaviour. See that module for more.</li><li><code class="inline">:authorize?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If an actor option is provided (even if it is <code class="inline">nil</code>), authorization happens automatically. If not, this flag can be used to authorize with no user.</li><li><code class="inline">:tenant</code> (value that implements the <a href="https://hexdocs.pm/ash/3.5.32/Ash.ToTenant.html"><code class="inline">Ash.ToTenant</code></a> protocol) - A tenant to set on the query or changeset</li><li><code class="inline">:actor</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - If an actor is provided, it will be used in conjunction with the authorizers of a resource to authorize access</li><li><code class="inline">:scope</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A value that implements the <a href="https://hexdocs.pm/ash/3.5.32/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> protocol, for passing around actor/tenant/context in a single value. See <a href="https://hexdocs.pm/ash/3.5.32/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> for more.</li><li><code class="inline">:query</code> - A query to seed the action with.</li></ul>
  </section>
</section>
<section class="detail" id="query_to_list_notices/2">

    <span id="query_to_list_notices/0"></span>

    <span id="query_to_list_notices/1"></span>

  <div class="detail-header">
    <a href="#query_to_list_notices/2" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">query_to_list_notices(params_or_opts \\ %{}, opts \\ [])</h1>


    </div>
  </div>

  <section class="docstring">

<p>Returns the query corresponding to the action.</p><h2 id="query_to_list_notices/2-options" class="section-heading"><a href="#query_to_list_notices/2-options" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Options</span></h2><ul><li><code class="inline">:tracer</code> (one or a list of module that adopts <a href="https://hexdocs.pm/ash/3.5.32/Ash.Tracer.html"><code class="inline">Ash.Tracer</code></a>) - A tracer that implements the <a href="https://hexdocs.pm/ash/3.5.32/Ash.Tracer.html"><code class="inline">Ash.Tracer</code></a> behaviour. See that module for more.</li><li><code class="inline">:authorize?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If an actor option is provided (even if it is <code class="inline">nil</code>), authorization happens automatically. If not, this flag can be used to authorize with no user.</li><li><code class="inline">:tenant</code> (value that implements the <a href="https://hexdocs.pm/ash/3.5.32/Ash.ToTenant.html"><code class="inline">Ash.ToTenant</code></a> protocol) - A tenant to set on the query or changeset</li><li><code class="inline">:actor</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - If an actor is provided, it will be used in conjunction with the authorizers of a resource to authorize access</li><li><code class="inline">:scope</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A value that implements the <a href="https://hexdocs.pm/ash/3.5.32/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> protocol, for passing around actor/tenant/context in a single value. See <a href="https://hexdocs.pm/ash/3.5.32/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> for more.</li><li><code class="inline">:query</code> - A query to seed the action with.</li></ul>
  </section>
</section>
<section class="detail" id="query_to_list_offenders/2">

    <span id="query_to_list_offenders/0"></span>

    <span id="query_to_list_offenders/1"></span>

  <div class="detail-header">
    <a href="#query_to_list_offenders/2" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">query_to_list_offenders(params_or_opts \\ %{}, opts \\ [])</h1>


    </div>
  </div>

  <section class="docstring">

<p>Returns the query corresponding to the action.</p><h2 id="query_to_list_offenders/2-options" class="section-heading"><a href="#query_to_list_offenders/2-options" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Options</span></h2><ul><li><code class="inline">:tracer</code> (one or a list of module that adopts <a href="https://hexdocs.pm/ash/3.5.32/Ash.Tracer.html"><code class="inline">Ash.Tracer</code></a>) - A tracer that implements the <a href="https://hexdocs.pm/ash/3.5.32/Ash.Tracer.html"><code class="inline">Ash.Tracer</code></a> behaviour. See that module for more.</li><li><code class="inline">:authorize?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If an actor option is provided (even if it is <code class="inline">nil</code>), authorization happens automatically. If not, this flag can be used to authorize with no user.</li><li><code class="inline">:tenant</code> (value that implements the <a href="https://hexdocs.pm/ash/3.5.32/Ash.ToTenant.html"><code class="inline">Ash.ToTenant</code></a> protocol) - A tenant to set on the query or changeset</li><li><code class="inline">:actor</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - If an actor is provided, it will be used in conjunction with the authorizers of a resource to authorize access</li><li><code class="inline">:scope</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A value that implements the <a href="https://hexdocs.pm/ash/3.5.32/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> protocol, for passing around actor/tenant/context in a single value. See <a href="https://hexdocs.pm/ash/3.5.32/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> for more.</li><li><code class="inline">:query</code> - A query to seed the action with.</li></ul>
  </section>
</section>
<section class="detail" id="query_to_search_offenders/3">

    <span id="query_to_search_offenders/1"></span>

    <span id="query_to_search_offenders/2"></span>

  <div class="detail-header">
    <a href="#query_to_search_offenders/3" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">query_to_search_offenders(query, params_or_opts \\ %{}, opts \\ [])</h1>


    </div>
  </div>

  <section class="docstring">

<p>Returns the query corresponding to the action.</p><h2 id="query_to_search_offenders/3-options" class="section-heading"><a href="#query_to_search_offenders/3-options" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Options</span></h2><ul><li><code class="inline">:tracer</code> (one or a list of module that adopts <a href="https://hexdocs.pm/ash/3.5.32/Ash.Tracer.html"><code class="inline">Ash.Tracer</code></a>) - A tracer that implements the <a href="https://hexdocs.pm/ash/3.5.32/Ash.Tracer.html"><code class="inline">Ash.Tracer</code></a> behaviour. See that module for more.</li><li><code class="inline">:authorize?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If an actor option is provided (even if it is <code class="inline">nil</code>), authorization happens automatically. If not, this flag can be used to authorize with no user.</li><li><code class="inline">:tenant</code> (value that implements the <a href="https://hexdocs.pm/ash/3.5.32/Ash.ToTenant.html"><code class="inline">Ash.ToTenant</code></a> protocol) - A tenant to set on the query or changeset</li><li><code class="inline">:actor</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - If an actor is provided, it will be used in conjunction with the authorizers of a resource to authorize access</li><li><code class="inline">:scope</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A value that implements the <a href="https://hexdocs.pm/ash/3.5.32/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> protocol, for passing around actor/tenant/context in a single value. See <a href="https://hexdocs.pm/ash/3.5.32/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> for more.</li><li><code class="inline">:query</code> - A query to seed the action with.</li></ul>
  </section>
</section>
<section class="detail" id="refresh_metrics/2">

    <span id="refresh_metrics/0"></span>

    <span id="refresh_metrics/1"></span>

  <div class="detail-header">
    <a href="#refresh_metrics/2" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">refresh_metrics(params \\ nil, opts \\ nil)</h1>


    </div>
  </div>

  <section class="docstring">

<p>Refresh all dashboard metrics by recalculating from current data</p><h1>Inputs</h1><ul><li>period - Time period for the metrics (week, month, or year)</li><li>active_agencies_count - Number of enabled agencies</li><li>agency_stats - Per-agency statistics with enhanced breakdown for dashboard dropdown filtering</li><li>calculated_at - When these metrics were calculated</li><li>calculated_by - Whether metrics were calculated manually by admin or via automation</li><li>cutoff_date - The cutoff date used for recent data filtering</li><li>days_ago - Number of days back from today for the period</li><li>period_label - Human readable period label (e.g., 'Last 30 Days')</li><li>recent_cases_count - Number of cases within the time period</li><li>recent_notices_count - Number of notices within the time period</li><li>total_cases_count - Total number of cases (all time)</li><li>total_fines_amount - Total fines from cases within the time period</li><li>total_notices_count - Total number of notices (all time)</li></ul><h2 id="refresh_metrics/2-options" class="section-heading"><a href="#refresh_metrics/2-options" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Options</span></h2><ul><li><code class="inline">:upsert?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If a conflict is found based on the primary key, the record is updated in the database (requires upsert support) The default value is <code class="inline">false</code>.</li><li><code class="inline">:return_skipped_upsert?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If <code class="inline">true</code>, and a record was <em>not</em> upserted because its filter prevented the upsert, the original record (which was <em>not</em> upserted) will be returned. The default value is <code class="inline">false</code>.</li><li><code class="inline">:upsert_identity</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - The identity to use when detecting conflicts for <code class="inline">upsert?</code>, e.g. <code class="inline">upsert_identity: :full_name</code>. By default, the primary key is used. Has no effect if <code class="inline">upsert?: true</code> is not provided</li><li><code class="inline">:upsert_fields</code> - The fields to upsert. If not set, the action's upsert_fields is used, and if that is not set, then any fields not being set to defaults are written.</li><li><code class="inline">:upsert_condition</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - An expression to check if the record should be updated when there's a conflict.</li><li><code class="inline">:timeout</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">timeout/0</code></a>) - A positive integer, or <code class="inline">:infinity</code>. If none is provided, the timeout configured on the domain is used.</li><li><code class="inline">:tracer</code> (one or a list of module that adopts <a href="https://hexdocs.pm/ash/3.5.32/Ash.Tracer.html"><code class="inline">Ash.Tracer</code></a>) - A tracer that implements the <a href="https://hexdocs.pm/ash/3.5.32/Ash.Tracer.html"><code class="inline">Ash.Tracer</code></a> behaviour. See that module for more.</li><li><code class="inline">:action</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - The action to use, either an Action struct or the name of the action</li><li><code class="inline">:authorize?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If an actor option is provided (even if it is <code class="inline">nil</code>), authorization happens automatically. If not, this flag can be used to authorize with no user.</li><li><code class="inline">:context</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">map/0</code></a>) - Context to set on the query, changeset, or input</li><li><code class="inline">:tenant</code> (value that implements the <a href="https://hexdocs.pm/ash/3.5.32/Ash.ToTenant.html"><code class="inline">Ash.ToTenant</code></a> protocol) - A tenant to set on the query or changeset</li><li><code class="inline">:actor</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - If an actor is provided, it will be used in conjunction with the authorizers of a resource to authorize access</li><li><code class="inline">:scope</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A value that implements the <a href="https://hexdocs.pm/ash/3.5.32/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> protocol, for passing around actor/tenant/context in a single value. See <a href="https://hexdocs.pm/ash/3.5.32/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> for more.</li><li><code class="inline">:return_notifications?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Use this if you're running ash actions in your own transaction and you want to manually handle sending notifications.<br/>If a transaction is ongoing, and this is false, notifications will be discarded, otherwise
the return value is <code class="inline">{:ok, result, notifications}</code> (or <code class="inline">{:ok, notifications}</code>)<br/>To send notifications later, use <code class="inline">Ash.Notifier.notify(notifications)</code>. It sends any notifications
that can be sent, and returns the rest. The default value is <code class="inline">false</code>.</li><li><code class="inline">:rollback_on_error?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to rollback the transaction on error, if the resource is in a transaction.<br/>If the action has <code class="inline">transaction? false</code> this option has no effect. If an error is returned from the
data layer and the resource is in a transaction, the transaction is always rolled back, regardless. The default value is <code class="inline">true</code>.</li><li><code class="inline">:notification_metadata</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - Metadata to be merged into the metadata field for all notifications sent from this operation. The default value is <code class="inline">%{}</code>.</li><li><code class="inline">:skip_unknown_inputs</code> - A list of inputs that, if provided, will be ignored if they are not recognized by the action. Use <code class="inline">:*</code> to indicate all unknown keys.</li><li><code class="inline">:load</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A load statement to add onto the changeset</li><li><code class="inline">:changeset</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A changeset to seed the action with.</li><li><code class="inline">:bulk_options</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">keyword/0</code></a>) - Options passed to <code class="inline">Ash.bulk_create</code>, if a list or stream of inputs is provided.<ul><li><code class="inline">:select</code> (list of <a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - A select statement to apply to records. Ignored if <code class="inline">return_records?</code> is not true.</li><li><code class="inline">:after_action</code> (function of arity 2) - An after_action hook to be added to each processed changeset</li><li><code class="inline">:read_action</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - The action to use when building the read query.</li><li><code class="inline">:assume_casted?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to cast attributes and arguments as input. This is an optimization for cases where the input is already casted and/or not in need of casting The default value is <code class="inline">false</code>.</li><li><code class="inline">:select</code> (list of <a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - A select statement to apply to records. Ignored if <code class="inline">return_records?</code> is not true.</li><li><code class="inline">:authorize_query_with</code> - If set to <code class="inline">:error</code>, instead of filtering unauthorized query results, unauthorized query results will raise an appropriate forbidden error. Uses <code class="inline">authorize_with</code> if not set.</li><li><code class="inline">:authorize_changeset_with</code> - If set to <code class="inline">:error</code>, instead of filtering unauthorized changes, unauthorized changes will raise an appropriate forbidden error. Uses <code class="inline">authorize_with</code> if not set.</li><li><code class="inline">:authorize_with</code> - If set to <code class="inline">:error</code>, instead of filtering unauthorized query results, unauthorized query results will raise an appropriate forbidden error. The default value is <code class="inline">:filter</code>.</li><li><code class="inline">:private_arguments</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">map/0</code></a>) - Private argument values to set on each changeset before validations and changes are run. The default value is <code class="inline">%{}</code>.</li><li><code class="inline">:sorted?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to sort results by their input position, in cases where <code class="inline">return_records?: true</code> was provided. The default value is <code class="inline">false</code>.</li><li><code class="inline">:return_records?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to return all of the records that were inserted. Defaults to false to account for large inserts. The default value is <code class="inline">false</code>.</li><li><code class="inline">:return_errors?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether to return all errors that occur during the operation. Defaults to the value of <code class="inline">:bulk_actions_default_to_errors?</code> in your config, or <code class="inline">false</code> if not set. Returning all errors may be expensive for large inserts. The default value is <code class="inline">false</code>.</li><li><code class="inline">:batch_size</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">pos_integer/0</code></a>) - The number of records to include in each batch. Defaults to the <code class="inline">default_limit</code>
or <code class="inline">max_page_size</code> of the action, or 100.</li><li><code class="inline">:return_stream?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If set to <code class="inline">true</code>, instead of an <a href="https://hexdocs.pm/ash/3.5.32/Ash.BulkResult.html"><code class="inline">Ash.BulkResult</code></a>, a mixed stream is returned.
Potential elements:
<code class="inline">{:notification, notification}</code> - if <code class="inline">return_notifications?</code> is set to <code class="inline">true</code>
<code class="inline">{:ok, record}</code> - if <code class="inline">return_records?</code> is set to <code class="inline">true</code>
<code class="inline">{:error, error}</code> - an error that occurred. May be changeset or an individual error.
The default value is <code class="inline">false</code>.</li><li><code class="inline">:return_nothing?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Mutes warnings about returning nothing.
Only relevant if <code class="inline">return_stream?</code> is set to <code class="inline">true</code> and all other
<code class="inline">return_*?</code> options are set to <code class="inline">false</code>.
The default value is <code class="inline">false</code>.</li><li><code class="inline">:stop_on_error?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If true, the first encountered error will stop the action and be returned. Otherwise, errors
will be skipped. The default value is <code class="inline">false</code>.</li><li><code class="inline">:notify?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to generate any notifications. If this is set to <code class="inline">true</code> then the data layer must return
the results from each batch. This may be intensive for large bulk actions.
Notifications will be automatically sent unless <code class="inline">return_notifications?</code> is set to <code class="inline">true</code>.
The default value is <code class="inline">false</code>.</li><li><code class="inline">:transaction</code> - Whether or not to wrap the entire execution in a transaction, each batch, or not at all.
Keep in mind:
<code class="inline">before_transaction</code> and <code class="inline">after_transaction</code> hooks attached to changesets will have to be run
<em>inside</em> the transaction if you choose <code class="inline">transaction: :all</code>.
The default value is <code class="inline">:batch</code>.</li><li><code class="inline">:max_concurrency</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">non_neg_integer/0</code></a>) - If set to a value greater than 0, up to that many tasks will be started to run batches asynchronously The default value is <code class="inline">0</code>.</li></ul></li><li><code class="inline">:private_arguments</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">map/0</code></a>) - Private argument values to set before validations and changes. The default value is <code class="inline">%{}</code>.</li></ul>
  </section>
</section>
<section class="detail" id="refresh_metrics!/2">

    <span id="refresh_metrics!/0"></span>

    <span id="refresh_metrics!/1"></span>

  <div class="detail-header">
    <a href="#refresh_metrics!/2" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">refresh_metrics!(params \\ nil, opts \\ nil)</h1>


    </div>
  </div>

  <section class="docstring">

<p>Refresh all dashboard metrics by recalculating from current data
Raises any errors instead of returning them</p><h1>Inputs</h1><ul><li>period - Time period for the metrics (week, month, or year)</li><li>active_agencies_count - Number of enabled agencies</li><li>agency_stats - Per-agency statistics with enhanced breakdown for dashboard dropdown filtering</li><li>calculated_at - When these metrics were calculated</li><li>calculated_by - Whether metrics were calculated manually by admin or via automation</li><li>cutoff_date - The cutoff date used for recent data filtering</li><li>days_ago - Number of days back from today for the period</li><li>period_label - Human readable period label (e.g., 'Last 30 Days')</li><li>recent_cases_count - Number of cases within the time period</li><li>recent_notices_count - Number of notices within the time period</li><li>total_cases_count - Total number of cases (all time)</li><li>total_fines_amount - Total fines from cases within the time period</li><li>total_notices_count - Total number of notices (all time)</li></ul><h2 id="refresh_metrics!/2-options" class="section-heading"><a href="#refresh_metrics!/2-options" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Options</span></h2><ul><li><code class="inline">:upsert?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If a conflict is found based on the primary key, the record is updated in the database (requires upsert support) The default value is <code class="inline">false</code>.</li><li><code class="inline">:return_skipped_upsert?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If <code class="inline">true</code>, and a record was <em>not</em> upserted because its filter prevented the upsert, the original record (which was <em>not</em> upserted) will be returned. The default value is <code class="inline">false</code>.</li><li><code class="inline">:upsert_identity</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - The identity to use when detecting conflicts for <code class="inline">upsert?</code>, e.g. <code class="inline">upsert_identity: :full_name</code>. By default, the primary key is used. Has no effect if <code class="inline">upsert?: true</code> is not provided</li><li><code class="inline">:upsert_fields</code> - The fields to upsert. If not set, the action's upsert_fields is used, and if that is not set, then any fields not being set to defaults are written.</li><li><code class="inline">:upsert_condition</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - An expression to check if the record should be updated when there's a conflict.</li><li><code class="inline">:timeout</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">timeout/0</code></a>) - A positive integer, or <code class="inline">:infinity</code>. If none is provided, the timeout configured on the domain is used.</li><li><code class="inline">:tracer</code> (one or a list of module that adopts <a href="https://hexdocs.pm/ash/3.5.32/Ash.Tracer.html"><code class="inline">Ash.Tracer</code></a>) - A tracer that implements the <a href="https://hexdocs.pm/ash/3.5.32/Ash.Tracer.html"><code class="inline">Ash.Tracer</code></a> behaviour. See that module for more.</li><li><code class="inline">:action</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - The action to use, either an Action struct or the name of the action</li><li><code class="inline">:authorize?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If an actor option is provided (even if it is <code class="inline">nil</code>), authorization happens automatically. If not, this flag can be used to authorize with no user.</li><li><code class="inline">:context</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">map/0</code></a>) - Context to set on the query, changeset, or input</li><li><code class="inline">:tenant</code> (value that implements the <a href="https://hexdocs.pm/ash/3.5.32/Ash.ToTenant.html"><code class="inline">Ash.ToTenant</code></a> protocol) - A tenant to set on the query or changeset</li><li><code class="inline">:actor</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - If an actor is provided, it will be used in conjunction with the authorizers of a resource to authorize access</li><li><code class="inline">:scope</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A value that implements the <a href="https://hexdocs.pm/ash/3.5.32/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> protocol, for passing around actor/tenant/context in a single value. See <a href="https://hexdocs.pm/ash/3.5.32/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> for more.</li><li><code class="inline">:return_notifications?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Use this if you're running ash actions in your own transaction and you want to manually handle sending notifications.<br/>If a transaction is ongoing, and this is false, notifications will be discarded, otherwise
the return value is <code class="inline">{:ok, result, notifications}</code> (or <code class="inline">{:ok, notifications}</code>)<br/>To send notifications later, use <code class="inline">Ash.Notifier.notify(notifications)</code>. It sends any notifications
that can be sent, and returns the rest. The default value is <code class="inline">false</code>.</li><li><code class="inline">:rollback_on_error?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to rollback the transaction on error, if the resource is in a transaction.<br/>If the action has <code class="inline">transaction? false</code> this option has no effect. If an error is returned from the
data layer and the resource is in a transaction, the transaction is always rolled back, regardless. The default value is <code class="inline">true</code>.</li><li><code class="inline">:notification_metadata</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - Metadata to be merged into the metadata field for all notifications sent from this operation. The default value is <code class="inline">%{}</code>.</li><li><code class="inline">:skip_unknown_inputs</code> - A list of inputs that, if provided, will be ignored if they are not recognized by the action. Use <code class="inline">:*</code> to indicate all unknown keys.</li><li><code class="inline">:load</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A load statement to add onto the changeset</li><li><code class="inline">:changeset</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A changeset to seed the action with.</li><li><code class="inline">:bulk_options</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">keyword/0</code></a>) - Options passed to <code class="inline">Ash.bulk_create</code>, if a list or stream of inputs is provided.<ul><li><code class="inline">:select</code> (list of <a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - A select statement to apply to records. Ignored if <code class="inline">return_records?</code> is not true.</li><li><code class="inline">:after_action</code> (function of arity 2) - An after_action hook to be added to each processed changeset</li><li><code class="inline">:read_action</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - The action to use when building the read query.</li><li><code class="inline">:assume_casted?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to cast attributes and arguments as input. This is an optimization for cases where the input is already casted and/or not in need of casting The default value is <code class="inline">false</code>.</li><li><code class="inline">:select</code> (list of <a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - A select statement to apply to records. Ignored if <code class="inline">return_records?</code> is not true.</li><li><code class="inline">:authorize_query_with</code> - If set to <code class="inline">:error</code>, instead of filtering unauthorized query results, unauthorized query results will raise an appropriate forbidden error. Uses <code class="inline">authorize_with</code> if not set.</li><li><code class="inline">:authorize_changeset_with</code> - If set to <code class="inline">:error</code>, instead of filtering unauthorized changes, unauthorized changes will raise an appropriate forbidden error. Uses <code class="inline">authorize_with</code> if not set.</li><li><code class="inline">:authorize_with</code> - If set to <code class="inline">:error</code>, instead of filtering unauthorized query results, unauthorized query results will raise an appropriate forbidden error. The default value is <code class="inline">:filter</code>.</li><li><code class="inline">:private_arguments</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">map/0</code></a>) - Private argument values to set on each changeset before validations and changes are run. The default value is <code class="inline">%{}</code>.</li><li><code class="inline">:sorted?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to sort results by their input position, in cases where <code class="inline">return_records?: true</code> was provided. The default value is <code class="inline">false</code>.</li><li><code class="inline">:return_records?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to return all of the records that were inserted. Defaults to false to account for large inserts. The default value is <code class="inline">false</code>.</li><li><code class="inline">:return_errors?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether to return all errors that occur during the operation. Defaults to the value of <code class="inline">:bulk_actions_default_to_errors?</code> in your config, or <code class="inline">false</code> if not set. Returning all errors may be expensive for large inserts. The default value is <code class="inline">false</code>.</li><li><code class="inline">:batch_size</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">pos_integer/0</code></a>) - The number of records to include in each batch. Defaults to the <code class="inline">default_limit</code>
or <code class="inline">max_page_size</code> of the action, or 100.</li><li><code class="inline">:return_stream?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If set to <code class="inline">true</code>, instead of an <a href="https://hexdocs.pm/ash/3.5.32/Ash.BulkResult.html"><code class="inline">Ash.BulkResult</code></a>, a mixed stream is returned.
Potential elements:
<code class="inline">{:notification, notification}</code> - if <code class="inline">return_notifications?</code> is set to <code class="inline">true</code>
<code class="inline">{:ok, record}</code> - if <code class="inline">return_records?</code> is set to <code class="inline">true</code>
<code class="inline">{:error, error}</code> - an error that occurred. May be changeset or an individual error.
The default value is <code class="inline">false</code>.</li><li><code class="inline">:return_nothing?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Mutes warnings about returning nothing.
Only relevant if <code class="inline">return_stream?</code> is set to <code class="inline">true</code> and all other
<code class="inline">return_*?</code> options are set to <code class="inline">false</code>.
The default value is <code class="inline">false</code>.</li><li><code class="inline">:stop_on_error?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If true, the first encountered error will stop the action and be returned. Otherwise, errors
will be skipped. The default value is <code class="inline">false</code>.</li><li><code class="inline">:notify?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to generate any notifications. If this is set to <code class="inline">true</code> then the data layer must return
the results from each batch. This may be intensive for large bulk actions.
Notifications will be automatically sent unless <code class="inline">return_notifications?</code> is set to <code class="inline">true</code>.
The default value is <code class="inline">false</code>.</li><li><code class="inline">:transaction</code> - Whether or not to wrap the entire execution in a transaction, each batch, or not at all.
Keep in mind:
<code class="inline">before_transaction</code> and <code class="inline">after_transaction</code> hooks attached to changesets will have to be run
<em>inside</em> the transaction if you choose <code class="inline">transaction: :all</code>.
The default value is <code class="inline">:batch</code>.</li><li><code class="inline">:max_concurrency</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">non_neg_integer/0</code></a>) - If set to a value greater than 0, up to that many tasks will be started to run batches asynchronously The default value is <code class="inline">0</code>.</li></ul></li><li><code class="inline">:private_arguments</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">map/0</code></a>) - Private argument values to set before validations and changes. The default value is <code class="inline">%{}</code>.</li></ul>
  </section>
</section>
<section class="detail" id="search_offenders/3">

    <span id="search_offenders/1"></span>

    <span id="search_offenders/2"></span>

  <div class="detail-header">
    <a href="#search_offenders/3" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">search_offenders(query, params \\ nil, opts \\ nil)</h1>


    </div>
  </div>

  <section class="docstring">

<p>Calls the search action on EhsEnforcement.Enforcement.Offender.</p><h2 id="search_offenders/3-options" class="section-heading"><a href="#search_offenders/3-options" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Options</span></h2><ul><li><code class="inline">:page</code> - Pagination options, see <a href="https://hexdocs.pm/ash/3.5.32/Ash.html#read/2"><code class="inline">Ash.read/2</code></a> for more.</li><li><code class="inline">:load</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A load statement to add onto the query</li><li><code class="inline">:max_concurrency</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">non_neg_integer/0</code></a>) - The maximum number of processes allowed to be started for parallel loading of relationships and calculations. Defaults to <code class="inline">System.schedulers_online() * 2</code></li><li><code class="inline">:lock</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A lock statement to add onto the query</li><li><code class="inline">:return_query?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If <code class="inline">true</code>, the query that was ultimately used is returned as a third tuple element.<br/>The query goes through many potential changes during a request, potentially adding
authorization filters, or replacing relationships for other data layers with their
corresponding ids. This option can be used to get the true query that was sent to
the data layer. The default value is <code class="inline">false</code>.</li><li><code class="inline">:skip_unknown_inputs</code> - A list of inputs that, if provided, will be ignored if they are not recognized by the action. Use <code class="inline">:*</code> to indicate all unknown keys.</li><li><code class="inline">:reuse_values?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether calculations are allowed to reuse values that have already been loaded, or must refetch them from the data layer. The default value is <code class="inline">false</code>.</li><li><code class="inline">:strict?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If set to true, only specified attributes will be loaded when passing
  a list of fields to fetch on a relationship, which allows for more
  optimized data-fetching.<br/>  See <a href="https://hexdocs.pm/ash/3.5.32/Ash.Query.html#load/2"><code class="inline">Ash.Query.load/2</code></a>. The default value is <code class="inline">false</code>.</li><li><code class="inline">:authorize_with</code> - If set to <code class="inline">:error</code>, instead of applying authorization filters as a filter, any records not matching the authorization filter will cause an error to be returned. Valid values are :filter, :error The default value is <code class="inline">:filter</code>.</li><li><code class="inline">:timeout</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">timeout/0</code></a>) - A positive integer, or <code class="inline">:infinity</code>. If none is provided, the timeout configured on the domain is used.</li><li><code class="inline">:tracer</code> (one or a list of module that adopts <a href="https://hexdocs.pm/ash/3.5.32/Ash.Tracer.html"><code class="inline">Ash.Tracer</code></a>) - A tracer that implements the <a href="https://hexdocs.pm/ash/3.5.32/Ash.Tracer.html"><code class="inline">Ash.Tracer</code></a> behaviour. See that module for more.</li><li><code class="inline">:action</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - The action to use, either an Action struct or the name of the action</li><li><code class="inline">:authorize?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If an actor option is provided (even if it is <code class="inline">nil</code>), authorization happens automatically. If not, this flag can be used to authorize with no user.</li><li><code class="inline">:context</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">map/0</code></a>) - Context to set on the query, changeset, or input</li><li><code class="inline">:tenant</code> (value that implements the <a href="https://hexdocs.pm/ash/3.5.32/Ash.ToTenant.html"><code class="inline">Ash.ToTenant</code></a> protocol) - A tenant to set on the query or changeset</li><li><code class="inline">:actor</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - If an actor is provided, it will be used in conjunction with the authorizers of a resource to authorize access</li><li><code class="inline">:scope</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A value that implements the <a href="https://hexdocs.pm/ash/3.5.32/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> protocol, for passing around actor/tenant/context in a single value. See <a href="https://hexdocs.pm/ash/3.5.32/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> for more.</li><li><code class="inline">:query</code> - A query to seed the action with.</li><li><code class="inline">:not_found_error?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to return or raise a <code class="inline">NotFound</code> error or to return <code class="inline">nil</code> when a get? action/interface is called.</li><li><code class="inline">:stream?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If true, a stream of the results will be returned The default value is <code class="inline">false</code>.</li><li><code class="inline">:stream_options</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">keyword/0</code></a>) - Options passed to <code class="inline">Ash.stream!</code>, if <code class="inline">stream?: true</code> is given<ul><li><code class="inline">:batch_size</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">integer/0</code></a>) - How many records to request in each query run. Defaults to the pagination limits on the resource, or 250.</li><li><code class="inline">:allow_stream_with</code> - The 'worst' strategy allowed to be used to fetch records. See <a href="https://hexdocs.pm/ash/3.5.32/Ash.html#stream!/2"><code class="inline">Ash.stream!/2</code></a> docs for more. The default value is <code class="inline">:keyset</code>.</li><li><code class="inline">:stream_with</code> - The specific strategy to use to fetch records. See <a href="https://hexdocs.pm/ash/3.5.32/Ash.html#stream!/2"><code class="inline">Ash.stream!/2</code></a> docs for more.</li></ul></li></ul>
  </section>
</section>
<section class="detail" id="search_offenders!/3">

    <span id="search_offenders!/1"></span>

    <span id="search_offenders!/2"></span>

  <div class="detail-header">
    <a href="#search_offenders!/3" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">search_offenders!(query, params \\ nil, opts \\ nil)</h1>


    </div>
  </div>

  <section class="docstring">

<p>Calls the search action on EhsEnforcement.Enforcement.Offender.
Raises any errors instead of returning them</p><h2 id="search_offenders!/3-options" class="section-heading"><a href="#search_offenders!/3-options" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Options</span></h2><ul><li><code class="inline">:page</code> - Pagination options, see <a href="https://hexdocs.pm/ash/3.5.32/Ash.html#read/2"><code class="inline">Ash.read/2</code></a> for more.</li><li><code class="inline">:load</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A load statement to add onto the query</li><li><code class="inline">:max_concurrency</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">non_neg_integer/0</code></a>) - The maximum number of processes allowed to be started for parallel loading of relationships and calculations. Defaults to <code class="inline">System.schedulers_online() * 2</code></li><li><code class="inline">:lock</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A lock statement to add onto the query</li><li><code class="inline">:return_query?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If <code class="inline">true</code>, the query that was ultimately used is returned as a third tuple element.<br/>The query goes through many potential changes during a request, potentially adding
authorization filters, or replacing relationships for other data layers with their
corresponding ids. This option can be used to get the true query that was sent to
the data layer. The default value is <code class="inline">false</code>.</li><li><code class="inline">:skip_unknown_inputs</code> - A list of inputs that, if provided, will be ignored if they are not recognized by the action. Use <code class="inline">:*</code> to indicate all unknown keys.</li><li><code class="inline">:reuse_values?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether calculations are allowed to reuse values that have already been loaded, or must refetch them from the data layer. The default value is <code class="inline">false</code>.</li><li><code class="inline">:strict?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If set to true, only specified attributes will be loaded when passing
  a list of fields to fetch on a relationship, which allows for more
  optimized data-fetching.<br/>  See <a href="https://hexdocs.pm/ash/3.5.32/Ash.Query.html#load/2"><code class="inline">Ash.Query.load/2</code></a>. The default value is <code class="inline">false</code>.</li><li><code class="inline">:authorize_with</code> - If set to <code class="inline">:error</code>, instead of applying authorization filters as a filter, any records not matching the authorization filter will cause an error to be returned. Valid values are :filter, :error The default value is <code class="inline">:filter</code>.</li><li><code class="inline">:timeout</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">timeout/0</code></a>) - A positive integer, or <code class="inline">:infinity</code>. If none is provided, the timeout configured on the domain is used.</li><li><code class="inline">:tracer</code> (one or a list of module that adopts <a href="https://hexdocs.pm/ash/3.5.32/Ash.Tracer.html"><code class="inline">Ash.Tracer</code></a>) - A tracer that implements the <a href="https://hexdocs.pm/ash/3.5.32/Ash.Tracer.html"><code class="inline">Ash.Tracer</code></a> behaviour. See that module for more.</li><li><code class="inline">:action</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - The action to use, either an Action struct or the name of the action</li><li><code class="inline">:authorize?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If an actor option is provided (even if it is <code class="inline">nil</code>), authorization happens automatically. If not, this flag can be used to authorize with no user.</li><li><code class="inline">:context</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">map/0</code></a>) - Context to set on the query, changeset, or input</li><li><code class="inline">:tenant</code> (value that implements the <a href="https://hexdocs.pm/ash/3.5.32/Ash.ToTenant.html"><code class="inline">Ash.ToTenant</code></a> protocol) - A tenant to set on the query or changeset</li><li><code class="inline">:actor</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - If an actor is provided, it will be used in conjunction with the authorizers of a resource to authorize access</li><li><code class="inline">:scope</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A value that implements the <a href="https://hexdocs.pm/ash/3.5.32/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> protocol, for passing around actor/tenant/context in a single value. See <a href="https://hexdocs.pm/ash/3.5.32/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> for more.</li><li><code class="inline">:query</code> - A query to seed the action with.</li><li><code class="inline">:not_found_error?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to return or raise a <code class="inline">NotFound</code> error or to return <code class="inline">nil</code> when a get? action/interface is called.</li><li><code class="inline">:stream?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If true, a stream of the results will be returned The default value is <code class="inline">false</code>.</li><li><code class="inline">:stream_options</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">keyword/0</code></a>) - Options passed to <code class="inline">Ash.stream!</code>, if <code class="inline">stream?: true</code> is given<ul><li><code class="inline">:batch_size</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">integer/0</code></a>) - How many records to request in each query run. Defaults to the pagination limits on the resource, or 250.</li><li><code class="inline">:allow_stream_with</code> - The 'worst' strategy allowed to be used to fetch records. See <a href="https://hexdocs.pm/ash/3.5.32/Ash.html#stream!/2"><code class="inline">Ash.stream!/2</code></a> docs for more. The default value is <code class="inline">:keyset</code>.</li><li><code class="inline">:stream_with</code> - The specific strategy to use to fetch records. See <a href="https://hexdocs.pm/ash/3.5.32/Ash.html#stream!/2"><code class="inline">Ash.stream!/2</code></a> docs for more.</li></ul></li></ul>
  </section>
</section>
<section class="detail" id="sync_case_from_airtable/3">

    <span id="sync_case_from_airtable/1"></span>

    <span id="sync_case_from_airtable/2"></span>

  <div class="detail-header">
    <a href="#sync_case_from_airtable/3" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">sync_case_from_airtable(record, params \\ nil, opts \\ nil)</h1>


    </div>
  </div>

  <section class="docstring">

<p>Calls the sync_from_airtable action on EhsEnforcement.Enforcement.Case.</p><h1>Inputs</h1><ul><li>url</li><li>offence_fine</li><li>offence_costs</li><li>offence_hearing_date</li><li>offence_result</li><li>related_cases</li></ul><h2 id="sync_case_from_airtable/3-options" class="section-heading"><a href="#sync_case_from_airtable/3-options" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Options</span></h2><ul><li><code class="inline">:params</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">map/0</code></a>) - Parameters to supply, ignored if the input is a changeset, only used when an identifier is given.</li><li><code class="inline">:atomic_upgrade?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If true the action will be done atomically if it can (and is configured to do so), ignoring the in memory transformations and validations. You should not generally need to disable this. The default value is <code class="inline">true</code>.</li><li><code class="inline">:timeout</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">timeout/0</code></a>) - A positive integer, or <code class="inline">:infinity</code>. If none is provided, the timeout configured on the domain is used.</li><li><code class="inline">:tracer</code> (one or a list of module that adopts <a href="https://hexdocs.pm/ash/3.5.32/Ash.Tracer.html"><code class="inline">Ash.Tracer</code></a>) - A tracer that implements the <a href="https://hexdocs.pm/ash/3.5.32/Ash.Tracer.html"><code class="inline">Ash.Tracer</code></a> behaviour. See that module for more.</li><li><code class="inline">:action</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - The action to use, either an Action struct or the name of the action</li><li><code class="inline">:authorize?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If an actor option is provided (even if it is <code class="inline">nil</code>), authorization happens automatically. If not, this flag can be used to authorize with no user.</li><li><code class="inline">:context</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">map/0</code></a>) - Context to set on the query, changeset, or input</li><li><code class="inline">:tenant</code> (value that implements the <a href="https://hexdocs.pm/ash/3.5.32/Ash.ToTenant.html"><code class="inline">Ash.ToTenant</code></a> protocol) - A tenant to set on the query or changeset</li><li><code class="inline">:actor</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - If an actor is provided, it will be used in conjunction with the authorizers of a resource to authorize access</li><li><code class="inline">:scope</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A value that implements the <a href="https://hexdocs.pm/ash/3.5.32/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> protocol, for passing around actor/tenant/context in a single value. See <a href="https://hexdocs.pm/ash/3.5.32/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> for more.</li><li><code class="inline">:return_notifications?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Use this if you're running ash actions in your own transaction and you want to manually handle sending notifications.<br/>If a transaction is ongoing, and this is false, notifications will be discarded, otherwise
the return value is <code class="inline">{:ok, result, notifications}</code> (or <code class="inline">{:ok, notifications}</code>)<br/>To send notifications later, use <code class="inline">Ash.Notifier.notify(notifications)</code>. It sends any notifications
that can be sent, and returns the rest. The default value is <code class="inline">false</code>.</li><li><code class="inline">:rollback_on_error?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to rollback the transaction on error, if the resource is in a transaction.<br/>If the action has <code class="inline">transaction? false</code> this option has no effect. If an error is returned from the
data layer and the resource is in a transaction, the transaction is always rolled back, regardless. The default value is <code class="inline">true</code>.</li><li><code class="inline">:notification_metadata</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - Metadata to be merged into the metadata field for all notifications sent from this operation. The default value is <code class="inline">%{}</code>.</li><li><code class="inline">:skip_unknown_inputs</code> - A list of inputs that, if provided, will be ignored if they are not recognized by the action. Use <code class="inline">:*</code> to indicate all unknown keys.</li><li><code class="inline">:load</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A load statement to add onto the changeset</li><li><code class="inline">:bulk_options</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">keyword/0</code></a>) - Options passed to <code class="inline">Ash.bulk_update</code>, if a query, list, or stream of inputs is provided.<ul><li><code class="inline">:atomic_update</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">map/0</code></a>) - A map of atomic updates to apply. See <a href="https://hexdocs.pm/ash/3.5.32/Ash.Changeset.html#atomic_update/3"><code class="inline">Ash.Changeset.atomic_update/3</code></a> for more.</li><li><code class="inline">:stream_batch_size</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">integer/0</code></a>) - Batch size to use if provided a query and the query must be streamed</li><li><code class="inline">:allow_stream_with</code> - The 'worst' strategy allowed to be used to fetch records if the <code class="inline">:stream</code> strategy is chosen. See the <a href="https://hexdocs.pm/ash/3.5.32/Ash.html#stream!/2"><code class="inline">Ash.stream!/2</code></a> docs for more. The default value is <code class="inline">:keyset</code>.</li><li><code class="inline">:authorize_query?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If a query is given, determines whether or not authorization is run on that query. The default value is <code class="inline">true</code>.</li><li><code class="inline">:select</code> (list of <a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - A select statement to apply to records. Ignored if <code class="inline">return_records?</code> is not true.</li><li><code class="inline">:filter</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A filter to apply to records. This is also applied to a stream of inputs.</li><li><code class="inline">:strategy</code> - The strategy or strategies to enable. :stream is used in all cases if the data layer does not support atomics. The default value is <code class="inline">[:atomic]</code>.</li><li><code class="inline">:allow_stream_with</code> - The 'worst' strategy allowed to be used to fetch records. See <a href="https://hexdocs.pm/ash/3.5.32/Ash.html#stream!/2"><code class="inline">Ash.stream!/2</code></a> docs for more. The default value is <code class="inline">:keyset</code>.</li><li><code class="inline">:stream_with</code> - The specific strategy to use to fetch records. See <a href="https://hexdocs.pm/ash/3.5.32/Ash.html#stream!/2"><code class="inline">Ash.stream!/2</code></a> docs for more.</li><li><code class="inline">:max_concurrency</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">non_neg_integer/0</code></a>) - The maximum number of processes allowed to be started for parallel loading of relationships and calculations. Defaults to <code class="inline">System.schedulers_online() * 2</code></li><li><code class="inline">:lock</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A lock statement to add onto the query</li><li><code class="inline">:return_query?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If <code class="inline">true</code>, the query that was ultimately used is returned as a third tuple element.
The query goes through many potential changes during a request, potentially adding
authorization filters, or replacing relationships for other data layers with their
corresponding ids. This option can be used to get the true query that was sent to
the data layer.
The default value is <code class="inline">false</code>.</li><li><code class="inline">:reuse_values?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether calculations are allowed to reuse values that have already been loaded, or must refetch them from the data layer. The default value is <code class="inline">false</code>.</li><li><code class="inline">:strict?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If set to true, only specified attributes will be loaded when passing
  a list of fields to fetch on a relationship, which allows for more
  optimized data-fetching.
  See <a href="https://hexdocs.pm/ash/3.5.32/Ash.Query.html#load/2"><code class="inline">Ash.Query.load/2</code></a>.
The default value is <code class="inline">false</code>.</li><li><code class="inline">:authorize_with</code> - If set to <code class="inline">:error</code>, instead of applying authorization filters as a filter, any records not matching the authorization filter will cause an error to be returned. The default value is <code class="inline">:filter</code>.</li><li><code class="inline">:read_action</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - The action to use when building the read query.</li><li><code class="inline">:assume_casted?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to cast attributes and arguments as input. This is an optimization for cases where the input is already casted and/or not in need of casting The default value is <code class="inline">false</code>.</li><li><code class="inline">:select</code> (list of <a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - A select statement to apply to records. Ignored if <code class="inline">return_records?</code> is not true.</li><li><code class="inline">:authorize_query_with</code> - If set to <code class="inline">:error</code>, instead of filtering unauthorized query results, unauthorized query results will raise an appropriate forbidden error. Uses <code class="inline">authorize_with</code> if not set.</li><li><code class="inline">:authorize_changeset_with</code> - If set to <code class="inline">:error</code>, instead of filtering unauthorized changes, unauthorized changes will raise an appropriate forbidden error. Uses <code class="inline">authorize_with</code> if not set.</li><li><code class="inline">:authorize_with</code> - If set to <code class="inline">:error</code>, instead of filtering unauthorized query results, unauthorized query results will raise an appropriate forbidden error. The default value is <code class="inline">:filter</code>.</li><li><code class="inline">:private_arguments</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">map/0</code></a>) - Private argument values to set on each changeset before validations and changes are run. The default value is <code class="inline">%{}</code>.</li><li><code class="inline">:sorted?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to sort results by their input position, in cases where <code class="inline">return_records?: true</code> was provided. The default value is <code class="inline">false</code>.</li><li><code class="inline">:return_records?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to return all of the records that were inserted. Defaults to false to account for large inserts. The default value is <code class="inline">false</code>.</li><li><code class="inline">:return_errors?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether to return all errors that occur during the operation. Defaults to the value of <code class="inline">:bulk_actions_default_to_errors?</code> in your config, or <code class="inline">false</code> if not set. Returning all errors may be expensive for large inserts. The default value is <code class="inline">false</code>.</li><li><code class="inline">:batch_size</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">pos_integer/0</code></a>) - The number of records to include in each batch. Defaults to the <code class="inline">default_limit</code>
or <code class="inline">max_page_size</code> of the action, or 100.</li><li><code class="inline">:return_stream?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If set to <code class="inline">true</code>, instead of an <a href="https://hexdocs.pm/ash/3.5.32/Ash.BulkResult.html"><code class="inline">Ash.BulkResult</code></a>, a mixed stream is returned.
Potential elements:
<code class="inline">{:notification, notification}</code> - if <code class="inline">return_notifications?</code> is set to <code class="inline">true</code>
<code class="inline">{:ok, record}</code> - if <code class="inline">return_records?</code> is set to <code class="inline">true</code>
<code class="inline">{:error, error}</code> - an error that occurred. May be changeset or an individual error.
The default value is <code class="inline">false</code>.</li><li><code class="inline">:return_nothing?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Mutes warnings about returning nothing.
Only relevant if <code class="inline">return_stream?</code> is set to <code class="inline">true</code> and all other
<code class="inline">return_*?</code> options are set to <code class="inline">false</code>.
The default value is <code class="inline">false</code>.</li><li><code class="inline">:stop_on_error?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If true, the first encountered error will stop the action and be returned. Otherwise, errors
will be skipped. The default value is <code class="inline">false</code>.</li><li><code class="inline">:notify?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to generate any notifications. If this is set to <code class="inline">true</code> then the data layer must return
the results from each batch. This may be intensive for large bulk actions.
Notifications will be automatically sent unless <code class="inline">return_notifications?</code> is set to <code class="inline">true</code>.
The default value is <code class="inline">false</code>.</li><li><code class="inline">:transaction</code> - Whether or not to wrap the entire execution in a transaction, each batch, or not at all.
Keep in mind:
<code class="inline">before_transaction</code> and <code class="inline">after_transaction</code> hooks attached to changesets will have to be run
<em>inside</em> the transaction if you choose <code class="inline">transaction: :all</code>.
The default value is <code class="inline">:batch</code>.</li><li><code class="inline">:max_concurrency</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">non_neg_integer/0</code></a>) - If set to a value greater than 0, up to that many tasks will be started to run batches asynchronously The default value is <code class="inline">0</code>.</li></ul></li><li><code class="inline">:private_arguments</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">map/0</code></a>) - Private argument values to set before validations and changes. The default value is <code class="inline">%{}</code>.</li></ul>
  </section>
</section>
<section class="detail" id="sync_case_from_airtable!/3">

    <span id="sync_case_from_airtable!/1"></span>

    <span id="sync_case_from_airtable!/2"></span>

  <div class="detail-header">
    <a href="#sync_case_from_airtable!/3" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">sync_case_from_airtable!(record, params \\ nil, opts \\ nil)</h1>


    </div>
  </div>

  <section class="docstring">

<p>Calls the sync_from_airtable action on EhsEnforcement.Enforcement.Case.
Raises any errors instead of returning them</p><h1>Inputs</h1><ul><li>url</li><li>offence_fine</li><li>offence_costs</li><li>offence_hearing_date</li><li>offence_result</li><li>related_cases</li></ul><h2 id="sync_case_from_airtable!/3-options" class="section-heading"><a href="#sync_case_from_airtable!/3-options" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Options</span></h2><ul><li><code class="inline">:params</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">map/0</code></a>) - Parameters to supply, ignored if the input is a changeset, only used when an identifier is given.</li><li><code class="inline">:atomic_upgrade?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If true the action will be done atomically if it can (and is configured to do so), ignoring the in memory transformations and validations. You should not generally need to disable this. The default value is <code class="inline">true</code>.</li><li><code class="inline">:timeout</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">timeout/0</code></a>) - A positive integer, or <code class="inline">:infinity</code>. If none is provided, the timeout configured on the domain is used.</li><li><code class="inline">:tracer</code> (one or a list of module that adopts <a href="https://hexdocs.pm/ash/3.5.32/Ash.Tracer.html"><code class="inline">Ash.Tracer</code></a>) - A tracer that implements the <a href="https://hexdocs.pm/ash/3.5.32/Ash.Tracer.html"><code class="inline">Ash.Tracer</code></a> behaviour. See that module for more.</li><li><code class="inline">:action</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - The action to use, either an Action struct or the name of the action</li><li><code class="inline">:authorize?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If an actor option is provided (even if it is <code class="inline">nil</code>), authorization happens automatically. If not, this flag can be used to authorize with no user.</li><li><code class="inline">:context</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">map/0</code></a>) - Context to set on the query, changeset, or input</li><li><code class="inline">:tenant</code> (value that implements the <a href="https://hexdocs.pm/ash/3.5.32/Ash.ToTenant.html"><code class="inline">Ash.ToTenant</code></a> protocol) - A tenant to set on the query or changeset</li><li><code class="inline">:actor</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - If an actor is provided, it will be used in conjunction with the authorizers of a resource to authorize access</li><li><code class="inline">:scope</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A value that implements the <a href="https://hexdocs.pm/ash/3.5.32/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> protocol, for passing around actor/tenant/context in a single value. See <a href="https://hexdocs.pm/ash/3.5.32/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> for more.</li><li><code class="inline">:return_notifications?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Use this if you're running ash actions in your own transaction and you want to manually handle sending notifications.<br/>If a transaction is ongoing, and this is false, notifications will be discarded, otherwise
the return value is <code class="inline">{:ok, result, notifications}</code> (or <code class="inline">{:ok, notifications}</code>)<br/>To send notifications later, use <code class="inline">Ash.Notifier.notify(notifications)</code>. It sends any notifications
that can be sent, and returns the rest. The default value is <code class="inline">false</code>.</li><li><code class="inline">:rollback_on_error?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to rollback the transaction on error, if the resource is in a transaction.<br/>If the action has <code class="inline">transaction? false</code> this option has no effect. If an error is returned from the
data layer and the resource is in a transaction, the transaction is always rolled back, regardless. The default value is <code class="inline">true</code>.</li><li><code class="inline">:notification_metadata</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - Metadata to be merged into the metadata field for all notifications sent from this operation. The default value is <code class="inline">%{}</code>.</li><li><code class="inline">:skip_unknown_inputs</code> - A list of inputs that, if provided, will be ignored if they are not recognized by the action. Use <code class="inline">:*</code> to indicate all unknown keys.</li><li><code class="inline">:load</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A load statement to add onto the changeset</li><li><code class="inline">:bulk_options</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">keyword/0</code></a>) - Options passed to <code class="inline">Ash.bulk_update</code>, if a query, list, or stream of inputs is provided.<ul><li><code class="inline">:atomic_update</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">map/0</code></a>) - A map of atomic updates to apply. See <a href="https://hexdocs.pm/ash/3.5.32/Ash.Changeset.html#atomic_update/3"><code class="inline">Ash.Changeset.atomic_update/3</code></a> for more.</li><li><code class="inline">:stream_batch_size</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">integer/0</code></a>) - Batch size to use if provided a query and the query must be streamed</li><li><code class="inline">:allow_stream_with</code> - The 'worst' strategy allowed to be used to fetch records if the <code class="inline">:stream</code> strategy is chosen. See the <a href="https://hexdocs.pm/ash/3.5.32/Ash.html#stream!/2"><code class="inline">Ash.stream!/2</code></a> docs for more. The default value is <code class="inline">:keyset</code>.</li><li><code class="inline">:authorize_query?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If a query is given, determines whether or not authorization is run on that query. The default value is <code class="inline">true</code>.</li><li><code class="inline">:select</code> (list of <a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - A select statement to apply to records. Ignored if <code class="inline">return_records?</code> is not true.</li><li><code class="inline">:filter</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A filter to apply to records. This is also applied to a stream of inputs.</li><li><code class="inline">:strategy</code> - The strategy or strategies to enable. :stream is used in all cases if the data layer does not support atomics. The default value is <code class="inline">[:atomic]</code>.</li><li><code class="inline">:allow_stream_with</code> - The 'worst' strategy allowed to be used to fetch records. See <a href="https://hexdocs.pm/ash/3.5.32/Ash.html#stream!/2"><code class="inline">Ash.stream!/2</code></a> docs for more. The default value is <code class="inline">:keyset</code>.</li><li><code class="inline">:stream_with</code> - The specific strategy to use to fetch records. See <a href="https://hexdocs.pm/ash/3.5.32/Ash.html#stream!/2"><code class="inline">Ash.stream!/2</code></a> docs for more.</li><li><code class="inline">:max_concurrency</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">non_neg_integer/0</code></a>) - The maximum number of processes allowed to be started for parallel loading of relationships and calculations. Defaults to <code class="inline">System.schedulers_online() * 2</code></li><li><code class="inline">:lock</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A lock statement to add onto the query</li><li><code class="inline">:return_query?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If <code class="inline">true</code>, the query that was ultimately used is returned as a third tuple element.
The query goes through many potential changes during a request, potentially adding
authorization filters, or replacing relationships for other data layers with their
corresponding ids. This option can be used to get the true query that was sent to
the data layer.
The default value is <code class="inline">false</code>.</li><li><code class="inline">:reuse_values?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether calculations are allowed to reuse values that have already been loaded, or must refetch them from the data layer. The default value is <code class="inline">false</code>.</li><li><code class="inline">:strict?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If set to true, only specified attributes will be loaded when passing
  a list of fields to fetch on a relationship, which allows for more
  optimized data-fetching.
  See <a href="https://hexdocs.pm/ash/3.5.32/Ash.Query.html#load/2"><code class="inline">Ash.Query.load/2</code></a>.
The default value is <code class="inline">false</code>.</li><li><code class="inline">:authorize_with</code> - If set to <code class="inline">:error</code>, instead of applying authorization filters as a filter, any records not matching the authorization filter will cause an error to be returned. The default value is <code class="inline">:filter</code>.</li><li><code class="inline">:read_action</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - The action to use when building the read query.</li><li><code class="inline">:assume_casted?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to cast attributes and arguments as input. This is an optimization for cases where the input is already casted and/or not in need of casting The default value is <code class="inline">false</code>.</li><li><code class="inline">:select</code> (list of <a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - A select statement to apply to records. Ignored if <code class="inline">return_records?</code> is not true.</li><li><code class="inline">:authorize_query_with</code> - If set to <code class="inline">:error</code>, instead of filtering unauthorized query results, unauthorized query results will raise an appropriate forbidden error. Uses <code class="inline">authorize_with</code> if not set.</li><li><code class="inline">:authorize_changeset_with</code> - If set to <code class="inline">:error</code>, instead of filtering unauthorized changes, unauthorized changes will raise an appropriate forbidden error. Uses <code class="inline">authorize_with</code> if not set.</li><li><code class="inline">:authorize_with</code> - If set to <code class="inline">:error</code>, instead of filtering unauthorized query results, unauthorized query results will raise an appropriate forbidden error. The default value is <code class="inline">:filter</code>.</li><li><code class="inline">:private_arguments</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">map/0</code></a>) - Private argument values to set on each changeset before validations and changes are run. The default value is <code class="inline">%{}</code>.</li><li><code class="inline">:sorted?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to sort results by their input position, in cases where <code class="inline">return_records?: true</code> was provided. The default value is <code class="inline">false</code>.</li><li><code class="inline">:return_records?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to return all of the records that were inserted. Defaults to false to account for large inserts. The default value is <code class="inline">false</code>.</li><li><code class="inline">:return_errors?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether to return all errors that occur during the operation. Defaults to the value of <code class="inline">:bulk_actions_default_to_errors?</code> in your config, or <code class="inline">false</code> if not set. Returning all errors may be expensive for large inserts. The default value is <code class="inline">false</code>.</li><li><code class="inline">:batch_size</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">pos_integer/0</code></a>) - The number of records to include in each batch. Defaults to the <code class="inline">default_limit</code>
or <code class="inline">max_page_size</code> of the action, or 100.</li><li><code class="inline">:return_stream?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If set to <code class="inline">true</code>, instead of an <a href="https://hexdocs.pm/ash/3.5.32/Ash.BulkResult.html"><code class="inline">Ash.BulkResult</code></a>, a mixed stream is returned.
Potential elements:
<code class="inline">{:notification, notification}</code> - if <code class="inline">return_notifications?</code> is set to <code class="inline">true</code>
<code class="inline">{:ok, record}</code> - if <code class="inline">return_records?</code> is set to <code class="inline">true</code>
<code class="inline">{:error, error}</code> - an error that occurred. May be changeset or an individual error.
The default value is <code class="inline">false</code>.</li><li><code class="inline">:return_nothing?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Mutes warnings about returning nothing.
Only relevant if <code class="inline">return_stream?</code> is set to <code class="inline">true</code> and all other
<code class="inline">return_*?</code> options are set to <code class="inline">false</code>.
The default value is <code class="inline">false</code>.</li><li><code class="inline">:stop_on_error?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If true, the first encountered error will stop the action and be returned. Otherwise, errors
will be skipped. The default value is <code class="inline">false</code>.</li><li><code class="inline">:notify?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to generate any notifications. If this is set to <code class="inline">true</code> then the data layer must return
the results from each batch. This may be intensive for large bulk actions.
Notifications will be automatically sent unless <code class="inline">return_notifications?</code> is set to <code class="inline">true</code>.
The default value is <code class="inline">false</code>.</li><li><code class="inline">:transaction</code> - Whether or not to wrap the entire execution in a transaction, each batch, or not at all.
Keep in mind:
<code class="inline">before_transaction</code> and <code class="inline">after_transaction</code> hooks attached to changesets will have to be run
<em>inside</em> the transaction if you choose <code class="inline">transaction: :all</code>.
The default value is <code class="inline">:batch</code>.</li><li><code class="inline">:max_concurrency</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">non_neg_integer/0</code></a>) - If set to a value greater than 0, up to that many tasks will be started to run batches asynchronously The default value is <code class="inline">0</code>.</li></ul></li><li><code class="inline">:private_arguments</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">map/0</code></a>) - Private argument values to set before validations and changes. The default value is <code class="inline">%{}</code>.</li></ul>
  </section>
</section>
<section class="detail" id="update_agency/3">

    <span id="update_agency/1"></span>

    <span id="update_agency/2"></span>

  <div class="detail-header">
    <a href="#update_agency/3" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">update_agency(record, params \\ nil, opts \\ nil)</h1>


    </div>
  </div>

  <section class="docstring">

<p>Calls the update action on EhsEnforcement.Enforcement.Agency.</p><h1>Inputs</h1><ul><li>enabled</li><li>name</li><li>base_url</li></ul><h2 id="update_agency/3-options" class="section-heading"><a href="#update_agency/3-options" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Options</span></h2><ul><li><code class="inline">:params</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">map/0</code></a>) - Parameters to supply, ignored if the input is a changeset, only used when an identifier is given.</li><li><code class="inline">:atomic_upgrade?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If true the action will be done atomically if it can (and is configured to do so), ignoring the in memory transformations and validations. You should not generally need to disable this. The default value is <code class="inline">true</code>.</li><li><code class="inline">:timeout</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">timeout/0</code></a>) - A positive integer, or <code class="inline">:infinity</code>. If none is provided, the timeout configured on the domain is used.</li><li><code class="inline">:tracer</code> (one or a list of module that adopts <a href="https://hexdocs.pm/ash/3.5.32/Ash.Tracer.html"><code class="inline">Ash.Tracer</code></a>) - A tracer that implements the <a href="https://hexdocs.pm/ash/3.5.32/Ash.Tracer.html"><code class="inline">Ash.Tracer</code></a> behaviour. See that module for more.</li><li><code class="inline">:action</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - The action to use, either an Action struct or the name of the action</li><li><code class="inline">:authorize?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If an actor option is provided (even if it is <code class="inline">nil</code>), authorization happens automatically. If not, this flag can be used to authorize with no user.</li><li><code class="inline">:context</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">map/0</code></a>) - Context to set on the query, changeset, or input</li><li><code class="inline">:tenant</code> (value that implements the <a href="https://hexdocs.pm/ash/3.5.32/Ash.ToTenant.html"><code class="inline">Ash.ToTenant</code></a> protocol) - A tenant to set on the query or changeset</li><li><code class="inline">:actor</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - If an actor is provided, it will be used in conjunction with the authorizers of a resource to authorize access</li><li><code class="inline">:scope</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A value that implements the <a href="https://hexdocs.pm/ash/3.5.32/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> protocol, for passing around actor/tenant/context in a single value. See <a href="https://hexdocs.pm/ash/3.5.32/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> for more.</li><li><code class="inline">:return_notifications?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Use this if you're running ash actions in your own transaction and you want to manually handle sending notifications.<br/>If a transaction is ongoing, and this is false, notifications will be discarded, otherwise
the return value is <code class="inline">{:ok, result, notifications}</code> (or <code class="inline">{:ok, notifications}</code>)<br/>To send notifications later, use <code class="inline">Ash.Notifier.notify(notifications)</code>. It sends any notifications
that can be sent, and returns the rest. The default value is <code class="inline">false</code>.</li><li><code class="inline">:rollback_on_error?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to rollback the transaction on error, if the resource is in a transaction.<br/>If the action has <code class="inline">transaction? false</code> this option has no effect. If an error is returned from the
data layer and the resource is in a transaction, the transaction is always rolled back, regardless. The default value is <code class="inline">true</code>.</li><li><code class="inline">:notification_metadata</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - Metadata to be merged into the metadata field for all notifications sent from this operation. The default value is <code class="inline">%{}</code>.</li><li><code class="inline">:skip_unknown_inputs</code> - A list of inputs that, if provided, will be ignored if they are not recognized by the action. Use <code class="inline">:*</code> to indicate all unknown keys.</li><li><code class="inline">:load</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A load statement to add onto the changeset</li><li><code class="inline">:bulk_options</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">keyword/0</code></a>) - Options passed to <code class="inline">Ash.bulk_update</code>, if a query, list, or stream of inputs is provided.<ul><li><code class="inline">:atomic_update</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">map/0</code></a>) - A map of atomic updates to apply. See <a href="https://hexdocs.pm/ash/3.5.32/Ash.Changeset.html#atomic_update/3"><code class="inline">Ash.Changeset.atomic_update/3</code></a> for more.</li><li><code class="inline">:stream_batch_size</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">integer/0</code></a>) - Batch size to use if provided a query and the query must be streamed</li><li><code class="inline">:allow_stream_with</code> - The 'worst' strategy allowed to be used to fetch records if the <code class="inline">:stream</code> strategy is chosen. See the <a href="https://hexdocs.pm/ash/3.5.32/Ash.html#stream!/2"><code class="inline">Ash.stream!/2</code></a> docs for more. The default value is <code class="inline">:keyset</code>.</li><li><code class="inline">:authorize_query?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If a query is given, determines whether or not authorization is run on that query. The default value is <code class="inline">true</code>.</li><li><code class="inline">:select</code> (list of <a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - A select statement to apply to records. Ignored if <code class="inline">return_records?</code> is not true.</li><li><code class="inline">:filter</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A filter to apply to records. This is also applied to a stream of inputs.</li><li><code class="inline">:strategy</code> - The strategy or strategies to enable. :stream is used in all cases if the data layer does not support atomics. The default value is <code class="inline">[:atomic]</code>.</li><li><code class="inline">:allow_stream_with</code> - The 'worst' strategy allowed to be used to fetch records. See <a href="https://hexdocs.pm/ash/3.5.32/Ash.html#stream!/2"><code class="inline">Ash.stream!/2</code></a> docs for more. The default value is <code class="inline">:keyset</code>.</li><li><code class="inline">:stream_with</code> - The specific strategy to use to fetch records. See <a href="https://hexdocs.pm/ash/3.5.32/Ash.html#stream!/2"><code class="inline">Ash.stream!/2</code></a> docs for more.</li><li><code class="inline">:max_concurrency</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">non_neg_integer/0</code></a>) - The maximum number of processes allowed to be started for parallel loading of relationships and calculations. Defaults to <code class="inline">System.schedulers_online() * 2</code></li><li><code class="inline">:lock</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A lock statement to add onto the query</li><li><code class="inline">:return_query?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If <code class="inline">true</code>, the query that was ultimately used is returned as a third tuple element.
The query goes through many potential changes during a request, potentially adding
authorization filters, or replacing relationships for other data layers with their
corresponding ids. This option can be used to get the true query that was sent to
the data layer.
The default value is <code class="inline">false</code>.</li><li><code class="inline">:reuse_values?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether calculations are allowed to reuse values that have already been loaded, or must refetch them from the data layer. The default value is <code class="inline">false</code>.</li><li><code class="inline">:strict?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If set to true, only specified attributes will be loaded when passing
  a list of fields to fetch on a relationship, which allows for more
  optimized data-fetching.
  See <a href="https://hexdocs.pm/ash/3.5.32/Ash.Query.html#load/2"><code class="inline">Ash.Query.load/2</code></a>.
The default value is <code class="inline">false</code>.</li><li><code class="inline">:authorize_with</code> - If set to <code class="inline">:error</code>, instead of applying authorization filters as a filter, any records not matching the authorization filter will cause an error to be returned. The default value is <code class="inline">:filter</code>.</li><li><code class="inline">:read_action</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - The action to use when building the read query.</li><li><code class="inline">:assume_casted?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to cast attributes and arguments as input. This is an optimization for cases where the input is already casted and/or not in need of casting The default value is <code class="inline">false</code>.</li><li><code class="inline">:select</code> (list of <a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - A select statement to apply to records. Ignored if <code class="inline">return_records?</code> is not true.</li><li><code class="inline">:authorize_query_with</code> - If set to <code class="inline">:error</code>, instead of filtering unauthorized query results, unauthorized query results will raise an appropriate forbidden error. Uses <code class="inline">authorize_with</code> if not set.</li><li><code class="inline">:authorize_changeset_with</code> - If set to <code class="inline">:error</code>, instead of filtering unauthorized changes, unauthorized changes will raise an appropriate forbidden error. Uses <code class="inline">authorize_with</code> if not set.</li><li><code class="inline">:authorize_with</code> - If set to <code class="inline">:error</code>, instead of filtering unauthorized query results, unauthorized query results will raise an appropriate forbidden error. The default value is <code class="inline">:filter</code>.</li><li><code class="inline">:private_arguments</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">map/0</code></a>) - Private argument values to set on each changeset before validations and changes are run. The default value is <code class="inline">%{}</code>.</li><li><code class="inline">:sorted?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to sort results by their input position, in cases where <code class="inline">return_records?: true</code> was provided. The default value is <code class="inline">false</code>.</li><li><code class="inline">:return_records?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to return all of the records that were inserted. Defaults to false to account for large inserts. The default value is <code class="inline">false</code>.</li><li><code class="inline">:return_errors?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether to return all errors that occur during the operation. Defaults to the value of <code class="inline">:bulk_actions_default_to_errors?</code> in your config, or <code class="inline">false</code> if not set. Returning all errors may be expensive for large inserts. The default value is <code class="inline">false</code>.</li><li><code class="inline">:batch_size</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">pos_integer/0</code></a>) - The number of records to include in each batch. Defaults to the <code class="inline">default_limit</code>
or <code class="inline">max_page_size</code> of the action, or 100.</li><li><code class="inline">:return_stream?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If set to <code class="inline">true</code>, instead of an <a href="https://hexdocs.pm/ash/3.5.32/Ash.BulkResult.html"><code class="inline">Ash.BulkResult</code></a>, a mixed stream is returned.
Potential elements:
<code class="inline">{:notification, notification}</code> - if <code class="inline">return_notifications?</code> is set to <code class="inline">true</code>
<code class="inline">{:ok, record}</code> - if <code class="inline">return_records?</code> is set to <code class="inline">true</code>
<code class="inline">{:error, error}</code> - an error that occurred. May be changeset or an individual error.
The default value is <code class="inline">false</code>.</li><li><code class="inline">:return_nothing?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Mutes warnings about returning nothing.
Only relevant if <code class="inline">return_stream?</code> is set to <code class="inline">true</code> and all other
<code class="inline">return_*?</code> options are set to <code class="inline">false</code>.
The default value is <code class="inline">false</code>.</li><li><code class="inline">:stop_on_error?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If true, the first encountered error will stop the action and be returned. Otherwise, errors
will be skipped. The default value is <code class="inline">false</code>.</li><li><code class="inline">:notify?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to generate any notifications. If this is set to <code class="inline">true</code> then the data layer must return
the results from each batch. This may be intensive for large bulk actions.
Notifications will be automatically sent unless <code class="inline">return_notifications?</code> is set to <code class="inline">true</code>.
The default value is <code class="inline">false</code>.</li><li><code class="inline">:transaction</code> - Whether or not to wrap the entire execution in a transaction, each batch, or not at all.
Keep in mind:
<code class="inline">before_transaction</code> and <code class="inline">after_transaction</code> hooks attached to changesets will have to be run
<em>inside</em> the transaction if you choose <code class="inline">transaction: :all</code>.
The default value is <code class="inline">:batch</code>.</li><li><code class="inline">:max_concurrency</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">non_neg_integer/0</code></a>) - If set to a value greater than 0, up to that many tasks will be started to run batches asynchronously The default value is <code class="inline">0</code>.</li></ul></li><li><code class="inline">:private_arguments</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">map/0</code></a>) - Private argument values to set before validations and changes. The default value is <code class="inline">%{}</code>.</li></ul>
  </section>
</section>
<section class="detail" id="update_agency!/3">

    <span id="update_agency!/1"></span>

    <span id="update_agency!/2"></span>

  <div class="detail-header">
    <a href="#update_agency!/3" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">update_agency!(record, params \\ nil, opts \\ nil)</h1>


    </div>
  </div>

  <section class="docstring">

<p>Calls the update action on EhsEnforcement.Enforcement.Agency.
Raises any errors instead of returning them</p><h1>Inputs</h1><ul><li>enabled</li><li>name</li><li>base_url</li></ul><h2 id="update_agency!/3-options" class="section-heading"><a href="#update_agency!/3-options" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Options</span></h2><ul><li><code class="inline">:params</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">map/0</code></a>) - Parameters to supply, ignored if the input is a changeset, only used when an identifier is given.</li><li><code class="inline">:atomic_upgrade?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If true the action will be done atomically if it can (and is configured to do so), ignoring the in memory transformations and validations. You should not generally need to disable this. The default value is <code class="inline">true</code>.</li><li><code class="inline">:timeout</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">timeout/0</code></a>) - A positive integer, or <code class="inline">:infinity</code>. If none is provided, the timeout configured on the domain is used.</li><li><code class="inline">:tracer</code> (one or a list of module that adopts <a href="https://hexdocs.pm/ash/3.5.32/Ash.Tracer.html"><code class="inline">Ash.Tracer</code></a>) - A tracer that implements the <a href="https://hexdocs.pm/ash/3.5.32/Ash.Tracer.html"><code class="inline">Ash.Tracer</code></a> behaviour. See that module for more.</li><li><code class="inline">:action</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - The action to use, either an Action struct or the name of the action</li><li><code class="inline">:authorize?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If an actor option is provided (even if it is <code class="inline">nil</code>), authorization happens automatically. If not, this flag can be used to authorize with no user.</li><li><code class="inline">:context</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">map/0</code></a>) - Context to set on the query, changeset, or input</li><li><code class="inline">:tenant</code> (value that implements the <a href="https://hexdocs.pm/ash/3.5.32/Ash.ToTenant.html"><code class="inline">Ash.ToTenant</code></a> protocol) - A tenant to set on the query or changeset</li><li><code class="inline">:actor</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - If an actor is provided, it will be used in conjunction with the authorizers of a resource to authorize access</li><li><code class="inline">:scope</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A value that implements the <a href="https://hexdocs.pm/ash/3.5.32/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> protocol, for passing around actor/tenant/context in a single value. See <a href="https://hexdocs.pm/ash/3.5.32/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> for more.</li><li><code class="inline">:return_notifications?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Use this if you're running ash actions in your own transaction and you want to manually handle sending notifications.<br/>If a transaction is ongoing, and this is false, notifications will be discarded, otherwise
the return value is <code class="inline">{:ok, result, notifications}</code> (or <code class="inline">{:ok, notifications}</code>)<br/>To send notifications later, use <code class="inline">Ash.Notifier.notify(notifications)</code>. It sends any notifications
that can be sent, and returns the rest. The default value is <code class="inline">false</code>.</li><li><code class="inline">:rollback_on_error?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to rollback the transaction on error, if the resource is in a transaction.<br/>If the action has <code class="inline">transaction? false</code> this option has no effect. If an error is returned from the
data layer and the resource is in a transaction, the transaction is always rolled back, regardless. The default value is <code class="inline">true</code>.</li><li><code class="inline">:notification_metadata</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - Metadata to be merged into the metadata field for all notifications sent from this operation. The default value is <code class="inline">%{}</code>.</li><li><code class="inline">:skip_unknown_inputs</code> - A list of inputs that, if provided, will be ignored if they are not recognized by the action. Use <code class="inline">:*</code> to indicate all unknown keys.</li><li><code class="inline">:load</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A load statement to add onto the changeset</li><li><code class="inline">:bulk_options</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">keyword/0</code></a>) - Options passed to <code class="inline">Ash.bulk_update</code>, if a query, list, or stream of inputs is provided.<ul><li><code class="inline">:atomic_update</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">map/0</code></a>) - A map of atomic updates to apply. See <a href="https://hexdocs.pm/ash/3.5.32/Ash.Changeset.html#atomic_update/3"><code class="inline">Ash.Changeset.atomic_update/3</code></a> for more.</li><li><code class="inline">:stream_batch_size</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">integer/0</code></a>) - Batch size to use if provided a query and the query must be streamed</li><li><code class="inline">:allow_stream_with</code> - The 'worst' strategy allowed to be used to fetch records if the <code class="inline">:stream</code> strategy is chosen. See the <a href="https://hexdocs.pm/ash/3.5.32/Ash.html#stream!/2"><code class="inline">Ash.stream!/2</code></a> docs for more. The default value is <code class="inline">:keyset</code>.</li><li><code class="inline">:authorize_query?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If a query is given, determines whether or not authorization is run on that query. The default value is <code class="inline">true</code>.</li><li><code class="inline">:select</code> (list of <a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - A select statement to apply to records. Ignored if <code class="inline">return_records?</code> is not true.</li><li><code class="inline">:filter</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A filter to apply to records. This is also applied to a stream of inputs.</li><li><code class="inline">:strategy</code> - The strategy or strategies to enable. :stream is used in all cases if the data layer does not support atomics. The default value is <code class="inline">[:atomic]</code>.</li><li><code class="inline">:allow_stream_with</code> - The 'worst' strategy allowed to be used to fetch records. See <a href="https://hexdocs.pm/ash/3.5.32/Ash.html#stream!/2"><code class="inline">Ash.stream!/2</code></a> docs for more. The default value is <code class="inline">:keyset</code>.</li><li><code class="inline">:stream_with</code> - The specific strategy to use to fetch records. See <a href="https://hexdocs.pm/ash/3.5.32/Ash.html#stream!/2"><code class="inline">Ash.stream!/2</code></a> docs for more.</li><li><code class="inline">:max_concurrency</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">non_neg_integer/0</code></a>) - The maximum number of processes allowed to be started for parallel loading of relationships and calculations. Defaults to <code class="inline">System.schedulers_online() * 2</code></li><li><code class="inline">:lock</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A lock statement to add onto the query</li><li><code class="inline">:return_query?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If <code class="inline">true</code>, the query that was ultimately used is returned as a third tuple element.
The query goes through many potential changes during a request, potentially adding
authorization filters, or replacing relationships for other data layers with their
corresponding ids. This option can be used to get the true query that was sent to
the data layer.
The default value is <code class="inline">false</code>.</li><li><code class="inline">:reuse_values?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether calculations are allowed to reuse values that have already been loaded, or must refetch them from the data layer. The default value is <code class="inline">false</code>.</li><li><code class="inline">:strict?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If set to true, only specified attributes will be loaded when passing
  a list of fields to fetch on a relationship, which allows for more
  optimized data-fetching.
  See <a href="https://hexdocs.pm/ash/3.5.32/Ash.Query.html#load/2"><code class="inline">Ash.Query.load/2</code></a>.
The default value is <code class="inline">false</code>.</li><li><code class="inline">:authorize_with</code> - If set to <code class="inline">:error</code>, instead of applying authorization filters as a filter, any records not matching the authorization filter will cause an error to be returned. The default value is <code class="inline">:filter</code>.</li><li><code class="inline">:read_action</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - The action to use when building the read query.</li><li><code class="inline">:assume_casted?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to cast attributes and arguments as input. This is an optimization for cases where the input is already casted and/or not in need of casting The default value is <code class="inline">false</code>.</li><li><code class="inline">:select</code> (list of <a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - A select statement to apply to records. Ignored if <code class="inline">return_records?</code> is not true.</li><li><code class="inline">:authorize_query_with</code> - If set to <code class="inline">:error</code>, instead of filtering unauthorized query results, unauthorized query results will raise an appropriate forbidden error. Uses <code class="inline">authorize_with</code> if not set.</li><li><code class="inline">:authorize_changeset_with</code> - If set to <code class="inline">:error</code>, instead of filtering unauthorized changes, unauthorized changes will raise an appropriate forbidden error. Uses <code class="inline">authorize_with</code> if not set.</li><li><code class="inline">:authorize_with</code> - If set to <code class="inline">:error</code>, instead of filtering unauthorized query results, unauthorized query results will raise an appropriate forbidden error. The default value is <code class="inline">:filter</code>.</li><li><code class="inline">:private_arguments</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">map/0</code></a>) - Private argument values to set on each changeset before validations and changes are run. The default value is <code class="inline">%{}</code>.</li><li><code class="inline">:sorted?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to sort results by their input position, in cases where <code class="inline">return_records?: true</code> was provided. The default value is <code class="inline">false</code>.</li><li><code class="inline">:return_records?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to return all of the records that were inserted. Defaults to false to account for large inserts. The default value is <code class="inline">false</code>.</li><li><code class="inline">:return_errors?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether to return all errors that occur during the operation. Defaults to the value of <code class="inline">:bulk_actions_default_to_errors?</code> in your config, or <code class="inline">false</code> if not set. Returning all errors may be expensive for large inserts. The default value is <code class="inline">false</code>.</li><li><code class="inline">:batch_size</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">pos_integer/0</code></a>) - The number of records to include in each batch. Defaults to the <code class="inline">default_limit</code>
or <code class="inline">max_page_size</code> of the action, or 100.</li><li><code class="inline">:return_stream?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If set to <code class="inline">true</code>, instead of an <a href="https://hexdocs.pm/ash/3.5.32/Ash.BulkResult.html"><code class="inline">Ash.BulkResult</code></a>, a mixed stream is returned.
Potential elements:
<code class="inline">{:notification, notification}</code> - if <code class="inline">return_notifications?</code> is set to <code class="inline">true</code>
<code class="inline">{:ok, record}</code> - if <code class="inline">return_records?</code> is set to <code class="inline">true</code>
<code class="inline">{:error, error}</code> - an error that occurred. May be changeset or an individual error.
The default value is <code class="inline">false</code>.</li><li><code class="inline">:return_nothing?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Mutes warnings about returning nothing.
Only relevant if <code class="inline">return_stream?</code> is set to <code class="inline">true</code> and all other
<code class="inline">return_*?</code> options are set to <code class="inline">false</code>.
The default value is <code class="inline">false</code>.</li><li><code class="inline">:stop_on_error?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If true, the first encountered error will stop the action and be returned. Otherwise, errors
will be skipped. The default value is <code class="inline">false</code>.</li><li><code class="inline">:notify?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to generate any notifications. If this is set to <code class="inline">true</code> then the data layer must return
the results from each batch. This may be intensive for large bulk actions.
Notifications will be automatically sent unless <code class="inline">return_notifications?</code> is set to <code class="inline">true</code>.
The default value is <code class="inline">false</code>.</li><li><code class="inline">:transaction</code> - Whether or not to wrap the entire execution in a transaction, each batch, or not at all.
Keep in mind:
<code class="inline">before_transaction</code> and <code class="inline">after_transaction</code> hooks attached to changesets will have to be run
<em>inside</em> the transaction if you choose <code class="inline">transaction: :all</code>.
The default value is <code class="inline">:batch</code>.</li><li><code class="inline">:max_concurrency</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">non_neg_integer/0</code></a>) - If set to a value greater than 0, up to that many tasks will be started to run batches asynchronously The default value is <code class="inline">0</code>.</li></ul></li><li><code class="inline">:private_arguments</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">map/0</code></a>) - Private argument values to set before validations and changes. The default value is <code class="inline">%{}</code>.</li></ul>
  </section>
</section>
<section class="detail" id="update_breach/3">

    <span id="update_breach/1"></span>

    <span id="update_breach/2"></span>

  <div class="detail-header">
    <a href="#update_breach/3" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">update_breach(record, params \\ nil, opts \\ nil)</h1>


    </div>
  </div>

  <section class="docstring">

<p>Calls the update action on EhsEnforcement.Enforcement.Breach.</p><h2 id="update_breach/3-options" class="section-heading"><a href="#update_breach/3-options" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Options</span></h2><ul><li><code class="inline">:params</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">map/0</code></a>) - Parameters to supply, ignored if the input is a changeset, only used when an identifier is given.</li><li><code class="inline">:atomic_upgrade?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If true the action will be done atomically if it can (and is configured to do so), ignoring the in memory transformations and validations. You should not generally need to disable this. The default value is <code class="inline">true</code>.</li><li><code class="inline">:timeout</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">timeout/0</code></a>) - A positive integer, or <code class="inline">:infinity</code>. If none is provided, the timeout configured on the domain is used.</li><li><code class="inline">:tracer</code> (one or a list of module that adopts <a href="https://hexdocs.pm/ash/3.5.32/Ash.Tracer.html"><code class="inline">Ash.Tracer</code></a>) - A tracer that implements the <a href="https://hexdocs.pm/ash/3.5.32/Ash.Tracer.html"><code class="inline">Ash.Tracer</code></a> behaviour. See that module for more.</li><li><code class="inline">:action</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - The action to use, either an Action struct or the name of the action</li><li><code class="inline">:authorize?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If an actor option is provided (even if it is <code class="inline">nil</code>), authorization happens automatically. If not, this flag can be used to authorize with no user.</li><li><code class="inline">:context</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">map/0</code></a>) - Context to set on the query, changeset, or input</li><li><code class="inline">:tenant</code> (value that implements the <a href="https://hexdocs.pm/ash/3.5.32/Ash.ToTenant.html"><code class="inline">Ash.ToTenant</code></a> protocol) - A tenant to set on the query or changeset</li><li><code class="inline">:actor</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - If an actor is provided, it will be used in conjunction with the authorizers of a resource to authorize access</li><li><code class="inline">:scope</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A value that implements the <a href="https://hexdocs.pm/ash/3.5.32/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> protocol, for passing around actor/tenant/context in a single value. See <a href="https://hexdocs.pm/ash/3.5.32/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> for more.</li><li><code class="inline">:return_notifications?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Use this if you're running ash actions in your own transaction and you want to manually handle sending notifications.<br/>If a transaction is ongoing, and this is false, notifications will be discarded, otherwise
the return value is <code class="inline">{:ok, result, notifications}</code> (or <code class="inline">{:ok, notifications}</code>)<br/>To send notifications later, use <code class="inline">Ash.Notifier.notify(notifications)</code>. It sends any notifications
that can be sent, and returns the rest. The default value is <code class="inline">false</code>.</li><li><code class="inline">:rollback_on_error?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to rollback the transaction on error, if the resource is in a transaction.<br/>If the action has <code class="inline">transaction? false</code> this option has no effect. If an error is returned from the
data layer and the resource is in a transaction, the transaction is always rolled back, regardless. The default value is <code class="inline">true</code>.</li><li><code class="inline">:notification_metadata</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - Metadata to be merged into the metadata field for all notifications sent from this operation. The default value is <code class="inline">%{}</code>.</li><li><code class="inline">:skip_unknown_inputs</code> - A list of inputs that, if provided, will be ignored if they are not recognized by the action. Use <code class="inline">:*</code> to indicate all unknown keys.</li><li><code class="inline">:load</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A load statement to add onto the changeset</li><li><code class="inline">:bulk_options</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">keyword/0</code></a>) - Options passed to <code class="inline">Ash.bulk_update</code>, if a query, list, or stream of inputs is provided.<ul><li><code class="inline">:atomic_update</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">map/0</code></a>) - A map of atomic updates to apply. See <a href="https://hexdocs.pm/ash/3.5.32/Ash.Changeset.html#atomic_update/3"><code class="inline">Ash.Changeset.atomic_update/3</code></a> for more.</li><li><code class="inline">:stream_batch_size</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">integer/0</code></a>) - Batch size to use if provided a query and the query must be streamed</li><li><code class="inline">:allow_stream_with</code> - The 'worst' strategy allowed to be used to fetch records if the <code class="inline">:stream</code> strategy is chosen. See the <a href="https://hexdocs.pm/ash/3.5.32/Ash.html#stream!/2"><code class="inline">Ash.stream!/2</code></a> docs for more. The default value is <code class="inline">:keyset</code>.</li><li><code class="inline">:authorize_query?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If a query is given, determines whether or not authorization is run on that query. The default value is <code class="inline">true</code>.</li><li><code class="inline">:select</code> (list of <a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - A select statement to apply to records. Ignored if <code class="inline">return_records?</code> is not true.</li><li><code class="inline">:filter</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A filter to apply to records. This is also applied to a stream of inputs.</li><li><code class="inline">:strategy</code> - The strategy or strategies to enable. :stream is used in all cases if the data layer does not support atomics. The default value is <code class="inline">[:atomic]</code>.</li><li><code class="inline">:allow_stream_with</code> - The 'worst' strategy allowed to be used to fetch records. See <a href="https://hexdocs.pm/ash/3.5.32/Ash.html#stream!/2"><code class="inline">Ash.stream!/2</code></a> docs for more. The default value is <code class="inline">:keyset</code>.</li><li><code class="inline">:stream_with</code> - The specific strategy to use to fetch records. See <a href="https://hexdocs.pm/ash/3.5.32/Ash.html#stream!/2"><code class="inline">Ash.stream!/2</code></a> docs for more.</li><li><code class="inline">:max_concurrency</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">non_neg_integer/0</code></a>) - The maximum number of processes allowed to be started for parallel loading of relationships and calculations. Defaults to <code class="inline">System.schedulers_online() * 2</code></li><li><code class="inline">:lock</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A lock statement to add onto the query</li><li><code class="inline">:return_query?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If <code class="inline">true</code>, the query that was ultimately used is returned as a third tuple element.
The query goes through many potential changes during a request, potentially adding
authorization filters, or replacing relationships for other data layers with their
corresponding ids. This option can be used to get the true query that was sent to
the data layer.
The default value is <code class="inline">false</code>.</li><li><code class="inline">:reuse_values?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether calculations are allowed to reuse values that have already been loaded, or must refetch them from the data layer. The default value is <code class="inline">false</code>.</li><li><code class="inline">:strict?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If set to true, only specified attributes will be loaded when passing
  a list of fields to fetch on a relationship, which allows for more
  optimized data-fetching.
  See <a href="https://hexdocs.pm/ash/3.5.32/Ash.Query.html#load/2"><code class="inline">Ash.Query.load/2</code></a>.
The default value is <code class="inline">false</code>.</li><li><code class="inline">:authorize_with</code> - If set to <code class="inline">:error</code>, instead of applying authorization filters as a filter, any records not matching the authorization filter will cause an error to be returned. The default value is <code class="inline">:filter</code>.</li><li><code class="inline">:read_action</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - The action to use when building the read query.</li><li><code class="inline">:assume_casted?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to cast attributes and arguments as input. This is an optimization for cases where the input is already casted and/or not in need of casting The default value is <code class="inline">false</code>.</li><li><code class="inline">:select</code> (list of <a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - A select statement to apply to records. Ignored if <code class="inline">return_records?</code> is not true.</li><li><code class="inline">:authorize_query_with</code> - If set to <code class="inline">:error</code>, instead of filtering unauthorized query results, unauthorized query results will raise an appropriate forbidden error. Uses <code class="inline">authorize_with</code> if not set.</li><li><code class="inline">:authorize_changeset_with</code> - If set to <code class="inline">:error</code>, instead of filtering unauthorized changes, unauthorized changes will raise an appropriate forbidden error. Uses <code class="inline">authorize_with</code> if not set.</li><li><code class="inline">:authorize_with</code> - If set to <code class="inline">:error</code>, instead of filtering unauthorized query results, unauthorized query results will raise an appropriate forbidden error. The default value is <code class="inline">:filter</code>.</li><li><code class="inline">:private_arguments</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">map/0</code></a>) - Private argument values to set on each changeset before validations and changes are run. The default value is <code class="inline">%{}</code>.</li><li><code class="inline">:sorted?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to sort results by their input position, in cases where <code class="inline">return_records?: true</code> was provided. The default value is <code class="inline">false</code>.</li><li><code class="inline">:return_records?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to return all of the records that were inserted. Defaults to false to account for large inserts. The default value is <code class="inline">false</code>.</li><li><code class="inline">:return_errors?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether to return all errors that occur during the operation. Defaults to the value of <code class="inline">:bulk_actions_default_to_errors?</code> in your config, or <code class="inline">false</code> if not set. Returning all errors may be expensive for large inserts. The default value is <code class="inline">false</code>.</li><li><code class="inline">:batch_size</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">pos_integer/0</code></a>) - The number of records to include in each batch. Defaults to the <code class="inline">default_limit</code>
or <code class="inline">max_page_size</code> of the action, or 100.</li><li><code class="inline">:return_stream?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If set to <code class="inline">true</code>, instead of an <a href="https://hexdocs.pm/ash/3.5.32/Ash.BulkResult.html"><code class="inline">Ash.BulkResult</code></a>, a mixed stream is returned.
Potential elements:
<code class="inline">{:notification, notification}</code> - if <code class="inline">return_notifications?</code> is set to <code class="inline">true</code>
<code class="inline">{:ok, record}</code> - if <code class="inline">return_records?</code> is set to <code class="inline">true</code>
<code class="inline">{:error, error}</code> - an error that occurred. May be changeset or an individual error.
The default value is <code class="inline">false</code>.</li><li><code class="inline">:return_nothing?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Mutes warnings about returning nothing.
Only relevant if <code class="inline">return_stream?</code> is set to <code class="inline">true</code> and all other
<code class="inline">return_*?</code> options are set to <code class="inline">false</code>.
The default value is <code class="inline">false</code>.</li><li><code class="inline">:stop_on_error?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If true, the first encountered error will stop the action and be returned. Otherwise, errors
will be skipped. The default value is <code class="inline">false</code>.</li><li><code class="inline">:notify?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to generate any notifications. If this is set to <code class="inline">true</code> then the data layer must return
the results from each batch. This may be intensive for large bulk actions.
Notifications will be automatically sent unless <code class="inline">return_notifications?</code> is set to <code class="inline">true</code>.
The default value is <code class="inline">false</code>.</li><li><code class="inline">:transaction</code> - Whether or not to wrap the entire execution in a transaction, each batch, or not at all.
Keep in mind:
<code class="inline">before_transaction</code> and <code class="inline">after_transaction</code> hooks attached to changesets will have to be run
<em>inside</em> the transaction if you choose <code class="inline">transaction: :all</code>.
The default value is <code class="inline">:batch</code>.</li><li><code class="inline">:max_concurrency</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">non_neg_integer/0</code></a>) - If set to a value greater than 0, up to that many tasks will be started to run batches asynchronously The default value is <code class="inline">0</code>.</li></ul></li><li><code class="inline">:private_arguments</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">map/0</code></a>) - Private argument values to set before validations and changes. The default value is <code class="inline">%{}</code>.</li></ul>
  </section>
</section>
<section class="detail" id="update_breach!/3">

    <span id="update_breach!/1"></span>

    <span id="update_breach!/2"></span>

  <div class="detail-header">
    <a href="#update_breach!/3" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">update_breach!(record, params \\ nil, opts \\ nil)</h1>


    </div>
  </div>

  <section class="docstring">

<p>Calls the update action on EhsEnforcement.Enforcement.Breach.
Raises any errors instead of returning them</p><h2 id="update_breach!/3-options" class="section-heading"><a href="#update_breach!/3-options" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Options</span></h2><ul><li><code class="inline">:params</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">map/0</code></a>) - Parameters to supply, ignored if the input is a changeset, only used when an identifier is given.</li><li><code class="inline">:atomic_upgrade?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If true the action will be done atomically if it can (and is configured to do so), ignoring the in memory transformations and validations. You should not generally need to disable this. The default value is <code class="inline">true</code>.</li><li><code class="inline">:timeout</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">timeout/0</code></a>) - A positive integer, or <code class="inline">:infinity</code>. If none is provided, the timeout configured on the domain is used.</li><li><code class="inline">:tracer</code> (one or a list of module that adopts <a href="https://hexdocs.pm/ash/3.5.32/Ash.Tracer.html"><code class="inline">Ash.Tracer</code></a>) - A tracer that implements the <a href="https://hexdocs.pm/ash/3.5.32/Ash.Tracer.html"><code class="inline">Ash.Tracer</code></a> behaviour. See that module for more.</li><li><code class="inline">:action</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - The action to use, either an Action struct or the name of the action</li><li><code class="inline">:authorize?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If an actor option is provided (even if it is <code class="inline">nil</code>), authorization happens automatically. If not, this flag can be used to authorize with no user.</li><li><code class="inline">:context</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">map/0</code></a>) - Context to set on the query, changeset, or input</li><li><code class="inline">:tenant</code> (value that implements the <a href="https://hexdocs.pm/ash/3.5.32/Ash.ToTenant.html"><code class="inline">Ash.ToTenant</code></a> protocol) - A tenant to set on the query or changeset</li><li><code class="inline">:actor</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - If an actor is provided, it will be used in conjunction with the authorizers of a resource to authorize access</li><li><code class="inline">:scope</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A value that implements the <a href="https://hexdocs.pm/ash/3.5.32/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> protocol, for passing around actor/tenant/context in a single value. See <a href="https://hexdocs.pm/ash/3.5.32/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> for more.</li><li><code class="inline">:return_notifications?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Use this if you're running ash actions in your own transaction and you want to manually handle sending notifications.<br/>If a transaction is ongoing, and this is false, notifications will be discarded, otherwise
the return value is <code class="inline">{:ok, result, notifications}</code> (or <code class="inline">{:ok, notifications}</code>)<br/>To send notifications later, use <code class="inline">Ash.Notifier.notify(notifications)</code>. It sends any notifications
that can be sent, and returns the rest. The default value is <code class="inline">false</code>.</li><li><code class="inline">:rollback_on_error?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to rollback the transaction on error, if the resource is in a transaction.<br/>If the action has <code class="inline">transaction? false</code> this option has no effect. If an error is returned from the
data layer and the resource is in a transaction, the transaction is always rolled back, regardless. The default value is <code class="inline">true</code>.</li><li><code class="inline">:notification_metadata</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - Metadata to be merged into the metadata field for all notifications sent from this operation. The default value is <code class="inline">%{}</code>.</li><li><code class="inline">:skip_unknown_inputs</code> - A list of inputs that, if provided, will be ignored if they are not recognized by the action. Use <code class="inline">:*</code> to indicate all unknown keys.</li><li><code class="inline">:load</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A load statement to add onto the changeset</li><li><code class="inline">:bulk_options</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">keyword/0</code></a>) - Options passed to <code class="inline">Ash.bulk_update</code>, if a query, list, or stream of inputs is provided.<ul><li><code class="inline">:atomic_update</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">map/0</code></a>) - A map of atomic updates to apply. See <a href="https://hexdocs.pm/ash/3.5.32/Ash.Changeset.html#atomic_update/3"><code class="inline">Ash.Changeset.atomic_update/3</code></a> for more.</li><li><code class="inline">:stream_batch_size</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">integer/0</code></a>) - Batch size to use if provided a query and the query must be streamed</li><li><code class="inline">:allow_stream_with</code> - The 'worst' strategy allowed to be used to fetch records if the <code class="inline">:stream</code> strategy is chosen. See the <a href="https://hexdocs.pm/ash/3.5.32/Ash.html#stream!/2"><code class="inline">Ash.stream!/2</code></a> docs for more. The default value is <code class="inline">:keyset</code>.</li><li><code class="inline">:authorize_query?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If a query is given, determines whether or not authorization is run on that query. The default value is <code class="inline">true</code>.</li><li><code class="inline">:select</code> (list of <a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - A select statement to apply to records. Ignored if <code class="inline">return_records?</code> is not true.</li><li><code class="inline">:filter</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A filter to apply to records. This is also applied to a stream of inputs.</li><li><code class="inline">:strategy</code> - The strategy or strategies to enable. :stream is used in all cases if the data layer does not support atomics. The default value is <code class="inline">[:atomic]</code>.</li><li><code class="inline">:allow_stream_with</code> - The 'worst' strategy allowed to be used to fetch records. See <a href="https://hexdocs.pm/ash/3.5.32/Ash.html#stream!/2"><code class="inline">Ash.stream!/2</code></a> docs for more. The default value is <code class="inline">:keyset</code>.</li><li><code class="inline">:stream_with</code> - The specific strategy to use to fetch records. See <a href="https://hexdocs.pm/ash/3.5.32/Ash.html#stream!/2"><code class="inline">Ash.stream!/2</code></a> docs for more.</li><li><code class="inline">:max_concurrency</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">non_neg_integer/0</code></a>) - The maximum number of processes allowed to be started for parallel loading of relationships and calculations. Defaults to <code class="inline">System.schedulers_online() * 2</code></li><li><code class="inline">:lock</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A lock statement to add onto the query</li><li><code class="inline">:return_query?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If <code class="inline">true</code>, the query that was ultimately used is returned as a third tuple element.
The query goes through many potential changes during a request, potentially adding
authorization filters, or replacing relationships for other data layers with their
corresponding ids. This option can be used to get the true query that was sent to
the data layer.
The default value is <code class="inline">false</code>.</li><li><code class="inline">:reuse_values?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether calculations are allowed to reuse values that have already been loaded, or must refetch them from the data layer. The default value is <code class="inline">false</code>.</li><li><code class="inline">:strict?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If set to true, only specified attributes will be loaded when passing
  a list of fields to fetch on a relationship, which allows for more
  optimized data-fetching.
  See <a href="https://hexdocs.pm/ash/3.5.32/Ash.Query.html#load/2"><code class="inline">Ash.Query.load/2</code></a>.
The default value is <code class="inline">false</code>.</li><li><code class="inline">:authorize_with</code> - If set to <code class="inline">:error</code>, instead of applying authorization filters as a filter, any records not matching the authorization filter will cause an error to be returned. The default value is <code class="inline">:filter</code>.</li><li><code class="inline">:read_action</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - The action to use when building the read query.</li><li><code class="inline">:assume_casted?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to cast attributes and arguments as input. This is an optimization for cases where the input is already casted and/or not in need of casting The default value is <code class="inline">false</code>.</li><li><code class="inline">:select</code> (list of <a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - A select statement to apply to records. Ignored if <code class="inline">return_records?</code> is not true.</li><li><code class="inline">:authorize_query_with</code> - If set to <code class="inline">:error</code>, instead of filtering unauthorized query results, unauthorized query results will raise an appropriate forbidden error. Uses <code class="inline">authorize_with</code> if not set.</li><li><code class="inline">:authorize_changeset_with</code> - If set to <code class="inline">:error</code>, instead of filtering unauthorized changes, unauthorized changes will raise an appropriate forbidden error. Uses <code class="inline">authorize_with</code> if not set.</li><li><code class="inline">:authorize_with</code> - If set to <code class="inline">:error</code>, instead of filtering unauthorized query results, unauthorized query results will raise an appropriate forbidden error. The default value is <code class="inline">:filter</code>.</li><li><code class="inline">:private_arguments</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">map/0</code></a>) - Private argument values to set on each changeset before validations and changes are run. The default value is <code class="inline">%{}</code>.</li><li><code class="inline">:sorted?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to sort results by their input position, in cases where <code class="inline">return_records?: true</code> was provided. The default value is <code class="inline">false</code>.</li><li><code class="inline">:return_records?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to return all of the records that were inserted. Defaults to false to account for large inserts. The default value is <code class="inline">false</code>.</li><li><code class="inline">:return_errors?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether to return all errors that occur during the operation. Defaults to the value of <code class="inline">:bulk_actions_default_to_errors?</code> in your config, or <code class="inline">false</code> if not set. Returning all errors may be expensive for large inserts. The default value is <code class="inline">false</code>.</li><li><code class="inline">:batch_size</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">pos_integer/0</code></a>) - The number of records to include in each batch. Defaults to the <code class="inline">default_limit</code>
or <code class="inline">max_page_size</code> of the action, or 100.</li><li><code class="inline">:return_stream?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If set to <code class="inline">true</code>, instead of an <a href="https://hexdocs.pm/ash/3.5.32/Ash.BulkResult.html"><code class="inline">Ash.BulkResult</code></a>, a mixed stream is returned.
Potential elements:
<code class="inline">{:notification, notification}</code> - if <code class="inline">return_notifications?</code> is set to <code class="inline">true</code>
<code class="inline">{:ok, record}</code> - if <code class="inline">return_records?</code> is set to <code class="inline">true</code>
<code class="inline">{:error, error}</code> - an error that occurred. May be changeset or an individual error.
The default value is <code class="inline">false</code>.</li><li><code class="inline">:return_nothing?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Mutes warnings about returning nothing.
Only relevant if <code class="inline">return_stream?</code> is set to <code class="inline">true</code> and all other
<code class="inline">return_*?</code> options are set to <code class="inline">false</code>.
The default value is <code class="inline">false</code>.</li><li><code class="inline">:stop_on_error?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If true, the first encountered error will stop the action and be returned. Otherwise, errors
will be skipped. The default value is <code class="inline">false</code>.</li><li><code class="inline">:notify?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to generate any notifications. If this is set to <code class="inline">true</code> then the data layer must return
the results from each batch. This may be intensive for large bulk actions.
Notifications will be automatically sent unless <code class="inline">return_notifications?</code> is set to <code class="inline">true</code>.
The default value is <code class="inline">false</code>.</li><li><code class="inline">:transaction</code> - Whether or not to wrap the entire execution in a transaction, each batch, or not at all.
Keep in mind:
<code class="inline">before_transaction</code> and <code class="inline">after_transaction</code> hooks attached to changesets will have to be run
<em>inside</em> the transaction if you choose <code class="inline">transaction: :all</code>.
The default value is <code class="inline">:batch</code>.</li><li><code class="inline">:max_concurrency</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">non_neg_integer/0</code></a>) - If set to a value greater than 0, up to that many tasks will be started to run batches asynchronously The default value is <code class="inline">0</code>.</li></ul></li><li><code class="inline">:private_arguments</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">map/0</code></a>) - Private argument values to set before validations and changes. The default value is <code class="inline">%{}</code>.</li></ul>
  </section>
</section>
<section class="detail" id="update_case/3">

    <span id="update_case/1"></span>

    <span id="update_case/2"></span>

  <div class="detail-header">
    <a href="#update_case/3" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">update_case(record, params \\ nil, opts \\ nil)</h1>


    </div>
  </div>

  <section class="docstring">

<p>Calls the update action on EhsEnforcement.Enforcement.Case.</p><h2 id="update_case/3-options" class="section-heading"><a href="#update_case/3-options" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Options</span></h2><ul><li><code class="inline">:params</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">map/0</code></a>) - Parameters to supply, ignored if the input is a changeset, only used when an identifier is given.</li><li><code class="inline">:atomic_upgrade?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If true the action will be done atomically if it can (and is configured to do so), ignoring the in memory transformations and validations. You should not generally need to disable this. The default value is <code class="inline">true</code>.</li><li><code class="inline">:timeout</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">timeout/0</code></a>) - A positive integer, or <code class="inline">:infinity</code>. If none is provided, the timeout configured on the domain is used.</li><li><code class="inline">:tracer</code> (one or a list of module that adopts <a href="https://hexdocs.pm/ash/3.5.32/Ash.Tracer.html"><code class="inline">Ash.Tracer</code></a>) - A tracer that implements the <a href="https://hexdocs.pm/ash/3.5.32/Ash.Tracer.html"><code class="inline">Ash.Tracer</code></a> behaviour. See that module for more.</li><li><code class="inline">:action</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - The action to use, either an Action struct or the name of the action</li><li><code class="inline">:authorize?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If an actor option is provided (even if it is <code class="inline">nil</code>), authorization happens automatically. If not, this flag can be used to authorize with no user.</li><li><code class="inline">:context</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">map/0</code></a>) - Context to set on the query, changeset, or input</li><li><code class="inline">:tenant</code> (value that implements the <a href="https://hexdocs.pm/ash/3.5.32/Ash.ToTenant.html"><code class="inline">Ash.ToTenant</code></a> protocol) - A tenant to set on the query or changeset</li><li><code class="inline">:actor</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - If an actor is provided, it will be used in conjunction with the authorizers of a resource to authorize access</li><li><code class="inline">:scope</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A value that implements the <a href="https://hexdocs.pm/ash/3.5.32/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> protocol, for passing around actor/tenant/context in a single value. See <a href="https://hexdocs.pm/ash/3.5.32/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> for more.</li><li><code class="inline">:return_notifications?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Use this if you're running ash actions in your own transaction and you want to manually handle sending notifications.<br/>If a transaction is ongoing, and this is false, notifications will be discarded, otherwise
the return value is <code class="inline">{:ok, result, notifications}</code> (or <code class="inline">{:ok, notifications}</code>)<br/>To send notifications later, use <code class="inline">Ash.Notifier.notify(notifications)</code>. It sends any notifications
that can be sent, and returns the rest. The default value is <code class="inline">false</code>.</li><li><code class="inline">:rollback_on_error?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to rollback the transaction on error, if the resource is in a transaction.<br/>If the action has <code class="inline">transaction? false</code> this option has no effect. If an error is returned from the
data layer and the resource is in a transaction, the transaction is always rolled back, regardless. The default value is <code class="inline">true</code>.</li><li><code class="inline">:notification_metadata</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - Metadata to be merged into the metadata field for all notifications sent from this operation. The default value is <code class="inline">%{}</code>.</li><li><code class="inline">:skip_unknown_inputs</code> - A list of inputs that, if provided, will be ignored if they are not recognized by the action. Use <code class="inline">:*</code> to indicate all unknown keys.</li><li><code class="inline">:load</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A load statement to add onto the changeset</li><li><code class="inline">:bulk_options</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">keyword/0</code></a>) - Options passed to <code class="inline">Ash.bulk_update</code>, if a query, list, or stream of inputs is provided.<ul><li><code class="inline">:atomic_update</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">map/0</code></a>) - A map of atomic updates to apply. See <a href="https://hexdocs.pm/ash/3.5.32/Ash.Changeset.html#atomic_update/3"><code class="inline">Ash.Changeset.atomic_update/3</code></a> for more.</li><li><code class="inline">:stream_batch_size</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">integer/0</code></a>) - Batch size to use if provided a query and the query must be streamed</li><li><code class="inline">:allow_stream_with</code> - The 'worst' strategy allowed to be used to fetch records if the <code class="inline">:stream</code> strategy is chosen. See the <a href="https://hexdocs.pm/ash/3.5.32/Ash.html#stream!/2"><code class="inline">Ash.stream!/2</code></a> docs for more. The default value is <code class="inline">:keyset</code>.</li><li><code class="inline">:authorize_query?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If a query is given, determines whether or not authorization is run on that query. The default value is <code class="inline">true</code>.</li><li><code class="inline">:select</code> (list of <a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - A select statement to apply to records. Ignored if <code class="inline">return_records?</code> is not true.</li><li><code class="inline">:filter</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A filter to apply to records. This is also applied to a stream of inputs.</li><li><code class="inline">:strategy</code> - The strategy or strategies to enable. :stream is used in all cases if the data layer does not support atomics. The default value is <code class="inline">[:atomic]</code>.</li><li><code class="inline">:allow_stream_with</code> - The 'worst' strategy allowed to be used to fetch records. See <a href="https://hexdocs.pm/ash/3.5.32/Ash.html#stream!/2"><code class="inline">Ash.stream!/2</code></a> docs for more. The default value is <code class="inline">:keyset</code>.</li><li><code class="inline">:stream_with</code> - The specific strategy to use to fetch records. See <a href="https://hexdocs.pm/ash/3.5.32/Ash.html#stream!/2"><code class="inline">Ash.stream!/2</code></a> docs for more.</li><li><code class="inline">:max_concurrency</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">non_neg_integer/0</code></a>) - The maximum number of processes allowed to be started for parallel loading of relationships and calculations. Defaults to <code class="inline">System.schedulers_online() * 2</code></li><li><code class="inline">:lock</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A lock statement to add onto the query</li><li><code class="inline">:return_query?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If <code class="inline">true</code>, the query that was ultimately used is returned as a third tuple element.
The query goes through many potential changes during a request, potentially adding
authorization filters, or replacing relationships for other data layers with their
corresponding ids. This option can be used to get the true query that was sent to
the data layer.
The default value is <code class="inline">false</code>.</li><li><code class="inline">:reuse_values?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether calculations are allowed to reuse values that have already been loaded, or must refetch them from the data layer. The default value is <code class="inline">false</code>.</li><li><code class="inline">:strict?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If set to true, only specified attributes will be loaded when passing
  a list of fields to fetch on a relationship, which allows for more
  optimized data-fetching.
  See <a href="https://hexdocs.pm/ash/3.5.32/Ash.Query.html#load/2"><code class="inline">Ash.Query.load/2</code></a>.
The default value is <code class="inline">false</code>.</li><li><code class="inline">:authorize_with</code> - If set to <code class="inline">:error</code>, instead of applying authorization filters as a filter, any records not matching the authorization filter will cause an error to be returned. The default value is <code class="inline">:filter</code>.</li><li><code class="inline">:read_action</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - The action to use when building the read query.</li><li><code class="inline">:assume_casted?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to cast attributes and arguments as input. This is an optimization for cases where the input is already casted and/or not in need of casting The default value is <code class="inline">false</code>.</li><li><code class="inline">:select</code> (list of <a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - A select statement to apply to records. Ignored if <code class="inline">return_records?</code> is not true.</li><li><code class="inline">:authorize_query_with</code> - If set to <code class="inline">:error</code>, instead of filtering unauthorized query results, unauthorized query results will raise an appropriate forbidden error. Uses <code class="inline">authorize_with</code> if not set.</li><li><code class="inline">:authorize_changeset_with</code> - If set to <code class="inline">:error</code>, instead of filtering unauthorized changes, unauthorized changes will raise an appropriate forbidden error. Uses <code class="inline">authorize_with</code> if not set.</li><li><code class="inline">:authorize_with</code> - If set to <code class="inline">:error</code>, instead of filtering unauthorized query results, unauthorized query results will raise an appropriate forbidden error. The default value is <code class="inline">:filter</code>.</li><li><code class="inline">:private_arguments</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">map/0</code></a>) - Private argument values to set on each changeset before validations and changes are run. The default value is <code class="inline">%{}</code>.</li><li><code class="inline">:sorted?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to sort results by their input position, in cases where <code class="inline">return_records?: true</code> was provided. The default value is <code class="inline">false</code>.</li><li><code class="inline">:return_records?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to return all of the records that were inserted. Defaults to false to account for large inserts. The default value is <code class="inline">false</code>.</li><li><code class="inline">:return_errors?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether to return all errors that occur during the operation. Defaults to the value of <code class="inline">:bulk_actions_default_to_errors?</code> in your config, or <code class="inline">false</code> if not set. Returning all errors may be expensive for large inserts. The default value is <code class="inline">false</code>.</li><li><code class="inline">:batch_size</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">pos_integer/0</code></a>) - The number of records to include in each batch. Defaults to the <code class="inline">default_limit</code>
or <code class="inline">max_page_size</code> of the action, or 100.</li><li><code class="inline">:return_stream?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If set to <code class="inline">true</code>, instead of an <a href="https://hexdocs.pm/ash/3.5.32/Ash.BulkResult.html"><code class="inline">Ash.BulkResult</code></a>, a mixed stream is returned.
Potential elements:
<code class="inline">{:notification, notification}</code> - if <code class="inline">return_notifications?</code> is set to <code class="inline">true</code>
<code class="inline">{:ok, record}</code> - if <code class="inline">return_records?</code> is set to <code class="inline">true</code>
<code class="inline">{:error, error}</code> - an error that occurred. May be changeset or an individual error.
The default value is <code class="inline">false</code>.</li><li><code class="inline">:return_nothing?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Mutes warnings about returning nothing.
Only relevant if <code class="inline">return_stream?</code> is set to <code class="inline">true</code> and all other
<code class="inline">return_*?</code> options are set to <code class="inline">false</code>.
The default value is <code class="inline">false</code>.</li><li><code class="inline">:stop_on_error?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If true, the first encountered error will stop the action and be returned. Otherwise, errors
will be skipped. The default value is <code class="inline">false</code>.</li><li><code class="inline">:notify?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to generate any notifications. If this is set to <code class="inline">true</code> then the data layer must return
the results from each batch. This may be intensive for large bulk actions.
Notifications will be automatically sent unless <code class="inline">return_notifications?</code> is set to <code class="inline">true</code>.
The default value is <code class="inline">false</code>.</li><li><code class="inline">:transaction</code> - Whether or not to wrap the entire execution in a transaction, each batch, or not at all.
Keep in mind:
<code class="inline">before_transaction</code> and <code class="inline">after_transaction</code> hooks attached to changesets will have to be run
<em>inside</em> the transaction if you choose <code class="inline">transaction: :all</code>.
The default value is <code class="inline">:batch</code>.</li><li><code class="inline">:max_concurrency</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">non_neg_integer/0</code></a>) - If set to a value greater than 0, up to that many tasks will be started to run batches asynchronously The default value is <code class="inline">0</code>.</li></ul></li><li><code class="inline">:private_arguments</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">map/0</code></a>) - Private argument values to set before validations and changes. The default value is <code class="inline">%{}</code>.</li></ul>
  </section>
</section>
<section class="detail" id="update_case!/3">

    <span id="update_case!/1"></span>

    <span id="update_case!/2"></span>

  <div class="detail-header">
    <a href="#update_case!/3" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">update_case!(record, params \\ nil, opts \\ nil)</h1>


    </div>
  </div>

  <section class="docstring">

<p>Calls the update action on EhsEnforcement.Enforcement.Case.
Raises any errors instead of returning them</p><h2 id="update_case!/3-options" class="section-heading"><a href="#update_case!/3-options" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Options</span></h2><ul><li><code class="inline">:params</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">map/0</code></a>) - Parameters to supply, ignored if the input is a changeset, only used when an identifier is given.</li><li><code class="inline">:atomic_upgrade?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If true the action will be done atomically if it can (and is configured to do so), ignoring the in memory transformations and validations. You should not generally need to disable this. The default value is <code class="inline">true</code>.</li><li><code class="inline">:timeout</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">timeout/0</code></a>) - A positive integer, or <code class="inline">:infinity</code>. If none is provided, the timeout configured on the domain is used.</li><li><code class="inline">:tracer</code> (one or a list of module that adopts <a href="https://hexdocs.pm/ash/3.5.32/Ash.Tracer.html"><code class="inline">Ash.Tracer</code></a>) - A tracer that implements the <a href="https://hexdocs.pm/ash/3.5.32/Ash.Tracer.html"><code class="inline">Ash.Tracer</code></a> behaviour. See that module for more.</li><li><code class="inline">:action</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - The action to use, either an Action struct or the name of the action</li><li><code class="inline">:authorize?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If an actor option is provided (even if it is <code class="inline">nil</code>), authorization happens automatically. If not, this flag can be used to authorize with no user.</li><li><code class="inline">:context</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">map/0</code></a>) - Context to set on the query, changeset, or input</li><li><code class="inline">:tenant</code> (value that implements the <a href="https://hexdocs.pm/ash/3.5.32/Ash.ToTenant.html"><code class="inline">Ash.ToTenant</code></a> protocol) - A tenant to set on the query or changeset</li><li><code class="inline">:actor</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - If an actor is provided, it will be used in conjunction with the authorizers of a resource to authorize access</li><li><code class="inline">:scope</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A value that implements the <a href="https://hexdocs.pm/ash/3.5.32/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> protocol, for passing around actor/tenant/context in a single value. See <a href="https://hexdocs.pm/ash/3.5.32/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> for more.</li><li><code class="inline">:return_notifications?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Use this if you're running ash actions in your own transaction and you want to manually handle sending notifications.<br/>If a transaction is ongoing, and this is false, notifications will be discarded, otherwise
the return value is <code class="inline">{:ok, result, notifications}</code> (or <code class="inline">{:ok, notifications}</code>)<br/>To send notifications later, use <code class="inline">Ash.Notifier.notify(notifications)</code>. It sends any notifications
that can be sent, and returns the rest. The default value is <code class="inline">false</code>.</li><li><code class="inline">:rollback_on_error?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to rollback the transaction on error, if the resource is in a transaction.<br/>If the action has <code class="inline">transaction? false</code> this option has no effect. If an error is returned from the
data layer and the resource is in a transaction, the transaction is always rolled back, regardless. The default value is <code class="inline">true</code>.</li><li><code class="inline">:notification_metadata</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - Metadata to be merged into the metadata field for all notifications sent from this operation. The default value is <code class="inline">%{}</code>.</li><li><code class="inline">:skip_unknown_inputs</code> - A list of inputs that, if provided, will be ignored if they are not recognized by the action. Use <code class="inline">:*</code> to indicate all unknown keys.</li><li><code class="inline">:load</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A load statement to add onto the changeset</li><li><code class="inline">:bulk_options</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">keyword/0</code></a>) - Options passed to <code class="inline">Ash.bulk_update</code>, if a query, list, or stream of inputs is provided.<ul><li><code class="inline">:atomic_update</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">map/0</code></a>) - A map of atomic updates to apply. See <a href="https://hexdocs.pm/ash/3.5.32/Ash.Changeset.html#atomic_update/3"><code class="inline">Ash.Changeset.atomic_update/3</code></a> for more.</li><li><code class="inline">:stream_batch_size</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">integer/0</code></a>) - Batch size to use if provided a query and the query must be streamed</li><li><code class="inline">:allow_stream_with</code> - The 'worst' strategy allowed to be used to fetch records if the <code class="inline">:stream</code> strategy is chosen. See the <a href="https://hexdocs.pm/ash/3.5.32/Ash.html#stream!/2"><code class="inline">Ash.stream!/2</code></a> docs for more. The default value is <code class="inline">:keyset</code>.</li><li><code class="inline">:authorize_query?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If a query is given, determines whether or not authorization is run on that query. The default value is <code class="inline">true</code>.</li><li><code class="inline">:select</code> (list of <a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - A select statement to apply to records. Ignored if <code class="inline">return_records?</code> is not true.</li><li><code class="inline">:filter</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A filter to apply to records. This is also applied to a stream of inputs.</li><li><code class="inline">:strategy</code> - The strategy or strategies to enable. :stream is used in all cases if the data layer does not support atomics. The default value is <code class="inline">[:atomic]</code>.</li><li><code class="inline">:allow_stream_with</code> - The 'worst' strategy allowed to be used to fetch records. See <a href="https://hexdocs.pm/ash/3.5.32/Ash.html#stream!/2"><code class="inline">Ash.stream!/2</code></a> docs for more. The default value is <code class="inline">:keyset</code>.</li><li><code class="inline">:stream_with</code> - The specific strategy to use to fetch records. See <a href="https://hexdocs.pm/ash/3.5.32/Ash.html#stream!/2"><code class="inline">Ash.stream!/2</code></a> docs for more.</li><li><code class="inline">:max_concurrency</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">non_neg_integer/0</code></a>) - The maximum number of processes allowed to be started for parallel loading of relationships and calculations. Defaults to <code class="inline">System.schedulers_online() * 2</code></li><li><code class="inline">:lock</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A lock statement to add onto the query</li><li><code class="inline">:return_query?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If <code class="inline">true</code>, the query that was ultimately used is returned as a third tuple element.
The query goes through many potential changes during a request, potentially adding
authorization filters, or replacing relationships for other data layers with their
corresponding ids. This option can be used to get the true query that was sent to
the data layer.
The default value is <code class="inline">false</code>.</li><li><code class="inline">:reuse_values?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether calculations are allowed to reuse values that have already been loaded, or must refetch them from the data layer. The default value is <code class="inline">false</code>.</li><li><code class="inline">:strict?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If set to true, only specified attributes will be loaded when passing
  a list of fields to fetch on a relationship, which allows for more
  optimized data-fetching.
  See <a href="https://hexdocs.pm/ash/3.5.32/Ash.Query.html#load/2"><code class="inline">Ash.Query.load/2</code></a>.
The default value is <code class="inline">false</code>.</li><li><code class="inline">:authorize_with</code> - If set to <code class="inline">:error</code>, instead of applying authorization filters as a filter, any records not matching the authorization filter will cause an error to be returned. The default value is <code class="inline">:filter</code>.</li><li><code class="inline">:read_action</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - The action to use when building the read query.</li><li><code class="inline">:assume_casted?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to cast attributes and arguments as input. This is an optimization for cases where the input is already casted and/or not in need of casting The default value is <code class="inline">false</code>.</li><li><code class="inline">:select</code> (list of <a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - A select statement to apply to records. Ignored if <code class="inline">return_records?</code> is not true.</li><li><code class="inline">:authorize_query_with</code> - If set to <code class="inline">:error</code>, instead of filtering unauthorized query results, unauthorized query results will raise an appropriate forbidden error. Uses <code class="inline">authorize_with</code> if not set.</li><li><code class="inline">:authorize_changeset_with</code> - If set to <code class="inline">:error</code>, instead of filtering unauthorized changes, unauthorized changes will raise an appropriate forbidden error. Uses <code class="inline">authorize_with</code> if not set.</li><li><code class="inline">:authorize_with</code> - If set to <code class="inline">:error</code>, instead of filtering unauthorized query results, unauthorized query results will raise an appropriate forbidden error. The default value is <code class="inline">:filter</code>.</li><li><code class="inline">:private_arguments</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">map/0</code></a>) - Private argument values to set on each changeset before validations and changes are run. The default value is <code class="inline">%{}</code>.</li><li><code class="inline">:sorted?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to sort results by their input position, in cases where <code class="inline">return_records?: true</code> was provided. The default value is <code class="inline">false</code>.</li><li><code class="inline">:return_records?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to return all of the records that were inserted. Defaults to false to account for large inserts. The default value is <code class="inline">false</code>.</li><li><code class="inline">:return_errors?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether to return all errors that occur during the operation. Defaults to the value of <code class="inline">:bulk_actions_default_to_errors?</code> in your config, or <code class="inline">false</code> if not set. Returning all errors may be expensive for large inserts. The default value is <code class="inline">false</code>.</li><li><code class="inline">:batch_size</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">pos_integer/0</code></a>) - The number of records to include in each batch. Defaults to the <code class="inline">default_limit</code>
or <code class="inline">max_page_size</code> of the action, or 100.</li><li><code class="inline">:return_stream?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If set to <code class="inline">true</code>, instead of an <a href="https://hexdocs.pm/ash/3.5.32/Ash.BulkResult.html"><code class="inline">Ash.BulkResult</code></a>, a mixed stream is returned.
Potential elements:
<code class="inline">{:notification, notification}</code> - if <code class="inline">return_notifications?</code> is set to <code class="inline">true</code>
<code class="inline">{:ok, record}</code> - if <code class="inline">return_records?</code> is set to <code class="inline">true</code>
<code class="inline">{:error, error}</code> - an error that occurred. May be changeset or an individual error.
The default value is <code class="inline">false</code>.</li><li><code class="inline">:return_nothing?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Mutes warnings about returning nothing.
Only relevant if <code class="inline">return_stream?</code> is set to <code class="inline">true</code> and all other
<code class="inline">return_*?</code> options are set to <code class="inline">false</code>.
The default value is <code class="inline">false</code>.</li><li><code class="inline">:stop_on_error?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If true, the first encountered error will stop the action and be returned. Otherwise, errors
will be skipped. The default value is <code class="inline">false</code>.</li><li><code class="inline">:notify?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to generate any notifications. If this is set to <code class="inline">true</code> then the data layer must return
the results from each batch. This may be intensive for large bulk actions.
Notifications will be automatically sent unless <code class="inline">return_notifications?</code> is set to <code class="inline">true</code>.
The default value is <code class="inline">false</code>.</li><li><code class="inline">:transaction</code> - Whether or not to wrap the entire execution in a transaction, each batch, or not at all.
Keep in mind:
<code class="inline">before_transaction</code> and <code class="inline">after_transaction</code> hooks attached to changesets will have to be run
<em>inside</em> the transaction if you choose <code class="inline">transaction: :all</code>.
The default value is <code class="inline">:batch</code>.</li><li><code class="inline">:max_concurrency</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">non_neg_integer/0</code></a>) - If set to a value greater than 0, up to that many tasks will be started to run batches asynchronously The default value is <code class="inline">0</code>.</li></ul></li><li><code class="inline">:private_arguments</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">map/0</code></a>) - Private argument values to set before validations and changes. The default value is <code class="inline">%{}</code>.</li></ul>
  </section>
</section>
<section class="detail" id="update_case_from_scraping/3">

    <span id="update_case_from_scraping/1"></span>

    <span id="update_case_from_scraping/2"></span>

  <div class="detail-header">
    <a href="#update_case_from_scraping/3" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">update_case_from_scraping(record, params \\ nil, opts \\ nil)</h1>


    </div>
  </div>

  <section class="docstring">

<p>Calls the update_from_scraping action on EhsEnforcement.Enforcement.Case.</p><h1>Inputs</h1><ul><li>url</li><li>offence_fine</li><li>offence_costs</li><li>offence_hearing_date</li><li>offence_result</li><li>related_cases</li></ul><h2 id="update_case_from_scraping/3-options" class="section-heading"><a href="#update_case_from_scraping/3-options" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Options</span></h2><ul><li><code class="inline">:params</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">map/0</code></a>) - Parameters to supply, ignored if the input is a changeset, only used when an identifier is given.</li><li><code class="inline">:atomic_upgrade?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If true the action will be done atomically if it can (and is configured to do so), ignoring the in memory transformations and validations. You should not generally need to disable this. The default value is <code class="inline">true</code>.</li><li><code class="inline">:timeout</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">timeout/0</code></a>) - A positive integer, or <code class="inline">:infinity</code>. If none is provided, the timeout configured on the domain is used.</li><li><code class="inline">:tracer</code> (one or a list of module that adopts <a href="https://hexdocs.pm/ash/3.5.32/Ash.Tracer.html"><code class="inline">Ash.Tracer</code></a>) - A tracer that implements the <a href="https://hexdocs.pm/ash/3.5.32/Ash.Tracer.html"><code class="inline">Ash.Tracer</code></a> behaviour. See that module for more.</li><li><code class="inline">:action</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - The action to use, either an Action struct or the name of the action</li><li><code class="inline">:authorize?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If an actor option is provided (even if it is <code class="inline">nil</code>), authorization happens automatically. If not, this flag can be used to authorize with no user.</li><li><code class="inline">:context</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">map/0</code></a>) - Context to set on the query, changeset, or input</li><li><code class="inline">:tenant</code> (value that implements the <a href="https://hexdocs.pm/ash/3.5.32/Ash.ToTenant.html"><code class="inline">Ash.ToTenant</code></a> protocol) - A tenant to set on the query or changeset</li><li><code class="inline">:actor</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - If an actor is provided, it will be used in conjunction with the authorizers of a resource to authorize access</li><li><code class="inline">:scope</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A value that implements the <a href="https://hexdocs.pm/ash/3.5.32/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> protocol, for passing around actor/tenant/context in a single value. See <a href="https://hexdocs.pm/ash/3.5.32/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> for more.</li><li><code class="inline">:return_notifications?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Use this if you're running ash actions in your own transaction and you want to manually handle sending notifications.<br/>If a transaction is ongoing, and this is false, notifications will be discarded, otherwise
the return value is <code class="inline">{:ok, result, notifications}</code> (or <code class="inline">{:ok, notifications}</code>)<br/>To send notifications later, use <code class="inline">Ash.Notifier.notify(notifications)</code>. It sends any notifications
that can be sent, and returns the rest. The default value is <code class="inline">false</code>.</li><li><code class="inline">:rollback_on_error?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to rollback the transaction on error, if the resource is in a transaction.<br/>If the action has <code class="inline">transaction? false</code> this option has no effect. If an error is returned from the
data layer and the resource is in a transaction, the transaction is always rolled back, regardless. The default value is <code class="inline">true</code>.</li><li><code class="inline">:notification_metadata</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - Metadata to be merged into the metadata field for all notifications sent from this operation. The default value is <code class="inline">%{}</code>.</li><li><code class="inline">:skip_unknown_inputs</code> - A list of inputs that, if provided, will be ignored if they are not recognized by the action. Use <code class="inline">:*</code> to indicate all unknown keys.</li><li><code class="inline">:load</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A load statement to add onto the changeset</li><li><code class="inline">:bulk_options</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">keyword/0</code></a>) - Options passed to <code class="inline">Ash.bulk_update</code>, if a query, list, or stream of inputs is provided.<ul><li><code class="inline">:atomic_update</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">map/0</code></a>) - A map of atomic updates to apply. See <a href="https://hexdocs.pm/ash/3.5.32/Ash.Changeset.html#atomic_update/3"><code class="inline">Ash.Changeset.atomic_update/3</code></a> for more.</li><li><code class="inline">:stream_batch_size</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">integer/0</code></a>) - Batch size to use if provided a query and the query must be streamed</li><li><code class="inline">:allow_stream_with</code> - The 'worst' strategy allowed to be used to fetch records if the <code class="inline">:stream</code> strategy is chosen. See the <a href="https://hexdocs.pm/ash/3.5.32/Ash.html#stream!/2"><code class="inline">Ash.stream!/2</code></a> docs for more. The default value is <code class="inline">:keyset</code>.</li><li><code class="inline">:authorize_query?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If a query is given, determines whether or not authorization is run on that query. The default value is <code class="inline">true</code>.</li><li><code class="inline">:select</code> (list of <a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - A select statement to apply to records. Ignored if <code class="inline">return_records?</code> is not true.</li><li><code class="inline">:filter</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A filter to apply to records. This is also applied to a stream of inputs.</li><li><code class="inline">:strategy</code> - The strategy or strategies to enable. :stream is used in all cases if the data layer does not support atomics. The default value is <code class="inline">[:atomic]</code>.</li><li><code class="inline">:allow_stream_with</code> - The 'worst' strategy allowed to be used to fetch records. See <a href="https://hexdocs.pm/ash/3.5.32/Ash.html#stream!/2"><code class="inline">Ash.stream!/2</code></a> docs for more. The default value is <code class="inline">:keyset</code>.</li><li><code class="inline">:stream_with</code> - The specific strategy to use to fetch records. See <a href="https://hexdocs.pm/ash/3.5.32/Ash.html#stream!/2"><code class="inline">Ash.stream!/2</code></a> docs for more.</li><li><code class="inline">:max_concurrency</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">non_neg_integer/0</code></a>) - The maximum number of processes allowed to be started for parallel loading of relationships and calculations. Defaults to <code class="inline">System.schedulers_online() * 2</code></li><li><code class="inline">:lock</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A lock statement to add onto the query</li><li><code class="inline">:return_query?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If <code class="inline">true</code>, the query that was ultimately used is returned as a third tuple element.
The query goes through many potential changes during a request, potentially adding
authorization filters, or replacing relationships for other data layers with their
corresponding ids. This option can be used to get the true query that was sent to
the data layer.
The default value is <code class="inline">false</code>.</li><li><code class="inline">:reuse_values?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether calculations are allowed to reuse values that have already been loaded, or must refetch them from the data layer. The default value is <code class="inline">false</code>.</li><li><code class="inline">:strict?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If set to true, only specified attributes will be loaded when passing
  a list of fields to fetch on a relationship, which allows for more
  optimized data-fetching.
  See <a href="https://hexdocs.pm/ash/3.5.32/Ash.Query.html#load/2"><code class="inline">Ash.Query.load/2</code></a>.
The default value is <code class="inline">false</code>.</li><li><code class="inline">:authorize_with</code> - If set to <code class="inline">:error</code>, instead of applying authorization filters as a filter, any records not matching the authorization filter will cause an error to be returned. The default value is <code class="inline">:filter</code>.</li><li><code class="inline">:read_action</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - The action to use when building the read query.</li><li><code class="inline">:assume_casted?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to cast attributes and arguments as input. This is an optimization for cases where the input is already casted and/or not in need of casting The default value is <code class="inline">false</code>.</li><li><code class="inline">:select</code> (list of <a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - A select statement to apply to records. Ignored if <code class="inline">return_records?</code> is not true.</li><li><code class="inline">:authorize_query_with</code> - If set to <code class="inline">:error</code>, instead of filtering unauthorized query results, unauthorized query results will raise an appropriate forbidden error. Uses <code class="inline">authorize_with</code> if not set.</li><li><code class="inline">:authorize_changeset_with</code> - If set to <code class="inline">:error</code>, instead of filtering unauthorized changes, unauthorized changes will raise an appropriate forbidden error. Uses <code class="inline">authorize_with</code> if not set.</li><li><code class="inline">:authorize_with</code> - If set to <code class="inline">:error</code>, instead of filtering unauthorized query results, unauthorized query results will raise an appropriate forbidden error. The default value is <code class="inline">:filter</code>.</li><li><code class="inline">:private_arguments</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">map/0</code></a>) - Private argument values to set on each changeset before validations and changes are run. The default value is <code class="inline">%{}</code>.</li><li><code class="inline">:sorted?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to sort results by their input position, in cases where <code class="inline">return_records?: true</code> was provided. The default value is <code class="inline">false</code>.</li><li><code class="inline">:return_records?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to return all of the records that were inserted. Defaults to false to account for large inserts. The default value is <code class="inline">false</code>.</li><li><code class="inline">:return_errors?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether to return all errors that occur during the operation. Defaults to the value of <code class="inline">:bulk_actions_default_to_errors?</code> in your config, or <code class="inline">false</code> if not set. Returning all errors may be expensive for large inserts. The default value is <code class="inline">false</code>.</li><li><code class="inline">:batch_size</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">pos_integer/0</code></a>) - The number of records to include in each batch. Defaults to the <code class="inline">default_limit</code>
or <code class="inline">max_page_size</code> of the action, or 100.</li><li><code class="inline">:return_stream?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If set to <code class="inline">true</code>, instead of an <a href="https://hexdocs.pm/ash/3.5.32/Ash.BulkResult.html"><code class="inline">Ash.BulkResult</code></a>, a mixed stream is returned.
Potential elements:
<code class="inline">{:notification, notification}</code> - if <code class="inline">return_notifications?</code> is set to <code class="inline">true</code>
<code class="inline">{:ok, record}</code> - if <code class="inline">return_records?</code> is set to <code class="inline">true</code>
<code class="inline">{:error, error}</code> - an error that occurred. May be changeset or an individual error.
The default value is <code class="inline">false</code>.</li><li><code class="inline">:return_nothing?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Mutes warnings about returning nothing.
Only relevant if <code class="inline">return_stream?</code> is set to <code class="inline">true</code> and all other
<code class="inline">return_*?</code> options are set to <code class="inline">false</code>.
The default value is <code class="inline">false</code>.</li><li><code class="inline">:stop_on_error?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If true, the first encountered error will stop the action and be returned. Otherwise, errors
will be skipped. The default value is <code class="inline">false</code>.</li><li><code class="inline">:notify?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to generate any notifications. If this is set to <code class="inline">true</code> then the data layer must return
the results from each batch. This may be intensive for large bulk actions.
Notifications will be automatically sent unless <code class="inline">return_notifications?</code> is set to <code class="inline">true</code>.
The default value is <code class="inline">false</code>.</li><li><code class="inline">:transaction</code> - Whether or not to wrap the entire execution in a transaction, each batch, or not at all.
Keep in mind:
<code class="inline">before_transaction</code> and <code class="inline">after_transaction</code> hooks attached to changesets will have to be run
<em>inside</em> the transaction if you choose <code class="inline">transaction: :all</code>.
The default value is <code class="inline">:batch</code>.</li><li><code class="inline">:max_concurrency</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">non_neg_integer/0</code></a>) - If set to a value greater than 0, up to that many tasks will be started to run batches asynchronously The default value is <code class="inline">0</code>.</li></ul></li><li><code class="inline">:private_arguments</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">map/0</code></a>) - Private argument values to set before validations and changes. The default value is <code class="inline">%{}</code>.</li></ul>
  </section>
</section>
<section class="detail" id="update_case_from_scraping!/3">

    <span id="update_case_from_scraping!/1"></span>

    <span id="update_case_from_scraping!/2"></span>

  <div class="detail-header">
    <a href="#update_case_from_scraping!/3" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">update_case_from_scraping!(record, params \\ nil, opts \\ nil)</h1>


    </div>
  </div>

  <section class="docstring">

<p>Calls the update_from_scraping action on EhsEnforcement.Enforcement.Case.
Raises any errors instead of returning them</p><h1>Inputs</h1><ul><li>url</li><li>offence_fine</li><li>offence_costs</li><li>offence_hearing_date</li><li>offence_result</li><li>related_cases</li></ul><h2 id="update_case_from_scraping!/3-options" class="section-heading"><a href="#update_case_from_scraping!/3-options" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Options</span></h2><ul><li><code class="inline">:params</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">map/0</code></a>) - Parameters to supply, ignored if the input is a changeset, only used when an identifier is given.</li><li><code class="inline">:atomic_upgrade?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If true the action will be done atomically if it can (and is configured to do so), ignoring the in memory transformations and validations. You should not generally need to disable this. The default value is <code class="inline">true</code>.</li><li><code class="inline">:timeout</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">timeout/0</code></a>) - A positive integer, or <code class="inline">:infinity</code>. If none is provided, the timeout configured on the domain is used.</li><li><code class="inline">:tracer</code> (one or a list of module that adopts <a href="https://hexdocs.pm/ash/3.5.32/Ash.Tracer.html"><code class="inline">Ash.Tracer</code></a>) - A tracer that implements the <a href="https://hexdocs.pm/ash/3.5.32/Ash.Tracer.html"><code class="inline">Ash.Tracer</code></a> behaviour. See that module for more.</li><li><code class="inline">:action</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - The action to use, either an Action struct or the name of the action</li><li><code class="inline">:authorize?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If an actor option is provided (even if it is <code class="inline">nil</code>), authorization happens automatically. If not, this flag can be used to authorize with no user.</li><li><code class="inline">:context</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">map/0</code></a>) - Context to set on the query, changeset, or input</li><li><code class="inline">:tenant</code> (value that implements the <a href="https://hexdocs.pm/ash/3.5.32/Ash.ToTenant.html"><code class="inline">Ash.ToTenant</code></a> protocol) - A tenant to set on the query or changeset</li><li><code class="inline">:actor</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - If an actor is provided, it will be used in conjunction with the authorizers of a resource to authorize access</li><li><code class="inline">:scope</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A value that implements the <a href="https://hexdocs.pm/ash/3.5.32/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> protocol, for passing around actor/tenant/context in a single value. See <a href="https://hexdocs.pm/ash/3.5.32/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> for more.</li><li><code class="inline">:return_notifications?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Use this if you're running ash actions in your own transaction and you want to manually handle sending notifications.<br/>If a transaction is ongoing, and this is false, notifications will be discarded, otherwise
the return value is <code class="inline">{:ok, result, notifications}</code> (or <code class="inline">{:ok, notifications}</code>)<br/>To send notifications later, use <code class="inline">Ash.Notifier.notify(notifications)</code>. It sends any notifications
that can be sent, and returns the rest. The default value is <code class="inline">false</code>.</li><li><code class="inline">:rollback_on_error?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to rollback the transaction on error, if the resource is in a transaction.<br/>If the action has <code class="inline">transaction? false</code> this option has no effect. If an error is returned from the
data layer and the resource is in a transaction, the transaction is always rolled back, regardless. The default value is <code class="inline">true</code>.</li><li><code class="inline">:notification_metadata</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - Metadata to be merged into the metadata field for all notifications sent from this operation. The default value is <code class="inline">%{}</code>.</li><li><code class="inline">:skip_unknown_inputs</code> - A list of inputs that, if provided, will be ignored if they are not recognized by the action. Use <code class="inline">:*</code> to indicate all unknown keys.</li><li><code class="inline">:load</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A load statement to add onto the changeset</li><li><code class="inline">:bulk_options</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">keyword/0</code></a>) - Options passed to <code class="inline">Ash.bulk_update</code>, if a query, list, or stream of inputs is provided.<ul><li><code class="inline">:atomic_update</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">map/0</code></a>) - A map of atomic updates to apply. See <a href="https://hexdocs.pm/ash/3.5.32/Ash.Changeset.html#atomic_update/3"><code class="inline">Ash.Changeset.atomic_update/3</code></a> for more.</li><li><code class="inline">:stream_batch_size</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">integer/0</code></a>) - Batch size to use if provided a query and the query must be streamed</li><li><code class="inline">:allow_stream_with</code> - The 'worst' strategy allowed to be used to fetch records if the <code class="inline">:stream</code> strategy is chosen. See the <a href="https://hexdocs.pm/ash/3.5.32/Ash.html#stream!/2"><code class="inline">Ash.stream!/2</code></a> docs for more. The default value is <code class="inline">:keyset</code>.</li><li><code class="inline">:authorize_query?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If a query is given, determines whether or not authorization is run on that query. The default value is <code class="inline">true</code>.</li><li><code class="inline">:select</code> (list of <a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - A select statement to apply to records. Ignored if <code class="inline">return_records?</code> is not true.</li><li><code class="inline">:filter</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A filter to apply to records. This is also applied to a stream of inputs.</li><li><code class="inline">:strategy</code> - The strategy or strategies to enable. :stream is used in all cases if the data layer does not support atomics. The default value is <code class="inline">[:atomic]</code>.</li><li><code class="inline">:allow_stream_with</code> - The 'worst' strategy allowed to be used to fetch records. See <a href="https://hexdocs.pm/ash/3.5.32/Ash.html#stream!/2"><code class="inline">Ash.stream!/2</code></a> docs for more. The default value is <code class="inline">:keyset</code>.</li><li><code class="inline">:stream_with</code> - The specific strategy to use to fetch records. See <a href="https://hexdocs.pm/ash/3.5.32/Ash.html#stream!/2"><code class="inline">Ash.stream!/2</code></a> docs for more.</li><li><code class="inline">:max_concurrency</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">non_neg_integer/0</code></a>) - The maximum number of processes allowed to be started for parallel loading of relationships and calculations. Defaults to <code class="inline">System.schedulers_online() * 2</code></li><li><code class="inline">:lock</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A lock statement to add onto the query</li><li><code class="inline">:return_query?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If <code class="inline">true</code>, the query that was ultimately used is returned as a third tuple element.
The query goes through many potential changes during a request, potentially adding
authorization filters, or replacing relationships for other data layers with their
corresponding ids. This option can be used to get the true query that was sent to
the data layer.
The default value is <code class="inline">false</code>.</li><li><code class="inline">:reuse_values?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether calculations are allowed to reuse values that have already been loaded, or must refetch them from the data layer. The default value is <code class="inline">false</code>.</li><li><code class="inline">:strict?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If set to true, only specified attributes will be loaded when passing
  a list of fields to fetch on a relationship, which allows for more
  optimized data-fetching.
  See <a href="https://hexdocs.pm/ash/3.5.32/Ash.Query.html#load/2"><code class="inline">Ash.Query.load/2</code></a>.
The default value is <code class="inline">false</code>.</li><li><code class="inline">:authorize_with</code> - If set to <code class="inline">:error</code>, instead of applying authorization filters as a filter, any records not matching the authorization filter will cause an error to be returned. The default value is <code class="inline">:filter</code>.</li><li><code class="inline">:read_action</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - The action to use when building the read query.</li><li><code class="inline">:assume_casted?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to cast attributes and arguments as input. This is an optimization for cases where the input is already casted and/or not in need of casting The default value is <code class="inline">false</code>.</li><li><code class="inline">:select</code> (list of <a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - A select statement to apply to records. Ignored if <code class="inline">return_records?</code> is not true.</li><li><code class="inline">:authorize_query_with</code> - If set to <code class="inline">:error</code>, instead of filtering unauthorized query results, unauthorized query results will raise an appropriate forbidden error. Uses <code class="inline">authorize_with</code> if not set.</li><li><code class="inline">:authorize_changeset_with</code> - If set to <code class="inline">:error</code>, instead of filtering unauthorized changes, unauthorized changes will raise an appropriate forbidden error. Uses <code class="inline">authorize_with</code> if not set.</li><li><code class="inline">:authorize_with</code> - If set to <code class="inline">:error</code>, instead of filtering unauthorized query results, unauthorized query results will raise an appropriate forbidden error. The default value is <code class="inline">:filter</code>.</li><li><code class="inline">:private_arguments</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">map/0</code></a>) - Private argument values to set on each changeset before validations and changes are run. The default value is <code class="inline">%{}</code>.</li><li><code class="inline">:sorted?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to sort results by their input position, in cases where <code class="inline">return_records?: true</code> was provided. The default value is <code class="inline">false</code>.</li><li><code class="inline">:return_records?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to return all of the records that were inserted. Defaults to false to account for large inserts. The default value is <code class="inline">false</code>.</li><li><code class="inline">:return_errors?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether to return all errors that occur during the operation. Defaults to the value of <code class="inline">:bulk_actions_default_to_errors?</code> in your config, or <code class="inline">false</code> if not set. Returning all errors may be expensive for large inserts. The default value is <code class="inline">false</code>.</li><li><code class="inline">:batch_size</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">pos_integer/0</code></a>) - The number of records to include in each batch. Defaults to the <code class="inline">default_limit</code>
or <code class="inline">max_page_size</code> of the action, or 100.</li><li><code class="inline">:return_stream?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If set to <code class="inline">true</code>, instead of an <a href="https://hexdocs.pm/ash/3.5.32/Ash.BulkResult.html"><code class="inline">Ash.BulkResult</code></a>, a mixed stream is returned.
Potential elements:
<code class="inline">{:notification, notification}</code> - if <code class="inline">return_notifications?</code> is set to <code class="inline">true</code>
<code class="inline">{:ok, record}</code> - if <code class="inline">return_records?</code> is set to <code class="inline">true</code>
<code class="inline">{:error, error}</code> - an error that occurred. May be changeset or an individual error.
The default value is <code class="inline">false</code>.</li><li><code class="inline">:return_nothing?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Mutes warnings about returning nothing.
Only relevant if <code class="inline">return_stream?</code> is set to <code class="inline">true</code> and all other
<code class="inline">return_*?</code> options are set to <code class="inline">false</code>.
The default value is <code class="inline">false</code>.</li><li><code class="inline">:stop_on_error?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If true, the first encountered error will stop the action and be returned. Otherwise, errors
will be skipped. The default value is <code class="inline">false</code>.</li><li><code class="inline">:notify?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to generate any notifications. If this is set to <code class="inline">true</code> then the data layer must return
the results from each batch. This may be intensive for large bulk actions.
Notifications will be automatically sent unless <code class="inline">return_notifications?</code> is set to <code class="inline">true</code>.
The default value is <code class="inline">false</code>.</li><li><code class="inline">:transaction</code> - Whether or not to wrap the entire execution in a transaction, each batch, or not at all.
Keep in mind:
<code class="inline">before_transaction</code> and <code class="inline">after_transaction</code> hooks attached to changesets will have to be run
<em>inside</em> the transaction if you choose <code class="inline">transaction: :all</code>.
The default value is <code class="inline">:batch</code>.</li><li><code class="inline">:max_concurrency</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">non_neg_integer/0</code></a>) - If set to a value greater than 0, up to that many tasks will be started to run batches asynchronously The default value is <code class="inline">0</code>.</li></ul></li><li><code class="inline">:private_arguments</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">map/0</code></a>) - Private argument values to set before validations and changes. The default value is <code class="inline">%{}</code>.</li></ul>
  </section>
</section>
<section class="detail" id="update_notice/3">

    <span id="update_notice/1"></span>

    <span id="update_notice/2"></span>

  <div class="detail-header">
    <a href="#update_notice/3" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">update_notice(record, params \\ nil, opts \\ nil)</h1>


    </div>
  </div>

  <section class="docstring">

<p>Calls the update action on EhsEnforcement.Enforcement.Notice.</p><h2 id="update_notice/3-options" class="section-heading"><a href="#update_notice/3-options" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Options</span></h2><ul><li><code class="inline">:params</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">map/0</code></a>) - Parameters to supply, ignored if the input is a changeset, only used when an identifier is given.</li><li><code class="inline">:atomic_upgrade?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If true the action will be done atomically if it can (and is configured to do so), ignoring the in memory transformations and validations. You should not generally need to disable this. The default value is <code class="inline">true</code>.</li><li><code class="inline">:timeout</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">timeout/0</code></a>) - A positive integer, or <code class="inline">:infinity</code>. If none is provided, the timeout configured on the domain is used.</li><li><code class="inline">:tracer</code> (one or a list of module that adopts <a href="https://hexdocs.pm/ash/3.5.32/Ash.Tracer.html"><code class="inline">Ash.Tracer</code></a>) - A tracer that implements the <a href="https://hexdocs.pm/ash/3.5.32/Ash.Tracer.html"><code class="inline">Ash.Tracer</code></a> behaviour. See that module for more.</li><li><code class="inline">:action</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - The action to use, either an Action struct or the name of the action</li><li><code class="inline">:authorize?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If an actor option is provided (even if it is <code class="inline">nil</code>), authorization happens automatically. If not, this flag can be used to authorize with no user.</li><li><code class="inline">:context</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">map/0</code></a>) - Context to set on the query, changeset, or input</li><li><code class="inline">:tenant</code> (value that implements the <a href="https://hexdocs.pm/ash/3.5.32/Ash.ToTenant.html"><code class="inline">Ash.ToTenant</code></a> protocol) - A tenant to set on the query or changeset</li><li><code class="inline">:actor</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - If an actor is provided, it will be used in conjunction with the authorizers of a resource to authorize access</li><li><code class="inline">:scope</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A value that implements the <a href="https://hexdocs.pm/ash/3.5.32/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> protocol, for passing around actor/tenant/context in a single value. See <a href="https://hexdocs.pm/ash/3.5.32/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> for more.</li><li><code class="inline">:return_notifications?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Use this if you're running ash actions in your own transaction and you want to manually handle sending notifications.<br/>If a transaction is ongoing, and this is false, notifications will be discarded, otherwise
the return value is <code class="inline">{:ok, result, notifications}</code> (or <code class="inline">{:ok, notifications}</code>)<br/>To send notifications later, use <code class="inline">Ash.Notifier.notify(notifications)</code>. It sends any notifications
that can be sent, and returns the rest. The default value is <code class="inline">false</code>.</li><li><code class="inline">:rollback_on_error?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to rollback the transaction on error, if the resource is in a transaction.<br/>If the action has <code class="inline">transaction? false</code> this option has no effect. If an error is returned from the
data layer and the resource is in a transaction, the transaction is always rolled back, regardless. The default value is <code class="inline">true</code>.</li><li><code class="inline">:notification_metadata</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - Metadata to be merged into the metadata field for all notifications sent from this operation. The default value is <code class="inline">%{}</code>.</li><li><code class="inline">:skip_unknown_inputs</code> - A list of inputs that, if provided, will be ignored if they are not recognized by the action. Use <code class="inline">:*</code> to indicate all unknown keys.</li><li><code class="inline">:load</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A load statement to add onto the changeset</li><li><code class="inline">:bulk_options</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">keyword/0</code></a>) - Options passed to <code class="inline">Ash.bulk_update</code>, if a query, list, or stream of inputs is provided.<ul><li><code class="inline">:atomic_update</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">map/0</code></a>) - A map of atomic updates to apply. See <a href="https://hexdocs.pm/ash/3.5.32/Ash.Changeset.html#atomic_update/3"><code class="inline">Ash.Changeset.atomic_update/3</code></a> for more.</li><li><code class="inline">:stream_batch_size</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">integer/0</code></a>) - Batch size to use if provided a query and the query must be streamed</li><li><code class="inline">:allow_stream_with</code> - The 'worst' strategy allowed to be used to fetch records if the <code class="inline">:stream</code> strategy is chosen. See the <a href="https://hexdocs.pm/ash/3.5.32/Ash.html#stream!/2"><code class="inline">Ash.stream!/2</code></a> docs for more. The default value is <code class="inline">:keyset</code>.</li><li><code class="inline">:authorize_query?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If a query is given, determines whether or not authorization is run on that query. The default value is <code class="inline">true</code>.</li><li><code class="inline">:select</code> (list of <a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - A select statement to apply to records. Ignored if <code class="inline">return_records?</code> is not true.</li><li><code class="inline">:filter</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A filter to apply to records. This is also applied to a stream of inputs.</li><li><code class="inline">:strategy</code> - The strategy or strategies to enable. :stream is used in all cases if the data layer does not support atomics. The default value is <code class="inline">[:atomic]</code>.</li><li><code class="inline">:allow_stream_with</code> - The 'worst' strategy allowed to be used to fetch records. See <a href="https://hexdocs.pm/ash/3.5.32/Ash.html#stream!/2"><code class="inline">Ash.stream!/2</code></a> docs for more. The default value is <code class="inline">:keyset</code>.</li><li><code class="inline">:stream_with</code> - The specific strategy to use to fetch records. See <a href="https://hexdocs.pm/ash/3.5.32/Ash.html#stream!/2"><code class="inline">Ash.stream!/2</code></a> docs for more.</li><li><code class="inline">:max_concurrency</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">non_neg_integer/0</code></a>) - The maximum number of processes allowed to be started for parallel loading of relationships and calculations. Defaults to <code class="inline">System.schedulers_online() * 2</code></li><li><code class="inline">:lock</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A lock statement to add onto the query</li><li><code class="inline">:return_query?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If <code class="inline">true</code>, the query that was ultimately used is returned as a third tuple element.
The query goes through many potential changes during a request, potentially adding
authorization filters, or replacing relationships for other data layers with their
corresponding ids. This option can be used to get the true query that was sent to
the data layer.
The default value is <code class="inline">false</code>.</li><li><code class="inline">:reuse_values?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether calculations are allowed to reuse values that have already been loaded, or must refetch them from the data layer. The default value is <code class="inline">false</code>.</li><li><code class="inline">:strict?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If set to true, only specified attributes will be loaded when passing
  a list of fields to fetch on a relationship, which allows for more
  optimized data-fetching.
  See <a href="https://hexdocs.pm/ash/3.5.32/Ash.Query.html#load/2"><code class="inline">Ash.Query.load/2</code></a>.
The default value is <code class="inline">false</code>.</li><li><code class="inline">:authorize_with</code> - If set to <code class="inline">:error</code>, instead of applying authorization filters as a filter, any records not matching the authorization filter will cause an error to be returned. The default value is <code class="inline">:filter</code>.</li><li><code class="inline">:read_action</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - The action to use when building the read query.</li><li><code class="inline">:assume_casted?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to cast attributes and arguments as input. This is an optimization for cases where the input is already casted and/or not in need of casting The default value is <code class="inline">false</code>.</li><li><code class="inline">:select</code> (list of <a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - A select statement to apply to records. Ignored if <code class="inline">return_records?</code> is not true.</li><li><code class="inline">:authorize_query_with</code> - If set to <code class="inline">:error</code>, instead of filtering unauthorized query results, unauthorized query results will raise an appropriate forbidden error. Uses <code class="inline">authorize_with</code> if not set.</li><li><code class="inline">:authorize_changeset_with</code> - If set to <code class="inline">:error</code>, instead of filtering unauthorized changes, unauthorized changes will raise an appropriate forbidden error. Uses <code class="inline">authorize_with</code> if not set.</li><li><code class="inline">:authorize_with</code> - If set to <code class="inline">:error</code>, instead of filtering unauthorized query results, unauthorized query results will raise an appropriate forbidden error. The default value is <code class="inline">:filter</code>.</li><li><code class="inline">:private_arguments</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">map/0</code></a>) - Private argument values to set on each changeset before validations and changes are run. The default value is <code class="inline">%{}</code>.</li><li><code class="inline">:sorted?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to sort results by their input position, in cases where <code class="inline">return_records?: true</code> was provided. The default value is <code class="inline">false</code>.</li><li><code class="inline">:return_records?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to return all of the records that were inserted. Defaults to false to account for large inserts. The default value is <code class="inline">false</code>.</li><li><code class="inline">:return_errors?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether to return all errors that occur during the operation. Defaults to the value of <code class="inline">:bulk_actions_default_to_errors?</code> in your config, or <code class="inline">false</code> if not set. Returning all errors may be expensive for large inserts. The default value is <code class="inline">false</code>.</li><li><code class="inline">:batch_size</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">pos_integer/0</code></a>) - The number of records to include in each batch. Defaults to the <code class="inline">default_limit</code>
or <code class="inline">max_page_size</code> of the action, or 100.</li><li><code class="inline">:return_stream?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If set to <code class="inline">true</code>, instead of an <a href="https://hexdocs.pm/ash/3.5.32/Ash.BulkResult.html"><code class="inline">Ash.BulkResult</code></a>, a mixed stream is returned.
Potential elements:
<code class="inline">{:notification, notification}</code> - if <code class="inline">return_notifications?</code> is set to <code class="inline">true</code>
<code class="inline">{:ok, record}</code> - if <code class="inline">return_records?</code> is set to <code class="inline">true</code>
<code class="inline">{:error, error}</code> - an error that occurred. May be changeset or an individual error.
The default value is <code class="inline">false</code>.</li><li><code class="inline">:return_nothing?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Mutes warnings about returning nothing.
Only relevant if <code class="inline">return_stream?</code> is set to <code class="inline">true</code> and all other
<code class="inline">return_*?</code> options are set to <code class="inline">false</code>.
The default value is <code class="inline">false</code>.</li><li><code class="inline">:stop_on_error?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If true, the first encountered error will stop the action and be returned. Otherwise, errors
will be skipped. The default value is <code class="inline">false</code>.</li><li><code class="inline">:notify?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to generate any notifications. If this is set to <code class="inline">true</code> then the data layer must return
the results from each batch. This may be intensive for large bulk actions.
Notifications will be automatically sent unless <code class="inline">return_notifications?</code> is set to <code class="inline">true</code>.
The default value is <code class="inline">false</code>.</li><li><code class="inline">:transaction</code> - Whether or not to wrap the entire execution in a transaction, each batch, or not at all.
Keep in mind:
<code class="inline">before_transaction</code> and <code class="inline">after_transaction</code> hooks attached to changesets will have to be run
<em>inside</em> the transaction if you choose <code class="inline">transaction: :all</code>.
The default value is <code class="inline">:batch</code>.</li><li><code class="inline">:max_concurrency</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">non_neg_integer/0</code></a>) - If set to a value greater than 0, up to that many tasks will be started to run batches asynchronously The default value is <code class="inline">0</code>.</li></ul></li><li><code class="inline">:private_arguments</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">map/0</code></a>) - Private argument values to set before validations and changes. The default value is <code class="inline">%{}</code>.</li></ul>
  </section>
</section>
<section class="detail" id="update_notice!/3">

    <span id="update_notice!/1"></span>

    <span id="update_notice!/2"></span>

  <div class="detail-header">
    <a href="#update_notice!/3" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">update_notice!(record, params \\ nil, opts \\ nil)</h1>


    </div>
  </div>

  <section class="docstring">

<p>Calls the update action on EhsEnforcement.Enforcement.Notice.
Raises any errors instead of returning them</p><h2 id="update_notice!/3-options" class="section-heading"><a href="#update_notice!/3-options" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Options</span></h2><ul><li><code class="inline">:params</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">map/0</code></a>) - Parameters to supply, ignored if the input is a changeset, only used when an identifier is given.</li><li><code class="inline">:atomic_upgrade?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If true the action will be done atomically if it can (and is configured to do so), ignoring the in memory transformations and validations. You should not generally need to disable this. The default value is <code class="inline">true</code>.</li><li><code class="inline">:timeout</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">timeout/0</code></a>) - A positive integer, or <code class="inline">:infinity</code>. If none is provided, the timeout configured on the domain is used.</li><li><code class="inline">:tracer</code> (one or a list of module that adopts <a href="https://hexdocs.pm/ash/3.5.32/Ash.Tracer.html"><code class="inline">Ash.Tracer</code></a>) - A tracer that implements the <a href="https://hexdocs.pm/ash/3.5.32/Ash.Tracer.html"><code class="inline">Ash.Tracer</code></a> behaviour. See that module for more.</li><li><code class="inline">:action</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - The action to use, either an Action struct or the name of the action</li><li><code class="inline">:authorize?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If an actor option is provided (even if it is <code class="inline">nil</code>), authorization happens automatically. If not, this flag can be used to authorize with no user.</li><li><code class="inline">:context</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">map/0</code></a>) - Context to set on the query, changeset, or input</li><li><code class="inline">:tenant</code> (value that implements the <a href="https://hexdocs.pm/ash/3.5.32/Ash.ToTenant.html"><code class="inline">Ash.ToTenant</code></a> protocol) - A tenant to set on the query or changeset</li><li><code class="inline">:actor</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - If an actor is provided, it will be used in conjunction with the authorizers of a resource to authorize access</li><li><code class="inline">:scope</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A value that implements the <a href="https://hexdocs.pm/ash/3.5.32/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> protocol, for passing around actor/tenant/context in a single value. See <a href="https://hexdocs.pm/ash/3.5.32/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> for more.</li><li><code class="inline">:return_notifications?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Use this if you're running ash actions in your own transaction and you want to manually handle sending notifications.<br/>If a transaction is ongoing, and this is false, notifications will be discarded, otherwise
the return value is <code class="inline">{:ok, result, notifications}</code> (or <code class="inline">{:ok, notifications}</code>)<br/>To send notifications later, use <code class="inline">Ash.Notifier.notify(notifications)</code>. It sends any notifications
that can be sent, and returns the rest. The default value is <code class="inline">false</code>.</li><li><code class="inline">:rollback_on_error?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to rollback the transaction on error, if the resource is in a transaction.<br/>If the action has <code class="inline">transaction? false</code> this option has no effect. If an error is returned from the
data layer and the resource is in a transaction, the transaction is always rolled back, regardless. The default value is <code class="inline">true</code>.</li><li><code class="inline">:notification_metadata</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - Metadata to be merged into the metadata field for all notifications sent from this operation. The default value is <code class="inline">%{}</code>.</li><li><code class="inline">:skip_unknown_inputs</code> - A list of inputs that, if provided, will be ignored if they are not recognized by the action. Use <code class="inline">:*</code> to indicate all unknown keys.</li><li><code class="inline">:load</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A load statement to add onto the changeset</li><li><code class="inline">:bulk_options</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">keyword/0</code></a>) - Options passed to <code class="inline">Ash.bulk_update</code>, if a query, list, or stream of inputs is provided.<ul><li><code class="inline">:atomic_update</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">map/0</code></a>) - A map of atomic updates to apply. See <a href="https://hexdocs.pm/ash/3.5.32/Ash.Changeset.html#atomic_update/3"><code class="inline">Ash.Changeset.atomic_update/3</code></a> for more.</li><li><code class="inline">:stream_batch_size</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">integer/0</code></a>) - Batch size to use if provided a query and the query must be streamed</li><li><code class="inline">:allow_stream_with</code> - The 'worst' strategy allowed to be used to fetch records if the <code class="inline">:stream</code> strategy is chosen. See the <a href="https://hexdocs.pm/ash/3.5.32/Ash.html#stream!/2"><code class="inline">Ash.stream!/2</code></a> docs for more. The default value is <code class="inline">:keyset</code>.</li><li><code class="inline">:authorize_query?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If a query is given, determines whether or not authorization is run on that query. The default value is <code class="inline">true</code>.</li><li><code class="inline">:select</code> (list of <a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - A select statement to apply to records. Ignored if <code class="inline">return_records?</code> is not true.</li><li><code class="inline">:filter</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A filter to apply to records. This is also applied to a stream of inputs.</li><li><code class="inline">:strategy</code> - The strategy or strategies to enable. :stream is used in all cases if the data layer does not support atomics. The default value is <code class="inline">[:atomic]</code>.</li><li><code class="inline">:allow_stream_with</code> - The 'worst' strategy allowed to be used to fetch records. See <a href="https://hexdocs.pm/ash/3.5.32/Ash.html#stream!/2"><code class="inline">Ash.stream!/2</code></a> docs for more. The default value is <code class="inline">:keyset</code>.</li><li><code class="inline">:stream_with</code> - The specific strategy to use to fetch records. See <a href="https://hexdocs.pm/ash/3.5.32/Ash.html#stream!/2"><code class="inline">Ash.stream!/2</code></a> docs for more.</li><li><code class="inline">:max_concurrency</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">non_neg_integer/0</code></a>) - The maximum number of processes allowed to be started for parallel loading of relationships and calculations. Defaults to <code class="inline">System.schedulers_online() * 2</code></li><li><code class="inline">:lock</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A lock statement to add onto the query</li><li><code class="inline">:return_query?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If <code class="inline">true</code>, the query that was ultimately used is returned as a third tuple element.
The query goes through many potential changes during a request, potentially adding
authorization filters, or replacing relationships for other data layers with their
corresponding ids. This option can be used to get the true query that was sent to
the data layer.
The default value is <code class="inline">false</code>.</li><li><code class="inline">:reuse_values?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether calculations are allowed to reuse values that have already been loaded, or must refetch them from the data layer. The default value is <code class="inline">false</code>.</li><li><code class="inline">:strict?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If set to true, only specified attributes will be loaded when passing
  a list of fields to fetch on a relationship, which allows for more
  optimized data-fetching.
  See <a href="https://hexdocs.pm/ash/3.5.32/Ash.Query.html#load/2"><code class="inline">Ash.Query.load/2</code></a>.
The default value is <code class="inline">false</code>.</li><li><code class="inline">:authorize_with</code> - If set to <code class="inline">:error</code>, instead of applying authorization filters as a filter, any records not matching the authorization filter will cause an error to be returned. The default value is <code class="inline">:filter</code>.</li><li><code class="inline">:read_action</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - The action to use when building the read query.</li><li><code class="inline">:assume_casted?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to cast attributes and arguments as input. This is an optimization for cases where the input is already casted and/or not in need of casting The default value is <code class="inline">false</code>.</li><li><code class="inline">:select</code> (list of <a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - A select statement to apply to records. Ignored if <code class="inline">return_records?</code> is not true.</li><li><code class="inline">:authorize_query_with</code> - If set to <code class="inline">:error</code>, instead of filtering unauthorized query results, unauthorized query results will raise an appropriate forbidden error. Uses <code class="inline">authorize_with</code> if not set.</li><li><code class="inline">:authorize_changeset_with</code> - If set to <code class="inline">:error</code>, instead of filtering unauthorized changes, unauthorized changes will raise an appropriate forbidden error. Uses <code class="inline">authorize_with</code> if not set.</li><li><code class="inline">:authorize_with</code> - If set to <code class="inline">:error</code>, instead of filtering unauthorized query results, unauthorized query results will raise an appropriate forbidden error. The default value is <code class="inline">:filter</code>.</li><li><code class="inline">:private_arguments</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">map/0</code></a>) - Private argument values to set on each changeset before validations and changes are run. The default value is <code class="inline">%{}</code>.</li><li><code class="inline">:sorted?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to sort results by their input position, in cases where <code class="inline">return_records?: true</code> was provided. The default value is <code class="inline">false</code>.</li><li><code class="inline">:return_records?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to return all of the records that were inserted. Defaults to false to account for large inserts. The default value is <code class="inline">false</code>.</li><li><code class="inline">:return_errors?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether to return all errors that occur during the operation. Defaults to the value of <code class="inline">:bulk_actions_default_to_errors?</code> in your config, or <code class="inline">false</code> if not set. Returning all errors may be expensive for large inserts. The default value is <code class="inline">false</code>.</li><li><code class="inline">:batch_size</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">pos_integer/0</code></a>) - The number of records to include in each batch. Defaults to the <code class="inline">default_limit</code>
or <code class="inline">max_page_size</code> of the action, or 100.</li><li><code class="inline">:return_stream?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If set to <code class="inline">true</code>, instead of an <a href="https://hexdocs.pm/ash/3.5.32/Ash.BulkResult.html"><code class="inline">Ash.BulkResult</code></a>, a mixed stream is returned.
Potential elements:
<code class="inline">{:notification, notification}</code> - if <code class="inline">return_notifications?</code> is set to <code class="inline">true</code>
<code class="inline">{:ok, record}</code> - if <code class="inline">return_records?</code> is set to <code class="inline">true</code>
<code class="inline">{:error, error}</code> - an error that occurred. May be changeset or an individual error.
The default value is <code class="inline">false</code>.</li><li><code class="inline">:return_nothing?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Mutes warnings about returning nothing.
Only relevant if <code class="inline">return_stream?</code> is set to <code class="inline">true</code> and all other
<code class="inline">return_*?</code> options are set to <code class="inline">false</code>.
The default value is <code class="inline">false</code>.</li><li><code class="inline">:stop_on_error?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If true, the first encountered error will stop the action and be returned. Otherwise, errors
will be skipped. The default value is <code class="inline">false</code>.</li><li><code class="inline">:notify?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to generate any notifications. If this is set to <code class="inline">true</code> then the data layer must return
the results from each batch. This may be intensive for large bulk actions.
Notifications will be automatically sent unless <code class="inline">return_notifications?</code> is set to <code class="inline">true</code>.
The default value is <code class="inline">false</code>.</li><li><code class="inline">:transaction</code> - Whether or not to wrap the entire execution in a transaction, each batch, or not at all.
Keep in mind:
<code class="inline">before_transaction</code> and <code class="inline">after_transaction</code> hooks attached to changesets will have to be run
<em>inside</em> the transaction if you choose <code class="inline">transaction: :all</code>.
The default value is <code class="inline">:batch</code>.</li><li><code class="inline">:max_concurrency</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">non_neg_integer/0</code></a>) - If set to a value greater than 0, up to that many tasks will be started to run batches asynchronously The default value is <code class="inline">0</code>.</li></ul></li><li><code class="inline">:private_arguments</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">map/0</code></a>) - Private argument values to set before validations and changes. The default value is <code class="inline">%{}</code>.</li></ul>
  </section>
</section>
<section class="detail" id="update_offender/3">

    <span id="update_offender/1"></span>

    <span id="update_offender/2"></span>

  <div class="detail-header">
    <a href="#update_offender/3" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">update_offender(record, params \\ nil, opts \\ nil)</h1>


    </div>
  </div>

  <section class="docstring">

<p>Calls the update action on EhsEnforcement.Enforcement.Offender.</p><h1>Inputs</h1><ul><li>name</li><li>address</li><li>local_authority</li><li>main_activity</li><li>business_type</li><li>country</li><li>industry</li><li>sic_code</li></ul><h2 id="update_offender/3-options" class="section-heading"><a href="#update_offender/3-options" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Options</span></h2><ul><li><code class="inline">:params</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">map/0</code></a>) - Parameters to supply, ignored if the input is a changeset, only used when an identifier is given.</li><li><code class="inline">:atomic_upgrade?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If true the action will be done atomically if it can (and is configured to do so), ignoring the in memory transformations and validations. You should not generally need to disable this. The default value is <code class="inline">true</code>.</li><li><code class="inline">:timeout</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">timeout/0</code></a>) - A positive integer, or <code class="inline">:infinity</code>. If none is provided, the timeout configured on the domain is used.</li><li><code class="inline">:tracer</code> (one or a list of module that adopts <a href="https://hexdocs.pm/ash/3.5.32/Ash.Tracer.html"><code class="inline">Ash.Tracer</code></a>) - A tracer that implements the <a href="https://hexdocs.pm/ash/3.5.32/Ash.Tracer.html"><code class="inline">Ash.Tracer</code></a> behaviour. See that module for more.</li><li><code class="inline">:action</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - The action to use, either an Action struct or the name of the action</li><li><code class="inline">:authorize?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If an actor option is provided (even if it is <code class="inline">nil</code>), authorization happens automatically. If not, this flag can be used to authorize with no user.</li><li><code class="inline">:context</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">map/0</code></a>) - Context to set on the query, changeset, or input</li><li><code class="inline">:tenant</code> (value that implements the <a href="https://hexdocs.pm/ash/3.5.32/Ash.ToTenant.html"><code class="inline">Ash.ToTenant</code></a> protocol) - A tenant to set on the query or changeset</li><li><code class="inline">:actor</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - If an actor is provided, it will be used in conjunction with the authorizers of a resource to authorize access</li><li><code class="inline">:scope</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A value that implements the <a href="https://hexdocs.pm/ash/3.5.32/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> protocol, for passing around actor/tenant/context in a single value. See <a href="https://hexdocs.pm/ash/3.5.32/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> for more.</li><li><code class="inline">:return_notifications?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Use this if you're running ash actions in your own transaction and you want to manually handle sending notifications.<br/>If a transaction is ongoing, and this is false, notifications will be discarded, otherwise
the return value is <code class="inline">{:ok, result, notifications}</code> (or <code class="inline">{:ok, notifications}</code>)<br/>To send notifications later, use <code class="inline">Ash.Notifier.notify(notifications)</code>. It sends any notifications
that can be sent, and returns the rest. The default value is <code class="inline">false</code>.</li><li><code class="inline">:rollback_on_error?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to rollback the transaction on error, if the resource is in a transaction.<br/>If the action has <code class="inline">transaction? false</code> this option has no effect. If an error is returned from the
data layer and the resource is in a transaction, the transaction is always rolled back, regardless. The default value is <code class="inline">true</code>.</li><li><code class="inline">:notification_metadata</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - Metadata to be merged into the metadata field for all notifications sent from this operation. The default value is <code class="inline">%{}</code>.</li><li><code class="inline">:skip_unknown_inputs</code> - A list of inputs that, if provided, will be ignored if they are not recognized by the action. Use <code class="inline">:*</code> to indicate all unknown keys.</li><li><code class="inline">:load</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A load statement to add onto the changeset</li><li><code class="inline">:bulk_options</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">keyword/0</code></a>) - Options passed to <code class="inline">Ash.bulk_update</code>, if a query, list, or stream of inputs is provided.<ul><li><code class="inline">:atomic_update</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">map/0</code></a>) - A map of atomic updates to apply. See <a href="https://hexdocs.pm/ash/3.5.32/Ash.Changeset.html#atomic_update/3"><code class="inline">Ash.Changeset.atomic_update/3</code></a> for more.</li><li><code class="inline">:stream_batch_size</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">integer/0</code></a>) - Batch size to use if provided a query and the query must be streamed</li><li><code class="inline">:allow_stream_with</code> - The 'worst' strategy allowed to be used to fetch records if the <code class="inline">:stream</code> strategy is chosen. See the <a href="https://hexdocs.pm/ash/3.5.32/Ash.html#stream!/2"><code class="inline">Ash.stream!/2</code></a> docs for more. The default value is <code class="inline">:keyset</code>.</li><li><code class="inline">:authorize_query?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If a query is given, determines whether or not authorization is run on that query. The default value is <code class="inline">true</code>.</li><li><code class="inline">:select</code> (list of <a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - A select statement to apply to records. Ignored if <code class="inline">return_records?</code> is not true.</li><li><code class="inline">:filter</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A filter to apply to records. This is also applied to a stream of inputs.</li><li><code class="inline">:strategy</code> - The strategy or strategies to enable. :stream is used in all cases if the data layer does not support atomics. The default value is <code class="inline">[:atomic]</code>.</li><li><code class="inline">:allow_stream_with</code> - The 'worst' strategy allowed to be used to fetch records. See <a href="https://hexdocs.pm/ash/3.5.32/Ash.html#stream!/2"><code class="inline">Ash.stream!/2</code></a> docs for more. The default value is <code class="inline">:keyset</code>.</li><li><code class="inline">:stream_with</code> - The specific strategy to use to fetch records. See <a href="https://hexdocs.pm/ash/3.5.32/Ash.html#stream!/2"><code class="inline">Ash.stream!/2</code></a> docs for more.</li><li><code class="inline">:max_concurrency</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">non_neg_integer/0</code></a>) - The maximum number of processes allowed to be started for parallel loading of relationships and calculations. Defaults to <code class="inline">System.schedulers_online() * 2</code></li><li><code class="inline">:lock</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A lock statement to add onto the query</li><li><code class="inline">:return_query?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If <code class="inline">true</code>, the query that was ultimately used is returned as a third tuple element.
The query goes through many potential changes during a request, potentially adding
authorization filters, or replacing relationships for other data layers with their
corresponding ids. This option can be used to get the true query that was sent to
the data layer.
The default value is <code class="inline">false</code>.</li><li><code class="inline">:reuse_values?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether calculations are allowed to reuse values that have already been loaded, or must refetch them from the data layer. The default value is <code class="inline">false</code>.</li><li><code class="inline">:strict?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If set to true, only specified attributes will be loaded when passing
  a list of fields to fetch on a relationship, which allows for more
  optimized data-fetching.
  See <a href="https://hexdocs.pm/ash/3.5.32/Ash.Query.html#load/2"><code class="inline">Ash.Query.load/2</code></a>.
The default value is <code class="inline">false</code>.</li><li><code class="inline">:authorize_with</code> - If set to <code class="inline">:error</code>, instead of applying authorization filters as a filter, any records not matching the authorization filter will cause an error to be returned. The default value is <code class="inline">:filter</code>.</li><li><code class="inline">:read_action</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - The action to use when building the read query.</li><li><code class="inline">:assume_casted?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to cast attributes and arguments as input. This is an optimization for cases where the input is already casted and/or not in need of casting The default value is <code class="inline">false</code>.</li><li><code class="inline">:select</code> (list of <a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - A select statement to apply to records. Ignored if <code class="inline">return_records?</code> is not true.</li><li><code class="inline">:authorize_query_with</code> - If set to <code class="inline">:error</code>, instead of filtering unauthorized query results, unauthorized query results will raise an appropriate forbidden error. Uses <code class="inline">authorize_with</code> if not set.</li><li><code class="inline">:authorize_changeset_with</code> - If set to <code class="inline">:error</code>, instead of filtering unauthorized changes, unauthorized changes will raise an appropriate forbidden error. Uses <code class="inline">authorize_with</code> if not set.</li><li><code class="inline">:authorize_with</code> - If set to <code class="inline">:error</code>, instead of filtering unauthorized query results, unauthorized query results will raise an appropriate forbidden error. The default value is <code class="inline">:filter</code>.</li><li><code class="inline">:private_arguments</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">map/0</code></a>) - Private argument values to set on each changeset before validations and changes are run. The default value is <code class="inline">%{}</code>.</li><li><code class="inline">:sorted?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to sort results by their input position, in cases where <code class="inline">return_records?: true</code> was provided. The default value is <code class="inline">false</code>.</li><li><code class="inline">:return_records?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to return all of the records that were inserted. Defaults to false to account for large inserts. The default value is <code class="inline">false</code>.</li><li><code class="inline">:return_errors?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether to return all errors that occur during the operation. Defaults to the value of <code class="inline">:bulk_actions_default_to_errors?</code> in your config, or <code class="inline">false</code> if not set. Returning all errors may be expensive for large inserts. The default value is <code class="inline">false</code>.</li><li><code class="inline">:batch_size</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">pos_integer/0</code></a>) - The number of records to include in each batch. Defaults to the <code class="inline">default_limit</code>
or <code class="inline">max_page_size</code> of the action, or 100.</li><li><code class="inline">:return_stream?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If set to <code class="inline">true</code>, instead of an <a href="https://hexdocs.pm/ash/3.5.32/Ash.BulkResult.html"><code class="inline">Ash.BulkResult</code></a>, a mixed stream is returned.
Potential elements:
<code class="inline">{:notification, notification}</code> - if <code class="inline">return_notifications?</code> is set to <code class="inline">true</code>
<code class="inline">{:ok, record}</code> - if <code class="inline">return_records?</code> is set to <code class="inline">true</code>
<code class="inline">{:error, error}</code> - an error that occurred. May be changeset or an individual error.
The default value is <code class="inline">false</code>.</li><li><code class="inline">:return_nothing?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Mutes warnings about returning nothing.
Only relevant if <code class="inline">return_stream?</code> is set to <code class="inline">true</code> and all other
<code class="inline">return_*?</code> options are set to <code class="inline">false</code>.
The default value is <code class="inline">false</code>.</li><li><code class="inline">:stop_on_error?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If true, the first encountered error will stop the action and be returned. Otherwise, errors
will be skipped. The default value is <code class="inline">false</code>.</li><li><code class="inline">:notify?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to generate any notifications. If this is set to <code class="inline">true</code> then the data layer must return
the results from each batch. This may be intensive for large bulk actions.
Notifications will be automatically sent unless <code class="inline">return_notifications?</code> is set to <code class="inline">true</code>.
The default value is <code class="inline">false</code>.</li><li><code class="inline">:transaction</code> - Whether or not to wrap the entire execution in a transaction, each batch, or not at all.
Keep in mind:
<code class="inline">before_transaction</code> and <code class="inline">after_transaction</code> hooks attached to changesets will have to be run
<em>inside</em> the transaction if you choose <code class="inline">transaction: :all</code>.
The default value is <code class="inline">:batch</code>.</li><li><code class="inline">:max_concurrency</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">non_neg_integer/0</code></a>) - If set to a value greater than 0, up to that many tasks will be started to run batches asynchronously The default value is <code class="inline">0</code>.</li></ul></li><li><code class="inline">:private_arguments</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">map/0</code></a>) - Private argument values to set before validations and changes. The default value is <code class="inline">%{}</code>.</li></ul>
  </section>
</section>
<section class="detail" id="update_offender!/3">

    <span id="update_offender!/1"></span>

    <span id="update_offender!/2"></span>

  <div class="detail-header">
    <a href="#update_offender!/3" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">update_offender!(record, params \\ nil, opts \\ nil)</h1>


    </div>
  </div>

  <section class="docstring">

<p>Calls the update action on EhsEnforcement.Enforcement.Offender.
Raises any errors instead of returning them</p><h1>Inputs</h1><ul><li>name</li><li>address</li><li>local_authority</li><li>main_activity</li><li>business_type</li><li>country</li><li>industry</li><li>sic_code</li></ul><h2 id="update_offender!/3-options" class="section-heading"><a href="#update_offender!/3-options" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Options</span></h2><ul><li><code class="inline">:params</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">map/0</code></a>) - Parameters to supply, ignored if the input is a changeset, only used when an identifier is given.</li><li><code class="inline">:atomic_upgrade?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If true the action will be done atomically if it can (and is configured to do so), ignoring the in memory transformations and validations. You should not generally need to disable this. The default value is <code class="inline">true</code>.</li><li><code class="inline">:timeout</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">timeout/0</code></a>) - A positive integer, or <code class="inline">:infinity</code>. If none is provided, the timeout configured on the domain is used.</li><li><code class="inline">:tracer</code> (one or a list of module that adopts <a href="https://hexdocs.pm/ash/3.5.32/Ash.Tracer.html"><code class="inline">Ash.Tracer</code></a>) - A tracer that implements the <a href="https://hexdocs.pm/ash/3.5.32/Ash.Tracer.html"><code class="inline">Ash.Tracer</code></a> behaviour. See that module for more.</li><li><code class="inline">:action</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - The action to use, either an Action struct or the name of the action</li><li><code class="inline">:authorize?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If an actor option is provided (even if it is <code class="inline">nil</code>), authorization happens automatically. If not, this flag can be used to authorize with no user.</li><li><code class="inline">:context</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">map/0</code></a>) - Context to set on the query, changeset, or input</li><li><code class="inline">:tenant</code> (value that implements the <a href="https://hexdocs.pm/ash/3.5.32/Ash.ToTenant.html"><code class="inline">Ash.ToTenant</code></a> protocol) - A tenant to set on the query or changeset</li><li><code class="inline">:actor</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - If an actor is provided, it will be used in conjunction with the authorizers of a resource to authorize access</li><li><code class="inline">:scope</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A value that implements the <a href="https://hexdocs.pm/ash/3.5.32/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> protocol, for passing around actor/tenant/context in a single value. See <a href="https://hexdocs.pm/ash/3.5.32/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> for more.</li><li><code class="inline">:return_notifications?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Use this if you're running ash actions in your own transaction and you want to manually handle sending notifications.<br/>If a transaction is ongoing, and this is false, notifications will be discarded, otherwise
the return value is <code class="inline">{:ok, result, notifications}</code> (or <code class="inline">{:ok, notifications}</code>)<br/>To send notifications later, use <code class="inline">Ash.Notifier.notify(notifications)</code>. It sends any notifications
that can be sent, and returns the rest. The default value is <code class="inline">false</code>.</li><li><code class="inline">:rollback_on_error?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to rollback the transaction on error, if the resource is in a transaction.<br/>If the action has <code class="inline">transaction? false</code> this option has no effect. If an error is returned from the
data layer and the resource is in a transaction, the transaction is always rolled back, regardless. The default value is <code class="inline">true</code>.</li><li><code class="inline">:notification_metadata</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - Metadata to be merged into the metadata field for all notifications sent from this operation. The default value is <code class="inline">%{}</code>.</li><li><code class="inline">:skip_unknown_inputs</code> - A list of inputs that, if provided, will be ignored if they are not recognized by the action. Use <code class="inline">:*</code> to indicate all unknown keys.</li><li><code class="inline">:load</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A load statement to add onto the changeset</li><li><code class="inline">:bulk_options</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">keyword/0</code></a>) - Options passed to <code class="inline">Ash.bulk_update</code>, if a query, list, or stream of inputs is provided.<ul><li><code class="inline">:atomic_update</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">map/0</code></a>) - A map of atomic updates to apply. See <a href="https://hexdocs.pm/ash/3.5.32/Ash.Changeset.html#atomic_update/3"><code class="inline">Ash.Changeset.atomic_update/3</code></a> for more.</li><li><code class="inline">:stream_batch_size</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">integer/0</code></a>) - Batch size to use if provided a query and the query must be streamed</li><li><code class="inline">:allow_stream_with</code> - The 'worst' strategy allowed to be used to fetch records if the <code class="inline">:stream</code> strategy is chosen. See the <a href="https://hexdocs.pm/ash/3.5.32/Ash.html#stream!/2"><code class="inline">Ash.stream!/2</code></a> docs for more. The default value is <code class="inline">:keyset</code>.</li><li><code class="inline">:authorize_query?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If a query is given, determines whether or not authorization is run on that query. The default value is <code class="inline">true</code>.</li><li><code class="inline">:select</code> (list of <a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - A select statement to apply to records. Ignored if <code class="inline">return_records?</code> is not true.</li><li><code class="inline">:filter</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A filter to apply to records. This is also applied to a stream of inputs.</li><li><code class="inline">:strategy</code> - The strategy or strategies to enable. :stream is used in all cases if the data layer does not support atomics. The default value is <code class="inline">[:atomic]</code>.</li><li><code class="inline">:allow_stream_with</code> - The 'worst' strategy allowed to be used to fetch records. See <a href="https://hexdocs.pm/ash/3.5.32/Ash.html#stream!/2"><code class="inline">Ash.stream!/2</code></a> docs for more. The default value is <code class="inline">:keyset</code>.</li><li><code class="inline">:stream_with</code> - The specific strategy to use to fetch records. See <a href="https://hexdocs.pm/ash/3.5.32/Ash.html#stream!/2"><code class="inline">Ash.stream!/2</code></a> docs for more.</li><li><code class="inline">:max_concurrency</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">non_neg_integer/0</code></a>) - The maximum number of processes allowed to be started for parallel loading of relationships and calculations. Defaults to <code class="inline">System.schedulers_online() * 2</code></li><li><code class="inline">:lock</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A lock statement to add onto the query</li><li><code class="inline">:return_query?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If <code class="inline">true</code>, the query that was ultimately used is returned as a third tuple element.
The query goes through many potential changes during a request, potentially adding
authorization filters, or replacing relationships for other data layers with their
corresponding ids. This option can be used to get the true query that was sent to
the data layer.
The default value is <code class="inline">false</code>.</li><li><code class="inline">:reuse_values?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether calculations are allowed to reuse values that have already been loaded, or must refetch them from the data layer. The default value is <code class="inline">false</code>.</li><li><code class="inline">:strict?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If set to true, only specified attributes will be loaded when passing
  a list of fields to fetch on a relationship, which allows for more
  optimized data-fetching.
  See <a href="https://hexdocs.pm/ash/3.5.32/Ash.Query.html#load/2"><code class="inline">Ash.Query.load/2</code></a>.
The default value is <code class="inline">false</code>.</li><li><code class="inline">:authorize_with</code> - If set to <code class="inline">:error</code>, instead of applying authorization filters as a filter, any records not matching the authorization filter will cause an error to be returned. The default value is <code class="inline">:filter</code>.</li><li><code class="inline">:read_action</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - The action to use when building the read query.</li><li><code class="inline">:assume_casted?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to cast attributes and arguments as input. This is an optimization for cases where the input is already casted and/or not in need of casting The default value is <code class="inline">false</code>.</li><li><code class="inline">:select</code> (list of <a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - A select statement to apply to records. Ignored if <code class="inline">return_records?</code> is not true.</li><li><code class="inline">:authorize_query_with</code> - If set to <code class="inline">:error</code>, instead of filtering unauthorized query results, unauthorized query results will raise an appropriate forbidden error. Uses <code class="inline">authorize_with</code> if not set.</li><li><code class="inline">:authorize_changeset_with</code> - If set to <code class="inline">:error</code>, instead of filtering unauthorized changes, unauthorized changes will raise an appropriate forbidden error. Uses <code class="inline">authorize_with</code> if not set.</li><li><code class="inline">:authorize_with</code> - If set to <code class="inline">:error</code>, instead of filtering unauthorized query results, unauthorized query results will raise an appropriate forbidden error. The default value is <code class="inline">:filter</code>.</li><li><code class="inline">:private_arguments</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">map/0</code></a>) - Private argument values to set on each changeset before validations and changes are run. The default value is <code class="inline">%{}</code>.</li><li><code class="inline">:sorted?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to sort results by their input position, in cases where <code class="inline">return_records?: true</code> was provided. The default value is <code class="inline">false</code>.</li><li><code class="inline">:return_records?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to return all of the records that were inserted. Defaults to false to account for large inserts. The default value is <code class="inline">false</code>.</li><li><code class="inline">:return_errors?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether to return all errors that occur during the operation. Defaults to the value of <code class="inline">:bulk_actions_default_to_errors?</code> in your config, or <code class="inline">false</code> if not set. Returning all errors may be expensive for large inserts. The default value is <code class="inline">false</code>.</li><li><code class="inline">:batch_size</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">pos_integer/0</code></a>) - The number of records to include in each batch. Defaults to the <code class="inline">default_limit</code>
or <code class="inline">max_page_size</code> of the action, or 100.</li><li><code class="inline">:return_stream?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If set to <code class="inline">true</code>, instead of an <a href="https://hexdocs.pm/ash/3.5.32/Ash.BulkResult.html"><code class="inline">Ash.BulkResult</code></a>, a mixed stream is returned.
Potential elements:
<code class="inline">{:notification, notification}</code> - if <code class="inline">return_notifications?</code> is set to <code class="inline">true</code>
<code class="inline">{:ok, record}</code> - if <code class="inline">return_records?</code> is set to <code class="inline">true</code>
<code class="inline">{:error, error}</code> - an error that occurred. May be changeset or an individual error.
The default value is <code class="inline">false</code>.</li><li><code class="inline">:return_nothing?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Mutes warnings about returning nothing.
Only relevant if <code class="inline">return_stream?</code> is set to <code class="inline">true</code> and all other
<code class="inline">return_*?</code> options are set to <code class="inline">false</code>.
The default value is <code class="inline">false</code>.</li><li><code class="inline">:stop_on_error?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If true, the first encountered error will stop the action and be returned. Otherwise, errors
will be skipped. The default value is <code class="inline">false</code>.</li><li><code class="inline">:notify?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to generate any notifications. If this is set to <code class="inline">true</code> then the data layer must return
the results from each batch. This may be intensive for large bulk actions.
Notifications will be automatically sent unless <code class="inline">return_notifications?</code> is set to <code class="inline">true</code>.
The default value is <code class="inline">false</code>.</li><li><code class="inline">:transaction</code> - Whether or not to wrap the entire execution in a transaction, each batch, or not at all.
Keep in mind:
<code class="inline">before_transaction</code> and <code class="inline">after_transaction</code> hooks attached to changesets will have to be run
<em>inside</em> the transaction if you choose <code class="inline">transaction: :all</code>.
The default value is <code class="inline">:batch</code>.</li><li><code class="inline">:max_concurrency</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">non_neg_integer/0</code></a>) - If set to a value greater than 0, up to that many tasks will be started to run batches asynchronously The default value is <code class="inline">0</code>.</li></ul></li><li><code class="inline">:private_arguments</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">map/0</code></a>) - Private argument values to set before validations and changes. The default value is <code class="inline">%{}</code>.</li></ul>
  </section>
</section>
<section class="detail" id="update_offender_statistics/3">

    <span id="update_offender_statistics/1"></span>

    <span id="update_offender_statistics/2"></span>

  <div class="detail-header">
    <a href="#update_offender_statistics/3" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">update_offender_statistics(record, params \\ nil, opts \\ nil)</h1>


    </div>
  </div>

  <section class="docstring">

<p>Calls the update_statistics action on EhsEnforcement.Enforcement.Offender.</p><h1>Inputs</h1><ul><li>fine_amount</li></ul><h2 id="update_offender_statistics/3-options" class="section-heading"><a href="#update_offender_statistics/3-options" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Options</span></h2><ul><li><code class="inline">:params</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">map/0</code></a>) - Parameters to supply, ignored if the input is a changeset, only used when an identifier is given.</li><li><code class="inline">:atomic_upgrade?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If true the action will be done atomically if it can (and is configured to do so), ignoring the in memory transformations and validations. You should not generally need to disable this. The default value is <code class="inline">true</code>.</li><li><code class="inline">:timeout</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">timeout/0</code></a>) - A positive integer, or <code class="inline">:infinity</code>. If none is provided, the timeout configured on the domain is used.</li><li><code class="inline">:tracer</code> (one or a list of module that adopts <a href="https://hexdocs.pm/ash/3.5.32/Ash.Tracer.html"><code class="inline">Ash.Tracer</code></a>) - A tracer that implements the <a href="https://hexdocs.pm/ash/3.5.32/Ash.Tracer.html"><code class="inline">Ash.Tracer</code></a> behaviour. See that module for more.</li><li><code class="inline">:action</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - The action to use, either an Action struct or the name of the action</li><li><code class="inline">:authorize?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If an actor option is provided (even if it is <code class="inline">nil</code>), authorization happens automatically. If not, this flag can be used to authorize with no user.</li><li><code class="inline">:context</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">map/0</code></a>) - Context to set on the query, changeset, or input</li><li><code class="inline">:tenant</code> (value that implements the <a href="https://hexdocs.pm/ash/3.5.32/Ash.ToTenant.html"><code class="inline">Ash.ToTenant</code></a> protocol) - A tenant to set on the query or changeset</li><li><code class="inline">:actor</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - If an actor is provided, it will be used in conjunction with the authorizers of a resource to authorize access</li><li><code class="inline">:scope</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A value that implements the <a href="https://hexdocs.pm/ash/3.5.32/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> protocol, for passing around actor/tenant/context in a single value. See <a href="https://hexdocs.pm/ash/3.5.32/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> for more.</li><li><code class="inline">:return_notifications?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Use this if you're running ash actions in your own transaction and you want to manually handle sending notifications.<br/>If a transaction is ongoing, and this is false, notifications will be discarded, otherwise
the return value is <code class="inline">{:ok, result, notifications}</code> (or <code class="inline">{:ok, notifications}</code>)<br/>To send notifications later, use <code class="inline">Ash.Notifier.notify(notifications)</code>. It sends any notifications
that can be sent, and returns the rest. The default value is <code class="inline">false</code>.</li><li><code class="inline">:rollback_on_error?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to rollback the transaction on error, if the resource is in a transaction.<br/>If the action has <code class="inline">transaction? false</code> this option has no effect. If an error is returned from the
data layer and the resource is in a transaction, the transaction is always rolled back, regardless. The default value is <code class="inline">true</code>.</li><li><code class="inline">:notification_metadata</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - Metadata to be merged into the metadata field for all notifications sent from this operation. The default value is <code class="inline">%{}</code>.</li><li><code class="inline">:skip_unknown_inputs</code> - A list of inputs that, if provided, will be ignored if they are not recognized by the action. Use <code class="inline">:*</code> to indicate all unknown keys.</li><li><code class="inline">:load</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A load statement to add onto the changeset</li><li><code class="inline">:bulk_options</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">keyword/0</code></a>) - Options passed to <code class="inline">Ash.bulk_update</code>, if a query, list, or stream of inputs is provided.<ul><li><code class="inline">:atomic_update</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">map/0</code></a>) - A map of atomic updates to apply. See <a href="https://hexdocs.pm/ash/3.5.32/Ash.Changeset.html#atomic_update/3"><code class="inline">Ash.Changeset.atomic_update/3</code></a> for more.</li><li><code class="inline">:stream_batch_size</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">integer/0</code></a>) - Batch size to use if provided a query and the query must be streamed</li><li><code class="inline">:allow_stream_with</code> - The 'worst' strategy allowed to be used to fetch records if the <code class="inline">:stream</code> strategy is chosen. See the <a href="https://hexdocs.pm/ash/3.5.32/Ash.html#stream!/2"><code class="inline">Ash.stream!/2</code></a> docs for more. The default value is <code class="inline">:keyset</code>.</li><li><code class="inline">:authorize_query?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If a query is given, determines whether or not authorization is run on that query. The default value is <code class="inline">true</code>.</li><li><code class="inline">:select</code> (list of <a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - A select statement to apply to records. Ignored if <code class="inline">return_records?</code> is not true.</li><li><code class="inline">:filter</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A filter to apply to records. This is also applied to a stream of inputs.</li><li><code class="inline">:strategy</code> - The strategy or strategies to enable. :stream is used in all cases if the data layer does not support atomics. The default value is <code class="inline">[:atomic]</code>.</li><li><code class="inline">:allow_stream_with</code> - The 'worst' strategy allowed to be used to fetch records. See <a href="https://hexdocs.pm/ash/3.5.32/Ash.html#stream!/2"><code class="inline">Ash.stream!/2</code></a> docs for more. The default value is <code class="inline">:keyset</code>.</li><li><code class="inline">:stream_with</code> - The specific strategy to use to fetch records. See <a href="https://hexdocs.pm/ash/3.5.32/Ash.html#stream!/2"><code class="inline">Ash.stream!/2</code></a> docs for more.</li><li><code class="inline">:max_concurrency</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">non_neg_integer/0</code></a>) - The maximum number of processes allowed to be started for parallel loading of relationships and calculations. Defaults to <code class="inline">System.schedulers_online() * 2</code></li><li><code class="inline">:lock</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A lock statement to add onto the query</li><li><code class="inline">:return_query?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If <code class="inline">true</code>, the query that was ultimately used is returned as a third tuple element.
The query goes through many potential changes during a request, potentially adding
authorization filters, or replacing relationships for other data layers with their
corresponding ids. This option can be used to get the true query that was sent to
the data layer.
The default value is <code class="inline">false</code>.</li><li><code class="inline">:reuse_values?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether calculations are allowed to reuse values that have already been loaded, or must refetch them from the data layer. The default value is <code class="inline">false</code>.</li><li><code class="inline">:strict?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If set to true, only specified attributes will be loaded when passing
  a list of fields to fetch on a relationship, which allows for more
  optimized data-fetching.
  See <a href="https://hexdocs.pm/ash/3.5.32/Ash.Query.html#load/2"><code class="inline">Ash.Query.load/2</code></a>.
The default value is <code class="inline">false</code>.</li><li><code class="inline">:authorize_with</code> - If set to <code class="inline">:error</code>, instead of applying authorization filters as a filter, any records not matching the authorization filter will cause an error to be returned. The default value is <code class="inline">:filter</code>.</li><li><code class="inline">:read_action</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - The action to use when building the read query.</li><li><code class="inline">:assume_casted?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to cast attributes and arguments as input. This is an optimization for cases where the input is already casted and/or not in need of casting The default value is <code class="inline">false</code>.</li><li><code class="inline">:select</code> (list of <a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - A select statement to apply to records. Ignored if <code class="inline">return_records?</code> is not true.</li><li><code class="inline">:authorize_query_with</code> - If set to <code class="inline">:error</code>, instead of filtering unauthorized query results, unauthorized query results will raise an appropriate forbidden error. Uses <code class="inline">authorize_with</code> if not set.</li><li><code class="inline">:authorize_changeset_with</code> - If set to <code class="inline">:error</code>, instead of filtering unauthorized changes, unauthorized changes will raise an appropriate forbidden error. Uses <code class="inline">authorize_with</code> if not set.</li><li><code class="inline">:authorize_with</code> - If set to <code class="inline">:error</code>, instead of filtering unauthorized query results, unauthorized query results will raise an appropriate forbidden error. The default value is <code class="inline">:filter</code>.</li><li><code class="inline">:private_arguments</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">map/0</code></a>) - Private argument values to set on each changeset before validations and changes are run. The default value is <code class="inline">%{}</code>.</li><li><code class="inline">:sorted?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to sort results by their input position, in cases where <code class="inline">return_records?: true</code> was provided. The default value is <code class="inline">false</code>.</li><li><code class="inline">:return_records?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to return all of the records that were inserted. Defaults to false to account for large inserts. The default value is <code class="inline">false</code>.</li><li><code class="inline">:return_errors?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether to return all errors that occur during the operation. Defaults to the value of <code class="inline">:bulk_actions_default_to_errors?</code> in your config, or <code class="inline">false</code> if not set. Returning all errors may be expensive for large inserts. The default value is <code class="inline">false</code>.</li><li><code class="inline">:batch_size</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">pos_integer/0</code></a>) - The number of records to include in each batch. Defaults to the <code class="inline">default_limit</code>
or <code class="inline">max_page_size</code> of the action, or 100.</li><li><code class="inline">:return_stream?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If set to <code class="inline">true</code>, instead of an <a href="https://hexdocs.pm/ash/3.5.32/Ash.BulkResult.html"><code class="inline">Ash.BulkResult</code></a>, a mixed stream is returned.
Potential elements:
<code class="inline">{:notification, notification}</code> - if <code class="inline">return_notifications?</code> is set to <code class="inline">true</code>
<code class="inline">{:ok, record}</code> - if <code class="inline">return_records?</code> is set to <code class="inline">true</code>
<code class="inline">{:error, error}</code> - an error that occurred. May be changeset or an individual error.
The default value is <code class="inline">false</code>.</li><li><code class="inline">:return_nothing?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Mutes warnings about returning nothing.
Only relevant if <code class="inline">return_stream?</code> is set to <code class="inline">true</code> and all other
<code class="inline">return_*?</code> options are set to <code class="inline">false</code>.
The default value is <code class="inline">false</code>.</li><li><code class="inline">:stop_on_error?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If true, the first encountered error will stop the action and be returned. Otherwise, errors
will be skipped. The default value is <code class="inline">false</code>.</li><li><code class="inline">:notify?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to generate any notifications. If this is set to <code class="inline">true</code> then the data layer must return
the results from each batch. This may be intensive for large bulk actions.
Notifications will be automatically sent unless <code class="inline">return_notifications?</code> is set to <code class="inline">true</code>.
The default value is <code class="inline">false</code>.</li><li><code class="inline">:transaction</code> - Whether or not to wrap the entire execution in a transaction, each batch, or not at all.
Keep in mind:
<code class="inline">before_transaction</code> and <code class="inline">after_transaction</code> hooks attached to changesets will have to be run
<em>inside</em> the transaction if you choose <code class="inline">transaction: :all</code>.
The default value is <code class="inline">:batch</code>.</li><li><code class="inline">:max_concurrency</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">non_neg_integer/0</code></a>) - If set to a value greater than 0, up to that many tasks will be started to run batches asynchronously The default value is <code class="inline">0</code>.</li></ul></li><li><code class="inline">:private_arguments</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">map/0</code></a>) - Private argument values to set before validations and changes. The default value is <code class="inline">%{}</code>.</li></ul>
  </section>
</section>
<section class="detail" id="update_offender_statistics!/3">

    <span id="update_offender_statistics!/1"></span>

    <span id="update_offender_statistics!/2"></span>

  <div class="detail-header">
    <a href="#update_offender_statistics!/3" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">update_offender_statistics!(record, params \\ nil, opts \\ nil)</h1>


    </div>
  </div>

  <section class="docstring">

<p>Calls the update_statistics action on EhsEnforcement.Enforcement.Offender.
Raises any errors instead of returning them</p><h1>Inputs</h1><ul><li>fine_amount</li></ul><h2 id="update_offender_statistics!/3-options" class="section-heading"><a href="#update_offender_statistics!/3-options" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Options</span></h2><ul><li><code class="inline">:params</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">map/0</code></a>) - Parameters to supply, ignored if the input is a changeset, only used when an identifier is given.</li><li><code class="inline">:atomic_upgrade?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If true the action will be done atomically if it can (and is configured to do so), ignoring the in memory transformations and validations. You should not generally need to disable this. The default value is <code class="inline">true</code>.</li><li><code class="inline">:timeout</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">timeout/0</code></a>) - A positive integer, or <code class="inline">:infinity</code>. If none is provided, the timeout configured on the domain is used.</li><li><code class="inline">:tracer</code> (one or a list of module that adopts <a href="https://hexdocs.pm/ash/3.5.32/Ash.Tracer.html"><code class="inline">Ash.Tracer</code></a>) - A tracer that implements the <a href="https://hexdocs.pm/ash/3.5.32/Ash.Tracer.html"><code class="inline">Ash.Tracer</code></a> behaviour. See that module for more.</li><li><code class="inline">:action</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - The action to use, either an Action struct or the name of the action</li><li><code class="inline">:authorize?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If an actor option is provided (even if it is <code class="inline">nil</code>), authorization happens automatically. If not, this flag can be used to authorize with no user.</li><li><code class="inline">:context</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">map/0</code></a>) - Context to set on the query, changeset, or input</li><li><code class="inline">:tenant</code> (value that implements the <a href="https://hexdocs.pm/ash/3.5.32/Ash.ToTenant.html"><code class="inline">Ash.ToTenant</code></a> protocol) - A tenant to set on the query or changeset</li><li><code class="inline">:actor</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - If an actor is provided, it will be used in conjunction with the authorizers of a resource to authorize access</li><li><code class="inline">:scope</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A value that implements the <a href="https://hexdocs.pm/ash/3.5.32/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> protocol, for passing around actor/tenant/context in a single value. See <a href="https://hexdocs.pm/ash/3.5.32/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> for more.</li><li><code class="inline">:return_notifications?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Use this if you're running ash actions in your own transaction and you want to manually handle sending notifications.<br/>If a transaction is ongoing, and this is false, notifications will be discarded, otherwise
the return value is <code class="inline">{:ok, result, notifications}</code> (or <code class="inline">{:ok, notifications}</code>)<br/>To send notifications later, use <code class="inline">Ash.Notifier.notify(notifications)</code>. It sends any notifications
that can be sent, and returns the rest. The default value is <code class="inline">false</code>.</li><li><code class="inline">:rollback_on_error?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to rollback the transaction on error, if the resource is in a transaction.<br/>If the action has <code class="inline">transaction? false</code> this option has no effect. If an error is returned from the
data layer and the resource is in a transaction, the transaction is always rolled back, regardless. The default value is <code class="inline">true</code>.</li><li><code class="inline">:notification_metadata</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - Metadata to be merged into the metadata field for all notifications sent from this operation. The default value is <code class="inline">%{}</code>.</li><li><code class="inline">:skip_unknown_inputs</code> - A list of inputs that, if provided, will be ignored if they are not recognized by the action. Use <code class="inline">:*</code> to indicate all unknown keys.</li><li><code class="inline">:load</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A load statement to add onto the changeset</li><li><code class="inline">:bulk_options</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">keyword/0</code></a>) - Options passed to <code class="inline">Ash.bulk_update</code>, if a query, list, or stream of inputs is provided.<ul><li><code class="inline">:atomic_update</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">map/0</code></a>) - A map of atomic updates to apply. See <a href="https://hexdocs.pm/ash/3.5.32/Ash.Changeset.html#atomic_update/3"><code class="inline">Ash.Changeset.atomic_update/3</code></a> for more.</li><li><code class="inline">:stream_batch_size</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">integer/0</code></a>) - Batch size to use if provided a query and the query must be streamed</li><li><code class="inline">:allow_stream_with</code> - The 'worst' strategy allowed to be used to fetch records if the <code class="inline">:stream</code> strategy is chosen. See the <a href="https://hexdocs.pm/ash/3.5.32/Ash.html#stream!/2"><code class="inline">Ash.stream!/2</code></a> docs for more. The default value is <code class="inline">:keyset</code>.</li><li><code class="inline">:authorize_query?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If a query is given, determines whether or not authorization is run on that query. The default value is <code class="inline">true</code>.</li><li><code class="inline">:select</code> (list of <a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - A select statement to apply to records. Ignored if <code class="inline">return_records?</code> is not true.</li><li><code class="inline">:filter</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A filter to apply to records. This is also applied to a stream of inputs.</li><li><code class="inline">:strategy</code> - The strategy or strategies to enable. :stream is used in all cases if the data layer does not support atomics. The default value is <code class="inline">[:atomic]</code>.</li><li><code class="inline">:allow_stream_with</code> - The 'worst' strategy allowed to be used to fetch records. See <a href="https://hexdocs.pm/ash/3.5.32/Ash.html#stream!/2"><code class="inline">Ash.stream!/2</code></a> docs for more. The default value is <code class="inline">:keyset</code>.</li><li><code class="inline">:stream_with</code> - The specific strategy to use to fetch records. See <a href="https://hexdocs.pm/ash/3.5.32/Ash.html#stream!/2"><code class="inline">Ash.stream!/2</code></a> docs for more.</li><li><code class="inline">:max_concurrency</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">non_neg_integer/0</code></a>) - The maximum number of processes allowed to be started for parallel loading of relationships and calculations. Defaults to <code class="inline">System.schedulers_online() * 2</code></li><li><code class="inline">:lock</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A lock statement to add onto the query</li><li><code class="inline">:return_query?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If <code class="inline">true</code>, the query that was ultimately used is returned as a third tuple element.
The query goes through many potential changes during a request, potentially adding
authorization filters, or replacing relationships for other data layers with their
corresponding ids. This option can be used to get the true query that was sent to
the data layer.
The default value is <code class="inline">false</code>.</li><li><code class="inline">:reuse_values?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether calculations are allowed to reuse values that have already been loaded, or must refetch them from the data layer. The default value is <code class="inline">false</code>.</li><li><code class="inline">:strict?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If set to true, only specified attributes will be loaded when passing
  a list of fields to fetch on a relationship, which allows for more
  optimized data-fetching.
  See <a href="https://hexdocs.pm/ash/3.5.32/Ash.Query.html#load/2"><code class="inline">Ash.Query.load/2</code></a>.
The default value is <code class="inline">false</code>.</li><li><code class="inline">:authorize_with</code> - If set to <code class="inline">:error</code>, instead of applying authorization filters as a filter, any records not matching the authorization filter will cause an error to be returned. The default value is <code class="inline">:filter</code>.</li><li><code class="inline">:read_action</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - The action to use when building the read query.</li><li><code class="inline">:assume_casted?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to cast attributes and arguments as input. This is an optimization for cases where the input is already casted and/or not in need of casting The default value is <code class="inline">false</code>.</li><li><code class="inline">:select</code> (list of <a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - A select statement to apply to records. Ignored if <code class="inline">return_records?</code> is not true.</li><li><code class="inline">:authorize_query_with</code> - If set to <code class="inline">:error</code>, instead of filtering unauthorized query results, unauthorized query results will raise an appropriate forbidden error. Uses <code class="inline">authorize_with</code> if not set.</li><li><code class="inline">:authorize_changeset_with</code> - If set to <code class="inline">:error</code>, instead of filtering unauthorized changes, unauthorized changes will raise an appropriate forbidden error. Uses <code class="inline">authorize_with</code> if not set.</li><li><code class="inline">:authorize_with</code> - If set to <code class="inline">:error</code>, instead of filtering unauthorized query results, unauthorized query results will raise an appropriate forbidden error. The default value is <code class="inline">:filter</code>.</li><li><code class="inline">:private_arguments</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">map/0</code></a>) - Private argument values to set on each changeset before validations and changes are run. The default value is <code class="inline">%{}</code>.</li><li><code class="inline">:sorted?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to sort results by their input position, in cases where <code class="inline">return_records?: true</code> was provided. The default value is <code class="inline">false</code>.</li><li><code class="inline">:return_records?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to return all of the records that were inserted. Defaults to false to account for large inserts. The default value is <code class="inline">false</code>.</li><li><code class="inline">:return_errors?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether to return all errors that occur during the operation. Defaults to the value of <code class="inline">:bulk_actions_default_to_errors?</code> in your config, or <code class="inline">false</code> if not set. Returning all errors may be expensive for large inserts. The default value is <code class="inline">false</code>.</li><li><code class="inline">:batch_size</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">pos_integer/0</code></a>) - The number of records to include in each batch. Defaults to the <code class="inline">default_limit</code>
or <code class="inline">max_page_size</code> of the action, or 100.</li><li><code class="inline">:return_stream?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If set to <code class="inline">true</code>, instead of an <a href="https://hexdocs.pm/ash/3.5.32/Ash.BulkResult.html"><code class="inline">Ash.BulkResult</code></a>, a mixed stream is returned.
Potential elements:
<code class="inline">{:notification, notification}</code> - if <code class="inline">return_notifications?</code> is set to <code class="inline">true</code>
<code class="inline">{:ok, record}</code> - if <code class="inline">return_records?</code> is set to <code class="inline">true</code>
<code class="inline">{:error, error}</code> - an error that occurred. May be changeset or an individual error.
The default value is <code class="inline">false</code>.</li><li><code class="inline">:return_nothing?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Mutes warnings about returning nothing.
Only relevant if <code class="inline">return_stream?</code> is set to <code class="inline">true</code> and all other
<code class="inline">return_*?</code> options are set to <code class="inline">false</code>.
The default value is <code class="inline">false</code>.</li><li><code class="inline">:stop_on_error?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If true, the first encountered error will stop the action and be returned. Otherwise, errors
will be skipped. The default value is <code class="inline">false</code>.</li><li><code class="inline">:notify?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to generate any notifications. If this is set to <code class="inline">true</code> then the data layer must return
the results from each batch. This may be intensive for large bulk actions.
Notifications will be automatically sent unless <code class="inline">return_notifications?</code> is set to <code class="inline">true</code>.
The default value is <code class="inline">false</code>.</li><li><code class="inline">:transaction</code> - Whether or not to wrap the entire execution in a transaction, each batch, or not at all.
Keep in mind:
<code class="inline">before_transaction</code> and <code class="inline">after_transaction</code> hooks attached to changesets will have to be run
<em>inside</em> the transaction if you choose <code class="inline">transaction: :all</code>.
The default value is <code class="inline">:batch</code>.</li><li><code class="inline">:max_concurrency</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">non_neg_integer/0</code></a>) - If set to a value greater than 0, up to that many tasks will be started to run batches asynchronously The default value is <code class="inline">0</code>.</li></ul></li><li><code class="inline">:private_arguments</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">map/0</code></a>) - Private argument values to set before validations and changes. The default value is <code class="inline">%{}</code>.</li></ul>
  </section>
</section>

    </div>
  </section>

    <footer class="footer">
      <p>

        <span class="line">
          <button class="a-main footer-button display-quick-switch" title="Search HexDocs packages">
            Search HexDocs
          </button>

            <a href="ehs_enforcement.epub" title="ePub version">
              Download ePub version
            </a>

        </span>
      </p>

      <p class="built-using">
        Built using
        <a href="https://github.com/elixir-lang/ex_doc" title="ExDoc" target="_blank" rel="help noopener" translate="no">ExDoc</a> (v0.38.2) for the

          <a href="https://elixir-lang.org" title="Elixir" target="_blank" translate="no">Elixir programming language</a>

      </p>

    </footer>
  </div>
</main>
</div>

  </body>
</html>
