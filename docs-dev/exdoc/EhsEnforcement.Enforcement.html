<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="generator" content="ExDoc v0.38.2">
    <meta name="project" content="ehs_enforcement v0.1.0">


    <title>EhsEnforcement.Enforcement â€” ehs_enforcement v0.1.0</title>

    <link rel="stylesheet" href="dist/html-elixir-KV3YOVJ3.css" />

    <script defer src="dist/sidebar_items-238F71B7.js"></script>
    <script defer src="docs_config.js"></script>
    <script defer src="dist/html-DPJLHKSM.js"></script>

  </head>
  <body>
    <script>(()=>{var t="ex_doc:settings",e="dark";var o="dark",s="light";var E="sidebar_state",n="closed";var r="sidebar_width";var a="sidebar-open";var i=new URLSearchParams(window.location.search),S=i.get("theme")||JSON.parse(localStorage.getItem(t)||"{}").theme;(S===o||S!==s&&window.matchMedia("(prefers-color-scheme: dark)").matches)&&document.body.classList.add(e);var d=sessionStorage.getItem(E),A=d!==n&&!window.matchMedia(`screen and (max-width: ${768}px)`).matches;document.body.classList.toggle(a,A);var c=sessionStorage.getItem(r);c&&document.body.style.setProperty("--sidebarWidth",`${c}px`);var p=/(Macintosh|iPhone|iPad|iPod)/.test(window.navigator.userAgent);document.documentElement.classList.toggle("apple-os",p);})();
</script>

<div class="body-wrapper">

<button id="sidebar-menu" class="sidebar-button sidebar-toggle" aria-label="toggle sidebar" aria-controls="sidebar">
  <i class="ri-menu-line ri-lg" title="Collapse/expand sidebar"></i>
</button>

<nav id="sidebar" class="sidebar">

  <div class="sidebar-header">
    <div class="sidebar-projectInfo">

      <div>
        <a href="EhsEnforcement.html" class="sidebar-projectName" translate="no">
ehs_enforcement
        </a>
        <div class="sidebar-projectVersion" translate="no">
          v0.1.0
        </div>
      </div>
    </div>
    <ul id="sidebar-list-nav" class="sidebar-list-nav" role="tablist" data-extras=""></ul>
  </div>
</nav>

<output role="status" id="toast"></output>

<main class="content page-module" id="main" data-type="modules">
  <div id="content" class="content-inner">
    <div class="top-search">
      <div class="search-settings">
        <form class="search-bar" action="search.html">
          <label class="search-label">
            <span class="sr-only">Search documentation of ehs_enforcement</span>
            <input name="q" type="text" class="search-input" placeholder="Press / to search" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" />
          </label>
          <button type="submit" class="search-button" aria-label="Submit Search" tabindex="-1">
            <i class="ri-search-2-line ri-lg" aria-hidden="true"></i>
          </button>
          <button type="button" tabindex="-1" class="search-close-button" aria-hidden="true">
            <i class="ri-close-line ri-lg" title="Cancel search"></i>
          </button>
        </form>
        <div class="autocomplete">
        </div>
        <button class="icon-settings display-settings">
          <i class="ri-settings-3-line"></i>
          <span class="sr-only">Settings</span>
        </button>
      </div>
    </div>

<div id="top-content">
  <div class="heading-with-actions top-heading">
    <h1>
      <span translate="no">EhsEnforcement.Enforcement</span> 
      <small class="app-vsn" translate="no">(ehs_enforcement v0.1.0)</small>

    </h1>

  </div>


    <section id="moduledoc">
<p>The Enforcement domain for managing enforcement agencies, cases, notices, and related entities.</p><p>This domain uses Ash code interfaces. Generated functions are available for all resources.</p>
    </section>

</div>

  <section id="summary" class="details-list">
    <h1 class="section-heading">
      <a class="hover-link" href="#summary">
        <i class="ri-link-m" aria-hidden="true"></i>
      </a>
      <span class="text">Summary</span>
    </h1>
<div class="summary-functions summary">
  <h2>
    <a href="#functions">Functions</a>
  </h2>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#aggregate/3" data-no-tooltip="" translate="no">aggregate(query, aggregate_or_aggregates, opts \\ [])</a>

          <span class="deprecated" title="Use `Ash.aggregate/3` instead">deprecated</span>

      </div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#aggregate!/3" data-no-tooltip="" translate="no">aggregate!(query, aggregate_or_aggregates, opts \\ [])</a>

          <span class="deprecated" title="Use `Ash.aggregate!/3` instead">deprecated</span>

      </div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#avg/3" data-no-tooltip="" translate="no">avg(query, field, opts \\ [])</a>

          <span class="deprecated" title="Use `Ash.avg/3` instead">deprecated</span>

      </div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#avg!/3" data-no-tooltip="" translate="no">avg!(query, field, opts \\ [])</a>

          <span class="deprecated" title="Use `Ash.avg!/3` instead">deprecated</span>

      </div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#batch_find_or_create_legislation/1" data-no-tooltip="" translate="no">batch_find_or_create_legislation(legislation_data_list)</a>

      </div>

        <div class="summary-synopsis"><p>Batch find or create multiple legislation records.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#bulk_create/4" data-no-tooltip="" translate="no">bulk_create(inputs, resource, action, opts \\ [])</a>

          <span class="deprecated" title="Use `Ash.bulk_create/4` instead">deprecated</span>

      </div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#bulk_create!/4" data-no-tooltip="" translate="no">bulk_create!(inputs, resource, action, opts \\ [])</a>

          <span class="deprecated" title="Use `Ash.bulk_create!/4` instead">deprecated</span>

      </div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#bulk_create_cases/2" data-no-tooltip="" translate="no">bulk_create_cases(params \\ nil, opts \\ nil)</a>

      </div>

        <div class="summary-synopsis"><p>Batch processing for creating multiple cases efficiently</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#bulk_create_cases!/2" data-no-tooltip="" translate="no">bulk_create_cases!(params \\ nil, opts \\ nil)</a>

      </div>

        <div class="summary-synopsis"><p>Batch processing for creating multiple cases efficiently
Raises any errors instead of returning them</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#bulk_create_offences/2" data-no-tooltip="" translate="no">bulk_create_offences(params \\ nil, opts \\ nil)</a>

      </div>

        <div class="summary-synopsis"><p>Batch processing for creating multiple offences efficiently</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#bulk_create_offences!/2" data-no-tooltip="" translate="no">bulk_create_offences!(params \\ nil, opts \\ nil)</a>

      </div>

        <div class="summary-synopsis"><p>Batch processing for creating multiple offences efficiently
Raises any errors instead of returning them</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#bulk_destroy/4" data-no-tooltip="" translate="no">bulk_destroy(stream_or_query, action, input, opts \\ [])</a>

          <span class="deprecated" title="Use `Ash.bulk_destroy/4` instead">deprecated</span>

      </div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#bulk_destroy!/4" data-no-tooltip="" translate="no">bulk_destroy!(stream_or_query, action, input, opts \\ [])</a>

          <span class="deprecated" title="Use `Ash.bulk_destroy!/4` instead">deprecated</span>

      </div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#bulk_update/4" data-no-tooltip="" translate="no">bulk_update(stream_or_query, action, input, opts \\ [])</a>

          <span class="deprecated" title="Use `Ash.bulk_update/4` instead">deprecated</span>

      </div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#bulk_update!/4" data-no-tooltip="" translate="no">bulk_update!(stream_or_query, action, input, opts \\ [])</a>

          <span class="deprecated" title="Use `Ash.bulk_update!/4` instead">deprecated</span>

      </div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#calculate/3" data-no-tooltip="" translate="no">calculate(resource, calculation, opts \\ [])</a>

          <span class="deprecated" title="Use `Ash.calculate/3` instead">deprecated</span>

      </div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#calculate!/3" data-no-tooltip="" translate="no">calculate!(resource, calculation, opts \\ [])</a>

          <span class="deprecated" title="Use `Ash.calculate!/3` instead">deprecated</span>

      </div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#can/3" data-no-tooltip="" translate="no">can(action_or_query_or_changeset, actor, opts \\ [])</a>

          <span class="deprecated" title="Use `Ash.can/3` instead">deprecated</span>

      </div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#can?/3" data-no-tooltip="" translate="no">can?(query_or_changeset_or_action, actor, opts \\ [])</a>

          <span class="deprecated" title="Use `Ash.can?/3` instead">deprecated</span>

      </div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#can_bulk_create_cases/3" data-no-tooltip="" translate="no">can_bulk_create_cases(actor, params_or_opts \\ %{}, opts \\ [])</a>

      </div>

        <div class="summary-synopsis"><p>Runs authorization checks for <code class="inline">EhsEnforcement.Enforcement.Case.bulk_create</code>
See <a><code class="inline">Ash.can/3</code></a> for more information</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#can_bulk_create_cases?/3" data-no-tooltip="" translate="no">can_bulk_create_cases?(actor, params_or_opts \\ %{}, opts \\ [])</a>

      </div>

        <div class="summary-synopsis"><p>Runs authorization checks for <code class="inline">EhsEnforcement.Enforcement.Case.bulk_create</code>, returning a boolean.
See <a><code class="inline">Ash.can?/3</code></a> for more information</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#can_bulk_create_offences/3" data-no-tooltip="" translate="no">can_bulk_create_offences(actor, params_or_opts \\ %{}, opts \\ [])</a>

      </div>

        <div class="summary-synopsis"><p>Runs authorization checks for <code class="inline">EhsEnforcement.Enforcement.Offence.bulk_create</code>
See <a><code class="inline">Ash.can/3</code></a> for more information</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#can_bulk_create_offences?/3" data-no-tooltip="" translate="no">can_bulk_create_offences?(actor, params_or_opts \\ %{}, opts \\ [])</a>

      </div>

        <div class="summary-synopsis"><p>Runs authorization checks for <code class="inline">EhsEnforcement.Enforcement.Offence.bulk_create</code>, returning a boolean.
See <a><code class="inline">Ash.can?/3</code></a> for more information</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#can_create_agency/3" data-no-tooltip="" translate="no">can_create_agency(actor, params_or_opts \\ %{}, opts \\ [])</a>

      </div>

        <div class="summary-synopsis"><p>Runs authorization checks for <code class="inline">EhsEnforcement.Enforcement.Agency.create</code>
See <a><code class="inline">Ash.can/3</code></a> for more information</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#can_create_agency?/3" data-no-tooltip="" translate="no">can_create_agency?(actor, params_or_opts \\ %{}, opts \\ [])</a>

      </div>

        <div class="summary-synopsis"><p>Runs authorization checks for <code class="inline">EhsEnforcement.Enforcement.Agency.create</code>, returning a boolean.
See <a><code class="inline">Ash.can?/3</code></a> for more information</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#can_create_case/3" data-no-tooltip="" translate="no">can_create_case(actor, params_or_opts \\ %{}, opts \\ [])</a>

      </div>

        <div class="summary-synopsis"><p>Runs authorization checks for <code class="inline">EhsEnforcement.Enforcement.Case.create</code>
See <a><code class="inline">Ash.can/3</code></a> for more information</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#can_create_case?/3" data-no-tooltip="" translate="no">can_create_case?(actor, params_or_opts \\ %{}, opts \\ [])</a>

      </div>

        <div class="summary-synopsis"><p>Runs authorization checks for <code class="inline">EhsEnforcement.Enforcement.Case.create</code>, returning a boolean.
See <a><code class="inline">Ash.can?/3</code></a> for more information</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#can_create_legislation/3" data-no-tooltip="" translate="no">can_create_legislation(actor, params_or_opts \\ %{}, opts \\ [])</a>

      </div>

        <div class="summary-synopsis"><p>Runs authorization checks for <code class="inline">EhsEnforcement.Enforcement.Legislation.create</code>
See <a><code class="inline">Ash.can/3</code></a> for more information</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#can_create_legislation?/3" data-no-tooltip="" translate="no">can_create_legislation?(actor, params_or_opts \\ %{}, opts \\ [])</a>

      </div>

        <div class="summary-synopsis"><p>Runs authorization checks for <code class="inline">EhsEnforcement.Enforcement.Legislation.create</code>, returning a boolean.
See <a><code class="inline">Ash.can?/3</code></a> for more information</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#can_create_notice/3" data-no-tooltip="" translate="no">can_create_notice(actor, params_or_opts \\ %{}, opts \\ [])</a>

      </div>

        <div class="summary-synopsis"><p>Runs authorization checks for <code class="inline">EhsEnforcement.Enforcement.Notice.create</code>
See <a><code class="inline">Ash.can/3</code></a> for more information</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#can_create_notice?/3" data-no-tooltip="" translate="no">can_create_notice?(actor, params_or_opts \\ %{}, opts \\ [])</a>

      </div>

        <div class="summary-synopsis"><p>Runs authorization checks for <code class="inline">EhsEnforcement.Enforcement.Notice.create</code>, returning a boolean.
See <a><code class="inline">Ash.can?/3</code></a> for more information</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#can_create_offence/3" data-no-tooltip="" translate="no">can_create_offence(actor, params_or_opts \\ %{}, opts \\ [])</a>

      </div>

        <div class="summary-synopsis"><p>Runs authorization checks for <code class="inline">EhsEnforcement.Enforcement.Offence.create</code>
See <a><code class="inline">Ash.can/3</code></a> for more information</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#can_create_offence?/3" data-no-tooltip="" translate="no">can_create_offence?(actor, params_or_opts \\ %{}, opts \\ [])</a>

      </div>

        <div class="summary-synopsis"><p>Runs authorization checks for <code class="inline">EhsEnforcement.Enforcement.Offence.create</code>, returning a boolean.
See <a><code class="inline">Ash.can?/3</code></a> for more information</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#can_create_offender/3" data-no-tooltip="" translate="no">can_create_offender(actor, params_or_opts \\ %{}, opts \\ [])</a>

      </div>

        <div class="summary-synopsis"><p>Runs authorization checks for <code class="inline">EhsEnforcement.Enforcement.Offender.create</code>
See <a><code class="inline">Ash.can/3</code></a> for more information</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#can_create_offender?/3" data-no-tooltip="" translate="no">can_create_offender?(actor, params_or_opts \\ %{}, opts \\ [])</a>

      </div>

        <div class="summary-synopsis"><p>Runs authorization checks for <code class="inline">EhsEnforcement.Enforcement.Offender.create</code>, returning a boolean.
See <a><code class="inline">Ash.can?/3</code></a> for more information</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#can_destroy_case/4" data-no-tooltip="" translate="no">can_destroy_case(actor, record, params_or_opts \\ %{}, opts \\ [])</a>

      </div>

        <div class="summary-synopsis"><p>Runs authorization checks for <code class="inline">EhsEnforcement.Enforcement.Case.destroy</code>
See <a><code class="inline">Ash.can/3</code></a> for more information</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#can_destroy_case?/4" data-no-tooltip="" translate="no">can_destroy_case?(actor, record, params_or_opts \\ %{}, opts \\ [])</a>

      </div>

        <div class="summary-synopsis"><p>Runs authorization checks for <code class="inline">EhsEnforcement.Enforcement.Case.destroy</code>, returning a boolean.
See <a><code class="inline">Ash.can?/3</code></a> for more information</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#can_destroy_legislation/4" data-no-tooltip="" translate="no">can_destroy_legislation(actor, record, params_or_opts \\ %{}, opts \\ [])</a>

      </div>

        <div class="summary-synopsis"><p>Runs authorization checks for <code class="inline">EhsEnforcement.Enforcement.Legislation.destroy</code>
See <a><code class="inline">Ash.can/3</code></a> for more information</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#can_destroy_legislation?/4" data-no-tooltip="" translate="no">can_destroy_legislation?(actor, record, params_or_opts \\ %{}, opts \\ [])</a>

      </div>

        <div class="summary-synopsis"><p>Runs authorization checks for <code class="inline">EhsEnforcement.Enforcement.Legislation.destroy</code>, returning a boolean.
See <a><code class="inline">Ash.can?/3</code></a> for more information</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#can_destroy_notice/4" data-no-tooltip="" translate="no">can_destroy_notice(actor, record, params_or_opts \\ %{}, opts \\ [])</a>

      </div>

        <div class="summary-synopsis"><p>Runs authorization checks for <code class="inline">EhsEnforcement.Enforcement.Notice.destroy</code>
See <a><code class="inline">Ash.can/3</code></a> for more information</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#can_destroy_notice?/4" data-no-tooltip="" translate="no">can_destroy_notice?(actor, record, params_or_opts \\ %{}, opts \\ [])</a>

      </div>

        <div class="summary-synopsis"><p>Runs authorization checks for <code class="inline">EhsEnforcement.Enforcement.Notice.destroy</code>, returning a boolean.
See <a><code class="inline">Ash.can?/3</code></a> for more information</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#can_destroy_offence/4" data-no-tooltip="" translate="no">can_destroy_offence(actor, record, params_or_opts \\ %{}, opts \\ [])</a>

      </div>

        <div class="summary-synopsis"><p>Runs authorization checks for <code class="inline">EhsEnforcement.Enforcement.Offence.destroy</code>
See <a><code class="inline">Ash.can/3</code></a> for more information</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#can_destroy_offence?/4" data-no-tooltip="" translate="no">can_destroy_offence?(actor, record, params_or_opts \\ %{}, opts \\ [])</a>

      </div>

        <div class="summary-synopsis"><p>Runs authorization checks for <code class="inline">EhsEnforcement.Enforcement.Offence.destroy</code>, returning a boolean.
See <a><code class="inline">Ash.can?/3</code></a> for more information</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#can_get_agency/4" data-no-tooltip="" translate="no">can_get_agency(actor, id, params_or_opts \\ %{}, opts \\ [])</a>

      </div>

        <div class="summary-synopsis"><p>Runs authorization checks for <code class="inline">EhsEnforcement.Enforcement.Agency.read</code>
See <a><code class="inline">Ash.can/3</code></a> for more information</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#can_get_agency?/4" data-no-tooltip="" translate="no">can_get_agency?(actor, id, params_or_opts \\ %{}, opts \\ [])</a>

      </div>

        <div class="summary-synopsis"><p>Runs authorization checks for <code class="inline">EhsEnforcement.Enforcement.Agency.read</code>, returning a boolean.
See <a><code class="inline">Ash.can?/3</code></a> for more information</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#can_get_agency_by_code/4" data-no-tooltip="" translate="no">can_get_agency_by_code(actor, code, params_or_opts \\ %{}, opts \\ [])</a>

      </div>

        <div class="summary-synopsis"><p>Runs authorization checks for <code class="inline">EhsEnforcement.Enforcement.Agency.read</code>
See <a><code class="inline">Ash.can/3</code></a> for more information</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#can_get_agency_by_code?/4" data-no-tooltip="" translate="no">can_get_agency_by_code?(actor, code, params_or_opts \\ %{}, opts \\ [])</a>

      </div>

        <div class="summary-synopsis"><p>Runs authorization checks for <code class="inline">EhsEnforcement.Enforcement.Agency.read</code>, returning a boolean.
See <a><code class="inline">Ash.can?/3</code></a> for more information</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#can_get_case/4" data-no-tooltip="" translate="no">can_get_case(actor, id, params_or_opts \\ %{}, opts \\ [])</a>

      </div>

        <div class="summary-synopsis"><p>Runs authorization checks for <code class="inline">EhsEnforcement.Enforcement.Case.read</code>
See <a><code class="inline">Ash.can/3</code></a> for more information</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#can_get_case?/4" data-no-tooltip="" translate="no">can_get_case?(actor, id, params_or_opts \\ %{}, opts \\ [])</a>

      </div>

        <div class="summary-synopsis"><p>Runs authorization checks for <code class="inline">EhsEnforcement.Enforcement.Case.read</code>, returning a boolean.
See <a><code class="inline">Ash.can?/3</code></a> for more information</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#can_get_current_metrics/3" data-no-tooltip="" translate="no">can_get_current_metrics(actor, params_or_opts \\ %{}, opts \\ [])</a>

      </div>

        <div class="summary-synopsis"><p>Runs authorization checks for <code class="inline">EhsEnforcement.Enforcement.Metrics.get_current</code>
See <a><code class="inline">Ash.can/3</code></a> for more information</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#can_get_current_metrics?/3" data-no-tooltip="" translate="no">can_get_current_metrics?(actor, params_or_opts \\ %{}, opts \\ [])</a>

      </div>

        <div class="summary-synopsis"><p>Runs authorization checks for <code class="inline">EhsEnforcement.Enforcement.Metrics.get_current</code>, returning a boolean.
See <a><code class="inline">Ash.can?/3</code></a> for more information</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#can_get_legislation/4" data-no-tooltip="" translate="no">can_get_legislation(actor, id, params_or_opts \\ %{}, opts \\ [])</a>

      </div>

        <div class="summary-synopsis"><p>Runs authorization checks for <code class="inline">EhsEnforcement.Enforcement.Legislation.read</code>
See <a><code class="inline">Ash.can/3</code></a> for more information</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#can_get_legislation?/4" data-no-tooltip="" translate="no">can_get_legislation?(actor, id, params_or_opts \\ %{}, opts \\ [])</a>

      </div>

        <div class="summary-synopsis"><p>Runs authorization checks for <code class="inline">EhsEnforcement.Enforcement.Legislation.read</code>, returning a boolean.
See <a><code class="inline">Ash.can?/3</code></a> for more information</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#can_get_notice/4" data-no-tooltip="" translate="no">can_get_notice(actor, id, params_or_opts \\ %{}, opts \\ [])</a>

      </div>

        <div class="summary-synopsis"><p>Runs authorization checks for <code class="inline">EhsEnforcement.Enforcement.Notice.read</code>
See <a><code class="inline">Ash.can/3</code></a> for more information</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#can_get_notice?/4" data-no-tooltip="" translate="no">can_get_notice?(actor, id, params_or_opts \\ %{}, opts \\ [])</a>

      </div>

        <div class="summary-synopsis"><p>Runs authorization checks for <code class="inline">EhsEnforcement.Enforcement.Notice.read</code>, returning a boolean.
See <a><code class="inline">Ash.can?/3</code></a> for more information</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#can_get_offence/4" data-no-tooltip="" translate="no">can_get_offence(actor, id, params_or_opts \\ %{}, opts \\ [])</a>

      </div>

        <div class="summary-synopsis"><p>Runs authorization checks for <code class="inline">EhsEnforcement.Enforcement.Offence.read</code>
See <a><code class="inline">Ash.can/3</code></a> for more information</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#can_get_offence?/4" data-no-tooltip="" translate="no">can_get_offence?(actor, id, params_or_opts \\ %{}, opts \\ [])</a>

      </div>

        <div class="summary-synopsis"><p>Runs authorization checks for <code class="inline">EhsEnforcement.Enforcement.Offence.read</code>, returning a boolean.
See <a><code class="inline">Ash.can?/3</code></a> for more information</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#can_get_offence_by_reference/4" data-no-tooltip="" translate="no">can_get_offence_by_reference(actor, offence_reference, params_or_opts \\ %{}, opts \\ [])</a>

      </div>

        <div class="summary-synopsis"><p>Runs authorization checks for <code class="inline">EhsEnforcement.Enforcement.Offence.by_reference</code>
See <a><code class="inline">Ash.can/3</code></a> for more information</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#can_get_offence_by_reference?/4" data-no-tooltip="" translate="no">can_get_offence_by_reference?(actor, offence_reference, params_or_opts \\ %{}, opts \\ [])</a>

      </div>

        <div class="summary-synopsis"><p>Runs authorization checks for <code class="inline">EhsEnforcement.Enforcement.Offence.by_reference</code>, returning a boolean.
See <a><code class="inline">Ash.can?/3</code></a> for more information</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#can_get_offender/4" data-no-tooltip="" translate="no">can_get_offender(actor, id, params_or_opts \\ %{}, opts \\ [])</a>

      </div>

        <div class="summary-synopsis"><p>Runs authorization checks for <code class="inline">EhsEnforcement.Enforcement.Offender.read</code>
See <a><code class="inline">Ash.can/3</code></a> for more information</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#can_get_offender?/4" data-no-tooltip="" translate="no">can_get_offender?(actor, id, params_or_opts \\ %{}, opts \\ [])</a>

      </div>

        <div class="summary-synopsis"><p>Runs authorization checks for <code class="inline">EhsEnforcement.Enforcement.Offender.read</code>, returning a boolean.
See <a><code class="inline">Ash.can?/3</code></a> for more information</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#can_list_agencies/3" data-no-tooltip="" translate="no">can_list_agencies(actor, params_or_opts \\ %{}, opts \\ [])</a>

      </div>

        <div class="summary-synopsis"><p>Runs authorization checks for <code class="inline">EhsEnforcement.Enforcement.Agency.read</code>
See <a><code class="inline">Ash.can/3</code></a> for more information</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#can_list_agencies?/3" data-no-tooltip="" translate="no">can_list_agencies?(actor, params_or_opts \\ %{}, opts \\ [])</a>

      </div>

        <div class="summary-synopsis"><p>Runs authorization checks for <code class="inline">EhsEnforcement.Enforcement.Agency.read</code>, returning a boolean.
See <a><code class="inline">Ash.can?/3</code></a> for more information</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#can_list_cases/3" data-no-tooltip="" translate="no">can_list_cases(actor, params_or_opts \\ %{}, opts \\ [])</a>

      </div>

        <div class="summary-synopsis"><p>Runs authorization checks for <code class="inline">EhsEnforcement.Enforcement.Case.read</code>
See <a><code class="inline">Ash.can/3</code></a> for more information</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#can_list_cases?/3" data-no-tooltip="" translate="no">can_list_cases?(actor, params_or_opts \\ %{}, opts \\ [])</a>

      </div>

        <div class="summary-synopsis"><p>Runs authorization checks for <code class="inline">EhsEnforcement.Enforcement.Case.read</code>, returning a boolean.
See <a><code class="inline">Ash.can?/3</code></a> for more information</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#can_list_cases_by_date_range/5" data-no-tooltip="" translate="no">can_list_cases_by_date_range(actor, from_date, to_date, params_or_opts \\ %{}, opts \\ [])</a>

      </div>

        <div class="summary-synopsis"><p>Runs authorization checks for <code class="inline">EhsEnforcement.Enforcement.Case.by_date_range</code>
See <a><code class="inline">Ash.can/3</code></a> for more information</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#can_list_cases_by_date_range?/5" data-no-tooltip="" translate="no">can_list_cases_by_date_range?(actor, from_date, to_date, params_or_opts \\ %{}, opts \\ [])</a>

      </div>

        <div class="summary-synopsis"><p>Runs authorization checks for <code class="inline">EhsEnforcement.Enforcement.Case.by_date_range</code>, returning a boolean.
See <a><code class="inline">Ash.can?/3</code></a> for more information</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#can_list_legislation/3" data-no-tooltip="" translate="no">can_list_legislation(actor, params_or_opts \\ %{}, opts \\ [])</a>

      </div>

        <div class="summary-synopsis"><p>Runs authorization checks for <code class="inline">EhsEnforcement.Enforcement.Legislation.read</code>
See <a><code class="inline">Ash.can/3</code></a> for more information</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#can_list_legislation?/3" data-no-tooltip="" translate="no">can_list_legislation?(actor, params_or_opts \\ %{}, opts \\ [])</a>

      </div>

        <div class="summary-synopsis"><p>Runs authorization checks for <code class="inline">EhsEnforcement.Enforcement.Legislation.read</code>, returning a boolean.
See <a><code class="inline">Ash.can?/3</code></a> for more information</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#can_list_legislation_by_type/4" data-no-tooltip="" translate="no">can_list_legislation_by_type(actor, legislation_type, params_or_opts \\ %{}, opts \\ [])</a>

      </div>

        <div class="summary-synopsis"><p>Runs authorization checks for <code class="inline">EhsEnforcement.Enforcement.Legislation.by_type</code>
See <a><code class="inline">Ash.can/3</code></a> for more information</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#can_list_legislation_by_type?/4" data-no-tooltip="" translate="no">can_list_legislation_by_type?(actor, legislation_type, params_or_opts \\ %{}, opts \\ [])</a>

      </div>

        <div class="summary-synopsis"><p>Runs authorization checks for <code class="inline">EhsEnforcement.Enforcement.Legislation.by_type</code>, returning a boolean.
See <a><code class="inline">Ash.can?/3</code></a> for more information</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#can_list_legislation_by_year_range/5" data-no-tooltip="" translate="no">can_list_legislation_by_year_range(actor, start_year, end_year, params_or_opts \\ %{}, opts \\ [])</a>

      </div>

        <div class="summary-synopsis"><p>Runs authorization checks for <code class="inline">EhsEnforcement.Enforcement.Legislation.by_year_range</code>
See <a><code class="inline">Ash.can/3</code></a> for more information</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#can_list_legislation_by_year_range?/5" data-no-tooltip="" translate="no">can_list_legislation_by_year_range?(actor, start_year, end_year, params_or_opts \\ %{}, opts \\ [])</a>

      </div>

        <div class="summary-synopsis"><p>Runs authorization checks for <code class="inline">EhsEnforcement.Enforcement.Legislation.by_year_range</code>, returning a boolean.
See <a><code class="inline">Ash.can?/3</code></a> for more information</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#can_list_notices/3" data-no-tooltip="" translate="no">can_list_notices(actor, params_or_opts \\ %{}, opts \\ [])</a>

      </div>

        <div class="summary-synopsis"><p>Runs authorization checks for <code class="inline">EhsEnforcement.Enforcement.Notice.read</code>
See <a><code class="inline">Ash.can/3</code></a> for more information</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#can_list_notices?/3" data-no-tooltip="" translate="no">can_list_notices?(actor, params_or_opts \\ %{}, opts \\ [])</a>

      </div>

        <div class="summary-synopsis"><p>Runs authorization checks for <code class="inline">EhsEnforcement.Enforcement.Notice.read</code>, returning a boolean.
See <a><code class="inline">Ash.can?/3</code></a> for more information</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#can_list_offences/3" data-no-tooltip="" translate="no">can_list_offences(actor, params_or_opts \\ %{}, opts \\ [])</a>

      </div>

        <div class="summary-synopsis"><p>Runs authorization checks for <code class="inline">EhsEnforcement.Enforcement.Offence.read</code>
See <a><code class="inline">Ash.can/3</code></a> for more information</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#can_list_offences?/3" data-no-tooltip="" translate="no">can_list_offences?(actor, params_or_opts \\ %{}, opts \\ [])</a>

      </div>

        <div class="summary-synopsis"><p>Runs authorization checks for <code class="inline">EhsEnforcement.Enforcement.Offence.read</code>, returning a boolean.
See <a><code class="inline">Ash.can?/3</code></a> for more information</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#can_list_offences_by_case/4" data-no-tooltip="" translate="no">can_list_offences_by_case(actor, case_id, params_or_opts \\ %{}, opts \\ [])</a>

      </div>

        <div class="summary-synopsis"><p>Runs authorization checks for <code class="inline">EhsEnforcement.Enforcement.Offence.by_case</code>
See <a><code class="inline">Ash.can/3</code></a> for more information</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#can_list_offences_by_case?/4" data-no-tooltip="" translate="no">can_list_offences_by_case?(actor, case_id, params_or_opts \\ %{}, opts \\ [])</a>

      </div>

        <div class="summary-synopsis"><p>Runs authorization checks for <code class="inline">EhsEnforcement.Enforcement.Offence.by_case</code>, returning a boolean.
See <a><code class="inline">Ash.can?/3</code></a> for more information</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#can_list_offences_by_legislation/4" data-no-tooltip="" translate="no">can_list_offences_by_legislation(actor, legislation_id, params_or_opts \\ %{}, opts \\ [])</a>

      </div>

        <div class="summary-synopsis"><p>Runs authorization checks for <code class="inline">EhsEnforcement.Enforcement.Offence.by_legislation</code>
See <a><code class="inline">Ash.can/3</code></a> for more information</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#can_list_offences_by_legislation?/4" data-no-tooltip="" translate="no">can_list_offences_by_legislation?(actor, legislation_id, params_or_opts \\ %{}, opts \\ [])</a>

      </div>

        <div class="summary-synopsis"><p>Runs authorization checks for <code class="inline">EhsEnforcement.Enforcement.Offence.by_legislation</code>, returning a boolean.
See <a><code class="inline">Ash.can?/3</code></a> for more information</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#can_list_offences_by_notice/4" data-no-tooltip="" translate="no">can_list_offences_by_notice(actor, notice_id, params_or_opts \\ %{}, opts \\ [])</a>

      </div>

        <div class="summary-synopsis"><p>Runs authorization checks for <code class="inline">EhsEnforcement.Enforcement.Offence.by_notice</code>
See <a><code class="inline">Ash.can/3</code></a> for more information</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#can_list_offences_by_notice?/4" data-no-tooltip="" translate="no">can_list_offences_by_notice?(actor, notice_id, params_or_opts \\ %{}, opts \\ [])</a>

      </div>

        <div class="summary-synopsis"><p>Runs authorization checks for <code class="inline">EhsEnforcement.Enforcement.Offence.by_notice</code>, returning a boolean.
See <a><code class="inline">Ash.can?/3</code></a> for more information</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#can_list_offences_with_fines/3" data-no-tooltip="" translate="no">can_list_offences_with_fines(actor, params_or_opts \\ %{}, opts \\ [])</a>

      </div>

        <div class="summary-synopsis"><p>Runs authorization checks for <code class="inline">EhsEnforcement.Enforcement.Offence.with_fines</code>
See <a><code class="inline">Ash.can/3</code></a> for more information</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#can_list_offences_with_fines?/3" data-no-tooltip="" translate="no">can_list_offences_with_fines?(actor, params_or_opts \\ %{}, opts \\ [])</a>

      </div>

        <div class="summary-synopsis"><p>Runs authorization checks for <code class="inline">EhsEnforcement.Enforcement.Offence.with_fines</code>, returning a boolean.
See <a><code class="inline">Ash.can?/3</code></a> for more information</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#can_list_offenders/3" data-no-tooltip="" translate="no">can_list_offenders(actor, params_or_opts \\ %{}, opts \\ [])</a>

      </div>

        <div class="summary-synopsis"><p>Runs authorization checks for <code class="inline">EhsEnforcement.Enforcement.Offender.read</code>
See <a><code class="inline">Ash.can/3</code></a> for more information</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#can_list_offenders?/3" data-no-tooltip="" translate="no">can_list_offenders?(actor, params_or_opts \\ %{}, opts \\ [])</a>

      </div>

        <div class="summary-synopsis"><p>Runs authorization checks for <code class="inline">EhsEnforcement.Enforcement.Offender.read</code>, returning a boolean.
See <a><code class="inline">Ash.can?/3</code></a> for more information</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#can_refresh_metrics/3" data-no-tooltip="" translate="no">can_refresh_metrics(actor, params_or_opts \\ %{}, opts \\ [])</a>

      </div>

        <div class="summary-synopsis"><p>Runs authorization checks for <code class="inline">EhsEnforcement.Enforcement.Metrics.refresh</code>
See <a><code class="inline">Ash.can/3</code></a> for more information</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#can_refresh_metrics?/3" data-no-tooltip="" translate="no">can_refresh_metrics?(actor, params_or_opts \\ %{}, opts \\ [])</a>

      </div>

        <div class="summary-synopsis"><p>Runs authorization checks for <code class="inline">EhsEnforcement.Enforcement.Metrics.refresh</code>, returning a boolean.
See <a><code class="inline">Ash.can?/3</code></a> for more information</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#can_search_legislation_title/4" data-no-tooltip="" translate="no">can_search_legislation_title(actor, search_term, params_or_opts \\ %{}, opts \\ [])</a>

      </div>

        <div class="summary-synopsis"><p>Runs authorization checks for <code class="inline">EhsEnforcement.Enforcement.Legislation.search_title</code>
See <a><code class="inline">Ash.can/3</code></a> for more information</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#can_search_legislation_title?/4" data-no-tooltip="" translate="no">can_search_legislation_title?(actor, search_term, params_or_opts \\ %{}, opts \\ [])</a>

      </div>

        <div class="summary-synopsis"><p>Runs authorization checks for <code class="inline">EhsEnforcement.Enforcement.Legislation.search_title</code>, returning a boolean.
See <a><code class="inline">Ash.can?/3</code></a> for more information</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#can_search_offence_description/4" data-no-tooltip="" translate="no">can_search_offence_description(actor, search_term, params_or_opts \\ %{}, opts \\ [])</a>

      </div>

        <div class="summary-synopsis"><p>Runs authorization checks for <code class="inline">EhsEnforcement.Enforcement.Offence.search_description</code>
See <a><code class="inline">Ash.can/3</code></a> for more information</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#can_search_offence_description?/4" data-no-tooltip="" translate="no">can_search_offence_description?(actor, search_term, params_or_opts \\ %{}, opts \\ [])</a>

      </div>

        <div class="summary-synopsis"><p>Runs authorization checks for <code class="inline">EhsEnforcement.Enforcement.Offence.search_description</code>, returning a boolean.
See <a><code class="inline">Ash.can?/3</code></a> for more information</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#can_search_offenders/4" data-no-tooltip="" translate="no">can_search_offenders(actor, query, params_or_opts \\ %{}, opts \\ [])</a>

      </div>

        <div class="summary-synopsis"><p>Runs authorization checks for <code class="inline">EhsEnforcement.Enforcement.Offender.search</code>
See <a><code class="inline">Ash.can/3</code></a> for more information</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#can_search_offenders?/4" data-no-tooltip="" translate="no">can_search_offenders?(actor, query, params_or_opts \\ %{}, opts \\ [])</a>

      </div>

        <div class="summary-synopsis"><p>Runs authorization checks for <code class="inline">EhsEnforcement.Enforcement.Offender.search</code>, returning a boolean.
See <a><code class="inline">Ash.can?/3</code></a> for more information</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#can_sync_case_from_airtable/4" data-no-tooltip="" translate="no">can_sync_case_from_airtable(actor, record, params_or_opts \\ %{}, opts \\ [])</a>

      </div>

        <div class="summary-synopsis"><p>Runs authorization checks for <code class="inline">EhsEnforcement.Enforcement.Case.sync_from_airtable</code>
See <a><code class="inline">Ash.can/3</code></a> for more information</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#can_sync_case_from_airtable?/4" data-no-tooltip="" translate="no">can_sync_case_from_airtable?(actor, record, params_or_opts \\ %{}, opts \\ [])</a>

      </div>

        <div class="summary-synopsis"><p>Runs authorization checks for <code class="inline">EhsEnforcement.Enforcement.Case.sync_from_airtable</code>, returning a boolean.
See <a><code class="inline">Ash.can?/3</code></a> for more information</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#can_update_agency/4" data-no-tooltip="" translate="no">can_update_agency(actor, record, params_or_opts \\ %{}, opts \\ [])</a>

      </div>

        <div class="summary-synopsis"><p>Runs authorization checks for <code class="inline">EhsEnforcement.Enforcement.Agency.update</code>
See <a><code class="inline">Ash.can/3</code></a> for more information</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#can_update_agency?/4" data-no-tooltip="" translate="no">can_update_agency?(actor, record, params_or_opts \\ %{}, opts \\ [])</a>

      </div>

        <div class="summary-synopsis"><p>Runs authorization checks for <code class="inline">EhsEnforcement.Enforcement.Agency.update</code>, returning a boolean.
See <a><code class="inline">Ash.can?/3</code></a> for more information</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#can_update_case/4" data-no-tooltip="" translate="no">can_update_case(actor, record, params_or_opts \\ %{}, opts \\ [])</a>

      </div>

        <div class="summary-synopsis"><p>Runs authorization checks for <code class="inline">EhsEnforcement.Enforcement.Case.update</code>
See <a><code class="inline">Ash.can/3</code></a> for more information</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#can_update_case?/4" data-no-tooltip="" translate="no">can_update_case?(actor, record, params_or_opts \\ %{}, opts \\ [])</a>

      </div>

        <div class="summary-synopsis"><p>Runs authorization checks for <code class="inline">EhsEnforcement.Enforcement.Case.update</code>, returning a boolean.
See <a><code class="inline">Ash.can?/3</code></a> for more information</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#can_update_case_from_scraping/4" data-no-tooltip="" translate="no">can_update_case_from_scraping(actor, record, params_or_opts \\ %{}, opts \\ [])</a>

      </div>

        <div class="summary-synopsis"><p>Runs authorization checks for <code class="inline">EhsEnforcement.Enforcement.Case.update_from_scraping</code>
See <a><code class="inline">Ash.can/3</code></a> for more information</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#can_update_case_from_scraping?/4" data-no-tooltip="" translate="no">can_update_case_from_scraping?(actor, record, params_or_opts \\ %{}, opts \\ [])</a>

      </div>

        <div class="summary-synopsis"><p>Runs authorization checks for <code class="inline">EhsEnforcement.Enforcement.Case.update_from_scraping</code>, returning a boolean.
See <a><code class="inline">Ash.can?/3</code></a> for more information</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#can_update_legislation/4" data-no-tooltip="" translate="no">can_update_legislation(actor, record, params_or_opts \\ %{}, opts \\ [])</a>

      </div>

        <div class="summary-synopsis"><p>Runs authorization checks for <code class="inline">EhsEnforcement.Enforcement.Legislation.update</code>
See <a><code class="inline">Ash.can/3</code></a> for more information</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#can_update_legislation?/4" data-no-tooltip="" translate="no">can_update_legislation?(actor, record, params_or_opts \\ %{}, opts \\ [])</a>

      </div>

        <div class="summary-synopsis"><p>Runs authorization checks for <code class="inline">EhsEnforcement.Enforcement.Legislation.update</code>, returning a boolean.
See <a><code class="inline">Ash.can?/3</code></a> for more information</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#can_update_notice/4" data-no-tooltip="" translate="no">can_update_notice(actor, record, params_or_opts \\ %{}, opts \\ [])</a>

      </div>

        <div class="summary-synopsis"><p>Runs authorization checks for <code class="inline">EhsEnforcement.Enforcement.Notice.update</code>
See <a><code class="inline">Ash.can/3</code></a> for more information</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#can_update_notice?/4" data-no-tooltip="" translate="no">can_update_notice?(actor, record, params_or_opts \\ %{}, opts \\ [])</a>

      </div>

        <div class="summary-synopsis"><p>Runs authorization checks for <code class="inline">EhsEnforcement.Enforcement.Notice.update</code>, returning a boolean.
See <a><code class="inline">Ash.can?/3</code></a> for more information</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#can_update_offence/4" data-no-tooltip="" translate="no">can_update_offence(actor, record, params_or_opts \\ %{}, opts \\ [])</a>

      </div>

        <div class="summary-synopsis"><p>Runs authorization checks for <code class="inline">EhsEnforcement.Enforcement.Offence.update</code>
See <a><code class="inline">Ash.can/3</code></a> for more information</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#can_update_offence?/4" data-no-tooltip="" translate="no">can_update_offence?(actor, record, params_or_opts \\ %{}, opts \\ [])</a>

      </div>

        <div class="summary-synopsis"><p>Runs authorization checks for <code class="inline">EhsEnforcement.Enforcement.Offence.update</code>, returning a boolean.
See <a><code class="inline">Ash.can?/3</code></a> for more information</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#can_update_offender/4" data-no-tooltip="" translate="no">can_update_offender(actor, record, params_or_opts \\ %{}, opts \\ [])</a>

      </div>

        <div class="summary-synopsis"><p>Runs authorization checks for <code class="inline">EhsEnforcement.Enforcement.Offender.update</code>
See <a><code class="inline">Ash.can/3</code></a> for more information</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#can_update_offender?/4" data-no-tooltip="" translate="no">can_update_offender?(actor, record, params_or_opts \\ %{}, opts \\ [])</a>

      </div>

        <div class="summary-synopsis"><p>Runs authorization checks for <code class="inline">EhsEnforcement.Enforcement.Offender.update</code>, returning a boolean.
See <a><code class="inline">Ash.can?/3</code></a> for more information</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#can_update_offender_statistics/4" data-no-tooltip="" translate="no">can_update_offender_statistics(actor, record, params_or_opts \\ %{}, opts \\ [])</a>

      </div>

        <div class="summary-synopsis"><p>Runs authorization checks for <code class="inline">EhsEnforcement.Enforcement.Offender.update_statistics</code>
See <a><code class="inline">Ash.can/3</code></a> for more information</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#can_update_offender_statistics?/4" data-no-tooltip="" translate="no">can_update_offender_statistics?(actor, record, params_or_opts \\ %{}, opts \\ [])</a>

      </div>

        <div class="summary-synopsis"><p>Runs authorization checks for <code class="inline">EhsEnforcement.Enforcement.Offender.update_statistics</code>, returning a boolean.
See <a><code class="inline">Ash.can?/3</code></a> for more information</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#change_case_for_airtable_sync/2" data-no-tooltip="" translate="no">change_case_for_airtable_sync(case_record, attrs \\ %{})</a>

      </div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#change_case_for_scraping/2" data-no-tooltip="" translate="no">change_case_for_scraping(case_record, attrs \\ %{})</a>

      </div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#changeset_to_bulk_create_cases/2" data-no-tooltip="" translate="no">changeset_to_bulk_create_cases(params_or_opts \\ %{}, opts \\ [])</a>

      </div>

        <div class="summary-synopsis"><p>Returns the changeset corresponding to the action.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#changeset_to_bulk_create_offences/2" data-no-tooltip="" translate="no">changeset_to_bulk_create_offences(params_or_opts \\ %{}, opts \\ [])</a>

      </div>

        <div class="summary-synopsis"><p>Returns the changeset corresponding to the action.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#changeset_to_create_agency/2" data-no-tooltip="" translate="no">changeset_to_create_agency(params_or_opts \\ %{}, opts \\ [])</a>

      </div>

        <div class="summary-synopsis"><p>Returns the changeset corresponding to the action.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#changeset_to_create_case/2" data-no-tooltip="" translate="no">changeset_to_create_case(params_or_opts \\ %{}, opts \\ [])</a>

      </div>

        <div class="summary-synopsis"><p>Returns the changeset corresponding to the action.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#changeset_to_create_legislation/2" data-no-tooltip="" translate="no">changeset_to_create_legislation(params_or_opts \\ %{}, opts \\ [])</a>

      </div>

        <div class="summary-synopsis"><p>Returns the changeset corresponding to the action.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#changeset_to_create_notice/2" data-no-tooltip="" translate="no">changeset_to_create_notice(params_or_opts \\ %{}, opts \\ [])</a>

      </div>

        <div class="summary-synopsis"><p>Returns the changeset corresponding to the action.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#changeset_to_create_offence/2" data-no-tooltip="" translate="no">changeset_to_create_offence(params_or_opts \\ %{}, opts \\ [])</a>

      </div>

        <div class="summary-synopsis"><p>Returns the changeset corresponding to the action.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#changeset_to_create_offender/2" data-no-tooltip="" translate="no">changeset_to_create_offender(params_or_opts \\ %{}, opts \\ [])</a>

      </div>

        <div class="summary-synopsis"><p>Returns the changeset corresponding to the action.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#changeset_to_destroy_case/3" data-no-tooltip="" translate="no">changeset_to_destroy_case(record, params_or_opts \\ %{}, opts \\ [])</a>

      </div>

        <div class="summary-synopsis"><p>Returns the changeset corresponding to the action.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#changeset_to_destroy_legislation/3" data-no-tooltip="" translate="no">changeset_to_destroy_legislation(record, params_or_opts \\ %{}, opts \\ [])</a>

      </div>

        <div class="summary-synopsis"><p>Returns the changeset corresponding to the action.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#changeset_to_destroy_notice/3" data-no-tooltip="" translate="no">changeset_to_destroy_notice(record, params_or_opts \\ %{}, opts \\ [])</a>

      </div>

        <div class="summary-synopsis"><p>Returns the changeset corresponding to the action.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#changeset_to_destroy_offence/3" data-no-tooltip="" translate="no">changeset_to_destroy_offence(record, params_or_opts \\ %{}, opts \\ [])</a>

      </div>

        <div class="summary-synopsis"><p>Returns the changeset corresponding to the action.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#changeset_to_refresh_metrics/2" data-no-tooltip="" translate="no">changeset_to_refresh_metrics(params_or_opts \\ %{}, opts \\ [])</a>

      </div>

        <div class="summary-synopsis"><p>Returns the changeset corresponding to the action.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#changeset_to_sync_case_from_airtable/3" data-no-tooltip="" translate="no">changeset_to_sync_case_from_airtable(record, params_or_opts \\ %{}, opts \\ [])</a>

      </div>

        <div class="summary-synopsis"><p>Returns the changeset corresponding to the action.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#changeset_to_update_agency/3" data-no-tooltip="" translate="no">changeset_to_update_agency(record, params_or_opts \\ %{}, opts \\ [])</a>

      </div>

        <div class="summary-synopsis"><p>Returns the changeset corresponding to the action.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#changeset_to_update_case/3" data-no-tooltip="" translate="no">changeset_to_update_case(record, params_or_opts \\ %{}, opts \\ [])</a>

      </div>

        <div class="summary-synopsis"><p>Returns the changeset corresponding to the action.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#changeset_to_update_case_from_scraping/3" data-no-tooltip="" translate="no">changeset_to_update_case_from_scraping(record, params_or_opts \\ %{}, opts \\ [])</a>

      </div>

        <div class="summary-synopsis"><p>Returns the changeset corresponding to the action.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#changeset_to_update_legislation/3" data-no-tooltip="" translate="no">changeset_to_update_legislation(record, params_or_opts \\ %{}, opts \\ [])</a>

      </div>

        <div class="summary-synopsis"><p>Returns the changeset corresponding to the action.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#changeset_to_update_notice/3" data-no-tooltip="" translate="no">changeset_to_update_notice(record, params_or_opts \\ %{}, opts \\ [])</a>

      </div>

        <div class="summary-synopsis"><p>Returns the changeset corresponding to the action.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#changeset_to_update_offence/3" data-no-tooltip="" translate="no">changeset_to_update_offence(record, params_or_opts \\ %{}, opts \\ [])</a>

      </div>

        <div class="summary-synopsis"><p>Returns the changeset corresponding to the action.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#changeset_to_update_offender/3" data-no-tooltip="" translate="no">changeset_to_update_offender(record, params_or_opts \\ %{}, opts \\ [])</a>

      </div>

        <div class="summary-synopsis"><p>Returns the changeset corresponding to the action.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#changeset_to_update_offender_statistics/3" data-no-tooltip="" translate="no">changeset_to_update_offender_statistics(record, params_or_opts \\ %{}, opts \\ [])</a>

      </div>

        <div class="summary-synopsis"><p>Returns the changeset corresponding to the action.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#check_existing_notice_regulator_ids/3" data-no-tooltip="" translate="no">check_existing_notice_regulator_ids(regulator_ids, agency_code, actor \\ nil)</a>

      </div>

        <div class="summary-synopsis"><p>Check which notice regulator_ids already exist in the database.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#clear_cache/0" data-no-tooltip="" translate="no">clear_cache()</a>

      </div>

        <div class="summary-synopsis"><p>Clear all cached results. Useful when data is updated.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#count/2" data-no-tooltip="" translate="no">count(query, opts \\ [])</a>

          <span class="deprecated" title="Use `Ash.count/2` instead">deprecated</span>

      </div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#count!/2" data-no-tooltip="" translate="no">count!(query, opts \\ [])</a>

          <span class="deprecated" title="Use `Ash.count!/2` instead">deprecated</span>

      </div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#count_cases!/1" data-no-tooltip="" translate="no">count_cases!(opts \\ [])</a>

      </div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#count_cases_cached!/1" data-no-tooltip="" translate="no">count_cases_cached!(opts \\ [])</a>

      </div>

        <div class="summary-synopsis"><p>Cached count functions for dashboard metrics and pagination.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#count_cases_monitored!/1" data-no-tooltip="" translate="no">count_cases_monitored!(opts \\ [])</a>

      </div>

        <div class="summary-synopsis"><p>Monitored version of count_cases! that logs slow queries.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#count_legislation!/1" data-no-tooltip="" translate="no">count_legislation!(opts \\ [])</a>

      </div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#count_notices!/1" data-no-tooltip="" translate="no">count_notices!(opts \\ [])</a>

      </div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#count_notices_cached!/1" data-no-tooltip="" translate="no">count_notices_cached!(opts \\ [])</a>

      </div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#count_notices_monitored!/1" data-no-tooltip="" translate="no">count_notices_monitored!(opts \\ [])</a>

      </div>

        <div class="summary-synopsis"><p>Monitored version of count_notices! that logs slow queries.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#count_offenders!/1" data-no-tooltip="" translate="no">count_offenders!(opts \\ [])</a>

      </div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#count_offenders_cached!/1" data-no-tooltip="" translate="no">count_offenders_cached!(opts \\ [])</a>

      </div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#count_offenders_monitored!/1" data-no-tooltip="" translate="no">count_offenders_monitored!(opts \\ [])</a>

      </div>

        <div class="summary-synopsis"><p>Monitored version of count_offenders! that logs slow queries.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#create/2" data-no-tooltip="" translate="no">create(changeset, opts \\ [])</a>

          <span class="deprecated" title="Use `Ash.create/2` instead">deprecated</span>

      </div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#create!/2" data-no-tooltip="" translate="no">create!(changeset, opts \\ [])</a>

          <span class="deprecated" title="Use `Ash.create!/2` instead">deprecated</span>

      </div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#create_agency/2" data-no-tooltip="" translate="no">create_agency(params \\ nil, opts \\ nil)</a>

      </div>

        <div class="summary-synopsis"><p>Calls the create action on EhsEnforcement.Enforcement.Agency.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#create_agency!/2" data-no-tooltip="" translate="no">create_agency!(params \\ nil, opts \\ nil)</a>

      </div>

        <div class="summary-synopsis"><p>Calls the create action on EhsEnforcement.Enforcement.Agency.
Raises any errors instead of returning them</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#create_case/2" data-no-tooltip="" translate="no">create_case(params \\ nil, opts \\ nil)</a>

      </div>

        <div class="summary-synopsis"><p>Calls the create action on EhsEnforcement.Enforcement.Case.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#create_case!/2" data-no-tooltip="" translate="no">create_case!(params \\ nil, opts \\ nil)</a>

      </div>

        <div class="summary-synopsis"><p>Calls the create action on EhsEnforcement.Enforcement.Case.
Raises any errors instead of returning them</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#create_legislation/2" data-no-tooltip="" translate="no">create_legislation(params \\ nil, opts \\ nil)</a>

      </div>

        <div class="summary-synopsis"><p>Calls the create action on EhsEnforcement.Enforcement.Legislation.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#create_legislation!/2" data-no-tooltip="" translate="no">create_legislation!(params \\ nil, opts \\ nil)</a>

      </div>

        <div class="summary-synopsis"><p>Calls the create action on EhsEnforcement.Enforcement.Legislation.
Raises any errors instead of returning them</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#create_notice/2" data-no-tooltip="" translate="no">create_notice(params \\ nil, opts \\ nil)</a>

      </div>

        <div class="summary-synopsis"><p>Calls the create action on EhsEnforcement.Enforcement.Notice.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#create_notice!/2" data-no-tooltip="" translate="no">create_notice!(params \\ nil, opts \\ nil)</a>

      </div>

        <div class="summary-synopsis"><p>Calls the create action on EhsEnforcement.Enforcement.Notice.
Raises any errors instead of returning them</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#create_offence/2" data-no-tooltip="" translate="no">create_offence(params \\ nil, opts \\ nil)</a>

      </div>

        <div class="summary-synopsis"><p>Calls the create action on EhsEnforcement.Enforcement.Offence.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#create_offence!/2" data-no-tooltip="" translate="no">create_offence!(params \\ nil, opts \\ nil)</a>

      </div>

        <div class="summary-synopsis"><p>Calls the create action on EhsEnforcement.Enforcement.Offence.
Raises any errors instead of returning them</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#create_offender/2" data-no-tooltip="" translate="no">create_offender(params \\ nil, opts \\ nil)</a>

      </div>

        <div class="summary-synopsis"><p>Calls the create action on EhsEnforcement.Enforcement.Offender.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#create_offender!/2" data-no-tooltip="" translate="no">create_offender!(params \\ nil, opts \\ nil)</a>

      </div>

        <div class="summary-synopsis"><p>Calls the create action on EhsEnforcement.Enforcement.Offender.
Raises any errors instead of returning them</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#default_short_name/0" data-no-tooltip="" translate="no">default_short_name()</a>

      </div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#destroy/2" data-no-tooltip="" translate="no">destroy(record, opts \\ [])</a>

          <span class="deprecated" title="Use `Ash.destroy/2` instead">deprecated</span>

      </div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#destroy!/2" data-no-tooltip="" translate="no">destroy!(record, opts \\ [])</a>

          <span class="deprecated" title="Use `Ash.destroy!/2` instead">deprecated</span>

      </div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#destroy_case/3" data-no-tooltip="" translate="no">destroy_case(record, params \\ nil, opts \\ nil)</a>

      </div>

        <div class="summary-synopsis"><p>Calls the destroy action on EhsEnforcement.Enforcement.Case.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#destroy_case!/3" data-no-tooltip="" translate="no">destroy_case!(record, params \\ nil, opts \\ nil)</a>

      </div>

        <div class="summary-synopsis"><p>Calls the destroy action on EhsEnforcement.Enforcement.Case.
Raises any errors instead of returning them</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#destroy_legislation/3" data-no-tooltip="" translate="no">destroy_legislation(record, params \\ nil, opts \\ nil)</a>

      </div>

        <div class="summary-synopsis"><p>Calls the destroy action on EhsEnforcement.Enforcement.Legislation.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#destroy_legislation!/3" data-no-tooltip="" translate="no">destroy_legislation!(record, params \\ nil, opts \\ nil)</a>

      </div>

        <div class="summary-synopsis"><p>Calls the destroy action on EhsEnforcement.Enforcement.Legislation.
Raises any errors instead of returning them</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#destroy_notice/3" data-no-tooltip="" translate="no">destroy_notice(record, params \\ nil, opts \\ nil)</a>

      </div>

        <div class="summary-synopsis"><p>Calls the destroy action on EhsEnforcement.Enforcement.Notice.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#destroy_notice!/3" data-no-tooltip="" translate="no">destroy_notice!(record, params \\ nil, opts \\ nil)</a>

      </div>

        <div class="summary-synopsis"><p>Calls the destroy action on EhsEnforcement.Enforcement.Notice.
Raises any errors instead of returning them</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#destroy_offence/3" data-no-tooltip="" translate="no">destroy_offence(record, params \\ nil, opts \\ nil)</a>

      </div>

        <div class="summary-synopsis"><p>Calls the destroy action on EhsEnforcement.Enforcement.Offence.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#destroy_offence!/3" data-no-tooltip="" translate="no">destroy_offence!(record, params \\ nil, opts \\ nil)</a>

      </div>

        <div class="summary-synopsis"><p>Calls the destroy action on EhsEnforcement.Enforcement.Offence.
Raises any errors instead of returning them</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#exists/2" data-no-tooltip="" translate="no">exists(query, opts \\ [])</a>

          <span class="deprecated" title="Use `Ash.exists/2` instead">deprecated</span>

      </div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#exists?/2" data-no-tooltip="" translate="no">exists?(query, opts \\ [])</a>

          <span class="deprecated" title="Use `Ash.exists?/2` instead">deprecated</span>

      </div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#find_duplicate_offenders_by_company_number/0" data-no-tooltip="" translate="no">find_duplicate_offenders_by_company_number()</a>

      </div>

        <div class="summary-synopsis"><p>Find offenders with duplicate company registration numbers.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#find_or_create_legislation/4" data-no-tooltip="" translate="no">find_or_create_legislation(title, year \\ nil, number \\ nil, type \\ nil)</a>

      </div>

        <div class="summary-synopsis"><p>Find or create legislation with deduplication logic.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#first/3" data-no-tooltip="" translate="no">first(query, field, opts \\ [])</a>

          <span class="deprecated" title="Use `Ash.first/3` instead">deprecated</span>

      </div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#first!/3" data-no-tooltip="" translate="no">first!(query, field, opts \\ [])</a>

          <span class="deprecated" title="Use `Ash.first!/3` instead">deprecated</span>

      </div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#form_to_bulk_create_cases/1" data-no-tooltip="" translate="no">form_to_bulk_create_cases(form_opts \\ [])</a>

      </div>

        <div class="summary-synopsis"><p>Batch processing for creating multiple cases efficiently</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#form_to_bulk_create_offences/1" data-no-tooltip="" translate="no">form_to_bulk_create_offences(form_opts \\ [])</a>

      </div>

        <div class="summary-synopsis"><p>Batch processing for creating multiple offences efficiently</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#form_to_create_agency/1" data-no-tooltip="" translate="no">form_to_create_agency(form_opts \\ [])</a>

      </div>

        <div class="summary-synopsis"><p>Creates a form for the create action on EhsEnforcement.Enforcement.Agency.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#form_to_create_case/1" data-no-tooltip="" translate="no">form_to_create_case(form_opts \\ [])</a>

      </div>

        <div class="summary-synopsis"><p>Creates a form for the create action on EhsEnforcement.Enforcement.Case.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#form_to_create_legislation/1" data-no-tooltip="" translate="no">form_to_create_legislation(form_opts \\ [])</a>

      </div>

        <div class="summary-synopsis"><p>Creates a form for the create action on EhsEnforcement.Enforcement.Legislation.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#form_to_create_notice/1" data-no-tooltip="" translate="no">form_to_create_notice(form_opts \\ [])</a>

      </div>

        <div class="summary-synopsis"><p>Creates a form for the create action on EhsEnforcement.Enforcement.Notice.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#form_to_create_offence/1" data-no-tooltip="" translate="no">form_to_create_offence(form_opts \\ [])</a>

      </div>

        <div class="summary-synopsis"><p>Creates a form for the create action on EhsEnforcement.Enforcement.Offence.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#form_to_create_offender/1" data-no-tooltip="" translate="no">form_to_create_offender(form_opts \\ [])</a>

      </div>

        <div class="summary-synopsis"><p>Creates a form for the create action on EhsEnforcement.Enforcement.Offender.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#form_to_destroy_case/2" data-no-tooltip="" translate="no">form_to_destroy_case(record, form_opts \\ [])</a>

      </div>

        <div class="summary-synopsis"><p>Creates a form for the destroy action on EhsEnforcement.Enforcement.Case.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#form_to_destroy_legislation/2" data-no-tooltip="" translate="no">form_to_destroy_legislation(record, form_opts \\ [])</a>

      </div>

        <div class="summary-synopsis"><p>Creates a form for the destroy action on EhsEnforcement.Enforcement.Legislation.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#form_to_destroy_notice/2" data-no-tooltip="" translate="no">form_to_destroy_notice(record, form_opts \\ [])</a>

      </div>

        <div class="summary-synopsis"><p>Creates a form for the destroy action on EhsEnforcement.Enforcement.Notice.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#form_to_destroy_offence/2" data-no-tooltip="" translate="no">form_to_destroy_offence(record, form_opts \\ [])</a>

      </div>

        <div class="summary-synopsis"><p>Creates a form for the destroy action on EhsEnforcement.Enforcement.Offence.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#form_to_get_agency/1" data-no-tooltip="" translate="no">form_to_get_agency(form_opts \\ [])</a>

      </div>

        <div class="summary-synopsis"><p>Creates a form for the read action on EhsEnforcement.Enforcement.Agency.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#form_to_get_agency_by_code/1" data-no-tooltip="" translate="no">form_to_get_agency_by_code(form_opts \\ [])</a>

      </div>

        <div class="summary-synopsis"><p>Creates a form for the read action on EhsEnforcement.Enforcement.Agency.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#form_to_get_case/1" data-no-tooltip="" translate="no">form_to_get_case(form_opts \\ [])</a>

      </div>

        <div class="summary-synopsis"><p>Creates a form for the read action on EhsEnforcement.Enforcement.Case.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#form_to_get_current_metrics/1" data-no-tooltip="" translate="no">form_to_get_current_metrics(form_opts \\ [])</a>

      </div>

        <div class="summary-synopsis"><p>Get the most recent metrics for each time period</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#form_to_get_legislation/1" data-no-tooltip="" translate="no">form_to_get_legislation(form_opts \\ [])</a>

      </div>

        <div class="summary-synopsis"><p>Creates a form for the read action on EhsEnforcement.Enforcement.Legislation.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#form_to_get_notice/1" data-no-tooltip="" translate="no">form_to_get_notice(form_opts \\ [])</a>

      </div>

        <div class="summary-synopsis"><p>Creates a form for the read action on EhsEnforcement.Enforcement.Notice.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#form_to_get_offence/1" data-no-tooltip="" translate="no">form_to_get_offence(form_opts \\ [])</a>

      </div>

        <div class="summary-synopsis"><p>Creates a form for the read action on EhsEnforcement.Enforcement.Offence.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#form_to_get_offence_by_reference/1" data-no-tooltip="" translate="no">form_to_get_offence_by_reference(form_opts \\ [])</a>

      </div>

        <div class="summary-synopsis"><p>Creates a form for the by_reference action on EhsEnforcement.Enforcement.Offence.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#form_to_get_offender/1" data-no-tooltip="" translate="no">form_to_get_offender(form_opts \\ [])</a>

      </div>

        <div class="summary-synopsis"><p>Creates a form for the read action on EhsEnforcement.Enforcement.Offender.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#form_to_list_agencies/1" data-no-tooltip="" translate="no">form_to_list_agencies(form_opts \\ [])</a>

      </div>

        <div class="summary-synopsis"><p>Creates a form for the read action on EhsEnforcement.Enforcement.Agency.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#form_to_list_cases/1" data-no-tooltip="" translate="no">form_to_list_cases(form_opts \\ [])</a>

      </div>

        <div class="summary-synopsis"><p>Creates a form for the read action on EhsEnforcement.Enforcement.Case.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#form_to_list_cases_by_date_range/1" data-no-tooltip="" translate="no">form_to_list_cases_by_date_range(form_opts \\ [])</a>

      </div>

        <div class="summary-synopsis"><p>Creates a form for the by_date_range action on EhsEnforcement.Enforcement.Case.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#form_to_list_legislation/1" data-no-tooltip="" translate="no">form_to_list_legislation(form_opts \\ [])</a>

      </div>

        <div class="summary-synopsis"><p>Creates a form for the read action on EhsEnforcement.Enforcement.Legislation.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#form_to_list_legislation_by_type/1" data-no-tooltip="" translate="no">form_to_list_legislation_by_type(form_opts \\ [])</a>

      </div>

        <div class="summary-synopsis"><p>Creates a form for the by_type action on EhsEnforcement.Enforcement.Legislation.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#form_to_list_legislation_by_year_range/1" data-no-tooltip="" translate="no">form_to_list_legislation_by_year_range(form_opts \\ [])</a>

      </div>

        <div class="summary-synopsis"><p>Creates a form for the by_year_range action on EhsEnforcement.Enforcement.Legislation.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#form_to_list_notices/1" data-no-tooltip="" translate="no">form_to_list_notices(form_opts \\ [])</a>

      </div>

        <div class="summary-synopsis"><p>Creates a form for the read action on EhsEnforcement.Enforcement.Notice.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#form_to_list_offences/1" data-no-tooltip="" translate="no">form_to_list_offences(form_opts \\ [])</a>

      </div>

        <div class="summary-synopsis"><p>Creates a form for the read action on EhsEnforcement.Enforcement.Offence.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#form_to_list_offences_by_case/1" data-no-tooltip="" translate="no">form_to_list_offences_by_case(form_opts \\ [])</a>

      </div>

        <div class="summary-synopsis"><p>Creates a form for the by_case action on EhsEnforcement.Enforcement.Offence.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#form_to_list_offences_by_legislation/1" data-no-tooltip="" translate="no">form_to_list_offences_by_legislation(form_opts \\ [])</a>

      </div>

        <div class="summary-synopsis"><p>Creates a form for the by_legislation action on EhsEnforcement.Enforcement.Offence.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#form_to_list_offences_by_notice/1" data-no-tooltip="" translate="no">form_to_list_offences_by_notice(form_opts \\ [])</a>

      </div>

        <div class="summary-synopsis"><p>Creates a form for the by_notice action on EhsEnforcement.Enforcement.Offence.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#form_to_list_offences_with_fines/1" data-no-tooltip="" translate="no">form_to_list_offences_with_fines(form_opts \\ [])</a>

      </div>

        <div class="summary-synopsis"><p>Creates a form for the with_fines action on EhsEnforcement.Enforcement.Offence.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#form_to_list_offenders/1" data-no-tooltip="" translate="no">form_to_list_offenders(form_opts \\ [])</a>

      </div>

        <div class="summary-synopsis"><p>Creates a form for the read action on EhsEnforcement.Enforcement.Offender.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#form_to_refresh_metrics/1" data-no-tooltip="" translate="no">form_to_refresh_metrics(form_opts \\ [])</a>

      </div>

        <div class="summary-synopsis"><p>Refresh metrics for a specific filter combination</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#form_to_search_legislation_title/1" data-no-tooltip="" translate="no">form_to_search_legislation_title(form_opts \\ [])</a>

      </div>

        <div class="summary-synopsis"><p>Creates a form for the search_title action on EhsEnforcement.Enforcement.Legislation.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#form_to_search_offence_description/1" data-no-tooltip="" translate="no">form_to_search_offence_description(form_opts \\ [])</a>

      </div>

        <div class="summary-synopsis"><p>Creates a form for the search_description action on EhsEnforcement.Enforcement.Offence.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#form_to_search_offenders/1" data-no-tooltip="" translate="no">form_to_search_offenders(form_opts \\ [])</a>

      </div>

        <div class="summary-synopsis"><p>Creates a form for the search action on EhsEnforcement.Enforcement.Offender.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#form_to_sync_case_from_airtable/2" data-no-tooltip="" translate="no">form_to_sync_case_from_airtable(record, form_opts \\ [])</a>

      </div>

        <div class="summary-synopsis"><p>Creates a form for the sync_from_airtable action on EhsEnforcement.Enforcement.Case.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#form_to_update_agency/2" data-no-tooltip="" translate="no">form_to_update_agency(record, form_opts \\ [])</a>

      </div>

        <div class="summary-synopsis"><p>Creates a form for the update action on EhsEnforcement.Enforcement.Agency.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#form_to_update_case/2" data-no-tooltip="" translate="no">form_to_update_case(record, form_opts \\ [])</a>

      </div>

        <div class="summary-synopsis"><p>Creates a form for the update action on EhsEnforcement.Enforcement.Case.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#form_to_update_case_from_scraping/2" data-no-tooltip="" translate="no">form_to_update_case_from_scraping(record, form_opts \\ [])</a>

      </div>

        <div class="summary-synopsis"><p>Creates a form for the update_from_scraping action on EhsEnforcement.Enforcement.Case.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#form_to_update_legislation/2" data-no-tooltip="" translate="no">form_to_update_legislation(record, form_opts \\ [])</a>

      </div>

        <div class="summary-synopsis"><p>Creates a form for the update action on EhsEnforcement.Enforcement.Legislation.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#form_to_update_notice/2" data-no-tooltip="" translate="no">form_to_update_notice(record, form_opts \\ [])</a>

      </div>

        <div class="summary-synopsis"><p>Creates a form for the update action on EhsEnforcement.Enforcement.Notice.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#form_to_update_offence/2" data-no-tooltip="" translate="no">form_to_update_offence(record, form_opts \\ [])</a>

      </div>

        <div class="summary-synopsis"><p>Creates a form for the update action on EhsEnforcement.Enforcement.Offence.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#form_to_update_offender/2" data-no-tooltip="" translate="no">form_to_update_offender(record, form_opts \\ [])</a>

      </div>

        <div class="summary-synopsis"><p>Creates a form for the update action on EhsEnforcement.Enforcement.Offender.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#form_to_update_offender_statistics/2" data-no-tooltip="" translate="no">form_to_update_offender_statistics(record, form_opts \\ [])</a>

      </div>

        <div class="summary-synopsis"><p>Creates a form for the update_statistics action on EhsEnforcement.Enforcement.Offender.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#fuzzy_search_cases/2" data-no-tooltip="" translate="no">fuzzy_search_cases(search_term, opts \\ [])</a>

      </div>

        <div class="summary-synopsis"><p>Perform fuzzy search across cases using pg_trgm trigram similarity.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#fuzzy_search_notices/2" data-no-tooltip="" translate="no">fuzzy_search_notices(search_term, opts \\ [])</a>

      </div>

        <div class="summary-synopsis"><p>Perform fuzzy search across notices using pg_trgm trigram similarity.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#fuzzy_search_offenders/2" data-no-tooltip="" translate="no">fuzzy_search_offenders(search_term, opts \\ [])</a>

      </div>

        <div class="summary-synopsis"><p>Perform fuzzy search across offenders using pg_trgm trigram similarity.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#get/3" data-no-tooltip="" translate="no">get(resource, id_or_filter, opts \\ [])</a>

          <span class="deprecated" title="Use `Ash.get/3` instead">deprecated</span>

      </div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#get!/3" data-no-tooltip="" translate="no">get!(resource, id_or_filter, opts \\ [])</a>

          <span class="deprecated" title="Use `Ash.get!/3` instead">deprecated</span>

      </div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#get_agency/3" data-no-tooltip="" translate="no">get_agency(id, params \\ nil, opts \\ nil)</a>

      </div>

        <div class="summary-synopsis"><p>Calls the read action on EhsEnforcement.Enforcement.Agency.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#get_agency!/3" data-no-tooltip="" translate="no">get_agency!(id, params \\ nil, opts \\ nil)</a>

      </div>

        <div class="summary-synopsis"><p>Calls the read action on EhsEnforcement.Enforcement.Agency.
Raises any errors instead of returning them</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#get_agency_by_code/3" data-no-tooltip="" translate="no">get_agency_by_code(code, params \\ nil, opts \\ nil)</a>

      </div>

        <div class="summary-synopsis"><p>Calls the read action on EhsEnforcement.Enforcement.Agency.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#get_agency_by_code!/3" data-no-tooltip="" translate="no">get_agency_by_code!(code, params \\ nil, opts \\ nil)</a>

      </div>

        <div class="summary-synopsis"><p>Calls the read action on EhsEnforcement.Enforcement.Agency.
Raises any errors instead of returning them</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#get_case/3" data-no-tooltip="" translate="no">get_case(id, params \\ nil, opts \\ nil)</a>

      </div>

        <div class="summary-synopsis"><p>Calls the read action on EhsEnforcement.Enforcement.Case.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#get_case!/3" data-no-tooltip="" translate="no">get_case!(id, params \\ nil, opts \\ nil)</a>

      </div>

        <div class="summary-synopsis"><p>Calls the read action on EhsEnforcement.Enforcement.Case.
Raises any errors instead of returning them</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#get_current_metrics/2" data-no-tooltip="" translate="no">get_current_metrics(params \\ nil, opts \\ nil)</a>

      </div>

        <div class="summary-synopsis"><p>Get the most recent metrics for each time period</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#get_current_metrics!/2" data-no-tooltip="" translate="no">get_current_metrics!(params \\ nil, opts \\ nil)</a>

      </div>

        <div class="summary-synopsis"><p>Get the most recent metrics for each time period
Raises any errors instead of returning them</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#get_legislation/3" data-no-tooltip="" translate="no">get_legislation(id, params \\ nil, opts \\ nil)</a>

      </div>

        <div class="summary-synopsis"><p>Calls the read action on EhsEnforcement.Enforcement.Legislation.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#get_legislation!/3" data-no-tooltip="" translate="no">get_legislation!(id, params \\ nil, opts \\ nil)</a>

      </div>

        <div class="summary-synopsis"><p>Calls the read action on EhsEnforcement.Enforcement.Legislation.
Raises any errors instead of returning them</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#get_legislation_stats/0" data-no-tooltip="" translate="no">get_legislation_stats()</a>

      </div>

        <div class="summary-synopsis"><p>Get legislation statistics for monitoring duplicate prevention.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#get_notice/3" data-no-tooltip="" translate="no">get_notice(id, params \\ nil, opts \\ nil)</a>

      </div>

        <div class="summary-synopsis"><p>Calls the read action on EhsEnforcement.Enforcement.Notice.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#get_notice!/3" data-no-tooltip="" translate="no">get_notice!(id, params \\ nil, opts \\ nil)</a>

      </div>

        <div class="summary-synopsis"><p>Calls the read action on EhsEnforcement.Enforcement.Notice.
Raises any errors instead of returning them</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#get_offence/3" data-no-tooltip="" translate="no">get_offence(id, params \\ nil, opts \\ nil)</a>

      </div>

        <div class="summary-synopsis"><p>Calls the read action on EhsEnforcement.Enforcement.Offence.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#get_offence!/3" data-no-tooltip="" translate="no">get_offence!(id, params \\ nil, opts \\ nil)</a>

      </div>

        <div class="summary-synopsis"><p>Calls the read action on EhsEnforcement.Enforcement.Offence.
Raises any errors instead of returning them</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#get_offence_by_reference/3" data-no-tooltip="" translate="no">get_offence_by_reference(offence_reference, params \\ nil, opts \\ nil)</a>

      </div>

        <div class="summary-synopsis"><p>Calls the by_reference action on EhsEnforcement.Enforcement.Offence.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#get_offence_by_reference!/3" data-no-tooltip="" translate="no">get_offence_by_reference!(offence_reference, params \\ nil, opts \\ nil)</a>

      </div>

        <div class="summary-synopsis"><p>Calls the by_reference action on EhsEnforcement.Enforcement.Offence.
Raises any errors instead of returning them</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#get_offender/3" data-no-tooltip="" translate="no">get_offender(id, params \\ nil, opts \\ nil)</a>

      </div>

        <div class="summary-synopsis"><p>Calls the read action on EhsEnforcement.Enforcement.Offender.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#get_offender!/3" data-no-tooltip="" translate="no">get_offender!(id, params \\ nil, opts \\ nil)</a>

      </div>

        <div class="summary-synopsis"><p>Calls the read action on EhsEnforcement.Enforcement.Offender.
Raises any errors instead of returning them</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#get_offender_by_name_and_postcode/2" data-no-tooltip="" translate="no">get_offender_by_name_and_postcode(name, postcode)</a>

      </div>

        <div class="summary-synopsis"><p>Code Interface Functions</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#get_performance_stats/0" data-no-tooltip="" translate="no">get_performance_stats()</a>

      </div>

        <div class="summary-synopsis"><p>Get query performance statistics for monitoring dashboards.
This could be extended to track metrics in ETS/database for reporting.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#init_cache/0" data-no-tooltip="" translate="no">init_cache()</a>

      </div>

        <div class="summary-synopsis"><p>Initialize the cache table. Called during application startup.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#list/3" data-no-tooltip="" translate="no">list(query, field, opts \\ [])</a>

          <span class="deprecated" title="Use `Ash.list/3` instead">deprecated</span>

      </div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#list!/3" data-no-tooltip="" translate="no">list!(query, field, opts \\ [])</a>

          <span class="deprecated" title="Use `Ash.list!/3` instead">deprecated</span>

      </div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#list_agencies/2" data-no-tooltip="" translate="no">list_agencies(params \\ nil, opts \\ nil)</a>

      </div>

        <div class="summary-synopsis"><p>Calls the read action on EhsEnforcement.Enforcement.Agency.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#list_agencies!/2" data-no-tooltip="" translate="no">list_agencies!(params \\ nil, opts \\ nil)</a>

      </div>

        <div class="summary-synopsis"><p>Calls the read action on EhsEnforcement.Enforcement.Agency.
Raises any errors instead of returning them</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#list_cases/2" data-no-tooltip="" translate="no">list_cases(params \\ nil, opts \\ nil)</a>

      </div>

        <div class="summary-synopsis"><p>Calls the read action on EhsEnforcement.Enforcement.Case.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#list_cases!/2" data-no-tooltip="" translate="no">list_cases!(params \\ nil, opts \\ nil)</a>

      </div>

        <div class="summary-synopsis"><p>Calls the read action on EhsEnforcement.Enforcement.Case.
Raises any errors instead of returning them</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#list_cases_by_date_range/4" data-no-tooltip="" translate="no">list_cases_by_date_range(from_date, to_date, params \\ nil, opts \\ nil)</a>

      </div>

        <div class="summary-synopsis"><p>Calls the by_date_range action on EhsEnforcement.Enforcement.Case.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#list_cases_by_date_range!/4" data-no-tooltip="" translate="no">list_cases_by_date_range!(from_date, to_date, params \\ nil, opts \\ nil)</a>

      </div>

        <div class="summary-synopsis"><p>Calls the by_date_range action on EhsEnforcement.Enforcement.Case.
Raises any errors instead of returning them</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#list_cases_with_filters/1" data-no-tooltip="" translate="no">list_cases_with_filters(opts \\ [])</a>

      </div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#list_cases_with_filters!/1" data-no-tooltip="" translate="no">list_cases_with_filters!(opts \\ [])</a>

      </div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#list_cases_with_filters_cached!/1" data-no-tooltip="" translate="no">list_cases_with_filters_cached!(opts \\ [])</a>

      </div>

        <div class="summary-synopsis"><p>Cached version of list_cases_with_filters! for frequently used filter combinations.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#list_cases_with_filters_monitored!/1" data-no-tooltip="" translate="no">list_cases_with_filters_monitored!(opts \\ [])</a>

      </div>

        <div class="summary-synopsis"><p>Monitored version of list_cases_with_filters! that logs slow queries.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#list_legislation/2" data-no-tooltip="" translate="no">list_legislation(params \\ nil, opts \\ nil)</a>

      </div>

        <div class="summary-synopsis"><p>Calls the read action on EhsEnforcement.Enforcement.Legislation.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#list_legislation!/2" data-no-tooltip="" translate="no">list_legislation!(params \\ nil, opts \\ nil)</a>

      </div>

        <div class="summary-synopsis"><p>Calls the read action on EhsEnforcement.Enforcement.Legislation.
Raises any errors instead of returning them</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#list_legislation_by_type/3" data-no-tooltip="" translate="no">list_legislation_by_type(legislation_type, params \\ nil, opts \\ nil)</a>

      </div>

        <div class="summary-synopsis"><p>Calls the by_type action on EhsEnforcement.Enforcement.Legislation.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#list_legislation_by_type!/3" data-no-tooltip="" translate="no">list_legislation_by_type!(legislation_type, params \\ nil, opts \\ nil)</a>

      </div>

        <div class="summary-synopsis"><p>Calls the by_type action on EhsEnforcement.Enforcement.Legislation.
Raises any errors instead of returning them</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#list_legislation_by_year_range/4" data-no-tooltip="" translate="no">list_legislation_by_year_range(start_year, end_year, params \\ nil, opts \\ nil)</a>

      </div>

        <div class="summary-synopsis"><p>Calls the by_year_range action on EhsEnforcement.Enforcement.Legislation.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#list_legislation_by_year_range!/4" data-no-tooltip="" translate="no">list_legislation_by_year_range!(start_year, end_year, params \\ nil, opts \\ nil)</a>

      </div>

        <div class="summary-synopsis"><p>Calls the by_year_range action on EhsEnforcement.Enforcement.Legislation.
Raises any errors instead of returning them</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#list_legislation_with_filters!/1" data-no-tooltip="" translate="no">list_legislation_with_filters!(opts \\ [])</a>

      </div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#list_notices/2" data-no-tooltip="" translate="no">list_notices(params \\ nil, opts \\ nil)</a>

      </div>

        <div class="summary-synopsis"><p>Calls the read action on EhsEnforcement.Enforcement.Notice.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#list_notices!/2" data-no-tooltip="" translate="no">list_notices!(params \\ nil, opts \\ nil)</a>

      </div>

        <div class="summary-synopsis"><p>Calls the read action on EhsEnforcement.Enforcement.Notice.
Raises any errors instead of returning them</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#list_notices_with_filters!/1" data-no-tooltip="" translate="no">list_notices_with_filters!(opts \\ [])</a>

      </div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#list_notices_with_filters_cached!/1" data-no-tooltip="" translate="no">list_notices_with_filters_cached!(opts \\ [])</a>

      </div>

        <div class="summary-synopsis"><p>Cached version of list_notices_with_filters! for frequently used filter combinations.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#list_notices_with_filters_monitored!/1" data-no-tooltip="" translate="no">list_notices_with_filters_monitored!(opts \\ [])</a>

      </div>

        <div class="summary-synopsis"><p>Monitored version of list_notices_with_filters! that logs slow queries.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#list_offences/2" data-no-tooltip="" translate="no">list_offences(params \\ nil, opts \\ nil)</a>

      </div>

        <div class="summary-synopsis"><p>Calls the read action on EhsEnforcement.Enforcement.Offence.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#list_offences!/2" data-no-tooltip="" translate="no">list_offences!(params \\ nil, opts \\ nil)</a>

      </div>

        <div class="summary-synopsis"><p>Calls the read action on EhsEnforcement.Enforcement.Offence.
Raises any errors instead of returning them</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#list_offences_by_case/3" data-no-tooltip="" translate="no">list_offences_by_case(case_id, params \\ nil, opts \\ nil)</a>

      </div>

        <div class="summary-synopsis"><p>Calls the by_case action on EhsEnforcement.Enforcement.Offence.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#list_offences_by_case!/3" data-no-tooltip="" translate="no">list_offences_by_case!(case_id, params \\ nil, opts \\ nil)</a>

      </div>

        <div class="summary-synopsis"><p>Calls the by_case action on EhsEnforcement.Enforcement.Offence.
Raises any errors instead of returning them</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#list_offences_by_legislation/3" data-no-tooltip="" translate="no">list_offences_by_legislation(legislation_id, params \\ nil, opts \\ nil)</a>

      </div>

        <div class="summary-synopsis"><p>Calls the by_legislation action on EhsEnforcement.Enforcement.Offence.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#list_offences_by_legislation!/3" data-no-tooltip="" translate="no">list_offences_by_legislation!(legislation_id, params \\ nil, opts \\ nil)</a>

      </div>

        <div class="summary-synopsis"><p>Calls the by_legislation action on EhsEnforcement.Enforcement.Offence.
Raises any errors instead of returning them</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#list_offences_by_notice/3" data-no-tooltip="" translate="no">list_offences_by_notice(notice_id, params \\ nil, opts \\ nil)</a>

      </div>

        <div class="summary-synopsis"><p>Calls the by_notice action on EhsEnforcement.Enforcement.Offence.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#list_offences_by_notice!/3" data-no-tooltip="" translate="no">list_offences_by_notice!(notice_id, params \\ nil, opts \\ nil)</a>

      </div>

        <div class="summary-synopsis"><p>Calls the by_notice action on EhsEnforcement.Enforcement.Offence.
Raises any errors instead of returning them</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#list_offences_with_fines/2" data-no-tooltip="" translate="no">list_offences_with_fines(params \\ nil, opts \\ nil)</a>

      </div>

        <div class="summary-synopsis"><p>Calls the with_fines action on EhsEnforcement.Enforcement.Offence.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#list_offences_with_fines!/2" data-no-tooltip="" translate="no">list_offences_with_fines!(params \\ nil, opts \\ nil)</a>

      </div>

        <div class="summary-synopsis"><p>Calls the with_fines action on EhsEnforcement.Enforcement.Offence.
Raises any errors instead of returning them</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#list_offenders/2" data-no-tooltip="" translate="no">list_offenders(params \\ nil, opts \\ nil)</a>

      </div>

        <div class="summary-synopsis"><p>Calls the read action on EhsEnforcement.Enforcement.Offender.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#list_offenders!/2" data-no-tooltip="" translate="no">list_offenders!(params \\ nil, opts \\ nil)</a>

      </div>

        <div class="summary-synopsis"><p>Calls the read action on EhsEnforcement.Enforcement.Offender.
Raises any errors instead of returning them</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#list_offenders_with_filters!/1" data-no-tooltip="" translate="no">list_offenders_with_filters!(opts \\ [])</a>

      </div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#list_offenders_with_filters_cached!/1" data-no-tooltip="" translate="no">list_offenders_with_filters_cached!(opts \\ [])</a>

      </div>

        <div class="summary-synopsis"><p>Cached version of list_offenders_with_filters! for frequently used filter combinations.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#list_offenders_with_filters_monitored!/1" data-no-tooltip="" translate="no">list_offenders_with_filters_monitored!(opts \\ [])</a>

      </div>

        <div class="summary-synopsis"><p>Monitored version of list_offenders_with_filters! that logs slow queries.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#load/3" data-no-tooltip="" translate="no">load(data, query, opts \\ [])</a>

          <span class="deprecated" title="Use `Ash.load/3` instead">deprecated</span>

      </div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#load!/3" data-no-tooltip="" translate="no">load!(data, query, opts \\ [])</a>

          <span class="deprecated" title="Use `Ash.load!/3` instead">deprecated</span>

      </div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#max/3" data-no-tooltip="" translate="no">max(query, field, opts \\ [])</a>

          <span class="deprecated" title="Use `Ash.max/3` instead">deprecated</span>

      </div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#max!/3" data-no-tooltip="" translate="no">max!(query, field, opts \\ [])</a>

          <span class="deprecated" title="Use `Ash.max!/3` instead">deprecated</span>

      </div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#min/3" data-no-tooltip="" translate="no">min(query, field, opts \\ [])</a>

          <span class="deprecated" title="Use `Ash.min/3` instead">deprecated</span>

      </div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#min!/3" data-no-tooltip="" translate="no">min!(query, field, opts \\ [])</a>

          <span class="deprecated" title="Use `Ash.min!/3` instead">deprecated</span>

      </div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#page/2" data-no-tooltip="" translate="no">page(page, request)</a>

          <span class="deprecated" title="Use `Ash.page/2` instead">deprecated</span>

      </div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#page!/2" data-no-tooltip="" translate="no">page!(page, request)</a>

          <span class="deprecated" title="Use `Ash.page!/2` instead">deprecated</span>

      </div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#preview_offender_merge/2" data-no-tooltip="" translate="no">preview_offender_merge(master_id, duplicate_ids)</a>

      </div>

        <div class="summary-synopsis"><p>Preview what a merge operation would do before executing it.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#query_to_get_agency/3" data-no-tooltip="" translate="no">query_to_get_agency(id, params_or_opts \\ %{}, opts \\ [])</a>

      </div>

        <div class="summary-synopsis"><p>Returns the query corresponding to the action.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#query_to_get_agency_by_code/3" data-no-tooltip="" translate="no">query_to_get_agency_by_code(code, params_or_opts \\ %{}, opts \\ [])</a>

      </div>

        <div class="summary-synopsis"><p>Returns the query corresponding to the action.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#query_to_get_case/3" data-no-tooltip="" translate="no">query_to_get_case(id, params_or_opts \\ %{}, opts \\ [])</a>

      </div>

        <div class="summary-synopsis"><p>Returns the query corresponding to the action.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#query_to_get_current_metrics/2" data-no-tooltip="" translate="no">query_to_get_current_metrics(params_or_opts \\ %{}, opts \\ [])</a>

      </div>

        <div class="summary-synopsis"><p>Returns the query corresponding to the action.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#query_to_get_legislation/3" data-no-tooltip="" translate="no">query_to_get_legislation(id, params_or_opts \\ %{}, opts \\ [])</a>

      </div>

        <div class="summary-synopsis"><p>Returns the query corresponding to the action.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#query_to_get_notice/3" data-no-tooltip="" translate="no">query_to_get_notice(id, params_or_opts \\ %{}, opts \\ [])</a>

      </div>

        <div class="summary-synopsis"><p>Returns the query corresponding to the action.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#query_to_get_offence/3" data-no-tooltip="" translate="no">query_to_get_offence(id, params_or_opts \\ %{}, opts \\ [])</a>

      </div>

        <div class="summary-synopsis"><p>Returns the query corresponding to the action.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#query_to_get_offence_by_reference/3" data-no-tooltip="" translate="no">query_to_get_offence_by_reference(offence_reference, params_or_opts \\ %{}, opts \\ [])</a>

      </div>

        <div class="summary-synopsis"><p>Returns the query corresponding to the action.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#query_to_get_offender/3" data-no-tooltip="" translate="no">query_to_get_offender(id, params_or_opts \\ %{}, opts \\ [])</a>

      </div>

        <div class="summary-synopsis"><p>Returns the query corresponding to the action.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#query_to_list_agencies/2" data-no-tooltip="" translate="no">query_to_list_agencies(params_or_opts \\ %{}, opts \\ [])</a>

      </div>

        <div class="summary-synopsis"><p>Returns the query corresponding to the action.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#query_to_list_cases/2" data-no-tooltip="" translate="no">query_to_list_cases(params_or_opts \\ %{}, opts \\ [])</a>

      </div>

        <div class="summary-synopsis"><p>Returns the query corresponding to the action.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#query_to_list_cases_by_date_range/4" data-no-tooltip="" translate="no">query_to_list_cases_by_date_range(from_date, to_date, params_or_opts \\ %{}, opts \\ [])</a>

      </div>

        <div class="summary-synopsis"><p>Returns the query corresponding to the action.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#query_to_list_legislation/2" data-no-tooltip="" translate="no">query_to_list_legislation(params_or_opts \\ %{}, opts \\ [])</a>

      </div>

        <div class="summary-synopsis"><p>Returns the query corresponding to the action.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#query_to_list_legislation_by_type/3" data-no-tooltip="" translate="no">query_to_list_legislation_by_type(legislation_type, params_or_opts \\ %{}, opts \\ [])</a>

      </div>

        <div class="summary-synopsis"><p>Returns the query corresponding to the action.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#query_to_list_legislation_by_year_range/4" data-no-tooltip="" translate="no">query_to_list_legislation_by_year_range(start_year, end_year, params_or_opts \\ %{}, opts \\ [])</a>

      </div>

        <div class="summary-synopsis"><p>Returns the query corresponding to the action.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#query_to_list_notices/2" data-no-tooltip="" translate="no">query_to_list_notices(params_or_opts \\ %{}, opts \\ [])</a>

      </div>

        <div class="summary-synopsis"><p>Returns the query corresponding to the action.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#query_to_list_offences/2" data-no-tooltip="" translate="no">query_to_list_offences(params_or_opts \\ %{}, opts \\ [])</a>

      </div>

        <div class="summary-synopsis"><p>Returns the query corresponding to the action.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#query_to_list_offences_by_case/3" data-no-tooltip="" translate="no">query_to_list_offences_by_case(case_id, params_or_opts \\ %{}, opts \\ [])</a>

      </div>

        <div class="summary-synopsis"><p>Returns the query corresponding to the action.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#query_to_list_offences_by_legislation/3" data-no-tooltip="" translate="no">query_to_list_offences_by_legislation(legislation_id, params_or_opts \\ %{}, opts \\ [])</a>

      </div>

        <div class="summary-synopsis"><p>Returns the query corresponding to the action.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#query_to_list_offences_by_notice/3" data-no-tooltip="" translate="no">query_to_list_offences_by_notice(notice_id, params_or_opts \\ %{}, opts \\ [])</a>

      </div>

        <div class="summary-synopsis"><p>Returns the query corresponding to the action.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#query_to_list_offences_with_fines/2" data-no-tooltip="" translate="no">query_to_list_offences_with_fines(params_or_opts \\ %{}, opts \\ [])</a>

      </div>

        <div class="summary-synopsis"><p>Returns the query corresponding to the action.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#query_to_list_offenders/2" data-no-tooltip="" translate="no">query_to_list_offenders(params_or_opts \\ %{}, opts \\ [])</a>

      </div>

        <div class="summary-synopsis"><p>Returns the query corresponding to the action.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#query_to_search_legislation_title/3" data-no-tooltip="" translate="no">query_to_search_legislation_title(search_term, params_or_opts \\ %{}, opts \\ [])</a>

      </div>

        <div class="summary-synopsis"><p>Returns the query corresponding to the action.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#query_to_search_offence_description/3" data-no-tooltip="" translate="no">query_to_search_offence_description(search_term, params_or_opts \\ %{}, opts \\ [])</a>

      </div>

        <div class="summary-synopsis"><p>Returns the query corresponding to the action.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#query_to_search_offenders/3" data-no-tooltip="" translate="no">query_to_search_offenders(query, params_or_opts \\ %{}, opts \\ [])</a>

      </div>

        <div class="summary-synopsis"><p>Returns the query corresponding to the action.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#read/2" data-no-tooltip="" translate="no">read(query, opts \\ [])</a>

          <span class="deprecated" title="Use `Ash.read/2` instead">deprecated</span>

      </div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#read!/2" data-no-tooltip="" translate="no">read!(query, opts \\ [])</a>

          <span class="deprecated" title="Use `Ash.read!/2` instead">deprecated</span>

      </div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#read_one/2" data-no-tooltip="" translate="no">read_one(query, opts \\ [])</a>

          <span class="deprecated" title="Use `Ash.read_one/2` instead">deprecated</span>

      </div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#read_one!/2" data-no-tooltip="" translate="no">read_one!(query, opts \\ [])</a>

          <span class="deprecated" title="Use `Ash.read_one!/2` instead">deprecated</span>

      </div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#refresh_metrics/2" data-no-tooltip="" translate="no">refresh_metrics(params \\ nil, opts \\ nil)</a>

      </div>

        <div class="summary-synopsis"><p>Refresh metrics for a specific filter combination</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#refresh_metrics!/2" data-no-tooltip="" translate="no">refresh_metrics!(params \\ nil, opts \\ nil)</a>

      </div>

        <div class="summary-synopsis"><p>Refresh metrics for a specific filter combination
Raises any errors instead of returning them</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#reload/2" data-no-tooltip="" translate="no">reload(record, opts \\ [])</a>

          <span class="deprecated" title="Use `Ash.reload/2` instead">deprecated</span>

      </div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#reload!/2" data-no-tooltip="" translate="no">reload!(record, opts \\ [])</a>

          <span class="deprecated" title="Use `Ash.reload!/2` instead">deprecated</span>

      </div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#run_action/2" data-no-tooltip="" translate="no">run_action(input, opts \\ [])</a>

          <span class="deprecated" title="Use `Ash.run_action/2` instead">deprecated</span>

      </div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#run_action!/2" data-no-tooltip="" translate="no">run_action!(input, opts \\ [])</a>

          <span class="deprecated" title="Use `Ash.run_action/2` instead">deprecated</span>

      </div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#search_legislation_fuzzy/2" data-no-tooltip="" translate="no">search_legislation_fuzzy(search_title, similarity_threshold \\ 0.7)</a>

      </div>

        <div class="summary-synopsis"><p>Search for existing legislation by title with fuzzy matching.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#search_legislation_title/3" data-no-tooltip="" translate="no">search_legislation_title(search_term, params \\ nil, opts \\ nil)</a>

      </div>

        <div class="summary-synopsis"><p>Calls the search_title action on EhsEnforcement.Enforcement.Legislation.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#search_legislation_title!/3" data-no-tooltip="" translate="no">search_legislation_title!(search_term, params \\ nil, opts \\ nil)</a>

      </div>

        <div class="summary-synopsis"><p>Calls the search_title action on EhsEnforcement.Enforcement.Legislation.
Raises any errors instead of returning them</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#search_offence_description/3" data-no-tooltip="" translate="no">search_offence_description(search_term, params \\ nil, opts \\ nil)</a>

      </div>

        <div class="summary-synopsis"><p>Calls the search_description action on EhsEnforcement.Enforcement.Offence.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#search_offence_description!/3" data-no-tooltip="" translate="no">search_offence_description!(search_term, params \\ nil, opts \\ nil)</a>

      </div>

        <div class="summary-synopsis"><p>Calls the search_description action on EhsEnforcement.Enforcement.Offence.
Raises any errors instead of returning them</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#search_offenders/3" data-no-tooltip="" translate="no">search_offenders(query, params \\ nil, opts \\ nil)</a>

      </div>

        <div class="summary-synopsis"><p>Calls the search action on EhsEnforcement.Enforcement.Offender.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#search_offenders!/3" data-no-tooltip="" translate="no">search_offenders!(query, params \\ nil, opts \\ nil)</a>

      </div>

        <div class="summary-synopsis"><p>Calls the search action on EhsEnforcement.Enforcement.Offender.
Raises any errors instead of returning them</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#stream!/2" data-no-tooltip="" translate="no">stream!(query, opts \\ [])</a>

          <span class="deprecated" title="Use `Ash.stream!/2` instead">deprecated</span>

      </div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#sum/3" data-no-tooltip="" translate="no">sum(query, field, opts \\ [])</a>

          <span class="deprecated" title="Use `Ash.sum/3` instead">deprecated</span>

      </div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#sum!/3" data-no-tooltip="" translate="no">sum!(query, field, opts \\ [])</a>

          <span class="deprecated" title="Use `Ash.sum!/3` instead">deprecated</span>

      </div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#sync_and_merge_offenders/2" data-no-tooltip="" translate="no">sync_and_merge_offenders(master_id, duplicate_ids)</a>

      </div>

        <div class="summary-synopsis"><p>Execute the merge operation to combine duplicate offenders.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#sync_case_from_airtable/3" data-no-tooltip="" translate="no">sync_case_from_airtable(record, params \\ nil, opts \\ nil)</a>

      </div>

        <div class="summary-synopsis"><p>Calls the sync_from_airtable action on EhsEnforcement.Enforcement.Case.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#sync_case_from_airtable!/3" data-no-tooltip="" translate="no">sync_case_from_airtable!(record, params \\ nil, opts \\ nil)</a>

      </div>

        <div class="summary-synopsis"><p>Calls the sync_from_airtable action on EhsEnforcement.Enforcement.Case.
Raises any errors instead of returning them</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#update/2" data-no-tooltip="" translate="no">update(changeset, opts \\ [])</a>

          <span class="deprecated" title="Use `Ash.update/2` instead">deprecated</span>

      </div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#update!/2" data-no-tooltip="" translate="no">update!(changeset, opts \\ [])</a>

          <span class="deprecated" title="Use `Ash.update!/2` instead">deprecated</span>

      </div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#update_agency/3" data-no-tooltip="" translate="no">update_agency(record, params \\ nil, opts \\ nil)</a>

      </div>

        <div class="summary-synopsis"><p>Calls the update action on EhsEnforcement.Enforcement.Agency.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#update_agency!/3" data-no-tooltip="" translate="no">update_agency!(record, params \\ nil, opts \\ nil)</a>

      </div>

        <div class="summary-synopsis"><p>Calls the update action on EhsEnforcement.Enforcement.Agency.
Raises any errors instead of returning them</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#update_case/3" data-no-tooltip="" translate="no">update_case(record, params \\ nil, opts \\ nil)</a>

      </div>

        <div class="summary-synopsis"><p>Calls the update action on EhsEnforcement.Enforcement.Case.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#update_case!/3" data-no-tooltip="" translate="no">update_case!(record, params \\ nil, opts \\ nil)</a>

      </div>

        <div class="summary-synopsis"><p>Calls the update action on EhsEnforcement.Enforcement.Case.
Raises any errors instead of returning them</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#update_case_from_scraping/3" data-no-tooltip="" translate="no">update_case_from_scraping(record, params \\ nil, opts \\ nil)</a>

      </div>

        <div class="summary-synopsis"><p>Calls the update_from_scraping action on EhsEnforcement.Enforcement.Case.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#update_case_from_scraping!/3" data-no-tooltip="" translate="no">update_case_from_scraping!(record, params \\ nil, opts \\ nil)</a>

      </div>

        <div class="summary-synopsis"><p>Calls the update_from_scraping action on EhsEnforcement.Enforcement.Case.
Raises any errors instead of returning them</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#update_legislation/3" data-no-tooltip="" translate="no">update_legislation(record, params \\ nil, opts \\ nil)</a>

      </div>

        <div class="summary-synopsis"><p>Calls the update action on EhsEnforcement.Enforcement.Legislation.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#update_legislation!/3" data-no-tooltip="" translate="no">update_legislation!(record, params \\ nil, opts \\ nil)</a>

      </div>

        <div class="summary-synopsis"><p>Calls the update action on EhsEnforcement.Enforcement.Legislation.
Raises any errors instead of returning them</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#update_notice/3" data-no-tooltip="" translate="no">update_notice(record, params \\ nil, opts \\ nil)</a>

      </div>

        <div class="summary-synopsis"><p>Calls the update action on EhsEnforcement.Enforcement.Notice.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#update_notice!/3" data-no-tooltip="" translate="no">update_notice!(record, params \\ nil, opts \\ nil)</a>

      </div>

        <div class="summary-synopsis"><p>Calls the update action on EhsEnforcement.Enforcement.Notice.
Raises any errors instead of returning them</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#update_offence/3" data-no-tooltip="" translate="no">update_offence(record, params \\ nil, opts \\ nil)</a>

      </div>

        <div class="summary-synopsis"><p>Calls the update action on EhsEnforcement.Enforcement.Offence.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#update_offence!/3" data-no-tooltip="" translate="no">update_offence!(record, params \\ nil, opts \\ nil)</a>

      </div>

        <div class="summary-synopsis"><p>Calls the update action on EhsEnforcement.Enforcement.Offence.
Raises any errors instead of returning them</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#update_offender/3" data-no-tooltip="" translate="no">update_offender(record, params \\ nil, opts \\ nil)</a>

      </div>

        <div class="summary-synopsis"><p>Calls the update action on EhsEnforcement.Enforcement.Offender.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#update_offender!/3" data-no-tooltip="" translate="no">update_offender!(record, params \\ nil, opts \\ nil)</a>

      </div>

        <div class="summary-synopsis"><p>Calls the update action on EhsEnforcement.Enforcement.Offender.
Raises any errors instead of returning them</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#update_offender_statistics/3" data-no-tooltip="" translate="no">update_offender_statistics(record, params \\ nil, opts \\ nil)</a>

      </div>

        <div class="summary-synopsis"><p>Calls the update_statistics action on EhsEnforcement.Enforcement.Offender.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#update_offender_statistics!/3" data-no-tooltip="" translate="no">update_offender_statistics!(record, params \\ nil, opts \\ nil)</a>

      </div>

        <div class="summary-synopsis"><p>Calls the update_statistics action on EhsEnforcement.Enforcement.Offender.
Raises any errors instead of returning them</p></div>

    </div>

</div>

  </section>


  <section id="functions" class="details-list">
    <h1 class="section-heading">
      <a class="hover-link" href="#functions">
        <i class="ri-link-m" aria-hidden="true"></i>
      </a>
      <span class="text">Functions</span>
    </h1>
    <div class="functions-list">
<section class="detail" id="aggregate/3">

    <span id="aggregate/2"></span>

  <div class="detail-header">
    <a href="#aggregate/3" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">aggregate(query, aggregate_or_aggregates, opts \\ [])</h1>


    </div>
  </div>

    <div class="deprecated">
      This function is deprecated. Use `Ash.aggregate/3` instead.
    </div>

  <section class="docstring">


  </section>
</section>
<section class="detail" id="aggregate!/3">

    <span id="aggregate!/2"></span>

  <div class="detail-header">
    <a href="#aggregate!/3" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">aggregate!(query, aggregate_or_aggregates, opts \\ [])</h1>


    </div>
  </div>

    <div class="deprecated">
      This function is deprecated. Use `Ash.aggregate!/3` instead.
    </div>

  <section class="docstring">


  </section>
</section>
<section class="detail" id="avg/3">

    <span id="avg/2"></span>

  <div class="detail-header">
    <a href="#avg/3" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">avg(query, field, opts \\ [])</h1>


    </div>
  </div>

    <div class="deprecated">
      This function is deprecated. Use `Ash.avg/3` instead.
    </div>

  <section class="docstring">


  </section>
</section>
<section class="detail" id="avg!/3">

    <span id="avg!/2"></span>

  <div class="detail-header">
    <a href="#avg!/3" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">avg!(query, field, opts \\ [])</h1>


    </div>
  </div>

    <div class="deprecated">
      This function is deprecated. Use `Ash.avg!/3` instead.
    </div>

  <section class="docstring">


  </section>
</section>
<section class="detail" id="batch_find_or_create_legislation/1">

  <div class="detail-header">
    <a href="#batch_find_or_create_legislation/1" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">batch_find_or_create_legislation(legislation_data_list)</h1>


    </div>
  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">@spec</span> batch_find_or_create_legislation([<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types">map</a>()]) :: {:ok, <a href="https://hexdocs.pm/elixir/typespecs.html#basic-types">map</a>()} | {:error, <a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types">term</a>()}</pre>

      </div>

<p>Batch find or create multiple legislation records.</p><p>Useful for processing multiple breaches or offences at once.
Returns a map of original titles to legislation records.</p>
  </section>
</section>
<section class="detail" id="bulk_create/4">

    <span id="bulk_create/3"></span>

  <div class="detail-header">
    <a href="#bulk_create/4" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">bulk_create(inputs, resource, action, opts \\ [])</h1>


    </div>
  </div>

    <div class="deprecated">
      This function is deprecated. Use `Ash.bulk_create/4` instead.
    </div>

  <section class="docstring">


  </section>
</section>
<section class="detail" id="bulk_create!/4">

    <span id="bulk_create!/3"></span>

  <div class="detail-header">
    <a href="#bulk_create!/4" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">bulk_create!(inputs, resource, action, opts \\ [])</h1>


    </div>
  </div>

    <div class="deprecated">
      This function is deprecated. Use `Ash.bulk_create!/4` instead.
    </div>

  <section class="docstring">


  </section>
</section>
<section class="detail" id="bulk_create_cases/2">

    <span id="bulk_create_cases/0"></span>

    <span id="bulk_create_cases/1"></span>

  <div class="detail-header">
    <a href="#bulk_create_cases/2" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">bulk_create_cases(params \\ nil, opts \\ nil)</h1>


    </div>
  </div>

  <section class="docstring">

<p>Batch processing for creating multiple cases efficiently</p><h1>Inputs</h1><ul><li>batch_size</li><li>cases_data</li></ul><h2 id="bulk_create_cases/2-options" class="section-heading"><a href="#bulk_create_cases/2-options" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Options</span></h2><ul><li><code class="inline">:upsert?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If a conflict is found based on the primary key, the record is updated in the database (requires upsert support) The default value is <code class="inline">false</code>.</li><li><code class="inline">:return_skipped_upsert?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If <code class="inline">true</code>, and a record was <em>not</em> upserted because its filter prevented the upsert, the original record (which was <em>not</em> upserted) will be returned. The default value is <code class="inline">false</code>.</li><li><code class="inline">:upsert_identity</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - The identity to use when detecting conflicts for <code class="inline">upsert?</code>, e.g. <code class="inline">upsert_identity: :full_name</code>. By default, the primary key is used. Has no effect if <code class="inline">upsert?: true</code> is not provided</li><li><code class="inline">:upsert_fields</code> - The fields to upsert. If not set, the action's upsert_fields is used, and if that is not set, then any fields not being set to defaults are written.</li><li><code class="inline">:upsert_condition</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - An expression to check if the record should be updated when there's a conflict.</li><li><code class="inline">:timeout</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">timeout/0</code></a>) - A positive integer, or <code class="inline">:infinity</code>. If none is provided, the timeout configured on the domain is used.</li><li><code class="inline">:tracer</code> (one or a list of module that adopts <a href="https://hexdocs.pm/ash/3.7.6/Ash.Tracer.html"><code class="inline">Ash.Tracer</code></a>) - A tracer that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.Tracer.html"><code class="inline">Ash.Tracer</code></a> behaviour. See that module for more.</li><li><code class="inline">:action</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - The action to use, either an Action struct or the name of the action</li><li><code class="inline">:authorize?</code> - If an actor option is provided (even if it is <code class="inline">nil</code>), authorization happens automatically. If not, this flag can be used to authorize with no user.</li><li><code class="inline">:context</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">map/0</code></a>) - Context to set on the query, changeset, or input</li><li><code class="inline">:tenant</code> (value that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.ToTenant.html"><code class="inline">Ash.ToTenant</code></a> protocol) - A tenant to set on the query or changeset</li><li><code class="inline">:actor</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - If an actor is provided, it will be used in conjunction with the authorizers of a resource to authorize access</li><li><code class="inline">:scope</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A value that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> protocol, for passing around actor/tenant/context in a single value. See <a href="https://hexdocs.pm/ash/3.7.6/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> for more.</li><li><code class="inline">:return_notifications?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Use this if you're running ash actions in your own transaction and you want to manually handle sending notifications.<br/>If a transaction is ongoing, and this is false, notifications will be discarded, otherwise
the return value is <code class="inline">{:ok, result, notifications}</code> (or <code class="inline">{:ok, notifications}</code>)<br/>To send notifications later, use <code class="inline">Ash.Notifier.notify(notifications)</code>. It sends any notifications
that can be sent, and returns the rest. The default value is <code class="inline">false</code>.</li><li><code class="inline">:rollback_on_error?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to rollback the transaction on error, if the resource is in a transaction.<br/>If the action has <code class="inline">transaction? false</code> this option has no effect. If an error is returned from the
data layer and the resource is in a transaction, the transaction is always rolled back, regardless. The default value is <code class="inline">true</code>.</li><li><code class="inline">:notification_metadata</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - Metadata to be merged into the metadata field for all notifications sent from this operation. The default value is <code class="inline">%{}</code>.</li><li><code class="inline">:skip_unknown_inputs</code> - A list of inputs that, if provided, will be ignored if they are not recognized by the action. Use <code class="inline">:*</code> to indicate all unknown keys.</li><li><code class="inline">:load</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A load statement to add onto the changeset</li><li><code class="inline">:changeset</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A changeset to seed the action with.</li><li><code class="inline">:bulk_options</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">keyword/0</code></a>) - Options passed to <code class="inline">Ash.bulk_create</code>, if a list or stream of inputs is provided.<ul><li><code class="inline">:select</code> (list of <a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - A select statement to apply to records. Ignored if <code class="inline">return_records?</code> is not true.</li><li><code class="inline">:after_action</code> (function of arity 2) - An after_action hook to be added to each processed changeset</li><li><code class="inline">:read_action</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - The action to use when building the read query.</li><li><code class="inline">:assume_casted?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to cast attributes and arguments as input. This is an optimization for cases where the input is already casted and/or not in need of casting The default value is <code class="inline">false</code>.</li><li><code class="inline">:select</code> (list of <a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - A select statement to apply to records. Ignored if <code class="inline">return_records?</code> is not true.</li><li><code class="inline">:authorize_query_with</code> - If set to <code class="inline">:error</code>, instead of filtering unauthorized query results, unauthorized query results will raise an appropriate forbidden error. Uses <code class="inline">authorize_with</code> if not set.</li><li><code class="inline">:authorize_changeset_with</code> - If set to <code class="inline">:error</code>, instead of filtering unauthorized changes, unauthorized changes will raise an appropriate forbidden error. Uses <code class="inline">authorize_with</code> if not set.</li><li><code class="inline">:authorize_with</code> - If set to <code class="inline">:error</code>, instead of filtering unauthorized query results, unauthorized query results will raise an appropriate forbidden error. The default value is <code class="inline">:filter</code>.</li><li><code class="inline">:private_arguments</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">map/0</code></a>) - Private argument values to set on each changeset before validations and changes are run. The default value is <code class="inline">%{}</code>.</li><li><code class="inline">:sorted?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to sort results by their input position, in cases where <code class="inline">return_records?: true</code> was provided. The default value is <code class="inline">false</code>.</li><li><code class="inline">:return_records?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to return all of the records that were inserted. Defaults to false to account for large inserts. The default value is <code class="inline">false</code>.</li><li><code class="inline">:return_errors?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether to return all errors that occur during the operation. Defaults to the value of <code class="inline">:bulk_actions_default_to_errors?</code> in your config, or <code class="inline">false</code> if not set. Returning all errors may be expensive for large inserts. The default value is <code class="inline">false</code>.</li><li><code class="inline">:batch_size</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">pos_integer/0</code></a>) - The number of records to include in each batch. Defaults to the <code class="inline">default_limit</code>
or <code class="inline">max_page_size</code> of the action, or 100.</li><li><code class="inline">:return_stream?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If set to <code class="inline">true</code>, instead of an <a href="https://hexdocs.pm/ash/3.7.6/Ash.BulkResult.html"><code class="inline">Ash.BulkResult</code></a>, a mixed stream is returned.
Potential elements:
<code class="inline">{:notification, notification}</code> - if <code class="inline">return_notifications?</code> is set to <code class="inline">true</code>
<code class="inline">{:ok, record}</code> - if <code class="inline">return_records?</code> is set to <code class="inline">true</code>
<code class="inline">{:error, error}</code> - an error that occurred. May be changeset or an individual error.
The default value is <code class="inline">false</code>.</li><li><code class="inline">:return_nothing?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Mutes warnings about returning nothing.
Only relevant if <code class="inline">return_stream?</code> is set to <code class="inline">true</code> and all other
<code class="inline">return_*?</code> options are set to <code class="inline">false</code>.
The default value is <code class="inline">false</code>.</li><li><code class="inline">:stop_on_error?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If true, the first encountered error will stop the action and be returned. Otherwise, errors
will be skipped. The default value is <code class="inline">false</code>.</li><li><code class="inline">:notify?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to generate any notifications. If this is set to <code class="inline">true</code> then the data layer must return
the results from each batch. This may be intensive for large bulk actions.
Notifications will be automatically sent unless <code class="inline">return_notifications?</code> is set to <code class="inline">true</code>.
The default value is <code class="inline">false</code>.</li><li><code class="inline">:transaction</code> - Whether or not to wrap the entire execution in a transaction, each batch, or not at all.
Keep in mind:
<code class="inline">before_transaction</code> and <code class="inline">after_transaction</code> hooks attached to changesets will have to be run
<em>inside</em> the transaction if you choose <code class="inline">transaction: :all</code>.
The default value is <code class="inline">:batch</code>.</li><li><code class="inline">:max_concurrency</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">non_neg_integer/0</code></a>) - If set to a value greater than 0, up to that many tasks will be started to run batches asynchronously The default value is <code class="inline">0</code>.</li></ul></li><li><code class="inline">:private_arguments</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">map/0</code></a>) - Private argument values to set before validations and changes. The default value is <code class="inline">%{}</code>.</li></ul>
  </section>
</section>
<section class="detail" id="bulk_create_cases!/2">

    <span id="bulk_create_cases!/0"></span>

    <span id="bulk_create_cases!/1"></span>

  <div class="detail-header">
    <a href="#bulk_create_cases!/2" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">bulk_create_cases!(params \\ nil, opts \\ nil)</h1>


    </div>
  </div>

  <section class="docstring">

<p>Batch processing for creating multiple cases efficiently
Raises any errors instead of returning them</p><h1>Inputs</h1><ul><li>batch_size</li><li>cases_data</li></ul><h2 id="bulk_create_cases!/2-options" class="section-heading"><a href="#bulk_create_cases!/2-options" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Options</span></h2><ul><li><code class="inline">:upsert?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If a conflict is found based on the primary key, the record is updated in the database (requires upsert support) The default value is <code class="inline">false</code>.</li><li><code class="inline">:return_skipped_upsert?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If <code class="inline">true</code>, and a record was <em>not</em> upserted because its filter prevented the upsert, the original record (which was <em>not</em> upserted) will be returned. The default value is <code class="inline">false</code>.</li><li><code class="inline">:upsert_identity</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - The identity to use when detecting conflicts for <code class="inline">upsert?</code>, e.g. <code class="inline">upsert_identity: :full_name</code>. By default, the primary key is used. Has no effect if <code class="inline">upsert?: true</code> is not provided</li><li><code class="inline">:upsert_fields</code> - The fields to upsert. If not set, the action's upsert_fields is used, and if that is not set, then any fields not being set to defaults are written.</li><li><code class="inline">:upsert_condition</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - An expression to check if the record should be updated when there's a conflict.</li><li><code class="inline">:timeout</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">timeout/0</code></a>) - A positive integer, or <code class="inline">:infinity</code>. If none is provided, the timeout configured on the domain is used.</li><li><code class="inline">:tracer</code> (one or a list of module that adopts <a href="https://hexdocs.pm/ash/3.7.6/Ash.Tracer.html"><code class="inline">Ash.Tracer</code></a>) - A tracer that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.Tracer.html"><code class="inline">Ash.Tracer</code></a> behaviour. See that module for more.</li><li><code class="inline">:action</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - The action to use, either an Action struct or the name of the action</li><li><code class="inline">:authorize?</code> - If an actor option is provided (even if it is <code class="inline">nil</code>), authorization happens automatically. If not, this flag can be used to authorize with no user.</li><li><code class="inline">:context</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">map/0</code></a>) - Context to set on the query, changeset, or input</li><li><code class="inline">:tenant</code> (value that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.ToTenant.html"><code class="inline">Ash.ToTenant</code></a> protocol) - A tenant to set on the query or changeset</li><li><code class="inline">:actor</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - If an actor is provided, it will be used in conjunction with the authorizers of a resource to authorize access</li><li><code class="inline">:scope</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A value that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> protocol, for passing around actor/tenant/context in a single value. See <a href="https://hexdocs.pm/ash/3.7.6/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> for more.</li><li><code class="inline">:return_notifications?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Use this if you're running ash actions in your own transaction and you want to manually handle sending notifications.<br/>If a transaction is ongoing, and this is false, notifications will be discarded, otherwise
the return value is <code class="inline">{:ok, result, notifications}</code> (or <code class="inline">{:ok, notifications}</code>)<br/>To send notifications later, use <code class="inline">Ash.Notifier.notify(notifications)</code>. It sends any notifications
that can be sent, and returns the rest. The default value is <code class="inline">false</code>.</li><li><code class="inline">:rollback_on_error?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to rollback the transaction on error, if the resource is in a transaction.<br/>If the action has <code class="inline">transaction? false</code> this option has no effect. If an error is returned from the
data layer and the resource is in a transaction, the transaction is always rolled back, regardless. The default value is <code class="inline">true</code>.</li><li><code class="inline">:notification_metadata</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - Metadata to be merged into the metadata field for all notifications sent from this operation. The default value is <code class="inline">%{}</code>.</li><li><code class="inline">:skip_unknown_inputs</code> - A list of inputs that, if provided, will be ignored if they are not recognized by the action. Use <code class="inline">:*</code> to indicate all unknown keys.</li><li><code class="inline">:load</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A load statement to add onto the changeset</li><li><code class="inline">:changeset</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A changeset to seed the action with.</li><li><code class="inline">:bulk_options</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">keyword/0</code></a>) - Options passed to <code class="inline">Ash.bulk_create</code>, if a list or stream of inputs is provided.<ul><li><code class="inline">:select</code> (list of <a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - A select statement to apply to records. Ignored if <code class="inline">return_records?</code> is not true.</li><li><code class="inline">:after_action</code> (function of arity 2) - An after_action hook to be added to each processed changeset</li><li><code class="inline">:read_action</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - The action to use when building the read query.</li><li><code class="inline">:assume_casted?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to cast attributes and arguments as input. This is an optimization for cases where the input is already casted and/or not in need of casting The default value is <code class="inline">false</code>.</li><li><code class="inline">:select</code> (list of <a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - A select statement to apply to records. Ignored if <code class="inline">return_records?</code> is not true.</li><li><code class="inline">:authorize_query_with</code> - If set to <code class="inline">:error</code>, instead of filtering unauthorized query results, unauthorized query results will raise an appropriate forbidden error. Uses <code class="inline">authorize_with</code> if not set.</li><li><code class="inline">:authorize_changeset_with</code> - If set to <code class="inline">:error</code>, instead of filtering unauthorized changes, unauthorized changes will raise an appropriate forbidden error. Uses <code class="inline">authorize_with</code> if not set.</li><li><code class="inline">:authorize_with</code> - If set to <code class="inline">:error</code>, instead of filtering unauthorized query results, unauthorized query results will raise an appropriate forbidden error. The default value is <code class="inline">:filter</code>.</li><li><code class="inline">:private_arguments</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">map/0</code></a>) - Private argument values to set on each changeset before validations and changes are run. The default value is <code class="inline">%{}</code>.</li><li><code class="inline">:sorted?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to sort results by their input position, in cases where <code class="inline">return_records?: true</code> was provided. The default value is <code class="inline">false</code>.</li><li><code class="inline">:return_records?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to return all of the records that were inserted. Defaults to false to account for large inserts. The default value is <code class="inline">false</code>.</li><li><code class="inline">:return_errors?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether to return all errors that occur during the operation. Defaults to the value of <code class="inline">:bulk_actions_default_to_errors?</code> in your config, or <code class="inline">false</code> if not set. Returning all errors may be expensive for large inserts. The default value is <code class="inline">false</code>.</li><li><code class="inline">:batch_size</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">pos_integer/0</code></a>) - The number of records to include in each batch. Defaults to the <code class="inline">default_limit</code>
or <code class="inline">max_page_size</code> of the action, or 100.</li><li><code class="inline">:return_stream?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If set to <code class="inline">true</code>, instead of an <a href="https://hexdocs.pm/ash/3.7.6/Ash.BulkResult.html"><code class="inline">Ash.BulkResult</code></a>, a mixed stream is returned.
Potential elements:
<code class="inline">{:notification, notification}</code> - if <code class="inline">return_notifications?</code> is set to <code class="inline">true</code>
<code class="inline">{:ok, record}</code> - if <code class="inline">return_records?</code> is set to <code class="inline">true</code>
<code class="inline">{:error, error}</code> - an error that occurred. May be changeset or an individual error.
The default value is <code class="inline">false</code>.</li><li><code class="inline">:return_nothing?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Mutes warnings about returning nothing.
Only relevant if <code class="inline">return_stream?</code> is set to <code class="inline">true</code> and all other
<code class="inline">return_*?</code> options are set to <code class="inline">false</code>.
The default value is <code class="inline">false</code>.</li><li><code class="inline">:stop_on_error?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If true, the first encountered error will stop the action and be returned. Otherwise, errors
will be skipped. The default value is <code class="inline">false</code>.</li><li><code class="inline">:notify?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to generate any notifications. If this is set to <code class="inline">true</code> then the data layer must return
the results from each batch. This may be intensive for large bulk actions.
Notifications will be automatically sent unless <code class="inline">return_notifications?</code> is set to <code class="inline">true</code>.
The default value is <code class="inline">false</code>.</li><li><code class="inline">:transaction</code> - Whether or not to wrap the entire execution in a transaction, each batch, or not at all.
Keep in mind:
<code class="inline">before_transaction</code> and <code class="inline">after_transaction</code> hooks attached to changesets will have to be run
<em>inside</em> the transaction if you choose <code class="inline">transaction: :all</code>.
The default value is <code class="inline">:batch</code>.</li><li><code class="inline">:max_concurrency</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">non_neg_integer/0</code></a>) - If set to a value greater than 0, up to that many tasks will be started to run batches asynchronously The default value is <code class="inline">0</code>.</li></ul></li><li><code class="inline">:private_arguments</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">map/0</code></a>) - Private argument values to set before validations and changes. The default value is <code class="inline">%{}</code>.</li></ul>
  </section>
</section>
<section class="detail" id="bulk_create_offences/2">

    <span id="bulk_create_offences/0"></span>

    <span id="bulk_create_offences/1"></span>

  <div class="detail-header">
    <a href="#bulk_create_offences/2" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">bulk_create_offences(params \\ nil, opts \\ nil)</h1>


    </div>
  </div>

  <section class="docstring">

<p>Batch processing for creating multiple offences efficiently</p><h1>Inputs</h1><ul><li>case_id</li><li>notice_id</li><li>offences_data</li></ul><h2 id="bulk_create_offences/2-options" class="section-heading"><a href="#bulk_create_offences/2-options" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Options</span></h2><ul><li><code class="inline">:upsert?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If a conflict is found based on the primary key, the record is updated in the database (requires upsert support) The default value is <code class="inline">false</code>.</li><li><code class="inline">:return_skipped_upsert?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If <code class="inline">true</code>, and a record was <em>not</em> upserted because its filter prevented the upsert, the original record (which was <em>not</em> upserted) will be returned. The default value is <code class="inline">false</code>.</li><li><code class="inline">:upsert_identity</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - The identity to use when detecting conflicts for <code class="inline">upsert?</code>, e.g. <code class="inline">upsert_identity: :full_name</code>. By default, the primary key is used. Has no effect if <code class="inline">upsert?: true</code> is not provided</li><li><code class="inline">:upsert_fields</code> - The fields to upsert. If not set, the action's upsert_fields is used, and if that is not set, then any fields not being set to defaults are written.</li><li><code class="inline">:upsert_condition</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - An expression to check if the record should be updated when there's a conflict.</li><li><code class="inline">:timeout</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">timeout/0</code></a>) - A positive integer, or <code class="inline">:infinity</code>. If none is provided, the timeout configured on the domain is used.</li><li><code class="inline">:tracer</code> (one or a list of module that adopts <a href="https://hexdocs.pm/ash/3.7.6/Ash.Tracer.html"><code class="inline">Ash.Tracer</code></a>) - A tracer that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.Tracer.html"><code class="inline">Ash.Tracer</code></a> behaviour. See that module for more.</li><li><code class="inline">:action</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - The action to use, either an Action struct or the name of the action</li><li><code class="inline">:authorize?</code> - If an actor option is provided (even if it is <code class="inline">nil</code>), authorization happens automatically. If not, this flag can be used to authorize with no user.</li><li><code class="inline">:context</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">map/0</code></a>) - Context to set on the query, changeset, or input</li><li><code class="inline">:tenant</code> (value that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.ToTenant.html"><code class="inline">Ash.ToTenant</code></a> protocol) - A tenant to set on the query or changeset</li><li><code class="inline">:actor</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - If an actor is provided, it will be used in conjunction with the authorizers of a resource to authorize access</li><li><code class="inline">:scope</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A value that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> protocol, for passing around actor/tenant/context in a single value. See <a href="https://hexdocs.pm/ash/3.7.6/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> for more.</li><li><code class="inline">:return_notifications?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Use this if you're running ash actions in your own transaction and you want to manually handle sending notifications.<br/>If a transaction is ongoing, and this is false, notifications will be discarded, otherwise
the return value is <code class="inline">{:ok, result, notifications}</code> (or <code class="inline">{:ok, notifications}</code>)<br/>To send notifications later, use <code class="inline">Ash.Notifier.notify(notifications)</code>. It sends any notifications
that can be sent, and returns the rest. The default value is <code class="inline">false</code>.</li><li><code class="inline">:rollback_on_error?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to rollback the transaction on error, if the resource is in a transaction.<br/>If the action has <code class="inline">transaction? false</code> this option has no effect. If an error is returned from the
data layer and the resource is in a transaction, the transaction is always rolled back, regardless. The default value is <code class="inline">true</code>.</li><li><code class="inline">:notification_metadata</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - Metadata to be merged into the metadata field for all notifications sent from this operation. The default value is <code class="inline">%{}</code>.</li><li><code class="inline">:skip_unknown_inputs</code> - A list of inputs that, if provided, will be ignored if they are not recognized by the action. Use <code class="inline">:*</code> to indicate all unknown keys.</li><li><code class="inline">:load</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A load statement to add onto the changeset</li><li><code class="inline">:changeset</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A changeset to seed the action with.</li><li><code class="inline">:bulk_options</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">keyword/0</code></a>) - Options passed to <code class="inline">Ash.bulk_create</code>, if a list or stream of inputs is provided.<ul><li><code class="inline">:select</code> (list of <a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - A select statement to apply to records. Ignored if <code class="inline">return_records?</code> is not true.</li><li><code class="inline">:after_action</code> (function of arity 2) - An after_action hook to be added to each processed changeset</li><li><code class="inline">:read_action</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - The action to use when building the read query.</li><li><code class="inline">:assume_casted?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to cast attributes and arguments as input. This is an optimization for cases where the input is already casted and/or not in need of casting The default value is <code class="inline">false</code>.</li><li><code class="inline">:select</code> (list of <a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - A select statement to apply to records. Ignored if <code class="inline">return_records?</code> is not true.</li><li><code class="inline">:authorize_query_with</code> - If set to <code class="inline">:error</code>, instead of filtering unauthorized query results, unauthorized query results will raise an appropriate forbidden error. Uses <code class="inline">authorize_with</code> if not set.</li><li><code class="inline">:authorize_changeset_with</code> - If set to <code class="inline">:error</code>, instead of filtering unauthorized changes, unauthorized changes will raise an appropriate forbidden error. Uses <code class="inline">authorize_with</code> if not set.</li><li><code class="inline">:authorize_with</code> - If set to <code class="inline">:error</code>, instead of filtering unauthorized query results, unauthorized query results will raise an appropriate forbidden error. The default value is <code class="inline">:filter</code>.</li><li><code class="inline">:private_arguments</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">map/0</code></a>) - Private argument values to set on each changeset before validations and changes are run. The default value is <code class="inline">%{}</code>.</li><li><code class="inline">:sorted?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to sort results by their input position, in cases where <code class="inline">return_records?: true</code> was provided. The default value is <code class="inline">false</code>.</li><li><code class="inline">:return_records?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to return all of the records that were inserted. Defaults to false to account for large inserts. The default value is <code class="inline">false</code>.</li><li><code class="inline">:return_errors?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether to return all errors that occur during the operation. Defaults to the value of <code class="inline">:bulk_actions_default_to_errors?</code> in your config, or <code class="inline">false</code> if not set. Returning all errors may be expensive for large inserts. The default value is <code class="inline">false</code>.</li><li><code class="inline">:batch_size</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">pos_integer/0</code></a>) - The number of records to include in each batch. Defaults to the <code class="inline">default_limit</code>
or <code class="inline">max_page_size</code> of the action, or 100.</li><li><code class="inline">:return_stream?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If set to <code class="inline">true</code>, instead of an <a href="https://hexdocs.pm/ash/3.7.6/Ash.BulkResult.html"><code class="inline">Ash.BulkResult</code></a>, a mixed stream is returned.
Potential elements:
<code class="inline">{:notification, notification}</code> - if <code class="inline">return_notifications?</code> is set to <code class="inline">true</code>
<code class="inline">{:ok, record}</code> - if <code class="inline">return_records?</code> is set to <code class="inline">true</code>
<code class="inline">{:error, error}</code> - an error that occurred. May be changeset or an individual error.
The default value is <code class="inline">false</code>.</li><li><code class="inline">:return_nothing?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Mutes warnings about returning nothing.
Only relevant if <code class="inline">return_stream?</code> is set to <code class="inline">true</code> and all other
<code class="inline">return_*?</code> options are set to <code class="inline">false</code>.
The default value is <code class="inline">false</code>.</li><li><code class="inline">:stop_on_error?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If true, the first encountered error will stop the action and be returned. Otherwise, errors
will be skipped. The default value is <code class="inline">false</code>.</li><li><code class="inline">:notify?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to generate any notifications. If this is set to <code class="inline">true</code> then the data layer must return
the results from each batch. This may be intensive for large bulk actions.
Notifications will be automatically sent unless <code class="inline">return_notifications?</code> is set to <code class="inline">true</code>.
The default value is <code class="inline">false</code>.</li><li><code class="inline">:transaction</code> - Whether or not to wrap the entire execution in a transaction, each batch, or not at all.
Keep in mind:
<code class="inline">before_transaction</code> and <code class="inline">after_transaction</code> hooks attached to changesets will have to be run
<em>inside</em> the transaction if you choose <code class="inline">transaction: :all</code>.
The default value is <code class="inline">:batch</code>.</li><li><code class="inline">:max_concurrency</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">non_neg_integer/0</code></a>) - If set to a value greater than 0, up to that many tasks will be started to run batches asynchronously The default value is <code class="inline">0</code>.</li></ul></li><li><code class="inline">:private_arguments</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">map/0</code></a>) - Private argument values to set before validations and changes. The default value is <code class="inline">%{}</code>.</li></ul>
  </section>
</section>
<section class="detail" id="bulk_create_offences!/2">

    <span id="bulk_create_offences!/0"></span>

    <span id="bulk_create_offences!/1"></span>

  <div class="detail-header">
    <a href="#bulk_create_offences!/2" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">bulk_create_offences!(params \\ nil, opts \\ nil)</h1>


    </div>
  </div>

  <section class="docstring">

<p>Batch processing for creating multiple offences efficiently
Raises any errors instead of returning them</p><h1>Inputs</h1><ul><li>case_id</li><li>notice_id</li><li>offences_data</li></ul><h2 id="bulk_create_offences!/2-options" class="section-heading"><a href="#bulk_create_offences!/2-options" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Options</span></h2><ul><li><code class="inline">:upsert?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If a conflict is found based on the primary key, the record is updated in the database (requires upsert support) The default value is <code class="inline">false</code>.</li><li><code class="inline">:return_skipped_upsert?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If <code class="inline">true</code>, and a record was <em>not</em> upserted because its filter prevented the upsert, the original record (which was <em>not</em> upserted) will be returned. The default value is <code class="inline">false</code>.</li><li><code class="inline">:upsert_identity</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - The identity to use when detecting conflicts for <code class="inline">upsert?</code>, e.g. <code class="inline">upsert_identity: :full_name</code>. By default, the primary key is used. Has no effect if <code class="inline">upsert?: true</code> is not provided</li><li><code class="inline">:upsert_fields</code> - The fields to upsert. If not set, the action's upsert_fields is used, and if that is not set, then any fields not being set to defaults are written.</li><li><code class="inline">:upsert_condition</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - An expression to check if the record should be updated when there's a conflict.</li><li><code class="inline">:timeout</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">timeout/0</code></a>) - A positive integer, or <code class="inline">:infinity</code>. If none is provided, the timeout configured on the domain is used.</li><li><code class="inline">:tracer</code> (one or a list of module that adopts <a href="https://hexdocs.pm/ash/3.7.6/Ash.Tracer.html"><code class="inline">Ash.Tracer</code></a>) - A tracer that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.Tracer.html"><code class="inline">Ash.Tracer</code></a> behaviour. See that module for more.</li><li><code class="inline">:action</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - The action to use, either an Action struct or the name of the action</li><li><code class="inline">:authorize?</code> - If an actor option is provided (even if it is <code class="inline">nil</code>), authorization happens automatically. If not, this flag can be used to authorize with no user.</li><li><code class="inline">:context</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">map/0</code></a>) - Context to set on the query, changeset, or input</li><li><code class="inline">:tenant</code> (value that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.ToTenant.html"><code class="inline">Ash.ToTenant</code></a> protocol) - A tenant to set on the query or changeset</li><li><code class="inline">:actor</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - If an actor is provided, it will be used in conjunction with the authorizers of a resource to authorize access</li><li><code class="inline">:scope</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A value that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> protocol, for passing around actor/tenant/context in a single value. See <a href="https://hexdocs.pm/ash/3.7.6/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> for more.</li><li><code class="inline">:return_notifications?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Use this if you're running ash actions in your own transaction and you want to manually handle sending notifications.<br/>If a transaction is ongoing, and this is false, notifications will be discarded, otherwise
the return value is <code class="inline">{:ok, result, notifications}</code> (or <code class="inline">{:ok, notifications}</code>)<br/>To send notifications later, use <code class="inline">Ash.Notifier.notify(notifications)</code>. It sends any notifications
that can be sent, and returns the rest. The default value is <code class="inline">false</code>.</li><li><code class="inline">:rollback_on_error?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to rollback the transaction on error, if the resource is in a transaction.<br/>If the action has <code class="inline">transaction? false</code> this option has no effect. If an error is returned from the
data layer and the resource is in a transaction, the transaction is always rolled back, regardless. The default value is <code class="inline">true</code>.</li><li><code class="inline">:notification_metadata</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - Metadata to be merged into the metadata field for all notifications sent from this operation. The default value is <code class="inline">%{}</code>.</li><li><code class="inline">:skip_unknown_inputs</code> - A list of inputs that, if provided, will be ignored if they are not recognized by the action. Use <code class="inline">:*</code> to indicate all unknown keys.</li><li><code class="inline">:load</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A load statement to add onto the changeset</li><li><code class="inline">:changeset</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A changeset to seed the action with.</li><li><code class="inline">:bulk_options</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">keyword/0</code></a>) - Options passed to <code class="inline">Ash.bulk_create</code>, if a list or stream of inputs is provided.<ul><li><code class="inline">:select</code> (list of <a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - A select statement to apply to records. Ignored if <code class="inline">return_records?</code> is not true.</li><li><code class="inline">:after_action</code> (function of arity 2) - An after_action hook to be added to each processed changeset</li><li><code class="inline">:read_action</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - The action to use when building the read query.</li><li><code class="inline">:assume_casted?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to cast attributes and arguments as input. This is an optimization for cases where the input is already casted and/or not in need of casting The default value is <code class="inline">false</code>.</li><li><code class="inline">:select</code> (list of <a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - A select statement to apply to records. Ignored if <code class="inline">return_records?</code> is not true.</li><li><code class="inline">:authorize_query_with</code> - If set to <code class="inline">:error</code>, instead of filtering unauthorized query results, unauthorized query results will raise an appropriate forbidden error. Uses <code class="inline">authorize_with</code> if not set.</li><li><code class="inline">:authorize_changeset_with</code> - If set to <code class="inline">:error</code>, instead of filtering unauthorized changes, unauthorized changes will raise an appropriate forbidden error. Uses <code class="inline">authorize_with</code> if not set.</li><li><code class="inline">:authorize_with</code> - If set to <code class="inline">:error</code>, instead of filtering unauthorized query results, unauthorized query results will raise an appropriate forbidden error. The default value is <code class="inline">:filter</code>.</li><li><code class="inline">:private_arguments</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">map/0</code></a>) - Private argument values to set on each changeset before validations and changes are run. The default value is <code class="inline">%{}</code>.</li><li><code class="inline">:sorted?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to sort results by their input position, in cases where <code class="inline">return_records?: true</code> was provided. The default value is <code class="inline">false</code>.</li><li><code class="inline">:return_records?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to return all of the records that were inserted. Defaults to false to account for large inserts. The default value is <code class="inline">false</code>.</li><li><code class="inline">:return_errors?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether to return all errors that occur during the operation. Defaults to the value of <code class="inline">:bulk_actions_default_to_errors?</code> in your config, or <code class="inline">false</code> if not set. Returning all errors may be expensive for large inserts. The default value is <code class="inline">false</code>.</li><li><code class="inline">:batch_size</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">pos_integer/0</code></a>) - The number of records to include in each batch. Defaults to the <code class="inline">default_limit</code>
or <code class="inline">max_page_size</code> of the action, or 100.</li><li><code class="inline">:return_stream?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If set to <code class="inline">true</code>, instead of an <a href="https://hexdocs.pm/ash/3.7.6/Ash.BulkResult.html"><code class="inline">Ash.BulkResult</code></a>, a mixed stream is returned.
Potential elements:
<code class="inline">{:notification, notification}</code> - if <code class="inline">return_notifications?</code> is set to <code class="inline">true</code>
<code class="inline">{:ok, record}</code> - if <code class="inline">return_records?</code> is set to <code class="inline">true</code>
<code class="inline">{:error, error}</code> - an error that occurred. May be changeset or an individual error.
The default value is <code class="inline">false</code>.</li><li><code class="inline">:return_nothing?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Mutes warnings about returning nothing.
Only relevant if <code class="inline">return_stream?</code> is set to <code class="inline">true</code> and all other
<code class="inline">return_*?</code> options are set to <code class="inline">false</code>.
The default value is <code class="inline">false</code>.</li><li><code class="inline">:stop_on_error?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If true, the first encountered error will stop the action and be returned. Otherwise, errors
will be skipped. The default value is <code class="inline">false</code>.</li><li><code class="inline">:notify?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to generate any notifications. If this is set to <code class="inline">true</code> then the data layer must return
the results from each batch. This may be intensive for large bulk actions.
Notifications will be automatically sent unless <code class="inline">return_notifications?</code> is set to <code class="inline">true</code>.
The default value is <code class="inline">false</code>.</li><li><code class="inline">:transaction</code> - Whether or not to wrap the entire execution in a transaction, each batch, or not at all.
Keep in mind:
<code class="inline">before_transaction</code> and <code class="inline">after_transaction</code> hooks attached to changesets will have to be run
<em>inside</em> the transaction if you choose <code class="inline">transaction: :all</code>.
The default value is <code class="inline">:batch</code>.</li><li><code class="inline">:max_concurrency</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">non_neg_integer/0</code></a>) - If set to a value greater than 0, up to that many tasks will be started to run batches asynchronously The default value is <code class="inline">0</code>.</li></ul></li><li><code class="inline">:private_arguments</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">map/0</code></a>) - Private argument values to set before validations and changes. The default value is <code class="inline">%{}</code>.</li></ul>
  </section>
</section>
<section class="detail" id="bulk_destroy/4">

    <span id="bulk_destroy/3"></span>

  <div class="detail-header">
    <a href="#bulk_destroy/4" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">bulk_destroy(stream_or_query, action, input, opts \\ [])</h1>


    </div>
  </div>

    <div class="deprecated">
      This function is deprecated. Use `Ash.bulk_destroy/4` instead.
    </div>

  <section class="docstring">


  </section>
</section>
<section class="detail" id="bulk_destroy!/4">

    <span id="bulk_destroy!/3"></span>

  <div class="detail-header">
    <a href="#bulk_destroy!/4" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">bulk_destroy!(stream_or_query, action, input, opts \\ [])</h1>


    </div>
  </div>

    <div class="deprecated">
      This function is deprecated. Use `Ash.bulk_destroy!/4` instead.
    </div>

  <section class="docstring">


  </section>
</section>
<section class="detail" id="bulk_update/4">

    <span id="bulk_update/3"></span>

  <div class="detail-header">
    <a href="#bulk_update/4" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">bulk_update(stream_or_query, action, input, opts \\ [])</h1>


    </div>
  </div>

    <div class="deprecated">
      This function is deprecated. Use `Ash.bulk_update/4` instead.
    </div>

  <section class="docstring">


  </section>
</section>
<section class="detail" id="bulk_update!/4">

    <span id="bulk_update!/3"></span>

  <div class="detail-header">
    <a href="#bulk_update!/4" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">bulk_update!(stream_or_query, action, input, opts \\ [])</h1>


    </div>
  </div>

    <div class="deprecated">
      This function is deprecated. Use `Ash.bulk_update!/4` instead.
    </div>

  <section class="docstring">


  </section>
</section>
<section class="detail" id="calculate/3">

    <span id="calculate/2"></span>

  <div class="detail-header">
    <a href="#calculate/3" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">calculate(resource, calculation, opts \\ [])</h1>


    </div>
  </div>

    <div class="deprecated">
      This function is deprecated. Use `Ash.calculate/3` instead.
    </div>

  <section class="docstring">


  </section>
</section>
<section class="detail" id="calculate!/3">

    <span id="calculate!/2"></span>

  <div class="detail-header">
    <a href="#calculate!/3" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">calculate!(resource, calculation, opts \\ [])</h1>


    </div>
  </div>

    <div class="deprecated">
      This function is deprecated. Use `Ash.calculate!/3` instead.
    </div>

  <section class="docstring">


  </section>
</section>
<section class="detail" id="can/3">

    <span id="can/2"></span>

  <div class="detail-header">
    <a href="#can/3" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">can(action_or_query_or_changeset, actor, opts \\ [])</h1>


    </div>
  </div>

    <div class="deprecated">
      This function is deprecated. Use `Ash.can/3` instead.
    </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">@spec</span> can(
  action_or_query_or_changeset ::
    <a href="https://hexdocs.pm/ash/3.7.6/Ash.Query.html#t:t/0">Ash.Query.t</a>()
    | <a href="https://hexdocs.pm/ash/3.7.6/Ash.Changeset.html#t:t/0">Ash.Changeset.t</a>()
    | {<a href="https://hexdocs.pm/ash/3.7.6/Ash.Resource.html#t:t/0">Ash.Resource.t</a>(), <a href="https://hexdocs.pm/elixir/typespecs.html#basic-types">atom</a>() | <a href="https://hexdocs.pm/ash/3.7.6/Ash.Resource.Actions.html#t:action/0">Ash.Resource.Actions.action</a>()},
  actor :: <a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types">term</a>(),
  opts :: <a href="https://hexdocs.pm/elixir/Keyword.html#t:t/0">Keyword.t</a>()
) :: {:ok, <a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types">boolean</a>() | :maybe} | {:error, <a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types">term</a>()}</pre>

      </div>


  </section>
</section>
<section class="detail" id="can?/3">

    <span id="can?/2"></span>

  <div class="detail-header">
    <a href="#can?/3" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">can?(query_or_changeset_or_action, actor, opts \\ [])</h1>


    </div>
  </div>

    <div class="deprecated">
      This function is deprecated. Use `Ash.can?/3` instead.
    </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">@spec</span> can?(
  query_or_changeset_or_action ::
    <a href="https://hexdocs.pm/ash/3.7.6/Ash.Query.html#t:t/0">Ash.Query.t</a>()
    | <a href="https://hexdocs.pm/ash/3.7.6/Ash.Changeset.html#t:t/0">Ash.Changeset.t</a>()
    | {<a href="https://hexdocs.pm/ash/3.7.6/Ash.Resource.html#t:t/0">Ash.Resource.t</a>(), <a href="https://hexdocs.pm/elixir/typespecs.html#basic-types">atom</a>() | <a href="https://hexdocs.pm/ash/3.7.6/Ash.Resource.Actions.html#t:action/0">Ash.Resource.Actions.action</a>()},
  actor :: <a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types">term</a>(),
  opts :: <a href="https://hexdocs.pm/elixir/Keyword.html#t:t/0">Keyword.t</a>()
) :: <a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types">boolean</a>() | <a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types">no_return</a>()</pre>

      </div>


  </section>
</section>
<section class="detail" id="can_bulk_create_cases/3">

    <span id="can_bulk_create_cases/1"></span>

    <span id="can_bulk_create_cases/2"></span>

  <div class="detail-header">
    <a href="#can_bulk_create_cases/3" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">can_bulk_create_cases(actor, params_or_opts \\ %{}, opts \\ [])</h1>


    </div>
  </div>

  <section class="docstring">

<p>Runs authorization checks for <code class="inline">EhsEnforcement.Enforcement.Case.bulk_create</code>
See <a href="https://hexdocs.pm/ash/3.7.6/Ash.html#can/3"><code class="inline">Ash.can/3</code></a> for more information</p><h2 id="can_bulk_create_cases/3-options" class="section-heading"><a href="#can_bulk_create_cases/3-options" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Options</span></h2><ul><li><code class="inline">:maybe_is</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - If the actor <em>may</em> be able to perform the action, what value should be returned. The default value is <code class="inline">:maybe</code>.</li><li><code class="inline">:filter_with</code> - If set to <code class="inline">:error</code>, the query will raise an error on a match. If set to <code class="inline">:filter</code> the query will filter out unauthorized access. Valid values are :filter, :error The default value is <code class="inline">:filter</code>.</li><li><code class="inline">:validate?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to treat an invalid action as a non-allowed action. The default value is <code class="inline">false</code>.</li><li><code class="inline">:reuse_values?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not loaded data like aggregates, calculations and relationships should be checked in memory if possible, instead of querying. No effect if <code class="inline">pre_flight?</code> is <code class="inline">false</code>. The default value is <code class="inline">false</code>.</li><li><code class="inline">:pre_flight?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not this is a pre_flight check (which may perform optimized in-memory checks) or the final proper check. The default value is <code class="inline">true</code>.</li><li><code class="inline">:scope</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A value that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> protocol. Will overwrite any actor, tenant or context provided. See <a href="https://hexdocs.pm/ash/3.7.6/Ash.Context.html"><code class="inline">Ash.Context</code></a> for more.</li><li><code class="inline">:run_queries?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to run queries. If set to <code class="inline">true</code>, <code class="inline">:maybe</code> will not be returned. The default value is <code class="inline">true</code>.</li><li><code class="inline">:data</code> - The record or records specifically attempting to be acted upon.</li><li><code class="inline">:tenant</code> (value that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.ToTenant.html"><code class="inline">Ash.ToTenant</code></a> protocol) - The tenant to use for authorization</li><li><code class="inline">:alter_source?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If set to <code class="inline">true</code>, the source being authorized is returned so it can be run. The default value is <code class="inline">false</code>.</li><li><code class="inline">:base_query</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A base query on which to apply an generated filters</li><li><code class="inline">:no_check?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not authorization must pass at the strict/filter step, or if post-checks are allowed to be run The default value is <code class="inline">false</code>.</li><li><code class="inline">:on_must_pass_strict_check</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - Override the value returned when <code class="inline">no_check?</code> is <code class="inline">true</code> but a check must be run.</li><li><code class="inline">:atomic_changeset</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A base query on which to apply an generated filters</li><li><code class="inline">:return_forbidden_error?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to return a forbidden error in cases of not being authorized. The default value is <code class="inline">false</code>.</li><li><code class="inline">:log?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to log the authorization result. The default value is <code class="inline">false</code>.</li></ul>
  </section>
</section>
<section class="detail" id="can_bulk_create_cases?/3">

    <span id="can_bulk_create_cases?/1"></span>

    <span id="can_bulk_create_cases?/2"></span>

  <div class="detail-header">
    <a href="#can_bulk_create_cases?/3" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">can_bulk_create_cases?(actor, params_or_opts \\ %{}, opts \\ [])</h1>


    </div>
  </div>

  <section class="docstring">

<p>Runs authorization checks for <code class="inline">EhsEnforcement.Enforcement.Case.bulk_create</code>, returning a boolean.
See <a href="https://hexdocs.pm/ash/3.7.6/Ash.html#can?/3"><code class="inline">Ash.can?/3</code></a> for more information</p><h2 id="can_bulk_create_cases?/3-options" class="section-heading"><a href="#can_bulk_create_cases?/3-options" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Options</span></h2><ul><li><code class="inline">:maybe_is</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - If the actor <em>may</em> be able to perform the action, what value should be returned. The default value is <code class="inline">true</code>.</li><li><code class="inline">:filter_with</code> - If set to <code class="inline">:error</code>, the query will raise an error on a match. If set to <code class="inline">:filter</code> the query will filter out unauthorized access. Valid values are :filter, :error The default value is <code class="inline">:filter</code>.</li><li><code class="inline">:validate?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to treat an invalid action as a non-allowed action. The default value is <code class="inline">false</code>.</li><li><code class="inline">:reuse_values?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not loaded data like aggregates, calculations and relationships should be checked in memory if possible, instead of querying. No effect if <code class="inline">pre_flight?</code> is <code class="inline">false</code>. The default value is <code class="inline">false</code>.</li><li><code class="inline">:pre_flight?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not this is a pre_flight check (which may perform optimized in-memory checks) or the final proper check. The default value is <code class="inline">true</code>.</li><li><code class="inline">:scope</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A value that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> protocol. Will overwrite any actor, tenant or context provided. See <a href="https://hexdocs.pm/ash/3.7.6/Ash.Context.html"><code class="inline">Ash.Context</code></a> for more.</li><li><code class="inline">:run_queries?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to run queries. If set to <code class="inline">true</code>, <code class="inline">:maybe</code> will not be returned. The default value is <code class="inline">true</code>.</li><li><code class="inline">:data</code> - The record or records specifically attempting to be acted upon.</li><li><code class="inline">:tenant</code> (value that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.ToTenant.html"><code class="inline">Ash.ToTenant</code></a> protocol) - The tenant to use for authorization</li><li><code class="inline">:alter_source?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If set to <code class="inline">true</code>, the source being authorized is returned so it can be run. The default value is <code class="inline">false</code>.</li><li><code class="inline">:base_query</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A base query on which to apply an generated filters</li><li><code class="inline">:no_check?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not authorization must pass at the strict/filter step, or if post-checks are allowed to be run The default value is <code class="inline">false</code>.</li><li><code class="inline">:on_must_pass_strict_check</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - Override the value returned when <code class="inline">no_check?</code> is <code class="inline">true</code> but a check must be run.</li><li><code class="inline">:atomic_changeset</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A base query on which to apply an generated filters</li><li><code class="inline">:return_forbidden_error?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to return a forbidden error in cases of not being authorized. The default value is <code class="inline">false</code>.</li><li><code class="inline">:log?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to log the authorization result. The default value is <code class="inline">false</code>.</li></ul>
  </section>
</section>
<section class="detail" id="can_bulk_create_offences/3">

    <span id="can_bulk_create_offences/1"></span>

    <span id="can_bulk_create_offences/2"></span>

  <div class="detail-header">
    <a href="#can_bulk_create_offences/3" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">can_bulk_create_offences(actor, params_or_opts \\ %{}, opts \\ [])</h1>


    </div>
  </div>

  <section class="docstring">

<p>Runs authorization checks for <code class="inline">EhsEnforcement.Enforcement.Offence.bulk_create</code>
See <a href="https://hexdocs.pm/ash/3.7.6/Ash.html#can/3"><code class="inline">Ash.can/3</code></a> for more information</p><h2 id="can_bulk_create_offences/3-options" class="section-heading"><a href="#can_bulk_create_offences/3-options" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Options</span></h2><ul><li><code class="inline">:maybe_is</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - If the actor <em>may</em> be able to perform the action, what value should be returned. The default value is <code class="inline">:maybe</code>.</li><li><code class="inline">:filter_with</code> - If set to <code class="inline">:error</code>, the query will raise an error on a match. If set to <code class="inline">:filter</code> the query will filter out unauthorized access. Valid values are :filter, :error The default value is <code class="inline">:filter</code>.</li><li><code class="inline">:validate?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to treat an invalid action as a non-allowed action. The default value is <code class="inline">false</code>.</li><li><code class="inline">:reuse_values?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not loaded data like aggregates, calculations and relationships should be checked in memory if possible, instead of querying. No effect if <code class="inline">pre_flight?</code> is <code class="inline">false</code>. The default value is <code class="inline">false</code>.</li><li><code class="inline">:pre_flight?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not this is a pre_flight check (which may perform optimized in-memory checks) or the final proper check. The default value is <code class="inline">true</code>.</li><li><code class="inline">:scope</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A value that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> protocol. Will overwrite any actor, tenant or context provided. See <a href="https://hexdocs.pm/ash/3.7.6/Ash.Context.html"><code class="inline">Ash.Context</code></a> for more.</li><li><code class="inline">:run_queries?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to run queries. If set to <code class="inline">true</code>, <code class="inline">:maybe</code> will not be returned. The default value is <code class="inline">true</code>.</li><li><code class="inline">:data</code> - The record or records specifically attempting to be acted upon.</li><li><code class="inline">:tenant</code> (value that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.ToTenant.html"><code class="inline">Ash.ToTenant</code></a> protocol) - The tenant to use for authorization</li><li><code class="inline">:alter_source?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If set to <code class="inline">true</code>, the source being authorized is returned so it can be run. The default value is <code class="inline">false</code>.</li><li><code class="inline">:base_query</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A base query on which to apply an generated filters</li><li><code class="inline">:no_check?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not authorization must pass at the strict/filter step, or if post-checks are allowed to be run The default value is <code class="inline">false</code>.</li><li><code class="inline">:on_must_pass_strict_check</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - Override the value returned when <code class="inline">no_check?</code> is <code class="inline">true</code> but a check must be run.</li><li><code class="inline">:atomic_changeset</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A base query on which to apply an generated filters</li><li><code class="inline">:return_forbidden_error?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to return a forbidden error in cases of not being authorized. The default value is <code class="inline">false</code>.</li><li><code class="inline">:log?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to log the authorization result. The default value is <code class="inline">false</code>.</li></ul>
  </section>
</section>
<section class="detail" id="can_bulk_create_offences?/3">

    <span id="can_bulk_create_offences?/1"></span>

    <span id="can_bulk_create_offences?/2"></span>

  <div class="detail-header">
    <a href="#can_bulk_create_offences?/3" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">can_bulk_create_offences?(actor, params_or_opts \\ %{}, opts \\ [])</h1>


    </div>
  </div>

  <section class="docstring">

<p>Runs authorization checks for <code class="inline">EhsEnforcement.Enforcement.Offence.bulk_create</code>, returning a boolean.
See <a href="https://hexdocs.pm/ash/3.7.6/Ash.html#can?/3"><code class="inline">Ash.can?/3</code></a> for more information</p><h2 id="can_bulk_create_offences?/3-options" class="section-heading"><a href="#can_bulk_create_offences?/3-options" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Options</span></h2><ul><li><code class="inline">:maybe_is</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - If the actor <em>may</em> be able to perform the action, what value should be returned. The default value is <code class="inline">true</code>.</li><li><code class="inline">:filter_with</code> - If set to <code class="inline">:error</code>, the query will raise an error on a match. If set to <code class="inline">:filter</code> the query will filter out unauthorized access. Valid values are :filter, :error The default value is <code class="inline">:filter</code>.</li><li><code class="inline">:validate?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to treat an invalid action as a non-allowed action. The default value is <code class="inline">false</code>.</li><li><code class="inline">:reuse_values?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not loaded data like aggregates, calculations and relationships should be checked in memory if possible, instead of querying. No effect if <code class="inline">pre_flight?</code> is <code class="inline">false</code>. The default value is <code class="inline">false</code>.</li><li><code class="inline">:pre_flight?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not this is a pre_flight check (which may perform optimized in-memory checks) or the final proper check. The default value is <code class="inline">true</code>.</li><li><code class="inline">:scope</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A value that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> protocol. Will overwrite any actor, tenant or context provided. See <a href="https://hexdocs.pm/ash/3.7.6/Ash.Context.html"><code class="inline">Ash.Context</code></a> for more.</li><li><code class="inline">:run_queries?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to run queries. If set to <code class="inline">true</code>, <code class="inline">:maybe</code> will not be returned. The default value is <code class="inline">true</code>.</li><li><code class="inline">:data</code> - The record or records specifically attempting to be acted upon.</li><li><code class="inline">:tenant</code> (value that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.ToTenant.html"><code class="inline">Ash.ToTenant</code></a> protocol) - The tenant to use for authorization</li><li><code class="inline">:alter_source?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If set to <code class="inline">true</code>, the source being authorized is returned so it can be run. The default value is <code class="inline">false</code>.</li><li><code class="inline">:base_query</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A base query on which to apply an generated filters</li><li><code class="inline">:no_check?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not authorization must pass at the strict/filter step, or if post-checks are allowed to be run The default value is <code class="inline">false</code>.</li><li><code class="inline">:on_must_pass_strict_check</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - Override the value returned when <code class="inline">no_check?</code> is <code class="inline">true</code> but a check must be run.</li><li><code class="inline">:atomic_changeset</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A base query on which to apply an generated filters</li><li><code class="inline">:return_forbidden_error?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to return a forbidden error in cases of not being authorized. The default value is <code class="inline">false</code>.</li><li><code class="inline">:log?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to log the authorization result. The default value is <code class="inline">false</code>.</li></ul>
  </section>
</section>
<section class="detail" id="can_create_agency/3">

    <span id="can_create_agency/1"></span>

    <span id="can_create_agency/2"></span>

  <div class="detail-header">
    <a href="#can_create_agency/3" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">can_create_agency(actor, params_or_opts \\ %{}, opts \\ [])</h1>


    </div>
  </div>

  <section class="docstring">

<p>Runs authorization checks for <code class="inline">EhsEnforcement.Enforcement.Agency.create</code>
See <a href="https://hexdocs.pm/ash/3.7.6/Ash.html#can/3"><code class="inline">Ash.can/3</code></a> for more information</p><h2 id="can_create_agency/3-options" class="section-heading"><a href="#can_create_agency/3-options" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Options</span></h2><ul><li><code class="inline">:maybe_is</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - If the actor <em>may</em> be able to perform the action, what value should be returned. The default value is <code class="inline">:maybe</code>.</li><li><code class="inline">:filter_with</code> - If set to <code class="inline">:error</code>, the query will raise an error on a match. If set to <code class="inline">:filter</code> the query will filter out unauthorized access. Valid values are :filter, :error The default value is <code class="inline">:filter</code>.</li><li><code class="inline">:validate?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to treat an invalid action as a non-allowed action. The default value is <code class="inline">false</code>.</li><li><code class="inline">:reuse_values?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not loaded data like aggregates, calculations and relationships should be checked in memory if possible, instead of querying. No effect if <code class="inline">pre_flight?</code> is <code class="inline">false</code>. The default value is <code class="inline">false</code>.</li><li><code class="inline">:pre_flight?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not this is a pre_flight check (which may perform optimized in-memory checks) or the final proper check. The default value is <code class="inline">true</code>.</li><li><code class="inline">:scope</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A value that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> protocol. Will overwrite any actor, tenant or context provided. See <a href="https://hexdocs.pm/ash/3.7.6/Ash.Context.html"><code class="inline">Ash.Context</code></a> for more.</li><li><code class="inline">:run_queries?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to run queries. If set to <code class="inline">true</code>, <code class="inline">:maybe</code> will not be returned. The default value is <code class="inline">true</code>.</li><li><code class="inline">:data</code> - The record or records specifically attempting to be acted upon.</li><li><code class="inline">:tenant</code> (value that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.ToTenant.html"><code class="inline">Ash.ToTenant</code></a> protocol) - The tenant to use for authorization</li><li><code class="inline">:alter_source?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If set to <code class="inline">true</code>, the source being authorized is returned so it can be run. The default value is <code class="inline">false</code>.</li><li><code class="inline">:base_query</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A base query on which to apply an generated filters</li><li><code class="inline">:no_check?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not authorization must pass at the strict/filter step, or if post-checks are allowed to be run The default value is <code class="inline">false</code>.</li><li><code class="inline">:on_must_pass_strict_check</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - Override the value returned when <code class="inline">no_check?</code> is <code class="inline">true</code> but a check must be run.</li><li><code class="inline">:atomic_changeset</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A base query on which to apply an generated filters</li><li><code class="inline">:return_forbidden_error?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to return a forbidden error in cases of not being authorized. The default value is <code class="inline">false</code>.</li><li><code class="inline">:log?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to log the authorization result. The default value is <code class="inline">false</code>.</li></ul>
  </section>
</section>
<section class="detail" id="can_create_agency?/3">

    <span id="can_create_agency?/1"></span>

    <span id="can_create_agency?/2"></span>

  <div class="detail-header">
    <a href="#can_create_agency?/3" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">can_create_agency?(actor, params_or_opts \\ %{}, opts \\ [])</h1>


    </div>
  </div>

  <section class="docstring">

<p>Runs authorization checks for <code class="inline">EhsEnforcement.Enforcement.Agency.create</code>, returning a boolean.
See <a href="https://hexdocs.pm/ash/3.7.6/Ash.html#can?/3"><code class="inline">Ash.can?/3</code></a> for more information</p><h2 id="can_create_agency?/3-options" class="section-heading"><a href="#can_create_agency?/3-options" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Options</span></h2><ul><li><code class="inline">:maybe_is</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - If the actor <em>may</em> be able to perform the action, what value should be returned. The default value is <code class="inline">true</code>.</li><li><code class="inline">:filter_with</code> - If set to <code class="inline">:error</code>, the query will raise an error on a match. If set to <code class="inline">:filter</code> the query will filter out unauthorized access. Valid values are :filter, :error The default value is <code class="inline">:filter</code>.</li><li><code class="inline">:validate?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to treat an invalid action as a non-allowed action. The default value is <code class="inline">false</code>.</li><li><code class="inline">:reuse_values?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not loaded data like aggregates, calculations and relationships should be checked in memory if possible, instead of querying. No effect if <code class="inline">pre_flight?</code> is <code class="inline">false</code>. The default value is <code class="inline">false</code>.</li><li><code class="inline">:pre_flight?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not this is a pre_flight check (which may perform optimized in-memory checks) or the final proper check. The default value is <code class="inline">true</code>.</li><li><code class="inline">:scope</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A value that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> protocol. Will overwrite any actor, tenant or context provided. See <a href="https://hexdocs.pm/ash/3.7.6/Ash.Context.html"><code class="inline">Ash.Context</code></a> for more.</li><li><code class="inline">:run_queries?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to run queries. If set to <code class="inline">true</code>, <code class="inline">:maybe</code> will not be returned. The default value is <code class="inline">true</code>.</li><li><code class="inline">:data</code> - The record or records specifically attempting to be acted upon.</li><li><code class="inline">:tenant</code> (value that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.ToTenant.html"><code class="inline">Ash.ToTenant</code></a> protocol) - The tenant to use for authorization</li><li><code class="inline">:alter_source?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If set to <code class="inline">true</code>, the source being authorized is returned so it can be run. The default value is <code class="inline">false</code>.</li><li><code class="inline">:base_query</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A base query on which to apply an generated filters</li><li><code class="inline">:no_check?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not authorization must pass at the strict/filter step, or if post-checks are allowed to be run The default value is <code class="inline">false</code>.</li><li><code class="inline">:on_must_pass_strict_check</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - Override the value returned when <code class="inline">no_check?</code> is <code class="inline">true</code> but a check must be run.</li><li><code class="inline">:atomic_changeset</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A base query on which to apply an generated filters</li><li><code class="inline">:return_forbidden_error?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to return a forbidden error in cases of not being authorized. The default value is <code class="inline">false</code>.</li><li><code class="inline">:log?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to log the authorization result. The default value is <code class="inline">false</code>.</li></ul>
  </section>
</section>
<section class="detail" id="can_create_case/3">

    <span id="can_create_case/1"></span>

    <span id="can_create_case/2"></span>

  <div class="detail-header">
    <a href="#can_create_case/3" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">can_create_case(actor, params_or_opts \\ %{}, opts \\ [])</h1>


    </div>
  </div>

  <section class="docstring">

<p>Runs authorization checks for <code class="inline">EhsEnforcement.Enforcement.Case.create</code>
See <a href="https://hexdocs.pm/ash/3.7.6/Ash.html#can/3"><code class="inline">Ash.can/3</code></a> for more information</p><h2 id="can_create_case/3-options" class="section-heading"><a href="#can_create_case/3-options" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Options</span></h2><ul><li><code class="inline">:maybe_is</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - If the actor <em>may</em> be able to perform the action, what value should be returned. The default value is <code class="inline">:maybe</code>.</li><li><code class="inline">:filter_with</code> - If set to <code class="inline">:error</code>, the query will raise an error on a match. If set to <code class="inline">:filter</code> the query will filter out unauthorized access. Valid values are :filter, :error The default value is <code class="inline">:filter</code>.</li><li><code class="inline">:validate?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to treat an invalid action as a non-allowed action. The default value is <code class="inline">false</code>.</li><li><code class="inline">:reuse_values?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not loaded data like aggregates, calculations and relationships should be checked in memory if possible, instead of querying. No effect if <code class="inline">pre_flight?</code> is <code class="inline">false</code>. The default value is <code class="inline">false</code>.</li><li><code class="inline">:pre_flight?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not this is a pre_flight check (which may perform optimized in-memory checks) or the final proper check. The default value is <code class="inline">true</code>.</li><li><code class="inline">:scope</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A value that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> protocol. Will overwrite any actor, tenant or context provided. See <a href="https://hexdocs.pm/ash/3.7.6/Ash.Context.html"><code class="inline">Ash.Context</code></a> for more.</li><li><code class="inline">:run_queries?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to run queries. If set to <code class="inline">true</code>, <code class="inline">:maybe</code> will not be returned. The default value is <code class="inline">true</code>.</li><li><code class="inline">:data</code> - The record or records specifically attempting to be acted upon.</li><li><code class="inline">:tenant</code> (value that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.ToTenant.html"><code class="inline">Ash.ToTenant</code></a> protocol) - The tenant to use for authorization</li><li><code class="inline">:alter_source?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If set to <code class="inline">true</code>, the source being authorized is returned so it can be run. The default value is <code class="inline">false</code>.</li><li><code class="inline">:base_query</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A base query on which to apply an generated filters</li><li><code class="inline">:no_check?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not authorization must pass at the strict/filter step, or if post-checks are allowed to be run The default value is <code class="inline">false</code>.</li><li><code class="inline">:on_must_pass_strict_check</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - Override the value returned when <code class="inline">no_check?</code> is <code class="inline">true</code> but a check must be run.</li><li><code class="inline">:atomic_changeset</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A base query on which to apply an generated filters</li><li><code class="inline">:return_forbidden_error?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to return a forbidden error in cases of not being authorized. The default value is <code class="inline">false</code>.</li><li><code class="inline">:log?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to log the authorization result. The default value is <code class="inline">false</code>.</li></ul>
  </section>
</section>
<section class="detail" id="can_create_case?/3">

    <span id="can_create_case?/1"></span>

    <span id="can_create_case?/2"></span>

  <div class="detail-header">
    <a href="#can_create_case?/3" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">can_create_case?(actor, params_or_opts \\ %{}, opts \\ [])</h1>


    </div>
  </div>

  <section class="docstring">

<p>Runs authorization checks for <code class="inline">EhsEnforcement.Enforcement.Case.create</code>, returning a boolean.
See <a href="https://hexdocs.pm/ash/3.7.6/Ash.html#can?/3"><code class="inline">Ash.can?/3</code></a> for more information</p><h2 id="can_create_case?/3-options" class="section-heading"><a href="#can_create_case?/3-options" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Options</span></h2><ul><li><code class="inline">:maybe_is</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - If the actor <em>may</em> be able to perform the action, what value should be returned. The default value is <code class="inline">true</code>.</li><li><code class="inline">:filter_with</code> - If set to <code class="inline">:error</code>, the query will raise an error on a match. If set to <code class="inline">:filter</code> the query will filter out unauthorized access. Valid values are :filter, :error The default value is <code class="inline">:filter</code>.</li><li><code class="inline">:validate?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to treat an invalid action as a non-allowed action. The default value is <code class="inline">false</code>.</li><li><code class="inline">:reuse_values?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not loaded data like aggregates, calculations and relationships should be checked in memory if possible, instead of querying. No effect if <code class="inline">pre_flight?</code> is <code class="inline">false</code>. The default value is <code class="inline">false</code>.</li><li><code class="inline">:pre_flight?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not this is a pre_flight check (which may perform optimized in-memory checks) or the final proper check. The default value is <code class="inline">true</code>.</li><li><code class="inline">:scope</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A value that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> protocol. Will overwrite any actor, tenant or context provided. See <a href="https://hexdocs.pm/ash/3.7.6/Ash.Context.html"><code class="inline">Ash.Context</code></a> for more.</li><li><code class="inline">:run_queries?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to run queries. If set to <code class="inline">true</code>, <code class="inline">:maybe</code> will not be returned. The default value is <code class="inline">true</code>.</li><li><code class="inline">:data</code> - The record or records specifically attempting to be acted upon.</li><li><code class="inline">:tenant</code> (value that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.ToTenant.html"><code class="inline">Ash.ToTenant</code></a> protocol) - The tenant to use for authorization</li><li><code class="inline">:alter_source?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If set to <code class="inline">true</code>, the source being authorized is returned so it can be run. The default value is <code class="inline">false</code>.</li><li><code class="inline">:base_query</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A base query on which to apply an generated filters</li><li><code class="inline">:no_check?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not authorization must pass at the strict/filter step, or if post-checks are allowed to be run The default value is <code class="inline">false</code>.</li><li><code class="inline">:on_must_pass_strict_check</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - Override the value returned when <code class="inline">no_check?</code> is <code class="inline">true</code> but a check must be run.</li><li><code class="inline">:atomic_changeset</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A base query on which to apply an generated filters</li><li><code class="inline">:return_forbidden_error?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to return a forbidden error in cases of not being authorized. The default value is <code class="inline">false</code>.</li><li><code class="inline">:log?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to log the authorization result. The default value is <code class="inline">false</code>.</li></ul>
  </section>
</section>
<section class="detail" id="can_create_legislation/3">

    <span id="can_create_legislation/1"></span>

    <span id="can_create_legislation/2"></span>

  <div class="detail-header">
    <a href="#can_create_legislation/3" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">can_create_legislation(actor, params_or_opts \\ %{}, opts \\ [])</h1>


    </div>
  </div>

  <section class="docstring">

<p>Runs authorization checks for <code class="inline">EhsEnforcement.Enforcement.Legislation.create</code>
See <a href="https://hexdocs.pm/ash/3.7.6/Ash.html#can/3"><code class="inline">Ash.can/3</code></a> for more information</p><h2 id="can_create_legislation/3-options" class="section-heading"><a href="#can_create_legislation/3-options" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Options</span></h2><ul><li><code class="inline">:maybe_is</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - If the actor <em>may</em> be able to perform the action, what value should be returned. The default value is <code class="inline">:maybe</code>.</li><li><code class="inline">:filter_with</code> - If set to <code class="inline">:error</code>, the query will raise an error on a match. If set to <code class="inline">:filter</code> the query will filter out unauthorized access. Valid values are :filter, :error The default value is <code class="inline">:filter</code>.</li><li><code class="inline">:validate?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to treat an invalid action as a non-allowed action. The default value is <code class="inline">false</code>.</li><li><code class="inline">:reuse_values?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not loaded data like aggregates, calculations and relationships should be checked in memory if possible, instead of querying. No effect if <code class="inline">pre_flight?</code> is <code class="inline">false</code>. The default value is <code class="inline">false</code>.</li><li><code class="inline">:pre_flight?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not this is a pre_flight check (which may perform optimized in-memory checks) or the final proper check. The default value is <code class="inline">true</code>.</li><li><code class="inline">:scope</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A value that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> protocol. Will overwrite any actor, tenant or context provided. See <a href="https://hexdocs.pm/ash/3.7.6/Ash.Context.html"><code class="inline">Ash.Context</code></a> for more.</li><li><code class="inline">:run_queries?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to run queries. If set to <code class="inline">true</code>, <code class="inline">:maybe</code> will not be returned. The default value is <code class="inline">true</code>.</li><li><code class="inline">:data</code> - The record or records specifically attempting to be acted upon.</li><li><code class="inline">:tenant</code> (value that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.ToTenant.html"><code class="inline">Ash.ToTenant</code></a> protocol) - The tenant to use for authorization</li><li><code class="inline">:alter_source?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If set to <code class="inline">true</code>, the source being authorized is returned so it can be run. The default value is <code class="inline">false</code>.</li><li><code class="inline">:base_query</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A base query on which to apply an generated filters</li><li><code class="inline">:no_check?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not authorization must pass at the strict/filter step, or if post-checks are allowed to be run The default value is <code class="inline">false</code>.</li><li><code class="inline">:on_must_pass_strict_check</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - Override the value returned when <code class="inline">no_check?</code> is <code class="inline">true</code> but a check must be run.</li><li><code class="inline">:atomic_changeset</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A base query on which to apply an generated filters</li><li><code class="inline">:return_forbidden_error?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to return a forbidden error in cases of not being authorized. The default value is <code class="inline">false</code>.</li><li><code class="inline">:log?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to log the authorization result. The default value is <code class="inline">false</code>.</li></ul>
  </section>
</section>
<section class="detail" id="can_create_legislation?/3">

    <span id="can_create_legislation?/1"></span>

    <span id="can_create_legislation?/2"></span>

  <div class="detail-header">
    <a href="#can_create_legislation?/3" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">can_create_legislation?(actor, params_or_opts \\ %{}, opts \\ [])</h1>


    </div>
  </div>

  <section class="docstring">

<p>Runs authorization checks for <code class="inline">EhsEnforcement.Enforcement.Legislation.create</code>, returning a boolean.
See <a href="https://hexdocs.pm/ash/3.7.6/Ash.html#can?/3"><code class="inline">Ash.can?/3</code></a> for more information</p><h2 id="can_create_legislation?/3-options" class="section-heading"><a href="#can_create_legislation?/3-options" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Options</span></h2><ul><li><code class="inline">:maybe_is</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - If the actor <em>may</em> be able to perform the action, what value should be returned. The default value is <code class="inline">true</code>.</li><li><code class="inline">:filter_with</code> - If set to <code class="inline">:error</code>, the query will raise an error on a match. If set to <code class="inline">:filter</code> the query will filter out unauthorized access. Valid values are :filter, :error The default value is <code class="inline">:filter</code>.</li><li><code class="inline">:validate?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to treat an invalid action as a non-allowed action. The default value is <code class="inline">false</code>.</li><li><code class="inline">:reuse_values?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not loaded data like aggregates, calculations and relationships should be checked in memory if possible, instead of querying. No effect if <code class="inline">pre_flight?</code> is <code class="inline">false</code>. The default value is <code class="inline">false</code>.</li><li><code class="inline">:pre_flight?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not this is a pre_flight check (which may perform optimized in-memory checks) or the final proper check. The default value is <code class="inline">true</code>.</li><li><code class="inline">:scope</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A value that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> protocol. Will overwrite any actor, tenant or context provided. See <a href="https://hexdocs.pm/ash/3.7.6/Ash.Context.html"><code class="inline">Ash.Context</code></a> for more.</li><li><code class="inline">:run_queries?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to run queries. If set to <code class="inline">true</code>, <code class="inline">:maybe</code> will not be returned. The default value is <code class="inline">true</code>.</li><li><code class="inline">:data</code> - The record or records specifically attempting to be acted upon.</li><li><code class="inline">:tenant</code> (value that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.ToTenant.html"><code class="inline">Ash.ToTenant</code></a> protocol) - The tenant to use for authorization</li><li><code class="inline">:alter_source?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If set to <code class="inline">true</code>, the source being authorized is returned so it can be run. The default value is <code class="inline">false</code>.</li><li><code class="inline">:base_query</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A base query on which to apply an generated filters</li><li><code class="inline">:no_check?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not authorization must pass at the strict/filter step, or if post-checks are allowed to be run The default value is <code class="inline">false</code>.</li><li><code class="inline">:on_must_pass_strict_check</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - Override the value returned when <code class="inline">no_check?</code> is <code class="inline">true</code> but a check must be run.</li><li><code class="inline">:atomic_changeset</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A base query on which to apply an generated filters</li><li><code class="inline">:return_forbidden_error?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to return a forbidden error in cases of not being authorized. The default value is <code class="inline">false</code>.</li><li><code class="inline">:log?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to log the authorization result. The default value is <code class="inline">false</code>.</li></ul>
  </section>
</section>
<section class="detail" id="can_create_notice/3">

    <span id="can_create_notice/1"></span>

    <span id="can_create_notice/2"></span>

  <div class="detail-header">
    <a href="#can_create_notice/3" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">can_create_notice(actor, params_or_opts \\ %{}, opts \\ [])</h1>


    </div>
  </div>

  <section class="docstring">

<p>Runs authorization checks for <code class="inline">EhsEnforcement.Enforcement.Notice.create</code>
See <a href="https://hexdocs.pm/ash/3.7.6/Ash.html#can/3"><code class="inline">Ash.can/3</code></a> for more information</p><h2 id="can_create_notice/3-options" class="section-heading"><a href="#can_create_notice/3-options" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Options</span></h2><ul><li><code class="inline">:maybe_is</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - If the actor <em>may</em> be able to perform the action, what value should be returned. The default value is <code class="inline">:maybe</code>.</li><li><code class="inline">:filter_with</code> - If set to <code class="inline">:error</code>, the query will raise an error on a match. If set to <code class="inline">:filter</code> the query will filter out unauthorized access. Valid values are :filter, :error The default value is <code class="inline">:filter</code>.</li><li><code class="inline">:validate?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to treat an invalid action as a non-allowed action. The default value is <code class="inline">false</code>.</li><li><code class="inline">:reuse_values?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not loaded data like aggregates, calculations and relationships should be checked in memory if possible, instead of querying. No effect if <code class="inline">pre_flight?</code> is <code class="inline">false</code>. The default value is <code class="inline">false</code>.</li><li><code class="inline">:pre_flight?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not this is a pre_flight check (which may perform optimized in-memory checks) or the final proper check. The default value is <code class="inline">true</code>.</li><li><code class="inline">:scope</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A value that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> protocol. Will overwrite any actor, tenant or context provided. See <a href="https://hexdocs.pm/ash/3.7.6/Ash.Context.html"><code class="inline">Ash.Context</code></a> for more.</li><li><code class="inline">:run_queries?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to run queries. If set to <code class="inline">true</code>, <code class="inline">:maybe</code> will not be returned. The default value is <code class="inline">true</code>.</li><li><code class="inline">:data</code> - The record or records specifically attempting to be acted upon.</li><li><code class="inline">:tenant</code> (value that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.ToTenant.html"><code class="inline">Ash.ToTenant</code></a> protocol) - The tenant to use for authorization</li><li><code class="inline">:alter_source?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If set to <code class="inline">true</code>, the source being authorized is returned so it can be run. The default value is <code class="inline">false</code>.</li><li><code class="inline">:base_query</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A base query on which to apply an generated filters</li><li><code class="inline">:no_check?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not authorization must pass at the strict/filter step, or if post-checks are allowed to be run The default value is <code class="inline">false</code>.</li><li><code class="inline">:on_must_pass_strict_check</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - Override the value returned when <code class="inline">no_check?</code> is <code class="inline">true</code> but a check must be run.</li><li><code class="inline">:atomic_changeset</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A base query on which to apply an generated filters</li><li><code class="inline">:return_forbidden_error?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to return a forbidden error in cases of not being authorized. The default value is <code class="inline">false</code>.</li><li><code class="inline">:log?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to log the authorization result. The default value is <code class="inline">false</code>.</li></ul>
  </section>
</section>
<section class="detail" id="can_create_notice?/3">

    <span id="can_create_notice?/1"></span>

    <span id="can_create_notice?/2"></span>

  <div class="detail-header">
    <a href="#can_create_notice?/3" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">can_create_notice?(actor, params_or_opts \\ %{}, opts \\ [])</h1>


    </div>
  </div>

  <section class="docstring">

<p>Runs authorization checks for <code class="inline">EhsEnforcement.Enforcement.Notice.create</code>, returning a boolean.
See <a href="https://hexdocs.pm/ash/3.7.6/Ash.html#can?/3"><code class="inline">Ash.can?/3</code></a> for more information</p><h2 id="can_create_notice?/3-options" class="section-heading"><a href="#can_create_notice?/3-options" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Options</span></h2><ul><li><code class="inline">:maybe_is</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - If the actor <em>may</em> be able to perform the action, what value should be returned. The default value is <code class="inline">true</code>.</li><li><code class="inline">:filter_with</code> - If set to <code class="inline">:error</code>, the query will raise an error on a match. If set to <code class="inline">:filter</code> the query will filter out unauthorized access. Valid values are :filter, :error The default value is <code class="inline">:filter</code>.</li><li><code class="inline">:validate?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to treat an invalid action as a non-allowed action. The default value is <code class="inline">false</code>.</li><li><code class="inline">:reuse_values?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not loaded data like aggregates, calculations and relationships should be checked in memory if possible, instead of querying. No effect if <code class="inline">pre_flight?</code> is <code class="inline">false</code>. The default value is <code class="inline">false</code>.</li><li><code class="inline">:pre_flight?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not this is a pre_flight check (which may perform optimized in-memory checks) or the final proper check. The default value is <code class="inline">true</code>.</li><li><code class="inline">:scope</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A value that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> protocol. Will overwrite any actor, tenant or context provided. See <a href="https://hexdocs.pm/ash/3.7.6/Ash.Context.html"><code class="inline">Ash.Context</code></a> for more.</li><li><code class="inline">:run_queries?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to run queries. If set to <code class="inline">true</code>, <code class="inline">:maybe</code> will not be returned. The default value is <code class="inline">true</code>.</li><li><code class="inline">:data</code> - The record or records specifically attempting to be acted upon.</li><li><code class="inline">:tenant</code> (value that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.ToTenant.html"><code class="inline">Ash.ToTenant</code></a> protocol) - The tenant to use for authorization</li><li><code class="inline">:alter_source?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If set to <code class="inline">true</code>, the source being authorized is returned so it can be run. The default value is <code class="inline">false</code>.</li><li><code class="inline">:base_query</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A base query on which to apply an generated filters</li><li><code class="inline">:no_check?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not authorization must pass at the strict/filter step, or if post-checks are allowed to be run The default value is <code class="inline">false</code>.</li><li><code class="inline">:on_must_pass_strict_check</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - Override the value returned when <code class="inline">no_check?</code> is <code class="inline">true</code> but a check must be run.</li><li><code class="inline">:atomic_changeset</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A base query on which to apply an generated filters</li><li><code class="inline">:return_forbidden_error?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to return a forbidden error in cases of not being authorized. The default value is <code class="inline">false</code>.</li><li><code class="inline">:log?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to log the authorization result. The default value is <code class="inline">false</code>.</li></ul>
  </section>
</section>
<section class="detail" id="can_create_offence/3">

    <span id="can_create_offence/1"></span>

    <span id="can_create_offence/2"></span>

  <div class="detail-header">
    <a href="#can_create_offence/3" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">can_create_offence(actor, params_or_opts \\ %{}, opts \\ [])</h1>


    </div>
  </div>

  <section class="docstring">

<p>Runs authorization checks for <code class="inline">EhsEnforcement.Enforcement.Offence.create</code>
See <a href="https://hexdocs.pm/ash/3.7.6/Ash.html#can/3"><code class="inline">Ash.can/3</code></a> for more information</p><h2 id="can_create_offence/3-options" class="section-heading"><a href="#can_create_offence/3-options" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Options</span></h2><ul><li><code class="inline">:maybe_is</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - If the actor <em>may</em> be able to perform the action, what value should be returned. The default value is <code class="inline">:maybe</code>.</li><li><code class="inline">:filter_with</code> - If set to <code class="inline">:error</code>, the query will raise an error on a match. If set to <code class="inline">:filter</code> the query will filter out unauthorized access. Valid values are :filter, :error The default value is <code class="inline">:filter</code>.</li><li><code class="inline">:validate?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to treat an invalid action as a non-allowed action. The default value is <code class="inline">false</code>.</li><li><code class="inline">:reuse_values?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not loaded data like aggregates, calculations and relationships should be checked in memory if possible, instead of querying. No effect if <code class="inline">pre_flight?</code> is <code class="inline">false</code>. The default value is <code class="inline">false</code>.</li><li><code class="inline">:pre_flight?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not this is a pre_flight check (which may perform optimized in-memory checks) or the final proper check. The default value is <code class="inline">true</code>.</li><li><code class="inline">:scope</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A value that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> protocol. Will overwrite any actor, tenant or context provided. See <a href="https://hexdocs.pm/ash/3.7.6/Ash.Context.html"><code class="inline">Ash.Context</code></a> for more.</li><li><code class="inline">:run_queries?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to run queries. If set to <code class="inline">true</code>, <code class="inline">:maybe</code> will not be returned. The default value is <code class="inline">true</code>.</li><li><code class="inline">:data</code> - The record or records specifically attempting to be acted upon.</li><li><code class="inline">:tenant</code> (value that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.ToTenant.html"><code class="inline">Ash.ToTenant</code></a> protocol) - The tenant to use for authorization</li><li><code class="inline">:alter_source?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If set to <code class="inline">true</code>, the source being authorized is returned so it can be run. The default value is <code class="inline">false</code>.</li><li><code class="inline">:base_query</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A base query on which to apply an generated filters</li><li><code class="inline">:no_check?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not authorization must pass at the strict/filter step, or if post-checks are allowed to be run The default value is <code class="inline">false</code>.</li><li><code class="inline">:on_must_pass_strict_check</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - Override the value returned when <code class="inline">no_check?</code> is <code class="inline">true</code> but a check must be run.</li><li><code class="inline">:atomic_changeset</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A base query on which to apply an generated filters</li><li><code class="inline">:return_forbidden_error?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to return a forbidden error in cases of not being authorized. The default value is <code class="inline">false</code>.</li><li><code class="inline">:log?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to log the authorization result. The default value is <code class="inline">false</code>.</li></ul>
  </section>
</section>
<section class="detail" id="can_create_offence?/3">

    <span id="can_create_offence?/1"></span>

    <span id="can_create_offence?/2"></span>

  <div class="detail-header">
    <a href="#can_create_offence?/3" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">can_create_offence?(actor, params_or_opts \\ %{}, opts \\ [])</h1>


    </div>
  </div>

  <section class="docstring">

<p>Runs authorization checks for <code class="inline">EhsEnforcement.Enforcement.Offence.create</code>, returning a boolean.
See <a href="https://hexdocs.pm/ash/3.7.6/Ash.html#can?/3"><code class="inline">Ash.can?/3</code></a> for more information</p><h2 id="can_create_offence?/3-options" class="section-heading"><a href="#can_create_offence?/3-options" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Options</span></h2><ul><li><code class="inline">:maybe_is</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - If the actor <em>may</em> be able to perform the action, what value should be returned. The default value is <code class="inline">true</code>.</li><li><code class="inline">:filter_with</code> - If set to <code class="inline">:error</code>, the query will raise an error on a match. If set to <code class="inline">:filter</code> the query will filter out unauthorized access. Valid values are :filter, :error The default value is <code class="inline">:filter</code>.</li><li><code class="inline">:validate?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to treat an invalid action as a non-allowed action. The default value is <code class="inline">false</code>.</li><li><code class="inline">:reuse_values?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not loaded data like aggregates, calculations and relationships should be checked in memory if possible, instead of querying. No effect if <code class="inline">pre_flight?</code> is <code class="inline">false</code>. The default value is <code class="inline">false</code>.</li><li><code class="inline">:pre_flight?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not this is a pre_flight check (which may perform optimized in-memory checks) or the final proper check. The default value is <code class="inline">true</code>.</li><li><code class="inline">:scope</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A value that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> protocol. Will overwrite any actor, tenant or context provided. See <a href="https://hexdocs.pm/ash/3.7.6/Ash.Context.html"><code class="inline">Ash.Context</code></a> for more.</li><li><code class="inline">:run_queries?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to run queries. If set to <code class="inline">true</code>, <code class="inline">:maybe</code> will not be returned. The default value is <code class="inline">true</code>.</li><li><code class="inline">:data</code> - The record or records specifically attempting to be acted upon.</li><li><code class="inline">:tenant</code> (value that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.ToTenant.html"><code class="inline">Ash.ToTenant</code></a> protocol) - The tenant to use for authorization</li><li><code class="inline">:alter_source?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If set to <code class="inline">true</code>, the source being authorized is returned so it can be run. The default value is <code class="inline">false</code>.</li><li><code class="inline">:base_query</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A base query on which to apply an generated filters</li><li><code class="inline">:no_check?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not authorization must pass at the strict/filter step, or if post-checks are allowed to be run The default value is <code class="inline">false</code>.</li><li><code class="inline">:on_must_pass_strict_check</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - Override the value returned when <code class="inline">no_check?</code> is <code class="inline">true</code> but a check must be run.</li><li><code class="inline">:atomic_changeset</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A base query on which to apply an generated filters</li><li><code class="inline">:return_forbidden_error?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to return a forbidden error in cases of not being authorized. The default value is <code class="inline">false</code>.</li><li><code class="inline">:log?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to log the authorization result. The default value is <code class="inline">false</code>.</li></ul>
  </section>
</section>
<section class="detail" id="can_create_offender/3">

    <span id="can_create_offender/1"></span>

    <span id="can_create_offender/2"></span>

  <div class="detail-header">
    <a href="#can_create_offender/3" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">can_create_offender(actor, params_or_opts \\ %{}, opts \\ [])</h1>


    </div>
  </div>

  <section class="docstring">

<p>Runs authorization checks for <code class="inline">EhsEnforcement.Enforcement.Offender.create</code>
See <a href="https://hexdocs.pm/ash/3.7.6/Ash.html#can/3"><code class="inline">Ash.can/3</code></a> for more information</p><h2 id="can_create_offender/3-options" class="section-heading"><a href="#can_create_offender/3-options" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Options</span></h2><ul><li><code class="inline">:maybe_is</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - If the actor <em>may</em> be able to perform the action, what value should be returned. The default value is <code class="inline">:maybe</code>.</li><li><code class="inline">:filter_with</code> - If set to <code class="inline">:error</code>, the query will raise an error on a match. If set to <code class="inline">:filter</code> the query will filter out unauthorized access. Valid values are :filter, :error The default value is <code class="inline">:filter</code>.</li><li><code class="inline">:validate?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to treat an invalid action as a non-allowed action. The default value is <code class="inline">false</code>.</li><li><code class="inline">:reuse_values?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not loaded data like aggregates, calculations and relationships should be checked in memory if possible, instead of querying. No effect if <code class="inline">pre_flight?</code> is <code class="inline">false</code>. The default value is <code class="inline">false</code>.</li><li><code class="inline">:pre_flight?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not this is a pre_flight check (which may perform optimized in-memory checks) or the final proper check. The default value is <code class="inline">true</code>.</li><li><code class="inline">:scope</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A value that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> protocol. Will overwrite any actor, tenant or context provided. See <a href="https://hexdocs.pm/ash/3.7.6/Ash.Context.html"><code class="inline">Ash.Context</code></a> for more.</li><li><code class="inline">:run_queries?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to run queries. If set to <code class="inline">true</code>, <code class="inline">:maybe</code> will not be returned. The default value is <code class="inline">true</code>.</li><li><code class="inline">:data</code> - The record or records specifically attempting to be acted upon.</li><li><code class="inline">:tenant</code> (value that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.ToTenant.html"><code class="inline">Ash.ToTenant</code></a> protocol) - The tenant to use for authorization</li><li><code class="inline">:alter_source?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If set to <code class="inline">true</code>, the source being authorized is returned so it can be run. The default value is <code class="inline">false</code>.</li><li><code class="inline">:base_query</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A base query on which to apply an generated filters</li><li><code class="inline">:no_check?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not authorization must pass at the strict/filter step, or if post-checks are allowed to be run The default value is <code class="inline">false</code>.</li><li><code class="inline">:on_must_pass_strict_check</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - Override the value returned when <code class="inline">no_check?</code> is <code class="inline">true</code> but a check must be run.</li><li><code class="inline">:atomic_changeset</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A base query on which to apply an generated filters</li><li><code class="inline">:return_forbidden_error?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to return a forbidden error in cases of not being authorized. The default value is <code class="inline">false</code>.</li><li><code class="inline">:log?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to log the authorization result. The default value is <code class="inline">false</code>.</li></ul>
  </section>
</section>
<section class="detail" id="can_create_offender?/3">

    <span id="can_create_offender?/1"></span>

    <span id="can_create_offender?/2"></span>

  <div class="detail-header">
    <a href="#can_create_offender?/3" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">can_create_offender?(actor, params_or_opts \\ %{}, opts \\ [])</h1>


    </div>
  </div>

  <section class="docstring">

<p>Runs authorization checks for <code class="inline">EhsEnforcement.Enforcement.Offender.create</code>, returning a boolean.
See <a href="https://hexdocs.pm/ash/3.7.6/Ash.html#can?/3"><code class="inline">Ash.can?/3</code></a> for more information</p><h2 id="can_create_offender?/3-options" class="section-heading"><a href="#can_create_offender?/3-options" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Options</span></h2><ul><li><code class="inline">:maybe_is</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - If the actor <em>may</em> be able to perform the action, what value should be returned. The default value is <code class="inline">true</code>.</li><li><code class="inline">:filter_with</code> - If set to <code class="inline">:error</code>, the query will raise an error on a match. If set to <code class="inline">:filter</code> the query will filter out unauthorized access. Valid values are :filter, :error The default value is <code class="inline">:filter</code>.</li><li><code class="inline">:validate?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to treat an invalid action as a non-allowed action. The default value is <code class="inline">false</code>.</li><li><code class="inline">:reuse_values?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not loaded data like aggregates, calculations and relationships should be checked in memory if possible, instead of querying. No effect if <code class="inline">pre_flight?</code> is <code class="inline">false</code>. The default value is <code class="inline">false</code>.</li><li><code class="inline">:pre_flight?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not this is a pre_flight check (which may perform optimized in-memory checks) or the final proper check. The default value is <code class="inline">true</code>.</li><li><code class="inline">:scope</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A value that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> protocol. Will overwrite any actor, tenant or context provided. See <a href="https://hexdocs.pm/ash/3.7.6/Ash.Context.html"><code class="inline">Ash.Context</code></a> for more.</li><li><code class="inline">:run_queries?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to run queries. If set to <code class="inline">true</code>, <code class="inline">:maybe</code> will not be returned. The default value is <code class="inline">true</code>.</li><li><code class="inline">:data</code> - The record or records specifically attempting to be acted upon.</li><li><code class="inline">:tenant</code> (value that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.ToTenant.html"><code class="inline">Ash.ToTenant</code></a> protocol) - The tenant to use for authorization</li><li><code class="inline">:alter_source?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If set to <code class="inline">true</code>, the source being authorized is returned so it can be run. The default value is <code class="inline">false</code>.</li><li><code class="inline">:base_query</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A base query on which to apply an generated filters</li><li><code class="inline">:no_check?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not authorization must pass at the strict/filter step, or if post-checks are allowed to be run The default value is <code class="inline">false</code>.</li><li><code class="inline">:on_must_pass_strict_check</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - Override the value returned when <code class="inline">no_check?</code> is <code class="inline">true</code> but a check must be run.</li><li><code class="inline">:atomic_changeset</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A base query on which to apply an generated filters</li><li><code class="inline">:return_forbidden_error?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to return a forbidden error in cases of not being authorized. The default value is <code class="inline">false</code>.</li><li><code class="inline">:log?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to log the authorization result. The default value is <code class="inline">false</code>.</li></ul>
  </section>
</section>
<section class="detail" id="can_destroy_case/4">

    <span id="can_destroy_case/2"></span>

    <span id="can_destroy_case/3"></span>

  <div class="detail-header">
    <a href="#can_destroy_case/4" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">can_destroy_case(actor, record, params_or_opts \\ %{}, opts \\ [])</h1>


    </div>
  </div>

  <section class="docstring">

<p>Runs authorization checks for <code class="inline">EhsEnforcement.Enforcement.Case.destroy</code>
See <a href="https://hexdocs.pm/ash/3.7.6/Ash.html#can/3"><code class="inline">Ash.can/3</code></a> for more information</p><h2 id="can_destroy_case/4-options" class="section-heading"><a href="#can_destroy_case/4-options" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Options</span></h2><ul><li><code class="inline">:maybe_is</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - If the actor <em>may</em> be able to perform the action, what value should be returned. The default value is <code class="inline">:maybe</code>.</li><li><code class="inline">:filter_with</code> - If set to <code class="inline">:error</code>, the query will raise an error on a match. If set to <code class="inline">:filter</code> the query will filter out unauthorized access. Valid values are :filter, :error The default value is <code class="inline">:filter</code>.</li><li><code class="inline">:validate?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to treat an invalid action as a non-allowed action. The default value is <code class="inline">false</code>.</li><li><code class="inline">:reuse_values?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not loaded data like aggregates, calculations and relationships should be checked in memory if possible, instead of querying. No effect if <code class="inline">pre_flight?</code> is <code class="inline">false</code>. The default value is <code class="inline">false</code>.</li><li><code class="inline">:pre_flight?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not this is a pre_flight check (which may perform optimized in-memory checks) or the final proper check. The default value is <code class="inline">true</code>.</li><li><code class="inline">:scope</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A value that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> protocol. Will overwrite any actor, tenant or context provided. See <a href="https://hexdocs.pm/ash/3.7.6/Ash.Context.html"><code class="inline">Ash.Context</code></a> for more.</li><li><code class="inline">:run_queries?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to run queries. If set to <code class="inline">true</code>, <code class="inline">:maybe</code> will not be returned. The default value is <code class="inline">true</code>.</li><li><code class="inline">:data</code> - The record or records specifically attempting to be acted upon.</li><li><code class="inline">:tenant</code> (value that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.ToTenant.html"><code class="inline">Ash.ToTenant</code></a> protocol) - The tenant to use for authorization</li><li><code class="inline">:alter_source?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If set to <code class="inline">true</code>, the source being authorized is returned so it can be run. The default value is <code class="inline">false</code>.</li><li><code class="inline">:base_query</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A base query on which to apply an generated filters</li><li><code class="inline">:no_check?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not authorization must pass at the strict/filter step, or if post-checks are allowed to be run The default value is <code class="inline">false</code>.</li><li><code class="inline">:on_must_pass_strict_check</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - Override the value returned when <code class="inline">no_check?</code> is <code class="inline">true</code> but a check must be run.</li><li><code class="inline">:atomic_changeset</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A base query on which to apply an generated filters</li><li><code class="inline">:return_forbidden_error?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to return a forbidden error in cases of not being authorized. The default value is <code class="inline">false</code>.</li><li><code class="inline">:log?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to log the authorization result. The default value is <code class="inline">false</code>.</li></ul>
  </section>
</section>
<section class="detail" id="can_destroy_case?/4">

    <span id="can_destroy_case?/2"></span>

    <span id="can_destroy_case?/3"></span>

  <div class="detail-header">
    <a href="#can_destroy_case?/4" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">can_destroy_case?(actor, record, params_or_opts \\ %{}, opts \\ [])</h1>


    </div>
  </div>

  <section class="docstring">

<p>Runs authorization checks for <code class="inline">EhsEnforcement.Enforcement.Case.destroy</code>, returning a boolean.
See <a href="https://hexdocs.pm/ash/3.7.6/Ash.html#can?/3"><code class="inline">Ash.can?/3</code></a> for more information</p><h2 id="can_destroy_case?/4-options" class="section-heading"><a href="#can_destroy_case?/4-options" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Options</span></h2><ul><li><code class="inline">:maybe_is</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - If the actor <em>may</em> be able to perform the action, what value should be returned. The default value is <code class="inline">true</code>.</li><li><code class="inline">:filter_with</code> - If set to <code class="inline">:error</code>, the query will raise an error on a match. If set to <code class="inline">:filter</code> the query will filter out unauthorized access. Valid values are :filter, :error The default value is <code class="inline">:filter</code>.</li><li><code class="inline">:validate?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to treat an invalid action as a non-allowed action. The default value is <code class="inline">false</code>.</li><li><code class="inline">:reuse_values?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not loaded data like aggregates, calculations and relationships should be checked in memory if possible, instead of querying. No effect if <code class="inline">pre_flight?</code> is <code class="inline">false</code>. The default value is <code class="inline">false</code>.</li><li><code class="inline">:pre_flight?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not this is a pre_flight check (which may perform optimized in-memory checks) or the final proper check. The default value is <code class="inline">true</code>.</li><li><code class="inline">:scope</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A value that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> protocol. Will overwrite any actor, tenant or context provided. See <a href="https://hexdocs.pm/ash/3.7.6/Ash.Context.html"><code class="inline">Ash.Context</code></a> for more.</li><li><code class="inline">:run_queries?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to run queries. If set to <code class="inline">true</code>, <code class="inline">:maybe</code> will not be returned. The default value is <code class="inline">true</code>.</li><li><code class="inline">:data</code> - The record or records specifically attempting to be acted upon.</li><li><code class="inline">:tenant</code> (value that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.ToTenant.html"><code class="inline">Ash.ToTenant</code></a> protocol) - The tenant to use for authorization</li><li><code class="inline">:alter_source?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If set to <code class="inline">true</code>, the source being authorized is returned so it can be run. The default value is <code class="inline">false</code>.</li><li><code class="inline">:base_query</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A base query on which to apply an generated filters</li><li><code class="inline">:no_check?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not authorization must pass at the strict/filter step, or if post-checks are allowed to be run The default value is <code class="inline">false</code>.</li><li><code class="inline">:on_must_pass_strict_check</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - Override the value returned when <code class="inline">no_check?</code> is <code class="inline">true</code> but a check must be run.</li><li><code class="inline">:atomic_changeset</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A base query on which to apply an generated filters</li><li><code class="inline">:return_forbidden_error?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to return a forbidden error in cases of not being authorized. The default value is <code class="inline">false</code>.</li><li><code class="inline">:log?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to log the authorization result. The default value is <code class="inline">false</code>.</li></ul>
  </section>
</section>
<section class="detail" id="can_destroy_legislation/4">

    <span id="can_destroy_legislation/2"></span>

    <span id="can_destroy_legislation/3"></span>

  <div class="detail-header">
    <a href="#can_destroy_legislation/4" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">can_destroy_legislation(actor, record, params_or_opts \\ %{}, opts \\ [])</h1>


    </div>
  </div>

  <section class="docstring">

<p>Runs authorization checks for <code class="inline">EhsEnforcement.Enforcement.Legislation.destroy</code>
See <a href="https://hexdocs.pm/ash/3.7.6/Ash.html#can/3"><code class="inline">Ash.can/3</code></a> for more information</p><h2 id="can_destroy_legislation/4-options" class="section-heading"><a href="#can_destroy_legislation/4-options" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Options</span></h2><ul><li><code class="inline">:maybe_is</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - If the actor <em>may</em> be able to perform the action, what value should be returned. The default value is <code class="inline">:maybe</code>.</li><li><code class="inline">:filter_with</code> - If set to <code class="inline">:error</code>, the query will raise an error on a match. If set to <code class="inline">:filter</code> the query will filter out unauthorized access. Valid values are :filter, :error The default value is <code class="inline">:filter</code>.</li><li><code class="inline">:validate?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to treat an invalid action as a non-allowed action. The default value is <code class="inline">false</code>.</li><li><code class="inline">:reuse_values?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not loaded data like aggregates, calculations and relationships should be checked in memory if possible, instead of querying. No effect if <code class="inline">pre_flight?</code> is <code class="inline">false</code>. The default value is <code class="inline">false</code>.</li><li><code class="inline">:pre_flight?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not this is a pre_flight check (which may perform optimized in-memory checks) or the final proper check. The default value is <code class="inline">true</code>.</li><li><code class="inline">:scope</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A value that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> protocol. Will overwrite any actor, tenant or context provided. See <a href="https://hexdocs.pm/ash/3.7.6/Ash.Context.html"><code class="inline">Ash.Context</code></a> for more.</li><li><code class="inline">:run_queries?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to run queries. If set to <code class="inline">true</code>, <code class="inline">:maybe</code> will not be returned. The default value is <code class="inline">true</code>.</li><li><code class="inline">:data</code> - The record or records specifically attempting to be acted upon.</li><li><code class="inline">:tenant</code> (value that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.ToTenant.html"><code class="inline">Ash.ToTenant</code></a> protocol) - The tenant to use for authorization</li><li><code class="inline">:alter_source?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If set to <code class="inline">true</code>, the source being authorized is returned so it can be run. The default value is <code class="inline">false</code>.</li><li><code class="inline">:base_query</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A base query on which to apply an generated filters</li><li><code class="inline">:no_check?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not authorization must pass at the strict/filter step, or if post-checks are allowed to be run The default value is <code class="inline">false</code>.</li><li><code class="inline">:on_must_pass_strict_check</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - Override the value returned when <code class="inline">no_check?</code> is <code class="inline">true</code> but a check must be run.</li><li><code class="inline">:atomic_changeset</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A base query on which to apply an generated filters</li><li><code class="inline">:return_forbidden_error?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to return a forbidden error in cases of not being authorized. The default value is <code class="inline">false</code>.</li><li><code class="inline">:log?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to log the authorization result. The default value is <code class="inline">false</code>.</li></ul>
  </section>
</section>
<section class="detail" id="can_destroy_legislation?/4">

    <span id="can_destroy_legislation?/2"></span>

    <span id="can_destroy_legislation?/3"></span>

  <div class="detail-header">
    <a href="#can_destroy_legislation?/4" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">can_destroy_legislation?(actor, record, params_or_opts \\ %{}, opts \\ [])</h1>


    </div>
  </div>

  <section class="docstring">

<p>Runs authorization checks for <code class="inline">EhsEnforcement.Enforcement.Legislation.destroy</code>, returning a boolean.
See <a href="https://hexdocs.pm/ash/3.7.6/Ash.html#can?/3"><code class="inline">Ash.can?/3</code></a> for more information</p><h2 id="can_destroy_legislation?/4-options" class="section-heading"><a href="#can_destroy_legislation?/4-options" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Options</span></h2><ul><li><code class="inline">:maybe_is</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - If the actor <em>may</em> be able to perform the action, what value should be returned. The default value is <code class="inline">true</code>.</li><li><code class="inline">:filter_with</code> - If set to <code class="inline">:error</code>, the query will raise an error on a match. If set to <code class="inline">:filter</code> the query will filter out unauthorized access. Valid values are :filter, :error The default value is <code class="inline">:filter</code>.</li><li><code class="inline">:validate?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to treat an invalid action as a non-allowed action. The default value is <code class="inline">false</code>.</li><li><code class="inline">:reuse_values?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not loaded data like aggregates, calculations and relationships should be checked in memory if possible, instead of querying. No effect if <code class="inline">pre_flight?</code> is <code class="inline">false</code>. The default value is <code class="inline">false</code>.</li><li><code class="inline">:pre_flight?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not this is a pre_flight check (which may perform optimized in-memory checks) or the final proper check. The default value is <code class="inline">true</code>.</li><li><code class="inline">:scope</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A value that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> protocol. Will overwrite any actor, tenant or context provided. See <a href="https://hexdocs.pm/ash/3.7.6/Ash.Context.html"><code class="inline">Ash.Context</code></a> for more.</li><li><code class="inline">:run_queries?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to run queries. If set to <code class="inline">true</code>, <code class="inline">:maybe</code> will not be returned. The default value is <code class="inline">true</code>.</li><li><code class="inline">:data</code> - The record or records specifically attempting to be acted upon.</li><li><code class="inline">:tenant</code> (value that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.ToTenant.html"><code class="inline">Ash.ToTenant</code></a> protocol) - The tenant to use for authorization</li><li><code class="inline">:alter_source?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If set to <code class="inline">true</code>, the source being authorized is returned so it can be run. The default value is <code class="inline">false</code>.</li><li><code class="inline">:base_query</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A base query on which to apply an generated filters</li><li><code class="inline">:no_check?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not authorization must pass at the strict/filter step, or if post-checks are allowed to be run The default value is <code class="inline">false</code>.</li><li><code class="inline">:on_must_pass_strict_check</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - Override the value returned when <code class="inline">no_check?</code> is <code class="inline">true</code> but a check must be run.</li><li><code class="inline">:atomic_changeset</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A base query on which to apply an generated filters</li><li><code class="inline">:return_forbidden_error?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to return a forbidden error in cases of not being authorized. The default value is <code class="inline">false</code>.</li><li><code class="inline">:log?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to log the authorization result. The default value is <code class="inline">false</code>.</li></ul>
  </section>
</section>
<section class="detail" id="can_destroy_notice/4">

    <span id="can_destroy_notice/2"></span>

    <span id="can_destroy_notice/3"></span>

  <div class="detail-header">
    <a href="#can_destroy_notice/4" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">can_destroy_notice(actor, record, params_or_opts \\ %{}, opts \\ [])</h1>


    </div>
  </div>

  <section class="docstring">

<p>Runs authorization checks for <code class="inline">EhsEnforcement.Enforcement.Notice.destroy</code>
See <a href="https://hexdocs.pm/ash/3.7.6/Ash.html#can/3"><code class="inline">Ash.can/3</code></a> for more information</p><h2 id="can_destroy_notice/4-options" class="section-heading"><a href="#can_destroy_notice/4-options" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Options</span></h2><ul><li><code class="inline">:maybe_is</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - If the actor <em>may</em> be able to perform the action, what value should be returned. The default value is <code class="inline">:maybe</code>.</li><li><code class="inline">:filter_with</code> - If set to <code class="inline">:error</code>, the query will raise an error on a match. If set to <code class="inline">:filter</code> the query will filter out unauthorized access. Valid values are :filter, :error The default value is <code class="inline">:filter</code>.</li><li><code class="inline">:validate?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to treat an invalid action as a non-allowed action. The default value is <code class="inline">false</code>.</li><li><code class="inline">:reuse_values?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not loaded data like aggregates, calculations and relationships should be checked in memory if possible, instead of querying. No effect if <code class="inline">pre_flight?</code> is <code class="inline">false</code>. The default value is <code class="inline">false</code>.</li><li><code class="inline">:pre_flight?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not this is a pre_flight check (which may perform optimized in-memory checks) or the final proper check. The default value is <code class="inline">true</code>.</li><li><code class="inline">:scope</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A value that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> protocol. Will overwrite any actor, tenant or context provided. See <a href="https://hexdocs.pm/ash/3.7.6/Ash.Context.html"><code class="inline">Ash.Context</code></a> for more.</li><li><code class="inline">:run_queries?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to run queries. If set to <code class="inline">true</code>, <code class="inline">:maybe</code> will not be returned. The default value is <code class="inline">true</code>.</li><li><code class="inline">:data</code> - The record or records specifically attempting to be acted upon.</li><li><code class="inline">:tenant</code> (value that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.ToTenant.html"><code class="inline">Ash.ToTenant</code></a> protocol) - The tenant to use for authorization</li><li><code class="inline">:alter_source?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If set to <code class="inline">true</code>, the source being authorized is returned so it can be run. The default value is <code class="inline">false</code>.</li><li><code class="inline">:base_query</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A base query on which to apply an generated filters</li><li><code class="inline">:no_check?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not authorization must pass at the strict/filter step, or if post-checks are allowed to be run The default value is <code class="inline">false</code>.</li><li><code class="inline">:on_must_pass_strict_check</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - Override the value returned when <code class="inline">no_check?</code> is <code class="inline">true</code> but a check must be run.</li><li><code class="inline">:atomic_changeset</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A base query on which to apply an generated filters</li><li><code class="inline">:return_forbidden_error?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to return a forbidden error in cases of not being authorized. The default value is <code class="inline">false</code>.</li><li><code class="inline">:log?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to log the authorization result. The default value is <code class="inline">false</code>.</li></ul>
  </section>
</section>
<section class="detail" id="can_destroy_notice?/4">

    <span id="can_destroy_notice?/2"></span>

    <span id="can_destroy_notice?/3"></span>

  <div class="detail-header">
    <a href="#can_destroy_notice?/4" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">can_destroy_notice?(actor, record, params_or_opts \\ %{}, opts \\ [])</h1>


    </div>
  </div>

  <section class="docstring">

<p>Runs authorization checks for <code class="inline">EhsEnforcement.Enforcement.Notice.destroy</code>, returning a boolean.
See <a href="https://hexdocs.pm/ash/3.7.6/Ash.html#can?/3"><code class="inline">Ash.can?/3</code></a> for more information</p><h2 id="can_destroy_notice?/4-options" class="section-heading"><a href="#can_destroy_notice?/4-options" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Options</span></h2><ul><li><code class="inline">:maybe_is</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - If the actor <em>may</em> be able to perform the action, what value should be returned. The default value is <code class="inline">true</code>.</li><li><code class="inline">:filter_with</code> - If set to <code class="inline">:error</code>, the query will raise an error on a match. If set to <code class="inline">:filter</code> the query will filter out unauthorized access. Valid values are :filter, :error The default value is <code class="inline">:filter</code>.</li><li><code class="inline">:validate?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to treat an invalid action as a non-allowed action. The default value is <code class="inline">false</code>.</li><li><code class="inline">:reuse_values?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not loaded data like aggregates, calculations and relationships should be checked in memory if possible, instead of querying. No effect if <code class="inline">pre_flight?</code> is <code class="inline">false</code>. The default value is <code class="inline">false</code>.</li><li><code class="inline">:pre_flight?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not this is a pre_flight check (which may perform optimized in-memory checks) or the final proper check. The default value is <code class="inline">true</code>.</li><li><code class="inline">:scope</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A value that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> protocol. Will overwrite any actor, tenant or context provided. See <a href="https://hexdocs.pm/ash/3.7.6/Ash.Context.html"><code class="inline">Ash.Context</code></a> for more.</li><li><code class="inline">:run_queries?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to run queries. If set to <code class="inline">true</code>, <code class="inline">:maybe</code> will not be returned. The default value is <code class="inline">true</code>.</li><li><code class="inline">:data</code> - The record or records specifically attempting to be acted upon.</li><li><code class="inline">:tenant</code> (value that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.ToTenant.html"><code class="inline">Ash.ToTenant</code></a> protocol) - The tenant to use for authorization</li><li><code class="inline">:alter_source?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If set to <code class="inline">true</code>, the source being authorized is returned so it can be run. The default value is <code class="inline">false</code>.</li><li><code class="inline">:base_query</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A base query on which to apply an generated filters</li><li><code class="inline">:no_check?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not authorization must pass at the strict/filter step, or if post-checks are allowed to be run The default value is <code class="inline">false</code>.</li><li><code class="inline">:on_must_pass_strict_check</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - Override the value returned when <code class="inline">no_check?</code> is <code class="inline">true</code> but a check must be run.</li><li><code class="inline">:atomic_changeset</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A base query on which to apply an generated filters</li><li><code class="inline">:return_forbidden_error?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to return a forbidden error in cases of not being authorized. The default value is <code class="inline">false</code>.</li><li><code class="inline">:log?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to log the authorization result. The default value is <code class="inline">false</code>.</li></ul>
  </section>
</section>
<section class="detail" id="can_destroy_offence/4">

    <span id="can_destroy_offence/2"></span>

    <span id="can_destroy_offence/3"></span>

  <div class="detail-header">
    <a href="#can_destroy_offence/4" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">can_destroy_offence(actor, record, params_or_opts \\ %{}, opts \\ [])</h1>


    </div>
  </div>

  <section class="docstring">

<p>Runs authorization checks for <code class="inline">EhsEnforcement.Enforcement.Offence.destroy</code>
See <a href="https://hexdocs.pm/ash/3.7.6/Ash.html#can/3"><code class="inline">Ash.can/3</code></a> for more information</p><h2 id="can_destroy_offence/4-options" class="section-heading"><a href="#can_destroy_offence/4-options" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Options</span></h2><ul><li><code class="inline">:maybe_is</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - If the actor <em>may</em> be able to perform the action, what value should be returned. The default value is <code class="inline">:maybe</code>.</li><li><code class="inline">:filter_with</code> - If set to <code class="inline">:error</code>, the query will raise an error on a match. If set to <code class="inline">:filter</code> the query will filter out unauthorized access. Valid values are :filter, :error The default value is <code class="inline">:filter</code>.</li><li><code class="inline">:validate?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to treat an invalid action as a non-allowed action. The default value is <code class="inline">false</code>.</li><li><code class="inline">:reuse_values?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not loaded data like aggregates, calculations and relationships should be checked in memory if possible, instead of querying. No effect if <code class="inline">pre_flight?</code> is <code class="inline">false</code>. The default value is <code class="inline">false</code>.</li><li><code class="inline">:pre_flight?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not this is a pre_flight check (which may perform optimized in-memory checks) or the final proper check. The default value is <code class="inline">true</code>.</li><li><code class="inline">:scope</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A value that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> protocol. Will overwrite any actor, tenant or context provided. See <a href="https://hexdocs.pm/ash/3.7.6/Ash.Context.html"><code class="inline">Ash.Context</code></a> for more.</li><li><code class="inline">:run_queries?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to run queries. If set to <code class="inline">true</code>, <code class="inline">:maybe</code> will not be returned. The default value is <code class="inline">true</code>.</li><li><code class="inline">:data</code> - The record or records specifically attempting to be acted upon.</li><li><code class="inline">:tenant</code> (value that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.ToTenant.html"><code class="inline">Ash.ToTenant</code></a> protocol) - The tenant to use for authorization</li><li><code class="inline">:alter_source?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If set to <code class="inline">true</code>, the source being authorized is returned so it can be run. The default value is <code class="inline">false</code>.</li><li><code class="inline">:base_query</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A base query on which to apply an generated filters</li><li><code class="inline">:no_check?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not authorization must pass at the strict/filter step, or if post-checks are allowed to be run The default value is <code class="inline">false</code>.</li><li><code class="inline">:on_must_pass_strict_check</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - Override the value returned when <code class="inline">no_check?</code> is <code class="inline">true</code> but a check must be run.</li><li><code class="inline">:atomic_changeset</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A base query on which to apply an generated filters</li><li><code class="inline">:return_forbidden_error?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to return a forbidden error in cases of not being authorized. The default value is <code class="inline">false</code>.</li><li><code class="inline">:log?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to log the authorization result. The default value is <code class="inline">false</code>.</li></ul>
  </section>
</section>
<section class="detail" id="can_destroy_offence?/4">

    <span id="can_destroy_offence?/2"></span>

    <span id="can_destroy_offence?/3"></span>

  <div class="detail-header">
    <a href="#can_destroy_offence?/4" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">can_destroy_offence?(actor, record, params_or_opts \\ %{}, opts \\ [])</h1>


    </div>
  </div>

  <section class="docstring">

<p>Runs authorization checks for <code class="inline">EhsEnforcement.Enforcement.Offence.destroy</code>, returning a boolean.
See <a href="https://hexdocs.pm/ash/3.7.6/Ash.html#can?/3"><code class="inline">Ash.can?/3</code></a> for more information</p><h2 id="can_destroy_offence?/4-options" class="section-heading"><a href="#can_destroy_offence?/4-options" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Options</span></h2><ul><li><code class="inline">:maybe_is</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - If the actor <em>may</em> be able to perform the action, what value should be returned. The default value is <code class="inline">true</code>.</li><li><code class="inline">:filter_with</code> - If set to <code class="inline">:error</code>, the query will raise an error on a match. If set to <code class="inline">:filter</code> the query will filter out unauthorized access. Valid values are :filter, :error The default value is <code class="inline">:filter</code>.</li><li><code class="inline">:validate?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to treat an invalid action as a non-allowed action. The default value is <code class="inline">false</code>.</li><li><code class="inline">:reuse_values?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not loaded data like aggregates, calculations and relationships should be checked in memory if possible, instead of querying. No effect if <code class="inline">pre_flight?</code> is <code class="inline">false</code>. The default value is <code class="inline">false</code>.</li><li><code class="inline">:pre_flight?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not this is a pre_flight check (which may perform optimized in-memory checks) or the final proper check. The default value is <code class="inline">true</code>.</li><li><code class="inline">:scope</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A value that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> protocol. Will overwrite any actor, tenant or context provided. See <a href="https://hexdocs.pm/ash/3.7.6/Ash.Context.html"><code class="inline">Ash.Context</code></a> for more.</li><li><code class="inline">:run_queries?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to run queries. If set to <code class="inline">true</code>, <code class="inline">:maybe</code> will not be returned. The default value is <code class="inline">true</code>.</li><li><code class="inline">:data</code> - The record or records specifically attempting to be acted upon.</li><li><code class="inline">:tenant</code> (value that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.ToTenant.html"><code class="inline">Ash.ToTenant</code></a> protocol) - The tenant to use for authorization</li><li><code class="inline">:alter_source?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If set to <code class="inline">true</code>, the source being authorized is returned so it can be run. The default value is <code class="inline">false</code>.</li><li><code class="inline">:base_query</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A base query on which to apply an generated filters</li><li><code class="inline">:no_check?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not authorization must pass at the strict/filter step, or if post-checks are allowed to be run The default value is <code class="inline">false</code>.</li><li><code class="inline">:on_must_pass_strict_check</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - Override the value returned when <code class="inline">no_check?</code> is <code class="inline">true</code> but a check must be run.</li><li><code class="inline">:atomic_changeset</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A base query on which to apply an generated filters</li><li><code class="inline">:return_forbidden_error?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to return a forbidden error in cases of not being authorized. The default value is <code class="inline">false</code>.</li><li><code class="inline">:log?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to log the authorization result. The default value is <code class="inline">false</code>.</li></ul>
  </section>
</section>
<section class="detail" id="can_get_agency/4">

    <span id="can_get_agency/2"></span>

    <span id="can_get_agency/3"></span>

  <div class="detail-header">
    <a href="#can_get_agency/4" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">can_get_agency(actor, id, params_or_opts \\ %{}, opts \\ [])</h1>


    </div>
  </div>

  <section class="docstring">

<p>Runs authorization checks for <code class="inline">EhsEnforcement.Enforcement.Agency.read</code>
See <a href="https://hexdocs.pm/ash/3.7.6/Ash.html#can/3"><code class="inline">Ash.can/3</code></a> for more information</p><h2 id="can_get_agency/4-options" class="section-heading"><a href="#can_get_agency/4-options" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Options</span></h2><ul><li><code class="inline">:maybe_is</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - If the actor <em>may</em> be able to perform the action, what value should be returned. The default value is <code class="inline">:maybe</code>.</li><li><code class="inline">:filter_with</code> - If set to <code class="inline">:error</code>, the query will raise an error on a match. If set to <code class="inline">:filter</code> the query will filter out unauthorized access. Valid values are :filter, :error The default value is <code class="inline">:filter</code>.</li><li><code class="inline">:validate?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to treat an invalid action as a non-allowed action. The default value is <code class="inline">false</code>.</li><li><code class="inline">:reuse_values?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not loaded data like aggregates, calculations and relationships should be checked in memory if possible, instead of querying. No effect if <code class="inline">pre_flight?</code> is <code class="inline">false</code>. The default value is <code class="inline">false</code>.</li><li><code class="inline">:pre_flight?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not this is a pre_flight check (which may perform optimized in-memory checks) or the final proper check. The default value is <code class="inline">true</code>.</li><li><code class="inline">:scope</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A value that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> protocol. Will overwrite any actor, tenant or context provided. See <a href="https://hexdocs.pm/ash/3.7.6/Ash.Context.html"><code class="inline">Ash.Context</code></a> for more.</li><li><code class="inline">:run_queries?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to run queries. If set to <code class="inline">true</code>, <code class="inline">:maybe</code> will not be returned. The default value is <code class="inline">true</code>.</li><li><code class="inline">:data</code> - The record or records specifically attempting to be acted upon.</li><li><code class="inline">:tenant</code> (value that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.ToTenant.html"><code class="inline">Ash.ToTenant</code></a> protocol) - The tenant to use for authorization</li><li><code class="inline">:alter_source?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If set to <code class="inline">true</code>, the source being authorized is returned so it can be run. The default value is <code class="inline">false</code>.</li><li><code class="inline">:base_query</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A base query on which to apply an generated filters</li><li><code class="inline">:no_check?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not authorization must pass at the strict/filter step, or if post-checks are allowed to be run The default value is <code class="inline">false</code>.</li><li><code class="inline">:on_must_pass_strict_check</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - Override the value returned when <code class="inline">no_check?</code> is <code class="inline">true</code> but a check must be run.</li><li><code class="inline">:atomic_changeset</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A base query on which to apply an generated filters</li><li><code class="inline">:return_forbidden_error?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to return a forbidden error in cases of not being authorized. The default value is <code class="inline">false</code>.</li><li><code class="inline">:log?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to log the authorization result. The default value is <code class="inline">false</code>.</li></ul>
  </section>
</section>
<section class="detail" id="can_get_agency?/4">

    <span id="can_get_agency?/2"></span>

    <span id="can_get_agency?/3"></span>

  <div class="detail-header">
    <a href="#can_get_agency?/4" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">can_get_agency?(actor, id, params_or_opts \\ %{}, opts \\ [])</h1>


    </div>
  </div>

  <section class="docstring">

<p>Runs authorization checks for <code class="inline">EhsEnforcement.Enforcement.Agency.read</code>, returning a boolean.
See <a href="https://hexdocs.pm/ash/3.7.6/Ash.html#can?/3"><code class="inline">Ash.can?/3</code></a> for more information</p><h2 id="can_get_agency?/4-options" class="section-heading"><a href="#can_get_agency?/4-options" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Options</span></h2><ul><li><code class="inline">:maybe_is</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - If the actor <em>may</em> be able to perform the action, what value should be returned. The default value is <code class="inline">true</code>.</li><li><code class="inline">:filter_with</code> - If set to <code class="inline">:error</code>, the query will raise an error on a match. If set to <code class="inline">:filter</code> the query will filter out unauthorized access. Valid values are :filter, :error The default value is <code class="inline">:filter</code>.</li><li><code class="inline">:validate?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to treat an invalid action as a non-allowed action. The default value is <code class="inline">false</code>.</li><li><code class="inline">:reuse_values?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not loaded data like aggregates, calculations and relationships should be checked in memory if possible, instead of querying. No effect if <code class="inline">pre_flight?</code> is <code class="inline">false</code>. The default value is <code class="inline">false</code>.</li><li><code class="inline">:pre_flight?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not this is a pre_flight check (which may perform optimized in-memory checks) or the final proper check. The default value is <code class="inline">true</code>.</li><li><code class="inline">:scope</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A value that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> protocol. Will overwrite any actor, tenant or context provided. See <a href="https://hexdocs.pm/ash/3.7.6/Ash.Context.html"><code class="inline">Ash.Context</code></a> for more.</li><li><code class="inline">:run_queries?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to run queries. If set to <code class="inline">true</code>, <code class="inline">:maybe</code> will not be returned. The default value is <code class="inline">true</code>.</li><li><code class="inline">:data</code> - The record or records specifically attempting to be acted upon.</li><li><code class="inline">:tenant</code> (value that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.ToTenant.html"><code class="inline">Ash.ToTenant</code></a> protocol) - The tenant to use for authorization</li><li><code class="inline">:alter_source?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If set to <code class="inline">true</code>, the source being authorized is returned so it can be run. The default value is <code class="inline">false</code>.</li><li><code class="inline">:base_query</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A base query on which to apply an generated filters</li><li><code class="inline">:no_check?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not authorization must pass at the strict/filter step, or if post-checks are allowed to be run The default value is <code class="inline">false</code>.</li><li><code class="inline">:on_must_pass_strict_check</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - Override the value returned when <code class="inline">no_check?</code> is <code class="inline">true</code> but a check must be run.</li><li><code class="inline">:atomic_changeset</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A base query on which to apply an generated filters</li><li><code class="inline">:return_forbidden_error?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to return a forbidden error in cases of not being authorized. The default value is <code class="inline">false</code>.</li><li><code class="inline">:log?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to log the authorization result. The default value is <code class="inline">false</code>.</li></ul>
  </section>
</section>
<section class="detail" id="can_get_agency_by_code/4">

    <span id="can_get_agency_by_code/2"></span>

    <span id="can_get_agency_by_code/3"></span>

  <div class="detail-header">
    <a href="#can_get_agency_by_code/4" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">can_get_agency_by_code(actor, code, params_or_opts \\ %{}, opts \\ [])</h1>


    </div>
  </div>

  <section class="docstring">

<p>Runs authorization checks for <code class="inline">EhsEnforcement.Enforcement.Agency.read</code>
See <a href="https://hexdocs.pm/ash/3.7.6/Ash.html#can/3"><code class="inline">Ash.can/3</code></a> for more information</p><h2 id="can_get_agency_by_code/4-options" class="section-heading"><a href="#can_get_agency_by_code/4-options" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Options</span></h2><ul><li><code class="inline">:maybe_is</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - If the actor <em>may</em> be able to perform the action, what value should be returned. The default value is <code class="inline">:maybe</code>.</li><li><code class="inline">:filter_with</code> - If set to <code class="inline">:error</code>, the query will raise an error on a match. If set to <code class="inline">:filter</code> the query will filter out unauthorized access. Valid values are :filter, :error The default value is <code class="inline">:filter</code>.</li><li><code class="inline">:validate?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to treat an invalid action as a non-allowed action. The default value is <code class="inline">false</code>.</li><li><code class="inline">:reuse_values?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not loaded data like aggregates, calculations and relationships should be checked in memory if possible, instead of querying. No effect if <code class="inline">pre_flight?</code> is <code class="inline">false</code>. The default value is <code class="inline">false</code>.</li><li><code class="inline">:pre_flight?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not this is a pre_flight check (which may perform optimized in-memory checks) or the final proper check. The default value is <code class="inline">true</code>.</li><li><code class="inline">:scope</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A value that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> protocol. Will overwrite any actor, tenant or context provided. See <a href="https://hexdocs.pm/ash/3.7.6/Ash.Context.html"><code class="inline">Ash.Context</code></a> for more.</li><li><code class="inline">:run_queries?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to run queries. If set to <code class="inline">true</code>, <code class="inline">:maybe</code> will not be returned. The default value is <code class="inline">true</code>.</li><li><code class="inline">:data</code> - The record or records specifically attempting to be acted upon.</li><li><code class="inline">:tenant</code> (value that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.ToTenant.html"><code class="inline">Ash.ToTenant</code></a> protocol) - The tenant to use for authorization</li><li><code class="inline">:alter_source?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If set to <code class="inline">true</code>, the source being authorized is returned so it can be run. The default value is <code class="inline">false</code>.</li><li><code class="inline">:base_query</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A base query on which to apply an generated filters</li><li><code class="inline">:no_check?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not authorization must pass at the strict/filter step, or if post-checks are allowed to be run The default value is <code class="inline">false</code>.</li><li><code class="inline">:on_must_pass_strict_check</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - Override the value returned when <code class="inline">no_check?</code> is <code class="inline">true</code> but a check must be run.</li><li><code class="inline">:atomic_changeset</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A base query on which to apply an generated filters</li><li><code class="inline">:return_forbidden_error?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to return a forbidden error in cases of not being authorized. The default value is <code class="inline">false</code>.</li><li><code class="inline">:log?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to log the authorization result. The default value is <code class="inline">false</code>.</li></ul>
  </section>
</section>
<section class="detail" id="can_get_agency_by_code?/4">

    <span id="can_get_agency_by_code?/2"></span>

    <span id="can_get_agency_by_code?/3"></span>

  <div class="detail-header">
    <a href="#can_get_agency_by_code?/4" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">can_get_agency_by_code?(actor, code, params_or_opts \\ %{}, opts \\ [])</h1>


    </div>
  </div>

  <section class="docstring">

<p>Runs authorization checks for <code class="inline">EhsEnforcement.Enforcement.Agency.read</code>, returning a boolean.
See <a href="https://hexdocs.pm/ash/3.7.6/Ash.html#can?/3"><code class="inline">Ash.can?/3</code></a> for more information</p><h2 id="can_get_agency_by_code?/4-options" class="section-heading"><a href="#can_get_agency_by_code?/4-options" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Options</span></h2><ul><li><code class="inline">:maybe_is</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - If the actor <em>may</em> be able to perform the action, what value should be returned. The default value is <code class="inline">true</code>.</li><li><code class="inline">:filter_with</code> - If set to <code class="inline">:error</code>, the query will raise an error on a match. If set to <code class="inline">:filter</code> the query will filter out unauthorized access. Valid values are :filter, :error The default value is <code class="inline">:filter</code>.</li><li><code class="inline">:validate?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to treat an invalid action as a non-allowed action. The default value is <code class="inline">false</code>.</li><li><code class="inline">:reuse_values?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not loaded data like aggregates, calculations and relationships should be checked in memory if possible, instead of querying. No effect if <code class="inline">pre_flight?</code> is <code class="inline">false</code>. The default value is <code class="inline">false</code>.</li><li><code class="inline">:pre_flight?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not this is a pre_flight check (which may perform optimized in-memory checks) or the final proper check. The default value is <code class="inline">true</code>.</li><li><code class="inline">:scope</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A value that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> protocol. Will overwrite any actor, tenant or context provided. See <a href="https://hexdocs.pm/ash/3.7.6/Ash.Context.html"><code class="inline">Ash.Context</code></a> for more.</li><li><code class="inline">:run_queries?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to run queries. If set to <code class="inline">true</code>, <code class="inline">:maybe</code> will not be returned. The default value is <code class="inline">true</code>.</li><li><code class="inline">:data</code> - The record or records specifically attempting to be acted upon.</li><li><code class="inline">:tenant</code> (value that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.ToTenant.html"><code class="inline">Ash.ToTenant</code></a> protocol) - The tenant to use for authorization</li><li><code class="inline">:alter_source?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If set to <code class="inline">true</code>, the source being authorized is returned so it can be run. The default value is <code class="inline">false</code>.</li><li><code class="inline">:base_query</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A base query on which to apply an generated filters</li><li><code class="inline">:no_check?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not authorization must pass at the strict/filter step, or if post-checks are allowed to be run The default value is <code class="inline">false</code>.</li><li><code class="inline">:on_must_pass_strict_check</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - Override the value returned when <code class="inline">no_check?</code> is <code class="inline">true</code> but a check must be run.</li><li><code class="inline">:atomic_changeset</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A base query on which to apply an generated filters</li><li><code class="inline">:return_forbidden_error?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to return a forbidden error in cases of not being authorized. The default value is <code class="inline">false</code>.</li><li><code class="inline">:log?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to log the authorization result. The default value is <code class="inline">false</code>.</li></ul>
  </section>
</section>
<section class="detail" id="can_get_case/4">

    <span id="can_get_case/2"></span>

    <span id="can_get_case/3"></span>

  <div class="detail-header">
    <a href="#can_get_case/4" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">can_get_case(actor, id, params_or_opts \\ %{}, opts \\ [])</h1>


    </div>
  </div>

  <section class="docstring">

<p>Runs authorization checks for <code class="inline">EhsEnforcement.Enforcement.Case.read</code>
See <a href="https://hexdocs.pm/ash/3.7.6/Ash.html#can/3"><code class="inline">Ash.can/3</code></a> for more information</p><h2 id="can_get_case/4-options" class="section-heading"><a href="#can_get_case/4-options" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Options</span></h2><ul><li><code class="inline">:maybe_is</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - If the actor <em>may</em> be able to perform the action, what value should be returned. The default value is <code class="inline">:maybe</code>.</li><li><code class="inline">:filter_with</code> - If set to <code class="inline">:error</code>, the query will raise an error on a match. If set to <code class="inline">:filter</code> the query will filter out unauthorized access. Valid values are :filter, :error The default value is <code class="inline">:filter</code>.</li><li><code class="inline">:validate?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to treat an invalid action as a non-allowed action. The default value is <code class="inline">false</code>.</li><li><code class="inline">:reuse_values?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not loaded data like aggregates, calculations and relationships should be checked in memory if possible, instead of querying. No effect if <code class="inline">pre_flight?</code> is <code class="inline">false</code>. The default value is <code class="inline">false</code>.</li><li><code class="inline">:pre_flight?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not this is a pre_flight check (which may perform optimized in-memory checks) or the final proper check. The default value is <code class="inline">true</code>.</li><li><code class="inline">:scope</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A value that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> protocol. Will overwrite any actor, tenant or context provided. See <a href="https://hexdocs.pm/ash/3.7.6/Ash.Context.html"><code class="inline">Ash.Context</code></a> for more.</li><li><code class="inline">:run_queries?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to run queries. If set to <code class="inline">true</code>, <code class="inline">:maybe</code> will not be returned. The default value is <code class="inline">true</code>.</li><li><code class="inline">:data</code> - The record or records specifically attempting to be acted upon.</li><li><code class="inline">:tenant</code> (value that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.ToTenant.html"><code class="inline">Ash.ToTenant</code></a> protocol) - The tenant to use for authorization</li><li><code class="inline">:alter_source?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If set to <code class="inline">true</code>, the source being authorized is returned so it can be run. The default value is <code class="inline">false</code>.</li><li><code class="inline">:base_query</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A base query on which to apply an generated filters</li><li><code class="inline">:no_check?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not authorization must pass at the strict/filter step, or if post-checks are allowed to be run The default value is <code class="inline">false</code>.</li><li><code class="inline">:on_must_pass_strict_check</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - Override the value returned when <code class="inline">no_check?</code> is <code class="inline">true</code> but a check must be run.</li><li><code class="inline">:atomic_changeset</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A base query on which to apply an generated filters</li><li><code class="inline">:return_forbidden_error?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to return a forbidden error in cases of not being authorized. The default value is <code class="inline">false</code>.</li><li><code class="inline">:log?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to log the authorization result. The default value is <code class="inline">false</code>.</li></ul>
  </section>
</section>
<section class="detail" id="can_get_case?/4">

    <span id="can_get_case?/2"></span>

    <span id="can_get_case?/3"></span>

  <div class="detail-header">
    <a href="#can_get_case?/4" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">can_get_case?(actor, id, params_or_opts \\ %{}, opts \\ [])</h1>


    </div>
  </div>

  <section class="docstring">

<p>Runs authorization checks for <code class="inline">EhsEnforcement.Enforcement.Case.read</code>, returning a boolean.
See <a href="https://hexdocs.pm/ash/3.7.6/Ash.html#can?/3"><code class="inline">Ash.can?/3</code></a> for more information</p><h2 id="can_get_case?/4-options" class="section-heading"><a href="#can_get_case?/4-options" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Options</span></h2><ul><li><code class="inline">:maybe_is</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - If the actor <em>may</em> be able to perform the action, what value should be returned. The default value is <code class="inline">true</code>.</li><li><code class="inline">:filter_with</code> - If set to <code class="inline">:error</code>, the query will raise an error on a match. If set to <code class="inline">:filter</code> the query will filter out unauthorized access. Valid values are :filter, :error The default value is <code class="inline">:filter</code>.</li><li><code class="inline">:validate?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to treat an invalid action as a non-allowed action. The default value is <code class="inline">false</code>.</li><li><code class="inline">:reuse_values?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not loaded data like aggregates, calculations and relationships should be checked in memory if possible, instead of querying. No effect if <code class="inline">pre_flight?</code> is <code class="inline">false</code>. The default value is <code class="inline">false</code>.</li><li><code class="inline">:pre_flight?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not this is a pre_flight check (which may perform optimized in-memory checks) or the final proper check. The default value is <code class="inline">true</code>.</li><li><code class="inline">:scope</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A value that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> protocol. Will overwrite any actor, tenant or context provided. See <a href="https://hexdocs.pm/ash/3.7.6/Ash.Context.html"><code class="inline">Ash.Context</code></a> for more.</li><li><code class="inline">:run_queries?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to run queries. If set to <code class="inline">true</code>, <code class="inline">:maybe</code> will not be returned. The default value is <code class="inline">true</code>.</li><li><code class="inline">:data</code> - The record or records specifically attempting to be acted upon.</li><li><code class="inline">:tenant</code> (value that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.ToTenant.html"><code class="inline">Ash.ToTenant</code></a> protocol) - The tenant to use for authorization</li><li><code class="inline">:alter_source?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If set to <code class="inline">true</code>, the source being authorized is returned so it can be run. The default value is <code class="inline">false</code>.</li><li><code class="inline">:base_query</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A base query on which to apply an generated filters</li><li><code class="inline">:no_check?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not authorization must pass at the strict/filter step, or if post-checks are allowed to be run The default value is <code class="inline">false</code>.</li><li><code class="inline">:on_must_pass_strict_check</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - Override the value returned when <code class="inline">no_check?</code> is <code class="inline">true</code> but a check must be run.</li><li><code class="inline">:atomic_changeset</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A base query on which to apply an generated filters</li><li><code class="inline">:return_forbidden_error?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to return a forbidden error in cases of not being authorized. The default value is <code class="inline">false</code>.</li><li><code class="inline">:log?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to log the authorization result. The default value is <code class="inline">false</code>.</li></ul>
  </section>
</section>
<section class="detail" id="can_get_current_metrics/3">

    <span id="can_get_current_metrics/1"></span>

    <span id="can_get_current_metrics/2"></span>

  <div class="detail-header">
    <a href="#can_get_current_metrics/3" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">can_get_current_metrics(actor, params_or_opts \\ %{}, opts \\ [])</h1>


    </div>
  </div>

  <section class="docstring">

<p>Runs authorization checks for <code class="inline">EhsEnforcement.Enforcement.Metrics.get_current</code>
See <a href="https://hexdocs.pm/ash/3.7.6/Ash.html#can/3"><code class="inline">Ash.can/3</code></a> for more information</p><h2 id="can_get_current_metrics/3-options" class="section-heading"><a href="#can_get_current_metrics/3-options" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Options</span></h2><ul><li><code class="inline">:maybe_is</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - If the actor <em>may</em> be able to perform the action, what value should be returned. The default value is <code class="inline">:maybe</code>.</li><li><code class="inline">:filter_with</code> - If set to <code class="inline">:error</code>, the query will raise an error on a match. If set to <code class="inline">:filter</code> the query will filter out unauthorized access. Valid values are :filter, :error The default value is <code class="inline">:filter</code>.</li><li><code class="inline">:validate?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to treat an invalid action as a non-allowed action. The default value is <code class="inline">false</code>.</li><li><code class="inline">:reuse_values?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not loaded data like aggregates, calculations and relationships should be checked in memory if possible, instead of querying. No effect if <code class="inline">pre_flight?</code> is <code class="inline">false</code>. The default value is <code class="inline">false</code>.</li><li><code class="inline">:pre_flight?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not this is a pre_flight check (which may perform optimized in-memory checks) or the final proper check. The default value is <code class="inline">true</code>.</li><li><code class="inline">:scope</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A value that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> protocol. Will overwrite any actor, tenant or context provided. See <a href="https://hexdocs.pm/ash/3.7.6/Ash.Context.html"><code class="inline">Ash.Context</code></a> for more.</li><li><code class="inline">:run_queries?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to run queries. If set to <code class="inline">true</code>, <code class="inline">:maybe</code> will not be returned. The default value is <code class="inline">true</code>.</li><li><code class="inline">:data</code> - The record or records specifically attempting to be acted upon.</li><li><code class="inline">:tenant</code> (value that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.ToTenant.html"><code class="inline">Ash.ToTenant</code></a> protocol) - The tenant to use for authorization</li><li><code class="inline">:alter_source?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If set to <code class="inline">true</code>, the source being authorized is returned so it can be run. The default value is <code class="inline">false</code>.</li><li><code class="inline">:base_query</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A base query on which to apply an generated filters</li><li><code class="inline">:no_check?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not authorization must pass at the strict/filter step, or if post-checks are allowed to be run The default value is <code class="inline">false</code>.</li><li><code class="inline">:on_must_pass_strict_check</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - Override the value returned when <code class="inline">no_check?</code> is <code class="inline">true</code> but a check must be run.</li><li><code class="inline">:atomic_changeset</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A base query on which to apply an generated filters</li><li><code class="inline">:return_forbidden_error?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to return a forbidden error in cases of not being authorized. The default value is <code class="inline">false</code>.</li><li><code class="inline">:log?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to log the authorization result. The default value is <code class="inline">false</code>.</li></ul>
  </section>
</section>
<section class="detail" id="can_get_current_metrics?/3">

    <span id="can_get_current_metrics?/1"></span>

    <span id="can_get_current_metrics?/2"></span>

  <div class="detail-header">
    <a href="#can_get_current_metrics?/3" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">can_get_current_metrics?(actor, params_or_opts \\ %{}, opts \\ [])</h1>


    </div>
  </div>

  <section class="docstring">

<p>Runs authorization checks for <code class="inline">EhsEnforcement.Enforcement.Metrics.get_current</code>, returning a boolean.
See <a href="https://hexdocs.pm/ash/3.7.6/Ash.html#can?/3"><code class="inline">Ash.can?/3</code></a> for more information</p><h2 id="can_get_current_metrics?/3-options" class="section-heading"><a href="#can_get_current_metrics?/3-options" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Options</span></h2><ul><li><code class="inline">:maybe_is</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - If the actor <em>may</em> be able to perform the action, what value should be returned. The default value is <code class="inline">true</code>.</li><li><code class="inline">:filter_with</code> - If set to <code class="inline">:error</code>, the query will raise an error on a match. If set to <code class="inline">:filter</code> the query will filter out unauthorized access. Valid values are :filter, :error The default value is <code class="inline">:filter</code>.</li><li><code class="inline">:validate?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to treat an invalid action as a non-allowed action. The default value is <code class="inline">false</code>.</li><li><code class="inline">:reuse_values?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not loaded data like aggregates, calculations and relationships should be checked in memory if possible, instead of querying. No effect if <code class="inline">pre_flight?</code> is <code class="inline">false</code>. The default value is <code class="inline">false</code>.</li><li><code class="inline">:pre_flight?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not this is a pre_flight check (which may perform optimized in-memory checks) or the final proper check. The default value is <code class="inline">true</code>.</li><li><code class="inline">:scope</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A value that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> protocol. Will overwrite any actor, tenant or context provided. See <a href="https://hexdocs.pm/ash/3.7.6/Ash.Context.html"><code class="inline">Ash.Context</code></a> for more.</li><li><code class="inline">:run_queries?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to run queries. If set to <code class="inline">true</code>, <code class="inline">:maybe</code> will not be returned. The default value is <code class="inline">true</code>.</li><li><code class="inline">:data</code> - The record or records specifically attempting to be acted upon.</li><li><code class="inline">:tenant</code> (value that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.ToTenant.html"><code class="inline">Ash.ToTenant</code></a> protocol) - The tenant to use for authorization</li><li><code class="inline">:alter_source?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If set to <code class="inline">true</code>, the source being authorized is returned so it can be run. The default value is <code class="inline">false</code>.</li><li><code class="inline">:base_query</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A base query on which to apply an generated filters</li><li><code class="inline">:no_check?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not authorization must pass at the strict/filter step, or if post-checks are allowed to be run The default value is <code class="inline">false</code>.</li><li><code class="inline">:on_must_pass_strict_check</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - Override the value returned when <code class="inline">no_check?</code> is <code class="inline">true</code> but a check must be run.</li><li><code class="inline">:atomic_changeset</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A base query on which to apply an generated filters</li><li><code class="inline">:return_forbidden_error?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to return a forbidden error in cases of not being authorized. The default value is <code class="inline">false</code>.</li><li><code class="inline">:log?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to log the authorization result. The default value is <code class="inline">false</code>.</li></ul>
  </section>
</section>
<section class="detail" id="can_get_legislation/4">

    <span id="can_get_legislation/2"></span>

    <span id="can_get_legislation/3"></span>

  <div class="detail-header">
    <a href="#can_get_legislation/4" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">can_get_legislation(actor, id, params_or_opts \\ %{}, opts \\ [])</h1>


    </div>
  </div>

  <section class="docstring">

<p>Runs authorization checks for <code class="inline">EhsEnforcement.Enforcement.Legislation.read</code>
See <a href="https://hexdocs.pm/ash/3.7.6/Ash.html#can/3"><code class="inline">Ash.can/3</code></a> for more information</p><h2 id="can_get_legislation/4-options" class="section-heading"><a href="#can_get_legislation/4-options" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Options</span></h2><ul><li><code class="inline">:maybe_is</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - If the actor <em>may</em> be able to perform the action, what value should be returned. The default value is <code class="inline">:maybe</code>.</li><li><code class="inline">:filter_with</code> - If set to <code class="inline">:error</code>, the query will raise an error on a match. If set to <code class="inline">:filter</code> the query will filter out unauthorized access. Valid values are :filter, :error The default value is <code class="inline">:filter</code>.</li><li><code class="inline">:validate?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to treat an invalid action as a non-allowed action. The default value is <code class="inline">false</code>.</li><li><code class="inline">:reuse_values?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not loaded data like aggregates, calculations and relationships should be checked in memory if possible, instead of querying. No effect if <code class="inline">pre_flight?</code> is <code class="inline">false</code>. The default value is <code class="inline">false</code>.</li><li><code class="inline">:pre_flight?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not this is a pre_flight check (which may perform optimized in-memory checks) or the final proper check. The default value is <code class="inline">true</code>.</li><li><code class="inline">:scope</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A value that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> protocol. Will overwrite any actor, tenant or context provided. See <a href="https://hexdocs.pm/ash/3.7.6/Ash.Context.html"><code class="inline">Ash.Context</code></a> for more.</li><li><code class="inline">:run_queries?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to run queries. If set to <code class="inline">true</code>, <code class="inline">:maybe</code> will not be returned. The default value is <code class="inline">true</code>.</li><li><code class="inline">:data</code> - The record or records specifically attempting to be acted upon.</li><li><code class="inline">:tenant</code> (value that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.ToTenant.html"><code class="inline">Ash.ToTenant</code></a> protocol) - The tenant to use for authorization</li><li><code class="inline">:alter_source?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If set to <code class="inline">true</code>, the source being authorized is returned so it can be run. The default value is <code class="inline">false</code>.</li><li><code class="inline">:base_query</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A base query on which to apply an generated filters</li><li><code class="inline">:no_check?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not authorization must pass at the strict/filter step, or if post-checks are allowed to be run The default value is <code class="inline">false</code>.</li><li><code class="inline">:on_must_pass_strict_check</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - Override the value returned when <code class="inline">no_check?</code> is <code class="inline">true</code> but a check must be run.</li><li><code class="inline">:atomic_changeset</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A base query on which to apply an generated filters</li><li><code class="inline">:return_forbidden_error?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to return a forbidden error in cases of not being authorized. The default value is <code class="inline">false</code>.</li><li><code class="inline">:log?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to log the authorization result. The default value is <code class="inline">false</code>.</li></ul>
  </section>
</section>
<section class="detail" id="can_get_legislation?/4">

    <span id="can_get_legislation?/2"></span>

    <span id="can_get_legislation?/3"></span>

  <div class="detail-header">
    <a href="#can_get_legislation?/4" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">can_get_legislation?(actor, id, params_or_opts \\ %{}, opts \\ [])</h1>


    </div>
  </div>

  <section class="docstring">

<p>Runs authorization checks for <code class="inline">EhsEnforcement.Enforcement.Legislation.read</code>, returning a boolean.
See <a href="https://hexdocs.pm/ash/3.7.6/Ash.html#can?/3"><code class="inline">Ash.can?/3</code></a> for more information</p><h2 id="can_get_legislation?/4-options" class="section-heading"><a href="#can_get_legislation?/4-options" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Options</span></h2><ul><li><code class="inline">:maybe_is</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - If the actor <em>may</em> be able to perform the action, what value should be returned. The default value is <code class="inline">true</code>.</li><li><code class="inline">:filter_with</code> - If set to <code class="inline">:error</code>, the query will raise an error on a match. If set to <code class="inline">:filter</code> the query will filter out unauthorized access. Valid values are :filter, :error The default value is <code class="inline">:filter</code>.</li><li><code class="inline">:validate?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to treat an invalid action as a non-allowed action. The default value is <code class="inline">false</code>.</li><li><code class="inline">:reuse_values?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not loaded data like aggregates, calculations and relationships should be checked in memory if possible, instead of querying. No effect if <code class="inline">pre_flight?</code> is <code class="inline">false</code>. The default value is <code class="inline">false</code>.</li><li><code class="inline">:pre_flight?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not this is a pre_flight check (which may perform optimized in-memory checks) or the final proper check. The default value is <code class="inline">true</code>.</li><li><code class="inline">:scope</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A value that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> protocol. Will overwrite any actor, tenant or context provided. See <a href="https://hexdocs.pm/ash/3.7.6/Ash.Context.html"><code class="inline">Ash.Context</code></a> for more.</li><li><code class="inline">:run_queries?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to run queries. If set to <code class="inline">true</code>, <code class="inline">:maybe</code> will not be returned. The default value is <code class="inline">true</code>.</li><li><code class="inline">:data</code> - The record or records specifically attempting to be acted upon.</li><li><code class="inline">:tenant</code> (value that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.ToTenant.html"><code class="inline">Ash.ToTenant</code></a> protocol) - The tenant to use for authorization</li><li><code class="inline">:alter_source?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If set to <code class="inline">true</code>, the source being authorized is returned so it can be run. The default value is <code class="inline">false</code>.</li><li><code class="inline">:base_query</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A base query on which to apply an generated filters</li><li><code class="inline">:no_check?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not authorization must pass at the strict/filter step, or if post-checks are allowed to be run The default value is <code class="inline">false</code>.</li><li><code class="inline">:on_must_pass_strict_check</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - Override the value returned when <code class="inline">no_check?</code> is <code class="inline">true</code> but a check must be run.</li><li><code class="inline">:atomic_changeset</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A base query on which to apply an generated filters</li><li><code class="inline">:return_forbidden_error?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to return a forbidden error in cases of not being authorized. The default value is <code class="inline">false</code>.</li><li><code class="inline">:log?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to log the authorization result. The default value is <code class="inline">false</code>.</li></ul>
  </section>
</section>
<section class="detail" id="can_get_notice/4">

    <span id="can_get_notice/2"></span>

    <span id="can_get_notice/3"></span>

  <div class="detail-header">
    <a href="#can_get_notice/4" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">can_get_notice(actor, id, params_or_opts \\ %{}, opts \\ [])</h1>


    </div>
  </div>

  <section class="docstring">

<p>Runs authorization checks for <code class="inline">EhsEnforcement.Enforcement.Notice.read</code>
See <a href="https://hexdocs.pm/ash/3.7.6/Ash.html#can/3"><code class="inline">Ash.can/3</code></a> for more information</p><h2 id="can_get_notice/4-options" class="section-heading"><a href="#can_get_notice/4-options" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Options</span></h2><ul><li><code class="inline">:maybe_is</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - If the actor <em>may</em> be able to perform the action, what value should be returned. The default value is <code class="inline">:maybe</code>.</li><li><code class="inline">:filter_with</code> - If set to <code class="inline">:error</code>, the query will raise an error on a match. If set to <code class="inline">:filter</code> the query will filter out unauthorized access. Valid values are :filter, :error The default value is <code class="inline">:filter</code>.</li><li><code class="inline">:validate?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to treat an invalid action as a non-allowed action. The default value is <code class="inline">false</code>.</li><li><code class="inline">:reuse_values?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not loaded data like aggregates, calculations and relationships should be checked in memory if possible, instead of querying. No effect if <code class="inline">pre_flight?</code> is <code class="inline">false</code>. The default value is <code class="inline">false</code>.</li><li><code class="inline">:pre_flight?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not this is a pre_flight check (which may perform optimized in-memory checks) or the final proper check. The default value is <code class="inline">true</code>.</li><li><code class="inline">:scope</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A value that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> protocol. Will overwrite any actor, tenant or context provided. See <a href="https://hexdocs.pm/ash/3.7.6/Ash.Context.html"><code class="inline">Ash.Context</code></a> for more.</li><li><code class="inline">:run_queries?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to run queries. If set to <code class="inline">true</code>, <code class="inline">:maybe</code> will not be returned. The default value is <code class="inline">true</code>.</li><li><code class="inline">:data</code> - The record or records specifically attempting to be acted upon.</li><li><code class="inline">:tenant</code> (value that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.ToTenant.html"><code class="inline">Ash.ToTenant</code></a> protocol) - The tenant to use for authorization</li><li><code class="inline">:alter_source?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If set to <code class="inline">true</code>, the source being authorized is returned so it can be run. The default value is <code class="inline">false</code>.</li><li><code class="inline">:base_query</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A base query on which to apply an generated filters</li><li><code class="inline">:no_check?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not authorization must pass at the strict/filter step, or if post-checks are allowed to be run The default value is <code class="inline">false</code>.</li><li><code class="inline">:on_must_pass_strict_check</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - Override the value returned when <code class="inline">no_check?</code> is <code class="inline">true</code> but a check must be run.</li><li><code class="inline">:atomic_changeset</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A base query on which to apply an generated filters</li><li><code class="inline">:return_forbidden_error?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to return a forbidden error in cases of not being authorized. The default value is <code class="inline">false</code>.</li><li><code class="inline">:log?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to log the authorization result. The default value is <code class="inline">false</code>.</li></ul>
  </section>
</section>
<section class="detail" id="can_get_notice?/4">

    <span id="can_get_notice?/2"></span>

    <span id="can_get_notice?/3"></span>

  <div class="detail-header">
    <a href="#can_get_notice?/4" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">can_get_notice?(actor, id, params_or_opts \\ %{}, opts \\ [])</h1>


    </div>
  </div>

  <section class="docstring">

<p>Runs authorization checks for <code class="inline">EhsEnforcement.Enforcement.Notice.read</code>, returning a boolean.
See <a href="https://hexdocs.pm/ash/3.7.6/Ash.html#can?/3"><code class="inline">Ash.can?/3</code></a> for more information</p><h2 id="can_get_notice?/4-options" class="section-heading"><a href="#can_get_notice?/4-options" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Options</span></h2><ul><li><code class="inline">:maybe_is</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - If the actor <em>may</em> be able to perform the action, what value should be returned. The default value is <code class="inline">true</code>.</li><li><code class="inline">:filter_with</code> - If set to <code class="inline">:error</code>, the query will raise an error on a match. If set to <code class="inline">:filter</code> the query will filter out unauthorized access. Valid values are :filter, :error The default value is <code class="inline">:filter</code>.</li><li><code class="inline">:validate?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to treat an invalid action as a non-allowed action. The default value is <code class="inline">false</code>.</li><li><code class="inline">:reuse_values?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not loaded data like aggregates, calculations and relationships should be checked in memory if possible, instead of querying. No effect if <code class="inline">pre_flight?</code> is <code class="inline">false</code>. The default value is <code class="inline">false</code>.</li><li><code class="inline">:pre_flight?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not this is a pre_flight check (which may perform optimized in-memory checks) or the final proper check. The default value is <code class="inline">true</code>.</li><li><code class="inline">:scope</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A value that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> protocol. Will overwrite any actor, tenant or context provided. See <a href="https://hexdocs.pm/ash/3.7.6/Ash.Context.html"><code class="inline">Ash.Context</code></a> for more.</li><li><code class="inline">:run_queries?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to run queries. If set to <code class="inline">true</code>, <code class="inline">:maybe</code> will not be returned. The default value is <code class="inline">true</code>.</li><li><code class="inline">:data</code> - The record or records specifically attempting to be acted upon.</li><li><code class="inline">:tenant</code> (value that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.ToTenant.html"><code class="inline">Ash.ToTenant</code></a> protocol) - The tenant to use for authorization</li><li><code class="inline">:alter_source?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If set to <code class="inline">true</code>, the source being authorized is returned so it can be run. The default value is <code class="inline">false</code>.</li><li><code class="inline">:base_query</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A base query on which to apply an generated filters</li><li><code class="inline">:no_check?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not authorization must pass at the strict/filter step, or if post-checks are allowed to be run The default value is <code class="inline">false</code>.</li><li><code class="inline">:on_must_pass_strict_check</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - Override the value returned when <code class="inline">no_check?</code> is <code class="inline">true</code> but a check must be run.</li><li><code class="inline">:atomic_changeset</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A base query on which to apply an generated filters</li><li><code class="inline">:return_forbidden_error?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to return a forbidden error in cases of not being authorized. The default value is <code class="inline">false</code>.</li><li><code class="inline">:log?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to log the authorization result. The default value is <code class="inline">false</code>.</li></ul>
  </section>
</section>
<section class="detail" id="can_get_offence/4">

    <span id="can_get_offence/2"></span>

    <span id="can_get_offence/3"></span>

  <div class="detail-header">
    <a href="#can_get_offence/4" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">can_get_offence(actor, id, params_or_opts \\ %{}, opts \\ [])</h1>


    </div>
  </div>

  <section class="docstring">

<p>Runs authorization checks for <code class="inline">EhsEnforcement.Enforcement.Offence.read</code>
See <a href="https://hexdocs.pm/ash/3.7.6/Ash.html#can/3"><code class="inline">Ash.can/3</code></a> for more information</p><h2 id="can_get_offence/4-options" class="section-heading"><a href="#can_get_offence/4-options" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Options</span></h2><ul><li><code class="inline">:maybe_is</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - If the actor <em>may</em> be able to perform the action, what value should be returned. The default value is <code class="inline">:maybe</code>.</li><li><code class="inline">:filter_with</code> - If set to <code class="inline">:error</code>, the query will raise an error on a match. If set to <code class="inline">:filter</code> the query will filter out unauthorized access. Valid values are :filter, :error The default value is <code class="inline">:filter</code>.</li><li><code class="inline">:validate?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to treat an invalid action as a non-allowed action. The default value is <code class="inline">false</code>.</li><li><code class="inline">:reuse_values?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not loaded data like aggregates, calculations and relationships should be checked in memory if possible, instead of querying. No effect if <code class="inline">pre_flight?</code> is <code class="inline">false</code>. The default value is <code class="inline">false</code>.</li><li><code class="inline">:pre_flight?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not this is a pre_flight check (which may perform optimized in-memory checks) or the final proper check. The default value is <code class="inline">true</code>.</li><li><code class="inline">:scope</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A value that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> protocol. Will overwrite any actor, tenant or context provided. See <a href="https://hexdocs.pm/ash/3.7.6/Ash.Context.html"><code class="inline">Ash.Context</code></a> for more.</li><li><code class="inline">:run_queries?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to run queries. If set to <code class="inline">true</code>, <code class="inline">:maybe</code> will not be returned. The default value is <code class="inline">true</code>.</li><li><code class="inline">:data</code> - The record or records specifically attempting to be acted upon.</li><li><code class="inline">:tenant</code> (value that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.ToTenant.html"><code class="inline">Ash.ToTenant</code></a> protocol) - The tenant to use for authorization</li><li><code class="inline">:alter_source?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If set to <code class="inline">true</code>, the source being authorized is returned so it can be run. The default value is <code class="inline">false</code>.</li><li><code class="inline">:base_query</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A base query on which to apply an generated filters</li><li><code class="inline">:no_check?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not authorization must pass at the strict/filter step, or if post-checks are allowed to be run The default value is <code class="inline">false</code>.</li><li><code class="inline">:on_must_pass_strict_check</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - Override the value returned when <code class="inline">no_check?</code> is <code class="inline">true</code> but a check must be run.</li><li><code class="inline">:atomic_changeset</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A base query on which to apply an generated filters</li><li><code class="inline">:return_forbidden_error?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to return a forbidden error in cases of not being authorized. The default value is <code class="inline">false</code>.</li><li><code class="inline">:log?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to log the authorization result. The default value is <code class="inline">false</code>.</li></ul>
  </section>
</section>
<section class="detail" id="can_get_offence?/4">

    <span id="can_get_offence?/2"></span>

    <span id="can_get_offence?/3"></span>

  <div class="detail-header">
    <a href="#can_get_offence?/4" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">can_get_offence?(actor, id, params_or_opts \\ %{}, opts \\ [])</h1>


    </div>
  </div>

  <section class="docstring">

<p>Runs authorization checks for <code class="inline">EhsEnforcement.Enforcement.Offence.read</code>, returning a boolean.
See <a href="https://hexdocs.pm/ash/3.7.6/Ash.html#can?/3"><code class="inline">Ash.can?/3</code></a> for more information</p><h2 id="can_get_offence?/4-options" class="section-heading"><a href="#can_get_offence?/4-options" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Options</span></h2><ul><li><code class="inline">:maybe_is</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - If the actor <em>may</em> be able to perform the action, what value should be returned. The default value is <code class="inline">true</code>.</li><li><code class="inline">:filter_with</code> - If set to <code class="inline">:error</code>, the query will raise an error on a match. If set to <code class="inline">:filter</code> the query will filter out unauthorized access. Valid values are :filter, :error The default value is <code class="inline">:filter</code>.</li><li><code class="inline">:validate?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to treat an invalid action as a non-allowed action. The default value is <code class="inline">false</code>.</li><li><code class="inline">:reuse_values?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not loaded data like aggregates, calculations and relationships should be checked in memory if possible, instead of querying. No effect if <code class="inline">pre_flight?</code> is <code class="inline">false</code>. The default value is <code class="inline">false</code>.</li><li><code class="inline">:pre_flight?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not this is a pre_flight check (which may perform optimized in-memory checks) or the final proper check. The default value is <code class="inline">true</code>.</li><li><code class="inline">:scope</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A value that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> protocol. Will overwrite any actor, tenant or context provided. See <a href="https://hexdocs.pm/ash/3.7.6/Ash.Context.html"><code class="inline">Ash.Context</code></a> for more.</li><li><code class="inline">:run_queries?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to run queries. If set to <code class="inline">true</code>, <code class="inline">:maybe</code> will not be returned. The default value is <code class="inline">true</code>.</li><li><code class="inline">:data</code> - The record or records specifically attempting to be acted upon.</li><li><code class="inline">:tenant</code> (value that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.ToTenant.html"><code class="inline">Ash.ToTenant</code></a> protocol) - The tenant to use for authorization</li><li><code class="inline">:alter_source?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If set to <code class="inline">true</code>, the source being authorized is returned so it can be run. The default value is <code class="inline">false</code>.</li><li><code class="inline">:base_query</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A base query on which to apply an generated filters</li><li><code class="inline">:no_check?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not authorization must pass at the strict/filter step, or if post-checks are allowed to be run The default value is <code class="inline">false</code>.</li><li><code class="inline">:on_must_pass_strict_check</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - Override the value returned when <code class="inline">no_check?</code> is <code class="inline">true</code> but a check must be run.</li><li><code class="inline">:atomic_changeset</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A base query on which to apply an generated filters</li><li><code class="inline">:return_forbidden_error?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to return a forbidden error in cases of not being authorized. The default value is <code class="inline">false</code>.</li><li><code class="inline">:log?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to log the authorization result. The default value is <code class="inline">false</code>.</li></ul>
  </section>
</section>
<section class="detail" id="can_get_offence_by_reference/4">

    <span id="can_get_offence_by_reference/2"></span>

    <span id="can_get_offence_by_reference/3"></span>

  <div class="detail-header">
    <a href="#can_get_offence_by_reference/4" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">can_get_offence_by_reference(actor, offence_reference, params_or_opts \\ %{}, opts \\ [])</h1>


    </div>
  </div>

  <section class="docstring">

<p>Runs authorization checks for <code class="inline">EhsEnforcement.Enforcement.Offence.by_reference</code>
See <a href="https://hexdocs.pm/ash/3.7.6/Ash.html#can/3"><code class="inline">Ash.can/3</code></a> for more information</p><h2 id="can_get_offence_by_reference/4-options" class="section-heading"><a href="#can_get_offence_by_reference/4-options" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Options</span></h2><ul><li><code class="inline">:maybe_is</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - If the actor <em>may</em> be able to perform the action, what value should be returned. The default value is <code class="inline">:maybe</code>.</li><li><code class="inline">:filter_with</code> - If set to <code class="inline">:error</code>, the query will raise an error on a match. If set to <code class="inline">:filter</code> the query will filter out unauthorized access. Valid values are :filter, :error The default value is <code class="inline">:filter</code>.</li><li><code class="inline">:validate?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to treat an invalid action as a non-allowed action. The default value is <code class="inline">false</code>.</li><li><code class="inline">:reuse_values?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not loaded data like aggregates, calculations and relationships should be checked in memory if possible, instead of querying. No effect if <code class="inline">pre_flight?</code> is <code class="inline">false</code>. The default value is <code class="inline">false</code>.</li><li><code class="inline">:pre_flight?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not this is a pre_flight check (which may perform optimized in-memory checks) or the final proper check. The default value is <code class="inline">true</code>.</li><li><code class="inline">:scope</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A value that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> protocol. Will overwrite any actor, tenant or context provided. See <a href="https://hexdocs.pm/ash/3.7.6/Ash.Context.html"><code class="inline">Ash.Context</code></a> for more.</li><li><code class="inline">:run_queries?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to run queries. If set to <code class="inline">true</code>, <code class="inline">:maybe</code> will not be returned. The default value is <code class="inline">true</code>.</li><li><code class="inline">:data</code> - The record or records specifically attempting to be acted upon.</li><li><code class="inline">:tenant</code> (value that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.ToTenant.html"><code class="inline">Ash.ToTenant</code></a> protocol) - The tenant to use for authorization</li><li><code class="inline">:alter_source?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If set to <code class="inline">true</code>, the source being authorized is returned so it can be run. The default value is <code class="inline">false</code>.</li><li><code class="inline">:base_query</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A base query on which to apply an generated filters</li><li><code class="inline">:no_check?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not authorization must pass at the strict/filter step, or if post-checks are allowed to be run The default value is <code class="inline">false</code>.</li><li><code class="inline">:on_must_pass_strict_check</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - Override the value returned when <code class="inline">no_check?</code> is <code class="inline">true</code> but a check must be run.</li><li><code class="inline">:atomic_changeset</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A base query on which to apply an generated filters</li><li><code class="inline">:return_forbidden_error?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to return a forbidden error in cases of not being authorized. The default value is <code class="inline">false</code>.</li><li><code class="inline">:log?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to log the authorization result. The default value is <code class="inline">false</code>.</li></ul>
  </section>
</section>
<section class="detail" id="can_get_offence_by_reference?/4">

    <span id="can_get_offence_by_reference?/2"></span>

    <span id="can_get_offence_by_reference?/3"></span>

  <div class="detail-header">
    <a href="#can_get_offence_by_reference?/4" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">can_get_offence_by_reference?(actor, offence_reference, params_or_opts \\ %{}, opts \\ [])</h1>


    </div>
  </div>

  <section class="docstring">

<p>Runs authorization checks for <code class="inline">EhsEnforcement.Enforcement.Offence.by_reference</code>, returning a boolean.
See <a href="https://hexdocs.pm/ash/3.7.6/Ash.html#can?/3"><code class="inline">Ash.can?/3</code></a> for more information</p><h2 id="can_get_offence_by_reference?/4-options" class="section-heading"><a href="#can_get_offence_by_reference?/4-options" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Options</span></h2><ul><li><code class="inline">:maybe_is</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - If the actor <em>may</em> be able to perform the action, what value should be returned. The default value is <code class="inline">true</code>.</li><li><code class="inline">:filter_with</code> - If set to <code class="inline">:error</code>, the query will raise an error on a match. If set to <code class="inline">:filter</code> the query will filter out unauthorized access. Valid values are :filter, :error The default value is <code class="inline">:filter</code>.</li><li><code class="inline">:validate?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to treat an invalid action as a non-allowed action. The default value is <code class="inline">false</code>.</li><li><code class="inline">:reuse_values?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not loaded data like aggregates, calculations and relationships should be checked in memory if possible, instead of querying. No effect if <code class="inline">pre_flight?</code> is <code class="inline">false</code>. The default value is <code class="inline">false</code>.</li><li><code class="inline">:pre_flight?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not this is a pre_flight check (which may perform optimized in-memory checks) or the final proper check. The default value is <code class="inline">true</code>.</li><li><code class="inline">:scope</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A value that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> protocol. Will overwrite any actor, tenant or context provided. See <a href="https://hexdocs.pm/ash/3.7.6/Ash.Context.html"><code class="inline">Ash.Context</code></a> for more.</li><li><code class="inline">:run_queries?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to run queries. If set to <code class="inline">true</code>, <code class="inline">:maybe</code> will not be returned. The default value is <code class="inline">true</code>.</li><li><code class="inline">:data</code> - The record or records specifically attempting to be acted upon.</li><li><code class="inline">:tenant</code> (value that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.ToTenant.html"><code class="inline">Ash.ToTenant</code></a> protocol) - The tenant to use for authorization</li><li><code class="inline">:alter_source?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If set to <code class="inline">true</code>, the source being authorized is returned so it can be run. The default value is <code class="inline">false</code>.</li><li><code class="inline">:base_query</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A base query on which to apply an generated filters</li><li><code class="inline">:no_check?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not authorization must pass at the strict/filter step, or if post-checks are allowed to be run The default value is <code class="inline">false</code>.</li><li><code class="inline">:on_must_pass_strict_check</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - Override the value returned when <code class="inline">no_check?</code> is <code class="inline">true</code> but a check must be run.</li><li><code class="inline">:atomic_changeset</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A base query on which to apply an generated filters</li><li><code class="inline">:return_forbidden_error?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to return a forbidden error in cases of not being authorized. The default value is <code class="inline">false</code>.</li><li><code class="inline">:log?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to log the authorization result. The default value is <code class="inline">false</code>.</li></ul>
  </section>
</section>
<section class="detail" id="can_get_offender/4">

    <span id="can_get_offender/2"></span>

    <span id="can_get_offender/3"></span>

  <div class="detail-header">
    <a href="#can_get_offender/4" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">can_get_offender(actor, id, params_or_opts \\ %{}, opts \\ [])</h1>


    </div>
  </div>

  <section class="docstring">

<p>Runs authorization checks for <code class="inline">EhsEnforcement.Enforcement.Offender.read</code>
See <a href="https://hexdocs.pm/ash/3.7.6/Ash.html#can/3"><code class="inline">Ash.can/3</code></a> for more information</p><h2 id="can_get_offender/4-options" class="section-heading"><a href="#can_get_offender/4-options" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Options</span></h2><ul><li><code class="inline">:maybe_is</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - If the actor <em>may</em> be able to perform the action, what value should be returned. The default value is <code class="inline">:maybe</code>.</li><li><code class="inline">:filter_with</code> - If set to <code class="inline">:error</code>, the query will raise an error on a match. If set to <code class="inline">:filter</code> the query will filter out unauthorized access. Valid values are :filter, :error The default value is <code class="inline">:filter</code>.</li><li><code class="inline">:validate?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to treat an invalid action as a non-allowed action. The default value is <code class="inline">false</code>.</li><li><code class="inline">:reuse_values?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not loaded data like aggregates, calculations and relationships should be checked in memory if possible, instead of querying. No effect if <code class="inline">pre_flight?</code> is <code class="inline">false</code>. The default value is <code class="inline">false</code>.</li><li><code class="inline">:pre_flight?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not this is a pre_flight check (which may perform optimized in-memory checks) or the final proper check. The default value is <code class="inline">true</code>.</li><li><code class="inline">:scope</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A value that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> protocol. Will overwrite any actor, tenant or context provided. See <a href="https://hexdocs.pm/ash/3.7.6/Ash.Context.html"><code class="inline">Ash.Context</code></a> for more.</li><li><code class="inline">:run_queries?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to run queries. If set to <code class="inline">true</code>, <code class="inline">:maybe</code> will not be returned. The default value is <code class="inline">true</code>.</li><li><code class="inline">:data</code> - The record or records specifically attempting to be acted upon.</li><li><code class="inline">:tenant</code> (value that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.ToTenant.html"><code class="inline">Ash.ToTenant</code></a> protocol) - The tenant to use for authorization</li><li><code class="inline">:alter_source?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If set to <code class="inline">true</code>, the source being authorized is returned so it can be run. The default value is <code class="inline">false</code>.</li><li><code class="inline">:base_query</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A base query on which to apply an generated filters</li><li><code class="inline">:no_check?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not authorization must pass at the strict/filter step, or if post-checks are allowed to be run The default value is <code class="inline">false</code>.</li><li><code class="inline">:on_must_pass_strict_check</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - Override the value returned when <code class="inline">no_check?</code> is <code class="inline">true</code> but a check must be run.</li><li><code class="inline">:atomic_changeset</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A base query on which to apply an generated filters</li><li><code class="inline">:return_forbidden_error?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to return a forbidden error in cases of not being authorized. The default value is <code class="inline">false</code>.</li><li><code class="inline">:log?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to log the authorization result. The default value is <code class="inline">false</code>.</li></ul>
  </section>
</section>
<section class="detail" id="can_get_offender?/4">

    <span id="can_get_offender?/2"></span>

    <span id="can_get_offender?/3"></span>

  <div class="detail-header">
    <a href="#can_get_offender?/4" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">can_get_offender?(actor, id, params_or_opts \\ %{}, opts \\ [])</h1>


    </div>
  </div>

  <section class="docstring">

<p>Runs authorization checks for <code class="inline">EhsEnforcement.Enforcement.Offender.read</code>, returning a boolean.
See <a href="https://hexdocs.pm/ash/3.7.6/Ash.html#can?/3"><code class="inline">Ash.can?/3</code></a> for more information</p><h2 id="can_get_offender?/4-options" class="section-heading"><a href="#can_get_offender?/4-options" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Options</span></h2><ul><li><code class="inline">:maybe_is</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - If the actor <em>may</em> be able to perform the action, what value should be returned. The default value is <code class="inline">true</code>.</li><li><code class="inline">:filter_with</code> - If set to <code class="inline">:error</code>, the query will raise an error on a match. If set to <code class="inline">:filter</code> the query will filter out unauthorized access. Valid values are :filter, :error The default value is <code class="inline">:filter</code>.</li><li><code class="inline">:validate?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to treat an invalid action as a non-allowed action. The default value is <code class="inline">false</code>.</li><li><code class="inline">:reuse_values?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not loaded data like aggregates, calculations and relationships should be checked in memory if possible, instead of querying. No effect if <code class="inline">pre_flight?</code> is <code class="inline">false</code>. The default value is <code class="inline">false</code>.</li><li><code class="inline">:pre_flight?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not this is a pre_flight check (which may perform optimized in-memory checks) or the final proper check. The default value is <code class="inline">true</code>.</li><li><code class="inline">:scope</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A value that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> protocol. Will overwrite any actor, tenant or context provided. See <a href="https://hexdocs.pm/ash/3.7.6/Ash.Context.html"><code class="inline">Ash.Context</code></a> for more.</li><li><code class="inline">:run_queries?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to run queries. If set to <code class="inline">true</code>, <code class="inline">:maybe</code> will not be returned. The default value is <code class="inline">true</code>.</li><li><code class="inline">:data</code> - The record or records specifically attempting to be acted upon.</li><li><code class="inline">:tenant</code> (value that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.ToTenant.html"><code class="inline">Ash.ToTenant</code></a> protocol) - The tenant to use for authorization</li><li><code class="inline">:alter_source?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If set to <code class="inline">true</code>, the source being authorized is returned so it can be run. The default value is <code class="inline">false</code>.</li><li><code class="inline">:base_query</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A base query on which to apply an generated filters</li><li><code class="inline">:no_check?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not authorization must pass at the strict/filter step, or if post-checks are allowed to be run The default value is <code class="inline">false</code>.</li><li><code class="inline">:on_must_pass_strict_check</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - Override the value returned when <code class="inline">no_check?</code> is <code class="inline">true</code> but a check must be run.</li><li><code class="inline">:atomic_changeset</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A base query on which to apply an generated filters</li><li><code class="inline">:return_forbidden_error?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to return a forbidden error in cases of not being authorized. The default value is <code class="inline">false</code>.</li><li><code class="inline">:log?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to log the authorization result. The default value is <code class="inline">false</code>.</li></ul>
  </section>
</section>
<section class="detail" id="can_list_agencies/3">

    <span id="can_list_agencies/1"></span>

    <span id="can_list_agencies/2"></span>

  <div class="detail-header">
    <a href="#can_list_agencies/3" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">can_list_agencies(actor, params_or_opts \\ %{}, opts \\ [])</h1>


    </div>
  </div>

  <section class="docstring">

<p>Runs authorization checks for <code class="inline">EhsEnforcement.Enforcement.Agency.read</code>
See <a href="https://hexdocs.pm/ash/3.7.6/Ash.html#can/3"><code class="inline">Ash.can/3</code></a> for more information</p><h2 id="can_list_agencies/3-options" class="section-heading"><a href="#can_list_agencies/3-options" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Options</span></h2><ul><li><code class="inline">:maybe_is</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - If the actor <em>may</em> be able to perform the action, what value should be returned. The default value is <code class="inline">:maybe</code>.</li><li><code class="inline">:filter_with</code> - If set to <code class="inline">:error</code>, the query will raise an error on a match. If set to <code class="inline">:filter</code> the query will filter out unauthorized access. Valid values are :filter, :error The default value is <code class="inline">:filter</code>.</li><li><code class="inline">:validate?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to treat an invalid action as a non-allowed action. The default value is <code class="inline">false</code>.</li><li><code class="inline">:reuse_values?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not loaded data like aggregates, calculations and relationships should be checked in memory if possible, instead of querying. No effect if <code class="inline">pre_flight?</code> is <code class="inline">false</code>. The default value is <code class="inline">false</code>.</li><li><code class="inline">:pre_flight?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not this is a pre_flight check (which may perform optimized in-memory checks) or the final proper check. The default value is <code class="inline">true</code>.</li><li><code class="inline">:scope</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A value that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> protocol. Will overwrite any actor, tenant or context provided. See <a href="https://hexdocs.pm/ash/3.7.6/Ash.Context.html"><code class="inline">Ash.Context</code></a> for more.</li><li><code class="inline">:run_queries?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to run queries. If set to <code class="inline">true</code>, <code class="inline">:maybe</code> will not be returned. The default value is <code class="inline">true</code>.</li><li><code class="inline">:data</code> - The record or records specifically attempting to be acted upon.</li><li><code class="inline">:tenant</code> (value that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.ToTenant.html"><code class="inline">Ash.ToTenant</code></a> protocol) - The tenant to use for authorization</li><li><code class="inline">:alter_source?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If set to <code class="inline">true</code>, the source being authorized is returned so it can be run. The default value is <code class="inline">false</code>.</li><li><code class="inline">:base_query</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A base query on which to apply an generated filters</li><li><code class="inline">:no_check?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not authorization must pass at the strict/filter step, or if post-checks are allowed to be run The default value is <code class="inline">false</code>.</li><li><code class="inline">:on_must_pass_strict_check</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - Override the value returned when <code class="inline">no_check?</code> is <code class="inline">true</code> but a check must be run.</li><li><code class="inline">:atomic_changeset</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A base query on which to apply an generated filters</li><li><code class="inline">:return_forbidden_error?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to return a forbidden error in cases of not being authorized. The default value is <code class="inline">false</code>.</li><li><code class="inline">:log?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to log the authorization result. The default value is <code class="inline">false</code>.</li></ul>
  </section>
</section>
<section class="detail" id="can_list_agencies?/3">

    <span id="can_list_agencies?/1"></span>

    <span id="can_list_agencies?/2"></span>

  <div class="detail-header">
    <a href="#can_list_agencies?/3" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">can_list_agencies?(actor, params_or_opts \\ %{}, opts \\ [])</h1>


    </div>
  </div>

  <section class="docstring">

<p>Runs authorization checks for <code class="inline">EhsEnforcement.Enforcement.Agency.read</code>, returning a boolean.
See <a href="https://hexdocs.pm/ash/3.7.6/Ash.html#can?/3"><code class="inline">Ash.can?/3</code></a> for more information</p><h2 id="can_list_agencies?/3-options" class="section-heading"><a href="#can_list_agencies?/3-options" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Options</span></h2><ul><li><code class="inline">:maybe_is</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - If the actor <em>may</em> be able to perform the action, what value should be returned. The default value is <code class="inline">true</code>.</li><li><code class="inline">:filter_with</code> - If set to <code class="inline">:error</code>, the query will raise an error on a match. If set to <code class="inline">:filter</code> the query will filter out unauthorized access. Valid values are :filter, :error The default value is <code class="inline">:filter</code>.</li><li><code class="inline">:validate?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to treat an invalid action as a non-allowed action. The default value is <code class="inline">false</code>.</li><li><code class="inline">:reuse_values?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not loaded data like aggregates, calculations and relationships should be checked in memory if possible, instead of querying. No effect if <code class="inline">pre_flight?</code> is <code class="inline">false</code>. The default value is <code class="inline">false</code>.</li><li><code class="inline">:pre_flight?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not this is a pre_flight check (which may perform optimized in-memory checks) or the final proper check. The default value is <code class="inline">true</code>.</li><li><code class="inline">:scope</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A value that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> protocol. Will overwrite any actor, tenant or context provided. See <a href="https://hexdocs.pm/ash/3.7.6/Ash.Context.html"><code class="inline">Ash.Context</code></a> for more.</li><li><code class="inline">:run_queries?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to run queries. If set to <code class="inline">true</code>, <code class="inline">:maybe</code> will not be returned. The default value is <code class="inline">true</code>.</li><li><code class="inline">:data</code> - The record or records specifically attempting to be acted upon.</li><li><code class="inline">:tenant</code> (value that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.ToTenant.html"><code class="inline">Ash.ToTenant</code></a> protocol) - The tenant to use for authorization</li><li><code class="inline">:alter_source?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If set to <code class="inline">true</code>, the source being authorized is returned so it can be run. The default value is <code class="inline">false</code>.</li><li><code class="inline">:base_query</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A base query on which to apply an generated filters</li><li><code class="inline">:no_check?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not authorization must pass at the strict/filter step, or if post-checks are allowed to be run The default value is <code class="inline">false</code>.</li><li><code class="inline">:on_must_pass_strict_check</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - Override the value returned when <code class="inline">no_check?</code> is <code class="inline">true</code> but a check must be run.</li><li><code class="inline">:atomic_changeset</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A base query on which to apply an generated filters</li><li><code class="inline">:return_forbidden_error?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to return a forbidden error in cases of not being authorized. The default value is <code class="inline">false</code>.</li><li><code class="inline">:log?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to log the authorization result. The default value is <code class="inline">false</code>.</li></ul>
  </section>
</section>
<section class="detail" id="can_list_cases/3">

    <span id="can_list_cases/1"></span>

    <span id="can_list_cases/2"></span>

  <div class="detail-header">
    <a href="#can_list_cases/3" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">can_list_cases(actor, params_or_opts \\ %{}, opts \\ [])</h1>


    </div>
  </div>

  <section class="docstring">

<p>Runs authorization checks for <code class="inline">EhsEnforcement.Enforcement.Case.read</code>
See <a href="https://hexdocs.pm/ash/3.7.6/Ash.html#can/3"><code class="inline">Ash.can/3</code></a> for more information</p><h2 id="can_list_cases/3-options" class="section-heading"><a href="#can_list_cases/3-options" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Options</span></h2><ul><li><code class="inline">:maybe_is</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - If the actor <em>may</em> be able to perform the action, what value should be returned. The default value is <code class="inline">:maybe</code>.</li><li><code class="inline">:filter_with</code> - If set to <code class="inline">:error</code>, the query will raise an error on a match. If set to <code class="inline">:filter</code> the query will filter out unauthorized access. Valid values are :filter, :error The default value is <code class="inline">:filter</code>.</li><li><code class="inline">:validate?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to treat an invalid action as a non-allowed action. The default value is <code class="inline">false</code>.</li><li><code class="inline">:reuse_values?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not loaded data like aggregates, calculations and relationships should be checked in memory if possible, instead of querying. No effect if <code class="inline">pre_flight?</code> is <code class="inline">false</code>. The default value is <code class="inline">false</code>.</li><li><code class="inline">:pre_flight?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not this is a pre_flight check (which may perform optimized in-memory checks) or the final proper check. The default value is <code class="inline">true</code>.</li><li><code class="inline">:scope</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A value that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> protocol. Will overwrite any actor, tenant or context provided. See <a href="https://hexdocs.pm/ash/3.7.6/Ash.Context.html"><code class="inline">Ash.Context</code></a> for more.</li><li><code class="inline">:run_queries?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to run queries. If set to <code class="inline">true</code>, <code class="inline">:maybe</code> will not be returned. The default value is <code class="inline">true</code>.</li><li><code class="inline">:data</code> - The record or records specifically attempting to be acted upon.</li><li><code class="inline">:tenant</code> (value that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.ToTenant.html"><code class="inline">Ash.ToTenant</code></a> protocol) - The tenant to use for authorization</li><li><code class="inline">:alter_source?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If set to <code class="inline">true</code>, the source being authorized is returned so it can be run. The default value is <code class="inline">false</code>.</li><li><code class="inline">:base_query</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A base query on which to apply an generated filters</li><li><code class="inline">:no_check?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not authorization must pass at the strict/filter step, or if post-checks are allowed to be run The default value is <code class="inline">false</code>.</li><li><code class="inline">:on_must_pass_strict_check</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - Override the value returned when <code class="inline">no_check?</code> is <code class="inline">true</code> but a check must be run.</li><li><code class="inline">:atomic_changeset</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A base query on which to apply an generated filters</li><li><code class="inline">:return_forbidden_error?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to return a forbidden error in cases of not being authorized. The default value is <code class="inline">false</code>.</li><li><code class="inline">:log?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to log the authorization result. The default value is <code class="inline">false</code>.</li></ul>
  </section>
</section>
<section class="detail" id="can_list_cases?/3">

    <span id="can_list_cases?/1"></span>

    <span id="can_list_cases?/2"></span>

  <div class="detail-header">
    <a href="#can_list_cases?/3" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">can_list_cases?(actor, params_or_opts \\ %{}, opts \\ [])</h1>


    </div>
  </div>

  <section class="docstring">

<p>Runs authorization checks for <code class="inline">EhsEnforcement.Enforcement.Case.read</code>, returning a boolean.
See <a href="https://hexdocs.pm/ash/3.7.6/Ash.html#can?/3"><code class="inline">Ash.can?/3</code></a> for more information</p><h2 id="can_list_cases?/3-options" class="section-heading"><a href="#can_list_cases?/3-options" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Options</span></h2><ul><li><code class="inline">:maybe_is</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - If the actor <em>may</em> be able to perform the action, what value should be returned. The default value is <code class="inline">true</code>.</li><li><code class="inline">:filter_with</code> - If set to <code class="inline">:error</code>, the query will raise an error on a match. If set to <code class="inline">:filter</code> the query will filter out unauthorized access. Valid values are :filter, :error The default value is <code class="inline">:filter</code>.</li><li><code class="inline">:validate?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to treat an invalid action as a non-allowed action. The default value is <code class="inline">false</code>.</li><li><code class="inline">:reuse_values?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not loaded data like aggregates, calculations and relationships should be checked in memory if possible, instead of querying. No effect if <code class="inline">pre_flight?</code> is <code class="inline">false</code>. The default value is <code class="inline">false</code>.</li><li><code class="inline">:pre_flight?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not this is a pre_flight check (which may perform optimized in-memory checks) or the final proper check. The default value is <code class="inline">true</code>.</li><li><code class="inline">:scope</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A value that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> protocol. Will overwrite any actor, tenant or context provided. See <a href="https://hexdocs.pm/ash/3.7.6/Ash.Context.html"><code class="inline">Ash.Context</code></a> for more.</li><li><code class="inline">:run_queries?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to run queries. If set to <code class="inline">true</code>, <code class="inline">:maybe</code> will not be returned. The default value is <code class="inline">true</code>.</li><li><code class="inline">:data</code> - The record or records specifically attempting to be acted upon.</li><li><code class="inline">:tenant</code> (value that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.ToTenant.html"><code class="inline">Ash.ToTenant</code></a> protocol) - The tenant to use for authorization</li><li><code class="inline">:alter_source?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If set to <code class="inline">true</code>, the source being authorized is returned so it can be run. The default value is <code class="inline">false</code>.</li><li><code class="inline">:base_query</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A base query on which to apply an generated filters</li><li><code class="inline">:no_check?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not authorization must pass at the strict/filter step, or if post-checks are allowed to be run The default value is <code class="inline">false</code>.</li><li><code class="inline">:on_must_pass_strict_check</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - Override the value returned when <code class="inline">no_check?</code> is <code class="inline">true</code> but a check must be run.</li><li><code class="inline">:atomic_changeset</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A base query on which to apply an generated filters</li><li><code class="inline">:return_forbidden_error?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to return a forbidden error in cases of not being authorized. The default value is <code class="inline">false</code>.</li><li><code class="inline">:log?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to log the authorization result. The default value is <code class="inline">false</code>.</li></ul>
  </section>
</section>
<section class="detail" id="can_list_cases_by_date_range/5">

    <span id="can_list_cases_by_date_range/3"></span>

    <span id="can_list_cases_by_date_range/4"></span>

  <div class="detail-header">
    <a href="#can_list_cases_by_date_range/5" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">can_list_cases_by_date_range(actor, from_date, to_date, params_or_opts \\ %{}, opts \\ [])</h1>


    </div>
  </div>

  <section class="docstring">

<p>Runs authorization checks for <code class="inline">EhsEnforcement.Enforcement.Case.by_date_range</code>
See <a href="https://hexdocs.pm/ash/3.7.6/Ash.html#can/3"><code class="inline">Ash.can/3</code></a> for more information</p><h2 id="can_list_cases_by_date_range/5-options" class="section-heading"><a href="#can_list_cases_by_date_range/5-options" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Options</span></h2><ul><li><code class="inline">:maybe_is</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - If the actor <em>may</em> be able to perform the action, what value should be returned. The default value is <code class="inline">:maybe</code>.</li><li><code class="inline">:filter_with</code> - If set to <code class="inline">:error</code>, the query will raise an error on a match. If set to <code class="inline">:filter</code> the query will filter out unauthorized access. Valid values are :filter, :error The default value is <code class="inline">:filter</code>.</li><li><code class="inline">:validate?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to treat an invalid action as a non-allowed action. The default value is <code class="inline">false</code>.</li><li><code class="inline">:reuse_values?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not loaded data like aggregates, calculations and relationships should be checked in memory if possible, instead of querying. No effect if <code class="inline">pre_flight?</code> is <code class="inline">false</code>. The default value is <code class="inline">false</code>.</li><li><code class="inline">:pre_flight?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not this is a pre_flight check (which may perform optimized in-memory checks) or the final proper check. The default value is <code class="inline">true</code>.</li><li><code class="inline">:scope</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A value that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> protocol. Will overwrite any actor, tenant or context provided. See <a href="https://hexdocs.pm/ash/3.7.6/Ash.Context.html"><code class="inline">Ash.Context</code></a> for more.</li><li><code class="inline">:run_queries?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to run queries. If set to <code class="inline">true</code>, <code class="inline">:maybe</code> will not be returned. The default value is <code class="inline">true</code>.</li><li><code class="inline">:data</code> - The record or records specifically attempting to be acted upon.</li><li><code class="inline">:tenant</code> (value that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.ToTenant.html"><code class="inline">Ash.ToTenant</code></a> protocol) - The tenant to use for authorization</li><li><code class="inline">:alter_source?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If set to <code class="inline">true</code>, the source being authorized is returned so it can be run. The default value is <code class="inline">false</code>.</li><li><code class="inline">:base_query</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A base query on which to apply an generated filters</li><li><code class="inline">:no_check?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not authorization must pass at the strict/filter step, or if post-checks are allowed to be run The default value is <code class="inline">false</code>.</li><li><code class="inline">:on_must_pass_strict_check</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - Override the value returned when <code class="inline">no_check?</code> is <code class="inline">true</code> but a check must be run.</li><li><code class="inline">:atomic_changeset</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A base query on which to apply an generated filters</li><li><code class="inline">:return_forbidden_error?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to return a forbidden error in cases of not being authorized. The default value is <code class="inline">false</code>.</li><li><code class="inline">:log?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to log the authorization result. The default value is <code class="inline">false</code>.</li></ul>
  </section>
</section>
<section class="detail" id="can_list_cases_by_date_range?/5">

    <span id="can_list_cases_by_date_range?/3"></span>

    <span id="can_list_cases_by_date_range?/4"></span>

  <div class="detail-header">
    <a href="#can_list_cases_by_date_range?/5" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">can_list_cases_by_date_range?(actor, from_date, to_date, params_or_opts \\ %{}, opts \\ [])</h1>


    </div>
  </div>

  <section class="docstring">

<p>Runs authorization checks for <code class="inline">EhsEnforcement.Enforcement.Case.by_date_range</code>, returning a boolean.
See <a href="https://hexdocs.pm/ash/3.7.6/Ash.html#can?/3"><code class="inline">Ash.can?/3</code></a> for more information</p><h2 id="can_list_cases_by_date_range?/5-options" class="section-heading"><a href="#can_list_cases_by_date_range?/5-options" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Options</span></h2><ul><li><code class="inline">:maybe_is</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - If the actor <em>may</em> be able to perform the action, what value should be returned. The default value is <code class="inline">true</code>.</li><li><code class="inline">:filter_with</code> - If set to <code class="inline">:error</code>, the query will raise an error on a match. If set to <code class="inline">:filter</code> the query will filter out unauthorized access. Valid values are :filter, :error The default value is <code class="inline">:filter</code>.</li><li><code class="inline">:validate?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to treat an invalid action as a non-allowed action. The default value is <code class="inline">false</code>.</li><li><code class="inline">:reuse_values?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not loaded data like aggregates, calculations and relationships should be checked in memory if possible, instead of querying. No effect if <code class="inline">pre_flight?</code> is <code class="inline">false</code>. The default value is <code class="inline">false</code>.</li><li><code class="inline">:pre_flight?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not this is a pre_flight check (which may perform optimized in-memory checks) or the final proper check. The default value is <code class="inline">true</code>.</li><li><code class="inline">:scope</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A value that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> protocol. Will overwrite any actor, tenant or context provided. See <a href="https://hexdocs.pm/ash/3.7.6/Ash.Context.html"><code class="inline">Ash.Context</code></a> for more.</li><li><code class="inline">:run_queries?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to run queries. If set to <code class="inline">true</code>, <code class="inline">:maybe</code> will not be returned. The default value is <code class="inline">true</code>.</li><li><code class="inline">:data</code> - The record or records specifically attempting to be acted upon.</li><li><code class="inline">:tenant</code> (value that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.ToTenant.html"><code class="inline">Ash.ToTenant</code></a> protocol) - The tenant to use for authorization</li><li><code class="inline">:alter_source?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If set to <code class="inline">true</code>, the source being authorized is returned so it can be run. The default value is <code class="inline">false</code>.</li><li><code class="inline">:base_query</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A base query on which to apply an generated filters</li><li><code class="inline">:no_check?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not authorization must pass at the strict/filter step, or if post-checks are allowed to be run The default value is <code class="inline">false</code>.</li><li><code class="inline">:on_must_pass_strict_check</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - Override the value returned when <code class="inline">no_check?</code> is <code class="inline">true</code> but a check must be run.</li><li><code class="inline">:atomic_changeset</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A base query on which to apply an generated filters</li><li><code class="inline">:return_forbidden_error?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to return a forbidden error in cases of not being authorized. The default value is <code class="inline">false</code>.</li><li><code class="inline">:log?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to log the authorization result. The default value is <code class="inline">false</code>.</li></ul>
  </section>
</section>
<section class="detail" id="can_list_legislation/3">

    <span id="can_list_legislation/1"></span>

    <span id="can_list_legislation/2"></span>

  <div class="detail-header">
    <a href="#can_list_legislation/3" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">can_list_legislation(actor, params_or_opts \\ %{}, opts \\ [])</h1>


    </div>
  </div>

  <section class="docstring">

<p>Runs authorization checks for <code class="inline">EhsEnforcement.Enforcement.Legislation.read</code>
See <a href="https://hexdocs.pm/ash/3.7.6/Ash.html#can/3"><code class="inline">Ash.can/3</code></a> for more information</p><h2 id="can_list_legislation/3-options" class="section-heading"><a href="#can_list_legislation/3-options" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Options</span></h2><ul><li><code class="inline">:maybe_is</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - If the actor <em>may</em> be able to perform the action, what value should be returned. The default value is <code class="inline">:maybe</code>.</li><li><code class="inline">:filter_with</code> - If set to <code class="inline">:error</code>, the query will raise an error on a match. If set to <code class="inline">:filter</code> the query will filter out unauthorized access. Valid values are :filter, :error The default value is <code class="inline">:filter</code>.</li><li><code class="inline">:validate?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to treat an invalid action as a non-allowed action. The default value is <code class="inline">false</code>.</li><li><code class="inline">:reuse_values?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not loaded data like aggregates, calculations and relationships should be checked in memory if possible, instead of querying. No effect if <code class="inline">pre_flight?</code> is <code class="inline">false</code>. The default value is <code class="inline">false</code>.</li><li><code class="inline">:pre_flight?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not this is a pre_flight check (which may perform optimized in-memory checks) or the final proper check. The default value is <code class="inline">true</code>.</li><li><code class="inline">:scope</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A value that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> protocol. Will overwrite any actor, tenant or context provided. See <a href="https://hexdocs.pm/ash/3.7.6/Ash.Context.html"><code class="inline">Ash.Context</code></a> for more.</li><li><code class="inline">:run_queries?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to run queries. If set to <code class="inline">true</code>, <code class="inline">:maybe</code> will not be returned. The default value is <code class="inline">true</code>.</li><li><code class="inline">:data</code> - The record or records specifically attempting to be acted upon.</li><li><code class="inline">:tenant</code> (value that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.ToTenant.html"><code class="inline">Ash.ToTenant</code></a> protocol) - The tenant to use for authorization</li><li><code class="inline">:alter_source?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If set to <code class="inline">true</code>, the source being authorized is returned so it can be run. The default value is <code class="inline">false</code>.</li><li><code class="inline">:base_query</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A base query on which to apply an generated filters</li><li><code class="inline">:no_check?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not authorization must pass at the strict/filter step, or if post-checks are allowed to be run The default value is <code class="inline">false</code>.</li><li><code class="inline">:on_must_pass_strict_check</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - Override the value returned when <code class="inline">no_check?</code> is <code class="inline">true</code> but a check must be run.</li><li><code class="inline">:atomic_changeset</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A base query on which to apply an generated filters</li><li><code class="inline">:return_forbidden_error?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to return a forbidden error in cases of not being authorized. The default value is <code class="inline">false</code>.</li><li><code class="inline">:log?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to log the authorization result. The default value is <code class="inline">false</code>.</li></ul>
  </section>
</section>
<section class="detail" id="can_list_legislation?/3">

    <span id="can_list_legislation?/1"></span>

    <span id="can_list_legislation?/2"></span>

  <div class="detail-header">
    <a href="#can_list_legislation?/3" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">can_list_legislation?(actor, params_or_opts \\ %{}, opts \\ [])</h1>


    </div>
  </div>

  <section class="docstring">

<p>Runs authorization checks for <code class="inline">EhsEnforcement.Enforcement.Legislation.read</code>, returning a boolean.
See <a href="https://hexdocs.pm/ash/3.7.6/Ash.html#can?/3"><code class="inline">Ash.can?/3</code></a> for more information</p><h2 id="can_list_legislation?/3-options" class="section-heading"><a href="#can_list_legislation?/3-options" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Options</span></h2><ul><li><code class="inline">:maybe_is</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - If the actor <em>may</em> be able to perform the action, what value should be returned. The default value is <code class="inline">true</code>.</li><li><code class="inline">:filter_with</code> - If set to <code class="inline">:error</code>, the query will raise an error on a match. If set to <code class="inline">:filter</code> the query will filter out unauthorized access. Valid values are :filter, :error The default value is <code class="inline">:filter</code>.</li><li><code class="inline">:validate?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to treat an invalid action as a non-allowed action. The default value is <code class="inline">false</code>.</li><li><code class="inline">:reuse_values?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not loaded data like aggregates, calculations and relationships should be checked in memory if possible, instead of querying. No effect if <code class="inline">pre_flight?</code> is <code class="inline">false</code>. The default value is <code class="inline">false</code>.</li><li><code class="inline">:pre_flight?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not this is a pre_flight check (which may perform optimized in-memory checks) or the final proper check. The default value is <code class="inline">true</code>.</li><li><code class="inline">:scope</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A value that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> protocol. Will overwrite any actor, tenant or context provided. See <a href="https://hexdocs.pm/ash/3.7.6/Ash.Context.html"><code class="inline">Ash.Context</code></a> for more.</li><li><code class="inline">:run_queries?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to run queries. If set to <code class="inline">true</code>, <code class="inline">:maybe</code> will not be returned. The default value is <code class="inline">true</code>.</li><li><code class="inline">:data</code> - The record or records specifically attempting to be acted upon.</li><li><code class="inline">:tenant</code> (value that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.ToTenant.html"><code class="inline">Ash.ToTenant</code></a> protocol) - The tenant to use for authorization</li><li><code class="inline">:alter_source?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If set to <code class="inline">true</code>, the source being authorized is returned so it can be run. The default value is <code class="inline">false</code>.</li><li><code class="inline">:base_query</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A base query on which to apply an generated filters</li><li><code class="inline">:no_check?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not authorization must pass at the strict/filter step, or if post-checks are allowed to be run The default value is <code class="inline">false</code>.</li><li><code class="inline">:on_must_pass_strict_check</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - Override the value returned when <code class="inline">no_check?</code> is <code class="inline">true</code> but a check must be run.</li><li><code class="inline">:atomic_changeset</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A base query on which to apply an generated filters</li><li><code class="inline">:return_forbidden_error?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to return a forbidden error in cases of not being authorized. The default value is <code class="inline">false</code>.</li><li><code class="inline">:log?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to log the authorization result. The default value is <code class="inline">false</code>.</li></ul>
  </section>
</section>
<section class="detail" id="can_list_legislation_by_type/4">

    <span id="can_list_legislation_by_type/2"></span>

    <span id="can_list_legislation_by_type/3"></span>

  <div class="detail-header">
    <a href="#can_list_legislation_by_type/4" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">can_list_legislation_by_type(actor, legislation_type, params_or_opts \\ %{}, opts \\ [])</h1>


    </div>
  </div>

  <section class="docstring">

<p>Runs authorization checks for <code class="inline">EhsEnforcement.Enforcement.Legislation.by_type</code>
See <a href="https://hexdocs.pm/ash/3.7.6/Ash.html#can/3"><code class="inline">Ash.can/3</code></a> for more information</p><h2 id="can_list_legislation_by_type/4-options" class="section-heading"><a href="#can_list_legislation_by_type/4-options" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Options</span></h2><ul><li><code class="inline">:maybe_is</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - If the actor <em>may</em> be able to perform the action, what value should be returned. The default value is <code class="inline">:maybe</code>.</li><li><code class="inline">:filter_with</code> - If set to <code class="inline">:error</code>, the query will raise an error on a match. If set to <code class="inline">:filter</code> the query will filter out unauthorized access. Valid values are :filter, :error The default value is <code class="inline">:filter</code>.</li><li><code class="inline">:validate?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to treat an invalid action as a non-allowed action. The default value is <code class="inline">false</code>.</li><li><code class="inline">:reuse_values?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not loaded data like aggregates, calculations and relationships should be checked in memory if possible, instead of querying. No effect if <code class="inline">pre_flight?</code> is <code class="inline">false</code>. The default value is <code class="inline">false</code>.</li><li><code class="inline">:pre_flight?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not this is a pre_flight check (which may perform optimized in-memory checks) or the final proper check. The default value is <code class="inline">true</code>.</li><li><code class="inline">:scope</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A value that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> protocol. Will overwrite any actor, tenant or context provided. See <a href="https://hexdocs.pm/ash/3.7.6/Ash.Context.html"><code class="inline">Ash.Context</code></a> for more.</li><li><code class="inline">:run_queries?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to run queries. If set to <code class="inline">true</code>, <code class="inline">:maybe</code> will not be returned. The default value is <code class="inline">true</code>.</li><li><code class="inline">:data</code> - The record or records specifically attempting to be acted upon.</li><li><code class="inline">:tenant</code> (value that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.ToTenant.html"><code class="inline">Ash.ToTenant</code></a> protocol) - The tenant to use for authorization</li><li><code class="inline">:alter_source?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If set to <code class="inline">true</code>, the source being authorized is returned so it can be run. The default value is <code class="inline">false</code>.</li><li><code class="inline">:base_query</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A base query on which to apply an generated filters</li><li><code class="inline">:no_check?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not authorization must pass at the strict/filter step, or if post-checks are allowed to be run The default value is <code class="inline">false</code>.</li><li><code class="inline">:on_must_pass_strict_check</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - Override the value returned when <code class="inline">no_check?</code> is <code class="inline">true</code> but a check must be run.</li><li><code class="inline">:atomic_changeset</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A base query on which to apply an generated filters</li><li><code class="inline">:return_forbidden_error?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to return a forbidden error in cases of not being authorized. The default value is <code class="inline">false</code>.</li><li><code class="inline">:log?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to log the authorization result. The default value is <code class="inline">false</code>.</li></ul>
  </section>
</section>
<section class="detail" id="can_list_legislation_by_type?/4">

    <span id="can_list_legislation_by_type?/2"></span>

    <span id="can_list_legislation_by_type?/3"></span>

  <div class="detail-header">
    <a href="#can_list_legislation_by_type?/4" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">can_list_legislation_by_type?(actor, legislation_type, params_or_opts \\ %{}, opts \\ [])</h1>


    </div>
  </div>

  <section class="docstring">

<p>Runs authorization checks for <code class="inline">EhsEnforcement.Enforcement.Legislation.by_type</code>, returning a boolean.
See <a href="https://hexdocs.pm/ash/3.7.6/Ash.html#can?/3"><code class="inline">Ash.can?/3</code></a> for more information</p><h2 id="can_list_legislation_by_type?/4-options" class="section-heading"><a href="#can_list_legislation_by_type?/4-options" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Options</span></h2><ul><li><code class="inline">:maybe_is</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - If the actor <em>may</em> be able to perform the action, what value should be returned. The default value is <code class="inline">true</code>.</li><li><code class="inline">:filter_with</code> - If set to <code class="inline">:error</code>, the query will raise an error on a match. If set to <code class="inline">:filter</code> the query will filter out unauthorized access. Valid values are :filter, :error The default value is <code class="inline">:filter</code>.</li><li><code class="inline">:validate?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to treat an invalid action as a non-allowed action. The default value is <code class="inline">false</code>.</li><li><code class="inline">:reuse_values?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not loaded data like aggregates, calculations and relationships should be checked in memory if possible, instead of querying. No effect if <code class="inline">pre_flight?</code> is <code class="inline">false</code>. The default value is <code class="inline">false</code>.</li><li><code class="inline">:pre_flight?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not this is a pre_flight check (which may perform optimized in-memory checks) or the final proper check. The default value is <code class="inline">true</code>.</li><li><code class="inline">:scope</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A value that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> protocol. Will overwrite any actor, tenant or context provided. See <a href="https://hexdocs.pm/ash/3.7.6/Ash.Context.html"><code class="inline">Ash.Context</code></a> for more.</li><li><code class="inline">:run_queries?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to run queries. If set to <code class="inline">true</code>, <code class="inline">:maybe</code> will not be returned. The default value is <code class="inline">true</code>.</li><li><code class="inline">:data</code> - The record or records specifically attempting to be acted upon.</li><li><code class="inline">:tenant</code> (value that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.ToTenant.html"><code class="inline">Ash.ToTenant</code></a> protocol) - The tenant to use for authorization</li><li><code class="inline">:alter_source?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If set to <code class="inline">true</code>, the source being authorized is returned so it can be run. The default value is <code class="inline">false</code>.</li><li><code class="inline">:base_query</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A base query on which to apply an generated filters</li><li><code class="inline">:no_check?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not authorization must pass at the strict/filter step, or if post-checks are allowed to be run The default value is <code class="inline">false</code>.</li><li><code class="inline">:on_must_pass_strict_check</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - Override the value returned when <code class="inline">no_check?</code> is <code class="inline">true</code> but a check must be run.</li><li><code class="inline">:atomic_changeset</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A base query on which to apply an generated filters</li><li><code class="inline">:return_forbidden_error?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to return a forbidden error in cases of not being authorized. The default value is <code class="inline">false</code>.</li><li><code class="inline">:log?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to log the authorization result. The default value is <code class="inline">false</code>.</li></ul>
  </section>
</section>
<section class="detail" id="can_list_legislation_by_year_range/5">

    <span id="can_list_legislation_by_year_range/3"></span>

    <span id="can_list_legislation_by_year_range/4"></span>

  <div class="detail-header">
    <a href="#can_list_legislation_by_year_range/5" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">can_list_legislation_by_year_range(actor, start_year, end_year, params_or_opts \\ %{}, opts \\ [])</h1>


    </div>
  </div>

  <section class="docstring">

<p>Runs authorization checks for <code class="inline">EhsEnforcement.Enforcement.Legislation.by_year_range</code>
See <a href="https://hexdocs.pm/ash/3.7.6/Ash.html#can/3"><code class="inline">Ash.can/3</code></a> for more information</p><h2 id="can_list_legislation_by_year_range/5-options" class="section-heading"><a href="#can_list_legislation_by_year_range/5-options" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Options</span></h2><ul><li><code class="inline">:maybe_is</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - If the actor <em>may</em> be able to perform the action, what value should be returned. The default value is <code class="inline">:maybe</code>.</li><li><code class="inline">:filter_with</code> - If set to <code class="inline">:error</code>, the query will raise an error on a match. If set to <code class="inline">:filter</code> the query will filter out unauthorized access. Valid values are :filter, :error The default value is <code class="inline">:filter</code>.</li><li><code class="inline">:validate?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to treat an invalid action as a non-allowed action. The default value is <code class="inline">false</code>.</li><li><code class="inline">:reuse_values?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not loaded data like aggregates, calculations and relationships should be checked in memory if possible, instead of querying. No effect if <code class="inline">pre_flight?</code> is <code class="inline">false</code>. The default value is <code class="inline">false</code>.</li><li><code class="inline">:pre_flight?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not this is a pre_flight check (which may perform optimized in-memory checks) or the final proper check. The default value is <code class="inline">true</code>.</li><li><code class="inline">:scope</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A value that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> protocol. Will overwrite any actor, tenant or context provided. See <a href="https://hexdocs.pm/ash/3.7.6/Ash.Context.html"><code class="inline">Ash.Context</code></a> for more.</li><li><code class="inline">:run_queries?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to run queries. If set to <code class="inline">true</code>, <code class="inline">:maybe</code> will not be returned. The default value is <code class="inline">true</code>.</li><li><code class="inline">:data</code> - The record or records specifically attempting to be acted upon.</li><li><code class="inline">:tenant</code> (value that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.ToTenant.html"><code class="inline">Ash.ToTenant</code></a> protocol) - The tenant to use for authorization</li><li><code class="inline">:alter_source?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If set to <code class="inline">true</code>, the source being authorized is returned so it can be run. The default value is <code class="inline">false</code>.</li><li><code class="inline">:base_query</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A base query on which to apply an generated filters</li><li><code class="inline">:no_check?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not authorization must pass at the strict/filter step, or if post-checks are allowed to be run The default value is <code class="inline">false</code>.</li><li><code class="inline">:on_must_pass_strict_check</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - Override the value returned when <code class="inline">no_check?</code> is <code class="inline">true</code> but a check must be run.</li><li><code class="inline">:atomic_changeset</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A base query on which to apply an generated filters</li><li><code class="inline">:return_forbidden_error?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to return a forbidden error in cases of not being authorized. The default value is <code class="inline">false</code>.</li><li><code class="inline">:log?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to log the authorization result. The default value is <code class="inline">false</code>.</li></ul>
  </section>
</section>
<section class="detail" id="can_list_legislation_by_year_range?/5">

    <span id="can_list_legislation_by_year_range?/3"></span>

    <span id="can_list_legislation_by_year_range?/4"></span>

  <div class="detail-header">
    <a href="#can_list_legislation_by_year_range?/5" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">can_list_legislation_by_year_range?(actor, start_year, end_year, params_or_opts \\ %{}, opts \\ [])</h1>


    </div>
  </div>

  <section class="docstring">

<p>Runs authorization checks for <code class="inline">EhsEnforcement.Enforcement.Legislation.by_year_range</code>, returning a boolean.
See <a href="https://hexdocs.pm/ash/3.7.6/Ash.html#can?/3"><code class="inline">Ash.can?/3</code></a> for more information</p><h2 id="can_list_legislation_by_year_range?/5-options" class="section-heading"><a href="#can_list_legislation_by_year_range?/5-options" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Options</span></h2><ul><li><code class="inline">:maybe_is</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - If the actor <em>may</em> be able to perform the action, what value should be returned. The default value is <code class="inline">true</code>.</li><li><code class="inline">:filter_with</code> - If set to <code class="inline">:error</code>, the query will raise an error on a match. If set to <code class="inline">:filter</code> the query will filter out unauthorized access. Valid values are :filter, :error The default value is <code class="inline">:filter</code>.</li><li><code class="inline">:validate?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to treat an invalid action as a non-allowed action. The default value is <code class="inline">false</code>.</li><li><code class="inline">:reuse_values?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not loaded data like aggregates, calculations and relationships should be checked in memory if possible, instead of querying. No effect if <code class="inline">pre_flight?</code> is <code class="inline">false</code>. The default value is <code class="inline">false</code>.</li><li><code class="inline">:pre_flight?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not this is a pre_flight check (which may perform optimized in-memory checks) or the final proper check. The default value is <code class="inline">true</code>.</li><li><code class="inline">:scope</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A value that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> protocol. Will overwrite any actor, tenant or context provided. See <a href="https://hexdocs.pm/ash/3.7.6/Ash.Context.html"><code class="inline">Ash.Context</code></a> for more.</li><li><code class="inline">:run_queries?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to run queries. If set to <code class="inline">true</code>, <code class="inline">:maybe</code> will not be returned. The default value is <code class="inline">true</code>.</li><li><code class="inline">:data</code> - The record or records specifically attempting to be acted upon.</li><li><code class="inline">:tenant</code> (value that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.ToTenant.html"><code class="inline">Ash.ToTenant</code></a> protocol) - The tenant to use for authorization</li><li><code class="inline">:alter_source?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If set to <code class="inline">true</code>, the source being authorized is returned so it can be run. The default value is <code class="inline">false</code>.</li><li><code class="inline">:base_query</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A base query on which to apply an generated filters</li><li><code class="inline">:no_check?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not authorization must pass at the strict/filter step, or if post-checks are allowed to be run The default value is <code class="inline">false</code>.</li><li><code class="inline">:on_must_pass_strict_check</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - Override the value returned when <code class="inline">no_check?</code> is <code class="inline">true</code> but a check must be run.</li><li><code class="inline">:atomic_changeset</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A base query on which to apply an generated filters</li><li><code class="inline">:return_forbidden_error?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to return a forbidden error in cases of not being authorized. The default value is <code class="inline">false</code>.</li><li><code class="inline">:log?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to log the authorization result. The default value is <code class="inline">false</code>.</li></ul>
  </section>
</section>
<section class="detail" id="can_list_notices/3">

    <span id="can_list_notices/1"></span>

    <span id="can_list_notices/2"></span>

  <div class="detail-header">
    <a href="#can_list_notices/3" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">can_list_notices(actor, params_or_opts \\ %{}, opts \\ [])</h1>


    </div>
  </div>

  <section class="docstring">

<p>Runs authorization checks for <code class="inline">EhsEnforcement.Enforcement.Notice.read</code>
See <a href="https://hexdocs.pm/ash/3.7.6/Ash.html#can/3"><code class="inline">Ash.can/3</code></a> for more information</p><h2 id="can_list_notices/3-options" class="section-heading"><a href="#can_list_notices/3-options" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Options</span></h2><ul><li><code class="inline">:maybe_is</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - If the actor <em>may</em> be able to perform the action, what value should be returned. The default value is <code class="inline">:maybe</code>.</li><li><code class="inline">:filter_with</code> - If set to <code class="inline">:error</code>, the query will raise an error on a match. If set to <code class="inline">:filter</code> the query will filter out unauthorized access. Valid values are :filter, :error The default value is <code class="inline">:filter</code>.</li><li><code class="inline">:validate?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to treat an invalid action as a non-allowed action. The default value is <code class="inline">false</code>.</li><li><code class="inline">:reuse_values?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not loaded data like aggregates, calculations and relationships should be checked in memory if possible, instead of querying. No effect if <code class="inline">pre_flight?</code> is <code class="inline">false</code>. The default value is <code class="inline">false</code>.</li><li><code class="inline">:pre_flight?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not this is a pre_flight check (which may perform optimized in-memory checks) or the final proper check. The default value is <code class="inline">true</code>.</li><li><code class="inline">:scope</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A value that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> protocol. Will overwrite any actor, tenant or context provided. See <a href="https://hexdocs.pm/ash/3.7.6/Ash.Context.html"><code class="inline">Ash.Context</code></a> for more.</li><li><code class="inline">:run_queries?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to run queries. If set to <code class="inline">true</code>, <code class="inline">:maybe</code> will not be returned. The default value is <code class="inline">true</code>.</li><li><code class="inline">:data</code> - The record or records specifically attempting to be acted upon.</li><li><code class="inline">:tenant</code> (value that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.ToTenant.html"><code class="inline">Ash.ToTenant</code></a> protocol) - The tenant to use for authorization</li><li><code class="inline">:alter_source?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If set to <code class="inline">true</code>, the source being authorized is returned so it can be run. The default value is <code class="inline">false</code>.</li><li><code class="inline">:base_query</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A base query on which to apply an generated filters</li><li><code class="inline">:no_check?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not authorization must pass at the strict/filter step, or if post-checks are allowed to be run The default value is <code class="inline">false</code>.</li><li><code class="inline">:on_must_pass_strict_check</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - Override the value returned when <code class="inline">no_check?</code> is <code class="inline">true</code> but a check must be run.</li><li><code class="inline">:atomic_changeset</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A base query on which to apply an generated filters</li><li><code class="inline">:return_forbidden_error?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to return a forbidden error in cases of not being authorized. The default value is <code class="inline">false</code>.</li><li><code class="inline">:log?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to log the authorization result. The default value is <code class="inline">false</code>.</li></ul>
  </section>
</section>
<section class="detail" id="can_list_notices?/3">

    <span id="can_list_notices?/1"></span>

    <span id="can_list_notices?/2"></span>

  <div class="detail-header">
    <a href="#can_list_notices?/3" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">can_list_notices?(actor, params_or_opts \\ %{}, opts \\ [])</h1>


    </div>
  </div>

  <section class="docstring">

<p>Runs authorization checks for <code class="inline">EhsEnforcement.Enforcement.Notice.read</code>, returning a boolean.
See <a href="https://hexdocs.pm/ash/3.7.6/Ash.html#can?/3"><code class="inline">Ash.can?/3</code></a> for more information</p><h2 id="can_list_notices?/3-options" class="section-heading"><a href="#can_list_notices?/3-options" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Options</span></h2><ul><li><code class="inline">:maybe_is</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - If the actor <em>may</em> be able to perform the action, what value should be returned. The default value is <code class="inline">true</code>.</li><li><code class="inline">:filter_with</code> - If set to <code class="inline">:error</code>, the query will raise an error on a match. If set to <code class="inline">:filter</code> the query will filter out unauthorized access. Valid values are :filter, :error The default value is <code class="inline">:filter</code>.</li><li><code class="inline">:validate?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to treat an invalid action as a non-allowed action. The default value is <code class="inline">false</code>.</li><li><code class="inline">:reuse_values?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not loaded data like aggregates, calculations and relationships should be checked in memory if possible, instead of querying. No effect if <code class="inline">pre_flight?</code> is <code class="inline">false</code>. The default value is <code class="inline">false</code>.</li><li><code class="inline">:pre_flight?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not this is a pre_flight check (which may perform optimized in-memory checks) or the final proper check. The default value is <code class="inline">true</code>.</li><li><code class="inline">:scope</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A value that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> protocol. Will overwrite any actor, tenant or context provided. See <a href="https://hexdocs.pm/ash/3.7.6/Ash.Context.html"><code class="inline">Ash.Context</code></a> for more.</li><li><code class="inline">:run_queries?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to run queries. If set to <code class="inline">true</code>, <code class="inline">:maybe</code> will not be returned. The default value is <code class="inline">true</code>.</li><li><code class="inline">:data</code> - The record or records specifically attempting to be acted upon.</li><li><code class="inline">:tenant</code> (value that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.ToTenant.html"><code class="inline">Ash.ToTenant</code></a> protocol) - The tenant to use for authorization</li><li><code class="inline">:alter_source?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If set to <code class="inline">true</code>, the source being authorized is returned so it can be run. The default value is <code class="inline">false</code>.</li><li><code class="inline">:base_query</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A base query on which to apply an generated filters</li><li><code class="inline">:no_check?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not authorization must pass at the strict/filter step, or if post-checks are allowed to be run The default value is <code class="inline">false</code>.</li><li><code class="inline">:on_must_pass_strict_check</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - Override the value returned when <code class="inline">no_check?</code> is <code class="inline">true</code> but a check must be run.</li><li><code class="inline">:atomic_changeset</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A base query on which to apply an generated filters</li><li><code class="inline">:return_forbidden_error?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to return a forbidden error in cases of not being authorized. The default value is <code class="inline">false</code>.</li><li><code class="inline">:log?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to log the authorization result. The default value is <code class="inline">false</code>.</li></ul>
  </section>
</section>
<section class="detail" id="can_list_offences/3">

    <span id="can_list_offences/1"></span>

    <span id="can_list_offences/2"></span>

  <div class="detail-header">
    <a href="#can_list_offences/3" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">can_list_offences(actor, params_or_opts \\ %{}, opts \\ [])</h1>


    </div>
  </div>

  <section class="docstring">

<p>Runs authorization checks for <code class="inline">EhsEnforcement.Enforcement.Offence.read</code>
See <a href="https://hexdocs.pm/ash/3.7.6/Ash.html#can/3"><code class="inline">Ash.can/3</code></a> for more information</p><h2 id="can_list_offences/3-options" class="section-heading"><a href="#can_list_offences/3-options" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Options</span></h2><ul><li><code class="inline">:maybe_is</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - If the actor <em>may</em> be able to perform the action, what value should be returned. The default value is <code class="inline">:maybe</code>.</li><li><code class="inline">:filter_with</code> - If set to <code class="inline">:error</code>, the query will raise an error on a match. If set to <code class="inline">:filter</code> the query will filter out unauthorized access. Valid values are :filter, :error The default value is <code class="inline">:filter</code>.</li><li><code class="inline">:validate?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to treat an invalid action as a non-allowed action. The default value is <code class="inline">false</code>.</li><li><code class="inline">:reuse_values?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not loaded data like aggregates, calculations and relationships should be checked in memory if possible, instead of querying. No effect if <code class="inline">pre_flight?</code> is <code class="inline">false</code>. The default value is <code class="inline">false</code>.</li><li><code class="inline">:pre_flight?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not this is a pre_flight check (which may perform optimized in-memory checks) or the final proper check. The default value is <code class="inline">true</code>.</li><li><code class="inline">:scope</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A value that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> protocol. Will overwrite any actor, tenant or context provided. See <a href="https://hexdocs.pm/ash/3.7.6/Ash.Context.html"><code class="inline">Ash.Context</code></a> for more.</li><li><code class="inline">:run_queries?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to run queries. If set to <code class="inline">true</code>, <code class="inline">:maybe</code> will not be returned. The default value is <code class="inline">true</code>.</li><li><code class="inline">:data</code> - The record or records specifically attempting to be acted upon.</li><li><code class="inline">:tenant</code> (value that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.ToTenant.html"><code class="inline">Ash.ToTenant</code></a> protocol) - The tenant to use for authorization</li><li><code class="inline">:alter_source?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If set to <code class="inline">true</code>, the source being authorized is returned so it can be run. The default value is <code class="inline">false</code>.</li><li><code class="inline">:base_query</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A base query on which to apply an generated filters</li><li><code class="inline">:no_check?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not authorization must pass at the strict/filter step, or if post-checks are allowed to be run The default value is <code class="inline">false</code>.</li><li><code class="inline">:on_must_pass_strict_check</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - Override the value returned when <code class="inline">no_check?</code> is <code class="inline">true</code> but a check must be run.</li><li><code class="inline">:atomic_changeset</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A base query on which to apply an generated filters</li><li><code class="inline">:return_forbidden_error?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to return a forbidden error in cases of not being authorized. The default value is <code class="inline">false</code>.</li><li><code class="inline">:log?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to log the authorization result. The default value is <code class="inline">false</code>.</li></ul>
  </section>
</section>
<section class="detail" id="can_list_offences?/3">

    <span id="can_list_offences?/1"></span>

    <span id="can_list_offences?/2"></span>

  <div class="detail-header">
    <a href="#can_list_offences?/3" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">can_list_offences?(actor, params_or_opts \\ %{}, opts \\ [])</h1>


    </div>
  </div>

  <section class="docstring">

<p>Runs authorization checks for <code class="inline">EhsEnforcement.Enforcement.Offence.read</code>, returning a boolean.
See <a href="https://hexdocs.pm/ash/3.7.6/Ash.html#can?/3"><code class="inline">Ash.can?/3</code></a> for more information</p><h2 id="can_list_offences?/3-options" class="section-heading"><a href="#can_list_offences?/3-options" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Options</span></h2><ul><li><code class="inline">:maybe_is</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - If the actor <em>may</em> be able to perform the action, what value should be returned. The default value is <code class="inline">true</code>.</li><li><code class="inline">:filter_with</code> - If set to <code class="inline">:error</code>, the query will raise an error on a match. If set to <code class="inline">:filter</code> the query will filter out unauthorized access. Valid values are :filter, :error The default value is <code class="inline">:filter</code>.</li><li><code class="inline">:validate?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to treat an invalid action as a non-allowed action. The default value is <code class="inline">false</code>.</li><li><code class="inline">:reuse_values?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not loaded data like aggregates, calculations and relationships should be checked in memory if possible, instead of querying. No effect if <code class="inline">pre_flight?</code> is <code class="inline">false</code>. The default value is <code class="inline">false</code>.</li><li><code class="inline">:pre_flight?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not this is a pre_flight check (which may perform optimized in-memory checks) or the final proper check. The default value is <code class="inline">true</code>.</li><li><code class="inline">:scope</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A value that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> protocol. Will overwrite any actor, tenant or context provided. See <a href="https://hexdocs.pm/ash/3.7.6/Ash.Context.html"><code class="inline">Ash.Context</code></a> for more.</li><li><code class="inline">:run_queries?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to run queries. If set to <code class="inline">true</code>, <code class="inline">:maybe</code> will not be returned. The default value is <code class="inline">true</code>.</li><li><code class="inline">:data</code> - The record or records specifically attempting to be acted upon.</li><li><code class="inline">:tenant</code> (value that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.ToTenant.html"><code class="inline">Ash.ToTenant</code></a> protocol) - The tenant to use for authorization</li><li><code class="inline">:alter_source?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If set to <code class="inline">true</code>, the source being authorized is returned so it can be run. The default value is <code class="inline">false</code>.</li><li><code class="inline">:base_query</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A base query on which to apply an generated filters</li><li><code class="inline">:no_check?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not authorization must pass at the strict/filter step, or if post-checks are allowed to be run The default value is <code class="inline">false</code>.</li><li><code class="inline">:on_must_pass_strict_check</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - Override the value returned when <code class="inline">no_check?</code> is <code class="inline">true</code> but a check must be run.</li><li><code class="inline">:atomic_changeset</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A base query on which to apply an generated filters</li><li><code class="inline">:return_forbidden_error?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to return a forbidden error in cases of not being authorized. The default value is <code class="inline">false</code>.</li><li><code class="inline">:log?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to log the authorization result. The default value is <code class="inline">false</code>.</li></ul>
  </section>
</section>
<section class="detail" id="can_list_offences_by_case/4">

    <span id="can_list_offences_by_case/2"></span>

    <span id="can_list_offences_by_case/3"></span>

  <div class="detail-header">
    <a href="#can_list_offences_by_case/4" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">can_list_offences_by_case(actor, case_id, params_or_opts \\ %{}, opts \\ [])</h1>


    </div>
  </div>

  <section class="docstring">

<p>Runs authorization checks for <code class="inline">EhsEnforcement.Enforcement.Offence.by_case</code>
See <a href="https://hexdocs.pm/ash/3.7.6/Ash.html#can/3"><code class="inline">Ash.can/3</code></a> for more information</p><h2 id="can_list_offences_by_case/4-options" class="section-heading"><a href="#can_list_offences_by_case/4-options" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Options</span></h2><ul><li><code class="inline">:maybe_is</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - If the actor <em>may</em> be able to perform the action, what value should be returned. The default value is <code class="inline">:maybe</code>.</li><li><code class="inline">:filter_with</code> - If set to <code class="inline">:error</code>, the query will raise an error on a match. If set to <code class="inline">:filter</code> the query will filter out unauthorized access. Valid values are :filter, :error The default value is <code class="inline">:filter</code>.</li><li><code class="inline">:validate?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to treat an invalid action as a non-allowed action. The default value is <code class="inline">false</code>.</li><li><code class="inline">:reuse_values?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not loaded data like aggregates, calculations and relationships should be checked in memory if possible, instead of querying. No effect if <code class="inline">pre_flight?</code> is <code class="inline">false</code>. The default value is <code class="inline">false</code>.</li><li><code class="inline">:pre_flight?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not this is a pre_flight check (which may perform optimized in-memory checks) or the final proper check. The default value is <code class="inline">true</code>.</li><li><code class="inline">:scope</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A value that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> protocol. Will overwrite any actor, tenant or context provided. See <a href="https://hexdocs.pm/ash/3.7.6/Ash.Context.html"><code class="inline">Ash.Context</code></a> for more.</li><li><code class="inline">:run_queries?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to run queries. If set to <code class="inline">true</code>, <code class="inline">:maybe</code> will not be returned. The default value is <code class="inline">true</code>.</li><li><code class="inline">:data</code> - The record or records specifically attempting to be acted upon.</li><li><code class="inline">:tenant</code> (value that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.ToTenant.html"><code class="inline">Ash.ToTenant</code></a> protocol) - The tenant to use for authorization</li><li><code class="inline">:alter_source?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If set to <code class="inline">true</code>, the source being authorized is returned so it can be run. The default value is <code class="inline">false</code>.</li><li><code class="inline">:base_query</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A base query on which to apply an generated filters</li><li><code class="inline">:no_check?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not authorization must pass at the strict/filter step, or if post-checks are allowed to be run The default value is <code class="inline">false</code>.</li><li><code class="inline">:on_must_pass_strict_check</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - Override the value returned when <code class="inline">no_check?</code> is <code class="inline">true</code> but a check must be run.</li><li><code class="inline">:atomic_changeset</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A base query on which to apply an generated filters</li><li><code class="inline">:return_forbidden_error?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to return a forbidden error in cases of not being authorized. The default value is <code class="inline">false</code>.</li><li><code class="inline">:log?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to log the authorization result. The default value is <code class="inline">false</code>.</li></ul>
  </section>
</section>
<section class="detail" id="can_list_offences_by_case?/4">

    <span id="can_list_offences_by_case?/2"></span>

    <span id="can_list_offences_by_case?/3"></span>

  <div class="detail-header">
    <a href="#can_list_offences_by_case?/4" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">can_list_offences_by_case?(actor, case_id, params_or_opts \\ %{}, opts \\ [])</h1>


    </div>
  </div>

  <section class="docstring">

<p>Runs authorization checks for <code class="inline">EhsEnforcement.Enforcement.Offence.by_case</code>, returning a boolean.
See <a href="https://hexdocs.pm/ash/3.7.6/Ash.html#can?/3"><code class="inline">Ash.can?/3</code></a> for more information</p><h2 id="can_list_offences_by_case?/4-options" class="section-heading"><a href="#can_list_offences_by_case?/4-options" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Options</span></h2><ul><li><code class="inline">:maybe_is</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - If the actor <em>may</em> be able to perform the action, what value should be returned. The default value is <code class="inline">true</code>.</li><li><code class="inline">:filter_with</code> - If set to <code class="inline">:error</code>, the query will raise an error on a match. If set to <code class="inline">:filter</code> the query will filter out unauthorized access. Valid values are :filter, :error The default value is <code class="inline">:filter</code>.</li><li><code class="inline">:validate?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to treat an invalid action as a non-allowed action. The default value is <code class="inline">false</code>.</li><li><code class="inline">:reuse_values?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not loaded data like aggregates, calculations and relationships should be checked in memory if possible, instead of querying. No effect if <code class="inline">pre_flight?</code> is <code class="inline">false</code>. The default value is <code class="inline">false</code>.</li><li><code class="inline">:pre_flight?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not this is a pre_flight check (which may perform optimized in-memory checks) or the final proper check. The default value is <code class="inline">true</code>.</li><li><code class="inline">:scope</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A value that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> protocol. Will overwrite any actor, tenant or context provided. See <a href="https://hexdocs.pm/ash/3.7.6/Ash.Context.html"><code class="inline">Ash.Context</code></a> for more.</li><li><code class="inline">:run_queries?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to run queries. If set to <code class="inline">true</code>, <code class="inline">:maybe</code> will not be returned. The default value is <code class="inline">true</code>.</li><li><code class="inline">:data</code> - The record or records specifically attempting to be acted upon.</li><li><code class="inline">:tenant</code> (value that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.ToTenant.html"><code class="inline">Ash.ToTenant</code></a> protocol) - The tenant to use for authorization</li><li><code class="inline">:alter_source?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If set to <code class="inline">true</code>, the source being authorized is returned so it can be run. The default value is <code class="inline">false</code>.</li><li><code class="inline">:base_query</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A base query on which to apply an generated filters</li><li><code class="inline">:no_check?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not authorization must pass at the strict/filter step, or if post-checks are allowed to be run The default value is <code class="inline">false</code>.</li><li><code class="inline">:on_must_pass_strict_check</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - Override the value returned when <code class="inline">no_check?</code> is <code class="inline">true</code> but a check must be run.</li><li><code class="inline">:atomic_changeset</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A base query on which to apply an generated filters</li><li><code class="inline">:return_forbidden_error?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to return a forbidden error in cases of not being authorized. The default value is <code class="inline">false</code>.</li><li><code class="inline">:log?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to log the authorization result. The default value is <code class="inline">false</code>.</li></ul>
  </section>
</section>
<section class="detail" id="can_list_offences_by_legislation/4">

    <span id="can_list_offences_by_legislation/2"></span>

    <span id="can_list_offences_by_legislation/3"></span>

  <div class="detail-header">
    <a href="#can_list_offences_by_legislation/4" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">can_list_offences_by_legislation(actor, legislation_id, params_or_opts \\ %{}, opts \\ [])</h1>


    </div>
  </div>

  <section class="docstring">

<p>Runs authorization checks for <code class="inline">EhsEnforcement.Enforcement.Offence.by_legislation</code>
See <a href="https://hexdocs.pm/ash/3.7.6/Ash.html#can/3"><code class="inline">Ash.can/3</code></a> for more information</p><h2 id="can_list_offences_by_legislation/4-options" class="section-heading"><a href="#can_list_offences_by_legislation/4-options" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Options</span></h2><ul><li><code class="inline">:maybe_is</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - If the actor <em>may</em> be able to perform the action, what value should be returned. The default value is <code class="inline">:maybe</code>.</li><li><code class="inline">:filter_with</code> - If set to <code class="inline">:error</code>, the query will raise an error on a match. If set to <code class="inline">:filter</code> the query will filter out unauthorized access. Valid values are :filter, :error The default value is <code class="inline">:filter</code>.</li><li><code class="inline">:validate?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to treat an invalid action as a non-allowed action. The default value is <code class="inline">false</code>.</li><li><code class="inline">:reuse_values?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not loaded data like aggregates, calculations and relationships should be checked in memory if possible, instead of querying. No effect if <code class="inline">pre_flight?</code> is <code class="inline">false</code>. The default value is <code class="inline">false</code>.</li><li><code class="inline">:pre_flight?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not this is a pre_flight check (which may perform optimized in-memory checks) or the final proper check. The default value is <code class="inline">true</code>.</li><li><code class="inline">:scope</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A value that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> protocol. Will overwrite any actor, tenant or context provided. See <a href="https://hexdocs.pm/ash/3.7.6/Ash.Context.html"><code class="inline">Ash.Context</code></a> for more.</li><li><code class="inline">:run_queries?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to run queries. If set to <code class="inline">true</code>, <code class="inline">:maybe</code> will not be returned. The default value is <code class="inline">true</code>.</li><li><code class="inline">:data</code> - The record or records specifically attempting to be acted upon.</li><li><code class="inline">:tenant</code> (value that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.ToTenant.html"><code class="inline">Ash.ToTenant</code></a> protocol) - The tenant to use for authorization</li><li><code class="inline">:alter_source?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If set to <code class="inline">true</code>, the source being authorized is returned so it can be run. The default value is <code class="inline">false</code>.</li><li><code class="inline">:base_query</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A base query on which to apply an generated filters</li><li><code class="inline">:no_check?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not authorization must pass at the strict/filter step, or if post-checks are allowed to be run The default value is <code class="inline">false</code>.</li><li><code class="inline">:on_must_pass_strict_check</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - Override the value returned when <code class="inline">no_check?</code> is <code class="inline">true</code> but a check must be run.</li><li><code class="inline">:atomic_changeset</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A base query on which to apply an generated filters</li><li><code class="inline">:return_forbidden_error?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to return a forbidden error in cases of not being authorized. The default value is <code class="inline">false</code>.</li><li><code class="inline">:log?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to log the authorization result. The default value is <code class="inline">false</code>.</li></ul>
  </section>
</section>
<section class="detail" id="can_list_offences_by_legislation?/4">

    <span id="can_list_offences_by_legislation?/2"></span>

    <span id="can_list_offences_by_legislation?/3"></span>

  <div class="detail-header">
    <a href="#can_list_offences_by_legislation?/4" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">can_list_offences_by_legislation?(actor, legislation_id, params_or_opts \\ %{}, opts \\ [])</h1>


    </div>
  </div>

  <section class="docstring">

<p>Runs authorization checks for <code class="inline">EhsEnforcement.Enforcement.Offence.by_legislation</code>, returning a boolean.
See <a href="https://hexdocs.pm/ash/3.7.6/Ash.html#can?/3"><code class="inline">Ash.can?/3</code></a> for more information</p><h2 id="can_list_offences_by_legislation?/4-options" class="section-heading"><a href="#can_list_offences_by_legislation?/4-options" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Options</span></h2><ul><li><code class="inline">:maybe_is</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - If the actor <em>may</em> be able to perform the action, what value should be returned. The default value is <code class="inline">true</code>.</li><li><code class="inline">:filter_with</code> - If set to <code class="inline">:error</code>, the query will raise an error on a match. If set to <code class="inline">:filter</code> the query will filter out unauthorized access. Valid values are :filter, :error The default value is <code class="inline">:filter</code>.</li><li><code class="inline">:validate?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to treat an invalid action as a non-allowed action. The default value is <code class="inline">false</code>.</li><li><code class="inline">:reuse_values?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not loaded data like aggregates, calculations and relationships should be checked in memory if possible, instead of querying. No effect if <code class="inline">pre_flight?</code> is <code class="inline">false</code>. The default value is <code class="inline">false</code>.</li><li><code class="inline">:pre_flight?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not this is a pre_flight check (which may perform optimized in-memory checks) or the final proper check. The default value is <code class="inline">true</code>.</li><li><code class="inline">:scope</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A value that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> protocol. Will overwrite any actor, tenant or context provided. See <a href="https://hexdocs.pm/ash/3.7.6/Ash.Context.html"><code class="inline">Ash.Context</code></a> for more.</li><li><code class="inline">:run_queries?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to run queries. If set to <code class="inline">true</code>, <code class="inline">:maybe</code> will not be returned. The default value is <code class="inline">true</code>.</li><li><code class="inline">:data</code> - The record or records specifically attempting to be acted upon.</li><li><code class="inline">:tenant</code> (value that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.ToTenant.html"><code class="inline">Ash.ToTenant</code></a> protocol) - The tenant to use for authorization</li><li><code class="inline">:alter_source?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If set to <code class="inline">true</code>, the source being authorized is returned so it can be run. The default value is <code class="inline">false</code>.</li><li><code class="inline">:base_query</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A base query on which to apply an generated filters</li><li><code class="inline">:no_check?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not authorization must pass at the strict/filter step, or if post-checks are allowed to be run The default value is <code class="inline">false</code>.</li><li><code class="inline">:on_must_pass_strict_check</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - Override the value returned when <code class="inline">no_check?</code> is <code class="inline">true</code> but a check must be run.</li><li><code class="inline">:atomic_changeset</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A base query on which to apply an generated filters</li><li><code class="inline">:return_forbidden_error?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to return a forbidden error in cases of not being authorized. The default value is <code class="inline">false</code>.</li><li><code class="inline">:log?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to log the authorization result. The default value is <code class="inline">false</code>.</li></ul>
  </section>
</section>
<section class="detail" id="can_list_offences_by_notice/4">

    <span id="can_list_offences_by_notice/2"></span>

    <span id="can_list_offences_by_notice/3"></span>

  <div class="detail-header">
    <a href="#can_list_offences_by_notice/4" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">can_list_offences_by_notice(actor, notice_id, params_or_opts \\ %{}, opts \\ [])</h1>


    </div>
  </div>

  <section class="docstring">

<p>Runs authorization checks for <code class="inline">EhsEnforcement.Enforcement.Offence.by_notice</code>
See <a href="https://hexdocs.pm/ash/3.7.6/Ash.html#can/3"><code class="inline">Ash.can/3</code></a> for more information</p><h2 id="can_list_offences_by_notice/4-options" class="section-heading"><a href="#can_list_offences_by_notice/4-options" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Options</span></h2><ul><li><code class="inline">:maybe_is</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - If the actor <em>may</em> be able to perform the action, what value should be returned. The default value is <code class="inline">:maybe</code>.</li><li><code class="inline">:filter_with</code> - If set to <code class="inline">:error</code>, the query will raise an error on a match. If set to <code class="inline">:filter</code> the query will filter out unauthorized access. Valid values are :filter, :error The default value is <code class="inline">:filter</code>.</li><li><code class="inline">:validate?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to treat an invalid action as a non-allowed action. The default value is <code class="inline">false</code>.</li><li><code class="inline">:reuse_values?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not loaded data like aggregates, calculations and relationships should be checked in memory if possible, instead of querying. No effect if <code class="inline">pre_flight?</code> is <code class="inline">false</code>. The default value is <code class="inline">false</code>.</li><li><code class="inline">:pre_flight?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not this is a pre_flight check (which may perform optimized in-memory checks) or the final proper check. The default value is <code class="inline">true</code>.</li><li><code class="inline">:scope</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A value that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> protocol. Will overwrite any actor, tenant or context provided. See <a href="https://hexdocs.pm/ash/3.7.6/Ash.Context.html"><code class="inline">Ash.Context</code></a> for more.</li><li><code class="inline">:run_queries?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to run queries. If set to <code class="inline">true</code>, <code class="inline">:maybe</code> will not be returned. The default value is <code class="inline">true</code>.</li><li><code class="inline">:data</code> - The record or records specifically attempting to be acted upon.</li><li><code class="inline">:tenant</code> (value that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.ToTenant.html"><code class="inline">Ash.ToTenant</code></a> protocol) - The tenant to use for authorization</li><li><code class="inline">:alter_source?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If set to <code class="inline">true</code>, the source being authorized is returned so it can be run. The default value is <code class="inline">false</code>.</li><li><code class="inline">:base_query</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A base query on which to apply an generated filters</li><li><code class="inline">:no_check?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not authorization must pass at the strict/filter step, or if post-checks are allowed to be run The default value is <code class="inline">false</code>.</li><li><code class="inline">:on_must_pass_strict_check</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - Override the value returned when <code class="inline">no_check?</code> is <code class="inline">true</code> but a check must be run.</li><li><code class="inline">:atomic_changeset</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A base query on which to apply an generated filters</li><li><code class="inline">:return_forbidden_error?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to return a forbidden error in cases of not being authorized. The default value is <code class="inline">false</code>.</li><li><code class="inline">:log?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to log the authorization result. The default value is <code class="inline">false</code>.</li></ul>
  </section>
</section>
<section class="detail" id="can_list_offences_by_notice?/4">

    <span id="can_list_offences_by_notice?/2"></span>

    <span id="can_list_offences_by_notice?/3"></span>

  <div class="detail-header">
    <a href="#can_list_offences_by_notice?/4" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">can_list_offences_by_notice?(actor, notice_id, params_or_opts \\ %{}, opts \\ [])</h1>


    </div>
  </div>

  <section class="docstring">

<p>Runs authorization checks for <code class="inline">EhsEnforcement.Enforcement.Offence.by_notice</code>, returning a boolean.
See <a href="https://hexdocs.pm/ash/3.7.6/Ash.html#can?/3"><code class="inline">Ash.can?/3</code></a> for more information</p><h2 id="can_list_offences_by_notice?/4-options" class="section-heading"><a href="#can_list_offences_by_notice?/4-options" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Options</span></h2><ul><li><code class="inline">:maybe_is</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - If the actor <em>may</em> be able to perform the action, what value should be returned. The default value is <code class="inline">true</code>.</li><li><code class="inline">:filter_with</code> - If set to <code class="inline">:error</code>, the query will raise an error on a match. If set to <code class="inline">:filter</code> the query will filter out unauthorized access. Valid values are :filter, :error The default value is <code class="inline">:filter</code>.</li><li><code class="inline">:validate?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to treat an invalid action as a non-allowed action. The default value is <code class="inline">false</code>.</li><li><code class="inline">:reuse_values?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not loaded data like aggregates, calculations and relationships should be checked in memory if possible, instead of querying. No effect if <code class="inline">pre_flight?</code> is <code class="inline">false</code>. The default value is <code class="inline">false</code>.</li><li><code class="inline">:pre_flight?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not this is a pre_flight check (which may perform optimized in-memory checks) or the final proper check. The default value is <code class="inline">true</code>.</li><li><code class="inline">:scope</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A value that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> protocol. Will overwrite any actor, tenant or context provided. See <a href="https://hexdocs.pm/ash/3.7.6/Ash.Context.html"><code class="inline">Ash.Context</code></a> for more.</li><li><code class="inline">:run_queries?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to run queries. If set to <code class="inline">true</code>, <code class="inline">:maybe</code> will not be returned. The default value is <code class="inline">true</code>.</li><li><code class="inline">:data</code> - The record or records specifically attempting to be acted upon.</li><li><code class="inline">:tenant</code> (value that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.ToTenant.html"><code class="inline">Ash.ToTenant</code></a> protocol) - The tenant to use for authorization</li><li><code class="inline">:alter_source?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If set to <code class="inline">true</code>, the source being authorized is returned so it can be run. The default value is <code class="inline">false</code>.</li><li><code class="inline">:base_query</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A base query on which to apply an generated filters</li><li><code class="inline">:no_check?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not authorization must pass at the strict/filter step, or if post-checks are allowed to be run The default value is <code class="inline">false</code>.</li><li><code class="inline">:on_must_pass_strict_check</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - Override the value returned when <code class="inline">no_check?</code> is <code class="inline">true</code> but a check must be run.</li><li><code class="inline">:atomic_changeset</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A base query on which to apply an generated filters</li><li><code class="inline">:return_forbidden_error?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to return a forbidden error in cases of not being authorized. The default value is <code class="inline">false</code>.</li><li><code class="inline">:log?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to log the authorization result. The default value is <code class="inline">false</code>.</li></ul>
  </section>
</section>
<section class="detail" id="can_list_offences_with_fines/3">

    <span id="can_list_offences_with_fines/1"></span>

    <span id="can_list_offences_with_fines/2"></span>

  <div class="detail-header">
    <a href="#can_list_offences_with_fines/3" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">can_list_offences_with_fines(actor, params_or_opts \\ %{}, opts \\ [])</h1>


    </div>
  </div>

  <section class="docstring">

<p>Runs authorization checks for <code class="inline">EhsEnforcement.Enforcement.Offence.with_fines</code>
See <a href="https://hexdocs.pm/ash/3.7.6/Ash.html#can/3"><code class="inline">Ash.can/3</code></a> for more information</p><h2 id="can_list_offences_with_fines/3-options" class="section-heading"><a href="#can_list_offences_with_fines/3-options" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Options</span></h2><ul><li><code class="inline">:maybe_is</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - If the actor <em>may</em> be able to perform the action, what value should be returned. The default value is <code class="inline">:maybe</code>.</li><li><code class="inline">:filter_with</code> - If set to <code class="inline">:error</code>, the query will raise an error on a match. If set to <code class="inline">:filter</code> the query will filter out unauthorized access. Valid values are :filter, :error The default value is <code class="inline">:filter</code>.</li><li><code class="inline">:validate?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to treat an invalid action as a non-allowed action. The default value is <code class="inline">false</code>.</li><li><code class="inline">:reuse_values?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not loaded data like aggregates, calculations and relationships should be checked in memory if possible, instead of querying. No effect if <code class="inline">pre_flight?</code> is <code class="inline">false</code>. The default value is <code class="inline">false</code>.</li><li><code class="inline">:pre_flight?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not this is a pre_flight check (which may perform optimized in-memory checks) or the final proper check. The default value is <code class="inline">true</code>.</li><li><code class="inline">:scope</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A value that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> protocol. Will overwrite any actor, tenant or context provided. See <a href="https://hexdocs.pm/ash/3.7.6/Ash.Context.html"><code class="inline">Ash.Context</code></a> for more.</li><li><code class="inline">:run_queries?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to run queries. If set to <code class="inline">true</code>, <code class="inline">:maybe</code> will not be returned. The default value is <code class="inline">true</code>.</li><li><code class="inline">:data</code> - The record or records specifically attempting to be acted upon.</li><li><code class="inline">:tenant</code> (value that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.ToTenant.html"><code class="inline">Ash.ToTenant</code></a> protocol) - The tenant to use for authorization</li><li><code class="inline">:alter_source?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If set to <code class="inline">true</code>, the source being authorized is returned so it can be run. The default value is <code class="inline">false</code>.</li><li><code class="inline">:base_query</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A base query on which to apply an generated filters</li><li><code class="inline">:no_check?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not authorization must pass at the strict/filter step, or if post-checks are allowed to be run The default value is <code class="inline">false</code>.</li><li><code class="inline">:on_must_pass_strict_check</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - Override the value returned when <code class="inline">no_check?</code> is <code class="inline">true</code> but a check must be run.</li><li><code class="inline">:atomic_changeset</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A base query on which to apply an generated filters</li><li><code class="inline">:return_forbidden_error?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to return a forbidden error in cases of not being authorized. The default value is <code class="inline">false</code>.</li><li><code class="inline">:log?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to log the authorization result. The default value is <code class="inline">false</code>.</li></ul>
  </section>
</section>
<section class="detail" id="can_list_offences_with_fines?/3">

    <span id="can_list_offences_with_fines?/1"></span>

    <span id="can_list_offences_with_fines?/2"></span>

  <div class="detail-header">
    <a href="#can_list_offences_with_fines?/3" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">can_list_offences_with_fines?(actor, params_or_opts \\ %{}, opts \\ [])</h1>


    </div>
  </div>

  <section class="docstring">

<p>Runs authorization checks for <code class="inline">EhsEnforcement.Enforcement.Offence.with_fines</code>, returning a boolean.
See <a href="https://hexdocs.pm/ash/3.7.6/Ash.html#can?/3"><code class="inline">Ash.can?/3</code></a> for more information</p><h2 id="can_list_offences_with_fines?/3-options" class="section-heading"><a href="#can_list_offences_with_fines?/3-options" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Options</span></h2><ul><li><code class="inline">:maybe_is</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - If the actor <em>may</em> be able to perform the action, what value should be returned. The default value is <code class="inline">true</code>.</li><li><code class="inline">:filter_with</code> - If set to <code class="inline">:error</code>, the query will raise an error on a match. If set to <code class="inline">:filter</code> the query will filter out unauthorized access. Valid values are :filter, :error The default value is <code class="inline">:filter</code>.</li><li><code class="inline">:validate?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to treat an invalid action as a non-allowed action. The default value is <code class="inline">false</code>.</li><li><code class="inline">:reuse_values?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not loaded data like aggregates, calculations and relationships should be checked in memory if possible, instead of querying. No effect if <code class="inline">pre_flight?</code> is <code class="inline">false</code>. The default value is <code class="inline">false</code>.</li><li><code class="inline">:pre_flight?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not this is a pre_flight check (which may perform optimized in-memory checks) or the final proper check. The default value is <code class="inline">true</code>.</li><li><code class="inline">:scope</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A value that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> protocol. Will overwrite any actor, tenant or context provided. See <a href="https://hexdocs.pm/ash/3.7.6/Ash.Context.html"><code class="inline">Ash.Context</code></a> for more.</li><li><code class="inline">:run_queries?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to run queries. If set to <code class="inline">true</code>, <code class="inline">:maybe</code> will not be returned. The default value is <code class="inline">true</code>.</li><li><code class="inline">:data</code> - The record or records specifically attempting to be acted upon.</li><li><code class="inline">:tenant</code> (value that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.ToTenant.html"><code class="inline">Ash.ToTenant</code></a> protocol) - The tenant to use for authorization</li><li><code class="inline">:alter_source?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If set to <code class="inline">true</code>, the source being authorized is returned so it can be run. The default value is <code class="inline">false</code>.</li><li><code class="inline">:base_query</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A base query on which to apply an generated filters</li><li><code class="inline">:no_check?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not authorization must pass at the strict/filter step, or if post-checks are allowed to be run The default value is <code class="inline">false</code>.</li><li><code class="inline">:on_must_pass_strict_check</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - Override the value returned when <code class="inline">no_check?</code> is <code class="inline">true</code> but a check must be run.</li><li><code class="inline">:atomic_changeset</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A base query on which to apply an generated filters</li><li><code class="inline">:return_forbidden_error?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to return a forbidden error in cases of not being authorized. The default value is <code class="inline">false</code>.</li><li><code class="inline">:log?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to log the authorization result. The default value is <code class="inline">false</code>.</li></ul>
  </section>
</section>
<section class="detail" id="can_list_offenders/3">

    <span id="can_list_offenders/1"></span>

    <span id="can_list_offenders/2"></span>

  <div class="detail-header">
    <a href="#can_list_offenders/3" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">can_list_offenders(actor, params_or_opts \\ %{}, opts \\ [])</h1>


    </div>
  </div>

  <section class="docstring">

<p>Runs authorization checks for <code class="inline">EhsEnforcement.Enforcement.Offender.read</code>
See <a href="https://hexdocs.pm/ash/3.7.6/Ash.html#can/3"><code class="inline">Ash.can/3</code></a> for more information</p><h2 id="can_list_offenders/3-options" class="section-heading"><a href="#can_list_offenders/3-options" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Options</span></h2><ul><li><code class="inline">:maybe_is</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - If the actor <em>may</em> be able to perform the action, what value should be returned. The default value is <code class="inline">:maybe</code>.</li><li><code class="inline">:filter_with</code> - If set to <code class="inline">:error</code>, the query will raise an error on a match. If set to <code class="inline">:filter</code> the query will filter out unauthorized access. Valid values are :filter, :error The default value is <code class="inline">:filter</code>.</li><li><code class="inline">:validate?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to treat an invalid action as a non-allowed action. The default value is <code class="inline">false</code>.</li><li><code class="inline">:reuse_values?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not loaded data like aggregates, calculations and relationships should be checked in memory if possible, instead of querying. No effect if <code class="inline">pre_flight?</code> is <code class="inline">false</code>. The default value is <code class="inline">false</code>.</li><li><code class="inline">:pre_flight?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not this is a pre_flight check (which may perform optimized in-memory checks) or the final proper check. The default value is <code class="inline">true</code>.</li><li><code class="inline">:scope</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A value that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> protocol. Will overwrite any actor, tenant or context provided. See <a href="https://hexdocs.pm/ash/3.7.6/Ash.Context.html"><code class="inline">Ash.Context</code></a> for more.</li><li><code class="inline">:run_queries?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to run queries. If set to <code class="inline">true</code>, <code class="inline">:maybe</code> will not be returned. The default value is <code class="inline">true</code>.</li><li><code class="inline">:data</code> - The record or records specifically attempting to be acted upon.</li><li><code class="inline">:tenant</code> (value that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.ToTenant.html"><code class="inline">Ash.ToTenant</code></a> protocol) - The tenant to use for authorization</li><li><code class="inline">:alter_source?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If set to <code class="inline">true</code>, the source being authorized is returned so it can be run. The default value is <code class="inline">false</code>.</li><li><code class="inline">:base_query</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A base query on which to apply an generated filters</li><li><code class="inline">:no_check?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not authorization must pass at the strict/filter step, or if post-checks are allowed to be run The default value is <code class="inline">false</code>.</li><li><code class="inline">:on_must_pass_strict_check</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - Override the value returned when <code class="inline">no_check?</code> is <code class="inline">true</code> but a check must be run.</li><li><code class="inline">:atomic_changeset</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A base query on which to apply an generated filters</li><li><code class="inline">:return_forbidden_error?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to return a forbidden error in cases of not being authorized. The default value is <code class="inline">false</code>.</li><li><code class="inline">:log?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to log the authorization result. The default value is <code class="inline">false</code>.</li></ul>
  </section>
</section>
<section class="detail" id="can_list_offenders?/3">

    <span id="can_list_offenders?/1"></span>

    <span id="can_list_offenders?/2"></span>

  <div class="detail-header">
    <a href="#can_list_offenders?/3" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">can_list_offenders?(actor, params_or_opts \\ %{}, opts \\ [])</h1>


    </div>
  </div>

  <section class="docstring">

<p>Runs authorization checks for <code class="inline">EhsEnforcement.Enforcement.Offender.read</code>, returning a boolean.
See <a href="https://hexdocs.pm/ash/3.7.6/Ash.html#can?/3"><code class="inline">Ash.can?/3</code></a> for more information</p><h2 id="can_list_offenders?/3-options" class="section-heading"><a href="#can_list_offenders?/3-options" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Options</span></h2><ul><li><code class="inline">:maybe_is</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - If the actor <em>may</em> be able to perform the action, what value should be returned. The default value is <code class="inline">true</code>.</li><li><code class="inline">:filter_with</code> - If set to <code class="inline">:error</code>, the query will raise an error on a match. If set to <code class="inline">:filter</code> the query will filter out unauthorized access. Valid values are :filter, :error The default value is <code class="inline">:filter</code>.</li><li><code class="inline">:validate?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to treat an invalid action as a non-allowed action. The default value is <code class="inline">false</code>.</li><li><code class="inline">:reuse_values?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not loaded data like aggregates, calculations and relationships should be checked in memory if possible, instead of querying. No effect if <code class="inline">pre_flight?</code> is <code class="inline">false</code>. The default value is <code class="inline">false</code>.</li><li><code class="inline">:pre_flight?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not this is a pre_flight check (which may perform optimized in-memory checks) or the final proper check. The default value is <code class="inline">true</code>.</li><li><code class="inline">:scope</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A value that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> protocol. Will overwrite any actor, tenant or context provided. See <a href="https://hexdocs.pm/ash/3.7.6/Ash.Context.html"><code class="inline">Ash.Context</code></a> for more.</li><li><code class="inline">:run_queries?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to run queries. If set to <code class="inline">true</code>, <code class="inline">:maybe</code> will not be returned. The default value is <code class="inline">true</code>.</li><li><code class="inline">:data</code> - The record or records specifically attempting to be acted upon.</li><li><code class="inline">:tenant</code> (value that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.ToTenant.html"><code class="inline">Ash.ToTenant</code></a> protocol) - The tenant to use for authorization</li><li><code class="inline">:alter_source?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If set to <code class="inline">true</code>, the source being authorized is returned so it can be run. The default value is <code class="inline">false</code>.</li><li><code class="inline">:base_query</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A base query on which to apply an generated filters</li><li><code class="inline">:no_check?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not authorization must pass at the strict/filter step, or if post-checks are allowed to be run The default value is <code class="inline">false</code>.</li><li><code class="inline">:on_must_pass_strict_check</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - Override the value returned when <code class="inline">no_check?</code> is <code class="inline">true</code> but a check must be run.</li><li><code class="inline">:atomic_changeset</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A base query on which to apply an generated filters</li><li><code class="inline">:return_forbidden_error?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to return a forbidden error in cases of not being authorized. The default value is <code class="inline">false</code>.</li><li><code class="inline">:log?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to log the authorization result. The default value is <code class="inline">false</code>.</li></ul>
  </section>
</section>
<section class="detail" id="can_refresh_metrics/3">

    <span id="can_refresh_metrics/1"></span>

    <span id="can_refresh_metrics/2"></span>

  <div class="detail-header">
    <a href="#can_refresh_metrics/3" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">can_refresh_metrics(actor, params_or_opts \\ %{}, opts \\ [])</h1>


    </div>
  </div>

  <section class="docstring">

<p>Runs authorization checks for <code class="inline">EhsEnforcement.Enforcement.Metrics.refresh</code>
See <a href="https://hexdocs.pm/ash/3.7.6/Ash.html#can/3"><code class="inline">Ash.can/3</code></a> for more information</p><h2 id="can_refresh_metrics/3-options" class="section-heading"><a href="#can_refresh_metrics/3-options" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Options</span></h2><ul><li><code class="inline">:maybe_is</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - If the actor <em>may</em> be able to perform the action, what value should be returned. The default value is <code class="inline">:maybe</code>.</li><li><code class="inline">:filter_with</code> - If set to <code class="inline">:error</code>, the query will raise an error on a match. If set to <code class="inline">:filter</code> the query will filter out unauthorized access. Valid values are :filter, :error The default value is <code class="inline">:filter</code>.</li><li><code class="inline">:validate?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to treat an invalid action as a non-allowed action. The default value is <code class="inline">false</code>.</li><li><code class="inline">:reuse_values?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not loaded data like aggregates, calculations and relationships should be checked in memory if possible, instead of querying. No effect if <code class="inline">pre_flight?</code> is <code class="inline">false</code>. The default value is <code class="inline">false</code>.</li><li><code class="inline">:pre_flight?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not this is a pre_flight check (which may perform optimized in-memory checks) or the final proper check. The default value is <code class="inline">true</code>.</li><li><code class="inline">:scope</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A value that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> protocol. Will overwrite any actor, tenant or context provided. See <a href="https://hexdocs.pm/ash/3.7.6/Ash.Context.html"><code class="inline">Ash.Context</code></a> for more.</li><li><code class="inline">:run_queries?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to run queries. If set to <code class="inline">true</code>, <code class="inline">:maybe</code> will not be returned. The default value is <code class="inline">true</code>.</li><li><code class="inline">:data</code> - The record or records specifically attempting to be acted upon.</li><li><code class="inline">:tenant</code> (value that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.ToTenant.html"><code class="inline">Ash.ToTenant</code></a> protocol) - The tenant to use for authorization</li><li><code class="inline">:alter_source?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If set to <code class="inline">true</code>, the source being authorized is returned so it can be run. The default value is <code class="inline">false</code>.</li><li><code class="inline">:base_query</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A base query on which to apply an generated filters</li><li><code class="inline">:no_check?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not authorization must pass at the strict/filter step, or if post-checks are allowed to be run The default value is <code class="inline">false</code>.</li><li><code class="inline">:on_must_pass_strict_check</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - Override the value returned when <code class="inline">no_check?</code> is <code class="inline">true</code> but a check must be run.</li><li><code class="inline">:atomic_changeset</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A base query on which to apply an generated filters</li><li><code class="inline">:return_forbidden_error?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to return a forbidden error in cases of not being authorized. The default value is <code class="inline">false</code>.</li><li><code class="inline">:log?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to log the authorization result. The default value is <code class="inline">false</code>.</li></ul>
  </section>
</section>
<section class="detail" id="can_refresh_metrics?/3">

    <span id="can_refresh_metrics?/1"></span>

    <span id="can_refresh_metrics?/2"></span>

  <div class="detail-header">
    <a href="#can_refresh_metrics?/3" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">can_refresh_metrics?(actor, params_or_opts \\ %{}, opts \\ [])</h1>


    </div>
  </div>

  <section class="docstring">

<p>Runs authorization checks for <code class="inline">EhsEnforcement.Enforcement.Metrics.refresh</code>, returning a boolean.
See <a href="https://hexdocs.pm/ash/3.7.6/Ash.html#can?/3"><code class="inline">Ash.can?/3</code></a> for more information</p><h2 id="can_refresh_metrics?/3-options" class="section-heading"><a href="#can_refresh_metrics?/3-options" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Options</span></h2><ul><li><code class="inline">:maybe_is</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - If the actor <em>may</em> be able to perform the action, what value should be returned. The default value is <code class="inline">true</code>.</li><li><code class="inline">:filter_with</code> - If set to <code class="inline">:error</code>, the query will raise an error on a match. If set to <code class="inline">:filter</code> the query will filter out unauthorized access. Valid values are :filter, :error The default value is <code class="inline">:filter</code>.</li><li><code class="inline">:validate?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to treat an invalid action as a non-allowed action. The default value is <code class="inline">false</code>.</li><li><code class="inline">:reuse_values?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not loaded data like aggregates, calculations and relationships should be checked in memory if possible, instead of querying. No effect if <code class="inline">pre_flight?</code> is <code class="inline">false</code>. The default value is <code class="inline">false</code>.</li><li><code class="inline">:pre_flight?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not this is a pre_flight check (which may perform optimized in-memory checks) or the final proper check. The default value is <code class="inline">true</code>.</li><li><code class="inline">:scope</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A value that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> protocol. Will overwrite any actor, tenant or context provided. See <a href="https://hexdocs.pm/ash/3.7.6/Ash.Context.html"><code class="inline">Ash.Context</code></a> for more.</li><li><code class="inline">:run_queries?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to run queries. If set to <code class="inline">true</code>, <code class="inline">:maybe</code> will not be returned. The default value is <code class="inline">true</code>.</li><li><code class="inline">:data</code> - The record or records specifically attempting to be acted upon.</li><li><code class="inline">:tenant</code> (value that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.ToTenant.html"><code class="inline">Ash.ToTenant</code></a> protocol) - The tenant to use for authorization</li><li><code class="inline">:alter_source?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If set to <code class="inline">true</code>, the source being authorized is returned so it can be run. The default value is <code class="inline">false</code>.</li><li><code class="inline">:base_query</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A base query on which to apply an generated filters</li><li><code class="inline">:no_check?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not authorization must pass at the strict/filter step, or if post-checks are allowed to be run The default value is <code class="inline">false</code>.</li><li><code class="inline">:on_must_pass_strict_check</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - Override the value returned when <code class="inline">no_check?</code> is <code class="inline">true</code> but a check must be run.</li><li><code class="inline">:atomic_changeset</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A base query on which to apply an generated filters</li><li><code class="inline">:return_forbidden_error?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to return a forbidden error in cases of not being authorized. The default value is <code class="inline">false</code>.</li><li><code class="inline">:log?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to log the authorization result. The default value is <code class="inline">false</code>.</li></ul>
  </section>
</section>
<section class="detail" id="can_search_legislation_title/4">

    <span id="can_search_legislation_title/2"></span>

    <span id="can_search_legislation_title/3"></span>

  <div class="detail-header">
    <a href="#can_search_legislation_title/4" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">can_search_legislation_title(actor, search_term, params_or_opts \\ %{}, opts \\ [])</h1>


    </div>
  </div>

  <section class="docstring">

<p>Runs authorization checks for <code class="inline">EhsEnforcement.Enforcement.Legislation.search_title</code>
See <a href="https://hexdocs.pm/ash/3.7.6/Ash.html#can/3"><code class="inline">Ash.can/3</code></a> for more information</p><h2 id="can_search_legislation_title/4-options" class="section-heading"><a href="#can_search_legislation_title/4-options" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Options</span></h2><ul><li><code class="inline">:maybe_is</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - If the actor <em>may</em> be able to perform the action, what value should be returned. The default value is <code class="inline">:maybe</code>.</li><li><code class="inline">:filter_with</code> - If set to <code class="inline">:error</code>, the query will raise an error on a match. If set to <code class="inline">:filter</code> the query will filter out unauthorized access. Valid values are :filter, :error The default value is <code class="inline">:filter</code>.</li><li><code class="inline">:validate?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to treat an invalid action as a non-allowed action. The default value is <code class="inline">false</code>.</li><li><code class="inline">:reuse_values?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not loaded data like aggregates, calculations and relationships should be checked in memory if possible, instead of querying. No effect if <code class="inline">pre_flight?</code> is <code class="inline">false</code>. The default value is <code class="inline">false</code>.</li><li><code class="inline">:pre_flight?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not this is a pre_flight check (which may perform optimized in-memory checks) or the final proper check. The default value is <code class="inline">true</code>.</li><li><code class="inline">:scope</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A value that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> protocol. Will overwrite any actor, tenant or context provided. See <a href="https://hexdocs.pm/ash/3.7.6/Ash.Context.html"><code class="inline">Ash.Context</code></a> for more.</li><li><code class="inline">:run_queries?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to run queries. If set to <code class="inline">true</code>, <code class="inline">:maybe</code> will not be returned. The default value is <code class="inline">true</code>.</li><li><code class="inline">:data</code> - The record or records specifically attempting to be acted upon.</li><li><code class="inline">:tenant</code> (value that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.ToTenant.html"><code class="inline">Ash.ToTenant</code></a> protocol) - The tenant to use for authorization</li><li><code class="inline">:alter_source?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If set to <code class="inline">true</code>, the source being authorized is returned so it can be run. The default value is <code class="inline">false</code>.</li><li><code class="inline">:base_query</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A base query on which to apply an generated filters</li><li><code class="inline">:no_check?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not authorization must pass at the strict/filter step, or if post-checks are allowed to be run The default value is <code class="inline">false</code>.</li><li><code class="inline">:on_must_pass_strict_check</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - Override the value returned when <code class="inline">no_check?</code> is <code class="inline">true</code> but a check must be run.</li><li><code class="inline">:atomic_changeset</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A base query on which to apply an generated filters</li><li><code class="inline">:return_forbidden_error?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to return a forbidden error in cases of not being authorized. The default value is <code class="inline">false</code>.</li><li><code class="inline">:log?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to log the authorization result. The default value is <code class="inline">false</code>.</li></ul>
  </section>
</section>
<section class="detail" id="can_search_legislation_title?/4">

    <span id="can_search_legislation_title?/2"></span>

    <span id="can_search_legislation_title?/3"></span>

  <div class="detail-header">
    <a href="#can_search_legislation_title?/4" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">can_search_legislation_title?(actor, search_term, params_or_opts \\ %{}, opts \\ [])</h1>


    </div>
  </div>

  <section class="docstring">

<p>Runs authorization checks for <code class="inline">EhsEnforcement.Enforcement.Legislation.search_title</code>, returning a boolean.
See <a href="https://hexdocs.pm/ash/3.7.6/Ash.html#can?/3"><code class="inline">Ash.can?/3</code></a> for more information</p><h2 id="can_search_legislation_title?/4-options" class="section-heading"><a href="#can_search_legislation_title?/4-options" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Options</span></h2><ul><li><code class="inline">:maybe_is</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - If the actor <em>may</em> be able to perform the action, what value should be returned. The default value is <code class="inline">true</code>.</li><li><code class="inline">:filter_with</code> - If set to <code class="inline">:error</code>, the query will raise an error on a match. If set to <code class="inline">:filter</code> the query will filter out unauthorized access. Valid values are :filter, :error The default value is <code class="inline">:filter</code>.</li><li><code class="inline">:validate?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to treat an invalid action as a non-allowed action. The default value is <code class="inline">false</code>.</li><li><code class="inline">:reuse_values?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not loaded data like aggregates, calculations and relationships should be checked in memory if possible, instead of querying. No effect if <code class="inline">pre_flight?</code> is <code class="inline">false</code>. The default value is <code class="inline">false</code>.</li><li><code class="inline">:pre_flight?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not this is a pre_flight check (which may perform optimized in-memory checks) or the final proper check. The default value is <code class="inline">true</code>.</li><li><code class="inline">:scope</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A value that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> protocol. Will overwrite any actor, tenant or context provided. See <a href="https://hexdocs.pm/ash/3.7.6/Ash.Context.html"><code class="inline">Ash.Context</code></a> for more.</li><li><code class="inline">:run_queries?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to run queries. If set to <code class="inline">true</code>, <code class="inline">:maybe</code> will not be returned. The default value is <code class="inline">true</code>.</li><li><code class="inline">:data</code> - The record or records specifically attempting to be acted upon.</li><li><code class="inline">:tenant</code> (value that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.ToTenant.html"><code class="inline">Ash.ToTenant</code></a> protocol) - The tenant to use for authorization</li><li><code class="inline">:alter_source?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If set to <code class="inline">true</code>, the source being authorized is returned so it can be run. The default value is <code class="inline">false</code>.</li><li><code class="inline">:base_query</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A base query on which to apply an generated filters</li><li><code class="inline">:no_check?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not authorization must pass at the strict/filter step, or if post-checks are allowed to be run The default value is <code class="inline">false</code>.</li><li><code class="inline">:on_must_pass_strict_check</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - Override the value returned when <code class="inline">no_check?</code> is <code class="inline">true</code> but a check must be run.</li><li><code class="inline">:atomic_changeset</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A base query on which to apply an generated filters</li><li><code class="inline">:return_forbidden_error?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to return a forbidden error in cases of not being authorized. The default value is <code class="inline">false</code>.</li><li><code class="inline">:log?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to log the authorization result. The default value is <code class="inline">false</code>.</li></ul>
  </section>
</section>
<section class="detail" id="can_search_offence_description/4">

    <span id="can_search_offence_description/2"></span>

    <span id="can_search_offence_description/3"></span>

  <div class="detail-header">
    <a href="#can_search_offence_description/4" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">can_search_offence_description(actor, search_term, params_or_opts \\ %{}, opts \\ [])</h1>


    </div>
  </div>

  <section class="docstring">

<p>Runs authorization checks for <code class="inline">EhsEnforcement.Enforcement.Offence.search_description</code>
See <a href="https://hexdocs.pm/ash/3.7.6/Ash.html#can/3"><code class="inline">Ash.can/3</code></a> for more information</p><h2 id="can_search_offence_description/4-options" class="section-heading"><a href="#can_search_offence_description/4-options" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Options</span></h2><ul><li><code class="inline">:maybe_is</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - If the actor <em>may</em> be able to perform the action, what value should be returned. The default value is <code class="inline">:maybe</code>.</li><li><code class="inline">:filter_with</code> - If set to <code class="inline">:error</code>, the query will raise an error on a match. If set to <code class="inline">:filter</code> the query will filter out unauthorized access. Valid values are :filter, :error The default value is <code class="inline">:filter</code>.</li><li><code class="inline">:validate?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to treat an invalid action as a non-allowed action. The default value is <code class="inline">false</code>.</li><li><code class="inline">:reuse_values?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not loaded data like aggregates, calculations and relationships should be checked in memory if possible, instead of querying. No effect if <code class="inline">pre_flight?</code> is <code class="inline">false</code>. The default value is <code class="inline">false</code>.</li><li><code class="inline">:pre_flight?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not this is a pre_flight check (which may perform optimized in-memory checks) or the final proper check. The default value is <code class="inline">true</code>.</li><li><code class="inline">:scope</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A value that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> protocol. Will overwrite any actor, tenant or context provided. See <a href="https://hexdocs.pm/ash/3.7.6/Ash.Context.html"><code class="inline">Ash.Context</code></a> for more.</li><li><code class="inline">:run_queries?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to run queries. If set to <code class="inline">true</code>, <code class="inline">:maybe</code> will not be returned. The default value is <code class="inline">true</code>.</li><li><code class="inline">:data</code> - The record or records specifically attempting to be acted upon.</li><li><code class="inline">:tenant</code> (value that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.ToTenant.html"><code class="inline">Ash.ToTenant</code></a> protocol) - The tenant to use for authorization</li><li><code class="inline">:alter_source?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If set to <code class="inline">true</code>, the source being authorized is returned so it can be run. The default value is <code class="inline">false</code>.</li><li><code class="inline">:base_query</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A base query on which to apply an generated filters</li><li><code class="inline">:no_check?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not authorization must pass at the strict/filter step, or if post-checks are allowed to be run The default value is <code class="inline">false</code>.</li><li><code class="inline">:on_must_pass_strict_check</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - Override the value returned when <code class="inline">no_check?</code> is <code class="inline">true</code> but a check must be run.</li><li><code class="inline">:atomic_changeset</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A base query on which to apply an generated filters</li><li><code class="inline">:return_forbidden_error?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to return a forbidden error in cases of not being authorized. The default value is <code class="inline">false</code>.</li><li><code class="inline">:log?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to log the authorization result. The default value is <code class="inline">false</code>.</li></ul>
  </section>
</section>
<section class="detail" id="can_search_offence_description?/4">

    <span id="can_search_offence_description?/2"></span>

    <span id="can_search_offence_description?/3"></span>

  <div class="detail-header">
    <a href="#can_search_offence_description?/4" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">can_search_offence_description?(actor, search_term, params_or_opts \\ %{}, opts \\ [])</h1>


    </div>
  </div>

  <section class="docstring">

<p>Runs authorization checks for <code class="inline">EhsEnforcement.Enforcement.Offence.search_description</code>, returning a boolean.
See <a href="https://hexdocs.pm/ash/3.7.6/Ash.html#can?/3"><code class="inline">Ash.can?/3</code></a> for more information</p><h2 id="can_search_offence_description?/4-options" class="section-heading"><a href="#can_search_offence_description?/4-options" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Options</span></h2><ul><li><code class="inline">:maybe_is</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - If the actor <em>may</em> be able to perform the action, what value should be returned. The default value is <code class="inline">true</code>.</li><li><code class="inline">:filter_with</code> - If set to <code class="inline">:error</code>, the query will raise an error on a match. If set to <code class="inline">:filter</code> the query will filter out unauthorized access. Valid values are :filter, :error The default value is <code class="inline">:filter</code>.</li><li><code class="inline">:validate?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to treat an invalid action as a non-allowed action. The default value is <code class="inline">false</code>.</li><li><code class="inline">:reuse_values?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not loaded data like aggregates, calculations and relationships should be checked in memory if possible, instead of querying. No effect if <code class="inline">pre_flight?</code> is <code class="inline">false</code>. The default value is <code class="inline">false</code>.</li><li><code class="inline">:pre_flight?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not this is a pre_flight check (which may perform optimized in-memory checks) or the final proper check. The default value is <code class="inline">true</code>.</li><li><code class="inline">:scope</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A value that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> protocol. Will overwrite any actor, tenant or context provided. See <a href="https://hexdocs.pm/ash/3.7.6/Ash.Context.html"><code class="inline">Ash.Context</code></a> for more.</li><li><code class="inline">:run_queries?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to run queries. If set to <code class="inline">true</code>, <code class="inline">:maybe</code> will not be returned. The default value is <code class="inline">true</code>.</li><li><code class="inline">:data</code> - The record or records specifically attempting to be acted upon.</li><li><code class="inline">:tenant</code> (value that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.ToTenant.html"><code class="inline">Ash.ToTenant</code></a> protocol) - The tenant to use for authorization</li><li><code class="inline">:alter_source?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If set to <code class="inline">true</code>, the source being authorized is returned so it can be run. The default value is <code class="inline">false</code>.</li><li><code class="inline">:base_query</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A base query on which to apply an generated filters</li><li><code class="inline">:no_check?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not authorization must pass at the strict/filter step, or if post-checks are allowed to be run The default value is <code class="inline">false</code>.</li><li><code class="inline">:on_must_pass_strict_check</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - Override the value returned when <code class="inline">no_check?</code> is <code class="inline">true</code> but a check must be run.</li><li><code class="inline">:atomic_changeset</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A base query on which to apply an generated filters</li><li><code class="inline">:return_forbidden_error?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to return a forbidden error in cases of not being authorized. The default value is <code class="inline">false</code>.</li><li><code class="inline">:log?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to log the authorization result. The default value is <code class="inline">false</code>.</li></ul>
  </section>
</section>
<section class="detail" id="can_search_offenders/4">

    <span id="can_search_offenders/2"></span>

    <span id="can_search_offenders/3"></span>

  <div class="detail-header">
    <a href="#can_search_offenders/4" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">can_search_offenders(actor, query, params_or_opts \\ %{}, opts \\ [])</h1>


    </div>
  </div>

  <section class="docstring">

<p>Runs authorization checks for <code class="inline">EhsEnforcement.Enforcement.Offender.search</code>
See <a href="https://hexdocs.pm/ash/3.7.6/Ash.html#can/3"><code class="inline">Ash.can/3</code></a> for more information</p><h2 id="can_search_offenders/4-options" class="section-heading"><a href="#can_search_offenders/4-options" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Options</span></h2><ul><li><code class="inline">:maybe_is</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - If the actor <em>may</em> be able to perform the action, what value should be returned. The default value is <code class="inline">:maybe</code>.</li><li><code class="inline">:filter_with</code> - If set to <code class="inline">:error</code>, the query will raise an error on a match. If set to <code class="inline">:filter</code> the query will filter out unauthorized access. Valid values are :filter, :error The default value is <code class="inline">:filter</code>.</li><li><code class="inline">:validate?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to treat an invalid action as a non-allowed action. The default value is <code class="inline">false</code>.</li><li><code class="inline">:reuse_values?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not loaded data like aggregates, calculations and relationships should be checked in memory if possible, instead of querying. No effect if <code class="inline">pre_flight?</code> is <code class="inline">false</code>. The default value is <code class="inline">false</code>.</li><li><code class="inline">:pre_flight?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not this is a pre_flight check (which may perform optimized in-memory checks) or the final proper check. The default value is <code class="inline">true</code>.</li><li><code class="inline">:scope</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A value that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> protocol. Will overwrite any actor, tenant or context provided. See <a href="https://hexdocs.pm/ash/3.7.6/Ash.Context.html"><code class="inline">Ash.Context</code></a> for more.</li><li><code class="inline">:run_queries?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to run queries. If set to <code class="inline">true</code>, <code class="inline">:maybe</code> will not be returned. The default value is <code class="inline">true</code>.</li><li><code class="inline">:data</code> - The record or records specifically attempting to be acted upon.</li><li><code class="inline">:tenant</code> (value that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.ToTenant.html"><code class="inline">Ash.ToTenant</code></a> protocol) - The tenant to use for authorization</li><li><code class="inline">:alter_source?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If set to <code class="inline">true</code>, the source being authorized is returned so it can be run. The default value is <code class="inline">false</code>.</li><li><code class="inline">:base_query</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A base query on which to apply an generated filters</li><li><code class="inline">:no_check?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not authorization must pass at the strict/filter step, or if post-checks are allowed to be run The default value is <code class="inline">false</code>.</li><li><code class="inline">:on_must_pass_strict_check</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - Override the value returned when <code class="inline">no_check?</code> is <code class="inline">true</code> but a check must be run.</li><li><code class="inline">:atomic_changeset</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A base query on which to apply an generated filters</li><li><code class="inline">:return_forbidden_error?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to return a forbidden error in cases of not being authorized. The default value is <code class="inline">false</code>.</li><li><code class="inline">:log?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to log the authorization result. The default value is <code class="inline">false</code>.</li></ul>
  </section>
</section>
<section class="detail" id="can_search_offenders?/4">

    <span id="can_search_offenders?/2"></span>

    <span id="can_search_offenders?/3"></span>

  <div class="detail-header">
    <a href="#can_search_offenders?/4" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">can_search_offenders?(actor, query, params_or_opts \\ %{}, opts \\ [])</h1>


    </div>
  </div>

  <section class="docstring">

<p>Runs authorization checks for <code class="inline">EhsEnforcement.Enforcement.Offender.search</code>, returning a boolean.
See <a href="https://hexdocs.pm/ash/3.7.6/Ash.html#can?/3"><code class="inline">Ash.can?/3</code></a> for more information</p><h2 id="can_search_offenders?/4-options" class="section-heading"><a href="#can_search_offenders?/4-options" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Options</span></h2><ul><li><code class="inline">:maybe_is</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - If the actor <em>may</em> be able to perform the action, what value should be returned. The default value is <code class="inline">true</code>.</li><li><code class="inline">:filter_with</code> - If set to <code class="inline">:error</code>, the query will raise an error on a match. If set to <code class="inline">:filter</code> the query will filter out unauthorized access. Valid values are :filter, :error The default value is <code class="inline">:filter</code>.</li><li><code class="inline">:validate?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to treat an invalid action as a non-allowed action. The default value is <code class="inline">false</code>.</li><li><code class="inline">:reuse_values?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not loaded data like aggregates, calculations and relationships should be checked in memory if possible, instead of querying. No effect if <code class="inline">pre_flight?</code> is <code class="inline">false</code>. The default value is <code class="inline">false</code>.</li><li><code class="inline">:pre_flight?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not this is a pre_flight check (which may perform optimized in-memory checks) or the final proper check. The default value is <code class="inline">true</code>.</li><li><code class="inline">:scope</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A value that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> protocol. Will overwrite any actor, tenant or context provided. See <a href="https://hexdocs.pm/ash/3.7.6/Ash.Context.html"><code class="inline">Ash.Context</code></a> for more.</li><li><code class="inline">:run_queries?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to run queries. If set to <code class="inline">true</code>, <code class="inline">:maybe</code> will not be returned. The default value is <code class="inline">true</code>.</li><li><code class="inline">:data</code> - The record or records specifically attempting to be acted upon.</li><li><code class="inline">:tenant</code> (value that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.ToTenant.html"><code class="inline">Ash.ToTenant</code></a> protocol) - The tenant to use for authorization</li><li><code class="inline">:alter_source?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If set to <code class="inline">true</code>, the source being authorized is returned so it can be run. The default value is <code class="inline">false</code>.</li><li><code class="inline">:base_query</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A base query on which to apply an generated filters</li><li><code class="inline">:no_check?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not authorization must pass at the strict/filter step, or if post-checks are allowed to be run The default value is <code class="inline">false</code>.</li><li><code class="inline">:on_must_pass_strict_check</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - Override the value returned when <code class="inline">no_check?</code> is <code class="inline">true</code> but a check must be run.</li><li><code class="inline">:atomic_changeset</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A base query on which to apply an generated filters</li><li><code class="inline">:return_forbidden_error?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to return a forbidden error in cases of not being authorized. The default value is <code class="inline">false</code>.</li><li><code class="inline">:log?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to log the authorization result. The default value is <code class="inline">false</code>.</li></ul>
  </section>
</section>
<section class="detail" id="can_sync_case_from_airtable/4">

    <span id="can_sync_case_from_airtable/2"></span>

    <span id="can_sync_case_from_airtable/3"></span>

  <div class="detail-header">
    <a href="#can_sync_case_from_airtable/4" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">can_sync_case_from_airtable(actor, record, params_or_opts \\ %{}, opts \\ [])</h1>


    </div>
  </div>

  <section class="docstring">

<p>Runs authorization checks for <code class="inline">EhsEnforcement.Enforcement.Case.sync_from_airtable</code>
See <a href="https://hexdocs.pm/ash/3.7.6/Ash.html#can/3"><code class="inline">Ash.can/3</code></a> for more information</p><h2 id="can_sync_case_from_airtable/4-options" class="section-heading"><a href="#can_sync_case_from_airtable/4-options" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Options</span></h2><ul><li><code class="inline">:maybe_is</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - If the actor <em>may</em> be able to perform the action, what value should be returned. The default value is <code class="inline">:maybe</code>.</li><li><code class="inline">:filter_with</code> - If set to <code class="inline">:error</code>, the query will raise an error on a match. If set to <code class="inline">:filter</code> the query will filter out unauthorized access. Valid values are :filter, :error The default value is <code class="inline">:filter</code>.</li><li><code class="inline">:validate?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to treat an invalid action as a non-allowed action. The default value is <code class="inline">false</code>.</li><li><code class="inline">:reuse_values?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not loaded data like aggregates, calculations and relationships should be checked in memory if possible, instead of querying. No effect if <code class="inline">pre_flight?</code> is <code class="inline">false</code>. The default value is <code class="inline">false</code>.</li><li><code class="inline">:pre_flight?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not this is a pre_flight check (which may perform optimized in-memory checks) or the final proper check. The default value is <code class="inline">true</code>.</li><li><code class="inline">:scope</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A value that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> protocol. Will overwrite any actor, tenant or context provided. See <a href="https://hexdocs.pm/ash/3.7.6/Ash.Context.html"><code class="inline">Ash.Context</code></a> for more.</li><li><code class="inline">:run_queries?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to run queries. If set to <code class="inline">true</code>, <code class="inline">:maybe</code> will not be returned. The default value is <code class="inline">true</code>.</li><li><code class="inline">:data</code> - The record or records specifically attempting to be acted upon.</li><li><code class="inline">:tenant</code> (value that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.ToTenant.html"><code class="inline">Ash.ToTenant</code></a> protocol) - The tenant to use for authorization</li><li><code class="inline">:alter_source?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If set to <code class="inline">true</code>, the source being authorized is returned so it can be run. The default value is <code class="inline">false</code>.</li><li><code class="inline">:base_query</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A base query on which to apply an generated filters</li><li><code class="inline">:no_check?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not authorization must pass at the strict/filter step, or if post-checks are allowed to be run The default value is <code class="inline">false</code>.</li><li><code class="inline">:on_must_pass_strict_check</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - Override the value returned when <code class="inline">no_check?</code> is <code class="inline">true</code> but a check must be run.</li><li><code class="inline">:atomic_changeset</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A base query on which to apply an generated filters</li><li><code class="inline">:return_forbidden_error?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to return a forbidden error in cases of not being authorized. The default value is <code class="inline">false</code>.</li><li><code class="inline">:log?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to log the authorization result. The default value is <code class="inline">false</code>.</li></ul>
  </section>
</section>
<section class="detail" id="can_sync_case_from_airtable?/4">

    <span id="can_sync_case_from_airtable?/2"></span>

    <span id="can_sync_case_from_airtable?/3"></span>

  <div class="detail-header">
    <a href="#can_sync_case_from_airtable?/4" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">can_sync_case_from_airtable?(actor, record, params_or_opts \\ %{}, opts \\ [])</h1>


    </div>
  </div>

  <section class="docstring">

<p>Runs authorization checks for <code class="inline">EhsEnforcement.Enforcement.Case.sync_from_airtable</code>, returning a boolean.
See <a href="https://hexdocs.pm/ash/3.7.6/Ash.html#can?/3"><code class="inline">Ash.can?/3</code></a> for more information</p><h2 id="can_sync_case_from_airtable?/4-options" class="section-heading"><a href="#can_sync_case_from_airtable?/4-options" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Options</span></h2><ul><li><code class="inline">:maybe_is</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - If the actor <em>may</em> be able to perform the action, what value should be returned. The default value is <code class="inline">true</code>.</li><li><code class="inline">:filter_with</code> - If set to <code class="inline">:error</code>, the query will raise an error on a match. If set to <code class="inline">:filter</code> the query will filter out unauthorized access. Valid values are :filter, :error The default value is <code class="inline">:filter</code>.</li><li><code class="inline">:validate?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to treat an invalid action as a non-allowed action. The default value is <code class="inline">false</code>.</li><li><code class="inline">:reuse_values?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not loaded data like aggregates, calculations and relationships should be checked in memory if possible, instead of querying. No effect if <code class="inline">pre_flight?</code> is <code class="inline">false</code>. The default value is <code class="inline">false</code>.</li><li><code class="inline">:pre_flight?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not this is a pre_flight check (which may perform optimized in-memory checks) or the final proper check. The default value is <code class="inline">true</code>.</li><li><code class="inline">:scope</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A value that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> protocol. Will overwrite any actor, tenant or context provided. See <a href="https://hexdocs.pm/ash/3.7.6/Ash.Context.html"><code class="inline">Ash.Context</code></a> for more.</li><li><code class="inline">:run_queries?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to run queries. If set to <code class="inline">true</code>, <code class="inline">:maybe</code> will not be returned. The default value is <code class="inline">true</code>.</li><li><code class="inline">:data</code> - The record or records specifically attempting to be acted upon.</li><li><code class="inline">:tenant</code> (value that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.ToTenant.html"><code class="inline">Ash.ToTenant</code></a> protocol) - The tenant to use for authorization</li><li><code class="inline">:alter_source?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If set to <code class="inline">true</code>, the source being authorized is returned so it can be run. The default value is <code class="inline">false</code>.</li><li><code class="inline">:base_query</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A base query on which to apply an generated filters</li><li><code class="inline">:no_check?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not authorization must pass at the strict/filter step, or if post-checks are allowed to be run The default value is <code class="inline">false</code>.</li><li><code class="inline">:on_must_pass_strict_check</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - Override the value returned when <code class="inline">no_check?</code> is <code class="inline">true</code> but a check must be run.</li><li><code class="inline">:atomic_changeset</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A base query on which to apply an generated filters</li><li><code class="inline">:return_forbidden_error?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to return a forbidden error in cases of not being authorized. The default value is <code class="inline">false</code>.</li><li><code class="inline">:log?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to log the authorization result. The default value is <code class="inline">false</code>.</li></ul>
  </section>
</section>
<section class="detail" id="can_update_agency/4">

    <span id="can_update_agency/2"></span>

    <span id="can_update_agency/3"></span>

  <div class="detail-header">
    <a href="#can_update_agency/4" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">can_update_agency(actor, record, params_or_opts \\ %{}, opts \\ [])</h1>


    </div>
  </div>

  <section class="docstring">

<p>Runs authorization checks for <code class="inline">EhsEnforcement.Enforcement.Agency.update</code>
See <a href="https://hexdocs.pm/ash/3.7.6/Ash.html#can/3"><code class="inline">Ash.can/3</code></a> for more information</p><h2 id="can_update_agency/4-options" class="section-heading"><a href="#can_update_agency/4-options" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Options</span></h2><ul><li><code class="inline">:maybe_is</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - If the actor <em>may</em> be able to perform the action, what value should be returned. The default value is <code class="inline">:maybe</code>.</li><li><code class="inline">:filter_with</code> - If set to <code class="inline">:error</code>, the query will raise an error on a match. If set to <code class="inline">:filter</code> the query will filter out unauthorized access. Valid values are :filter, :error The default value is <code class="inline">:filter</code>.</li><li><code class="inline">:validate?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to treat an invalid action as a non-allowed action. The default value is <code class="inline">false</code>.</li><li><code class="inline">:reuse_values?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not loaded data like aggregates, calculations and relationships should be checked in memory if possible, instead of querying. No effect if <code class="inline">pre_flight?</code> is <code class="inline">false</code>. The default value is <code class="inline">false</code>.</li><li><code class="inline">:pre_flight?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not this is a pre_flight check (which may perform optimized in-memory checks) or the final proper check. The default value is <code class="inline">true</code>.</li><li><code class="inline">:scope</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A value that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> protocol. Will overwrite any actor, tenant or context provided. See <a href="https://hexdocs.pm/ash/3.7.6/Ash.Context.html"><code class="inline">Ash.Context</code></a> for more.</li><li><code class="inline">:run_queries?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to run queries. If set to <code class="inline">true</code>, <code class="inline">:maybe</code> will not be returned. The default value is <code class="inline">true</code>.</li><li><code class="inline">:data</code> - The record or records specifically attempting to be acted upon.</li><li><code class="inline">:tenant</code> (value that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.ToTenant.html"><code class="inline">Ash.ToTenant</code></a> protocol) - The tenant to use for authorization</li><li><code class="inline">:alter_source?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If set to <code class="inline">true</code>, the source being authorized is returned so it can be run. The default value is <code class="inline">false</code>.</li><li><code class="inline">:base_query</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A base query on which to apply an generated filters</li><li><code class="inline">:no_check?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not authorization must pass at the strict/filter step, or if post-checks are allowed to be run The default value is <code class="inline">false</code>.</li><li><code class="inline">:on_must_pass_strict_check</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - Override the value returned when <code class="inline">no_check?</code> is <code class="inline">true</code> but a check must be run.</li><li><code class="inline">:atomic_changeset</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A base query on which to apply an generated filters</li><li><code class="inline">:return_forbidden_error?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to return a forbidden error in cases of not being authorized. The default value is <code class="inline">false</code>.</li><li><code class="inline">:log?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to log the authorization result. The default value is <code class="inline">false</code>.</li></ul>
  </section>
</section>
<section class="detail" id="can_update_agency?/4">

    <span id="can_update_agency?/2"></span>

    <span id="can_update_agency?/3"></span>

  <div class="detail-header">
    <a href="#can_update_agency?/4" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">can_update_agency?(actor, record, params_or_opts \\ %{}, opts \\ [])</h1>


    </div>
  </div>

  <section class="docstring">

<p>Runs authorization checks for <code class="inline">EhsEnforcement.Enforcement.Agency.update</code>, returning a boolean.
See <a href="https://hexdocs.pm/ash/3.7.6/Ash.html#can?/3"><code class="inline">Ash.can?/3</code></a> for more information</p><h2 id="can_update_agency?/4-options" class="section-heading"><a href="#can_update_agency?/4-options" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Options</span></h2><ul><li><code class="inline">:maybe_is</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - If the actor <em>may</em> be able to perform the action, what value should be returned. The default value is <code class="inline">true</code>.</li><li><code class="inline">:filter_with</code> - If set to <code class="inline">:error</code>, the query will raise an error on a match. If set to <code class="inline">:filter</code> the query will filter out unauthorized access. Valid values are :filter, :error The default value is <code class="inline">:filter</code>.</li><li><code class="inline">:validate?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to treat an invalid action as a non-allowed action. The default value is <code class="inline">false</code>.</li><li><code class="inline">:reuse_values?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not loaded data like aggregates, calculations and relationships should be checked in memory if possible, instead of querying. No effect if <code class="inline">pre_flight?</code> is <code class="inline">false</code>. The default value is <code class="inline">false</code>.</li><li><code class="inline">:pre_flight?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not this is a pre_flight check (which may perform optimized in-memory checks) or the final proper check. The default value is <code class="inline">true</code>.</li><li><code class="inline">:scope</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A value that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> protocol. Will overwrite any actor, tenant or context provided. See <a href="https://hexdocs.pm/ash/3.7.6/Ash.Context.html"><code class="inline">Ash.Context</code></a> for more.</li><li><code class="inline">:run_queries?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to run queries. If set to <code class="inline">true</code>, <code class="inline">:maybe</code> will not be returned. The default value is <code class="inline">true</code>.</li><li><code class="inline">:data</code> - The record or records specifically attempting to be acted upon.</li><li><code class="inline">:tenant</code> (value that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.ToTenant.html"><code class="inline">Ash.ToTenant</code></a> protocol) - The tenant to use for authorization</li><li><code class="inline">:alter_source?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If set to <code class="inline">true</code>, the source being authorized is returned so it can be run. The default value is <code class="inline">false</code>.</li><li><code class="inline">:base_query</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A base query on which to apply an generated filters</li><li><code class="inline">:no_check?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not authorization must pass at the strict/filter step, or if post-checks are allowed to be run The default value is <code class="inline">false</code>.</li><li><code class="inline">:on_must_pass_strict_check</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - Override the value returned when <code class="inline">no_check?</code> is <code class="inline">true</code> but a check must be run.</li><li><code class="inline">:atomic_changeset</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A base query on which to apply an generated filters</li><li><code class="inline">:return_forbidden_error?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to return a forbidden error in cases of not being authorized. The default value is <code class="inline">false</code>.</li><li><code class="inline">:log?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to log the authorization result. The default value is <code class="inline">false</code>.</li></ul>
  </section>
</section>
<section class="detail" id="can_update_case/4">

    <span id="can_update_case/2"></span>

    <span id="can_update_case/3"></span>

  <div class="detail-header">
    <a href="#can_update_case/4" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">can_update_case(actor, record, params_or_opts \\ %{}, opts \\ [])</h1>


    </div>
  </div>

  <section class="docstring">

<p>Runs authorization checks for <code class="inline">EhsEnforcement.Enforcement.Case.update</code>
See <a href="https://hexdocs.pm/ash/3.7.6/Ash.html#can/3"><code class="inline">Ash.can/3</code></a> for more information</p><h2 id="can_update_case/4-options" class="section-heading"><a href="#can_update_case/4-options" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Options</span></h2><ul><li><code class="inline">:maybe_is</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - If the actor <em>may</em> be able to perform the action, what value should be returned. The default value is <code class="inline">:maybe</code>.</li><li><code class="inline">:filter_with</code> - If set to <code class="inline">:error</code>, the query will raise an error on a match. If set to <code class="inline">:filter</code> the query will filter out unauthorized access. Valid values are :filter, :error The default value is <code class="inline">:filter</code>.</li><li><code class="inline">:validate?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to treat an invalid action as a non-allowed action. The default value is <code class="inline">false</code>.</li><li><code class="inline">:reuse_values?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not loaded data like aggregates, calculations and relationships should be checked in memory if possible, instead of querying. No effect if <code class="inline">pre_flight?</code> is <code class="inline">false</code>. The default value is <code class="inline">false</code>.</li><li><code class="inline">:pre_flight?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not this is a pre_flight check (which may perform optimized in-memory checks) or the final proper check. The default value is <code class="inline">true</code>.</li><li><code class="inline">:scope</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A value that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> protocol. Will overwrite any actor, tenant or context provided. See <a href="https://hexdocs.pm/ash/3.7.6/Ash.Context.html"><code class="inline">Ash.Context</code></a> for more.</li><li><code class="inline">:run_queries?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to run queries. If set to <code class="inline">true</code>, <code class="inline">:maybe</code> will not be returned. The default value is <code class="inline">true</code>.</li><li><code class="inline">:data</code> - The record or records specifically attempting to be acted upon.</li><li><code class="inline">:tenant</code> (value that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.ToTenant.html"><code class="inline">Ash.ToTenant</code></a> protocol) - The tenant to use for authorization</li><li><code class="inline">:alter_source?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If set to <code class="inline">true</code>, the source being authorized is returned so it can be run. The default value is <code class="inline">false</code>.</li><li><code class="inline">:base_query</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A base query on which to apply an generated filters</li><li><code class="inline">:no_check?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not authorization must pass at the strict/filter step, or if post-checks are allowed to be run The default value is <code class="inline">false</code>.</li><li><code class="inline">:on_must_pass_strict_check</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - Override the value returned when <code class="inline">no_check?</code> is <code class="inline">true</code> but a check must be run.</li><li><code class="inline">:atomic_changeset</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A base query on which to apply an generated filters</li><li><code class="inline">:return_forbidden_error?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to return a forbidden error in cases of not being authorized. The default value is <code class="inline">false</code>.</li><li><code class="inline">:log?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to log the authorization result. The default value is <code class="inline">false</code>.</li></ul>
  </section>
</section>
<section class="detail" id="can_update_case?/4">

    <span id="can_update_case?/2"></span>

    <span id="can_update_case?/3"></span>

  <div class="detail-header">
    <a href="#can_update_case?/4" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">can_update_case?(actor, record, params_or_opts \\ %{}, opts \\ [])</h1>


    </div>
  </div>

  <section class="docstring">

<p>Runs authorization checks for <code class="inline">EhsEnforcement.Enforcement.Case.update</code>, returning a boolean.
See <a href="https://hexdocs.pm/ash/3.7.6/Ash.html#can?/3"><code class="inline">Ash.can?/3</code></a> for more information</p><h2 id="can_update_case?/4-options" class="section-heading"><a href="#can_update_case?/4-options" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Options</span></h2><ul><li><code class="inline">:maybe_is</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - If the actor <em>may</em> be able to perform the action, what value should be returned. The default value is <code class="inline">true</code>.</li><li><code class="inline">:filter_with</code> - If set to <code class="inline">:error</code>, the query will raise an error on a match. If set to <code class="inline">:filter</code> the query will filter out unauthorized access. Valid values are :filter, :error The default value is <code class="inline">:filter</code>.</li><li><code class="inline">:validate?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to treat an invalid action as a non-allowed action. The default value is <code class="inline">false</code>.</li><li><code class="inline">:reuse_values?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not loaded data like aggregates, calculations and relationships should be checked in memory if possible, instead of querying. No effect if <code class="inline">pre_flight?</code> is <code class="inline">false</code>. The default value is <code class="inline">false</code>.</li><li><code class="inline">:pre_flight?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not this is a pre_flight check (which may perform optimized in-memory checks) or the final proper check. The default value is <code class="inline">true</code>.</li><li><code class="inline">:scope</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A value that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> protocol. Will overwrite any actor, tenant or context provided. See <a href="https://hexdocs.pm/ash/3.7.6/Ash.Context.html"><code class="inline">Ash.Context</code></a> for more.</li><li><code class="inline">:run_queries?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to run queries. If set to <code class="inline">true</code>, <code class="inline">:maybe</code> will not be returned. The default value is <code class="inline">true</code>.</li><li><code class="inline">:data</code> - The record or records specifically attempting to be acted upon.</li><li><code class="inline">:tenant</code> (value that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.ToTenant.html"><code class="inline">Ash.ToTenant</code></a> protocol) - The tenant to use for authorization</li><li><code class="inline">:alter_source?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If set to <code class="inline">true</code>, the source being authorized is returned so it can be run. The default value is <code class="inline">false</code>.</li><li><code class="inline">:base_query</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A base query on which to apply an generated filters</li><li><code class="inline">:no_check?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not authorization must pass at the strict/filter step, or if post-checks are allowed to be run The default value is <code class="inline">false</code>.</li><li><code class="inline">:on_must_pass_strict_check</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - Override the value returned when <code class="inline">no_check?</code> is <code class="inline">true</code> but a check must be run.</li><li><code class="inline">:atomic_changeset</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A base query on which to apply an generated filters</li><li><code class="inline">:return_forbidden_error?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to return a forbidden error in cases of not being authorized. The default value is <code class="inline">false</code>.</li><li><code class="inline">:log?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to log the authorization result. The default value is <code class="inline">false</code>.</li></ul>
  </section>
</section>
<section class="detail" id="can_update_case_from_scraping/4">

    <span id="can_update_case_from_scraping/2"></span>

    <span id="can_update_case_from_scraping/3"></span>

  <div class="detail-header">
    <a href="#can_update_case_from_scraping/4" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">can_update_case_from_scraping(actor, record, params_or_opts \\ %{}, opts \\ [])</h1>


    </div>
  </div>

  <section class="docstring">

<p>Runs authorization checks for <code class="inline">EhsEnforcement.Enforcement.Case.update_from_scraping</code>
See <a href="https://hexdocs.pm/ash/3.7.6/Ash.html#can/3"><code class="inline">Ash.can/3</code></a> for more information</p><h2 id="can_update_case_from_scraping/4-options" class="section-heading"><a href="#can_update_case_from_scraping/4-options" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Options</span></h2><ul><li><code class="inline">:maybe_is</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - If the actor <em>may</em> be able to perform the action, what value should be returned. The default value is <code class="inline">:maybe</code>.</li><li><code class="inline">:filter_with</code> - If set to <code class="inline">:error</code>, the query will raise an error on a match. If set to <code class="inline">:filter</code> the query will filter out unauthorized access. Valid values are :filter, :error The default value is <code class="inline">:filter</code>.</li><li><code class="inline">:validate?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to treat an invalid action as a non-allowed action. The default value is <code class="inline">false</code>.</li><li><code class="inline">:reuse_values?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not loaded data like aggregates, calculations and relationships should be checked in memory if possible, instead of querying. No effect if <code class="inline">pre_flight?</code> is <code class="inline">false</code>. The default value is <code class="inline">false</code>.</li><li><code class="inline">:pre_flight?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not this is a pre_flight check (which may perform optimized in-memory checks) or the final proper check. The default value is <code class="inline">true</code>.</li><li><code class="inline">:scope</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A value that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> protocol. Will overwrite any actor, tenant or context provided. See <a href="https://hexdocs.pm/ash/3.7.6/Ash.Context.html"><code class="inline">Ash.Context</code></a> for more.</li><li><code class="inline">:run_queries?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to run queries. If set to <code class="inline">true</code>, <code class="inline">:maybe</code> will not be returned. The default value is <code class="inline">true</code>.</li><li><code class="inline">:data</code> - The record or records specifically attempting to be acted upon.</li><li><code class="inline">:tenant</code> (value that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.ToTenant.html"><code class="inline">Ash.ToTenant</code></a> protocol) - The tenant to use for authorization</li><li><code class="inline">:alter_source?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If set to <code class="inline">true</code>, the source being authorized is returned so it can be run. The default value is <code class="inline">false</code>.</li><li><code class="inline">:base_query</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A base query on which to apply an generated filters</li><li><code class="inline">:no_check?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not authorization must pass at the strict/filter step, or if post-checks are allowed to be run The default value is <code class="inline">false</code>.</li><li><code class="inline">:on_must_pass_strict_check</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - Override the value returned when <code class="inline">no_check?</code> is <code class="inline">true</code> but a check must be run.</li><li><code class="inline">:atomic_changeset</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A base query on which to apply an generated filters</li><li><code class="inline">:return_forbidden_error?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to return a forbidden error in cases of not being authorized. The default value is <code class="inline">false</code>.</li><li><code class="inline">:log?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to log the authorization result. The default value is <code class="inline">false</code>.</li></ul>
  </section>
</section>
<section class="detail" id="can_update_case_from_scraping?/4">

    <span id="can_update_case_from_scraping?/2"></span>

    <span id="can_update_case_from_scraping?/3"></span>

  <div class="detail-header">
    <a href="#can_update_case_from_scraping?/4" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">can_update_case_from_scraping?(actor, record, params_or_opts \\ %{}, opts \\ [])</h1>


    </div>
  </div>

  <section class="docstring">

<p>Runs authorization checks for <code class="inline">EhsEnforcement.Enforcement.Case.update_from_scraping</code>, returning a boolean.
See <a href="https://hexdocs.pm/ash/3.7.6/Ash.html#can?/3"><code class="inline">Ash.can?/3</code></a> for more information</p><h2 id="can_update_case_from_scraping?/4-options" class="section-heading"><a href="#can_update_case_from_scraping?/4-options" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Options</span></h2><ul><li><code class="inline">:maybe_is</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - If the actor <em>may</em> be able to perform the action, what value should be returned. The default value is <code class="inline">true</code>.</li><li><code class="inline">:filter_with</code> - If set to <code class="inline">:error</code>, the query will raise an error on a match. If set to <code class="inline">:filter</code> the query will filter out unauthorized access. Valid values are :filter, :error The default value is <code class="inline">:filter</code>.</li><li><code class="inline">:validate?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to treat an invalid action as a non-allowed action. The default value is <code class="inline">false</code>.</li><li><code class="inline">:reuse_values?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not loaded data like aggregates, calculations and relationships should be checked in memory if possible, instead of querying. No effect if <code class="inline">pre_flight?</code> is <code class="inline">false</code>. The default value is <code class="inline">false</code>.</li><li><code class="inline">:pre_flight?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not this is a pre_flight check (which may perform optimized in-memory checks) or the final proper check. The default value is <code class="inline">true</code>.</li><li><code class="inline">:scope</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A value that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> protocol. Will overwrite any actor, tenant or context provided. See <a href="https://hexdocs.pm/ash/3.7.6/Ash.Context.html"><code class="inline">Ash.Context</code></a> for more.</li><li><code class="inline">:run_queries?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to run queries. If set to <code class="inline">true</code>, <code class="inline">:maybe</code> will not be returned. The default value is <code class="inline">true</code>.</li><li><code class="inline">:data</code> - The record or records specifically attempting to be acted upon.</li><li><code class="inline">:tenant</code> (value that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.ToTenant.html"><code class="inline">Ash.ToTenant</code></a> protocol) - The tenant to use for authorization</li><li><code class="inline">:alter_source?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If set to <code class="inline">true</code>, the source being authorized is returned so it can be run. The default value is <code class="inline">false</code>.</li><li><code class="inline">:base_query</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A base query on which to apply an generated filters</li><li><code class="inline">:no_check?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not authorization must pass at the strict/filter step, or if post-checks are allowed to be run The default value is <code class="inline">false</code>.</li><li><code class="inline">:on_must_pass_strict_check</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - Override the value returned when <code class="inline">no_check?</code> is <code class="inline">true</code> but a check must be run.</li><li><code class="inline">:atomic_changeset</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A base query on which to apply an generated filters</li><li><code class="inline">:return_forbidden_error?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to return a forbidden error in cases of not being authorized. The default value is <code class="inline">false</code>.</li><li><code class="inline">:log?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to log the authorization result. The default value is <code class="inline">false</code>.</li></ul>
  </section>
</section>
<section class="detail" id="can_update_legislation/4">

    <span id="can_update_legislation/2"></span>

    <span id="can_update_legislation/3"></span>

  <div class="detail-header">
    <a href="#can_update_legislation/4" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">can_update_legislation(actor, record, params_or_opts \\ %{}, opts \\ [])</h1>


    </div>
  </div>

  <section class="docstring">

<p>Runs authorization checks for <code class="inline">EhsEnforcement.Enforcement.Legislation.update</code>
See <a href="https://hexdocs.pm/ash/3.7.6/Ash.html#can/3"><code class="inline">Ash.can/3</code></a> for more information</p><h2 id="can_update_legislation/4-options" class="section-heading"><a href="#can_update_legislation/4-options" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Options</span></h2><ul><li><code class="inline">:maybe_is</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - If the actor <em>may</em> be able to perform the action, what value should be returned. The default value is <code class="inline">:maybe</code>.</li><li><code class="inline">:filter_with</code> - If set to <code class="inline">:error</code>, the query will raise an error on a match. If set to <code class="inline">:filter</code> the query will filter out unauthorized access. Valid values are :filter, :error The default value is <code class="inline">:filter</code>.</li><li><code class="inline">:validate?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to treat an invalid action as a non-allowed action. The default value is <code class="inline">false</code>.</li><li><code class="inline">:reuse_values?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not loaded data like aggregates, calculations and relationships should be checked in memory if possible, instead of querying. No effect if <code class="inline">pre_flight?</code> is <code class="inline">false</code>. The default value is <code class="inline">false</code>.</li><li><code class="inline">:pre_flight?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not this is a pre_flight check (which may perform optimized in-memory checks) or the final proper check. The default value is <code class="inline">true</code>.</li><li><code class="inline">:scope</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A value that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> protocol. Will overwrite any actor, tenant or context provided. See <a href="https://hexdocs.pm/ash/3.7.6/Ash.Context.html"><code class="inline">Ash.Context</code></a> for more.</li><li><code class="inline">:run_queries?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to run queries. If set to <code class="inline">true</code>, <code class="inline">:maybe</code> will not be returned. The default value is <code class="inline">true</code>.</li><li><code class="inline">:data</code> - The record or records specifically attempting to be acted upon.</li><li><code class="inline">:tenant</code> (value that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.ToTenant.html"><code class="inline">Ash.ToTenant</code></a> protocol) - The tenant to use for authorization</li><li><code class="inline">:alter_source?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If set to <code class="inline">true</code>, the source being authorized is returned so it can be run. The default value is <code class="inline">false</code>.</li><li><code class="inline">:base_query</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A base query on which to apply an generated filters</li><li><code class="inline">:no_check?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not authorization must pass at the strict/filter step, or if post-checks are allowed to be run The default value is <code class="inline">false</code>.</li><li><code class="inline">:on_must_pass_strict_check</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - Override the value returned when <code class="inline">no_check?</code> is <code class="inline">true</code> but a check must be run.</li><li><code class="inline">:atomic_changeset</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A base query on which to apply an generated filters</li><li><code class="inline">:return_forbidden_error?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to return a forbidden error in cases of not being authorized. The default value is <code class="inline">false</code>.</li><li><code class="inline">:log?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to log the authorization result. The default value is <code class="inline">false</code>.</li></ul>
  </section>
</section>
<section class="detail" id="can_update_legislation?/4">

    <span id="can_update_legislation?/2"></span>

    <span id="can_update_legislation?/3"></span>

  <div class="detail-header">
    <a href="#can_update_legislation?/4" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">can_update_legislation?(actor, record, params_or_opts \\ %{}, opts \\ [])</h1>


    </div>
  </div>

  <section class="docstring">

<p>Runs authorization checks for <code class="inline">EhsEnforcement.Enforcement.Legislation.update</code>, returning a boolean.
See <a href="https://hexdocs.pm/ash/3.7.6/Ash.html#can?/3"><code class="inline">Ash.can?/3</code></a> for more information</p><h2 id="can_update_legislation?/4-options" class="section-heading"><a href="#can_update_legislation?/4-options" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Options</span></h2><ul><li><code class="inline">:maybe_is</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - If the actor <em>may</em> be able to perform the action, what value should be returned. The default value is <code class="inline">true</code>.</li><li><code class="inline">:filter_with</code> - If set to <code class="inline">:error</code>, the query will raise an error on a match. If set to <code class="inline">:filter</code> the query will filter out unauthorized access. Valid values are :filter, :error The default value is <code class="inline">:filter</code>.</li><li><code class="inline">:validate?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to treat an invalid action as a non-allowed action. The default value is <code class="inline">false</code>.</li><li><code class="inline">:reuse_values?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not loaded data like aggregates, calculations and relationships should be checked in memory if possible, instead of querying. No effect if <code class="inline">pre_flight?</code> is <code class="inline">false</code>. The default value is <code class="inline">false</code>.</li><li><code class="inline">:pre_flight?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not this is a pre_flight check (which may perform optimized in-memory checks) or the final proper check. The default value is <code class="inline">true</code>.</li><li><code class="inline">:scope</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A value that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> protocol. Will overwrite any actor, tenant or context provided. See <a href="https://hexdocs.pm/ash/3.7.6/Ash.Context.html"><code class="inline">Ash.Context</code></a> for more.</li><li><code class="inline">:run_queries?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to run queries. If set to <code class="inline">true</code>, <code class="inline">:maybe</code> will not be returned. The default value is <code class="inline">true</code>.</li><li><code class="inline">:data</code> - The record or records specifically attempting to be acted upon.</li><li><code class="inline">:tenant</code> (value that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.ToTenant.html"><code class="inline">Ash.ToTenant</code></a> protocol) - The tenant to use for authorization</li><li><code class="inline">:alter_source?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If set to <code class="inline">true</code>, the source being authorized is returned so it can be run. The default value is <code class="inline">false</code>.</li><li><code class="inline">:base_query</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A base query on which to apply an generated filters</li><li><code class="inline">:no_check?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not authorization must pass at the strict/filter step, or if post-checks are allowed to be run The default value is <code class="inline">false</code>.</li><li><code class="inline">:on_must_pass_strict_check</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - Override the value returned when <code class="inline">no_check?</code> is <code class="inline">true</code> but a check must be run.</li><li><code class="inline">:atomic_changeset</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A base query on which to apply an generated filters</li><li><code class="inline">:return_forbidden_error?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to return a forbidden error in cases of not being authorized. The default value is <code class="inline">false</code>.</li><li><code class="inline">:log?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to log the authorization result. The default value is <code class="inline">false</code>.</li></ul>
  </section>
</section>
<section class="detail" id="can_update_notice/4">

    <span id="can_update_notice/2"></span>

    <span id="can_update_notice/3"></span>

  <div class="detail-header">
    <a href="#can_update_notice/4" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">can_update_notice(actor, record, params_or_opts \\ %{}, opts \\ [])</h1>


    </div>
  </div>

  <section class="docstring">

<p>Runs authorization checks for <code class="inline">EhsEnforcement.Enforcement.Notice.update</code>
See <a href="https://hexdocs.pm/ash/3.7.6/Ash.html#can/3"><code class="inline">Ash.can/3</code></a> for more information</p><h2 id="can_update_notice/4-options" class="section-heading"><a href="#can_update_notice/4-options" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Options</span></h2><ul><li><code class="inline">:maybe_is</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - If the actor <em>may</em> be able to perform the action, what value should be returned. The default value is <code class="inline">:maybe</code>.</li><li><code class="inline">:filter_with</code> - If set to <code class="inline">:error</code>, the query will raise an error on a match. If set to <code class="inline">:filter</code> the query will filter out unauthorized access. Valid values are :filter, :error The default value is <code class="inline">:filter</code>.</li><li><code class="inline">:validate?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to treat an invalid action as a non-allowed action. The default value is <code class="inline">false</code>.</li><li><code class="inline">:reuse_values?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not loaded data like aggregates, calculations and relationships should be checked in memory if possible, instead of querying. No effect if <code class="inline">pre_flight?</code> is <code class="inline">false</code>. The default value is <code class="inline">false</code>.</li><li><code class="inline">:pre_flight?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not this is a pre_flight check (which may perform optimized in-memory checks) or the final proper check. The default value is <code class="inline">true</code>.</li><li><code class="inline">:scope</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A value that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> protocol. Will overwrite any actor, tenant or context provided. See <a href="https://hexdocs.pm/ash/3.7.6/Ash.Context.html"><code class="inline">Ash.Context</code></a> for more.</li><li><code class="inline">:run_queries?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to run queries. If set to <code class="inline">true</code>, <code class="inline">:maybe</code> will not be returned. The default value is <code class="inline">true</code>.</li><li><code class="inline">:data</code> - The record or records specifically attempting to be acted upon.</li><li><code class="inline">:tenant</code> (value that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.ToTenant.html"><code class="inline">Ash.ToTenant</code></a> protocol) - The tenant to use for authorization</li><li><code class="inline">:alter_source?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If set to <code class="inline">true</code>, the source being authorized is returned so it can be run. The default value is <code class="inline">false</code>.</li><li><code class="inline">:base_query</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A base query on which to apply an generated filters</li><li><code class="inline">:no_check?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not authorization must pass at the strict/filter step, or if post-checks are allowed to be run The default value is <code class="inline">false</code>.</li><li><code class="inline">:on_must_pass_strict_check</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - Override the value returned when <code class="inline">no_check?</code> is <code class="inline">true</code> but a check must be run.</li><li><code class="inline">:atomic_changeset</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A base query on which to apply an generated filters</li><li><code class="inline">:return_forbidden_error?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to return a forbidden error in cases of not being authorized. The default value is <code class="inline">false</code>.</li><li><code class="inline">:log?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to log the authorization result. The default value is <code class="inline">false</code>.</li></ul>
  </section>
</section>
<section class="detail" id="can_update_notice?/4">

    <span id="can_update_notice?/2"></span>

    <span id="can_update_notice?/3"></span>

  <div class="detail-header">
    <a href="#can_update_notice?/4" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">can_update_notice?(actor, record, params_or_opts \\ %{}, opts \\ [])</h1>


    </div>
  </div>

  <section class="docstring">

<p>Runs authorization checks for <code class="inline">EhsEnforcement.Enforcement.Notice.update</code>, returning a boolean.
See <a href="https://hexdocs.pm/ash/3.7.6/Ash.html#can?/3"><code class="inline">Ash.can?/3</code></a> for more information</p><h2 id="can_update_notice?/4-options" class="section-heading"><a href="#can_update_notice?/4-options" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Options</span></h2><ul><li><code class="inline">:maybe_is</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - If the actor <em>may</em> be able to perform the action, what value should be returned. The default value is <code class="inline">true</code>.</li><li><code class="inline">:filter_with</code> - If set to <code class="inline">:error</code>, the query will raise an error on a match. If set to <code class="inline">:filter</code> the query will filter out unauthorized access. Valid values are :filter, :error The default value is <code class="inline">:filter</code>.</li><li><code class="inline">:validate?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to treat an invalid action as a non-allowed action. The default value is <code class="inline">false</code>.</li><li><code class="inline">:reuse_values?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not loaded data like aggregates, calculations and relationships should be checked in memory if possible, instead of querying. No effect if <code class="inline">pre_flight?</code> is <code class="inline">false</code>. The default value is <code class="inline">false</code>.</li><li><code class="inline">:pre_flight?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not this is a pre_flight check (which may perform optimized in-memory checks) or the final proper check. The default value is <code class="inline">true</code>.</li><li><code class="inline">:scope</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A value that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> protocol. Will overwrite any actor, tenant or context provided. See <a href="https://hexdocs.pm/ash/3.7.6/Ash.Context.html"><code class="inline">Ash.Context</code></a> for more.</li><li><code class="inline">:run_queries?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to run queries. If set to <code class="inline">true</code>, <code class="inline">:maybe</code> will not be returned. The default value is <code class="inline">true</code>.</li><li><code class="inline">:data</code> - The record or records specifically attempting to be acted upon.</li><li><code class="inline">:tenant</code> (value that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.ToTenant.html"><code class="inline">Ash.ToTenant</code></a> protocol) - The tenant to use for authorization</li><li><code class="inline">:alter_source?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If set to <code class="inline">true</code>, the source being authorized is returned so it can be run. The default value is <code class="inline">false</code>.</li><li><code class="inline">:base_query</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A base query on which to apply an generated filters</li><li><code class="inline">:no_check?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not authorization must pass at the strict/filter step, or if post-checks are allowed to be run The default value is <code class="inline">false</code>.</li><li><code class="inline">:on_must_pass_strict_check</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - Override the value returned when <code class="inline">no_check?</code> is <code class="inline">true</code> but a check must be run.</li><li><code class="inline">:atomic_changeset</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A base query on which to apply an generated filters</li><li><code class="inline">:return_forbidden_error?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to return a forbidden error in cases of not being authorized. The default value is <code class="inline">false</code>.</li><li><code class="inline">:log?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to log the authorization result. The default value is <code class="inline">false</code>.</li></ul>
  </section>
</section>
<section class="detail" id="can_update_offence/4">

    <span id="can_update_offence/2"></span>

    <span id="can_update_offence/3"></span>

  <div class="detail-header">
    <a href="#can_update_offence/4" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">can_update_offence(actor, record, params_or_opts \\ %{}, opts \\ [])</h1>


    </div>
  </div>

  <section class="docstring">

<p>Runs authorization checks for <code class="inline">EhsEnforcement.Enforcement.Offence.update</code>
See <a href="https://hexdocs.pm/ash/3.7.6/Ash.html#can/3"><code class="inline">Ash.can/3</code></a> for more information</p><h2 id="can_update_offence/4-options" class="section-heading"><a href="#can_update_offence/4-options" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Options</span></h2><ul><li><code class="inline">:maybe_is</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - If the actor <em>may</em> be able to perform the action, what value should be returned. The default value is <code class="inline">:maybe</code>.</li><li><code class="inline">:filter_with</code> - If set to <code class="inline">:error</code>, the query will raise an error on a match. If set to <code class="inline">:filter</code> the query will filter out unauthorized access. Valid values are :filter, :error The default value is <code class="inline">:filter</code>.</li><li><code class="inline">:validate?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to treat an invalid action as a non-allowed action. The default value is <code class="inline">false</code>.</li><li><code class="inline">:reuse_values?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not loaded data like aggregates, calculations and relationships should be checked in memory if possible, instead of querying. No effect if <code class="inline">pre_flight?</code> is <code class="inline">false</code>. The default value is <code class="inline">false</code>.</li><li><code class="inline">:pre_flight?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not this is a pre_flight check (which may perform optimized in-memory checks) or the final proper check. The default value is <code class="inline">true</code>.</li><li><code class="inline">:scope</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A value that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> protocol. Will overwrite any actor, tenant or context provided. See <a href="https://hexdocs.pm/ash/3.7.6/Ash.Context.html"><code class="inline">Ash.Context</code></a> for more.</li><li><code class="inline">:run_queries?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to run queries. If set to <code class="inline">true</code>, <code class="inline">:maybe</code> will not be returned. The default value is <code class="inline">true</code>.</li><li><code class="inline">:data</code> - The record or records specifically attempting to be acted upon.</li><li><code class="inline">:tenant</code> (value that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.ToTenant.html"><code class="inline">Ash.ToTenant</code></a> protocol) - The tenant to use for authorization</li><li><code class="inline">:alter_source?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If set to <code class="inline">true</code>, the source being authorized is returned so it can be run. The default value is <code class="inline">false</code>.</li><li><code class="inline">:base_query</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A base query on which to apply an generated filters</li><li><code class="inline">:no_check?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not authorization must pass at the strict/filter step, or if post-checks are allowed to be run The default value is <code class="inline">false</code>.</li><li><code class="inline">:on_must_pass_strict_check</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - Override the value returned when <code class="inline">no_check?</code> is <code class="inline">true</code> but a check must be run.</li><li><code class="inline">:atomic_changeset</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A base query on which to apply an generated filters</li><li><code class="inline">:return_forbidden_error?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to return a forbidden error in cases of not being authorized. The default value is <code class="inline">false</code>.</li><li><code class="inline">:log?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to log the authorization result. The default value is <code class="inline">false</code>.</li></ul>
  </section>
</section>
<section class="detail" id="can_update_offence?/4">

    <span id="can_update_offence?/2"></span>

    <span id="can_update_offence?/3"></span>

  <div class="detail-header">
    <a href="#can_update_offence?/4" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">can_update_offence?(actor, record, params_or_opts \\ %{}, opts \\ [])</h1>


    </div>
  </div>

  <section class="docstring">

<p>Runs authorization checks for <code class="inline">EhsEnforcement.Enforcement.Offence.update</code>, returning a boolean.
See <a href="https://hexdocs.pm/ash/3.7.6/Ash.html#can?/3"><code class="inline">Ash.can?/3</code></a> for more information</p><h2 id="can_update_offence?/4-options" class="section-heading"><a href="#can_update_offence?/4-options" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Options</span></h2><ul><li><code class="inline">:maybe_is</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - If the actor <em>may</em> be able to perform the action, what value should be returned. The default value is <code class="inline">true</code>.</li><li><code class="inline">:filter_with</code> - If set to <code class="inline">:error</code>, the query will raise an error on a match. If set to <code class="inline">:filter</code> the query will filter out unauthorized access. Valid values are :filter, :error The default value is <code class="inline">:filter</code>.</li><li><code class="inline">:validate?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to treat an invalid action as a non-allowed action. The default value is <code class="inline">false</code>.</li><li><code class="inline">:reuse_values?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not loaded data like aggregates, calculations and relationships should be checked in memory if possible, instead of querying. No effect if <code class="inline">pre_flight?</code> is <code class="inline">false</code>. The default value is <code class="inline">false</code>.</li><li><code class="inline">:pre_flight?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not this is a pre_flight check (which may perform optimized in-memory checks) or the final proper check. The default value is <code class="inline">true</code>.</li><li><code class="inline">:scope</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A value that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> protocol. Will overwrite any actor, tenant or context provided. See <a href="https://hexdocs.pm/ash/3.7.6/Ash.Context.html"><code class="inline">Ash.Context</code></a> for more.</li><li><code class="inline">:run_queries?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to run queries. If set to <code class="inline">true</code>, <code class="inline">:maybe</code> will not be returned. The default value is <code class="inline">true</code>.</li><li><code class="inline">:data</code> - The record or records specifically attempting to be acted upon.</li><li><code class="inline">:tenant</code> (value that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.ToTenant.html"><code class="inline">Ash.ToTenant</code></a> protocol) - The tenant to use for authorization</li><li><code class="inline">:alter_source?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If set to <code class="inline">true</code>, the source being authorized is returned so it can be run. The default value is <code class="inline">false</code>.</li><li><code class="inline">:base_query</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A base query on which to apply an generated filters</li><li><code class="inline">:no_check?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not authorization must pass at the strict/filter step, or if post-checks are allowed to be run The default value is <code class="inline">false</code>.</li><li><code class="inline">:on_must_pass_strict_check</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - Override the value returned when <code class="inline">no_check?</code> is <code class="inline">true</code> but a check must be run.</li><li><code class="inline">:atomic_changeset</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A base query on which to apply an generated filters</li><li><code class="inline">:return_forbidden_error?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to return a forbidden error in cases of not being authorized. The default value is <code class="inline">false</code>.</li><li><code class="inline">:log?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to log the authorization result. The default value is <code class="inline">false</code>.</li></ul>
  </section>
</section>
<section class="detail" id="can_update_offender/4">

    <span id="can_update_offender/2"></span>

    <span id="can_update_offender/3"></span>

  <div class="detail-header">
    <a href="#can_update_offender/4" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">can_update_offender(actor, record, params_or_opts \\ %{}, opts \\ [])</h1>


    </div>
  </div>

  <section class="docstring">

<p>Runs authorization checks for <code class="inline">EhsEnforcement.Enforcement.Offender.update</code>
See <a href="https://hexdocs.pm/ash/3.7.6/Ash.html#can/3"><code class="inline">Ash.can/3</code></a> for more information</p><h2 id="can_update_offender/4-options" class="section-heading"><a href="#can_update_offender/4-options" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Options</span></h2><ul><li><code class="inline">:maybe_is</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - If the actor <em>may</em> be able to perform the action, what value should be returned. The default value is <code class="inline">:maybe</code>.</li><li><code class="inline">:filter_with</code> - If set to <code class="inline">:error</code>, the query will raise an error on a match. If set to <code class="inline">:filter</code> the query will filter out unauthorized access. Valid values are :filter, :error The default value is <code class="inline">:filter</code>.</li><li><code class="inline">:validate?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to treat an invalid action as a non-allowed action. The default value is <code class="inline">false</code>.</li><li><code class="inline">:reuse_values?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not loaded data like aggregates, calculations and relationships should be checked in memory if possible, instead of querying. No effect if <code class="inline">pre_flight?</code> is <code class="inline">false</code>. The default value is <code class="inline">false</code>.</li><li><code class="inline">:pre_flight?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not this is a pre_flight check (which may perform optimized in-memory checks) or the final proper check. The default value is <code class="inline">true</code>.</li><li><code class="inline">:scope</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A value that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> protocol. Will overwrite any actor, tenant or context provided. See <a href="https://hexdocs.pm/ash/3.7.6/Ash.Context.html"><code class="inline">Ash.Context</code></a> for more.</li><li><code class="inline">:run_queries?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to run queries. If set to <code class="inline">true</code>, <code class="inline">:maybe</code> will not be returned. The default value is <code class="inline">true</code>.</li><li><code class="inline">:data</code> - The record or records specifically attempting to be acted upon.</li><li><code class="inline">:tenant</code> (value that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.ToTenant.html"><code class="inline">Ash.ToTenant</code></a> protocol) - The tenant to use for authorization</li><li><code class="inline">:alter_source?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If set to <code class="inline">true</code>, the source being authorized is returned so it can be run. The default value is <code class="inline">false</code>.</li><li><code class="inline">:base_query</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A base query on which to apply an generated filters</li><li><code class="inline">:no_check?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not authorization must pass at the strict/filter step, or if post-checks are allowed to be run The default value is <code class="inline">false</code>.</li><li><code class="inline">:on_must_pass_strict_check</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - Override the value returned when <code class="inline">no_check?</code> is <code class="inline">true</code> but a check must be run.</li><li><code class="inline">:atomic_changeset</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A base query on which to apply an generated filters</li><li><code class="inline">:return_forbidden_error?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to return a forbidden error in cases of not being authorized. The default value is <code class="inline">false</code>.</li><li><code class="inline">:log?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to log the authorization result. The default value is <code class="inline">false</code>.</li></ul>
  </section>
</section>
<section class="detail" id="can_update_offender?/4">

    <span id="can_update_offender?/2"></span>

    <span id="can_update_offender?/3"></span>

  <div class="detail-header">
    <a href="#can_update_offender?/4" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">can_update_offender?(actor, record, params_or_opts \\ %{}, opts \\ [])</h1>


    </div>
  </div>

  <section class="docstring">

<p>Runs authorization checks for <code class="inline">EhsEnforcement.Enforcement.Offender.update</code>, returning a boolean.
See <a href="https://hexdocs.pm/ash/3.7.6/Ash.html#can?/3"><code class="inline">Ash.can?/3</code></a> for more information</p><h2 id="can_update_offender?/4-options" class="section-heading"><a href="#can_update_offender?/4-options" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Options</span></h2><ul><li><code class="inline">:maybe_is</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - If the actor <em>may</em> be able to perform the action, what value should be returned. The default value is <code class="inline">true</code>.</li><li><code class="inline">:filter_with</code> - If set to <code class="inline">:error</code>, the query will raise an error on a match. If set to <code class="inline">:filter</code> the query will filter out unauthorized access. Valid values are :filter, :error The default value is <code class="inline">:filter</code>.</li><li><code class="inline">:validate?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to treat an invalid action as a non-allowed action. The default value is <code class="inline">false</code>.</li><li><code class="inline">:reuse_values?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not loaded data like aggregates, calculations and relationships should be checked in memory if possible, instead of querying. No effect if <code class="inline">pre_flight?</code> is <code class="inline">false</code>. The default value is <code class="inline">false</code>.</li><li><code class="inline">:pre_flight?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not this is a pre_flight check (which may perform optimized in-memory checks) or the final proper check. The default value is <code class="inline">true</code>.</li><li><code class="inline">:scope</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A value that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> protocol. Will overwrite any actor, tenant or context provided. See <a href="https://hexdocs.pm/ash/3.7.6/Ash.Context.html"><code class="inline">Ash.Context</code></a> for more.</li><li><code class="inline">:run_queries?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to run queries. If set to <code class="inline">true</code>, <code class="inline">:maybe</code> will not be returned. The default value is <code class="inline">true</code>.</li><li><code class="inline">:data</code> - The record or records specifically attempting to be acted upon.</li><li><code class="inline">:tenant</code> (value that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.ToTenant.html"><code class="inline">Ash.ToTenant</code></a> protocol) - The tenant to use for authorization</li><li><code class="inline">:alter_source?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If set to <code class="inline">true</code>, the source being authorized is returned so it can be run. The default value is <code class="inline">false</code>.</li><li><code class="inline">:base_query</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A base query on which to apply an generated filters</li><li><code class="inline">:no_check?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not authorization must pass at the strict/filter step, or if post-checks are allowed to be run The default value is <code class="inline">false</code>.</li><li><code class="inline">:on_must_pass_strict_check</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - Override the value returned when <code class="inline">no_check?</code> is <code class="inline">true</code> but a check must be run.</li><li><code class="inline">:atomic_changeset</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A base query on which to apply an generated filters</li><li><code class="inline">:return_forbidden_error?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to return a forbidden error in cases of not being authorized. The default value is <code class="inline">false</code>.</li><li><code class="inline">:log?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to log the authorization result. The default value is <code class="inline">false</code>.</li></ul>
  </section>
</section>
<section class="detail" id="can_update_offender_statistics/4">

    <span id="can_update_offender_statistics/2"></span>

    <span id="can_update_offender_statistics/3"></span>

  <div class="detail-header">
    <a href="#can_update_offender_statistics/4" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">can_update_offender_statistics(actor, record, params_or_opts \\ %{}, opts \\ [])</h1>


    </div>
  </div>

  <section class="docstring">

<p>Runs authorization checks for <code class="inline">EhsEnforcement.Enforcement.Offender.update_statistics</code>
See <a href="https://hexdocs.pm/ash/3.7.6/Ash.html#can/3"><code class="inline">Ash.can/3</code></a> for more information</p><h2 id="can_update_offender_statistics/4-options" class="section-heading"><a href="#can_update_offender_statistics/4-options" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Options</span></h2><ul><li><code class="inline">:maybe_is</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - If the actor <em>may</em> be able to perform the action, what value should be returned. The default value is <code class="inline">:maybe</code>.</li><li><code class="inline">:filter_with</code> - If set to <code class="inline">:error</code>, the query will raise an error on a match. If set to <code class="inline">:filter</code> the query will filter out unauthorized access. Valid values are :filter, :error The default value is <code class="inline">:filter</code>.</li><li><code class="inline">:validate?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to treat an invalid action as a non-allowed action. The default value is <code class="inline">false</code>.</li><li><code class="inline">:reuse_values?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not loaded data like aggregates, calculations and relationships should be checked in memory if possible, instead of querying. No effect if <code class="inline">pre_flight?</code> is <code class="inline">false</code>. The default value is <code class="inline">false</code>.</li><li><code class="inline">:pre_flight?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not this is a pre_flight check (which may perform optimized in-memory checks) or the final proper check. The default value is <code class="inline">true</code>.</li><li><code class="inline">:scope</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A value that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> protocol. Will overwrite any actor, tenant or context provided. See <a href="https://hexdocs.pm/ash/3.7.6/Ash.Context.html"><code class="inline">Ash.Context</code></a> for more.</li><li><code class="inline">:run_queries?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to run queries. If set to <code class="inline">true</code>, <code class="inline">:maybe</code> will not be returned. The default value is <code class="inline">true</code>.</li><li><code class="inline">:data</code> - The record or records specifically attempting to be acted upon.</li><li><code class="inline">:tenant</code> (value that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.ToTenant.html"><code class="inline">Ash.ToTenant</code></a> protocol) - The tenant to use for authorization</li><li><code class="inline">:alter_source?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If set to <code class="inline">true</code>, the source being authorized is returned so it can be run. The default value is <code class="inline">false</code>.</li><li><code class="inline">:base_query</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A base query on which to apply an generated filters</li><li><code class="inline">:no_check?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not authorization must pass at the strict/filter step, or if post-checks are allowed to be run The default value is <code class="inline">false</code>.</li><li><code class="inline">:on_must_pass_strict_check</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - Override the value returned when <code class="inline">no_check?</code> is <code class="inline">true</code> but a check must be run.</li><li><code class="inline">:atomic_changeset</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A base query on which to apply an generated filters</li><li><code class="inline">:return_forbidden_error?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to return a forbidden error in cases of not being authorized. The default value is <code class="inline">false</code>.</li><li><code class="inline">:log?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to log the authorization result. The default value is <code class="inline">false</code>.</li></ul>
  </section>
</section>
<section class="detail" id="can_update_offender_statistics?/4">

    <span id="can_update_offender_statistics?/2"></span>

    <span id="can_update_offender_statistics?/3"></span>

  <div class="detail-header">
    <a href="#can_update_offender_statistics?/4" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">can_update_offender_statistics?(actor, record, params_or_opts \\ %{}, opts \\ [])</h1>


    </div>
  </div>

  <section class="docstring">

<p>Runs authorization checks for <code class="inline">EhsEnforcement.Enforcement.Offender.update_statistics</code>, returning a boolean.
See <a href="https://hexdocs.pm/ash/3.7.6/Ash.html#can?/3"><code class="inline">Ash.can?/3</code></a> for more information</p><h2 id="can_update_offender_statistics?/4-options" class="section-heading"><a href="#can_update_offender_statistics?/4-options" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Options</span></h2><ul><li><code class="inline">:maybe_is</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - If the actor <em>may</em> be able to perform the action, what value should be returned. The default value is <code class="inline">true</code>.</li><li><code class="inline">:filter_with</code> - If set to <code class="inline">:error</code>, the query will raise an error on a match. If set to <code class="inline">:filter</code> the query will filter out unauthorized access. Valid values are :filter, :error The default value is <code class="inline">:filter</code>.</li><li><code class="inline">:validate?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to treat an invalid action as a non-allowed action. The default value is <code class="inline">false</code>.</li><li><code class="inline">:reuse_values?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not loaded data like aggregates, calculations and relationships should be checked in memory if possible, instead of querying. No effect if <code class="inline">pre_flight?</code> is <code class="inline">false</code>. The default value is <code class="inline">false</code>.</li><li><code class="inline">:pre_flight?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not this is a pre_flight check (which may perform optimized in-memory checks) or the final proper check. The default value is <code class="inline">true</code>.</li><li><code class="inline">:scope</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A value that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> protocol. Will overwrite any actor, tenant or context provided. See <a href="https://hexdocs.pm/ash/3.7.6/Ash.Context.html"><code class="inline">Ash.Context</code></a> for more.</li><li><code class="inline">:run_queries?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to run queries. If set to <code class="inline">true</code>, <code class="inline">:maybe</code> will not be returned. The default value is <code class="inline">true</code>.</li><li><code class="inline">:data</code> - The record or records specifically attempting to be acted upon.</li><li><code class="inline">:tenant</code> (value that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.ToTenant.html"><code class="inline">Ash.ToTenant</code></a> protocol) - The tenant to use for authorization</li><li><code class="inline">:alter_source?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If set to <code class="inline">true</code>, the source being authorized is returned so it can be run. The default value is <code class="inline">false</code>.</li><li><code class="inline">:base_query</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A base query on which to apply an generated filters</li><li><code class="inline">:no_check?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not authorization must pass at the strict/filter step, or if post-checks are allowed to be run The default value is <code class="inline">false</code>.</li><li><code class="inline">:on_must_pass_strict_check</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - Override the value returned when <code class="inline">no_check?</code> is <code class="inline">true</code> but a check must be run.</li><li><code class="inline">:atomic_changeset</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A base query on which to apply an generated filters</li><li><code class="inline">:return_forbidden_error?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to return a forbidden error in cases of not being authorized. The default value is <code class="inline">false</code>.</li><li><code class="inline">:log?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to log the authorization result. The default value is <code class="inline">false</code>.</li></ul>
  </section>
</section>
<section class="detail" id="change_case_for_airtable_sync/2">

    <span id="change_case_for_airtable_sync/1"></span>

  <div class="detail-header">
    <a href="#change_case_for_airtable_sync/2" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">change_case_for_airtable_sync(case_record, attrs \\ %{})</h1>


    </div>
  </div>

  <section class="docstring">


  </section>
</section>
<section class="detail" id="change_case_for_scraping/2">

    <span id="change_case_for_scraping/1"></span>

  <div class="detail-header">
    <a href="#change_case_for_scraping/2" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">change_case_for_scraping(case_record, attrs \\ %{})</h1>


    </div>
  </div>

  <section class="docstring">


  </section>
</section>
<section class="detail" id="changeset_to_bulk_create_cases/2">

    <span id="changeset_to_bulk_create_cases/0"></span>

    <span id="changeset_to_bulk_create_cases/1"></span>

  <div class="detail-header">
    <a href="#changeset_to_bulk_create_cases/2" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">changeset_to_bulk_create_cases(params_or_opts \\ %{}, opts \\ [])</h1>


    </div>
  </div>

  <section class="docstring">

<p>Returns the changeset corresponding to the action.</p><h2 id="changeset_to_bulk_create_cases/2-options" class="section-heading"><a href="#changeset_to_bulk_create_cases/2-options" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Options</span></h2><ul><li><code class="inline">:tracer</code> (one or a list of module that adopts <a href="https://hexdocs.pm/ash/3.7.6/Ash.Tracer.html"><code class="inline">Ash.Tracer</code></a>) - A tracer that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.Tracer.html"><code class="inline">Ash.Tracer</code></a> behaviour. See that module for more.</li><li><code class="inline">:authorize?</code> - If an actor option is provided (even if it is <code class="inline">nil</code>), authorization happens automatically. If not, this flag can be used to authorize with no user.</li><li><code class="inline">:tenant</code> (value that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.ToTenant.html"><code class="inline">Ash.ToTenant</code></a> protocol) - A tenant to set on the query or changeset</li><li><code class="inline">:actor</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - If an actor is provided, it will be used in conjunction with the authorizers of a resource to authorize access</li><li><code class="inline">:scope</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A value that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> protocol, for passing around actor/tenant/context in a single value. See <a href="https://hexdocs.pm/ash/3.7.6/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> for more.</li><li><code class="inline">:changeset</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A changeset to seed the action with.</li></ul>
  </section>
</section>
<section class="detail" id="changeset_to_bulk_create_offences/2">

    <span id="changeset_to_bulk_create_offences/0"></span>

    <span id="changeset_to_bulk_create_offences/1"></span>

  <div class="detail-header">
    <a href="#changeset_to_bulk_create_offences/2" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">changeset_to_bulk_create_offences(params_or_opts \\ %{}, opts \\ [])</h1>


    </div>
  </div>

  <section class="docstring">

<p>Returns the changeset corresponding to the action.</p><h2 id="changeset_to_bulk_create_offences/2-options" class="section-heading"><a href="#changeset_to_bulk_create_offences/2-options" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Options</span></h2><ul><li><code class="inline">:tracer</code> (one or a list of module that adopts <a href="https://hexdocs.pm/ash/3.7.6/Ash.Tracer.html"><code class="inline">Ash.Tracer</code></a>) - A tracer that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.Tracer.html"><code class="inline">Ash.Tracer</code></a> behaviour. See that module for more.</li><li><code class="inline">:authorize?</code> - If an actor option is provided (even if it is <code class="inline">nil</code>), authorization happens automatically. If not, this flag can be used to authorize with no user.</li><li><code class="inline">:tenant</code> (value that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.ToTenant.html"><code class="inline">Ash.ToTenant</code></a> protocol) - A tenant to set on the query or changeset</li><li><code class="inline">:actor</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - If an actor is provided, it will be used in conjunction with the authorizers of a resource to authorize access</li><li><code class="inline">:scope</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A value that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> protocol, for passing around actor/tenant/context in a single value. See <a href="https://hexdocs.pm/ash/3.7.6/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> for more.</li><li><code class="inline">:changeset</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A changeset to seed the action with.</li></ul>
  </section>
</section>
<section class="detail" id="changeset_to_create_agency/2">

    <span id="changeset_to_create_agency/0"></span>

    <span id="changeset_to_create_agency/1"></span>

  <div class="detail-header">
    <a href="#changeset_to_create_agency/2" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">changeset_to_create_agency(params_or_opts \\ %{}, opts \\ [])</h1>


    </div>
  </div>

  <section class="docstring">

<p>Returns the changeset corresponding to the action.</p><h2 id="changeset_to_create_agency/2-options" class="section-heading"><a href="#changeset_to_create_agency/2-options" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Options</span></h2><ul><li><code class="inline">:tracer</code> (one or a list of module that adopts <a href="https://hexdocs.pm/ash/3.7.6/Ash.Tracer.html"><code class="inline">Ash.Tracer</code></a>) - A tracer that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.Tracer.html"><code class="inline">Ash.Tracer</code></a> behaviour. See that module for more.</li><li><code class="inline">:authorize?</code> - If an actor option is provided (even if it is <code class="inline">nil</code>), authorization happens automatically. If not, this flag can be used to authorize with no user.</li><li><code class="inline">:tenant</code> (value that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.ToTenant.html"><code class="inline">Ash.ToTenant</code></a> protocol) - A tenant to set on the query or changeset</li><li><code class="inline">:actor</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - If an actor is provided, it will be used in conjunction with the authorizers of a resource to authorize access</li><li><code class="inline">:scope</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A value that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> protocol, for passing around actor/tenant/context in a single value. See <a href="https://hexdocs.pm/ash/3.7.6/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> for more.</li><li><code class="inline">:changeset</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A changeset to seed the action with.</li></ul>
  </section>
</section>
<section class="detail" id="changeset_to_create_case/2">

    <span id="changeset_to_create_case/0"></span>

    <span id="changeset_to_create_case/1"></span>

  <div class="detail-header">
    <a href="#changeset_to_create_case/2" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">changeset_to_create_case(params_or_opts \\ %{}, opts \\ [])</h1>


    </div>
  </div>

  <section class="docstring">

<p>Returns the changeset corresponding to the action.</p><h2 id="changeset_to_create_case/2-options" class="section-heading"><a href="#changeset_to_create_case/2-options" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Options</span></h2><ul><li><code class="inline">:tracer</code> (one or a list of module that adopts <a href="https://hexdocs.pm/ash/3.7.6/Ash.Tracer.html"><code class="inline">Ash.Tracer</code></a>) - A tracer that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.Tracer.html"><code class="inline">Ash.Tracer</code></a> behaviour. See that module for more.</li><li><code class="inline">:authorize?</code> - If an actor option is provided (even if it is <code class="inline">nil</code>), authorization happens automatically. If not, this flag can be used to authorize with no user.</li><li><code class="inline">:tenant</code> (value that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.ToTenant.html"><code class="inline">Ash.ToTenant</code></a> protocol) - A tenant to set on the query or changeset</li><li><code class="inline">:actor</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - If an actor is provided, it will be used in conjunction with the authorizers of a resource to authorize access</li><li><code class="inline">:scope</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A value that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> protocol, for passing around actor/tenant/context in a single value. See <a href="https://hexdocs.pm/ash/3.7.6/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> for more.</li><li><code class="inline">:changeset</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A changeset to seed the action with.</li></ul>
  </section>
</section>
<section class="detail" id="changeset_to_create_legislation/2">

    <span id="changeset_to_create_legislation/0"></span>

    <span id="changeset_to_create_legislation/1"></span>

  <div class="detail-header">
    <a href="#changeset_to_create_legislation/2" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">changeset_to_create_legislation(params_or_opts \\ %{}, opts \\ [])</h1>


    </div>
  </div>

  <section class="docstring">

<p>Returns the changeset corresponding to the action.</p><h2 id="changeset_to_create_legislation/2-options" class="section-heading"><a href="#changeset_to_create_legislation/2-options" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Options</span></h2><ul><li><code class="inline">:tracer</code> (one or a list of module that adopts <a href="https://hexdocs.pm/ash/3.7.6/Ash.Tracer.html"><code class="inline">Ash.Tracer</code></a>) - A tracer that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.Tracer.html"><code class="inline">Ash.Tracer</code></a> behaviour. See that module for more.</li><li><code class="inline">:authorize?</code> - If an actor option is provided (even if it is <code class="inline">nil</code>), authorization happens automatically. If not, this flag can be used to authorize with no user.</li><li><code class="inline">:tenant</code> (value that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.ToTenant.html"><code class="inline">Ash.ToTenant</code></a> protocol) - A tenant to set on the query or changeset</li><li><code class="inline">:actor</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - If an actor is provided, it will be used in conjunction with the authorizers of a resource to authorize access</li><li><code class="inline">:scope</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A value that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> protocol, for passing around actor/tenant/context in a single value. See <a href="https://hexdocs.pm/ash/3.7.6/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> for more.</li><li><code class="inline">:changeset</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A changeset to seed the action with.</li></ul>
  </section>
</section>
<section class="detail" id="changeset_to_create_notice/2">

    <span id="changeset_to_create_notice/0"></span>

    <span id="changeset_to_create_notice/1"></span>

  <div class="detail-header">
    <a href="#changeset_to_create_notice/2" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">changeset_to_create_notice(params_or_opts \\ %{}, opts \\ [])</h1>


    </div>
  </div>

  <section class="docstring">

<p>Returns the changeset corresponding to the action.</p><h2 id="changeset_to_create_notice/2-options" class="section-heading"><a href="#changeset_to_create_notice/2-options" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Options</span></h2><ul><li><code class="inline">:tracer</code> (one or a list of module that adopts <a href="https://hexdocs.pm/ash/3.7.6/Ash.Tracer.html"><code class="inline">Ash.Tracer</code></a>) - A tracer that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.Tracer.html"><code class="inline">Ash.Tracer</code></a> behaviour. See that module for more.</li><li><code class="inline">:authorize?</code> - If an actor option is provided (even if it is <code class="inline">nil</code>), authorization happens automatically. If not, this flag can be used to authorize with no user.</li><li><code class="inline">:tenant</code> (value that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.ToTenant.html"><code class="inline">Ash.ToTenant</code></a> protocol) - A tenant to set on the query or changeset</li><li><code class="inline">:actor</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - If an actor is provided, it will be used in conjunction with the authorizers of a resource to authorize access</li><li><code class="inline">:scope</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A value that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> protocol, for passing around actor/tenant/context in a single value. See <a href="https://hexdocs.pm/ash/3.7.6/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> for more.</li><li><code class="inline">:changeset</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A changeset to seed the action with.</li></ul>
  </section>
</section>
<section class="detail" id="changeset_to_create_offence/2">

    <span id="changeset_to_create_offence/0"></span>

    <span id="changeset_to_create_offence/1"></span>

  <div class="detail-header">
    <a href="#changeset_to_create_offence/2" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">changeset_to_create_offence(params_or_opts \\ %{}, opts \\ [])</h1>


    </div>
  </div>

  <section class="docstring">

<p>Returns the changeset corresponding to the action.</p><h2 id="changeset_to_create_offence/2-options" class="section-heading"><a href="#changeset_to_create_offence/2-options" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Options</span></h2><ul><li><code class="inline">:tracer</code> (one or a list of module that adopts <a href="https://hexdocs.pm/ash/3.7.6/Ash.Tracer.html"><code class="inline">Ash.Tracer</code></a>) - A tracer that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.Tracer.html"><code class="inline">Ash.Tracer</code></a> behaviour. See that module for more.</li><li><code class="inline">:authorize?</code> - If an actor option is provided (even if it is <code class="inline">nil</code>), authorization happens automatically. If not, this flag can be used to authorize with no user.</li><li><code class="inline">:tenant</code> (value that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.ToTenant.html"><code class="inline">Ash.ToTenant</code></a> protocol) - A tenant to set on the query or changeset</li><li><code class="inline">:actor</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - If an actor is provided, it will be used in conjunction with the authorizers of a resource to authorize access</li><li><code class="inline">:scope</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A value that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> protocol, for passing around actor/tenant/context in a single value. See <a href="https://hexdocs.pm/ash/3.7.6/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> for more.</li><li><code class="inline">:changeset</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A changeset to seed the action with.</li></ul>
  </section>
</section>
<section class="detail" id="changeset_to_create_offender/2">

    <span id="changeset_to_create_offender/0"></span>

    <span id="changeset_to_create_offender/1"></span>

  <div class="detail-header">
    <a href="#changeset_to_create_offender/2" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">changeset_to_create_offender(params_or_opts \\ %{}, opts \\ [])</h1>


    </div>
  </div>

  <section class="docstring">

<p>Returns the changeset corresponding to the action.</p><h2 id="changeset_to_create_offender/2-options" class="section-heading"><a href="#changeset_to_create_offender/2-options" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Options</span></h2><ul><li><code class="inline">:tracer</code> (one or a list of module that adopts <a href="https://hexdocs.pm/ash/3.7.6/Ash.Tracer.html"><code class="inline">Ash.Tracer</code></a>) - A tracer that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.Tracer.html"><code class="inline">Ash.Tracer</code></a> behaviour. See that module for more.</li><li><code class="inline">:authorize?</code> - If an actor option is provided (even if it is <code class="inline">nil</code>), authorization happens automatically. If not, this flag can be used to authorize with no user.</li><li><code class="inline">:tenant</code> (value that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.ToTenant.html"><code class="inline">Ash.ToTenant</code></a> protocol) - A tenant to set on the query or changeset</li><li><code class="inline">:actor</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - If an actor is provided, it will be used in conjunction with the authorizers of a resource to authorize access</li><li><code class="inline">:scope</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A value that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> protocol, for passing around actor/tenant/context in a single value. See <a href="https://hexdocs.pm/ash/3.7.6/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> for more.</li><li><code class="inline">:changeset</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A changeset to seed the action with.</li></ul>
  </section>
</section>
<section class="detail" id="changeset_to_destroy_case/3">

    <span id="changeset_to_destroy_case/1"></span>

    <span id="changeset_to_destroy_case/2"></span>

  <div class="detail-header">
    <a href="#changeset_to_destroy_case/3" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">changeset_to_destroy_case(record, params_or_opts \\ %{}, opts \\ [])</h1>


    </div>
  </div>

  <section class="docstring">

<p>Returns the changeset corresponding to the action.</p><h2 id="changeset_to_destroy_case/3-options" class="section-heading"><a href="#changeset_to_destroy_case/3-options" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Options</span></h2><ul><li><code class="inline">:tracer</code> (one or a list of module that adopts <a href="https://hexdocs.pm/ash/3.7.6/Ash.Tracer.html"><code class="inline">Ash.Tracer</code></a>) - A tracer that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.Tracer.html"><code class="inline">Ash.Tracer</code></a> behaviour. See that module for more.</li><li><code class="inline">:authorize?</code> - If an actor option is provided (even if it is <code class="inline">nil</code>), authorization happens automatically. If not, this flag can be used to authorize with no user.</li><li><code class="inline">:tenant</code> (value that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.ToTenant.html"><code class="inline">Ash.ToTenant</code></a> protocol) - A tenant to set on the query or changeset</li><li><code class="inline">:actor</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - If an actor is provided, it will be used in conjunction with the authorizers of a resource to authorize access</li><li><code class="inline">:scope</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A value that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> protocol, for passing around actor/tenant/context in a single value. See <a href="https://hexdocs.pm/ash/3.7.6/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> for more.</li></ul>
  </section>
</section>
<section class="detail" id="changeset_to_destroy_legislation/3">

    <span id="changeset_to_destroy_legislation/1"></span>

    <span id="changeset_to_destroy_legislation/2"></span>

  <div class="detail-header">
    <a href="#changeset_to_destroy_legislation/3" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">changeset_to_destroy_legislation(record, params_or_opts \\ %{}, opts \\ [])</h1>


    </div>
  </div>

  <section class="docstring">

<p>Returns the changeset corresponding to the action.</p><h2 id="changeset_to_destroy_legislation/3-options" class="section-heading"><a href="#changeset_to_destroy_legislation/3-options" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Options</span></h2><ul><li><code class="inline">:tracer</code> (one or a list of module that adopts <a href="https://hexdocs.pm/ash/3.7.6/Ash.Tracer.html"><code class="inline">Ash.Tracer</code></a>) - A tracer that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.Tracer.html"><code class="inline">Ash.Tracer</code></a> behaviour. See that module for more.</li><li><code class="inline">:authorize?</code> - If an actor option is provided (even if it is <code class="inline">nil</code>), authorization happens automatically. If not, this flag can be used to authorize with no user.</li><li><code class="inline">:tenant</code> (value that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.ToTenant.html"><code class="inline">Ash.ToTenant</code></a> protocol) - A tenant to set on the query or changeset</li><li><code class="inline">:actor</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - If an actor is provided, it will be used in conjunction with the authorizers of a resource to authorize access</li><li><code class="inline">:scope</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A value that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> protocol, for passing around actor/tenant/context in a single value. See <a href="https://hexdocs.pm/ash/3.7.6/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> for more.</li></ul>
  </section>
</section>
<section class="detail" id="changeset_to_destroy_notice/3">

    <span id="changeset_to_destroy_notice/1"></span>

    <span id="changeset_to_destroy_notice/2"></span>

  <div class="detail-header">
    <a href="#changeset_to_destroy_notice/3" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">changeset_to_destroy_notice(record, params_or_opts \\ %{}, opts \\ [])</h1>


    </div>
  </div>

  <section class="docstring">

<p>Returns the changeset corresponding to the action.</p><h2 id="changeset_to_destroy_notice/3-options" class="section-heading"><a href="#changeset_to_destroy_notice/3-options" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Options</span></h2><ul><li><code class="inline">:tracer</code> (one or a list of module that adopts <a href="https://hexdocs.pm/ash/3.7.6/Ash.Tracer.html"><code class="inline">Ash.Tracer</code></a>) - A tracer that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.Tracer.html"><code class="inline">Ash.Tracer</code></a> behaviour. See that module for more.</li><li><code class="inline">:authorize?</code> - If an actor option is provided (even if it is <code class="inline">nil</code>), authorization happens automatically. If not, this flag can be used to authorize with no user.</li><li><code class="inline">:tenant</code> (value that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.ToTenant.html"><code class="inline">Ash.ToTenant</code></a> protocol) - A tenant to set on the query or changeset</li><li><code class="inline">:actor</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - If an actor is provided, it will be used in conjunction with the authorizers of a resource to authorize access</li><li><code class="inline">:scope</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A value that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> protocol, for passing around actor/tenant/context in a single value. See <a href="https://hexdocs.pm/ash/3.7.6/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> for more.</li></ul>
  </section>
</section>
<section class="detail" id="changeset_to_destroy_offence/3">

    <span id="changeset_to_destroy_offence/1"></span>

    <span id="changeset_to_destroy_offence/2"></span>

  <div class="detail-header">
    <a href="#changeset_to_destroy_offence/3" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">changeset_to_destroy_offence(record, params_or_opts \\ %{}, opts \\ [])</h1>


    </div>
  </div>

  <section class="docstring">

<p>Returns the changeset corresponding to the action.</p><h2 id="changeset_to_destroy_offence/3-options" class="section-heading"><a href="#changeset_to_destroy_offence/3-options" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Options</span></h2><ul><li><code class="inline">:tracer</code> (one or a list of module that adopts <a href="https://hexdocs.pm/ash/3.7.6/Ash.Tracer.html"><code class="inline">Ash.Tracer</code></a>) - A tracer that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.Tracer.html"><code class="inline">Ash.Tracer</code></a> behaviour. See that module for more.</li><li><code class="inline">:authorize?</code> - If an actor option is provided (even if it is <code class="inline">nil</code>), authorization happens automatically. If not, this flag can be used to authorize with no user.</li><li><code class="inline">:tenant</code> (value that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.ToTenant.html"><code class="inline">Ash.ToTenant</code></a> protocol) - A tenant to set on the query or changeset</li><li><code class="inline">:actor</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - If an actor is provided, it will be used in conjunction with the authorizers of a resource to authorize access</li><li><code class="inline">:scope</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A value that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> protocol, for passing around actor/tenant/context in a single value. See <a href="https://hexdocs.pm/ash/3.7.6/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> for more.</li></ul>
  </section>
</section>
<section class="detail" id="changeset_to_refresh_metrics/2">

    <span id="changeset_to_refresh_metrics/0"></span>

    <span id="changeset_to_refresh_metrics/1"></span>

  <div class="detail-header">
    <a href="#changeset_to_refresh_metrics/2" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">changeset_to_refresh_metrics(params_or_opts \\ %{}, opts \\ [])</h1>


    </div>
  </div>

  <section class="docstring">

<p>Returns the changeset corresponding to the action.</p><h2 id="changeset_to_refresh_metrics/2-options" class="section-heading"><a href="#changeset_to_refresh_metrics/2-options" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Options</span></h2><ul><li><code class="inline">:tracer</code> (one or a list of module that adopts <a href="https://hexdocs.pm/ash/3.7.6/Ash.Tracer.html"><code class="inline">Ash.Tracer</code></a>) - A tracer that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.Tracer.html"><code class="inline">Ash.Tracer</code></a> behaviour. See that module for more.</li><li><code class="inline">:authorize?</code> - If an actor option is provided (even if it is <code class="inline">nil</code>), authorization happens automatically. If not, this flag can be used to authorize with no user.</li><li><code class="inline">:tenant</code> (value that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.ToTenant.html"><code class="inline">Ash.ToTenant</code></a> protocol) - A tenant to set on the query or changeset</li><li><code class="inline">:actor</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - If an actor is provided, it will be used in conjunction with the authorizers of a resource to authorize access</li><li><code class="inline">:scope</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A value that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> protocol, for passing around actor/tenant/context in a single value. See <a href="https://hexdocs.pm/ash/3.7.6/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> for more.</li><li><code class="inline">:changeset</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A changeset to seed the action with.</li></ul>
  </section>
</section>
<section class="detail" id="changeset_to_sync_case_from_airtable/3">

    <span id="changeset_to_sync_case_from_airtable/1"></span>

    <span id="changeset_to_sync_case_from_airtable/2"></span>

  <div class="detail-header">
    <a href="#changeset_to_sync_case_from_airtable/3" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">changeset_to_sync_case_from_airtable(record, params_or_opts \\ %{}, opts \\ [])</h1>


    </div>
  </div>

  <section class="docstring">

<p>Returns the changeset corresponding to the action.</p><h2 id="changeset_to_sync_case_from_airtable/3-options" class="section-heading"><a href="#changeset_to_sync_case_from_airtable/3-options" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Options</span></h2><ul><li><code class="inline">:tracer</code> (one or a list of module that adopts <a href="https://hexdocs.pm/ash/3.7.6/Ash.Tracer.html"><code class="inline">Ash.Tracer</code></a>) - A tracer that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.Tracer.html"><code class="inline">Ash.Tracer</code></a> behaviour. See that module for more.</li><li><code class="inline">:authorize?</code> - If an actor option is provided (even if it is <code class="inline">nil</code>), authorization happens automatically. If not, this flag can be used to authorize with no user.</li><li><code class="inline">:tenant</code> (value that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.ToTenant.html"><code class="inline">Ash.ToTenant</code></a> protocol) - A tenant to set on the query or changeset</li><li><code class="inline">:actor</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - If an actor is provided, it will be used in conjunction with the authorizers of a resource to authorize access</li><li><code class="inline">:scope</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A value that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> protocol, for passing around actor/tenant/context in a single value. See <a href="https://hexdocs.pm/ash/3.7.6/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> for more.</li></ul>
  </section>
</section>
<section class="detail" id="changeset_to_update_agency/3">

    <span id="changeset_to_update_agency/1"></span>

    <span id="changeset_to_update_agency/2"></span>

  <div class="detail-header">
    <a href="#changeset_to_update_agency/3" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">changeset_to_update_agency(record, params_or_opts \\ %{}, opts \\ [])</h1>


    </div>
  </div>

  <section class="docstring">

<p>Returns the changeset corresponding to the action.</p><h2 id="changeset_to_update_agency/3-options" class="section-heading"><a href="#changeset_to_update_agency/3-options" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Options</span></h2><ul><li><code class="inline">:tracer</code> (one or a list of module that adopts <a href="https://hexdocs.pm/ash/3.7.6/Ash.Tracer.html"><code class="inline">Ash.Tracer</code></a>) - A tracer that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.Tracer.html"><code class="inline">Ash.Tracer</code></a> behaviour. See that module for more.</li><li><code class="inline">:authorize?</code> - If an actor option is provided (even if it is <code class="inline">nil</code>), authorization happens automatically. If not, this flag can be used to authorize with no user.</li><li><code class="inline">:tenant</code> (value that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.ToTenant.html"><code class="inline">Ash.ToTenant</code></a> protocol) - A tenant to set on the query or changeset</li><li><code class="inline">:actor</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - If an actor is provided, it will be used in conjunction with the authorizers of a resource to authorize access</li><li><code class="inline">:scope</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A value that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> protocol, for passing around actor/tenant/context in a single value. See <a href="https://hexdocs.pm/ash/3.7.6/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> for more.</li></ul>
  </section>
</section>
<section class="detail" id="changeset_to_update_case/3">

    <span id="changeset_to_update_case/1"></span>

    <span id="changeset_to_update_case/2"></span>

  <div class="detail-header">
    <a href="#changeset_to_update_case/3" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">changeset_to_update_case(record, params_or_opts \\ %{}, opts \\ [])</h1>


    </div>
  </div>

  <section class="docstring">

<p>Returns the changeset corresponding to the action.</p><h2 id="changeset_to_update_case/3-options" class="section-heading"><a href="#changeset_to_update_case/3-options" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Options</span></h2><ul><li><code class="inline">:tracer</code> (one or a list of module that adopts <a href="https://hexdocs.pm/ash/3.7.6/Ash.Tracer.html"><code class="inline">Ash.Tracer</code></a>) - A tracer that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.Tracer.html"><code class="inline">Ash.Tracer</code></a> behaviour. See that module for more.</li><li><code class="inline">:authorize?</code> - If an actor option is provided (even if it is <code class="inline">nil</code>), authorization happens automatically. If not, this flag can be used to authorize with no user.</li><li><code class="inline">:tenant</code> (value that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.ToTenant.html"><code class="inline">Ash.ToTenant</code></a> protocol) - A tenant to set on the query or changeset</li><li><code class="inline">:actor</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - If an actor is provided, it will be used in conjunction with the authorizers of a resource to authorize access</li><li><code class="inline">:scope</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A value that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> protocol, for passing around actor/tenant/context in a single value. See <a href="https://hexdocs.pm/ash/3.7.6/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> for more.</li></ul>
  </section>
</section>
<section class="detail" id="changeset_to_update_case_from_scraping/3">

    <span id="changeset_to_update_case_from_scraping/1"></span>

    <span id="changeset_to_update_case_from_scraping/2"></span>

  <div class="detail-header">
    <a href="#changeset_to_update_case_from_scraping/3" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">changeset_to_update_case_from_scraping(record, params_or_opts \\ %{}, opts \\ [])</h1>


    </div>
  </div>

  <section class="docstring">

<p>Returns the changeset corresponding to the action.</p><h2 id="changeset_to_update_case_from_scraping/3-options" class="section-heading"><a href="#changeset_to_update_case_from_scraping/3-options" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Options</span></h2><ul><li><code class="inline">:tracer</code> (one or a list of module that adopts <a href="https://hexdocs.pm/ash/3.7.6/Ash.Tracer.html"><code class="inline">Ash.Tracer</code></a>) - A tracer that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.Tracer.html"><code class="inline">Ash.Tracer</code></a> behaviour. See that module for more.</li><li><code class="inline">:authorize?</code> - If an actor option is provided (even if it is <code class="inline">nil</code>), authorization happens automatically. If not, this flag can be used to authorize with no user.</li><li><code class="inline">:tenant</code> (value that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.ToTenant.html"><code class="inline">Ash.ToTenant</code></a> protocol) - A tenant to set on the query or changeset</li><li><code class="inline">:actor</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - If an actor is provided, it will be used in conjunction with the authorizers of a resource to authorize access</li><li><code class="inline">:scope</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A value that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> protocol, for passing around actor/tenant/context in a single value. See <a href="https://hexdocs.pm/ash/3.7.6/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> for more.</li></ul>
  </section>
</section>
<section class="detail" id="changeset_to_update_legislation/3">

    <span id="changeset_to_update_legislation/1"></span>

    <span id="changeset_to_update_legislation/2"></span>

  <div class="detail-header">
    <a href="#changeset_to_update_legislation/3" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">changeset_to_update_legislation(record, params_or_opts \\ %{}, opts \\ [])</h1>


    </div>
  </div>

  <section class="docstring">

<p>Returns the changeset corresponding to the action.</p><h2 id="changeset_to_update_legislation/3-options" class="section-heading"><a href="#changeset_to_update_legislation/3-options" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Options</span></h2><ul><li><code class="inline">:tracer</code> (one or a list of module that adopts <a href="https://hexdocs.pm/ash/3.7.6/Ash.Tracer.html"><code class="inline">Ash.Tracer</code></a>) - A tracer that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.Tracer.html"><code class="inline">Ash.Tracer</code></a> behaviour. See that module for more.</li><li><code class="inline">:authorize?</code> - If an actor option is provided (even if it is <code class="inline">nil</code>), authorization happens automatically. If not, this flag can be used to authorize with no user.</li><li><code class="inline">:tenant</code> (value that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.ToTenant.html"><code class="inline">Ash.ToTenant</code></a> protocol) - A tenant to set on the query or changeset</li><li><code class="inline">:actor</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - If an actor is provided, it will be used in conjunction with the authorizers of a resource to authorize access</li><li><code class="inline">:scope</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A value that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> protocol, for passing around actor/tenant/context in a single value. See <a href="https://hexdocs.pm/ash/3.7.6/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> for more.</li></ul>
  </section>
</section>
<section class="detail" id="changeset_to_update_notice/3">

    <span id="changeset_to_update_notice/1"></span>

    <span id="changeset_to_update_notice/2"></span>

  <div class="detail-header">
    <a href="#changeset_to_update_notice/3" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">changeset_to_update_notice(record, params_or_opts \\ %{}, opts \\ [])</h1>


    </div>
  </div>

  <section class="docstring">

<p>Returns the changeset corresponding to the action.</p><h2 id="changeset_to_update_notice/3-options" class="section-heading"><a href="#changeset_to_update_notice/3-options" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Options</span></h2><ul><li><code class="inline">:tracer</code> (one or a list of module that adopts <a href="https://hexdocs.pm/ash/3.7.6/Ash.Tracer.html"><code class="inline">Ash.Tracer</code></a>) - A tracer that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.Tracer.html"><code class="inline">Ash.Tracer</code></a> behaviour. See that module for more.</li><li><code class="inline">:authorize?</code> - If an actor option is provided (even if it is <code class="inline">nil</code>), authorization happens automatically. If not, this flag can be used to authorize with no user.</li><li><code class="inline">:tenant</code> (value that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.ToTenant.html"><code class="inline">Ash.ToTenant</code></a> protocol) - A tenant to set on the query or changeset</li><li><code class="inline">:actor</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - If an actor is provided, it will be used in conjunction with the authorizers of a resource to authorize access</li><li><code class="inline">:scope</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A value that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> protocol, for passing around actor/tenant/context in a single value. See <a href="https://hexdocs.pm/ash/3.7.6/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> for more.</li></ul>
  </section>
</section>
<section class="detail" id="changeset_to_update_offence/3">

    <span id="changeset_to_update_offence/1"></span>

    <span id="changeset_to_update_offence/2"></span>

  <div class="detail-header">
    <a href="#changeset_to_update_offence/3" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">changeset_to_update_offence(record, params_or_opts \\ %{}, opts \\ [])</h1>


    </div>
  </div>

  <section class="docstring">

<p>Returns the changeset corresponding to the action.</p><h2 id="changeset_to_update_offence/3-options" class="section-heading"><a href="#changeset_to_update_offence/3-options" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Options</span></h2><ul><li><code class="inline">:tracer</code> (one or a list of module that adopts <a href="https://hexdocs.pm/ash/3.7.6/Ash.Tracer.html"><code class="inline">Ash.Tracer</code></a>) - A tracer that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.Tracer.html"><code class="inline">Ash.Tracer</code></a> behaviour. See that module for more.</li><li><code class="inline">:authorize?</code> - If an actor option is provided (even if it is <code class="inline">nil</code>), authorization happens automatically. If not, this flag can be used to authorize with no user.</li><li><code class="inline">:tenant</code> (value that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.ToTenant.html"><code class="inline">Ash.ToTenant</code></a> protocol) - A tenant to set on the query or changeset</li><li><code class="inline">:actor</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - If an actor is provided, it will be used in conjunction with the authorizers of a resource to authorize access</li><li><code class="inline">:scope</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A value that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> protocol, for passing around actor/tenant/context in a single value. See <a href="https://hexdocs.pm/ash/3.7.6/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> for more.</li></ul>
  </section>
</section>
<section class="detail" id="changeset_to_update_offender/3">

    <span id="changeset_to_update_offender/1"></span>

    <span id="changeset_to_update_offender/2"></span>

  <div class="detail-header">
    <a href="#changeset_to_update_offender/3" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">changeset_to_update_offender(record, params_or_opts \\ %{}, opts \\ [])</h1>


    </div>
  </div>

  <section class="docstring">

<p>Returns the changeset corresponding to the action.</p><h2 id="changeset_to_update_offender/3-options" class="section-heading"><a href="#changeset_to_update_offender/3-options" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Options</span></h2><ul><li><code class="inline">:tracer</code> (one or a list of module that adopts <a href="https://hexdocs.pm/ash/3.7.6/Ash.Tracer.html"><code class="inline">Ash.Tracer</code></a>) - A tracer that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.Tracer.html"><code class="inline">Ash.Tracer</code></a> behaviour. See that module for more.</li><li><code class="inline">:authorize?</code> - If an actor option is provided (even if it is <code class="inline">nil</code>), authorization happens automatically. If not, this flag can be used to authorize with no user.</li><li><code class="inline">:tenant</code> (value that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.ToTenant.html"><code class="inline">Ash.ToTenant</code></a> protocol) - A tenant to set on the query or changeset</li><li><code class="inline">:actor</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - If an actor is provided, it will be used in conjunction with the authorizers of a resource to authorize access</li><li><code class="inline">:scope</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A value that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> protocol, for passing around actor/tenant/context in a single value. See <a href="https://hexdocs.pm/ash/3.7.6/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> for more.</li></ul>
  </section>
</section>
<section class="detail" id="changeset_to_update_offender_statistics/3">

    <span id="changeset_to_update_offender_statistics/1"></span>

    <span id="changeset_to_update_offender_statistics/2"></span>

  <div class="detail-header">
    <a href="#changeset_to_update_offender_statistics/3" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">changeset_to_update_offender_statistics(record, params_or_opts \\ %{}, opts \\ [])</h1>


    </div>
  </div>

  <section class="docstring">

<p>Returns the changeset corresponding to the action.</p><h2 id="changeset_to_update_offender_statistics/3-options" class="section-heading"><a href="#changeset_to_update_offender_statistics/3-options" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Options</span></h2><ul><li><code class="inline">:tracer</code> (one or a list of module that adopts <a href="https://hexdocs.pm/ash/3.7.6/Ash.Tracer.html"><code class="inline">Ash.Tracer</code></a>) - A tracer that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.Tracer.html"><code class="inline">Ash.Tracer</code></a> behaviour. See that module for more.</li><li><code class="inline">:authorize?</code> - If an actor option is provided (even if it is <code class="inline">nil</code>), authorization happens automatically. If not, this flag can be used to authorize with no user.</li><li><code class="inline">:tenant</code> (value that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.ToTenant.html"><code class="inline">Ash.ToTenant</code></a> protocol) - A tenant to set on the query or changeset</li><li><code class="inline">:actor</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - If an actor is provided, it will be used in conjunction with the authorizers of a resource to authorize access</li><li><code class="inline">:scope</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A value that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> protocol, for passing around actor/tenant/context in a single value. See <a href="https://hexdocs.pm/ash/3.7.6/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> for more.</li></ul>
  </section>
</section>
<section class="detail" id="check_existing_notice_regulator_ids/3">

    <span id="check_existing_notice_regulator_ids/2"></span>

  <div class="detail-header">
    <a href="#check_existing_notice_regulator_ids/3" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">check_existing_notice_regulator_ids(regulator_ids, agency_code, actor \\ nil)</h1>


    </div>
  </div>

  <section class="docstring">

<p>Check which notice regulator_ids already exist in the database.</p><p>Used for pre-filtering during EA enforcement notice scraping to skip
existing records and only process new ones.</p><h2 id="check_existing_notice_regulator_ids/3-parameters" class="section-heading"><a href="#check_existing_notice_regulator_ids/3-parameters" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Parameters</span></h2><ul><li><code class="inline">regulator_ids</code> - List of regulator_id strings to check</li><li><code class="inline">agency_code</code> - Agency code atom (e.g., :environment_agency)</li><li><code class="inline">actor</code> - Optional actor for authorization (default: nil)</li></ul><h2 id="check_existing_notice_regulator_ids/3-returns" class="section-heading"><a href="#check_existing_notice_regulator_ids/3-returns" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Returns</span></h2><p>Map with existing and new regulator_id lists plus counts:</p><ul><li><code class="inline">:existing</code> - List of regulator_ids that already exist</li><li><code class="inline">:new</code> - List of regulator_ids that don't exist yet</li><li><code class="inline">:total</code> - Total count of regulator_ids checked</li><li><code class="inline">:existing_count</code> - Count of existing records</li><li><code class="inline">:new_count</code> - Count of new records</li></ul><h2 id="check_existing_notice_regulator_ids/3-examples" class="section-heading"><a href="#check_existing_notice_regulator_ids/3-examples" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Examples</span></h2><pre><code class="makeup elixir" translate="no"><span class="gp unselectable">iex&gt; </span><span class="n">check_existing_notice_regulator_ids</span><span class="p" data-group-id="5592285659-1">(</span><span class="p" data-group-id="5592285659-2">[</span><span class="s">&quot;EA-123&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;EA-456&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;EA-789&quot;</span><span class="p" data-group-id="5592285659-2">]</span><span class="p">,</span><span class="w"> </span><span class="ss">:environment_agency</span><span class="p" data-group-id="5592285659-1">)</span><span class="w">
</span><span class="p" data-group-id="5592285659-3">%{</span><span class="w">
  </span><span class="ss">existing</span><span class="p">:</span><span class="w"> </span><span class="p" data-group-id="5592285659-4">[</span><span class="s">&quot;EA-123&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;EA-456&quot;</span><span class="p" data-group-id="5592285659-4">]</span><span class="p">,</span><span class="w">
  </span><span class="ss">new</span><span class="p">:</span><span class="w"> </span><span class="p" data-group-id="5592285659-5">[</span><span class="s">&quot;EA-789&quot;</span><span class="p" data-group-id="5592285659-5">]</span><span class="p">,</span><span class="w">
  </span><span class="ss">total</span><span class="p">:</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w">
  </span><span class="ss">existing_count</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
  </span><span class="ss">new_count</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="w">
</span><span class="p" data-group-id="5592285659-3">}</span></code></pre>
  </section>
</section>
<section class="detail" id="clear_cache/0">

  <div class="detail-header">
    <a href="#clear_cache/0" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">clear_cache()</h1>


    </div>
  </div>

  <section class="docstring">

<p>Clear all cached results. Useful when data is updated.</p>
  </section>
</section>
<section class="detail" id="count/2">

    <span id="count/1"></span>

  <div class="detail-header">
    <a href="#count/2" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">count(query, opts \\ [])</h1>


    </div>
  </div>

    <div class="deprecated">
      This function is deprecated. Use `Ash.count/2` instead.
    </div>

  <section class="docstring">


  </section>
</section>
<section class="detail" id="count!/2">

    <span id="count!/1"></span>

  <div class="detail-header">
    <a href="#count!/2" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">count!(query, opts \\ [])</h1>


    </div>
  </div>

    <div class="deprecated">
      This function is deprecated. Use `Ash.count!/2` instead.
    </div>

  <section class="docstring">


  </section>
</section>
<section class="detail" id="count_cases!/1">

    <span id="count_cases!/0"></span>

  <div class="detail-header">
    <a href="#count_cases!/1" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">count_cases!(opts \\ [])</h1>


    </div>
  </div>

  <section class="docstring">


  </section>
</section>
<section class="detail" id="count_cases_cached!/1">

    <span id="count_cases_cached!/0"></span>

  <div class="detail-header">
    <a href="#count_cases_cached!/1" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">count_cases_cached!(opts \\ [])</h1>


    </div>
  </div>

  <section class="docstring">

<p>Cached count functions for dashboard metrics and pagination.</p>
  </section>
</section>
<section class="detail" id="count_cases_monitored!/1">

    <span id="count_cases_monitored!/0"></span>

  <div class="detail-header">
    <a href="#count_cases_monitored!/1" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">count_cases_monitored!(opts \\ [])</h1>


    </div>
  </div>

  <section class="docstring">

<p>Monitored version of count_cases! that logs slow queries.</p>
  </section>
</section>
<section class="detail" id="count_legislation!/1">

    <span id="count_legislation!/0"></span>

  <div class="detail-header">
    <a href="#count_legislation!/1" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">count_legislation!(opts \\ [])</h1>


    </div>
  </div>

  <section class="docstring">


  </section>
</section>
<section class="detail" id="count_notices!/1">

    <span id="count_notices!/0"></span>

  <div class="detail-header">
    <a href="#count_notices!/1" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">count_notices!(opts \\ [])</h1>


    </div>
  </div>

  <section class="docstring">


  </section>
</section>
<section class="detail" id="count_notices_cached!/1">

    <span id="count_notices_cached!/0"></span>

  <div class="detail-header">
    <a href="#count_notices_cached!/1" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">count_notices_cached!(opts \\ [])</h1>


    </div>
  </div>

  <section class="docstring">


  </section>
</section>
<section class="detail" id="count_notices_monitored!/1">

    <span id="count_notices_monitored!/0"></span>

  <div class="detail-header">
    <a href="#count_notices_monitored!/1" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">count_notices_monitored!(opts \\ [])</h1>


    </div>
  </div>

  <section class="docstring">

<p>Monitored version of count_notices! that logs slow queries.</p>
  </section>
</section>
<section class="detail" id="count_offenders!/1">

    <span id="count_offenders!/0"></span>

  <div class="detail-header">
    <a href="#count_offenders!/1" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">count_offenders!(opts \\ [])</h1>


    </div>
  </div>

  <section class="docstring">


  </section>
</section>
<section class="detail" id="count_offenders_cached!/1">

    <span id="count_offenders_cached!/0"></span>

  <div class="detail-header">
    <a href="#count_offenders_cached!/1" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">count_offenders_cached!(opts \\ [])</h1>


    </div>
  </div>

  <section class="docstring">


  </section>
</section>
<section class="detail" id="count_offenders_monitored!/1">

    <span id="count_offenders_monitored!/0"></span>

  <div class="detail-header">
    <a href="#count_offenders_monitored!/1" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">count_offenders_monitored!(opts \\ [])</h1>


    </div>
  </div>

  <section class="docstring">

<p>Monitored version of count_offenders! that logs slow queries.</p>
  </section>
</section>
<section class="detail" id="create/2">

    <span id="create/1"></span>

  <div class="detail-header">
    <a href="#create/2" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">create(changeset, opts \\ [])</h1>


    </div>
  </div>

    <div class="deprecated">
      This function is deprecated. Use `Ash.create/2` instead.
    </div>

  <section class="docstring">


  </section>
</section>
<section class="detail" id="create!/2">

    <span id="create!/1"></span>

  <div class="detail-header">
    <a href="#create!/2" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">create!(changeset, opts \\ [])</h1>


    </div>
  </div>

    <div class="deprecated">
      This function is deprecated. Use `Ash.create!/2` instead.
    </div>

  <section class="docstring">


  </section>
</section>
<section class="detail" id="create_agency/2">

    <span id="create_agency/0"></span>

    <span id="create_agency/1"></span>

  <div class="detail-header">
    <a href="#create_agency/2" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">create_agency(params \\ nil, opts \\ nil)</h1>


    </div>
  </div>

  <section class="docstring">

<p>Calls the create action on EhsEnforcement.Enforcement.Agency.</p><h1>Inputs</h1><ul><li>code</li><li>enabled</li><li>name</li><li>base_url</li></ul><h2 id="create_agency/2-options" class="section-heading"><a href="#create_agency/2-options" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Options</span></h2><ul><li><code class="inline">:upsert?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If a conflict is found based on the primary key, the record is updated in the database (requires upsert support) The default value is <code class="inline">false</code>.</li><li><code class="inline">:return_skipped_upsert?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If <code class="inline">true</code>, and a record was <em>not</em> upserted because its filter prevented the upsert, the original record (which was <em>not</em> upserted) will be returned. The default value is <code class="inline">false</code>.</li><li><code class="inline">:upsert_identity</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - The identity to use when detecting conflicts for <code class="inline">upsert?</code>, e.g. <code class="inline">upsert_identity: :full_name</code>. By default, the primary key is used. Has no effect if <code class="inline">upsert?: true</code> is not provided</li><li><code class="inline">:upsert_fields</code> - The fields to upsert. If not set, the action's upsert_fields is used, and if that is not set, then any fields not being set to defaults are written.</li><li><code class="inline">:upsert_condition</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - An expression to check if the record should be updated when there's a conflict.</li><li><code class="inline">:timeout</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">timeout/0</code></a>) - A positive integer, or <code class="inline">:infinity</code>. If none is provided, the timeout configured on the domain is used.</li><li><code class="inline">:tracer</code> (one or a list of module that adopts <a href="https://hexdocs.pm/ash/3.7.6/Ash.Tracer.html"><code class="inline">Ash.Tracer</code></a>) - A tracer that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.Tracer.html"><code class="inline">Ash.Tracer</code></a> behaviour. See that module for more.</li><li><code class="inline">:action</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - The action to use, either an Action struct or the name of the action</li><li><code class="inline">:authorize?</code> - If an actor option is provided (even if it is <code class="inline">nil</code>), authorization happens automatically. If not, this flag can be used to authorize with no user.</li><li><code class="inline">:context</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">map/0</code></a>) - Context to set on the query, changeset, or input</li><li><code class="inline">:tenant</code> (value that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.ToTenant.html"><code class="inline">Ash.ToTenant</code></a> protocol) - A tenant to set on the query or changeset</li><li><code class="inline">:actor</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - If an actor is provided, it will be used in conjunction with the authorizers of a resource to authorize access</li><li><code class="inline">:scope</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A value that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> protocol, for passing around actor/tenant/context in a single value. See <a href="https://hexdocs.pm/ash/3.7.6/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> for more.</li><li><code class="inline">:return_notifications?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Use this if you're running ash actions in your own transaction and you want to manually handle sending notifications.<br/>If a transaction is ongoing, and this is false, notifications will be discarded, otherwise
the return value is <code class="inline">{:ok, result, notifications}</code> (or <code class="inline">{:ok, notifications}</code>)<br/>To send notifications later, use <code class="inline">Ash.Notifier.notify(notifications)</code>. It sends any notifications
that can be sent, and returns the rest. The default value is <code class="inline">false</code>.</li><li><code class="inline">:rollback_on_error?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to rollback the transaction on error, if the resource is in a transaction.<br/>If the action has <code class="inline">transaction? false</code> this option has no effect. If an error is returned from the
data layer and the resource is in a transaction, the transaction is always rolled back, regardless. The default value is <code class="inline">true</code>.</li><li><code class="inline">:notification_metadata</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - Metadata to be merged into the metadata field for all notifications sent from this operation. The default value is <code class="inline">%{}</code>.</li><li><code class="inline">:skip_unknown_inputs</code> - A list of inputs that, if provided, will be ignored if they are not recognized by the action. Use <code class="inline">:*</code> to indicate all unknown keys.</li><li><code class="inline">:load</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A load statement to add onto the changeset</li><li><code class="inline">:changeset</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A changeset to seed the action with.</li><li><code class="inline">:bulk_options</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">keyword/0</code></a>) - Options passed to <code class="inline">Ash.bulk_create</code>, if a list or stream of inputs is provided.<ul><li><code class="inline">:select</code> (list of <a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - A select statement to apply to records. Ignored if <code class="inline">return_records?</code> is not true.</li><li><code class="inline">:after_action</code> (function of arity 2) - An after_action hook to be added to each processed changeset</li><li><code class="inline">:read_action</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - The action to use when building the read query.</li><li><code class="inline">:assume_casted?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to cast attributes and arguments as input. This is an optimization for cases where the input is already casted and/or not in need of casting The default value is <code class="inline">false</code>.</li><li><code class="inline">:select</code> (list of <a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - A select statement to apply to records. Ignored if <code class="inline">return_records?</code> is not true.</li><li><code class="inline">:authorize_query_with</code> - If set to <code class="inline">:error</code>, instead of filtering unauthorized query results, unauthorized query results will raise an appropriate forbidden error. Uses <code class="inline">authorize_with</code> if not set.</li><li><code class="inline">:authorize_changeset_with</code> - If set to <code class="inline">:error</code>, instead of filtering unauthorized changes, unauthorized changes will raise an appropriate forbidden error. Uses <code class="inline">authorize_with</code> if not set.</li><li><code class="inline">:authorize_with</code> - If set to <code class="inline">:error</code>, instead of filtering unauthorized query results, unauthorized query results will raise an appropriate forbidden error. The default value is <code class="inline">:filter</code>.</li><li><code class="inline">:private_arguments</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">map/0</code></a>) - Private argument values to set on each changeset before validations and changes are run. The default value is <code class="inline">%{}</code>.</li><li><code class="inline">:sorted?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to sort results by their input position, in cases where <code class="inline">return_records?: true</code> was provided. The default value is <code class="inline">false</code>.</li><li><code class="inline">:return_records?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to return all of the records that were inserted. Defaults to false to account for large inserts. The default value is <code class="inline">false</code>.</li><li><code class="inline">:return_errors?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether to return all errors that occur during the operation. Defaults to the value of <code class="inline">:bulk_actions_default_to_errors?</code> in your config, or <code class="inline">false</code> if not set. Returning all errors may be expensive for large inserts. The default value is <code class="inline">false</code>.</li><li><code class="inline">:batch_size</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">pos_integer/0</code></a>) - The number of records to include in each batch. Defaults to the <code class="inline">default_limit</code>
or <code class="inline">max_page_size</code> of the action, or 100.</li><li><code class="inline">:return_stream?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If set to <code class="inline">true</code>, instead of an <a href="https://hexdocs.pm/ash/3.7.6/Ash.BulkResult.html"><code class="inline">Ash.BulkResult</code></a>, a mixed stream is returned.
Potential elements:
<code class="inline">{:notification, notification}</code> - if <code class="inline">return_notifications?</code> is set to <code class="inline">true</code>
<code class="inline">{:ok, record}</code> - if <code class="inline">return_records?</code> is set to <code class="inline">true</code>
<code class="inline">{:error, error}</code> - an error that occurred. May be changeset or an individual error.
The default value is <code class="inline">false</code>.</li><li><code class="inline">:return_nothing?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Mutes warnings about returning nothing.
Only relevant if <code class="inline">return_stream?</code> is set to <code class="inline">true</code> and all other
<code class="inline">return_*?</code> options are set to <code class="inline">false</code>.
The default value is <code class="inline">false</code>.</li><li><code class="inline">:stop_on_error?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If true, the first encountered error will stop the action and be returned. Otherwise, errors
will be skipped. The default value is <code class="inline">false</code>.</li><li><code class="inline">:notify?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to generate any notifications. If this is set to <code class="inline">true</code> then the data layer must return
the results from each batch. This may be intensive for large bulk actions.
Notifications will be automatically sent unless <code class="inline">return_notifications?</code> is set to <code class="inline">true</code>.
The default value is <code class="inline">false</code>.</li><li><code class="inline">:transaction</code> - Whether or not to wrap the entire execution in a transaction, each batch, or not at all.
Keep in mind:
<code class="inline">before_transaction</code> and <code class="inline">after_transaction</code> hooks attached to changesets will have to be run
<em>inside</em> the transaction if you choose <code class="inline">transaction: :all</code>.
The default value is <code class="inline">:batch</code>.</li><li><code class="inline">:max_concurrency</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">non_neg_integer/0</code></a>) - If set to a value greater than 0, up to that many tasks will be started to run batches asynchronously The default value is <code class="inline">0</code>.</li></ul></li><li><code class="inline">:private_arguments</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">map/0</code></a>) - Private argument values to set before validations and changes. The default value is <code class="inline">%{}</code>.</li></ul>
  </section>
</section>
<section class="detail" id="create_agency!/2">

    <span id="create_agency!/0"></span>

    <span id="create_agency!/1"></span>

  <div class="detail-header">
    <a href="#create_agency!/2" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">create_agency!(params \\ nil, opts \\ nil)</h1>


    </div>
  </div>

  <section class="docstring">

<p>Calls the create action on EhsEnforcement.Enforcement.Agency.
Raises any errors instead of returning them</p><h1>Inputs</h1><ul><li>code</li><li>enabled</li><li>name</li><li>base_url</li></ul><h2 id="create_agency!/2-options" class="section-heading"><a href="#create_agency!/2-options" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Options</span></h2><ul><li><code class="inline">:upsert?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If a conflict is found based on the primary key, the record is updated in the database (requires upsert support) The default value is <code class="inline">false</code>.</li><li><code class="inline">:return_skipped_upsert?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If <code class="inline">true</code>, and a record was <em>not</em> upserted because its filter prevented the upsert, the original record (which was <em>not</em> upserted) will be returned. The default value is <code class="inline">false</code>.</li><li><code class="inline">:upsert_identity</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - The identity to use when detecting conflicts for <code class="inline">upsert?</code>, e.g. <code class="inline">upsert_identity: :full_name</code>. By default, the primary key is used. Has no effect if <code class="inline">upsert?: true</code> is not provided</li><li><code class="inline">:upsert_fields</code> - The fields to upsert. If not set, the action's upsert_fields is used, and if that is not set, then any fields not being set to defaults are written.</li><li><code class="inline">:upsert_condition</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - An expression to check if the record should be updated when there's a conflict.</li><li><code class="inline">:timeout</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">timeout/0</code></a>) - A positive integer, or <code class="inline">:infinity</code>. If none is provided, the timeout configured on the domain is used.</li><li><code class="inline">:tracer</code> (one or a list of module that adopts <a href="https://hexdocs.pm/ash/3.7.6/Ash.Tracer.html"><code class="inline">Ash.Tracer</code></a>) - A tracer that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.Tracer.html"><code class="inline">Ash.Tracer</code></a> behaviour. See that module for more.</li><li><code class="inline">:action</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - The action to use, either an Action struct or the name of the action</li><li><code class="inline">:authorize?</code> - If an actor option is provided (even if it is <code class="inline">nil</code>), authorization happens automatically. If not, this flag can be used to authorize with no user.</li><li><code class="inline">:context</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">map/0</code></a>) - Context to set on the query, changeset, or input</li><li><code class="inline">:tenant</code> (value that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.ToTenant.html"><code class="inline">Ash.ToTenant</code></a> protocol) - A tenant to set on the query or changeset</li><li><code class="inline">:actor</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - If an actor is provided, it will be used in conjunction with the authorizers of a resource to authorize access</li><li><code class="inline">:scope</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A value that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> protocol, for passing around actor/tenant/context in a single value. See <a href="https://hexdocs.pm/ash/3.7.6/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> for more.</li><li><code class="inline">:return_notifications?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Use this if you're running ash actions in your own transaction and you want to manually handle sending notifications.<br/>If a transaction is ongoing, and this is false, notifications will be discarded, otherwise
the return value is <code class="inline">{:ok, result, notifications}</code> (or <code class="inline">{:ok, notifications}</code>)<br/>To send notifications later, use <code class="inline">Ash.Notifier.notify(notifications)</code>. It sends any notifications
that can be sent, and returns the rest. The default value is <code class="inline">false</code>.</li><li><code class="inline">:rollback_on_error?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to rollback the transaction on error, if the resource is in a transaction.<br/>If the action has <code class="inline">transaction? false</code> this option has no effect. If an error is returned from the
data layer and the resource is in a transaction, the transaction is always rolled back, regardless. The default value is <code class="inline">true</code>.</li><li><code class="inline">:notification_metadata</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - Metadata to be merged into the metadata field for all notifications sent from this operation. The default value is <code class="inline">%{}</code>.</li><li><code class="inline">:skip_unknown_inputs</code> - A list of inputs that, if provided, will be ignored if they are not recognized by the action. Use <code class="inline">:*</code> to indicate all unknown keys.</li><li><code class="inline">:load</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A load statement to add onto the changeset</li><li><code class="inline">:changeset</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A changeset to seed the action with.</li><li><code class="inline">:bulk_options</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">keyword/0</code></a>) - Options passed to <code class="inline">Ash.bulk_create</code>, if a list or stream of inputs is provided.<ul><li><code class="inline">:select</code> (list of <a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - A select statement to apply to records. Ignored if <code class="inline">return_records?</code> is not true.</li><li><code class="inline">:after_action</code> (function of arity 2) - An after_action hook to be added to each processed changeset</li><li><code class="inline">:read_action</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - The action to use when building the read query.</li><li><code class="inline">:assume_casted?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to cast attributes and arguments as input. This is an optimization for cases where the input is already casted and/or not in need of casting The default value is <code class="inline">false</code>.</li><li><code class="inline">:select</code> (list of <a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - A select statement to apply to records. Ignored if <code class="inline">return_records?</code> is not true.</li><li><code class="inline">:authorize_query_with</code> - If set to <code class="inline">:error</code>, instead of filtering unauthorized query results, unauthorized query results will raise an appropriate forbidden error. Uses <code class="inline">authorize_with</code> if not set.</li><li><code class="inline">:authorize_changeset_with</code> - If set to <code class="inline">:error</code>, instead of filtering unauthorized changes, unauthorized changes will raise an appropriate forbidden error. Uses <code class="inline">authorize_with</code> if not set.</li><li><code class="inline">:authorize_with</code> - If set to <code class="inline">:error</code>, instead of filtering unauthorized query results, unauthorized query results will raise an appropriate forbidden error. The default value is <code class="inline">:filter</code>.</li><li><code class="inline">:private_arguments</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">map/0</code></a>) - Private argument values to set on each changeset before validations and changes are run. The default value is <code class="inline">%{}</code>.</li><li><code class="inline">:sorted?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to sort results by their input position, in cases where <code class="inline">return_records?: true</code> was provided. The default value is <code class="inline">false</code>.</li><li><code class="inline">:return_records?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to return all of the records that were inserted. Defaults to false to account for large inserts. The default value is <code class="inline">false</code>.</li><li><code class="inline">:return_errors?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether to return all errors that occur during the operation. Defaults to the value of <code class="inline">:bulk_actions_default_to_errors?</code> in your config, or <code class="inline">false</code> if not set. Returning all errors may be expensive for large inserts. The default value is <code class="inline">false</code>.</li><li><code class="inline">:batch_size</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">pos_integer/0</code></a>) - The number of records to include in each batch. Defaults to the <code class="inline">default_limit</code>
or <code class="inline">max_page_size</code> of the action, or 100.</li><li><code class="inline">:return_stream?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If set to <code class="inline">true</code>, instead of an <a href="https://hexdocs.pm/ash/3.7.6/Ash.BulkResult.html"><code class="inline">Ash.BulkResult</code></a>, a mixed stream is returned.
Potential elements:
<code class="inline">{:notification, notification}</code> - if <code class="inline">return_notifications?</code> is set to <code class="inline">true</code>
<code class="inline">{:ok, record}</code> - if <code class="inline">return_records?</code> is set to <code class="inline">true</code>
<code class="inline">{:error, error}</code> - an error that occurred. May be changeset or an individual error.
The default value is <code class="inline">false</code>.</li><li><code class="inline">:return_nothing?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Mutes warnings about returning nothing.
Only relevant if <code class="inline">return_stream?</code> is set to <code class="inline">true</code> and all other
<code class="inline">return_*?</code> options are set to <code class="inline">false</code>.
The default value is <code class="inline">false</code>.</li><li><code class="inline">:stop_on_error?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If true, the first encountered error will stop the action and be returned. Otherwise, errors
will be skipped. The default value is <code class="inline">false</code>.</li><li><code class="inline">:notify?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to generate any notifications. If this is set to <code class="inline">true</code> then the data layer must return
the results from each batch. This may be intensive for large bulk actions.
Notifications will be automatically sent unless <code class="inline">return_notifications?</code> is set to <code class="inline">true</code>.
The default value is <code class="inline">false</code>.</li><li><code class="inline">:transaction</code> - Whether or not to wrap the entire execution in a transaction, each batch, or not at all.
Keep in mind:
<code class="inline">before_transaction</code> and <code class="inline">after_transaction</code> hooks attached to changesets will have to be run
<em>inside</em> the transaction if you choose <code class="inline">transaction: :all</code>.
The default value is <code class="inline">:batch</code>.</li><li><code class="inline">:max_concurrency</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">non_neg_integer/0</code></a>) - If set to a value greater than 0, up to that many tasks will be started to run batches asynchronously The default value is <code class="inline">0</code>.</li></ul></li><li><code class="inline">:private_arguments</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">map/0</code></a>) - Private argument values to set before validations and changes. The default value is <code class="inline">%{}</code>.</li></ul>
  </section>
</section>
<section class="detail" id="create_case/2">

    <span id="create_case/0"></span>

    <span id="create_case/1"></span>

  <div class="detail-header">
    <a href="#create_case/2" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">create_case(params \\ nil, opts \\ nil)</h1>


    </div>
  </div>

  <section class="docstring">

<p>Calls the create action on EhsEnforcement.Enforcement.Case.</p><h1>Inputs</h1><ul><li>regulator_function</li><li>offence_breaches - Description of regulation breaches/violations</li><li>is_ea_multi_violation - True if EA case has multiple distinct violations</li><li>ea_event_reference - EA event ID (e.g., '205107')</li><li>last_synced_at</li><li>environmental_impact - Environmental impact level: 'none', 'minor', 'major'</li><li>offence_fine</li><li>url</li><li>agency_id</li><li>offence_costs</li><li>regulator_url</li><li>offender_attrs</li><li>regulator_id - Unique ID from agency system (EA: ea_record_id, HSE: regulator case ID)</li><li>agency_code</li><li>offender_id</li><li>offence_action_date</li><li>offence_result</li><li>ea_total_violation_count - Number of violations in EA case</li><li>case_reference - Agency's case reference number (e.g., EA 'Case Reference' field)</li><li>offence_hearing_date</li><li>environmental_receptor - Environmental receptor affected: 'land', 'water', 'air'</li><li>related_cases</li><li>offence_action_type</li></ul><h2 id="create_case/2-options" class="section-heading"><a href="#create_case/2-options" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Options</span></h2><ul><li><code class="inline">:upsert?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If a conflict is found based on the primary key, the record is updated in the database (requires upsert support) The default value is <code class="inline">false</code>.</li><li><code class="inline">:return_skipped_upsert?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If <code class="inline">true</code>, and a record was <em>not</em> upserted because its filter prevented the upsert, the original record (which was <em>not</em> upserted) will be returned. The default value is <code class="inline">false</code>.</li><li><code class="inline">:upsert_identity</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - The identity to use when detecting conflicts for <code class="inline">upsert?</code>, e.g. <code class="inline">upsert_identity: :full_name</code>. By default, the primary key is used. Has no effect if <code class="inline">upsert?: true</code> is not provided</li><li><code class="inline">:upsert_fields</code> - The fields to upsert. If not set, the action's upsert_fields is used, and if that is not set, then any fields not being set to defaults are written.</li><li><code class="inline">:upsert_condition</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - An expression to check if the record should be updated when there's a conflict.</li><li><code class="inline">:timeout</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">timeout/0</code></a>) - A positive integer, or <code class="inline">:infinity</code>. If none is provided, the timeout configured on the domain is used.</li><li><code class="inline">:tracer</code> (one or a list of module that adopts <a href="https://hexdocs.pm/ash/3.7.6/Ash.Tracer.html"><code class="inline">Ash.Tracer</code></a>) - A tracer that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.Tracer.html"><code class="inline">Ash.Tracer</code></a> behaviour. See that module for more.</li><li><code class="inline">:action</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - The action to use, either an Action struct or the name of the action</li><li><code class="inline">:authorize?</code> - If an actor option is provided (even if it is <code class="inline">nil</code>), authorization happens automatically. If not, this flag can be used to authorize with no user.</li><li><code class="inline">:context</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">map/0</code></a>) - Context to set on the query, changeset, or input</li><li><code class="inline">:tenant</code> (value that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.ToTenant.html"><code class="inline">Ash.ToTenant</code></a> protocol) - A tenant to set on the query or changeset</li><li><code class="inline">:actor</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - If an actor is provided, it will be used in conjunction with the authorizers of a resource to authorize access</li><li><code class="inline">:scope</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A value that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> protocol, for passing around actor/tenant/context in a single value. See <a href="https://hexdocs.pm/ash/3.7.6/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> for more.</li><li><code class="inline">:return_notifications?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Use this if you're running ash actions in your own transaction and you want to manually handle sending notifications.<br/>If a transaction is ongoing, and this is false, notifications will be discarded, otherwise
the return value is <code class="inline">{:ok, result, notifications}</code> (or <code class="inline">{:ok, notifications}</code>)<br/>To send notifications later, use <code class="inline">Ash.Notifier.notify(notifications)</code>. It sends any notifications
that can be sent, and returns the rest. The default value is <code class="inline">false</code>.</li><li><code class="inline">:rollback_on_error?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to rollback the transaction on error, if the resource is in a transaction.<br/>If the action has <code class="inline">transaction? false</code> this option has no effect. If an error is returned from the
data layer and the resource is in a transaction, the transaction is always rolled back, regardless. The default value is <code class="inline">true</code>.</li><li><code class="inline">:notification_metadata</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - Metadata to be merged into the metadata field for all notifications sent from this operation. The default value is <code class="inline">%{}</code>.</li><li><code class="inline">:skip_unknown_inputs</code> - A list of inputs that, if provided, will be ignored if they are not recognized by the action. Use <code class="inline">:*</code> to indicate all unknown keys.</li><li><code class="inline">:load</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A load statement to add onto the changeset</li><li><code class="inline">:changeset</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A changeset to seed the action with.</li><li><code class="inline">:bulk_options</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">keyword/0</code></a>) - Options passed to <code class="inline">Ash.bulk_create</code>, if a list or stream of inputs is provided.<ul><li><code class="inline">:select</code> (list of <a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - A select statement to apply to records. Ignored if <code class="inline">return_records?</code> is not true.</li><li><code class="inline">:after_action</code> (function of arity 2) - An after_action hook to be added to each processed changeset</li><li><code class="inline">:read_action</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - The action to use when building the read query.</li><li><code class="inline">:assume_casted?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to cast attributes and arguments as input. This is an optimization for cases where the input is already casted and/or not in need of casting The default value is <code class="inline">false</code>.</li><li><code class="inline">:select</code> (list of <a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - A select statement to apply to records. Ignored if <code class="inline">return_records?</code> is not true.</li><li><code class="inline">:authorize_query_with</code> - If set to <code class="inline">:error</code>, instead of filtering unauthorized query results, unauthorized query results will raise an appropriate forbidden error. Uses <code class="inline">authorize_with</code> if not set.</li><li><code class="inline">:authorize_changeset_with</code> - If set to <code class="inline">:error</code>, instead of filtering unauthorized changes, unauthorized changes will raise an appropriate forbidden error. Uses <code class="inline">authorize_with</code> if not set.</li><li><code class="inline">:authorize_with</code> - If set to <code class="inline">:error</code>, instead of filtering unauthorized query results, unauthorized query results will raise an appropriate forbidden error. The default value is <code class="inline">:filter</code>.</li><li><code class="inline">:private_arguments</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">map/0</code></a>) - Private argument values to set on each changeset before validations and changes are run. The default value is <code class="inline">%{}</code>.</li><li><code class="inline">:sorted?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to sort results by their input position, in cases where <code class="inline">return_records?: true</code> was provided. The default value is <code class="inline">false</code>.</li><li><code class="inline">:return_records?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to return all of the records that were inserted. Defaults to false to account for large inserts. The default value is <code class="inline">false</code>.</li><li><code class="inline">:return_errors?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether to return all errors that occur during the operation. Defaults to the value of <code class="inline">:bulk_actions_default_to_errors?</code> in your config, or <code class="inline">false</code> if not set. Returning all errors may be expensive for large inserts. The default value is <code class="inline">false</code>.</li><li><code class="inline">:batch_size</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">pos_integer/0</code></a>) - The number of records to include in each batch. Defaults to the <code class="inline">default_limit</code>
or <code class="inline">max_page_size</code> of the action, or 100.</li><li><code class="inline">:return_stream?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If set to <code class="inline">true</code>, instead of an <a href="https://hexdocs.pm/ash/3.7.6/Ash.BulkResult.html"><code class="inline">Ash.BulkResult</code></a>, a mixed stream is returned.
Potential elements:
<code class="inline">{:notification, notification}</code> - if <code class="inline">return_notifications?</code> is set to <code class="inline">true</code>
<code class="inline">{:ok, record}</code> - if <code class="inline">return_records?</code> is set to <code class="inline">true</code>
<code class="inline">{:error, error}</code> - an error that occurred. May be changeset or an individual error.
The default value is <code class="inline">false</code>.</li><li><code class="inline">:return_nothing?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Mutes warnings about returning nothing.
Only relevant if <code class="inline">return_stream?</code> is set to <code class="inline">true</code> and all other
<code class="inline">return_*?</code> options are set to <code class="inline">false</code>.
The default value is <code class="inline">false</code>.</li><li><code class="inline">:stop_on_error?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If true, the first encountered error will stop the action and be returned. Otherwise, errors
will be skipped. The default value is <code class="inline">false</code>.</li><li><code class="inline">:notify?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to generate any notifications. If this is set to <code class="inline">true</code> then the data layer must return
the results from each batch. This may be intensive for large bulk actions.
Notifications will be automatically sent unless <code class="inline">return_notifications?</code> is set to <code class="inline">true</code>.
The default value is <code class="inline">false</code>.</li><li><code class="inline">:transaction</code> - Whether or not to wrap the entire execution in a transaction, each batch, or not at all.
Keep in mind:
<code class="inline">before_transaction</code> and <code class="inline">after_transaction</code> hooks attached to changesets will have to be run
<em>inside</em> the transaction if you choose <code class="inline">transaction: :all</code>.
The default value is <code class="inline">:batch</code>.</li><li><code class="inline">:max_concurrency</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">non_neg_integer/0</code></a>) - If set to a value greater than 0, up to that many tasks will be started to run batches asynchronously The default value is <code class="inline">0</code>.</li></ul></li><li><code class="inline">:private_arguments</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">map/0</code></a>) - Private argument values to set before validations and changes. The default value is <code class="inline">%{}</code>.</li></ul>
  </section>
</section>
<section class="detail" id="create_case!/2">

    <span id="create_case!/0"></span>

    <span id="create_case!/1"></span>

  <div class="detail-header">
    <a href="#create_case!/2" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">create_case!(params \\ nil, opts \\ nil)</h1>


    </div>
  </div>

  <section class="docstring">

<p>Calls the create action on EhsEnforcement.Enforcement.Case.
Raises any errors instead of returning them</p><h1>Inputs</h1><ul><li>regulator_function</li><li>offence_breaches - Description of regulation breaches/violations</li><li>is_ea_multi_violation - True if EA case has multiple distinct violations</li><li>ea_event_reference - EA event ID (e.g., '205107')</li><li>last_synced_at</li><li>environmental_impact - Environmental impact level: 'none', 'minor', 'major'</li><li>offence_fine</li><li>url</li><li>agency_id</li><li>offence_costs</li><li>regulator_url</li><li>offender_attrs</li><li>regulator_id - Unique ID from agency system (EA: ea_record_id, HSE: regulator case ID)</li><li>agency_code</li><li>offender_id</li><li>offence_action_date</li><li>offence_result</li><li>ea_total_violation_count - Number of violations in EA case</li><li>case_reference - Agency's case reference number (e.g., EA 'Case Reference' field)</li><li>offence_hearing_date</li><li>environmental_receptor - Environmental receptor affected: 'land', 'water', 'air'</li><li>related_cases</li><li>offence_action_type</li></ul><h2 id="create_case!/2-options" class="section-heading"><a href="#create_case!/2-options" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Options</span></h2><ul><li><code class="inline">:upsert?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If a conflict is found based on the primary key, the record is updated in the database (requires upsert support) The default value is <code class="inline">false</code>.</li><li><code class="inline">:return_skipped_upsert?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If <code class="inline">true</code>, and a record was <em>not</em> upserted because its filter prevented the upsert, the original record (which was <em>not</em> upserted) will be returned. The default value is <code class="inline">false</code>.</li><li><code class="inline">:upsert_identity</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - The identity to use when detecting conflicts for <code class="inline">upsert?</code>, e.g. <code class="inline">upsert_identity: :full_name</code>. By default, the primary key is used. Has no effect if <code class="inline">upsert?: true</code> is not provided</li><li><code class="inline">:upsert_fields</code> - The fields to upsert. If not set, the action's upsert_fields is used, and if that is not set, then any fields not being set to defaults are written.</li><li><code class="inline">:upsert_condition</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - An expression to check if the record should be updated when there's a conflict.</li><li><code class="inline">:timeout</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">timeout/0</code></a>) - A positive integer, or <code class="inline">:infinity</code>. If none is provided, the timeout configured on the domain is used.</li><li><code class="inline">:tracer</code> (one or a list of module that adopts <a href="https://hexdocs.pm/ash/3.7.6/Ash.Tracer.html"><code class="inline">Ash.Tracer</code></a>) - A tracer that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.Tracer.html"><code class="inline">Ash.Tracer</code></a> behaviour. See that module for more.</li><li><code class="inline">:action</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - The action to use, either an Action struct or the name of the action</li><li><code class="inline">:authorize?</code> - If an actor option is provided (even if it is <code class="inline">nil</code>), authorization happens automatically. If not, this flag can be used to authorize with no user.</li><li><code class="inline">:context</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">map/0</code></a>) - Context to set on the query, changeset, or input</li><li><code class="inline">:tenant</code> (value that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.ToTenant.html"><code class="inline">Ash.ToTenant</code></a> protocol) - A tenant to set on the query or changeset</li><li><code class="inline">:actor</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - If an actor is provided, it will be used in conjunction with the authorizers of a resource to authorize access</li><li><code class="inline">:scope</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A value that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> protocol, for passing around actor/tenant/context in a single value. See <a href="https://hexdocs.pm/ash/3.7.6/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> for more.</li><li><code class="inline">:return_notifications?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Use this if you're running ash actions in your own transaction and you want to manually handle sending notifications.<br/>If a transaction is ongoing, and this is false, notifications will be discarded, otherwise
the return value is <code class="inline">{:ok, result, notifications}</code> (or <code class="inline">{:ok, notifications}</code>)<br/>To send notifications later, use <code class="inline">Ash.Notifier.notify(notifications)</code>. It sends any notifications
that can be sent, and returns the rest. The default value is <code class="inline">false</code>.</li><li><code class="inline">:rollback_on_error?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to rollback the transaction on error, if the resource is in a transaction.<br/>If the action has <code class="inline">transaction? false</code> this option has no effect. If an error is returned from the
data layer and the resource is in a transaction, the transaction is always rolled back, regardless. The default value is <code class="inline">true</code>.</li><li><code class="inline">:notification_metadata</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - Metadata to be merged into the metadata field for all notifications sent from this operation. The default value is <code class="inline">%{}</code>.</li><li><code class="inline">:skip_unknown_inputs</code> - A list of inputs that, if provided, will be ignored if they are not recognized by the action. Use <code class="inline">:*</code> to indicate all unknown keys.</li><li><code class="inline">:load</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A load statement to add onto the changeset</li><li><code class="inline">:changeset</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A changeset to seed the action with.</li><li><code class="inline">:bulk_options</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">keyword/0</code></a>) - Options passed to <code class="inline">Ash.bulk_create</code>, if a list or stream of inputs is provided.<ul><li><code class="inline">:select</code> (list of <a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - A select statement to apply to records. Ignored if <code class="inline">return_records?</code> is not true.</li><li><code class="inline">:after_action</code> (function of arity 2) - An after_action hook to be added to each processed changeset</li><li><code class="inline">:read_action</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - The action to use when building the read query.</li><li><code class="inline">:assume_casted?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to cast attributes and arguments as input. This is an optimization for cases where the input is already casted and/or not in need of casting The default value is <code class="inline">false</code>.</li><li><code class="inline">:select</code> (list of <a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - A select statement to apply to records. Ignored if <code class="inline">return_records?</code> is not true.</li><li><code class="inline">:authorize_query_with</code> - If set to <code class="inline">:error</code>, instead of filtering unauthorized query results, unauthorized query results will raise an appropriate forbidden error. Uses <code class="inline">authorize_with</code> if not set.</li><li><code class="inline">:authorize_changeset_with</code> - If set to <code class="inline">:error</code>, instead of filtering unauthorized changes, unauthorized changes will raise an appropriate forbidden error. Uses <code class="inline">authorize_with</code> if not set.</li><li><code class="inline">:authorize_with</code> - If set to <code class="inline">:error</code>, instead of filtering unauthorized query results, unauthorized query results will raise an appropriate forbidden error. The default value is <code class="inline">:filter</code>.</li><li><code class="inline">:private_arguments</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">map/0</code></a>) - Private argument values to set on each changeset before validations and changes are run. The default value is <code class="inline">%{}</code>.</li><li><code class="inline">:sorted?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to sort results by their input position, in cases where <code class="inline">return_records?: true</code> was provided. The default value is <code class="inline">false</code>.</li><li><code class="inline">:return_records?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to return all of the records that were inserted. Defaults to false to account for large inserts. The default value is <code class="inline">false</code>.</li><li><code class="inline">:return_errors?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether to return all errors that occur during the operation. Defaults to the value of <code class="inline">:bulk_actions_default_to_errors?</code> in your config, or <code class="inline">false</code> if not set. Returning all errors may be expensive for large inserts. The default value is <code class="inline">false</code>.</li><li><code class="inline">:batch_size</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">pos_integer/0</code></a>) - The number of records to include in each batch. Defaults to the <code class="inline">default_limit</code>
or <code class="inline">max_page_size</code> of the action, or 100.</li><li><code class="inline">:return_stream?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If set to <code class="inline">true</code>, instead of an <a href="https://hexdocs.pm/ash/3.7.6/Ash.BulkResult.html"><code class="inline">Ash.BulkResult</code></a>, a mixed stream is returned.
Potential elements:
<code class="inline">{:notification, notification}</code> - if <code class="inline">return_notifications?</code> is set to <code class="inline">true</code>
<code class="inline">{:ok, record}</code> - if <code class="inline">return_records?</code> is set to <code class="inline">true</code>
<code class="inline">{:error, error}</code> - an error that occurred. May be changeset or an individual error.
The default value is <code class="inline">false</code>.</li><li><code class="inline">:return_nothing?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Mutes warnings about returning nothing.
Only relevant if <code class="inline">return_stream?</code> is set to <code class="inline">true</code> and all other
<code class="inline">return_*?</code> options are set to <code class="inline">false</code>.
The default value is <code class="inline">false</code>.</li><li><code class="inline">:stop_on_error?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If true, the first encountered error will stop the action and be returned. Otherwise, errors
will be skipped. The default value is <code class="inline">false</code>.</li><li><code class="inline">:notify?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to generate any notifications. If this is set to <code class="inline">true</code> then the data layer must return
the results from each batch. This may be intensive for large bulk actions.
Notifications will be automatically sent unless <code class="inline">return_notifications?</code> is set to <code class="inline">true</code>.
The default value is <code class="inline">false</code>.</li><li><code class="inline">:transaction</code> - Whether or not to wrap the entire execution in a transaction, each batch, or not at all.
Keep in mind:
<code class="inline">before_transaction</code> and <code class="inline">after_transaction</code> hooks attached to changesets will have to be run
<em>inside</em> the transaction if you choose <code class="inline">transaction: :all</code>.
The default value is <code class="inline">:batch</code>.</li><li><code class="inline">:max_concurrency</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">non_neg_integer/0</code></a>) - If set to a value greater than 0, up to that many tasks will be started to run batches asynchronously The default value is <code class="inline">0</code>.</li></ul></li><li><code class="inline">:private_arguments</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">map/0</code></a>) - Private argument values to set before validations and changes. The default value is <code class="inline">%{}</code>.</li></ul>
  </section>
</section>
<section class="detail" id="create_legislation/2">

    <span id="create_legislation/0"></span>

    <span id="create_legislation/1"></span>

  <div class="detail-header">
    <a href="#create_legislation/2" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">create_legislation(params \\ nil, opts \\ nil)</h1>


    </div>
  </div>

  <section class="docstring">

<p>Calls the create action on EhsEnforcement.Enforcement.Legislation.</p><h1>Inputs</h1><ul><li>legislation_type - Type of legislation</li><li>legislation_year - Year the legislation was enacted (e.g., 1974)</li><li>legislation_title - Full title of the legislation (e.g., 'Health and Safety at Work etc. Act')</li><li>legislation_number - Official number/chapter of the legislation (e.g., 33)</li></ul><h2 id="create_legislation/2-options" class="section-heading"><a href="#create_legislation/2-options" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Options</span></h2><ul><li><code class="inline">:upsert?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If a conflict is found based on the primary key, the record is updated in the database (requires upsert support) The default value is <code class="inline">false</code>.</li><li><code class="inline">:return_skipped_upsert?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If <code class="inline">true</code>, and a record was <em>not</em> upserted because its filter prevented the upsert, the original record (which was <em>not</em> upserted) will be returned. The default value is <code class="inline">false</code>.</li><li><code class="inline">:upsert_identity</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - The identity to use when detecting conflicts for <code class="inline">upsert?</code>, e.g. <code class="inline">upsert_identity: :full_name</code>. By default, the primary key is used. Has no effect if <code class="inline">upsert?: true</code> is not provided</li><li><code class="inline">:upsert_fields</code> - The fields to upsert. If not set, the action's upsert_fields is used, and if that is not set, then any fields not being set to defaults are written.</li><li><code class="inline">:upsert_condition</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - An expression to check if the record should be updated when there's a conflict.</li><li><code class="inline">:timeout</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">timeout/0</code></a>) - A positive integer, or <code class="inline">:infinity</code>. If none is provided, the timeout configured on the domain is used.</li><li><code class="inline">:tracer</code> (one or a list of module that adopts <a href="https://hexdocs.pm/ash/3.7.6/Ash.Tracer.html"><code class="inline">Ash.Tracer</code></a>) - A tracer that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.Tracer.html"><code class="inline">Ash.Tracer</code></a> behaviour. See that module for more.</li><li><code class="inline">:action</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - The action to use, either an Action struct or the name of the action</li><li><code class="inline">:authorize?</code> - If an actor option is provided (even if it is <code class="inline">nil</code>), authorization happens automatically. If not, this flag can be used to authorize with no user.</li><li><code class="inline">:context</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">map/0</code></a>) - Context to set on the query, changeset, or input</li><li><code class="inline">:tenant</code> (value that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.ToTenant.html"><code class="inline">Ash.ToTenant</code></a> protocol) - A tenant to set on the query or changeset</li><li><code class="inline">:actor</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - If an actor is provided, it will be used in conjunction with the authorizers of a resource to authorize access</li><li><code class="inline">:scope</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A value that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> protocol, for passing around actor/tenant/context in a single value. See <a href="https://hexdocs.pm/ash/3.7.6/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> for more.</li><li><code class="inline">:return_notifications?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Use this if you're running ash actions in your own transaction and you want to manually handle sending notifications.<br/>If a transaction is ongoing, and this is false, notifications will be discarded, otherwise
the return value is <code class="inline">{:ok, result, notifications}</code> (or <code class="inline">{:ok, notifications}</code>)<br/>To send notifications later, use <code class="inline">Ash.Notifier.notify(notifications)</code>. It sends any notifications
that can be sent, and returns the rest. The default value is <code class="inline">false</code>.</li><li><code class="inline">:rollback_on_error?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to rollback the transaction on error, if the resource is in a transaction.<br/>If the action has <code class="inline">transaction? false</code> this option has no effect. If an error is returned from the
data layer and the resource is in a transaction, the transaction is always rolled back, regardless. The default value is <code class="inline">true</code>.</li><li><code class="inline">:notification_metadata</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - Metadata to be merged into the metadata field for all notifications sent from this operation. The default value is <code class="inline">%{}</code>.</li><li><code class="inline">:skip_unknown_inputs</code> - A list of inputs that, if provided, will be ignored if they are not recognized by the action. Use <code class="inline">:*</code> to indicate all unknown keys.</li><li><code class="inline">:load</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A load statement to add onto the changeset</li><li><code class="inline">:changeset</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A changeset to seed the action with.</li><li><code class="inline">:bulk_options</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">keyword/0</code></a>) - Options passed to <code class="inline">Ash.bulk_create</code>, if a list or stream of inputs is provided.<ul><li><code class="inline">:select</code> (list of <a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - A select statement to apply to records. Ignored if <code class="inline">return_records?</code> is not true.</li><li><code class="inline">:after_action</code> (function of arity 2) - An after_action hook to be added to each processed changeset</li><li><code class="inline">:read_action</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - The action to use when building the read query.</li><li><code class="inline">:assume_casted?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to cast attributes and arguments as input. This is an optimization for cases where the input is already casted and/or not in need of casting The default value is <code class="inline">false</code>.</li><li><code class="inline">:select</code> (list of <a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - A select statement to apply to records. Ignored if <code class="inline">return_records?</code> is not true.</li><li><code class="inline">:authorize_query_with</code> - If set to <code class="inline">:error</code>, instead of filtering unauthorized query results, unauthorized query results will raise an appropriate forbidden error. Uses <code class="inline">authorize_with</code> if not set.</li><li><code class="inline">:authorize_changeset_with</code> - If set to <code class="inline">:error</code>, instead of filtering unauthorized changes, unauthorized changes will raise an appropriate forbidden error. Uses <code class="inline">authorize_with</code> if not set.</li><li><code class="inline">:authorize_with</code> - If set to <code class="inline">:error</code>, instead of filtering unauthorized query results, unauthorized query results will raise an appropriate forbidden error. The default value is <code class="inline">:filter</code>.</li><li><code class="inline">:private_arguments</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">map/0</code></a>) - Private argument values to set on each changeset before validations and changes are run. The default value is <code class="inline">%{}</code>.</li><li><code class="inline">:sorted?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to sort results by their input position, in cases where <code class="inline">return_records?: true</code> was provided. The default value is <code class="inline">false</code>.</li><li><code class="inline">:return_records?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to return all of the records that were inserted. Defaults to false to account for large inserts. The default value is <code class="inline">false</code>.</li><li><code class="inline">:return_errors?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether to return all errors that occur during the operation. Defaults to the value of <code class="inline">:bulk_actions_default_to_errors?</code> in your config, or <code class="inline">false</code> if not set. Returning all errors may be expensive for large inserts. The default value is <code class="inline">false</code>.</li><li><code class="inline">:batch_size</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">pos_integer/0</code></a>) - The number of records to include in each batch. Defaults to the <code class="inline">default_limit</code>
or <code class="inline">max_page_size</code> of the action, or 100.</li><li><code class="inline">:return_stream?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If set to <code class="inline">true</code>, instead of an <a href="https://hexdocs.pm/ash/3.7.6/Ash.BulkResult.html"><code class="inline">Ash.BulkResult</code></a>, a mixed stream is returned.
Potential elements:
<code class="inline">{:notification, notification}</code> - if <code class="inline">return_notifications?</code> is set to <code class="inline">true</code>
<code class="inline">{:ok, record}</code> - if <code class="inline">return_records?</code> is set to <code class="inline">true</code>
<code class="inline">{:error, error}</code> - an error that occurred. May be changeset or an individual error.
The default value is <code class="inline">false</code>.</li><li><code class="inline">:return_nothing?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Mutes warnings about returning nothing.
Only relevant if <code class="inline">return_stream?</code> is set to <code class="inline">true</code> and all other
<code class="inline">return_*?</code> options are set to <code class="inline">false</code>.
The default value is <code class="inline">false</code>.</li><li><code class="inline">:stop_on_error?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If true, the first encountered error will stop the action and be returned. Otherwise, errors
will be skipped. The default value is <code class="inline">false</code>.</li><li><code class="inline">:notify?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to generate any notifications. If this is set to <code class="inline">true</code> then the data layer must return
the results from each batch. This may be intensive for large bulk actions.
Notifications will be automatically sent unless <code class="inline">return_notifications?</code> is set to <code class="inline">true</code>.
The default value is <code class="inline">false</code>.</li><li><code class="inline">:transaction</code> - Whether or not to wrap the entire execution in a transaction, each batch, or not at all.
Keep in mind:
<code class="inline">before_transaction</code> and <code class="inline">after_transaction</code> hooks attached to changesets will have to be run
<em>inside</em> the transaction if you choose <code class="inline">transaction: :all</code>.
The default value is <code class="inline">:batch</code>.</li><li><code class="inline">:max_concurrency</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">non_neg_integer/0</code></a>) - If set to a value greater than 0, up to that many tasks will be started to run batches asynchronously The default value is <code class="inline">0</code>.</li></ul></li><li><code class="inline">:private_arguments</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">map/0</code></a>) - Private argument values to set before validations and changes. The default value is <code class="inline">%{}</code>.</li></ul>
  </section>
</section>
<section class="detail" id="create_legislation!/2">

    <span id="create_legislation!/0"></span>

    <span id="create_legislation!/1"></span>

  <div class="detail-header">
    <a href="#create_legislation!/2" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">create_legislation!(params \\ nil, opts \\ nil)</h1>


    </div>
  </div>

  <section class="docstring">

<p>Calls the create action on EhsEnforcement.Enforcement.Legislation.
Raises any errors instead of returning them</p><h1>Inputs</h1><ul><li>legislation_type - Type of legislation</li><li>legislation_year - Year the legislation was enacted (e.g., 1974)</li><li>legislation_title - Full title of the legislation (e.g., 'Health and Safety at Work etc. Act')</li><li>legislation_number - Official number/chapter of the legislation (e.g., 33)</li></ul><h2 id="create_legislation!/2-options" class="section-heading"><a href="#create_legislation!/2-options" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Options</span></h2><ul><li><code class="inline">:upsert?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If a conflict is found based on the primary key, the record is updated in the database (requires upsert support) The default value is <code class="inline">false</code>.</li><li><code class="inline">:return_skipped_upsert?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If <code class="inline">true</code>, and a record was <em>not</em> upserted because its filter prevented the upsert, the original record (which was <em>not</em> upserted) will be returned. The default value is <code class="inline">false</code>.</li><li><code class="inline">:upsert_identity</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - The identity to use when detecting conflicts for <code class="inline">upsert?</code>, e.g. <code class="inline">upsert_identity: :full_name</code>. By default, the primary key is used. Has no effect if <code class="inline">upsert?: true</code> is not provided</li><li><code class="inline">:upsert_fields</code> - The fields to upsert. If not set, the action's upsert_fields is used, and if that is not set, then any fields not being set to defaults are written.</li><li><code class="inline">:upsert_condition</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - An expression to check if the record should be updated when there's a conflict.</li><li><code class="inline">:timeout</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">timeout/0</code></a>) - A positive integer, or <code class="inline">:infinity</code>. If none is provided, the timeout configured on the domain is used.</li><li><code class="inline">:tracer</code> (one or a list of module that adopts <a href="https://hexdocs.pm/ash/3.7.6/Ash.Tracer.html"><code class="inline">Ash.Tracer</code></a>) - A tracer that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.Tracer.html"><code class="inline">Ash.Tracer</code></a> behaviour. See that module for more.</li><li><code class="inline">:action</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - The action to use, either an Action struct or the name of the action</li><li><code class="inline">:authorize?</code> - If an actor option is provided (even if it is <code class="inline">nil</code>), authorization happens automatically. If not, this flag can be used to authorize with no user.</li><li><code class="inline">:context</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">map/0</code></a>) - Context to set on the query, changeset, or input</li><li><code class="inline">:tenant</code> (value that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.ToTenant.html"><code class="inline">Ash.ToTenant</code></a> protocol) - A tenant to set on the query or changeset</li><li><code class="inline">:actor</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - If an actor is provided, it will be used in conjunction with the authorizers of a resource to authorize access</li><li><code class="inline">:scope</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A value that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> protocol, for passing around actor/tenant/context in a single value. See <a href="https://hexdocs.pm/ash/3.7.6/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> for more.</li><li><code class="inline">:return_notifications?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Use this if you're running ash actions in your own transaction and you want to manually handle sending notifications.<br/>If a transaction is ongoing, and this is false, notifications will be discarded, otherwise
the return value is <code class="inline">{:ok, result, notifications}</code> (or <code class="inline">{:ok, notifications}</code>)<br/>To send notifications later, use <code class="inline">Ash.Notifier.notify(notifications)</code>. It sends any notifications
that can be sent, and returns the rest. The default value is <code class="inline">false</code>.</li><li><code class="inline">:rollback_on_error?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to rollback the transaction on error, if the resource is in a transaction.<br/>If the action has <code class="inline">transaction? false</code> this option has no effect. If an error is returned from the
data layer and the resource is in a transaction, the transaction is always rolled back, regardless. The default value is <code class="inline">true</code>.</li><li><code class="inline">:notification_metadata</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - Metadata to be merged into the metadata field for all notifications sent from this operation. The default value is <code class="inline">%{}</code>.</li><li><code class="inline">:skip_unknown_inputs</code> - A list of inputs that, if provided, will be ignored if they are not recognized by the action. Use <code class="inline">:*</code> to indicate all unknown keys.</li><li><code class="inline">:load</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A load statement to add onto the changeset</li><li><code class="inline">:changeset</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A changeset to seed the action with.</li><li><code class="inline">:bulk_options</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">keyword/0</code></a>) - Options passed to <code class="inline">Ash.bulk_create</code>, if a list or stream of inputs is provided.<ul><li><code class="inline">:select</code> (list of <a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - A select statement to apply to records. Ignored if <code class="inline">return_records?</code> is not true.</li><li><code class="inline">:after_action</code> (function of arity 2) - An after_action hook to be added to each processed changeset</li><li><code class="inline">:read_action</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - The action to use when building the read query.</li><li><code class="inline">:assume_casted?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to cast attributes and arguments as input. This is an optimization for cases where the input is already casted and/or not in need of casting The default value is <code class="inline">false</code>.</li><li><code class="inline">:select</code> (list of <a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - A select statement to apply to records. Ignored if <code class="inline">return_records?</code> is not true.</li><li><code class="inline">:authorize_query_with</code> - If set to <code class="inline">:error</code>, instead of filtering unauthorized query results, unauthorized query results will raise an appropriate forbidden error. Uses <code class="inline">authorize_with</code> if not set.</li><li><code class="inline">:authorize_changeset_with</code> - If set to <code class="inline">:error</code>, instead of filtering unauthorized changes, unauthorized changes will raise an appropriate forbidden error. Uses <code class="inline">authorize_with</code> if not set.</li><li><code class="inline">:authorize_with</code> - If set to <code class="inline">:error</code>, instead of filtering unauthorized query results, unauthorized query results will raise an appropriate forbidden error. The default value is <code class="inline">:filter</code>.</li><li><code class="inline">:private_arguments</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">map/0</code></a>) - Private argument values to set on each changeset before validations and changes are run. The default value is <code class="inline">%{}</code>.</li><li><code class="inline">:sorted?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to sort results by their input position, in cases where <code class="inline">return_records?: true</code> was provided. The default value is <code class="inline">false</code>.</li><li><code class="inline">:return_records?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to return all of the records that were inserted. Defaults to false to account for large inserts. The default value is <code class="inline">false</code>.</li><li><code class="inline">:return_errors?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether to return all errors that occur during the operation. Defaults to the value of <code class="inline">:bulk_actions_default_to_errors?</code> in your config, or <code class="inline">false</code> if not set. Returning all errors may be expensive for large inserts. The default value is <code class="inline">false</code>.</li><li><code class="inline">:batch_size</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">pos_integer/0</code></a>) - The number of records to include in each batch. Defaults to the <code class="inline">default_limit</code>
or <code class="inline">max_page_size</code> of the action, or 100.</li><li><code class="inline">:return_stream?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If set to <code class="inline">true</code>, instead of an <a href="https://hexdocs.pm/ash/3.7.6/Ash.BulkResult.html"><code class="inline">Ash.BulkResult</code></a>, a mixed stream is returned.
Potential elements:
<code class="inline">{:notification, notification}</code> - if <code class="inline">return_notifications?</code> is set to <code class="inline">true</code>
<code class="inline">{:ok, record}</code> - if <code class="inline">return_records?</code> is set to <code class="inline">true</code>
<code class="inline">{:error, error}</code> - an error that occurred. May be changeset or an individual error.
The default value is <code class="inline">false</code>.</li><li><code class="inline">:return_nothing?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Mutes warnings about returning nothing.
Only relevant if <code class="inline">return_stream?</code> is set to <code class="inline">true</code> and all other
<code class="inline">return_*?</code> options are set to <code class="inline">false</code>.
The default value is <code class="inline">false</code>.</li><li><code class="inline">:stop_on_error?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If true, the first encountered error will stop the action and be returned. Otherwise, errors
will be skipped. The default value is <code class="inline">false</code>.</li><li><code class="inline">:notify?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to generate any notifications. If this is set to <code class="inline">true</code> then the data layer must return
the results from each batch. This may be intensive for large bulk actions.
Notifications will be automatically sent unless <code class="inline">return_notifications?</code> is set to <code class="inline">true</code>.
The default value is <code class="inline">false</code>.</li><li><code class="inline">:transaction</code> - Whether or not to wrap the entire execution in a transaction, each batch, or not at all.
Keep in mind:
<code class="inline">before_transaction</code> and <code class="inline">after_transaction</code> hooks attached to changesets will have to be run
<em>inside</em> the transaction if you choose <code class="inline">transaction: :all</code>.
The default value is <code class="inline">:batch</code>.</li><li><code class="inline">:max_concurrency</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">non_neg_integer/0</code></a>) - If set to a value greater than 0, up to that many tasks will be started to run batches asynchronously The default value is <code class="inline">0</code>.</li></ul></li><li><code class="inline">:private_arguments</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">map/0</code></a>) - Private argument values to set before validations and changes. The default value is <code class="inline">%{}</code>.</li></ul>
  </section>
</section>
<section class="detail" id="create_notice/2">

    <span id="create_notice/0"></span>

    <span id="create_notice/1"></span>

  <div class="detail-header">
    <a href="#create_notice/2" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">create_notice(params \\ nil, opts \\ nil)</h1>


    </div>
  </div>

  <section class="docstring">

<p>Calls the create action on EhsEnforcement.Enforcement.Notice.</p><h1>Inputs</h1><ul><li>regulator_event_reference</li><li>regulator_function</li><li>offence_breaches - Description of regulation breaches/violations</li><li>legal_section</li><li>last_synced_at</li><li>environmental_impact</li><li>url</li><li>agency_id</li><li>notice_date</li><li>compliance_date</li><li>offender_attrs</li><li>regulator_id</li><li>regulator_ref_number</li><li>agency_code</li><li>offender_id</li><li>notice_body</li><li>offence_action_date</li><li>environmental_receptor</li><li>operative_date</li><li>legal_act</li><li>offence_action_type</li><li>airtable_id</li></ul><h2 id="create_notice/2-options" class="section-heading"><a href="#create_notice/2-options" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Options</span></h2><ul><li><code class="inline">:upsert?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If a conflict is found based on the primary key, the record is updated in the database (requires upsert support) The default value is <code class="inline">false</code>.</li><li><code class="inline">:return_skipped_upsert?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If <code class="inline">true</code>, and a record was <em>not</em> upserted because its filter prevented the upsert, the original record (which was <em>not</em> upserted) will be returned. The default value is <code class="inline">false</code>.</li><li><code class="inline">:upsert_identity</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - The identity to use when detecting conflicts for <code class="inline">upsert?</code>, e.g. <code class="inline">upsert_identity: :full_name</code>. By default, the primary key is used. Has no effect if <code class="inline">upsert?: true</code> is not provided</li><li><code class="inline">:upsert_fields</code> - The fields to upsert. If not set, the action's upsert_fields is used, and if that is not set, then any fields not being set to defaults are written.</li><li><code class="inline">:upsert_condition</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - An expression to check if the record should be updated when there's a conflict.</li><li><code class="inline">:timeout</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">timeout/0</code></a>) - A positive integer, or <code class="inline">:infinity</code>. If none is provided, the timeout configured on the domain is used.</li><li><code class="inline">:tracer</code> (one or a list of module that adopts <a href="https://hexdocs.pm/ash/3.7.6/Ash.Tracer.html"><code class="inline">Ash.Tracer</code></a>) - A tracer that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.Tracer.html"><code class="inline">Ash.Tracer</code></a> behaviour. See that module for more.</li><li><code class="inline">:action</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - The action to use, either an Action struct or the name of the action</li><li><code class="inline">:authorize?</code> - If an actor option is provided (even if it is <code class="inline">nil</code>), authorization happens automatically. If not, this flag can be used to authorize with no user.</li><li><code class="inline">:context</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">map/0</code></a>) - Context to set on the query, changeset, or input</li><li><code class="inline">:tenant</code> (value that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.ToTenant.html"><code class="inline">Ash.ToTenant</code></a> protocol) - A tenant to set on the query or changeset</li><li><code class="inline">:actor</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - If an actor is provided, it will be used in conjunction with the authorizers of a resource to authorize access</li><li><code class="inline">:scope</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A value that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> protocol, for passing around actor/tenant/context in a single value. See <a href="https://hexdocs.pm/ash/3.7.6/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> for more.</li><li><code class="inline">:return_notifications?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Use this if you're running ash actions in your own transaction and you want to manually handle sending notifications.<br/>If a transaction is ongoing, and this is false, notifications will be discarded, otherwise
the return value is <code class="inline">{:ok, result, notifications}</code> (or <code class="inline">{:ok, notifications}</code>)<br/>To send notifications later, use <code class="inline">Ash.Notifier.notify(notifications)</code>. It sends any notifications
that can be sent, and returns the rest. The default value is <code class="inline">false</code>.</li><li><code class="inline">:rollback_on_error?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to rollback the transaction on error, if the resource is in a transaction.<br/>If the action has <code class="inline">transaction? false</code> this option has no effect. If an error is returned from the
data layer and the resource is in a transaction, the transaction is always rolled back, regardless. The default value is <code class="inline">true</code>.</li><li><code class="inline">:notification_metadata</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - Metadata to be merged into the metadata field for all notifications sent from this operation. The default value is <code class="inline">%{}</code>.</li><li><code class="inline">:skip_unknown_inputs</code> - A list of inputs that, if provided, will be ignored if they are not recognized by the action. Use <code class="inline">:*</code> to indicate all unknown keys.</li><li><code class="inline">:load</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A load statement to add onto the changeset</li><li><code class="inline">:changeset</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A changeset to seed the action with.</li><li><code class="inline">:bulk_options</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">keyword/0</code></a>) - Options passed to <code class="inline">Ash.bulk_create</code>, if a list or stream of inputs is provided.<ul><li><code class="inline">:select</code> (list of <a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - A select statement to apply to records. Ignored if <code class="inline">return_records?</code> is not true.</li><li><code class="inline">:after_action</code> (function of arity 2) - An after_action hook to be added to each processed changeset</li><li><code class="inline">:read_action</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - The action to use when building the read query.</li><li><code class="inline">:assume_casted?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to cast attributes and arguments as input. This is an optimization for cases where the input is already casted and/or not in need of casting The default value is <code class="inline">false</code>.</li><li><code class="inline">:select</code> (list of <a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - A select statement to apply to records. Ignored if <code class="inline">return_records?</code> is not true.</li><li><code class="inline">:authorize_query_with</code> - If set to <code class="inline">:error</code>, instead of filtering unauthorized query results, unauthorized query results will raise an appropriate forbidden error. Uses <code class="inline">authorize_with</code> if not set.</li><li><code class="inline">:authorize_changeset_with</code> - If set to <code class="inline">:error</code>, instead of filtering unauthorized changes, unauthorized changes will raise an appropriate forbidden error. Uses <code class="inline">authorize_with</code> if not set.</li><li><code class="inline">:authorize_with</code> - If set to <code class="inline">:error</code>, instead of filtering unauthorized query results, unauthorized query results will raise an appropriate forbidden error. The default value is <code class="inline">:filter</code>.</li><li><code class="inline">:private_arguments</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">map/0</code></a>) - Private argument values to set on each changeset before validations and changes are run. The default value is <code class="inline">%{}</code>.</li><li><code class="inline">:sorted?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to sort results by their input position, in cases where <code class="inline">return_records?: true</code> was provided. The default value is <code class="inline">false</code>.</li><li><code class="inline">:return_records?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to return all of the records that were inserted. Defaults to false to account for large inserts. The default value is <code class="inline">false</code>.</li><li><code class="inline">:return_errors?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether to return all errors that occur during the operation. Defaults to the value of <code class="inline">:bulk_actions_default_to_errors?</code> in your config, or <code class="inline">false</code> if not set. Returning all errors may be expensive for large inserts. The default value is <code class="inline">false</code>.</li><li><code class="inline">:batch_size</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">pos_integer/0</code></a>) - The number of records to include in each batch. Defaults to the <code class="inline">default_limit</code>
or <code class="inline">max_page_size</code> of the action, or 100.</li><li><code class="inline">:return_stream?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If set to <code class="inline">true</code>, instead of an <a href="https://hexdocs.pm/ash/3.7.6/Ash.BulkResult.html"><code class="inline">Ash.BulkResult</code></a>, a mixed stream is returned.
Potential elements:
<code class="inline">{:notification, notification}</code> - if <code class="inline">return_notifications?</code> is set to <code class="inline">true</code>
<code class="inline">{:ok, record}</code> - if <code class="inline">return_records?</code> is set to <code class="inline">true</code>
<code class="inline">{:error, error}</code> - an error that occurred. May be changeset or an individual error.
The default value is <code class="inline">false</code>.</li><li><code class="inline">:return_nothing?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Mutes warnings about returning nothing.
Only relevant if <code class="inline">return_stream?</code> is set to <code class="inline">true</code> and all other
<code class="inline">return_*?</code> options are set to <code class="inline">false</code>.
The default value is <code class="inline">false</code>.</li><li><code class="inline">:stop_on_error?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If true, the first encountered error will stop the action and be returned. Otherwise, errors
will be skipped. The default value is <code class="inline">false</code>.</li><li><code class="inline">:notify?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to generate any notifications. If this is set to <code class="inline">true</code> then the data layer must return
the results from each batch. This may be intensive for large bulk actions.
Notifications will be automatically sent unless <code class="inline">return_notifications?</code> is set to <code class="inline">true</code>.
The default value is <code class="inline">false</code>.</li><li><code class="inline">:transaction</code> - Whether or not to wrap the entire execution in a transaction, each batch, or not at all.
Keep in mind:
<code class="inline">before_transaction</code> and <code class="inline">after_transaction</code> hooks attached to changesets will have to be run
<em>inside</em> the transaction if you choose <code class="inline">transaction: :all</code>.
The default value is <code class="inline">:batch</code>.</li><li><code class="inline">:max_concurrency</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">non_neg_integer/0</code></a>) - If set to a value greater than 0, up to that many tasks will be started to run batches asynchronously The default value is <code class="inline">0</code>.</li></ul></li><li><code class="inline">:private_arguments</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">map/0</code></a>) - Private argument values to set before validations and changes. The default value is <code class="inline">%{}</code>.</li></ul>
  </section>
</section>
<section class="detail" id="create_notice!/2">

    <span id="create_notice!/0"></span>

    <span id="create_notice!/1"></span>

  <div class="detail-header">
    <a href="#create_notice!/2" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">create_notice!(params \\ nil, opts \\ nil)</h1>


    </div>
  </div>

  <section class="docstring">

<p>Calls the create action on EhsEnforcement.Enforcement.Notice.
Raises any errors instead of returning them</p><h1>Inputs</h1><ul><li>regulator_event_reference</li><li>regulator_function</li><li>offence_breaches - Description of regulation breaches/violations</li><li>legal_section</li><li>last_synced_at</li><li>environmental_impact</li><li>url</li><li>agency_id</li><li>notice_date</li><li>compliance_date</li><li>offender_attrs</li><li>regulator_id</li><li>regulator_ref_number</li><li>agency_code</li><li>offender_id</li><li>notice_body</li><li>offence_action_date</li><li>environmental_receptor</li><li>operative_date</li><li>legal_act</li><li>offence_action_type</li><li>airtable_id</li></ul><h2 id="create_notice!/2-options" class="section-heading"><a href="#create_notice!/2-options" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Options</span></h2><ul><li><code class="inline">:upsert?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If a conflict is found based on the primary key, the record is updated in the database (requires upsert support) The default value is <code class="inline">false</code>.</li><li><code class="inline">:return_skipped_upsert?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If <code class="inline">true</code>, and a record was <em>not</em> upserted because its filter prevented the upsert, the original record (which was <em>not</em> upserted) will be returned. The default value is <code class="inline">false</code>.</li><li><code class="inline">:upsert_identity</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - The identity to use when detecting conflicts for <code class="inline">upsert?</code>, e.g. <code class="inline">upsert_identity: :full_name</code>. By default, the primary key is used. Has no effect if <code class="inline">upsert?: true</code> is not provided</li><li><code class="inline">:upsert_fields</code> - The fields to upsert. If not set, the action's upsert_fields is used, and if that is not set, then any fields not being set to defaults are written.</li><li><code class="inline">:upsert_condition</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - An expression to check if the record should be updated when there's a conflict.</li><li><code class="inline">:timeout</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">timeout/0</code></a>) - A positive integer, or <code class="inline">:infinity</code>. If none is provided, the timeout configured on the domain is used.</li><li><code class="inline">:tracer</code> (one or a list of module that adopts <a href="https://hexdocs.pm/ash/3.7.6/Ash.Tracer.html"><code class="inline">Ash.Tracer</code></a>) - A tracer that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.Tracer.html"><code class="inline">Ash.Tracer</code></a> behaviour. See that module for more.</li><li><code class="inline">:action</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - The action to use, either an Action struct or the name of the action</li><li><code class="inline">:authorize?</code> - If an actor option is provided (even if it is <code class="inline">nil</code>), authorization happens automatically. If not, this flag can be used to authorize with no user.</li><li><code class="inline">:context</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">map/0</code></a>) - Context to set on the query, changeset, or input</li><li><code class="inline">:tenant</code> (value that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.ToTenant.html"><code class="inline">Ash.ToTenant</code></a> protocol) - A tenant to set on the query or changeset</li><li><code class="inline">:actor</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - If an actor is provided, it will be used in conjunction with the authorizers of a resource to authorize access</li><li><code class="inline">:scope</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A value that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> protocol, for passing around actor/tenant/context in a single value. See <a href="https://hexdocs.pm/ash/3.7.6/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> for more.</li><li><code class="inline">:return_notifications?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Use this if you're running ash actions in your own transaction and you want to manually handle sending notifications.<br/>If a transaction is ongoing, and this is false, notifications will be discarded, otherwise
the return value is <code class="inline">{:ok, result, notifications}</code> (or <code class="inline">{:ok, notifications}</code>)<br/>To send notifications later, use <code class="inline">Ash.Notifier.notify(notifications)</code>. It sends any notifications
that can be sent, and returns the rest. The default value is <code class="inline">false</code>.</li><li><code class="inline">:rollback_on_error?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to rollback the transaction on error, if the resource is in a transaction.<br/>If the action has <code class="inline">transaction? false</code> this option has no effect. If an error is returned from the
data layer and the resource is in a transaction, the transaction is always rolled back, regardless. The default value is <code class="inline">true</code>.</li><li><code class="inline">:notification_metadata</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - Metadata to be merged into the metadata field for all notifications sent from this operation. The default value is <code class="inline">%{}</code>.</li><li><code class="inline">:skip_unknown_inputs</code> - A list of inputs that, if provided, will be ignored if they are not recognized by the action. Use <code class="inline">:*</code> to indicate all unknown keys.</li><li><code class="inline">:load</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A load statement to add onto the changeset</li><li><code class="inline">:changeset</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A changeset to seed the action with.</li><li><code class="inline">:bulk_options</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">keyword/0</code></a>) - Options passed to <code class="inline">Ash.bulk_create</code>, if a list or stream of inputs is provided.<ul><li><code class="inline">:select</code> (list of <a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - A select statement to apply to records. Ignored if <code class="inline">return_records?</code> is not true.</li><li><code class="inline">:after_action</code> (function of arity 2) - An after_action hook to be added to each processed changeset</li><li><code class="inline">:read_action</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - The action to use when building the read query.</li><li><code class="inline">:assume_casted?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to cast attributes and arguments as input. This is an optimization for cases where the input is already casted and/or not in need of casting The default value is <code class="inline">false</code>.</li><li><code class="inline">:select</code> (list of <a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - A select statement to apply to records. Ignored if <code class="inline">return_records?</code> is not true.</li><li><code class="inline">:authorize_query_with</code> - If set to <code class="inline">:error</code>, instead of filtering unauthorized query results, unauthorized query results will raise an appropriate forbidden error. Uses <code class="inline">authorize_with</code> if not set.</li><li><code class="inline">:authorize_changeset_with</code> - If set to <code class="inline">:error</code>, instead of filtering unauthorized changes, unauthorized changes will raise an appropriate forbidden error. Uses <code class="inline">authorize_with</code> if not set.</li><li><code class="inline">:authorize_with</code> - If set to <code class="inline">:error</code>, instead of filtering unauthorized query results, unauthorized query results will raise an appropriate forbidden error. The default value is <code class="inline">:filter</code>.</li><li><code class="inline">:private_arguments</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">map/0</code></a>) - Private argument values to set on each changeset before validations and changes are run. The default value is <code class="inline">%{}</code>.</li><li><code class="inline">:sorted?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to sort results by their input position, in cases where <code class="inline">return_records?: true</code> was provided. The default value is <code class="inline">false</code>.</li><li><code class="inline">:return_records?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to return all of the records that were inserted. Defaults to false to account for large inserts. The default value is <code class="inline">false</code>.</li><li><code class="inline">:return_errors?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether to return all errors that occur during the operation. Defaults to the value of <code class="inline">:bulk_actions_default_to_errors?</code> in your config, or <code class="inline">false</code> if not set. Returning all errors may be expensive for large inserts. The default value is <code class="inline">false</code>.</li><li><code class="inline">:batch_size</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">pos_integer/0</code></a>) - The number of records to include in each batch. Defaults to the <code class="inline">default_limit</code>
or <code class="inline">max_page_size</code> of the action, or 100.</li><li><code class="inline">:return_stream?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If set to <code class="inline">true</code>, instead of an <a href="https://hexdocs.pm/ash/3.7.6/Ash.BulkResult.html"><code class="inline">Ash.BulkResult</code></a>, a mixed stream is returned.
Potential elements:
<code class="inline">{:notification, notification}</code> - if <code class="inline">return_notifications?</code> is set to <code class="inline">true</code>
<code class="inline">{:ok, record}</code> - if <code class="inline">return_records?</code> is set to <code class="inline">true</code>
<code class="inline">{:error, error}</code> - an error that occurred. May be changeset or an individual error.
The default value is <code class="inline">false</code>.</li><li><code class="inline">:return_nothing?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Mutes warnings about returning nothing.
Only relevant if <code class="inline">return_stream?</code> is set to <code class="inline">true</code> and all other
<code class="inline">return_*?</code> options are set to <code class="inline">false</code>.
The default value is <code class="inline">false</code>.</li><li><code class="inline">:stop_on_error?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If true, the first encountered error will stop the action and be returned. Otherwise, errors
will be skipped. The default value is <code class="inline">false</code>.</li><li><code class="inline">:notify?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to generate any notifications. If this is set to <code class="inline">true</code> then the data layer must return
the results from each batch. This may be intensive for large bulk actions.
Notifications will be automatically sent unless <code class="inline">return_notifications?</code> is set to <code class="inline">true</code>.
The default value is <code class="inline">false</code>.</li><li><code class="inline">:transaction</code> - Whether or not to wrap the entire execution in a transaction, each batch, or not at all.
Keep in mind:
<code class="inline">before_transaction</code> and <code class="inline">after_transaction</code> hooks attached to changesets will have to be run
<em>inside</em> the transaction if you choose <code class="inline">transaction: :all</code>.
The default value is <code class="inline">:batch</code>.</li><li><code class="inline">:max_concurrency</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">non_neg_integer/0</code></a>) - If set to a value greater than 0, up to that many tasks will be started to run batches asynchronously The default value is <code class="inline">0</code>.</li></ul></li><li><code class="inline">:private_arguments</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">map/0</code></a>) - Private argument values to set before validations and changes. The default value is <code class="inline">%{}</code>.</li></ul>
  </section>
</section>
<section class="detail" id="create_offence/2">

    <span id="create_offence/0"></span>

    <span id="create_offence/1"></span>

  <div class="detail-header">
    <a href="#create_offence/2" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">create_offence(params \\ nil, opts \\ nil)</h1>


    </div>
  </div>

  <section class="docstring">

<p>Calls the create action on EhsEnforcement.Enforcement.Offence.</p><h1>Inputs</h1><ul><li>fine - Fine amount for this specific offence</li><li>case_id</li><li>notice_id</li><li>legislation_id</li><li>offence_reference - External reference for the offence (e.g., EA case reference 'SW/A/2010/2051079/01')</li><li>legislation_part - Specific part, section, or regulation of the legislation (e.g., 'Section 33', 'Regulation 4')</li><li>offence_description - Description of the specific breach or violation</li><li>sequence_number - Order/sequence within parent case (for multi-violation EA cases)</li></ul><h2 id="create_offence/2-options" class="section-heading"><a href="#create_offence/2-options" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Options</span></h2><ul><li><code class="inline">:upsert?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If a conflict is found based on the primary key, the record is updated in the database (requires upsert support) The default value is <code class="inline">false</code>.</li><li><code class="inline">:return_skipped_upsert?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If <code class="inline">true</code>, and a record was <em>not</em> upserted because its filter prevented the upsert, the original record (which was <em>not</em> upserted) will be returned. The default value is <code class="inline">false</code>.</li><li><code class="inline">:upsert_identity</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - The identity to use when detecting conflicts for <code class="inline">upsert?</code>, e.g. <code class="inline">upsert_identity: :full_name</code>. By default, the primary key is used. Has no effect if <code class="inline">upsert?: true</code> is not provided</li><li><code class="inline">:upsert_fields</code> - The fields to upsert. If not set, the action's upsert_fields is used, and if that is not set, then any fields not being set to defaults are written.</li><li><code class="inline">:upsert_condition</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - An expression to check if the record should be updated when there's a conflict.</li><li><code class="inline">:timeout</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">timeout/0</code></a>) - A positive integer, or <code class="inline">:infinity</code>. If none is provided, the timeout configured on the domain is used.</li><li><code class="inline">:tracer</code> (one or a list of module that adopts <a href="https://hexdocs.pm/ash/3.7.6/Ash.Tracer.html"><code class="inline">Ash.Tracer</code></a>) - A tracer that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.Tracer.html"><code class="inline">Ash.Tracer</code></a> behaviour. See that module for more.</li><li><code class="inline">:action</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - The action to use, either an Action struct or the name of the action</li><li><code class="inline">:authorize?</code> - If an actor option is provided (even if it is <code class="inline">nil</code>), authorization happens automatically. If not, this flag can be used to authorize with no user.</li><li><code class="inline">:context</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">map/0</code></a>) - Context to set on the query, changeset, or input</li><li><code class="inline">:tenant</code> (value that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.ToTenant.html"><code class="inline">Ash.ToTenant</code></a> protocol) - A tenant to set on the query or changeset</li><li><code class="inline">:actor</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - If an actor is provided, it will be used in conjunction with the authorizers of a resource to authorize access</li><li><code class="inline">:scope</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A value that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> protocol, for passing around actor/tenant/context in a single value. See <a href="https://hexdocs.pm/ash/3.7.6/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> for more.</li><li><code class="inline">:return_notifications?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Use this if you're running ash actions in your own transaction and you want to manually handle sending notifications.<br/>If a transaction is ongoing, and this is false, notifications will be discarded, otherwise
the return value is <code class="inline">{:ok, result, notifications}</code> (or <code class="inline">{:ok, notifications}</code>)<br/>To send notifications later, use <code class="inline">Ash.Notifier.notify(notifications)</code>. It sends any notifications
that can be sent, and returns the rest. The default value is <code class="inline">false</code>.</li><li><code class="inline">:rollback_on_error?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to rollback the transaction on error, if the resource is in a transaction.<br/>If the action has <code class="inline">transaction? false</code> this option has no effect. If an error is returned from the
data layer and the resource is in a transaction, the transaction is always rolled back, regardless. The default value is <code class="inline">true</code>.</li><li><code class="inline">:notification_metadata</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - Metadata to be merged into the metadata field for all notifications sent from this operation. The default value is <code class="inline">%{}</code>.</li><li><code class="inline">:skip_unknown_inputs</code> - A list of inputs that, if provided, will be ignored if they are not recognized by the action. Use <code class="inline">:*</code> to indicate all unknown keys.</li><li><code class="inline">:load</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A load statement to add onto the changeset</li><li><code class="inline">:changeset</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A changeset to seed the action with.</li><li><code class="inline">:bulk_options</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">keyword/0</code></a>) - Options passed to <code class="inline">Ash.bulk_create</code>, if a list or stream of inputs is provided.<ul><li><code class="inline">:select</code> (list of <a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - A select statement to apply to records. Ignored if <code class="inline">return_records?</code> is not true.</li><li><code class="inline">:after_action</code> (function of arity 2) - An after_action hook to be added to each processed changeset</li><li><code class="inline">:read_action</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - The action to use when building the read query.</li><li><code class="inline">:assume_casted?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to cast attributes and arguments as input. This is an optimization for cases where the input is already casted and/or not in need of casting The default value is <code class="inline">false</code>.</li><li><code class="inline">:select</code> (list of <a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - A select statement to apply to records. Ignored if <code class="inline">return_records?</code> is not true.</li><li><code class="inline">:authorize_query_with</code> - If set to <code class="inline">:error</code>, instead of filtering unauthorized query results, unauthorized query results will raise an appropriate forbidden error. Uses <code class="inline">authorize_with</code> if not set.</li><li><code class="inline">:authorize_changeset_with</code> - If set to <code class="inline">:error</code>, instead of filtering unauthorized changes, unauthorized changes will raise an appropriate forbidden error. Uses <code class="inline">authorize_with</code> if not set.</li><li><code class="inline">:authorize_with</code> - If set to <code class="inline">:error</code>, instead of filtering unauthorized query results, unauthorized query results will raise an appropriate forbidden error. The default value is <code class="inline">:filter</code>.</li><li><code class="inline">:private_arguments</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">map/0</code></a>) - Private argument values to set on each changeset before validations and changes are run. The default value is <code class="inline">%{}</code>.</li><li><code class="inline">:sorted?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to sort results by their input position, in cases where <code class="inline">return_records?: true</code> was provided. The default value is <code class="inline">false</code>.</li><li><code class="inline">:return_records?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to return all of the records that were inserted. Defaults to false to account for large inserts. The default value is <code class="inline">false</code>.</li><li><code class="inline">:return_errors?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether to return all errors that occur during the operation. Defaults to the value of <code class="inline">:bulk_actions_default_to_errors?</code> in your config, or <code class="inline">false</code> if not set. Returning all errors may be expensive for large inserts. The default value is <code class="inline">false</code>.</li><li><code class="inline">:batch_size</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">pos_integer/0</code></a>) - The number of records to include in each batch. Defaults to the <code class="inline">default_limit</code>
or <code class="inline">max_page_size</code> of the action, or 100.</li><li><code class="inline">:return_stream?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If set to <code class="inline">true</code>, instead of an <a href="https://hexdocs.pm/ash/3.7.6/Ash.BulkResult.html"><code class="inline">Ash.BulkResult</code></a>, a mixed stream is returned.
Potential elements:
<code class="inline">{:notification, notification}</code> - if <code class="inline">return_notifications?</code> is set to <code class="inline">true</code>
<code class="inline">{:ok, record}</code> - if <code class="inline">return_records?</code> is set to <code class="inline">true</code>
<code class="inline">{:error, error}</code> - an error that occurred. May be changeset or an individual error.
The default value is <code class="inline">false</code>.</li><li><code class="inline">:return_nothing?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Mutes warnings about returning nothing.
Only relevant if <code class="inline">return_stream?</code> is set to <code class="inline">true</code> and all other
<code class="inline">return_*?</code> options are set to <code class="inline">false</code>.
The default value is <code class="inline">false</code>.</li><li><code class="inline">:stop_on_error?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If true, the first encountered error will stop the action and be returned. Otherwise, errors
will be skipped. The default value is <code class="inline">false</code>.</li><li><code class="inline">:notify?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to generate any notifications. If this is set to <code class="inline">true</code> then the data layer must return
the results from each batch. This may be intensive for large bulk actions.
Notifications will be automatically sent unless <code class="inline">return_notifications?</code> is set to <code class="inline">true</code>.
The default value is <code class="inline">false</code>.</li><li><code class="inline">:transaction</code> - Whether or not to wrap the entire execution in a transaction, each batch, or not at all.
Keep in mind:
<code class="inline">before_transaction</code> and <code class="inline">after_transaction</code> hooks attached to changesets will have to be run
<em>inside</em> the transaction if you choose <code class="inline">transaction: :all</code>.
The default value is <code class="inline">:batch</code>.</li><li><code class="inline">:max_concurrency</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">non_neg_integer/0</code></a>) - If set to a value greater than 0, up to that many tasks will be started to run batches asynchronously The default value is <code class="inline">0</code>.</li></ul></li><li><code class="inline">:private_arguments</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">map/0</code></a>) - Private argument values to set before validations and changes. The default value is <code class="inline">%{}</code>.</li></ul>
  </section>
</section>
<section class="detail" id="create_offence!/2">

    <span id="create_offence!/0"></span>

    <span id="create_offence!/1"></span>

  <div class="detail-header">
    <a href="#create_offence!/2" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">create_offence!(params \\ nil, opts \\ nil)</h1>


    </div>
  </div>

  <section class="docstring">

<p>Calls the create action on EhsEnforcement.Enforcement.Offence.
Raises any errors instead of returning them</p><h1>Inputs</h1><ul><li>fine - Fine amount for this specific offence</li><li>case_id</li><li>notice_id</li><li>legislation_id</li><li>offence_reference - External reference for the offence (e.g., EA case reference 'SW/A/2010/2051079/01')</li><li>legislation_part - Specific part, section, or regulation of the legislation (e.g., 'Section 33', 'Regulation 4')</li><li>offence_description - Description of the specific breach or violation</li><li>sequence_number - Order/sequence within parent case (for multi-violation EA cases)</li></ul><h2 id="create_offence!/2-options" class="section-heading"><a href="#create_offence!/2-options" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Options</span></h2><ul><li><code class="inline">:upsert?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If a conflict is found based on the primary key, the record is updated in the database (requires upsert support) The default value is <code class="inline">false</code>.</li><li><code class="inline">:return_skipped_upsert?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If <code class="inline">true</code>, and a record was <em>not</em> upserted because its filter prevented the upsert, the original record (which was <em>not</em> upserted) will be returned. The default value is <code class="inline">false</code>.</li><li><code class="inline">:upsert_identity</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - The identity to use when detecting conflicts for <code class="inline">upsert?</code>, e.g. <code class="inline">upsert_identity: :full_name</code>. By default, the primary key is used. Has no effect if <code class="inline">upsert?: true</code> is not provided</li><li><code class="inline">:upsert_fields</code> - The fields to upsert. If not set, the action's upsert_fields is used, and if that is not set, then any fields not being set to defaults are written.</li><li><code class="inline">:upsert_condition</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - An expression to check if the record should be updated when there's a conflict.</li><li><code class="inline">:timeout</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">timeout/0</code></a>) - A positive integer, or <code class="inline">:infinity</code>. If none is provided, the timeout configured on the domain is used.</li><li><code class="inline">:tracer</code> (one or a list of module that adopts <a href="https://hexdocs.pm/ash/3.7.6/Ash.Tracer.html"><code class="inline">Ash.Tracer</code></a>) - A tracer that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.Tracer.html"><code class="inline">Ash.Tracer</code></a> behaviour. See that module for more.</li><li><code class="inline">:action</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - The action to use, either an Action struct or the name of the action</li><li><code class="inline">:authorize?</code> - If an actor option is provided (even if it is <code class="inline">nil</code>), authorization happens automatically. If not, this flag can be used to authorize with no user.</li><li><code class="inline">:context</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">map/0</code></a>) - Context to set on the query, changeset, or input</li><li><code class="inline">:tenant</code> (value that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.ToTenant.html"><code class="inline">Ash.ToTenant</code></a> protocol) - A tenant to set on the query or changeset</li><li><code class="inline">:actor</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - If an actor is provided, it will be used in conjunction with the authorizers of a resource to authorize access</li><li><code class="inline">:scope</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A value that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> protocol, for passing around actor/tenant/context in a single value. See <a href="https://hexdocs.pm/ash/3.7.6/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> for more.</li><li><code class="inline">:return_notifications?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Use this if you're running ash actions in your own transaction and you want to manually handle sending notifications.<br/>If a transaction is ongoing, and this is false, notifications will be discarded, otherwise
the return value is <code class="inline">{:ok, result, notifications}</code> (or <code class="inline">{:ok, notifications}</code>)<br/>To send notifications later, use <code class="inline">Ash.Notifier.notify(notifications)</code>. It sends any notifications
that can be sent, and returns the rest. The default value is <code class="inline">false</code>.</li><li><code class="inline">:rollback_on_error?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to rollback the transaction on error, if the resource is in a transaction.<br/>If the action has <code class="inline">transaction? false</code> this option has no effect. If an error is returned from the
data layer and the resource is in a transaction, the transaction is always rolled back, regardless. The default value is <code class="inline">true</code>.</li><li><code class="inline">:notification_metadata</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - Metadata to be merged into the metadata field for all notifications sent from this operation. The default value is <code class="inline">%{}</code>.</li><li><code class="inline">:skip_unknown_inputs</code> - A list of inputs that, if provided, will be ignored if they are not recognized by the action. Use <code class="inline">:*</code> to indicate all unknown keys.</li><li><code class="inline">:load</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A load statement to add onto the changeset</li><li><code class="inline">:changeset</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A changeset to seed the action with.</li><li><code class="inline">:bulk_options</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">keyword/0</code></a>) - Options passed to <code class="inline">Ash.bulk_create</code>, if a list or stream of inputs is provided.<ul><li><code class="inline">:select</code> (list of <a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - A select statement to apply to records. Ignored if <code class="inline">return_records?</code> is not true.</li><li><code class="inline">:after_action</code> (function of arity 2) - An after_action hook to be added to each processed changeset</li><li><code class="inline">:read_action</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - The action to use when building the read query.</li><li><code class="inline">:assume_casted?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to cast attributes and arguments as input. This is an optimization for cases where the input is already casted and/or not in need of casting The default value is <code class="inline">false</code>.</li><li><code class="inline">:select</code> (list of <a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - A select statement to apply to records. Ignored if <code class="inline">return_records?</code> is not true.</li><li><code class="inline">:authorize_query_with</code> - If set to <code class="inline">:error</code>, instead of filtering unauthorized query results, unauthorized query results will raise an appropriate forbidden error. Uses <code class="inline">authorize_with</code> if not set.</li><li><code class="inline">:authorize_changeset_with</code> - If set to <code class="inline">:error</code>, instead of filtering unauthorized changes, unauthorized changes will raise an appropriate forbidden error. Uses <code class="inline">authorize_with</code> if not set.</li><li><code class="inline">:authorize_with</code> - If set to <code class="inline">:error</code>, instead of filtering unauthorized query results, unauthorized query results will raise an appropriate forbidden error. The default value is <code class="inline">:filter</code>.</li><li><code class="inline">:private_arguments</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">map/0</code></a>) - Private argument values to set on each changeset before validations and changes are run. The default value is <code class="inline">%{}</code>.</li><li><code class="inline">:sorted?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to sort results by their input position, in cases where <code class="inline">return_records?: true</code> was provided. The default value is <code class="inline">false</code>.</li><li><code class="inline">:return_records?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to return all of the records that were inserted. Defaults to false to account for large inserts. The default value is <code class="inline">false</code>.</li><li><code class="inline">:return_errors?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether to return all errors that occur during the operation. Defaults to the value of <code class="inline">:bulk_actions_default_to_errors?</code> in your config, or <code class="inline">false</code> if not set. Returning all errors may be expensive for large inserts. The default value is <code class="inline">false</code>.</li><li><code class="inline">:batch_size</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">pos_integer/0</code></a>) - The number of records to include in each batch. Defaults to the <code class="inline">default_limit</code>
or <code class="inline">max_page_size</code> of the action, or 100.</li><li><code class="inline">:return_stream?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If set to <code class="inline">true</code>, instead of an <a href="https://hexdocs.pm/ash/3.7.6/Ash.BulkResult.html"><code class="inline">Ash.BulkResult</code></a>, a mixed stream is returned.
Potential elements:
<code class="inline">{:notification, notification}</code> - if <code class="inline">return_notifications?</code> is set to <code class="inline">true</code>
<code class="inline">{:ok, record}</code> - if <code class="inline">return_records?</code> is set to <code class="inline">true</code>
<code class="inline">{:error, error}</code> - an error that occurred. May be changeset or an individual error.
The default value is <code class="inline">false</code>.</li><li><code class="inline">:return_nothing?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Mutes warnings about returning nothing.
Only relevant if <code class="inline">return_stream?</code> is set to <code class="inline">true</code> and all other
<code class="inline">return_*?</code> options are set to <code class="inline">false</code>.
The default value is <code class="inline">false</code>.</li><li><code class="inline">:stop_on_error?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If true, the first encountered error will stop the action and be returned. Otherwise, errors
will be skipped. The default value is <code class="inline">false</code>.</li><li><code class="inline">:notify?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to generate any notifications. If this is set to <code class="inline">true</code> then the data layer must return
the results from each batch. This may be intensive for large bulk actions.
Notifications will be automatically sent unless <code class="inline">return_notifications?</code> is set to <code class="inline">true</code>.
The default value is <code class="inline">false</code>.</li><li><code class="inline">:transaction</code> - Whether or not to wrap the entire execution in a transaction, each batch, or not at all.
Keep in mind:
<code class="inline">before_transaction</code> and <code class="inline">after_transaction</code> hooks attached to changesets will have to be run
<em>inside</em> the transaction if you choose <code class="inline">transaction: :all</code>.
The default value is <code class="inline">:batch</code>.</li><li><code class="inline">:max_concurrency</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">non_neg_integer/0</code></a>) - If set to a value greater than 0, up to that many tasks will be started to run batches asynchronously The default value is <code class="inline">0</code>.</li></ul></li><li><code class="inline">:private_arguments</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">map/0</code></a>) - Private argument values to set before validations and changes. The default value is <code class="inline">%{}</code>.</li></ul>
  </section>
</section>
<section class="detail" id="create_offender/2">

    <span id="create_offender/0"></span>

    <span id="create_offender/1"></span>

  <div class="detail-header">
    <a href="#create_offender/2" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">create_offender(params \\ nil, opts \\ nil)</h1>


    </div>
  </div>

  <section class="docstring">

<p>Calls the create action on EhsEnforcement.Enforcement.Offender.</p><h1>Inputs</h1><ul><li>town - Town from EA structured address (e.g., 'BARNSLEY')</li><li>company_registration_number - Companies House registration number (e.g., '04622955')</li><li>sic_code</li><li>agencies</li><li>industry_sectors - EA detailed industry sectors (e.g., ['Manufacturing - General Engineering'])</li><li>last_seen_date</li><li>total_notices</li><li>industry</li><li>country</li><li>county - County from EA structured address (e.g., 'SOUTH YORKSHIRE')</li><li>local_authority</li><li>total_fines</li><li>total_cases</li><li>name</li><li>business_type</li><li>first_seen_date</li><li>postcode</li><li>address</li><li>main_activity</li></ul><h2 id="create_offender/2-options" class="section-heading"><a href="#create_offender/2-options" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Options</span></h2><ul><li><code class="inline">:upsert?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If a conflict is found based on the primary key, the record is updated in the database (requires upsert support) The default value is <code class="inline">false</code>.</li><li><code class="inline">:return_skipped_upsert?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If <code class="inline">true</code>, and a record was <em>not</em> upserted because its filter prevented the upsert, the original record (which was <em>not</em> upserted) will be returned. The default value is <code class="inline">false</code>.</li><li><code class="inline">:upsert_identity</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - The identity to use when detecting conflicts for <code class="inline">upsert?</code>, e.g. <code class="inline">upsert_identity: :full_name</code>. By default, the primary key is used. Has no effect if <code class="inline">upsert?: true</code> is not provided</li><li><code class="inline">:upsert_fields</code> - The fields to upsert. If not set, the action's upsert_fields is used, and if that is not set, then any fields not being set to defaults are written.</li><li><code class="inline">:upsert_condition</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - An expression to check if the record should be updated when there's a conflict.</li><li><code class="inline">:timeout</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">timeout/0</code></a>) - A positive integer, or <code class="inline">:infinity</code>. If none is provided, the timeout configured on the domain is used.</li><li><code class="inline">:tracer</code> (one or a list of module that adopts <a href="https://hexdocs.pm/ash/3.7.6/Ash.Tracer.html"><code class="inline">Ash.Tracer</code></a>) - A tracer that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.Tracer.html"><code class="inline">Ash.Tracer</code></a> behaviour. See that module for more.</li><li><code class="inline">:action</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - The action to use, either an Action struct or the name of the action</li><li><code class="inline">:authorize?</code> - If an actor option is provided (even if it is <code class="inline">nil</code>), authorization happens automatically. If not, this flag can be used to authorize with no user.</li><li><code class="inline">:context</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">map/0</code></a>) - Context to set on the query, changeset, or input</li><li><code class="inline">:tenant</code> (value that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.ToTenant.html"><code class="inline">Ash.ToTenant</code></a> protocol) - A tenant to set on the query or changeset</li><li><code class="inline">:actor</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - If an actor is provided, it will be used in conjunction with the authorizers of a resource to authorize access</li><li><code class="inline">:scope</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A value that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> protocol, for passing around actor/tenant/context in a single value. See <a href="https://hexdocs.pm/ash/3.7.6/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> for more.</li><li><code class="inline">:return_notifications?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Use this if you're running ash actions in your own transaction and you want to manually handle sending notifications.<br/>If a transaction is ongoing, and this is false, notifications will be discarded, otherwise
the return value is <code class="inline">{:ok, result, notifications}</code> (or <code class="inline">{:ok, notifications}</code>)<br/>To send notifications later, use <code class="inline">Ash.Notifier.notify(notifications)</code>. It sends any notifications
that can be sent, and returns the rest. The default value is <code class="inline">false</code>.</li><li><code class="inline">:rollback_on_error?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to rollback the transaction on error, if the resource is in a transaction.<br/>If the action has <code class="inline">transaction? false</code> this option has no effect. If an error is returned from the
data layer and the resource is in a transaction, the transaction is always rolled back, regardless. The default value is <code class="inline">true</code>.</li><li><code class="inline">:notification_metadata</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - Metadata to be merged into the metadata field for all notifications sent from this operation. The default value is <code class="inline">%{}</code>.</li><li><code class="inline">:skip_unknown_inputs</code> - A list of inputs that, if provided, will be ignored if they are not recognized by the action. Use <code class="inline">:*</code> to indicate all unknown keys.</li><li><code class="inline">:load</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A load statement to add onto the changeset</li><li><code class="inline">:changeset</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A changeset to seed the action with.</li><li><code class="inline">:bulk_options</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">keyword/0</code></a>) - Options passed to <code class="inline">Ash.bulk_create</code>, if a list or stream of inputs is provided.<ul><li><code class="inline">:select</code> (list of <a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - A select statement to apply to records. Ignored if <code class="inline">return_records?</code> is not true.</li><li><code class="inline">:after_action</code> (function of arity 2) - An after_action hook to be added to each processed changeset</li><li><code class="inline">:read_action</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - The action to use when building the read query.</li><li><code class="inline">:assume_casted?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to cast attributes and arguments as input. This is an optimization for cases where the input is already casted and/or not in need of casting The default value is <code class="inline">false</code>.</li><li><code class="inline">:select</code> (list of <a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - A select statement to apply to records. Ignored if <code class="inline">return_records?</code> is not true.</li><li><code class="inline">:authorize_query_with</code> - If set to <code class="inline">:error</code>, instead of filtering unauthorized query results, unauthorized query results will raise an appropriate forbidden error. Uses <code class="inline">authorize_with</code> if not set.</li><li><code class="inline">:authorize_changeset_with</code> - If set to <code class="inline">:error</code>, instead of filtering unauthorized changes, unauthorized changes will raise an appropriate forbidden error. Uses <code class="inline">authorize_with</code> if not set.</li><li><code class="inline">:authorize_with</code> - If set to <code class="inline">:error</code>, instead of filtering unauthorized query results, unauthorized query results will raise an appropriate forbidden error. The default value is <code class="inline">:filter</code>.</li><li><code class="inline">:private_arguments</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">map/0</code></a>) - Private argument values to set on each changeset before validations and changes are run. The default value is <code class="inline">%{}</code>.</li><li><code class="inline">:sorted?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to sort results by their input position, in cases where <code class="inline">return_records?: true</code> was provided. The default value is <code class="inline">false</code>.</li><li><code class="inline">:return_records?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to return all of the records that were inserted. Defaults to false to account for large inserts. The default value is <code class="inline">false</code>.</li><li><code class="inline">:return_errors?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether to return all errors that occur during the operation. Defaults to the value of <code class="inline">:bulk_actions_default_to_errors?</code> in your config, or <code class="inline">false</code> if not set. Returning all errors may be expensive for large inserts. The default value is <code class="inline">false</code>.</li><li><code class="inline">:batch_size</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">pos_integer/0</code></a>) - The number of records to include in each batch. Defaults to the <code class="inline">default_limit</code>
or <code class="inline">max_page_size</code> of the action, or 100.</li><li><code class="inline">:return_stream?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If set to <code class="inline">true</code>, instead of an <a href="https://hexdocs.pm/ash/3.7.6/Ash.BulkResult.html"><code class="inline">Ash.BulkResult</code></a>, a mixed stream is returned.
Potential elements:
<code class="inline">{:notification, notification}</code> - if <code class="inline">return_notifications?</code> is set to <code class="inline">true</code>
<code class="inline">{:ok, record}</code> - if <code class="inline">return_records?</code> is set to <code class="inline">true</code>
<code class="inline">{:error, error}</code> - an error that occurred. May be changeset or an individual error.
The default value is <code class="inline">false</code>.</li><li><code class="inline">:return_nothing?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Mutes warnings about returning nothing.
Only relevant if <code class="inline">return_stream?</code> is set to <code class="inline">true</code> and all other
<code class="inline">return_*?</code> options are set to <code class="inline">false</code>.
The default value is <code class="inline">false</code>.</li><li><code class="inline">:stop_on_error?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If true, the first encountered error will stop the action and be returned. Otherwise, errors
will be skipped. The default value is <code class="inline">false</code>.</li><li><code class="inline">:notify?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to generate any notifications. If this is set to <code class="inline">true</code> then the data layer must return
the results from each batch. This may be intensive for large bulk actions.
Notifications will be automatically sent unless <code class="inline">return_notifications?</code> is set to <code class="inline">true</code>.
The default value is <code class="inline">false</code>.</li><li><code class="inline">:transaction</code> - Whether or not to wrap the entire execution in a transaction, each batch, or not at all.
Keep in mind:
<code class="inline">before_transaction</code> and <code class="inline">after_transaction</code> hooks attached to changesets will have to be run
<em>inside</em> the transaction if you choose <code class="inline">transaction: :all</code>.
The default value is <code class="inline">:batch</code>.</li><li><code class="inline">:max_concurrency</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">non_neg_integer/0</code></a>) - If set to a value greater than 0, up to that many tasks will be started to run batches asynchronously The default value is <code class="inline">0</code>.</li></ul></li><li><code class="inline">:private_arguments</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">map/0</code></a>) - Private argument values to set before validations and changes. The default value is <code class="inline">%{}</code>.</li></ul>
  </section>
</section>
<section class="detail" id="create_offender!/2">

    <span id="create_offender!/0"></span>

    <span id="create_offender!/1"></span>

  <div class="detail-header">
    <a href="#create_offender!/2" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">create_offender!(params \\ nil, opts \\ nil)</h1>


    </div>
  </div>

  <section class="docstring">

<p>Calls the create action on EhsEnforcement.Enforcement.Offender.
Raises any errors instead of returning them</p><h1>Inputs</h1><ul><li>town - Town from EA structured address (e.g., 'BARNSLEY')</li><li>company_registration_number - Companies House registration number (e.g., '04622955')</li><li>sic_code</li><li>agencies</li><li>industry_sectors - EA detailed industry sectors (e.g., ['Manufacturing - General Engineering'])</li><li>last_seen_date</li><li>total_notices</li><li>industry</li><li>country</li><li>county - County from EA structured address (e.g., 'SOUTH YORKSHIRE')</li><li>local_authority</li><li>total_fines</li><li>total_cases</li><li>name</li><li>business_type</li><li>first_seen_date</li><li>postcode</li><li>address</li><li>main_activity</li></ul><h2 id="create_offender!/2-options" class="section-heading"><a href="#create_offender!/2-options" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Options</span></h2><ul><li><code class="inline">:upsert?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If a conflict is found based on the primary key, the record is updated in the database (requires upsert support) The default value is <code class="inline">false</code>.</li><li><code class="inline">:return_skipped_upsert?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If <code class="inline">true</code>, and a record was <em>not</em> upserted because its filter prevented the upsert, the original record (which was <em>not</em> upserted) will be returned. The default value is <code class="inline">false</code>.</li><li><code class="inline">:upsert_identity</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - The identity to use when detecting conflicts for <code class="inline">upsert?</code>, e.g. <code class="inline">upsert_identity: :full_name</code>. By default, the primary key is used. Has no effect if <code class="inline">upsert?: true</code> is not provided</li><li><code class="inline">:upsert_fields</code> - The fields to upsert. If not set, the action's upsert_fields is used, and if that is not set, then any fields not being set to defaults are written.</li><li><code class="inline">:upsert_condition</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - An expression to check if the record should be updated when there's a conflict.</li><li><code class="inline">:timeout</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">timeout/0</code></a>) - A positive integer, or <code class="inline">:infinity</code>. If none is provided, the timeout configured on the domain is used.</li><li><code class="inline">:tracer</code> (one or a list of module that adopts <a href="https://hexdocs.pm/ash/3.7.6/Ash.Tracer.html"><code class="inline">Ash.Tracer</code></a>) - A tracer that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.Tracer.html"><code class="inline">Ash.Tracer</code></a> behaviour. See that module for more.</li><li><code class="inline">:action</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - The action to use, either an Action struct or the name of the action</li><li><code class="inline">:authorize?</code> - If an actor option is provided (even if it is <code class="inline">nil</code>), authorization happens automatically. If not, this flag can be used to authorize with no user.</li><li><code class="inline">:context</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">map/0</code></a>) - Context to set on the query, changeset, or input</li><li><code class="inline">:tenant</code> (value that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.ToTenant.html"><code class="inline">Ash.ToTenant</code></a> protocol) - A tenant to set on the query or changeset</li><li><code class="inline">:actor</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - If an actor is provided, it will be used in conjunction with the authorizers of a resource to authorize access</li><li><code class="inline">:scope</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A value that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> protocol, for passing around actor/tenant/context in a single value. See <a href="https://hexdocs.pm/ash/3.7.6/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> for more.</li><li><code class="inline">:return_notifications?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Use this if you're running ash actions in your own transaction and you want to manually handle sending notifications.<br/>If a transaction is ongoing, and this is false, notifications will be discarded, otherwise
the return value is <code class="inline">{:ok, result, notifications}</code> (or <code class="inline">{:ok, notifications}</code>)<br/>To send notifications later, use <code class="inline">Ash.Notifier.notify(notifications)</code>. It sends any notifications
that can be sent, and returns the rest. The default value is <code class="inline">false</code>.</li><li><code class="inline">:rollback_on_error?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to rollback the transaction on error, if the resource is in a transaction.<br/>If the action has <code class="inline">transaction? false</code> this option has no effect. If an error is returned from the
data layer and the resource is in a transaction, the transaction is always rolled back, regardless. The default value is <code class="inline">true</code>.</li><li><code class="inline">:notification_metadata</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - Metadata to be merged into the metadata field for all notifications sent from this operation. The default value is <code class="inline">%{}</code>.</li><li><code class="inline">:skip_unknown_inputs</code> - A list of inputs that, if provided, will be ignored if they are not recognized by the action. Use <code class="inline">:*</code> to indicate all unknown keys.</li><li><code class="inline">:load</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A load statement to add onto the changeset</li><li><code class="inline">:changeset</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A changeset to seed the action with.</li><li><code class="inline">:bulk_options</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">keyword/0</code></a>) - Options passed to <code class="inline">Ash.bulk_create</code>, if a list or stream of inputs is provided.<ul><li><code class="inline">:select</code> (list of <a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - A select statement to apply to records. Ignored if <code class="inline">return_records?</code> is not true.</li><li><code class="inline">:after_action</code> (function of arity 2) - An after_action hook to be added to each processed changeset</li><li><code class="inline">:read_action</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - The action to use when building the read query.</li><li><code class="inline">:assume_casted?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to cast attributes and arguments as input. This is an optimization for cases where the input is already casted and/or not in need of casting The default value is <code class="inline">false</code>.</li><li><code class="inline">:select</code> (list of <a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - A select statement to apply to records. Ignored if <code class="inline">return_records?</code> is not true.</li><li><code class="inline">:authorize_query_with</code> - If set to <code class="inline">:error</code>, instead of filtering unauthorized query results, unauthorized query results will raise an appropriate forbidden error. Uses <code class="inline">authorize_with</code> if not set.</li><li><code class="inline">:authorize_changeset_with</code> - If set to <code class="inline">:error</code>, instead of filtering unauthorized changes, unauthorized changes will raise an appropriate forbidden error. Uses <code class="inline">authorize_with</code> if not set.</li><li><code class="inline">:authorize_with</code> - If set to <code class="inline">:error</code>, instead of filtering unauthorized query results, unauthorized query results will raise an appropriate forbidden error. The default value is <code class="inline">:filter</code>.</li><li><code class="inline">:private_arguments</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">map/0</code></a>) - Private argument values to set on each changeset before validations and changes are run. The default value is <code class="inline">%{}</code>.</li><li><code class="inline">:sorted?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to sort results by their input position, in cases where <code class="inline">return_records?: true</code> was provided. The default value is <code class="inline">false</code>.</li><li><code class="inline">:return_records?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to return all of the records that were inserted. Defaults to false to account for large inserts. The default value is <code class="inline">false</code>.</li><li><code class="inline">:return_errors?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether to return all errors that occur during the operation. Defaults to the value of <code class="inline">:bulk_actions_default_to_errors?</code> in your config, or <code class="inline">false</code> if not set. Returning all errors may be expensive for large inserts. The default value is <code class="inline">false</code>.</li><li><code class="inline">:batch_size</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">pos_integer/0</code></a>) - The number of records to include in each batch. Defaults to the <code class="inline">default_limit</code>
or <code class="inline">max_page_size</code> of the action, or 100.</li><li><code class="inline">:return_stream?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If set to <code class="inline">true</code>, instead of an <a href="https://hexdocs.pm/ash/3.7.6/Ash.BulkResult.html"><code class="inline">Ash.BulkResult</code></a>, a mixed stream is returned.
Potential elements:
<code class="inline">{:notification, notification}</code> - if <code class="inline">return_notifications?</code> is set to <code class="inline">true</code>
<code class="inline">{:ok, record}</code> - if <code class="inline">return_records?</code> is set to <code class="inline">true</code>
<code class="inline">{:error, error}</code> - an error that occurred. May be changeset or an individual error.
The default value is <code class="inline">false</code>.</li><li><code class="inline">:return_nothing?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Mutes warnings about returning nothing.
Only relevant if <code class="inline">return_stream?</code> is set to <code class="inline">true</code> and all other
<code class="inline">return_*?</code> options are set to <code class="inline">false</code>.
The default value is <code class="inline">false</code>.</li><li><code class="inline">:stop_on_error?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If true, the first encountered error will stop the action and be returned. Otherwise, errors
will be skipped. The default value is <code class="inline">false</code>.</li><li><code class="inline">:notify?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to generate any notifications. If this is set to <code class="inline">true</code> then the data layer must return
the results from each batch. This may be intensive for large bulk actions.
Notifications will be automatically sent unless <code class="inline">return_notifications?</code> is set to <code class="inline">true</code>.
The default value is <code class="inline">false</code>.</li><li><code class="inline">:transaction</code> - Whether or not to wrap the entire execution in a transaction, each batch, or not at all.
Keep in mind:
<code class="inline">before_transaction</code> and <code class="inline">after_transaction</code> hooks attached to changesets will have to be run
<em>inside</em> the transaction if you choose <code class="inline">transaction: :all</code>.
The default value is <code class="inline">:batch</code>.</li><li><code class="inline">:max_concurrency</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">non_neg_integer/0</code></a>) - If set to a value greater than 0, up to that many tasks will be started to run batches asynchronously The default value is <code class="inline">0</code>.</li></ul></li><li><code class="inline">:private_arguments</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">map/0</code></a>) - Private argument values to set before validations and changes. The default value is <code class="inline">%{}</code>.</li></ul>
  </section>
</section>
<section class="detail" id="default_short_name/0">

  <div class="detail-header">
    <a href="#default_short_name/0" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">default_short_name()</h1>


    </div>
  </div>

  <section class="docstring">


  </section>
</section>
<section class="detail" id="destroy/2">

    <span id="destroy/1"></span>

  <div class="detail-header">
    <a href="#destroy/2" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">destroy(record, opts \\ [])</h1>


    </div>
  </div>

    <div class="deprecated">
      This function is deprecated. Use `Ash.destroy/2` instead.
    </div>

  <section class="docstring">


  </section>
</section>
<section class="detail" id="destroy!/2">

    <span id="destroy!/1"></span>

  <div class="detail-header">
    <a href="#destroy!/2" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">destroy!(record, opts \\ [])</h1>


    </div>
  </div>

    <div class="deprecated">
      This function is deprecated. Use `Ash.destroy!/2` instead.
    </div>

  <section class="docstring">


  </section>
</section>
<section class="detail" id="destroy_case/3">

    <span id="destroy_case/1"></span>

    <span id="destroy_case/2"></span>

  <div class="detail-header">
    <a href="#destroy_case/3" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">destroy_case(record, params \\ nil, opts \\ nil)</h1>


    </div>
  </div>

  <section class="docstring">

<p>Calls the destroy action on EhsEnforcement.Enforcement.Case.</p><h2 id="destroy_case/3-options" class="section-heading"><a href="#destroy_case/3-options" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Options</span></h2><ul><li><code class="inline">:return_destroyed?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If true, the destroyed record is included in the return result, e.g <code class="inline">{:ok, destroyed}</code> or <code class="inline">{:ok, destroyed, notifications}</code> The default value is <code class="inline">false</code>.</li><li><code class="inline">:timeout</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">timeout/0</code></a>) - A positive integer, or <code class="inline">:infinity</code>. If none is provided, the timeout configured on the domain is used.</li><li><code class="inline">:tracer</code> (one or a list of module that adopts <a href="https://hexdocs.pm/ash/3.7.6/Ash.Tracer.html"><code class="inline">Ash.Tracer</code></a>) - A tracer that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.Tracer.html"><code class="inline">Ash.Tracer</code></a> behaviour. See that module for more.</li><li><code class="inline">:action</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - The action to use, either an Action struct or the name of the action</li><li><code class="inline">:authorize?</code> - If an actor option is provided (even if it is <code class="inline">nil</code>), authorization happens automatically. If not, this flag can be used to authorize with no user.</li><li><code class="inline">:context</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">map/0</code></a>) - Context to set on the query, changeset, or input</li><li><code class="inline">:tenant</code> (value that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.ToTenant.html"><code class="inline">Ash.ToTenant</code></a> protocol) - A tenant to set on the query or changeset</li><li><code class="inline">:actor</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - If an actor is provided, it will be used in conjunction with the authorizers of a resource to authorize access</li><li><code class="inline">:scope</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A value that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> protocol, for passing around actor/tenant/context in a single value. See <a href="https://hexdocs.pm/ash/3.7.6/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> for more.</li><li><code class="inline">:return_notifications?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Use this if you're running ash actions in your own transaction and you want to manually handle sending notifications.<br/>If a transaction is ongoing, and this is false, notifications will be discarded, otherwise
the return value is <code class="inline">{:ok, result, notifications}</code> (or <code class="inline">{:ok, notifications}</code>)<br/>To send notifications later, use <code class="inline">Ash.Notifier.notify(notifications)</code>. It sends any notifications
that can be sent, and returns the rest. The default value is <code class="inline">false</code>.</li><li><code class="inline">:rollback_on_error?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to rollback the transaction on error, if the resource is in a transaction.<br/>If the action has <code class="inline">transaction? false</code> this option has no effect. If an error is returned from the
data layer and the resource is in a transaction, the transaction is always rolled back, regardless. The default value is <code class="inline">true</code>.</li><li><code class="inline">:notification_metadata</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - Metadata to be merged into the metadata field for all notifications sent from this operation. The default value is <code class="inline">%{}</code>.</li><li><code class="inline">:skip_unknown_inputs</code> - A list of inputs that, if provided, will be ignored if they are not recognized by the action. Use <code class="inline">:*</code> to indicate all unknown keys.</li><li><code class="inline">:load</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A load statement to add onto the changeset</li><li><code class="inline">:bulk_options</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">keyword/0</code></a>) - Options passed to <code class="inline">Ash.bulk_destroy</code>, if a query, list, or stream of inputs is provided.<ul><li><code class="inline">:stream_batch_size</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">integer/0</code></a>) - Batch size to use if provided a query and the query must be streamed</li><li><code class="inline">:allow_stream_with</code> - The 'worst' strategy allowed to be used to fetch records if the <code class="inline">:stream</code> strategy is chosen. See the <a href="https://hexdocs.pm/ash/3.7.6/Ash.html#stream!/2"><code class="inline">Ash.stream!/2</code></a> docs for more. The default value is <code class="inline">:keyset</code>.</li><li><code class="inline">:authorize_query?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If a query is given, determines whether or not authorization is run on that query. The default value is <code class="inline">true</code>.</li><li><code class="inline">:strategy</code> - The strategy or strategies to enable. :stream is used in all cases if the data layer does not support atomics. The default value is <code class="inline">:atomic</code>.</li><li><code class="inline">:filter</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A filter to apply to records. This is also applied to a stream of inputs.</li><li><code class="inline">:allow_stream_with</code> - The 'worst' strategy allowed to be used to fetch records. See <a href="https://hexdocs.pm/ash/3.7.6/Ash.html#stream!/2"><code class="inline">Ash.stream!/2</code></a> docs for more. The default value is <code class="inline">:keyset</code>.</li><li><code class="inline">:stream_with</code> - The specific strategy to use to fetch records. See <a href="https://hexdocs.pm/ash/3.7.6/Ash.html#stream!/2"><code class="inline">Ash.stream!/2</code></a> docs for more.</li><li><code class="inline">:max_concurrency</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">non_neg_integer/0</code></a>) - The maximum number of processes allowed to be started for parallel loading of relationships and calculations. Defaults to <code class="inline">System.schedulers_online() * 2</code></li><li><code class="inline">:lock</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A lock statement to add onto the query</li><li><code class="inline">:return_query?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If <code class="inline">true</code>, the query that was ultimately used is returned as a third tuple element.
The query goes through many potential changes during a request, potentially adding
authorization filters, or replacing relationships for other data layers with their
corresponding ids. This option can be used to get the true query that was sent to
the data layer.
The default value is <code class="inline">false</code>.</li><li><code class="inline">:reuse_values?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether calculations are allowed to reuse values that have already been loaded, or must refetch them from the data layer. The default value is <code class="inline">false</code>.</li><li><code class="inline">:strict?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If set to true, only specified attributes will be loaded when passing
  a list of fields to fetch on a relationship, which allows for more
  optimized data-fetching.
  See <a href="https://hexdocs.pm/ash/3.7.6/Ash.Query.html#load/2"><code class="inline">Ash.Query.load/2</code></a>.
The default value is <code class="inline">false</code>.</li><li><code class="inline">:authorize_with</code> - If set to <code class="inline">:error</code>, instead of applying authorization filters as a filter, any records not matching the authorization filter will cause an error to be returned. The default value is <code class="inline">:filter</code>.</li><li><code class="inline">:read_action</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - The action to use when building the read query.</li><li><code class="inline">:assume_casted?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to cast attributes and arguments as input. This is an optimization for cases where the input is already casted and/or not in need of casting The default value is <code class="inline">false</code>.</li><li><code class="inline">:select</code> (list of <a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - A select statement to apply to records. Ignored if <code class="inline">return_records?</code> is not true.</li><li><code class="inline">:authorize_query_with</code> - If set to <code class="inline">:error</code>, instead of filtering unauthorized query results, unauthorized query results will raise an appropriate forbidden error. Uses <code class="inline">authorize_with</code> if not set.</li><li><code class="inline">:authorize_changeset_with</code> - If set to <code class="inline">:error</code>, instead of filtering unauthorized changes, unauthorized changes will raise an appropriate forbidden error. Uses <code class="inline">authorize_with</code> if not set.</li><li><code class="inline">:authorize_with</code> - If set to <code class="inline">:error</code>, instead of filtering unauthorized query results, unauthorized query results will raise an appropriate forbidden error. The default value is <code class="inline">:filter</code>.</li><li><code class="inline">:private_arguments</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">map/0</code></a>) - Private argument values to set on each changeset before validations and changes are run. The default value is <code class="inline">%{}</code>.</li><li><code class="inline">:sorted?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to sort results by their input position, in cases where <code class="inline">return_records?: true</code> was provided. The default value is <code class="inline">false</code>.</li><li><code class="inline">:return_records?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to return all of the records that were inserted. Defaults to false to account for large inserts. The default value is <code class="inline">false</code>.</li><li><code class="inline">:return_errors?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether to return all errors that occur during the operation. Defaults to the value of <code class="inline">:bulk_actions_default_to_errors?</code> in your config, or <code class="inline">false</code> if not set. Returning all errors may be expensive for large inserts. The default value is <code class="inline">false</code>.</li><li><code class="inline">:batch_size</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">pos_integer/0</code></a>) - The number of records to include in each batch. Defaults to the <code class="inline">default_limit</code>
or <code class="inline">max_page_size</code> of the action, or 100.</li><li><code class="inline">:return_stream?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If set to <code class="inline">true</code>, instead of an <a href="https://hexdocs.pm/ash/3.7.6/Ash.BulkResult.html"><code class="inline">Ash.BulkResult</code></a>, a mixed stream is returned.
Potential elements:
<code class="inline">{:notification, notification}</code> - if <code class="inline">return_notifications?</code> is set to <code class="inline">true</code>
<code class="inline">{:ok, record}</code> - if <code class="inline">return_records?</code> is set to <code class="inline">true</code>
<code class="inline">{:error, error}</code> - an error that occurred. May be changeset or an individual error.
The default value is <code class="inline">false</code>.</li><li><code class="inline">:return_nothing?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Mutes warnings about returning nothing.
Only relevant if <code class="inline">return_stream?</code> is set to <code class="inline">true</code> and all other
<code class="inline">return_*?</code> options are set to <code class="inline">false</code>.
The default value is <code class="inline">false</code>.</li><li><code class="inline">:stop_on_error?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If true, the first encountered error will stop the action and be returned. Otherwise, errors
will be skipped. The default value is <code class="inline">false</code>.</li><li><code class="inline">:notify?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to generate any notifications. If this is set to <code class="inline">true</code> then the data layer must return
the results from each batch. This may be intensive for large bulk actions.
Notifications will be automatically sent unless <code class="inline">return_notifications?</code> is set to <code class="inline">true</code>.
The default value is <code class="inline">false</code>.</li><li><code class="inline">:transaction</code> - Whether or not to wrap the entire execution in a transaction, each batch, or not at all.
Keep in mind:
<code class="inline">before_transaction</code> and <code class="inline">after_transaction</code> hooks attached to changesets will have to be run
<em>inside</em> the transaction if you choose <code class="inline">transaction: :all</code>.
The default value is <code class="inline">:batch</code>.</li><li><code class="inline">:max_concurrency</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">non_neg_integer/0</code></a>) - If set to a value greater than 0, up to that many tasks will be started to run batches asynchronously The default value is <code class="inline">0</code>.</li></ul></li><li><code class="inline">:private_arguments</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">map/0</code></a>) - Private argument values to set before validations and changes. The default value is <code class="inline">%{}</code>.</li></ul>
  </section>
</section>
<section class="detail" id="destroy_case!/3">

    <span id="destroy_case!/1"></span>

    <span id="destroy_case!/2"></span>

  <div class="detail-header">
    <a href="#destroy_case!/3" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">destroy_case!(record, params \\ nil, opts \\ nil)</h1>


    </div>
  </div>

  <section class="docstring">

<p>Calls the destroy action on EhsEnforcement.Enforcement.Case.
Raises any errors instead of returning them</p><h2 id="destroy_case!/3-options" class="section-heading"><a href="#destroy_case!/3-options" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Options</span></h2><ul><li><code class="inline">:return_destroyed?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If true, the destroyed record is included in the return result, e.g <code class="inline">{:ok, destroyed}</code> or <code class="inline">{:ok, destroyed, notifications}</code> The default value is <code class="inline">false</code>.</li><li><code class="inline">:timeout</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">timeout/0</code></a>) - A positive integer, or <code class="inline">:infinity</code>. If none is provided, the timeout configured on the domain is used.</li><li><code class="inline">:tracer</code> (one or a list of module that adopts <a href="https://hexdocs.pm/ash/3.7.6/Ash.Tracer.html"><code class="inline">Ash.Tracer</code></a>) - A tracer that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.Tracer.html"><code class="inline">Ash.Tracer</code></a> behaviour. See that module for more.</li><li><code class="inline">:action</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - The action to use, either an Action struct or the name of the action</li><li><code class="inline">:authorize?</code> - If an actor option is provided (even if it is <code class="inline">nil</code>), authorization happens automatically. If not, this flag can be used to authorize with no user.</li><li><code class="inline">:context</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">map/0</code></a>) - Context to set on the query, changeset, or input</li><li><code class="inline">:tenant</code> (value that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.ToTenant.html"><code class="inline">Ash.ToTenant</code></a> protocol) - A tenant to set on the query or changeset</li><li><code class="inline">:actor</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - If an actor is provided, it will be used in conjunction with the authorizers of a resource to authorize access</li><li><code class="inline">:scope</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A value that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> protocol, for passing around actor/tenant/context in a single value. See <a href="https://hexdocs.pm/ash/3.7.6/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> for more.</li><li><code class="inline">:return_notifications?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Use this if you're running ash actions in your own transaction and you want to manually handle sending notifications.<br/>If a transaction is ongoing, and this is false, notifications will be discarded, otherwise
the return value is <code class="inline">{:ok, result, notifications}</code> (or <code class="inline">{:ok, notifications}</code>)<br/>To send notifications later, use <code class="inline">Ash.Notifier.notify(notifications)</code>. It sends any notifications
that can be sent, and returns the rest. The default value is <code class="inline">false</code>.</li><li><code class="inline">:rollback_on_error?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to rollback the transaction on error, if the resource is in a transaction.<br/>If the action has <code class="inline">transaction? false</code> this option has no effect. If an error is returned from the
data layer and the resource is in a transaction, the transaction is always rolled back, regardless. The default value is <code class="inline">true</code>.</li><li><code class="inline">:notification_metadata</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - Metadata to be merged into the metadata field for all notifications sent from this operation. The default value is <code class="inline">%{}</code>.</li><li><code class="inline">:skip_unknown_inputs</code> - A list of inputs that, if provided, will be ignored if they are not recognized by the action. Use <code class="inline">:*</code> to indicate all unknown keys.</li><li><code class="inline">:load</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A load statement to add onto the changeset</li><li><code class="inline">:bulk_options</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">keyword/0</code></a>) - Options passed to <code class="inline">Ash.bulk_destroy</code>, if a query, list, or stream of inputs is provided.<ul><li><code class="inline">:stream_batch_size</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">integer/0</code></a>) - Batch size to use if provided a query and the query must be streamed</li><li><code class="inline">:allow_stream_with</code> - The 'worst' strategy allowed to be used to fetch records if the <code class="inline">:stream</code> strategy is chosen. See the <a href="https://hexdocs.pm/ash/3.7.6/Ash.html#stream!/2"><code class="inline">Ash.stream!/2</code></a> docs for more. The default value is <code class="inline">:keyset</code>.</li><li><code class="inline">:authorize_query?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If a query is given, determines whether or not authorization is run on that query. The default value is <code class="inline">true</code>.</li><li><code class="inline">:strategy</code> - The strategy or strategies to enable. :stream is used in all cases if the data layer does not support atomics. The default value is <code class="inline">:atomic</code>.</li><li><code class="inline">:filter</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A filter to apply to records. This is also applied to a stream of inputs.</li><li><code class="inline">:allow_stream_with</code> - The 'worst' strategy allowed to be used to fetch records. See <a href="https://hexdocs.pm/ash/3.7.6/Ash.html#stream!/2"><code class="inline">Ash.stream!/2</code></a> docs for more. The default value is <code class="inline">:keyset</code>.</li><li><code class="inline">:stream_with</code> - The specific strategy to use to fetch records. See <a href="https://hexdocs.pm/ash/3.7.6/Ash.html#stream!/2"><code class="inline">Ash.stream!/2</code></a> docs for more.</li><li><code class="inline">:max_concurrency</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">non_neg_integer/0</code></a>) - The maximum number of processes allowed to be started for parallel loading of relationships and calculations. Defaults to <code class="inline">System.schedulers_online() * 2</code></li><li><code class="inline">:lock</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A lock statement to add onto the query</li><li><code class="inline">:return_query?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If <code class="inline">true</code>, the query that was ultimately used is returned as a third tuple element.
The query goes through many potential changes during a request, potentially adding
authorization filters, or replacing relationships for other data layers with their
corresponding ids. This option can be used to get the true query that was sent to
the data layer.
The default value is <code class="inline">false</code>.</li><li><code class="inline">:reuse_values?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether calculations are allowed to reuse values that have already been loaded, or must refetch them from the data layer. The default value is <code class="inline">false</code>.</li><li><code class="inline">:strict?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If set to true, only specified attributes will be loaded when passing
  a list of fields to fetch on a relationship, which allows for more
  optimized data-fetching.
  See <a href="https://hexdocs.pm/ash/3.7.6/Ash.Query.html#load/2"><code class="inline">Ash.Query.load/2</code></a>.
The default value is <code class="inline">false</code>.</li><li><code class="inline">:authorize_with</code> - If set to <code class="inline">:error</code>, instead of applying authorization filters as a filter, any records not matching the authorization filter will cause an error to be returned. The default value is <code class="inline">:filter</code>.</li><li><code class="inline">:read_action</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - The action to use when building the read query.</li><li><code class="inline">:assume_casted?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to cast attributes and arguments as input. This is an optimization for cases where the input is already casted and/or not in need of casting The default value is <code class="inline">false</code>.</li><li><code class="inline">:select</code> (list of <a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - A select statement to apply to records. Ignored if <code class="inline">return_records?</code> is not true.</li><li><code class="inline">:authorize_query_with</code> - If set to <code class="inline">:error</code>, instead of filtering unauthorized query results, unauthorized query results will raise an appropriate forbidden error. Uses <code class="inline">authorize_with</code> if not set.</li><li><code class="inline">:authorize_changeset_with</code> - If set to <code class="inline">:error</code>, instead of filtering unauthorized changes, unauthorized changes will raise an appropriate forbidden error. Uses <code class="inline">authorize_with</code> if not set.</li><li><code class="inline">:authorize_with</code> - If set to <code class="inline">:error</code>, instead of filtering unauthorized query results, unauthorized query results will raise an appropriate forbidden error. The default value is <code class="inline">:filter</code>.</li><li><code class="inline">:private_arguments</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">map/0</code></a>) - Private argument values to set on each changeset before validations and changes are run. The default value is <code class="inline">%{}</code>.</li><li><code class="inline">:sorted?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to sort results by their input position, in cases where <code class="inline">return_records?: true</code> was provided. The default value is <code class="inline">false</code>.</li><li><code class="inline">:return_records?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to return all of the records that were inserted. Defaults to false to account for large inserts. The default value is <code class="inline">false</code>.</li><li><code class="inline">:return_errors?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether to return all errors that occur during the operation. Defaults to the value of <code class="inline">:bulk_actions_default_to_errors?</code> in your config, or <code class="inline">false</code> if not set. Returning all errors may be expensive for large inserts. The default value is <code class="inline">false</code>.</li><li><code class="inline">:batch_size</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">pos_integer/0</code></a>) - The number of records to include in each batch. Defaults to the <code class="inline">default_limit</code>
or <code class="inline">max_page_size</code> of the action, or 100.</li><li><code class="inline">:return_stream?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If set to <code class="inline">true</code>, instead of an <a href="https://hexdocs.pm/ash/3.7.6/Ash.BulkResult.html"><code class="inline">Ash.BulkResult</code></a>, a mixed stream is returned.
Potential elements:
<code class="inline">{:notification, notification}</code> - if <code class="inline">return_notifications?</code> is set to <code class="inline">true</code>
<code class="inline">{:ok, record}</code> - if <code class="inline">return_records?</code> is set to <code class="inline">true</code>
<code class="inline">{:error, error}</code> - an error that occurred. May be changeset or an individual error.
The default value is <code class="inline">false</code>.</li><li><code class="inline">:return_nothing?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Mutes warnings about returning nothing.
Only relevant if <code class="inline">return_stream?</code> is set to <code class="inline">true</code> and all other
<code class="inline">return_*?</code> options are set to <code class="inline">false</code>.
The default value is <code class="inline">false</code>.</li><li><code class="inline">:stop_on_error?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If true, the first encountered error will stop the action and be returned. Otherwise, errors
will be skipped. The default value is <code class="inline">false</code>.</li><li><code class="inline">:notify?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to generate any notifications. If this is set to <code class="inline">true</code> then the data layer must return
the results from each batch. This may be intensive for large bulk actions.
Notifications will be automatically sent unless <code class="inline">return_notifications?</code> is set to <code class="inline">true</code>.
The default value is <code class="inline">false</code>.</li><li><code class="inline">:transaction</code> - Whether or not to wrap the entire execution in a transaction, each batch, or not at all.
Keep in mind:
<code class="inline">before_transaction</code> and <code class="inline">after_transaction</code> hooks attached to changesets will have to be run
<em>inside</em> the transaction if you choose <code class="inline">transaction: :all</code>.
The default value is <code class="inline">:batch</code>.</li><li><code class="inline">:max_concurrency</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">non_neg_integer/0</code></a>) - If set to a value greater than 0, up to that many tasks will be started to run batches asynchronously The default value is <code class="inline">0</code>.</li></ul></li><li><code class="inline">:private_arguments</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">map/0</code></a>) - Private argument values to set before validations and changes. The default value is <code class="inline">%{}</code>.</li></ul>
  </section>
</section>
<section class="detail" id="destroy_legislation/3">

    <span id="destroy_legislation/1"></span>

    <span id="destroy_legislation/2"></span>

  <div class="detail-header">
    <a href="#destroy_legislation/3" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">destroy_legislation(record, params \\ nil, opts \\ nil)</h1>


    </div>
  </div>

  <section class="docstring">

<p>Calls the destroy action on EhsEnforcement.Enforcement.Legislation.</p><h2 id="destroy_legislation/3-options" class="section-heading"><a href="#destroy_legislation/3-options" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Options</span></h2><ul><li><code class="inline">:return_destroyed?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If true, the destroyed record is included in the return result, e.g <code class="inline">{:ok, destroyed}</code> or <code class="inline">{:ok, destroyed, notifications}</code> The default value is <code class="inline">false</code>.</li><li><code class="inline">:timeout</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">timeout/0</code></a>) - A positive integer, or <code class="inline">:infinity</code>. If none is provided, the timeout configured on the domain is used.</li><li><code class="inline">:tracer</code> (one or a list of module that adopts <a href="https://hexdocs.pm/ash/3.7.6/Ash.Tracer.html"><code class="inline">Ash.Tracer</code></a>) - A tracer that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.Tracer.html"><code class="inline">Ash.Tracer</code></a> behaviour. See that module for more.</li><li><code class="inline">:action</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - The action to use, either an Action struct or the name of the action</li><li><code class="inline">:authorize?</code> - If an actor option is provided (even if it is <code class="inline">nil</code>), authorization happens automatically. If not, this flag can be used to authorize with no user.</li><li><code class="inline">:context</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">map/0</code></a>) - Context to set on the query, changeset, or input</li><li><code class="inline">:tenant</code> (value that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.ToTenant.html"><code class="inline">Ash.ToTenant</code></a> protocol) - A tenant to set on the query or changeset</li><li><code class="inline">:actor</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - If an actor is provided, it will be used in conjunction with the authorizers of a resource to authorize access</li><li><code class="inline">:scope</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A value that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> protocol, for passing around actor/tenant/context in a single value. See <a href="https://hexdocs.pm/ash/3.7.6/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> for more.</li><li><code class="inline">:return_notifications?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Use this if you're running ash actions in your own transaction and you want to manually handle sending notifications.<br/>If a transaction is ongoing, and this is false, notifications will be discarded, otherwise
the return value is <code class="inline">{:ok, result, notifications}</code> (or <code class="inline">{:ok, notifications}</code>)<br/>To send notifications later, use <code class="inline">Ash.Notifier.notify(notifications)</code>. It sends any notifications
that can be sent, and returns the rest. The default value is <code class="inline">false</code>.</li><li><code class="inline">:rollback_on_error?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to rollback the transaction on error, if the resource is in a transaction.<br/>If the action has <code class="inline">transaction? false</code> this option has no effect. If an error is returned from the
data layer and the resource is in a transaction, the transaction is always rolled back, regardless. The default value is <code class="inline">true</code>.</li><li><code class="inline">:notification_metadata</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - Metadata to be merged into the metadata field for all notifications sent from this operation. The default value is <code class="inline">%{}</code>.</li><li><code class="inline">:skip_unknown_inputs</code> - A list of inputs that, if provided, will be ignored if they are not recognized by the action. Use <code class="inline">:*</code> to indicate all unknown keys.</li><li><code class="inline">:load</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A load statement to add onto the changeset</li><li><code class="inline">:bulk_options</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">keyword/0</code></a>) - Options passed to <code class="inline">Ash.bulk_destroy</code>, if a query, list, or stream of inputs is provided.<ul><li><code class="inline">:stream_batch_size</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">integer/0</code></a>) - Batch size to use if provided a query and the query must be streamed</li><li><code class="inline">:allow_stream_with</code> - The 'worst' strategy allowed to be used to fetch records if the <code class="inline">:stream</code> strategy is chosen. See the <a href="https://hexdocs.pm/ash/3.7.6/Ash.html#stream!/2"><code class="inline">Ash.stream!/2</code></a> docs for more. The default value is <code class="inline">:keyset</code>.</li><li><code class="inline">:authorize_query?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If a query is given, determines whether or not authorization is run on that query. The default value is <code class="inline">true</code>.</li><li><code class="inline">:strategy</code> - The strategy or strategies to enable. :stream is used in all cases if the data layer does not support atomics. The default value is <code class="inline">:atomic</code>.</li><li><code class="inline">:filter</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A filter to apply to records. This is also applied to a stream of inputs.</li><li><code class="inline">:allow_stream_with</code> - The 'worst' strategy allowed to be used to fetch records. See <a href="https://hexdocs.pm/ash/3.7.6/Ash.html#stream!/2"><code class="inline">Ash.stream!/2</code></a> docs for more. The default value is <code class="inline">:keyset</code>.</li><li><code class="inline">:stream_with</code> - The specific strategy to use to fetch records. See <a href="https://hexdocs.pm/ash/3.7.6/Ash.html#stream!/2"><code class="inline">Ash.stream!/2</code></a> docs for more.</li><li><code class="inline">:max_concurrency</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">non_neg_integer/0</code></a>) - The maximum number of processes allowed to be started for parallel loading of relationships and calculations. Defaults to <code class="inline">System.schedulers_online() * 2</code></li><li><code class="inline">:lock</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A lock statement to add onto the query</li><li><code class="inline">:return_query?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If <code class="inline">true</code>, the query that was ultimately used is returned as a third tuple element.
The query goes through many potential changes during a request, potentially adding
authorization filters, or replacing relationships for other data layers with their
corresponding ids. This option can be used to get the true query that was sent to
the data layer.
The default value is <code class="inline">false</code>.</li><li><code class="inline">:reuse_values?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether calculations are allowed to reuse values that have already been loaded, or must refetch them from the data layer. The default value is <code class="inline">false</code>.</li><li><code class="inline">:strict?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If set to true, only specified attributes will be loaded when passing
  a list of fields to fetch on a relationship, which allows for more
  optimized data-fetching.
  See <a href="https://hexdocs.pm/ash/3.7.6/Ash.Query.html#load/2"><code class="inline">Ash.Query.load/2</code></a>.
The default value is <code class="inline">false</code>.</li><li><code class="inline">:authorize_with</code> - If set to <code class="inline">:error</code>, instead of applying authorization filters as a filter, any records not matching the authorization filter will cause an error to be returned. The default value is <code class="inline">:filter</code>.</li><li><code class="inline">:read_action</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - The action to use when building the read query.</li><li><code class="inline">:assume_casted?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to cast attributes and arguments as input. This is an optimization for cases where the input is already casted and/or not in need of casting The default value is <code class="inline">false</code>.</li><li><code class="inline">:select</code> (list of <a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - A select statement to apply to records. Ignored if <code class="inline">return_records?</code> is not true.</li><li><code class="inline">:authorize_query_with</code> - If set to <code class="inline">:error</code>, instead of filtering unauthorized query results, unauthorized query results will raise an appropriate forbidden error. Uses <code class="inline">authorize_with</code> if not set.</li><li><code class="inline">:authorize_changeset_with</code> - If set to <code class="inline">:error</code>, instead of filtering unauthorized changes, unauthorized changes will raise an appropriate forbidden error. Uses <code class="inline">authorize_with</code> if not set.</li><li><code class="inline">:authorize_with</code> - If set to <code class="inline">:error</code>, instead of filtering unauthorized query results, unauthorized query results will raise an appropriate forbidden error. The default value is <code class="inline">:filter</code>.</li><li><code class="inline">:private_arguments</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">map/0</code></a>) - Private argument values to set on each changeset before validations and changes are run. The default value is <code class="inline">%{}</code>.</li><li><code class="inline">:sorted?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to sort results by their input position, in cases where <code class="inline">return_records?: true</code> was provided. The default value is <code class="inline">false</code>.</li><li><code class="inline">:return_records?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to return all of the records that were inserted. Defaults to false to account for large inserts. The default value is <code class="inline">false</code>.</li><li><code class="inline">:return_errors?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether to return all errors that occur during the operation. Defaults to the value of <code class="inline">:bulk_actions_default_to_errors?</code> in your config, or <code class="inline">false</code> if not set. Returning all errors may be expensive for large inserts. The default value is <code class="inline">false</code>.</li><li><code class="inline">:batch_size</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">pos_integer/0</code></a>) - The number of records to include in each batch. Defaults to the <code class="inline">default_limit</code>
or <code class="inline">max_page_size</code> of the action, or 100.</li><li><code class="inline">:return_stream?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If set to <code class="inline">true</code>, instead of an <a href="https://hexdocs.pm/ash/3.7.6/Ash.BulkResult.html"><code class="inline">Ash.BulkResult</code></a>, a mixed stream is returned.
Potential elements:
<code class="inline">{:notification, notification}</code> - if <code class="inline">return_notifications?</code> is set to <code class="inline">true</code>
<code class="inline">{:ok, record}</code> - if <code class="inline">return_records?</code> is set to <code class="inline">true</code>
<code class="inline">{:error, error}</code> - an error that occurred. May be changeset or an individual error.
The default value is <code class="inline">false</code>.</li><li><code class="inline">:return_nothing?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Mutes warnings about returning nothing.
Only relevant if <code class="inline">return_stream?</code> is set to <code class="inline">true</code> and all other
<code class="inline">return_*?</code> options are set to <code class="inline">false</code>.
The default value is <code class="inline">false</code>.</li><li><code class="inline">:stop_on_error?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If true, the first encountered error will stop the action and be returned. Otherwise, errors
will be skipped. The default value is <code class="inline">false</code>.</li><li><code class="inline">:notify?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to generate any notifications. If this is set to <code class="inline">true</code> then the data layer must return
the results from each batch. This may be intensive for large bulk actions.
Notifications will be automatically sent unless <code class="inline">return_notifications?</code> is set to <code class="inline">true</code>.
The default value is <code class="inline">false</code>.</li><li><code class="inline">:transaction</code> - Whether or not to wrap the entire execution in a transaction, each batch, or not at all.
Keep in mind:
<code class="inline">before_transaction</code> and <code class="inline">after_transaction</code> hooks attached to changesets will have to be run
<em>inside</em> the transaction if you choose <code class="inline">transaction: :all</code>.
The default value is <code class="inline">:batch</code>.</li><li><code class="inline">:max_concurrency</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">non_neg_integer/0</code></a>) - If set to a value greater than 0, up to that many tasks will be started to run batches asynchronously The default value is <code class="inline">0</code>.</li></ul></li><li><code class="inline">:private_arguments</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">map/0</code></a>) - Private argument values to set before validations and changes. The default value is <code class="inline">%{}</code>.</li></ul>
  </section>
</section>
<section class="detail" id="destroy_legislation!/3">

    <span id="destroy_legislation!/1"></span>

    <span id="destroy_legislation!/2"></span>

  <div class="detail-header">
    <a href="#destroy_legislation!/3" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">destroy_legislation!(record, params \\ nil, opts \\ nil)</h1>


    </div>
  </div>

  <section class="docstring">

<p>Calls the destroy action on EhsEnforcement.Enforcement.Legislation.
Raises any errors instead of returning them</p><h2 id="destroy_legislation!/3-options" class="section-heading"><a href="#destroy_legislation!/3-options" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Options</span></h2><ul><li><code class="inline">:return_destroyed?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If true, the destroyed record is included in the return result, e.g <code class="inline">{:ok, destroyed}</code> or <code class="inline">{:ok, destroyed, notifications}</code> The default value is <code class="inline">false</code>.</li><li><code class="inline">:timeout</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">timeout/0</code></a>) - A positive integer, or <code class="inline">:infinity</code>. If none is provided, the timeout configured on the domain is used.</li><li><code class="inline">:tracer</code> (one or a list of module that adopts <a href="https://hexdocs.pm/ash/3.7.6/Ash.Tracer.html"><code class="inline">Ash.Tracer</code></a>) - A tracer that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.Tracer.html"><code class="inline">Ash.Tracer</code></a> behaviour. See that module for more.</li><li><code class="inline">:action</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - The action to use, either an Action struct or the name of the action</li><li><code class="inline">:authorize?</code> - If an actor option is provided (even if it is <code class="inline">nil</code>), authorization happens automatically. If not, this flag can be used to authorize with no user.</li><li><code class="inline">:context</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">map/0</code></a>) - Context to set on the query, changeset, or input</li><li><code class="inline">:tenant</code> (value that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.ToTenant.html"><code class="inline">Ash.ToTenant</code></a> protocol) - A tenant to set on the query or changeset</li><li><code class="inline">:actor</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - If an actor is provided, it will be used in conjunction with the authorizers of a resource to authorize access</li><li><code class="inline">:scope</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A value that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> protocol, for passing around actor/tenant/context in a single value. See <a href="https://hexdocs.pm/ash/3.7.6/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> for more.</li><li><code class="inline">:return_notifications?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Use this if you're running ash actions in your own transaction and you want to manually handle sending notifications.<br/>If a transaction is ongoing, and this is false, notifications will be discarded, otherwise
the return value is <code class="inline">{:ok, result, notifications}</code> (or <code class="inline">{:ok, notifications}</code>)<br/>To send notifications later, use <code class="inline">Ash.Notifier.notify(notifications)</code>. It sends any notifications
that can be sent, and returns the rest. The default value is <code class="inline">false</code>.</li><li><code class="inline">:rollback_on_error?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to rollback the transaction on error, if the resource is in a transaction.<br/>If the action has <code class="inline">transaction? false</code> this option has no effect. If an error is returned from the
data layer and the resource is in a transaction, the transaction is always rolled back, regardless. The default value is <code class="inline">true</code>.</li><li><code class="inline">:notification_metadata</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - Metadata to be merged into the metadata field for all notifications sent from this operation. The default value is <code class="inline">%{}</code>.</li><li><code class="inline">:skip_unknown_inputs</code> - A list of inputs that, if provided, will be ignored if they are not recognized by the action. Use <code class="inline">:*</code> to indicate all unknown keys.</li><li><code class="inline">:load</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A load statement to add onto the changeset</li><li><code class="inline">:bulk_options</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">keyword/0</code></a>) - Options passed to <code class="inline">Ash.bulk_destroy</code>, if a query, list, or stream of inputs is provided.<ul><li><code class="inline">:stream_batch_size</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">integer/0</code></a>) - Batch size to use if provided a query and the query must be streamed</li><li><code class="inline">:allow_stream_with</code> - The 'worst' strategy allowed to be used to fetch records if the <code class="inline">:stream</code> strategy is chosen. See the <a href="https://hexdocs.pm/ash/3.7.6/Ash.html#stream!/2"><code class="inline">Ash.stream!/2</code></a> docs for more. The default value is <code class="inline">:keyset</code>.</li><li><code class="inline">:authorize_query?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If a query is given, determines whether or not authorization is run on that query. The default value is <code class="inline">true</code>.</li><li><code class="inline">:strategy</code> - The strategy or strategies to enable. :stream is used in all cases if the data layer does not support atomics. The default value is <code class="inline">:atomic</code>.</li><li><code class="inline">:filter</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A filter to apply to records. This is also applied to a stream of inputs.</li><li><code class="inline">:allow_stream_with</code> - The 'worst' strategy allowed to be used to fetch records. See <a href="https://hexdocs.pm/ash/3.7.6/Ash.html#stream!/2"><code class="inline">Ash.stream!/2</code></a> docs for more. The default value is <code class="inline">:keyset</code>.</li><li><code class="inline">:stream_with</code> - The specific strategy to use to fetch records. See <a href="https://hexdocs.pm/ash/3.7.6/Ash.html#stream!/2"><code class="inline">Ash.stream!/2</code></a> docs for more.</li><li><code class="inline">:max_concurrency</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">non_neg_integer/0</code></a>) - The maximum number of processes allowed to be started for parallel loading of relationships and calculations. Defaults to <code class="inline">System.schedulers_online() * 2</code></li><li><code class="inline">:lock</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A lock statement to add onto the query</li><li><code class="inline">:return_query?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If <code class="inline">true</code>, the query that was ultimately used is returned as a third tuple element.
The query goes through many potential changes during a request, potentially adding
authorization filters, or replacing relationships for other data layers with their
corresponding ids. This option can be used to get the true query that was sent to
the data layer.
The default value is <code class="inline">false</code>.</li><li><code class="inline">:reuse_values?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether calculations are allowed to reuse values that have already been loaded, or must refetch them from the data layer. The default value is <code class="inline">false</code>.</li><li><code class="inline">:strict?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If set to true, only specified attributes will be loaded when passing
  a list of fields to fetch on a relationship, which allows for more
  optimized data-fetching.
  See <a href="https://hexdocs.pm/ash/3.7.6/Ash.Query.html#load/2"><code class="inline">Ash.Query.load/2</code></a>.
The default value is <code class="inline">false</code>.</li><li><code class="inline">:authorize_with</code> - If set to <code class="inline">:error</code>, instead of applying authorization filters as a filter, any records not matching the authorization filter will cause an error to be returned. The default value is <code class="inline">:filter</code>.</li><li><code class="inline">:read_action</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - The action to use when building the read query.</li><li><code class="inline">:assume_casted?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to cast attributes and arguments as input. This is an optimization for cases where the input is already casted and/or not in need of casting The default value is <code class="inline">false</code>.</li><li><code class="inline">:select</code> (list of <a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - A select statement to apply to records. Ignored if <code class="inline">return_records?</code> is not true.</li><li><code class="inline">:authorize_query_with</code> - If set to <code class="inline">:error</code>, instead of filtering unauthorized query results, unauthorized query results will raise an appropriate forbidden error. Uses <code class="inline">authorize_with</code> if not set.</li><li><code class="inline">:authorize_changeset_with</code> - If set to <code class="inline">:error</code>, instead of filtering unauthorized changes, unauthorized changes will raise an appropriate forbidden error. Uses <code class="inline">authorize_with</code> if not set.</li><li><code class="inline">:authorize_with</code> - If set to <code class="inline">:error</code>, instead of filtering unauthorized query results, unauthorized query results will raise an appropriate forbidden error. The default value is <code class="inline">:filter</code>.</li><li><code class="inline">:private_arguments</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">map/0</code></a>) - Private argument values to set on each changeset before validations and changes are run. The default value is <code class="inline">%{}</code>.</li><li><code class="inline">:sorted?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to sort results by their input position, in cases where <code class="inline">return_records?: true</code> was provided. The default value is <code class="inline">false</code>.</li><li><code class="inline">:return_records?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to return all of the records that were inserted. Defaults to false to account for large inserts. The default value is <code class="inline">false</code>.</li><li><code class="inline">:return_errors?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether to return all errors that occur during the operation. Defaults to the value of <code class="inline">:bulk_actions_default_to_errors?</code> in your config, or <code class="inline">false</code> if not set. Returning all errors may be expensive for large inserts. The default value is <code class="inline">false</code>.</li><li><code class="inline">:batch_size</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">pos_integer/0</code></a>) - The number of records to include in each batch. Defaults to the <code class="inline">default_limit</code>
or <code class="inline">max_page_size</code> of the action, or 100.</li><li><code class="inline">:return_stream?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If set to <code class="inline">true</code>, instead of an <a href="https://hexdocs.pm/ash/3.7.6/Ash.BulkResult.html"><code class="inline">Ash.BulkResult</code></a>, a mixed stream is returned.
Potential elements:
<code class="inline">{:notification, notification}</code> - if <code class="inline">return_notifications?</code> is set to <code class="inline">true</code>
<code class="inline">{:ok, record}</code> - if <code class="inline">return_records?</code> is set to <code class="inline">true</code>
<code class="inline">{:error, error}</code> - an error that occurred. May be changeset or an individual error.
The default value is <code class="inline">false</code>.</li><li><code class="inline">:return_nothing?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Mutes warnings about returning nothing.
Only relevant if <code class="inline">return_stream?</code> is set to <code class="inline">true</code> and all other
<code class="inline">return_*?</code> options are set to <code class="inline">false</code>.
The default value is <code class="inline">false</code>.</li><li><code class="inline">:stop_on_error?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If true, the first encountered error will stop the action and be returned. Otherwise, errors
will be skipped. The default value is <code class="inline">false</code>.</li><li><code class="inline">:notify?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to generate any notifications. If this is set to <code class="inline">true</code> then the data layer must return
the results from each batch. This may be intensive for large bulk actions.
Notifications will be automatically sent unless <code class="inline">return_notifications?</code> is set to <code class="inline">true</code>.
The default value is <code class="inline">false</code>.</li><li><code class="inline">:transaction</code> - Whether or not to wrap the entire execution in a transaction, each batch, or not at all.
Keep in mind:
<code class="inline">before_transaction</code> and <code class="inline">after_transaction</code> hooks attached to changesets will have to be run
<em>inside</em> the transaction if you choose <code class="inline">transaction: :all</code>.
The default value is <code class="inline">:batch</code>.</li><li><code class="inline">:max_concurrency</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">non_neg_integer/0</code></a>) - If set to a value greater than 0, up to that many tasks will be started to run batches asynchronously The default value is <code class="inline">0</code>.</li></ul></li><li><code class="inline">:private_arguments</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">map/0</code></a>) - Private argument values to set before validations and changes. The default value is <code class="inline">%{}</code>.</li></ul>
  </section>
</section>
<section class="detail" id="destroy_notice/3">

    <span id="destroy_notice/1"></span>

    <span id="destroy_notice/2"></span>

  <div class="detail-header">
    <a href="#destroy_notice/3" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">destroy_notice(record, params \\ nil, opts \\ nil)</h1>


    </div>
  </div>

  <section class="docstring">

<p>Calls the destroy action on EhsEnforcement.Enforcement.Notice.</p><h2 id="destroy_notice/3-options" class="section-heading"><a href="#destroy_notice/3-options" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Options</span></h2><ul><li><code class="inline">:return_destroyed?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If true, the destroyed record is included in the return result, e.g <code class="inline">{:ok, destroyed}</code> or <code class="inline">{:ok, destroyed, notifications}</code> The default value is <code class="inline">false</code>.</li><li><code class="inline">:timeout</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">timeout/0</code></a>) - A positive integer, or <code class="inline">:infinity</code>. If none is provided, the timeout configured on the domain is used.</li><li><code class="inline">:tracer</code> (one or a list of module that adopts <a href="https://hexdocs.pm/ash/3.7.6/Ash.Tracer.html"><code class="inline">Ash.Tracer</code></a>) - A tracer that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.Tracer.html"><code class="inline">Ash.Tracer</code></a> behaviour. See that module for more.</li><li><code class="inline">:action</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - The action to use, either an Action struct or the name of the action</li><li><code class="inline">:authorize?</code> - If an actor option is provided (even if it is <code class="inline">nil</code>), authorization happens automatically. If not, this flag can be used to authorize with no user.</li><li><code class="inline">:context</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">map/0</code></a>) - Context to set on the query, changeset, or input</li><li><code class="inline">:tenant</code> (value that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.ToTenant.html"><code class="inline">Ash.ToTenant</code></a> protocol) - A tenant to set on the query or changeset</li><li><code class="inline">:actor</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - If an actor is provided, it will be used in conjunction with the authorizers of a resource to authorize access</li><li><code class="inline">:scope</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A value that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> protocol, for passing around actor/tenant/context in a single value. See <a href="https://hexdocs.pm/ash/3.7.6/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> for more.</li><li><code class="inline">:return_notifications?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Use this if you're running ash actions in your own transaction and you want to manually handle sending notifications.<br/>If a transaction is ongoing, and this is false, notifications will be discarded, otherwise
the return value is <code class="inline">{:ok, result, notifications}</code> (or <code class="inline">{:ok, notifications}</code>)<br/>To send notifications later, use <code class="inline">Ash.Notifier.notify(notifications)</code>. It sends any notifications
that can be sent, and returns the rest. The default value is <code class="inline">false</code>.</li><li><code class="inline">:rollback_on_error?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to rollback the transaction on error, if the resource is in a transaction.<br/>If the action has <code class="inline">transaction? false</code> this option has no effect. If an error is returned from the
data layer and the resource is in a transaction, the transaction is always rolled back, regardless. The default value is <code class="inline">true</code>.</li><li><code class="inline">:notification_metadata</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - Metadata to be merged into the metadata field for all notifications sent from this operation. The default value is <code class="inline">%{}</code>.</li><li><code class="inline">:skip_unknown_inputs</code> - A list of inputs that, if provided, will be ignored if they are not recognized by the action. Use <code class="inline">:*</code> to indicate all unknown keys.</li><li><code class="inline">:load</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A load statement to add onto the changeset</li><li><code class="inline">:bulk_options</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">keyword/0</code></a>) - Options passed to <code class="inline">Ash.bulk_destroy</code>, if a query, list, or stream of inputs is provided.<ul><li><code class="inline">:stream_batch_size</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">integer/0</code></a>) - Batch size to use if provided a query and the query must be streamed</li><li><code class="inline">:allow_stream_with</code> - The 'worst' strategy allowed to be used to fetch records if the <code class="inline">:stream</code> strategy is chosen. See the <a href="https://hexdocs.pm/ash/3.7.6/Ash.html#stream!/2"><code class="inline">Ash.stream!/2</code></a> docs for more. The default value is <code class="inline">:keyset</code>.</li><li><code class="inline">:authorize_query?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If a query is given, determines whether or not authorization is run on that query. The default value is <code class="inline">true</code>.</li><li><code class="inline">:strategy</code> - The strategy or strategies to enable. :stream is used in all cases if the data layer does not support atomics. The default value is <code class="inline">:atomic</code>.</li><li><code class="inline">:filter</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A filter to apply to records. This is also applied to a stream of inputs.</li><li><code class="inline">:allow_stream_with</code> - The 'worst' strategy allowed to be used to fetch records. See <a href="https://hexdocs.pm/ash/3.7.6/Ash.html#stream!/2"><code class="inline">Ash.stream!/2</code></a> docs for more. The default value is <code class="inline">:keyset</code>.</li><li><code class="inline">:stream_with</code> - The specific strategy to use to fetch records. See <a href="https://hexdocs.pm/ash/3.7.6/Ash.html#stream!/2"><code class="inline">Ash.stream!/2</code></a> docs for more.</li><li><code class="inline">:max_concurrency</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">non_neg_integer/0</code></a>) - The maximum number of processes allowed to be started for parallel loading of relationships and calculations. Defaults to <code class="inline">System.schedulers_online() * 2</code></li><li><code class="inline">:lock</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A lock statement to add onto the query</li><li><code class="inline">:return_query?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If <code class="inline">true</code>, the query that was ultimately used is returned as a third tuple element.
The query goes through many potential changes during a request, potentially adding
authorization filters, or replacing relationships for other data layers with their
corresponding ids. This option can be used to get the true query that was sent to
the data layer.
The default value is <code class="inline">false</code>.</li><li><code class="inline">:reuse_values?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether calculations are allowed to reuse values that have already been loaded, or must refetch them from the data layer. The default value is <code class="inline">false</code>.</li><li><code class="inline">:strict?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If set to true, only specified attributes will be loaded when passing
  a list of fields to fetch on a relationship, which allows for more
  optimized data-fetching.
  See <a href="https://hexdocs.pm/ash/3.7.6/Ash.Query.html#load/2"><code class="inline">Ash.Query.load/2</code></a>.
The default value is <code class="inline">false</code>.</li><li><code class="inline">:authorize_with</code> - If set to <code class="inline">:error</code>, instead of applying authorization filters as a filter, any records not matching the authorization filter will cause an error to be returned. The default value is <code class="inline">:filter</code>.</li><li><code class="inline">:read_action</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - The action to use when building the read query.</li><li><code class="inline">:assume_casted?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to cast attributes and arguments as input. This is an optimization for cases where the input is already casted and/or not in need of casting The default value is <code class="inline">false</code>.</li><li><code class="inline">:select</code> (list of <a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - A select statement to apply to records. Ignored if <code class="inline">return_records?</code> is not true.</li><li><code class="inline">:authorize_query_with</code> - If set to <code class="inline">:error</code>, instead of filtering unauthorized query results, unauthorized query results will raise an appropriate forbidden error. Uses <code class="inline">authorize_with</code> if not set.</li><li><code class="inline">:authorize_changeset_with</code> - If set to <code class="inline">:error</code>, instead of filtering unauthorized changes, unauthorized changes will raise an appropriate forbidden error. Uses <code class="inline">authorize_with</code> if not set.</li><li><code class="inline">:authorize_with</code> - If set to <code class="inline">:error</code>, instead of filtering unauthorized query results, unauthorized query results will raise an appropriate forbidden error. The default value is <code class="inline">:filter</code>.</li><li><code class="inline">:private_arguments</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">map/0</code></a>) - Private argument values to set on each changeset before validations and changes are run. The default value is <code class="inline">%{}</code>.</li><li><code class="inline">:sorted?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to sort results by their input position, in cases where <code class="inline">return_records?: true</code> was provided. The default value is <code class="inline">false</code>.</li><li><code class="inline">:return_records?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to return all of the records that were inserted. Defaults to false to account for large inserts. The default value is <code class="inline">false</code>.</li><li><code class="inline">:return_errors?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether to return all errors that occur during the operation. Defaults to the value of <code class="inline">:bulk_actions_default_to_errors?</code> in your config, or <code class="inline">false</code> if not set. Returning all errors may be expensive for large inserts. The default value is <code class="inline">false</code>.</li><li><code class="inline">:batch_size</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">pos_integer/0</code></a>) - The number of records to include in each batch. Defaults to the <code class="inline">default_limit</code>
or <code class="inline">max_page_size</code> of the action, or 100.</li><li><code class="inline">:return_stream?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If set to <code class="inline">true</code>, instead of an <a href="https://hexdocs.pm/ash/3.7.6/Ash.BulkResult.html"><code class="inline">Ash.BulkResult</code></a>, a mixed stream is returned.
Potential elements:
<code class="inline">{:notification, notification}</code> - if <code class="inline">return_notifications?</code> is set to <code class="inline">true</code>
<code class="inline">{:ok, record}</code> - if <code class="inline">return_records?</code> is set to <code class="inline">true</code>
<code class="inline">{:error, error}</code> - an error that occurred. May be changeset or an individual error.
The default value is <code class="inline">false</code>.</li><li><code class="inline">:return_nothing?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Mutes warnings about returning nothing.
Only relevant if <code class="inline">return_stream?</code> is set to <code class="inline">true</code> and all other
<code class="inline">return_*?</code> options are set to <code class="inline">false</code>.
The default value is <code class="inline">false</code>.</li><li><code class="inline">:stop_on_error?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If true, the first encountered error will stop the action and be returned. Otherwise, errors
will be skipped. The default value is <code class="inline">false</code>.</li><li><code class="inline">:notify?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to generate any notifications. If this is set to <code class="inline">true</code> then the data layer must return
the results from each batch. This may be intensive for large bulk actions.
Notifications will be automatically sent unless <code class="inline">return_notifications?</code> is set to <code class="inline">true</code>.
The default value is <code class="inline">false</code>.</li><li><code class="inline">:transaction</code> - Whether or not to wrap the entire execution in a transaction, each batch, or not at all.
Keep in mind:
<code class="inline">before_transaction</code> and <code class="inline">after_transaction</code> hooks attached to changesets will have to be run
<em>inside</em> the transaction if you choose <code class="inline">transaction: :all</code>.
The default value is <code class="inline">:batch</code>.</li><li><code class="inline">:max_concurrency</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">non_neg_integer/0</code></a>) - If set to a value greater than 0, up to that many tasks will be started to run batches asynchronously The default value is <code class="inline">0</code>.</li></ul></li><li><code class="inline">:private_arguments</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">map/0</code></a>) - Private argument values to set before validations and changes. The default value is <code class="inline">%{}</code>.</li></ul>
  </section>
</section>
<section class="detail" id="destroy_notice!/3">

    <span id="destroy_notice!/1"></span>

    <span id="destroy_notice!/2"></span>

  <div class="detail-header">
    <a href="#destroy_notice!/3" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">destroy_notice!(record, params \\ nil, opts \\ nil)</h1>


    </div>
  </div>

  <section class="docstring">

<p>Calls the destroy action on EhsEnforcement.Enforcement.Notice.
Raises any errors instead of returning them</p><h2 id="destroy_notice!/3-options" class="section-heading"><a href="#destroy_notice!/3-options" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Options</span></h2><ul><li><code class="inline">:return_destroyed?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If true, the destroyed record is included in the return result, e.g <code class="inline">{:ok, destroyed}</code> or <code class="inline">{:ok, destroyed, notifications}</code> The default value is <code class="inline">false</code>.</li><li><code class="inline">:timeout</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">timeout/0</code></a>) - A positive integer, or <code class="inline">:infinity</code>. If none is provided, the timeout configured on the domain is used.</li><li><code class="inline">:tracer</code> (one or a list of module that adopts <a href="https://hexdocs.pm/ash/3.7.6/Ash.Tracer.html"><code class="inline">Ash.Tracer</code></a>) - A tracer that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.Tracer.html"><code class="inline">Ash.Tracer</code></a> behaviour. See that module for more.</li><li><code class="inline">:action</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - The action to use, either an Action struct or the name of the action</li><li><code class="inline">:authorize?</code> - If an actor option is provided (even if it is <code class="inline">nil</code>), authorization happens automatically. If not, this flag can be used to authorize with no user.</li><li><code class="inline">:context</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">map/0</code></a>) - Context to set on the query, changeset, or input</li><li><code class="inline">:tenant</code> (value that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.ToTenant.html"><code class="inline">Ash.ToTenant</code></a> protocol) - A tenant to set on the query or changeset</li><li><code class="inline">:actor</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - If an actor is provided, it will be used in conjunction with the authorizers of a resource to authorize access</li><li><code class="inline">:scope</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A value that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> protocol, for passing around actor/tenant/context in a single value. See <a href="https://hexdocs.pm/ash/3.7.6/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> for more.</li><li><code class="inline">:return_notifications?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Use this if you're running ash actions in your own transaction and you want to manually handle sending notifications.<br/>If a transaction is ongoing, and this is false, notifications will be discarded, otherwise
the return value is <code class="inline">{:ok, result, notifications}</code> (or <code class="inline">{:ok, notifications}</code>)<br/>To send notifications later, use <code class="inline">Ash.Notifier.notify(notifications)</code>. It sends any notifications
that can be sent, and returns the rest. The default value is <code class="inline">false</code>.</li><li><code class="inline">:rollback_on_error?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to rollback the transaction on error, if the resource is in a transaction.<br/>If the action has <code class="inline">transaction? false</code> this option has no effect. If an error is returned from the
data layer and the resource is in a transaction, the transaction is always rolled back, regardless. The default value is <code class="inline">true</code>.</li><li><code class="inline">:notification_metadata</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - Metadata to be merged into the metadata field for all notifications sent from this operation. The default value is <code class="inline">%{}</code>.</li><li><code class="inline">:skip_unknown_inputs</code> - A list of inputs that, if provided, will be ignored if they are not recognized by the action. Use <code class="inline">:*</code> to indicate all unknown keys.</li><li><code class="inline">:load</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A load statement to add onto the changeset</li><li><code class="inline">:bulk_options</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">keyword/0</code></a>) - Options passed to <code class="inline">Ash.bulk_destroy</code>, if a query, list, or stream of inputs is provided.<ul><li><code class="inline">:stream_batch_size</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">integer/0</code></a>) - Batch size to use if provided a query and the query must be streamed</li><li><code class="inline">:allow_stream_with</code> - The 'worst' strategy allowed to be used to fetch records if the <code class="inline">:stream</code> strategy is chosen. See the <a href="https://hexdocs.pm/ash/3.7.6/Ash.html#stream!/2"><code class="inline">Ash.stream!/2</code></a> docs for more. The default value is <code class="inline">:keyset</code>.</li><li><code class="inline">:authorize_query?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If a query is given, determines whether or not authorization is run on that query. The default value is <code class="inline">true</code>.</li><li><code class="inline">:strategy</code> - The strategy or strategies to enable. :stream is used in all cases if the data layer does not support atomics. The default value is <code class="inline">:atomic</code>.</li><li><code class="inline">:filter</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A filter to apply to records. This is also applied to a stream of inputs.</li><li><code class="inline">:allow_stream_with</code> - The 'worst' strategy allowed to be used to fetch records. See <a href="https://hexdocs.pm/ash/3.7.6/Ash.html#stream!/2"><code class="inline">Ash.stream!/2</code></a> docs for more. The default value is <code class="inline">:keyset</code>.</li><li><code class="inline">:stream_with</code> - The specific strategy to use to fetch records. See <a href="https://hexdocs.pm/ash/3.7.6/Ash.html#stream!/2"><code class="inline">Ash.stream!/2</code></a> docs for more.</li><li><code class="inline">:max_concurrency</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">non_neg_integer/0</code></a>) - The maximum number of processes allowed to be started for parallel loading of relationships and calculations. Defaults to <code class="inline">System.schedulers_online() * 2</code></li><li><code class="inline">:lock</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A lock statement to add onto the query</li><li><code class="inline">:return_query?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If <code class="inline">true</code>, the query that was ultimately used is returned as a third tuple element.
The query goes through many potential changes during a request, potentially adding
authorization filters, or replacing relationships for other data layers with their
corresponding ids. This option can be used to get the true query that was sent to
the data layer.
The default value is <code class="inline">false</code>.</li><li><code class="inline">:reuse_values?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether calculations are allowed to reuse values that have already been loaded, or must refetch them from the data layer. The default value is <code class="inline">false</code>.</li><li><code class="inline">:strict?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If set to true, only specified attributes will be loaded when passing
  a list of fields to fetch on a relationship, which allows for more
  optimized data-fetching.
  See <a href="https://hexdocs.pm/ash/3.7.6/Ash.Query.html#load/2"><code class="inline">Ash.Query.load/2</code></a>.
The default value is <code class="inline">false</code>.</li><li><code class="inline">:authorize_with</code> - If set to <code class="inline">:error</code>, instead of applying authorization filters as a filter, any records not matching the authorization filter will cause an error to be returned. The default value is <code class="inline">:filter</code>.</li><li><code class="inline">:read_action</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - The action to use when building the read query.</li><li><code class="inline">:assume_casted?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to cast attributes and arguments as input. This is an optimization for cases where the input is already casted and/or not in need of casting The default value is <code class="inline">false</code>.</li><li><code class="inline">:select</code> (list of <a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - A select statement to apply to records. Ignored if <code class="inline">return_records?</code> is not true.</li><li><code class="inline">:authorize_query_with</code> - If set to <code class="inline">:error</code>, instead of filtering unauthorized query results, unauthorized query results will raise an appropriate forbidden error. Uses <code class="inline">authorize_with</code> if not set.</li><li><code class="inline">:authorize_changeset_with</code> - If set to <code class="inline">:error</code>, instead of filtering unauthorized changes, unauthorized changes will raise an appropriate forbidden error. Uses <code class="inline">authorize_with</code> if not set.</li><li><code class="inline">:authorize_with</code> - If set to <code class="inline">:error</code>, instead of filtering unauthorized query results, unauthorized query results will raise an appropriate forbidden error. The default value is <code class="inline">:filter</code>.</li><li><code class="inline">:private_arguments</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">map/0</code></a>) - Private argument values to set on each changeset before validations and changes are run. The default value is <code class="inline">%{}</code>.</li><li><code class="inline">:sorted?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to sort results by their input position, in cases where <code class="inline">return_records?: true</code> was provided. The default value is <code class="inline">false</code>.</li><li><code class="inline">:return_records?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to return all of the records that were inserted. Defaults to false to account for large inserts. The default value is <code class="inline">false</code>.</li><li><code class="inline">:return_errors?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether to return all errors that occur during the operation. Defaults to the value of <code class="inline">:bulk_actions_default_to_errors?</code> in your config, or <code class="inline">false</code> if not set. Returning all errors may be expensive for large inserts. The default value is <code class="inline">false</code>.</li><li><code class="inline">:batch_size</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">pos_integer/0</code></a>) - The number of records to include in each batch. Defaults to the <code class="inline">default_limit</code>
or <code class="inline">max_page_size</code> of the action, or 100.</li><li><code class="inline">:return_stream?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If set to <code class="inline">true</code>, instead of an <a href="https://hexdocs.pm/ash/3.7.6/Ash.BulkResult.html"><code class="inline">Ash.BulkResult</code></a>, a mixed stream is returned.
Potential elements:
<code class="inline">{:notification, notification}</code> - if <code class="inline">return_notifications?</code> is set to <code class="inline">true</code>
<code class="inline">{:ok, record}</code> - if <code class="inline">return_records?</code> is set to <code class="inline">true</code>
<code class="inline">{:error, error}</code> - an error that occurred. May be changeset or an individual error.
The default value is <code class="inline">false</code>.</li><li><code class="inline">:return_nothing?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Mutes warnings about returning nothing.
Only relevant if <code class="inline">return_stream?</code> is set to <code class="inline">true</code> and all other
<code class="inline">return_*?</code> options are set to <code class="inline">false</code>.
The default value is <code class="inline">false</code>.</li><li><code class="inline">:stop_on_error?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If true, the first encountered error will stop the action and be returned. Otherwise, errors
will be skipped. The default value is <code class="inline">false</code>.</li><li><code class="inline">:notify?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to generate any notifications. If this is set to <code class="inline">true</code> then the data layer must return
the results from each batch. This may be intensive for large bulk actions.
Notifications will be automatically sent unless <code class="inline">return_notifications?</code> is set to <code class="inline">true</code>.
The default value is <code class="inline">false</code>.</li><li><code class="inline">:transaction</code> - Whether or not to wrap the entire execution in a transaction, each batch, or not at all.
Keep in mind:
<code class="inline">before_transaction</code> and <code class="inline">after_transaction</code> hooks attached to changesets will have to be run
<em>inside</em> the transaction if you choose <code class="inline">transaction: :all</code>.
The default value is <code class="inline">:batch</code>.</li><li><code class="inline">:max_concurrency</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">non_neg_integer/0</code></a>) - If set to a value greater than 0, up to that many tasks will be started to run batches asynchronously The default value is <code class="inline">0</code>.</li></ul></li><li><code class="inline">:private_arguments</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">map/0</code></a>) - Private argument values to set before validations and changes. The default value is <code class="inline">%{}</code>.</li></ul>
  </section>
</section>
<section class="detail" id="destroy_offence/3">

    <span id="destroy_offence/1"></span>

    <span id="destroy_offence/2"></span>

  <div class="detail-header">
    <a href="#destroy_offence/3" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">destroy_offence(record, params \\ nil, opts \\ nil)</h1>


    </div>
  </div>

  <section class="docstring">

<p>Calls the destroy action on EhsEnforcement.Enforcement.Offence.</p><h2 id="destroy_offence/3-options" class="section-heading"><a href="#destroy_offence/3-options" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Options</span></h2><ul><li><code class="inline">:return_destroyed?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If true, the destroyed record is included in the return result, e.g <code class="inline">{:ok, destroyed}</code> or <code class="inline">{:ok, destroyed, notifications}</code> The default value is <code class="inline">false</code>.</li><li><code class="inline">:timeout</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">timeout/0</code></a>) - A positive integer, or <code class="inline">:infinity</code>. If none is provided, the timeout configured on the domain is used.</li><li><code class="inline">:tracer</code> (one or a list of module that adopts <a href="https://hexdocs.pm/ash/3.7.6/Ash.Tracer.html"><code class="inline">Ash.Tracer</code></a>) - A tracer that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.Tracer.html"><code class="inline">Ash.Tracer</code></a> behaviour. See that module for more.</li><li><code class="inline">:action</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - The action to use, either an Action struct or the name of the action</li><li><code class="inline">:authorize?</code> - If an actor option is provided (even if it is <code class="inline">nil</code>), authorization happens automatically. If not, this flag can be used to authorize with no user.</li><li><code class="inline">:context</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">map/0</code></a>) - Context to set on the query, changeset, or input</li><li><code class="inline">:tenant</code> (value that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.ToTenant.html"><code class="inline">Ash.ToTenant</code></a> protocol) - A tenant to set on the query or changeset</li><li><code class="inline">:actor</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - If an actor is provided, it will be used in conjunction with the authorizers of a resource to authorize access</li><li><code class="inline">:scope</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A value that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> protocol, for passing around actor/tenant/context in a single value. See <a href="https://hexdocs.pm/ash/3.7.6/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> for more.</li><li><code class="inline">:return_notifications?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Use this if you're running ash actions in your own transaction and you want to manually handle sending notifications.<br/>If a transaction is ongoing, and this is false, notifications will be discarded, otherwise
the return value is <code class="inline">{:ok, result, notifications}</code> (or <code class="inline">{:ok, notifications}</code>)<br/>To send notifications later, use <code class="inline">Ash.Notifier.notify(notifications)</code>. It sends any notifications
that can be sent, and returns the rest. The default value is <code class="inline">false</code>.</li><li><code class="inline">:rollback_on_error?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to rollback the transaction on error, if the resource is in a transaction.<br/>If the action has <code class="inline">transaction? false</code> this option has no effect. If an error is returned from the
data layer and the resource is in a transaction, the transaction is always rolled back, regardless. The default value is <code class="inline">true</code>.</li><li><code class="inline">:notification_metadata</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - Metadata to be merged into the metadata field for all notifications sent from this operation. The default value is <code class="inline">%{}</code>.</li><li><code class="inline">:skip_unknown_inputs</code> - A list of inputs that, if provided, will be ignored if they are not recognized by the action. Use <code class="inline">:*</code> to indicate all unknown keys.</li><li><code class="inline">:load</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A load statement to add onto the changeset</li><li><code class="inline">:bulk_options</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">keyword/0</code></a>) - Options passed to <code class="inline">Ash.bulk_destroy</code>, if a query, list, or stream of inputs is provided.<ul><li><code class="inline">:stream_batch_size</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">integer/0</code></a>) - Batch size to use if provided a query and the query must be streamed</li><li><code class="inline">:allow_stream_with</code> - The 'worst' strategy allowed to be used to fetch records if the <code class="inline">:stream</code> strategy is chosen. See the <a href="https://hexdocs.pm/ash/3.7.6/Ash.html#stream!/2"><code class="inline">Ash.stream!/2</code></a> docs for more. The default value is <code class="inline">:keyset</code>.</li><li><code class="inline">:authorize_query?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If a query is given, determines whether or not authorization is run on that query. The default value is <code class="inline">true</code>.</li><li><code class="inline">:strategy</code> - The strategy or strategies to enable. :stream is used in all cases if the data layer does not support atomics. The default value is <code class="inline">:atomic</code>.</li><li><code class="inline">:filter</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A filter to apply to records. This is also applied to a stream of inputs.</li><li><code class="inline">:allow_stream_with</code> - The 'worst' strategy allowed to be used to fetch records. See <a href="https://hexdocs.pm/ash/3.7.6/Ash.html#stream!/2"><code class="inline">Ash.stream!/2</code></a> docs for more. The default value is <code class="inline">:keyset</code>.</li><li><code class="inline">:stream_with</code> - The specific strategy to use to fetch records. See <a href="https://hexdocs.pm/ash/3.7.6/Ash.html#stream!/2"><code class="inline">Ash.stream!/2</code></a> docs for more.</li><li><code class="inline">:max_concurrency</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">non_neg_integer/0</code></a>) - The maximum number of processes allowed to be started for parallel loading of relationships and calculations. Defaults to <code class="inline">System.schedulers_online() * 2</code></li><li><code class="inline">:lock</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A lock statement to add onto the query</li><li><code class="inline">:return_query?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If <code class="inline">true</code>, the query that was ultimately used is returned as a third tuple element.
The query goes through many potential changes during a request, potentially adding
authorization filters, or replacing relationships for other data layers with their
corresponding ids. This option can be used to get the true query that was sent to
the data layer.
The default value is <code class="inline">false</code>.</li><li><code class="inline">:reuse_values?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether calculations are allowed to reuse values that have already been loaded, or must refetch them from the data layer. The default value is <code class="inline">false</code>.</li><li><code class="inline">:strict?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If set to true, only specified attributes will be loaded when passing
  a list of fields to fetch on a relationship, which allows for more
  optimized data-fetching.
  See <a href="https://hexdocs.pm/ash/3.7.6/Ash.Query.html#load/2"><code class="inline">Ash.Query.load/2</code></a>.
The default value is <code class="inline">false</code>.</li><li><code class="inline">:authorize_with</code> - If set to <code class="inline">:error</code>, instead of applying authorization filters as a filter, any records not matching the authorization filter will cause an error to be returned. The default value is <code class="inline">:filter</code>.</li><li><code class="inline">:read_action</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - The action to use when building the read query.</li><li><code class="inline">:assume_casted?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to cast attributes and arguments as input. This is an optimization for cases where the input is already casted and/or not in need of casting The default value is <code class="inline">false</code>.</li><li><code class="inline">:select</code> (list of <a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - A select statement to apply to records. Ignored if <code class="inline">return_records?</code> is not true.</li><li><code class="inline">:authorize_query_with</code> - If set to <code class="inline">:error</code>, instead of filtering unauthorized query results, unauthorized query results will raise an appropriate forbidden error. Uses <code class="inline">authorize_with</code> if not set.</li><li><code class="inline">:authorize_changeset_with</code> - If set to <code class="inline">:error</code>, instead of filtering unauthorized changes, unauthorized changes will raise an appropriate forbidden error. Uses <code class="inline">authorize_with</code> if not set.</li><li><code class="inline">:authorize_with</code> - If set to <code class="inline">:error</code>, instead of filtering unauthorized query results, unauthorized query results will raise an appropriate forbidden error. The default value is <code class="inline">:filter</code>.</li><li><code class="inline">:private_arguments</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">map/0</code></a>) - Private argument values to set on each changeset before validations and changes are run. The default value is <code class="inline">%{}</code>.</li><li><code class="inline">:sorted?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to sort results by their input position, in cases where <code class="inline">return_records?: true</code> was provided. The default value is <code class="inline">false</code>.</li><li><code class="inline">:return_records?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to return all of the records that were inserted. Defaults to false to account for large inserts. The default value is <code class="inline">false</code>.</li><li><code class="inline">:return_errors?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether to return all errors that occur during the operation. Defaults to the value of <code class="inline">:bulk_actions_default_to_errors?</code> in your config, or <code class="inline">false</code> if not set. Returning all errors may be expensive for large inserts. The default value is <code class="inline">false</code>.</li><li><code class="inline">:batch_size</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">pos_integer/0</code></a>) - The number of records to include in each batch. Defaults to the <code class="inline">default_limit</code>
or <code class="inline">max_page_size</code> of the action, or 100.</li><li><code class="inline">:return_stream?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If set to <code class="inline">true</code>, instead of an <a href="https://hexdocs.pm/ash/3.7.6/Ash.BulkResult.html"><code class="inline">Ash.BulkResult</code></a>, a mixed stream is returned.
Potential elements:
<code class="inline">{:notification, notification}</code> - if <code class="inline">return_notifications?</code> is set to <code class="inline">true</code>
<code class="inline">{:ok, record}</code> - if <code class="inline">return_records?</code> is set to <code class="inline">true</code>
<code class="inline">{:error, error}</code> - an error that occurred. May be changeset or an individual error.
The default value is <code class="inline">false</code>.</li><li><code class="inline">:return_nothing?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Mutes warnings about returning nothing.
Only relevant if <code class="inline">return_stream?</code> is set to <code class="inline">true</code> and all other
<code class="inline">return_*?</code> options are set to <code class="inline">false</code>.
The default value is <code class="inline">false</code>.</li><li><code class="inline">:stop_on_error?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If true, the first encountered error will stop the action and be returned. Otherwise, errors
will be skipped. The default value is <code class="inline">false</code>.</li><li><code class="inline">:notify?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to generate any notifications. If this is set to <code class="inline">true</code> then the data layer must return
the results from each batch. This may be intensive for large bulk actions.
Notifications will be automatically sent unless <code class="inline">return_notifications?</code> is set to <code class="inline">true</code>.
The default value is <code class="inline">false</code>.</li><li><code class="inline">:transaction</code> - Whether or not to wrap the entire execution in a transaction, each batch, or not at all.
Keep in mind:
<code class="inline">before_transaction</code> and <code class="inline">after_transaction</code> hooks attached to changesets will have to be run
<em>inside</em> the transaction if you choose <code class="inline">transaction: :all</code>.
The default value is <code class="inline">:batch</code>.</li><li><code class="inline">:max_concurrency</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">non_neg_integer/0</code></a>) - If set to a value greater than 0, up to that many tasks will be started to run batches asynchronously The default value is <code class="inline">0</code>.</li></ul></li><li><code class="inline">:private_arguments</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">map/0</code></a>) - Private argument values to set before validations and changes. The default value is <code class="inline">%{}</code>.</li></ul>
  </section>
</section>
<section class="detail" id="destroy_offence!/3">

    <span id="destroy_offence!/1"></span>

    <span id="destroy_offence!/2"></span>

  <div class="detail-header">
    <a href="#destroy_offence!/3" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">destroy_offence!(record, params \\ nil, opts \\ nil)</h1>


    </div>
  </div>

  <section class="docstring">

<p>Calls the destroy action on EhsEnforcement.Enforcement.Offence.
Raises any errors instead of returning them</p><h2 id="destroy_offence!/3-options" class="section-heading"><a href="#destroy_offence!/3-options" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Options</span></h2><ul><li><code class="inline">:return_destroyed?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If true, the destroyed record is included in the return result, e.g <code class="inline">{:ok, destroyed}</code> or <code class="inline">{:ok, destroyed, notifications}</code> The default value is <code class="inline">false</code>.</li><li><code class="inline">:timeout</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">timeout/0</code></a>) - A positive integer, or <code class="inline">:infinity</code>. If none is provided, the timeout configured on the domain is used.</li><li><code class="inline">:tracer</code> (one or a list of module that adopts <a href="https://hexdocs.pm/ash/3.7.6/Ash.Tracer.html"><code class="inline">Ash.Tracer</code></a>) - A tracer that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.Tracer.html"><code class="inline">Ash.Tracer</code></a> behaviour. See that module for more.</li><li><code class="inline">:action</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - The action to use, either an Action struct or the name of the action</li><li><code class="inline">:authorize?</code> - If an actor option is provided (even if it is <code class="inline">nil</code>), authorization happens automatically. If not, this flag can be used to authorize with no user.</li><li><code class="inline">:context</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">map/0</code></a>) - Context to set on the query, changeset, or input</li><li><code class="inline">:tenant</code> (value that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.ToTenant.html"><code class="inline">Ash.ToTenant</code></a> protocol) - A tenant to set on the query or changeset</li><li><code class="inline">:actor</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - If an actor is provided, it will be used in conjunction with the authorizers of a resource to authorize access</li><li><code class="inline">:scope</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A value that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> protocol, for passing around actor/tenant/context in a single value. See <a href="https://hexdocs.pm/ash/3.7.6/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> for more.</li><li><code class="inline">:return_notifications?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Use this if you're running ash actions in your own transaction and you want to manually handle sending notifications.<br/>If a transaction is ongoing, and this is false, notifications will be discarded, otherwise
the return value is <code class="inline">{:ok, result, notifications}</code> (or <code class="inline">{:ok, notifications}</code>)<br/>To send notifications later, use <code class="inline">Ash.Notifier.notify(notifications)</code>. It sends any notifications
that can be sent, and returns the rest. The default value is <code class="inline">false</code>.</li><li><code class="inline">:rollback_on_error?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to rollback the transaction on error, if the resource is in a transaction.<br/>If the action has <code class="inline">transaction? false</code> this option has no effect. If an error is returned from the
data layer and the resource is in a transaction, the transaction is always rolled back, regardless. The default value is <code class="inline">true</code>.</li><li><code class="inline">:notification_metadata</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - Metadata to be merged into the metadata field for all notifications sent from this operation. The default value is <code class="inline">%{}</code>.</li><li><code class="inline">:skip_unknown_inputs</code> - A list of inputs that, if provided, will be ignored if they are not recognized by the action. Use <code class="inline">:*</code> to indicate all unknown keys.</li><li><code class="inline">:load</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A load statement to add onto the changeset</li><li><code class="inline">:bulk_options</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">keyword/0</code></a>) - Options passed to <code class="inline">Ash.bulk_destroy</code>, if a query, list, or stream of inputs is provided.<ul><li><code class="inline">:stream_batch_size</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">integer/0</code></a>) - Batch size to use if provided a query and the query must be streamed</li><li><code class="inline">:allow_stream_with</code> - The 'worst' strategy allowed to be used to fetch records if the <code class="inline">:stream</code> strategy is chosen. See the <a href="https://hexdocs.pm/ash/3.7.6/Ash.html#stream!/2"><code class="inline">Ash.stream!/2</code></a> docs for more. The default value is <code class="inline">:keyset</code>.</li><li><code class="inline">:authorize_query?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If a query is given, determines whether or not authorization is run on that query. The default value is <code class="inline">true</code>.</li><li><code class="inline">:strategy</code> - The strategy or strategies to enable. :stream is used in all cases if the data layer does not support atomics. The default value is <code class="inline">:atomic</code>.</li><li><code class="inline">:filter</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A filter to apply to records. This is also applied to a stream of inputs.</li><li><code class="inline">:allow_stream_with</code> - The 'worst' strategy allowed to be used to fetch records. See <a href="https://hexdocs.pm/ash/3.7.6/Ash.html#stream!/2"><code class="inline">Ash.stream!/2</code></a> docs for more. The default value is <code class="inline">:keyset</code>.</li><li><code class="inline">:stream_with</code> - The specific strategy to use to fetch records. See <a href="https://hexdocs.pm/ash/3.7.6/Ash.html#stream!/2"><code class="inline">Ash.stream!/2</code></a> docs for more.</li><li><code class="inline">:max_concurrency</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">non_neg_integer/0</code></a>) - The maximum number of processes allowed to be started for parallel loading of relationships and calculations. Defaults to <code class="inline">System.schedulers_online() * 2</code></li><li><code class="inline">:lock</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A lock statement to add onto the query</li><li><code class="inline">:return_query?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If <code class="inline">true</code>, the query that was ultimately used is returned as a third tuple element.
The query goes through many potential changes during a request, potentially adding
authorization filters, or replacing relationships for other data layers with their
corresponding ids. This option can be used to get the true query that was sent to
the data layer.
The default value is <code class="inline">false</code>.</li><li><code class="inline">:reuse_values?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether calculations are allowed to reuse values that have already been loaded, or must refetch them from the data layer. The default value is <code class="inline">false</code>.</li><li><code class="inline">:strict?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If set to true, only specified attributes will be loaded when passing
  a list of fields to fetch on a relationship, which allows for more
  optimized data-fetching.
  See <a href="https://hexdocs.pm/ash/3.7.6/Ash.Query.html#load/2"><code class="inline">Ash.Query.load/2</code></a>.
The default value is <code class="inline">false</code>.</li><li><code class="inline">:authorize_with</code> - If set to <code class="inline">:error</code>, instead of applying authorization filters as a filter, any records not matching the authorization filter will cause an error to be returned. The default value is <code class="inline">:filter</code>.</li><li><code class="inline">:read_action</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - The action to use when building the read query.</li><li><code class="inline">:assume_casted?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to cast attributes and arguments as input. This is an optimization for cases where the input is already casted and/or not in need of casting The default value is <code class="inline">false</code>.</li><li><code class="inline">:select</code> (list of <a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - A select statement to apply to records. Ignored if <code class="inline">return_records?</code> is not true.</li><li><code class="inline">:authorize_query_with</code> - If set to <code class="inline">:error</code>, instead of filtering unauthorized query results, unauthorized query results will raise an appropriate forbidden error. Uses <code class="inline">authorize_with</code> if not set.</li><li><code class="inline">:authorize_changeset_with</code> - If set to <code class="inline">:error</code>, instead of filtering unauthorized changes, unauthorized changes will raise an appropriate forbidden error. Uses <code class="inline">authorize_with</code> if not set.</li><li><code class="inline">:authorize_with</code> - If set to <code class="inline">:error</code>, instead of filtering unauthorized query results, unauthorized query results will raise an appropriate forbidden error. The default value is <code class="inline">:filter</code>.</li><li><code class="inline">:private_arguments</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">map/0</code></a>) - Private argument values to set on each changeset before validations and changes are run. The default value is <code class="inline">%{}</code>.</li><li><code class="inline">:sorted?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to sort results by their input position, in cases where <code class="inline">return_records?: true</code> was provided. The default value is <code class="inline">false</code>.</li><li><code class="inline">:return_records?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to return all of the records that were inserted. Defaults to false to account for large inserts. The default value is <code class="inline">false</code>.</li><li><code class="inline">:return_errors?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether to return all errors that occur during the operation. Defaults to the value of <code class="inline">:bulk_actions_default_to_errors?</code> in your config, or <code class="inline">false</code> if not set. Returning all errors may be expensive for large inserts. The default value is <code class="inline">false</code>.</li><li><code class="inline">:batch_size</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">pos_integer/0</code></a>) - The number of records to include in each batch. Defaults to the <code class="inline">default_limit</code>
or <code class="inline">max_page_size</code> of the action, or 100.</li><li><code class="inline">:return_stream?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If set to <code class="inline">true</code>, instead of an <a href="https://hexdocs.pm/ash/3.7.6/Ash.BulkResult.html"><code class="inline">Ash.BulkResult</code></a>, a mixed stream is returned.
Potential elements:
<code class="inline">{:notification, notification}</code> - if <code class="inline">return_notifications?</code> is set to <code class="inline">true</code>
<code class="inline">{:ok, record}</code> - if <code class="inline">return_records?</code> is set to <code class="inline">true</code>
<code class="inline">{:error, error}</code> - an error that occurred. May be changeset or an individual error.
The default value is <code class="inline">false</code>.</li><li><code class="inline">:return_nothing?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Mutes warnings about returning nothing.
Only relevant if <code class="inline">return_stream?</code> is set to <code class="inline">true</code> and all other
<code class="inline">return_*?</code> options are set to <code class="inline">false</code>.
The default value is <code class="inline">false</code>.</li><li><code class="inline">:stop_on_error?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If true, the first encountered error will stop the action and be returned. Otherwise, errors
will be skipped. The default value is <code class="inline">false</code>.</li><li><code class="inline">:notify?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to generate any notifications. If this is set to <code class="inline">true</code> then the data layer must return
the results from each batch. This may be intensive for large bulk actions.
Notifications will be automatically sent unless <code class="inline">return_notifications?</code> is set to <code class="inline">true</code>.
The default value is <code class="inline">false</code>.</li><li><code class="inline">:transaction</code> - Whether or not to wrap the entire execution in a transaction, each batch, or not at all.
Keep in mind:
<code class="inline">before_transaction</code> and <code class="inline">after_transaction</code> hooks attached to changesets will have to be run
<em>inside</em> the transaction if you choose <code class="inline">transaction: :all</code>.
The default value is <code class="inline">:batch</code>.</li><li><code class="inline">:max_concurrency</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">non_neg_integer/0</code></a>) - If set to a value greater than 0, up to that many tasks will be started to run batches asynchronously The default value is <code class="inline">0</code>.</li></ul></li><li><code class="inline">:private_arguments</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">map/0</code></a>) - Private argument values to set before validations and changes. The default value is <code class="inline">%{}</code>.</li></ul>
  </section>
</section>
<section class="detail" id="exists/2">

    <span id="exists/1"></span>

  <div class="detail-header">
    <a href="#exists/2" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">exists(query, opts \\ [])</h1>


    </div>
  </div>

    <div class="deprecated">
      This function is deprecated. Use `Ash.exists/2` instead.
    </div>

  <section class="docstring">


  </section>
</section>
<section class="detail" id="exists?/2">

    <span id="exists?/1"></span>

  <div class="detail-header">
    <a href="#exists?/2" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">exists?(query, opts \\ [])</h1>


    </div>
  </div>

    <div class="deprecated">
      This function is deprecated. Use `Ash.exists?/2` instead.
    </div>

  <section class="docstring">


  </section>
</section>
<section class="detail" id="find_duplicate_offenders_by_company_number/0">

  <div class="detail-header">
    <a href="#find_duplicate_offenders_by_company_number/0" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">find_duplicate_offenders_by_company_number()</h1>


    </div>
  </div>

  <section class="docstring">

<p>Find offenders with duplicate company registration numbers.</p><p>Returns grouped duplicates by company registration number.</p><h2 id="find_duplicate_offenders_by_company_number/0-returns" class="section-heading"><a href="#find_duplicate_offenders_by_company_number/0-returns" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Returns</span></h2><p>List of maps with:</p><ul><li><code class="inline">:company_number</code> - The duplicated company registration number</li><li><code class="inline">:offenders</code> - List of offender records with this number</li><li><code class="inline">:count</code> - Number of duplicate records</li></ul><h2 id="find_duplicate_offenders_by_company_number/0-examples" class="section-heading"><a href="#find_duplicate_offenders_by_company_number/0-examples" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Examples</span></h2><pre><code class="makeup elixir" translate="no"><span class="gp unselectable">iex&gt; </span><span class="n">find_duplicate_offenders_by_company_number</span><span class="p" data-group-id="9990843972-1">(</span><span class="p" data-group-id="9990843972-1">)</span><span class="w">
</span><span class="p" data-group-id="9990843972-2">{</span><span class="ss">:ok</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="9990843972-3">[</span><span class="w">
  </span><span class="p" data-group-id="9990843972-4">%{</span><span class="ss">company_number</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;01999508&quot;</span><span class="p">,</span><span class="w"> </span><span class="ss">offenders</span><span class="p">:</span><span class="w"> </span><span class="p" data-group-id="9990843972-5">[</span><span class="n">offender1</span><span class="p">,</span><span class="w"> </span><span class="n">offender2</span><span class="p" data-group-id="9990843972-5">]</span><span class="p">,</span><span class="w"> </span><span class="ss">count</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p" data-group-id="9990843972-4">}</span><span class="p">,</span><span class="w">
  </span><span class="p" data-group-id="9990843972-6">%{</span><span class="ss">company_number</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;03353423&quot;</span><span class="p">,</span><span class="w"> </span><span class="ss">offenders</span><span class="p">:</span><span class="w"> </span><span class="p" data-group-id="9990843972-7">[</span><span class="n">offender3</span><span class="p">,</span><span class="w"> </span><span class="n">offender4</span><span class="p" data-group-id="9990843972-7">]</span><span class="p">,</span><span class="w"> </span><span class="ss">count</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p" data-group-id="9990843972-6">}</span><span class="w">
</span><span class="p" data-group-id="9990843972-3">]</span><span class="p" data-group-id="9990843972-2">}</span></code></pre>
  </section>
</section>
<section class="detail" id="find_or_create_legislation/4">

    <span id="find_or_create_legislation/1"></span>

    <span id="find_or_create_legislation/2"></span>

    <span id="find_or_create_legislation/3"></span>

  <div class="detail-header">
    <a href="#find_or_create_legislation/4" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">find_or_create_legislation(title, year \\ nil, number \\ nil, type \\ nil)</h1>


    </div>
  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">@spec</span> find_or_create_legislation(
  <a href="https://hexdocs.pm/elixir/String.html#t:t/0">String.t</a>(),
  <a href="https://hexdocs.pm/elixir/typespecs.html#basic-types">integer</a>() | nil,
  <a href="https://hexdocs.pm/elixir/typespecs.html#basic-types">integer</a>() | nil,
  <a href="https://hexdocs.pm/elixir/typespecs.html#basic-types">atom</a>() | nil
) ::
  {:ok, <a href="https://hexdocs.pm/elixir/typespecs.html#basic-types">struct</a>()} | {:error, <a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types">term</a>()}</pre>

      </div>

<p>Find or create legislation with deduplication logic.</p><p>This function prevents duplicate legislation records by:</p><ol><li>Normalizing the title</li><li>Searching for exact matches first</li><li>Using fuzzy matching for similar titles</li><li>Creating new records only when no match exists</li></ol><p>Works for both HSE and EA legislation processing.</p><h2 id="find_or_create_legislation/4-parameters" class="section-heading"><a href="#find_or_create_legislation/4-parameters" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Parameters</span></h2><ul><li><code class="inline">title</code> - The legislation title (required)</li><li><code class="inline">year</code> - The year enacted (optional, extracted from title if not provided)</li><li><code class="inline">number</code> - The legislation number (optional)</li><li><code class="inline">type</code> - The legislation type (optional, determined from title if not provided)</li></ul><h2 id="find_or_create_legislation/4-examples" class="section-heading"><a href="#find_or_create_legislation/4-examples" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Examples</span></h2><pre><code class="makeup elixir" translate="no"><span class="gp unselectable">iex&gt; </span><span class="n">find_or_create_legislation</span><span class="p" data-group-id="2712490864-1">(</span><span class="s">&quot;Health and Safety at Work Act 1974&quot;</span><span class="p">,</span><span class="w"> </span><span class="mi">1974</span><span class="p">,</span><span class="w"> </span><span class="mi">37</span><span class="p" data-group-id="2712490864-1">)</span><span class="w">
</span><span class="p" data-group-id="2712490864-2">{</span><span class="ss">:ok</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="2712490864-3">%</span><span class="nc" data-group-id="2712490864-3">Legislation</span><span class="p" data-group-id="2712490864-3">{</span><span class="ss">legislation_title</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;Health and Safety at Work etc. Act&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">...</span><span class="p" data-group-id="2712490864-3">}</span><span class="p" data-group-id="2712490864-2">}</span><span class="w">

</span><span class="gp unselectable">iex&gt; </span><span class="n">find_or_create_legislation</span><span class="p" data-group-id="2712490864-4">(</span><span class="s">&quot;COSHH REGULATIONS 2002&quot;</span><span class="p" data-group-id="2712490864-4">)</span><span class="w">
</span><span class="p" data-group-id="2712490864-5">{</span><span class="ss">:ok</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="2712490864-6">%</span><span class="nc" data-group-id="2712490864-6">Legislation</span><span class="p" data-group-id="2712490864-6">{</span><span class="ss">legislation_title</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;Control of Substances Hazardous to Health Regulations&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">...</span><span class="p" data-group-id="2712490864-6">}</span><span class="p" data-group-id="2712490864-5">}</span></code></pre>
  </section>
</section>
<section class="detail" id="first/3">

    <span id="first/2"></span>

  <div class="detail-header">
    <a href="#first/3" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">first(query, field, opts \\ [])</h1>


    </div>
  </div>

    <div class="deprecated">
      This function is deprecated. Use `Ash.first/3` instead.
    </div>

  <section class="docstring">


  </section>
</section>
<section class="detail" id="first!/3">

    <span id="first!/2"></span>

  <div class="detail-header">
    <a href="#first!/3" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">first!(query, field, opts \\ [])</h1>


    </div>
  </div>

    <div class="deprecated">
      This function is deprecated. Use `Ash.first!/3` instead.
    </div>

  <section class="docstring">


  </section>
</section>
<section class="detail" id="form_to_bulk_create_cases/1">

    <span id="form_to_bulk_create_cases/0"></span>

  <div class="detail-header">
    <a href="#form_to_bulk_create_cases/1" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">form_to_bulk_create_cases(form_opts \\ [])</h1>


    </div>
  </div>

  <section class="docstring">

<p>Batch processing for creating multiple cases efficiently</p><h2 id="form_to_bulk_create_cases/1-options" class="section-heading"><a href="#form_to_bulk_create_cases/1-options" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Options</span></h2><ul><li><code class="inline">:actor</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - The actor performing the action. Passed through to the underlying action.</li><li><code class="inline">:scope</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A value that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.Scope.html"><code class="inline">Ash.Scope</code></a> protocol, for passing around actor/tenant/context in a single value. See <a href="https://hexdocs.pm/ash/3.7.6/Ash.Scope.html"><code class="inline">Ash.Scope</code></a> for more.</li><li><code class="inline">:forms</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">keyword/0</code></a>) - Nested form configurations. See <code class="inline">for_create/3</code> &quot;Nested Form Options&quot; docs for more.</li><li><code class="inline">:warn_on_unhandled_errors?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Warns on any errors that don't match the form pattern of <code class="inline">{:field, &quot;message&quot;, [replacement: :vars]}</code> or implement the <a href="https://hexdocs.pm/ash_phoenix/2.3.17/AshPhoenix.FormData.Error.html"><code class="inline">AshPhoenix.FormData.Error</code></a> protocol. The default value is <code class="inline">true</code>.</li><li><code class="inline">:domain</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - The domain to use when calling the action.</li><li><code class="inline">:as</code> (<a href="https://hexdocs.pm/elixir/String.html#t:t/0"><code class="inline">String.t/0</code></a>) - The name of the form in the submitted params. You will need to pull the form params out using this key. The default value is <code class="inline">&quot;form&quot;</code>.</li><li><code class="inline">:id</code> (<a href="https://hexdocs.pm/elixir/String.html#t:t/0"><code class="inline">String.t/0</code></a>) - The html id of the form. Defaults to the value of <code class="inline">:as</code> if provided, otherwise &quot;form&quot;</li><li><code class="inline">:transform_errors</code> - Allows for manual manipulation and transformation of errors. You may prefer <code class="inline">post_process_errors</code> as a simpler API.<br/>If possible, try to implement <a href="https://hexdocs.pm/ash_phoenix/2.3.17/AshPhoenix.FormData.Error.html"><code class="inline">AshPhoenix.FormData.Error</code></a> for the error (if it as a custom one, for example).
If that isn't possible, you can provide this function which will get the changeset and the error, and should
return a list of ash phoenix formatted errors, e.g <code class="inline">[{field :: atom, message :: String.t(), substituations :: Keyword.t()}]</code><br/>Example:<pre><code class="makeup elixir" translate="no"><span class="nc">AshPhoenix.Form</span><span class="o">.</span><span class="n">for_create</span><span class="p" data-group-id="7576001753-1">(</span><span class="n">...</span><span class="p">,</span><span class="w"> </span><span class="ss">transform_errors</span><span class="p">:</span><span class="w"> </span><span class="k" data-group-id="7576001753-2">fn</span><span class="w">
  </span><span class="c">_changeset</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="7576001753-3">%{</span><span class="ss">field</span><span class="p">:</span><span class="w"> </span><span class="ss">:field1</span><span class="p" data-group-id="7576001753-3">}</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">error</span><span class="w"> </span><span class="o">-&gt;</span><span class="w">
    </span><span class="p" data-group-id="7576001753-4">%{</span><span class="n">error</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="ss">field</span><span class="p">:</span><span class="w"> </span><span class="ss">:field2</span><span class="p" data-group-id="7576001753-4">}</span><span class="w">  
  </span><span class="c">_changeset</span><span class="p">,</span><span class="w"> </span><span class="n">error</span><span class="w"> </span><span class="o">-&gt;</span><span class="w">
    </span><span class="n">error</span><span class="w">
</span><span class="k" data-group-id="7576001753-2">end</span></code></pre></li><li><code class="inline">:post_process_errors</code> - Allows for post-processing of errors after they have been converted to the standard triple format.<br/>This function receives the form, the path to the form, and an error triple <code class="inline">{field, message, vars}</code>.
It should return either a modified triple or <code class="inline">nil</code> to filter out the error.<br/>This is useful for:<ul><li>Filtering out certain errors based on custom criteria</li><li>Remapping field names from one field to another</li><li>Modifying error messages or variables<br/>Example:<pre><code class="makeup elixir" translate="no"><span class="nc">AshPhoenix.Form</span><span class="o">.</span><span class="n">for_create</span><span class="p" data-group-id="7652501735-1">(</span><span class="n">...</span><span class="p">,</span><span class="w"> </span><span class="ss">post_process_errors</span><span class="p">:</span><span class="w"> </span><span class="k" data-group-id="7652501735-2">fn</span><span class="w"> </span><span class="n">form</span><span class="p">,</span><span class="w"> </span><span class="c">_path</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="7652501735-3">{</span><span class="n">field</span><span class="p">,</span><span class="w"> </span><span class="n">message</span><span class="p">,</span><span class="w"> </span><span class="n">vars</span><span class="p" data-group-id="7652501735-3">}</span><span class="w"> </span><span class="o">-&gt;</span><span class="w">
</span><span class="k">case</span><span class="w"> </span><span class="n">field</span><span class="w"> </span><span class="k" data-group-id="7652501735-4">do</span><span class="w">
  </span><span class="ss">:status</span><span class="w"> </span><span class="o">-&gt;</span><span class="w">
    </span><span class="c1"># hide these errors</span><span class="w">
    </span><span class="no">nil</span><span class="w">  
  </span><span class="n">field</span><span class="w"> </span><span class="ow">when</span><span class="w"> </span><span class="n">field</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="p" data-group-id="7652501735-5">[</span><span class="ss">:currency</span><span class="p">,</span><span class="w"> </span><span class="ss">:amount</span><span class="p" data-group-id="7652501735-5">]</span><span class="w"> </span><span class="o">-&gt;</span><span class="w">
    </span><span class="c1"># remap the field, and replace the error message</span><span class="w">
    </span><span class="p" data-group-id="7652501735-6">{</span><span class="ss">:money</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;please enter a real money amount&quot;</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="7652501735-7">[</span><span class="p" data-group-id="7652501735-7">]</span><span class="p" data-group-id="7652501735-6">}</span><span class="w">  
  </span><span class="n">field</span><span class="w"> </span><span class="o">-&gt;</span><span class="w">
    </span><span class="c1"># leave the others unchanged</span><span class="w">
    </span><span class="p" data-group-id="7652501735-8">{</span><span class="n">field</span><span class="p">,</span><span class="w"> </span><span class="n">message</span><span class="p">,</span><span class="w"> </span><span class="n">vars</span><span class="p" data-group-id="7652501735-8">}</span><span class="w">
</span><span class="k" data-group-id="7652501735-4">end</span><span class="w">
</span><span class="k" data-group-id="7652501735-2">end</span><span class="p" data-group-id="7652501735-1">)</span></code></pre></li></ul></li><li><code class="inline">:prepare_source</code> - A 1-argument function the receives the initial changeset (or query) and makes any relevant changes to it.
This can be used to do things like:  <ul><li>Set default argument values before the validations are run using <a href="https://hexdocs.pm/ash/3.7.6/Ash.Changeset.html#set_arguments/2"><code class="inline">Ash.Changeset.set_arguments/2</code></a> or <a href="https://hexdocs.pm/ash/3.7.6/Ash.Changeset.html#set_argument/3"><code class="inline">Ash.Changeset.set_argument/3</code></a></li><li>Set changeset context</li><li>Do any other pre-processing on the changeset</li></ul></li><li><code class="inline">:prepare_params</code> - A 2-argument function that receives the params map and the :validate atom and should return prepared params.
Called before the form is validated.</li><li><code class="inline">:transform_params</code> - A function for post-processing the form parameters before they are used for changeset validation/submission.
Use a 3-argument function to pattern match on the <a href="https://hexdocs.pm/ash_phoenix/2.3.17/AshPhoenix.Form.html"><code class="inline">AshPhoenix.Form</code></a> struct.</li><li><code class="inline">:method</code> (<a href="https://hexdocs.pm/elixir/String.html#t:t/0"><code class="inline">String.t/0</code></a>) - The http method to associate with the form. Defaults to <code class="inline">post</code> for creates, and <code class="inline">put</code> for everything else.</li><li><code class="inline">:exclude_fields_if_empty</code> - These fields will be ignored if they are empty strings.<br/>This list of fields supports dead view forms. When a form is submitted from dead view
empty fields are submitted as empty strings. This is problematic for fields that allow_nil
or those that have default values.</li><li><code class="inline">:tenant</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - The current tenant. Passed through to the underlying action.</li><li><code class="inline">:params</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - The initial parameters to use for the form. This is useful for setting up a form with default values. The default value is <code class="inline">%{}</code>.
Any <em>additional</em> options will be passed to the underlying call to build the source, i.e
<a href="https://hexdocs.pm/ash/3.7.6/Ash.ActionInput.html#for_action/4"><code class="inline">Ash.ActionInput.for_action/4</code></a>, or <code class="inline">Ash.Changeset.for_*</code>. This means you can set things
like the tenant/actor. These will be retained, and provided again when
<code class="inline">Form.submit/3</code> is called.</li></ul><h2 id="form_to_bulk_create_cases/1-nested-form-options" class="section-heading"><a href="#form_to_bulk_create_cases/1-nested-form-options" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Nested Form Options</span></h2><ul><li><code class="inline">:type</code> - The cardinality of the nested form - <code class="inline">:list</code> or <code class="inline">:single</code>. Valid values are :list, :single The default value is <code class="inline">:single</code>.</li><li><code class="inline">:sparse?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If the nested form is <code class="inline">sparse</code>, the form won't expect all inputs for all forms to be present.<br/>Has no effect if the type is <code class="inline">:single</code>.<br/>Normally, if you leave some forms out of a list of nested forms, they are removed from the parameters
passed to the action. For example, if you had a <code class="inline">post</code> with two comments <code class="inline">[%Comment{id: 1}, %Comment{id: 2}]</code>
and you passed down params like <code class="inline">comments[0][id]=1&amp;comments[1][text]=new_text</code>, we would remove the second comment
from the input parameters, resulting in the following being passed into the action: <code class="inline">%{&quot;comments&quot; =&gt; [%{&quot;id&quot; =&gt; 1, &quot;text&quot; =&gt; &quot;new&quot;}]}</code>.
By setting it to sparse, you have to explicitly use <code class="inline">remove_form</code> for that removal to happen. So in the same scenario above, the parameters
that would be sent would actually be <code class="inline">%{&quot;comments&quot; =&gt; [%{&quot;id&quot; =&gt; 1, &quot;text&quot; =&gt; &quot;new&quot;}, %{&quot;id&quot; =&gt; 2}]}</code>.<br/>One major difference with <code class="inline">sparse?</code> is that the form actually ignores the <em>index</em> provided, e.g <code class="inline">comments[0]...</code>, and instead uses the primary
key e.g <code class="inline">comments[0][id]</code> to match which form is being updated. This prevents you from having to find the index of the specific item you want to
update. Which could be very gnarly on deeply nested forms. If there is no primary key, or the primary key does not match anything, it is treated
as a new form.<br/>REMEMBER: You need to use <code class="inline">Phoenix.Components.inputs_for</code> to render the nested forms, or manually add hidden inputs using
<code class="inline">hidden_inputs_for</code> (or <code class="inline">HiddenInputs</code> if using Surface) for the id to be automatically placed into the form.</li><li><code class="inline">:forms</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">keyword/0</code></a>) - Forms nested inside the current nesting level in all cases.</li><li><code class="inline">:for_type</code> - What action types the form applies for. Leave blank for it to apply to all action types. Valid values are :read, :create, :update</li><li><code class="inline">:merge?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - When building parameters, this input will be merged with its parent input. This allows for combining multiple forms into a single input. The default value is <code class="inline">false</code>.</li><li><code class="inline">:for</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - When creating parameters for the action, the key that the forms should be gathered into. Defaults to the key used to configure the nested form. Ignored if <code class="inline">merge?</code> is <code class="inline">true</code>.</li><li><code class="inline">:resource</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - The resource of the nested forms. Unnecessary if you are providing the <code class="inline">data</code> key, and not adding additional forms to this path.</li><li><code class="inline">:create_action</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - The create action to use when building new forms. Only necessary if you want to use <code class="inline">add_form/3</code> with this path.</li><li><code class="inline">:update_action</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - The update action to use when building forms for data. Only necessary if you supply the <code class="inline">data</code> key.</li><li><code class="inline">:data</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - The current value or values that should have update forms built by default.<br/>You can also provide a single argument function that will return the data based on the
data of the parent form. This is important for multiple nesting levels of <code class="inline">:list</code> type
forms, because the data depends on which parent is being rendered.</li></ul>
  </section>
</section>
<section class="detail" id="form_to_bulk_create_offences/1">

    <span id="form_to_bulk_create_offences/0"></span>

  <div class="detail-header">
    <a href="#form_to_bulk_create_offences/1" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">form_to_bulk_create_offences(form_opts \\ [])</h1>


    </div>
  </div>

  <section class="docstring">

<p>Batch processing for creating multiple offences efficiently</p><h2 id="form_to_bulk_create_offences/1-options" class="section-heading"><a href="#form_to_bulk_create_offences/1-options" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Options</span></h2><ul><li><code class="inline">:actor</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - The actor performing the action. Passed through to the underlying action.</li><li><code class="inline">:scope</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A value that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.Scope.html"><code class="inline">Ash.Scope</code></a> protocol, for passing around actor/tenant/context in a single value. See <a href="https://hexdocs.pm/ash/3.7.6/Ash.Scope.html"><code class="inline">Ash.Scope</code></a> for more.</li><li><code class="inline">:forms</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">keyword/0</code></a>) - Nested form configurations. See <code class="inline">for_create/3</code> &quot;Nested Form Options&quot; docs for more.</li><li><code class="inline">:warn_on_unhandled_errors?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Warns on any errors that don't match the form pattern of <code class="inline">{:field, &quot;message&quot;, [replacement: :vars]}</code> or implement the <a href="https://hexdocs.pm/ash_phoenix/2.3.17/AshPhoenix.FormData.Error.html"><code class="inline">AshPhoenix.FormData.Error</code></a> protocol. The default value is <code class="inline">true</code>.</li><li><code class="inline">:domain</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - The domain to use when calling the action.</li><li><code class="inline">:as</code> (<a href="https://hexdocs.pm/elixir/String.html#t:t/0"><code class="inline">String.t/0</code></a>) - The name of the form in the submitted params. You will need to pull the form params out using this key. The default value is <code class="inline">&quot;form&quot;</code>.</li><li><code class="inline">:id</code> (<a href="https://hexdocs.pm/elixir/String.html#t:t/0"><code class="inline">String.t/0</code></a>) - The html id of the form. Defaults to the value of <code class="inline">:as</code> if provided, otherwise &quot;form&quot;</li><li><code class="inline">:transform_errors</code> - Allows for manual manipulation and transformation of errors. You may prefer <code class="inline">post_process_errors</code> as a simpler API.<br/>If possible, try to implement <a href="https://hexdocs.pm/ash_phoenix/2.3.17/AshPhoenix.FormData.Error.html"><code class="inline">AshPhoenix.FormData.Error</code></a> for the error (if it as a custom one, for example).
If that isn't possible, you can provide this function which will get the changeset and the error, and should
return a list of ash phoenix formatted errors, e.g <code class="inline">[{field :: atom, message :: String.t(), substituations :: Keyword.t()}]</code><br/>Example:<pre><code class="makeup elixir" translate="no"><span class="nc">AshPhoenix.Form</span><span class="o">.</span><span class="n">for_create</span><span class="p" data-group-id="6625906582-1">(</span><span class="n">...</span><span class="p">,</span><span class="w"> </span><span class="ss">transform_errors</span><span class="p">:</span><span class="w"> </span><span class="k" data-group-id="6625906582-2">fn</span><span class="w">
  </span><span class="c">_changeset</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="6625906582-3">%{</span><span class="ss">field</span><span class="p">:</span><span class="w"> </span><span class="ss">:field1</span><span class="p" data-group-id="6625906582-3">}</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">error</span><span class="w"> </span><span class="o">-&gt;</span><span class="w">
    </span><span class="p" data-group-id="6625906582-4">%{</span><span class="n">error</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="ss">field</span><span class="p">:</span><span class="w"> </span><span class="ss">:field2</span><span class="p" data-group-id="6625906582-4">}</span><span class="w">  
  </span><span class="c">_changeset</span><span class="p">,</span><span class="w"> </span><span class="n">error</span><span class="w"> </span><span class="o">-&gt;</span><span class="w">
    </span><span class="n">error</span><span class="w">
</span><span class="k" data-group-id="6625906582-2">end</span></code></pre></li><li><code class="inline">:post_process_errors</code> - Allows for post-processing of errors after they have been converted to the standard triple format.<br/>This function receives the form, the path to the form, and an error triple <code class="inline">{field, message, vars}</code>.
It should return either a modified triple or <code class="inline">nil</code> to filter out the error.<br/>This is useful for:<ul><li>Filtering out certain errors based on custom criteria</li><li>Remapping field names from one field to another</li><li>Modifying error messages or variables<br/>Example:<pre><code class="makeup elixir" translate="no"><span class="nc">AshPhoenix.Form</span><span class="o">.</span><span class="n">for_create</span><span class="p" data-group-id="9688232256-1">(</span><span class="n">...</span><span class="p">,</span><span class="w"> </span><span class="ss">post_process_errors</span><span class="p">:</span><span class="w"> </span><span class="k" data-group-id="9688232256-2">fn</span><span class="w"> </span><span class="n">form</span><span class="p">,</span><span class="w"> </span><span class="c">_path</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="9688232256-3">{</span><span class="n">field</span><span class="p">,</span><span class="w"> </span><span class="n">message</span><span class="p">,</span><span class="w"> </span><span class="n">vars</span><span class="p" data-group-id="9688232256-3">}</span><span class="w"> </span><span class="o">-&gt;</span><span class="w">
</span><span class="k">case</span><span class="w"> </span><span class="n">field</span><span class="w"> </span><span class="k" data-group-id="9688232256-4">do</span><span class="w">
  </span><span class="ss">:status</span><span class="w"> </span><span class="o">-&gt;</span><span class="w">
    </span><span class="c1"># hide these errors</span><span class="w">
    </span><span class="no">nil</span><span class="w">  
  </span><span class="n">field</span><span class="w"> </span><span class="ow">when</span><span class="w"> </span><span class="n">field</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="p" data-group-id="9688232256-5">[</span><span class="ss">:currency</span><span class="p">,</span><span class="w"> </span><span class="ss">:amount</span><span class="p" data-group-id="9688232256-5">]</span><span class="w"> </span><span class="o">-&gt;</span><span class="w">
    </span><span class="c1"># remap the field, and replace the error message</span><span class="w">
    </span><span class="p" data-group-id="9688232256-6">{</span><span class="ss">:money</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;please enter a real money amount&quot;</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="9688232256-7">[</span><span class="p" data-group-id="9688232256-7">]</span><span class="p" data-group-id="9688232256-6">}</span><span class="w">  
  </span><span class="n">field</span><span class="w"> </span><span class="o">-&gt;</span><span class="w">
    </span><span class="c1"># leave the others unchanged</span><span class="w">
    </span><span class="p" data-group-id="9688232256-8">{</span><span class="n">field</span><span class="p">,</span><span class="w"> </span><span class="n">message</span><span class="p">,</span><span class="w"> </span><span class="n">vars</span><span class="p" data-group-id="9688232256-8">}</span><span class="w">
</span><span class="k" data-group-id="9688232256-4">end</span><span class="w">
</span><span class="k" data-group-id="9688232256-2">end</span><span class="p" data-group-id="9688232256-1">)</span></code></pre></li></ul></li><li><code class="inline">:prepare_source</code> - A 1-argument function the receives the initial changeset (or query) and makes any relevant changes to it.
This can be used to do things like:  <ul><li>Set default argument values before the validations are run using <a href="https://hexdocs.pm/ash/3.7.6/Ash.Changeset.html#set_arguments/2"><code class="inline">Ash.Changeset.set_arguments/2</code></a> or <a href="https://hexdocs.pm/ash/3.7.6/Ash.Changeset.html#set_argument/3"><code class="inline">Ash.Changeset.set_argument/3</code></a></li><li>Set changeset context</li><li>Do any other pre-processing on the changeset</li></ul></li><li><code class="inline">:prepare_params</code> - A 2-argument function that receives the params map and the :validate atom and should return prepared params.
Called before the form is validated.</li><li><code class="inline">:transform_params</code> - A function for post-processing the form parameters before they are used for changeset validation/submission.
Use a 3-argument function to pattern match on the <a href="https://hexdocs.pm/ash_phoenix/2.3.17/AshPhoenix.Form.html"><code class="inline">AshPhoenix.Form</code></a> struct.</li><li><code class="inline">:method</code> (<a href="https://hexdocs.pm/elixir/String.html#t:t/0"><code class="inline">String.t/0</code></a>) - The http method to associate with the form. Defaults to <code class="inline">post</code> for creates, and <code class="inline">put</code> for everything else.</li><li><code class="inline">:exclude_fields_if_empty</code> - These fields will be ignored if they are empty strings.<br/>This list of fields supports dead view forms. When a form is submitted from dead view
empty fields are submitted as empty strings. This is problematic for fields that allow_nil
or those that have default values.</li><li><code class="inline">:tenant</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - The current tenant. Passed through to the underlying action.</li><li><code class="inline">:params</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - The initial parameters to use for the form. This is useful for setting up a form with default values. The default value is <code class="inline">%{}</code>.
Any <em>additional</em> options will be passed to the underlying call to build the source, i.e
<a href="https://hexdocs.pm/ash/3.7.6/Ash.ActionInput.html#for_action/4"><code class="inline">Ash.ActionInput.for_action/4</code></a>, or <code class="inline">Ash.Changeset.for_*</code>. This means you can set things
like the tenant/actor. These will be retained, and provided again when
<code class="inline">Form.submit/3</code> is called.</li></ul><h2 id="form_to_bulk_create_offences/1-nested-form-options" class="section-heading"><a href="#form_to_bulk_create_offences/1-nested-form-options" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Nested Form Options</span></h2><ul><li><code class="inline">:type</code> - The cardinality of the nested form - <code class="inline">:list</code> or <code class="inline">:single</code>. Valid values are :list, :single The default value is <code class="inline">:single</code>.</li><li><code class="inline">:sparse?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If the nested form is <code class="inline">sparse</code>, the form won't expect all inputs for all forms to be present.<br/>Has no effect if the type is <code class="inline">:single</code>.<br/>Normally, if you leave some forms out of a list of nested forms, they are removed from the parameters
passed to the action. For example, if you had a <code class="inline">post</code> with two comments <code class="inline">[%Comment{id: 1}, %Comment{id: 2}]</code>
and you passed down params like <code class="inline">comments[0][id]=1&amp;comments[1][text]=new_text</code>, we would remove the second comment
from the input parameters, resulting in the following being passed into the action: <code class="inline">%{&quot;comments&quot; =&gt; [%{&quot;id&quot; =&gt; 1, &quot;text&quot; =&gt; &quot;new&quot;}]}</code>.
By setting it to sparse, you have to explicitly use <code class="inline">remove_form</code> for that removal to happen. So in the same scenario above, the parameters
that would be sent would actually be <code class="inline">%{&quot;comments&quot; =&gt; [%{&quot;id&quot; =&gt; 1, &quot;text&quot; =&gt; &quot;new&quot;}, %{&quot;id&quot; =&gt; 2}]}</code>.<br/>One major difference with <code class="inline">sparse?</code> is that the form actually ignores the <em>index</em> provided, e.g <code class="inline">comments[0]...</code>, and instead uses the primary
key e.g <code class="inline">comments[0][id]</code> to match which form is being updated. This prevents you from having to find the index of the specific item you want to
update. Which could be very gnarly on deeply nested forms. If there is no primary key, or the primary key does not match anything, it is treated
as a new form.<br/>REMEMBER: You need to use <code class="inline">Phoenix.Components.inputs_for</code> to render the nested forms, or manually add hidden inputs using
<code class="inline">hidden_inputs_for</code> (or <code class="inline">HiddenInputs</code> if using Surface) for the id to be automatically placed into the form.</li><li><code class="inline">:forms</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">keyword/0</code></a>) - Forms nested inside the current nesting level in all cases.</li><li><code class="inline">:for_type</code> - What action types the form applies for. Leave blank for it to apply to all action types. Valid values are :read, :create, :update</li><li><code class="inline">:merge?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - When building parameters, this input will be merged with its parent input. This allows for combining multiple forms into a single input. The default value is <code class="inline">false</code>.</li><li><code class="inline">:for</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - When creating parameters for the action, the key that the forms should be gathered into. Defaults to the key used to configure the nested form. Ignored if <code class="inline">merge?</code> is <code class="inline">true</code>.</li><li><code class="inline">:resource</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - The resource of the nested forms. Unnecessary if you are providing the <code class="inline">data</code> key, and not adding additional forms to this path.</li><li><code class="inline">:create_action</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - The create action to use when building new forms. Only necessary if you want to use <code class="inline">add_form/3</code> with this path.</li><li><code class="inline">:update_action</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - The update action to use when building forms for data. Only necessary if you supply the <code class="inline">data</code> key.</li><li><code class="inline">:data</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - The current value or values that should have update forms built by default.<br/>You can also provide a single argument function that will return the data based on the
data of the parent form. This is important for multiple nesting levels of <code class="inline">:list</code> type
forms, because the data depends on which parent is being rendered.</li></ul>
  </section>
</section>
<section class="detail" id="form_to_create_agency/1">

    <span id="form_to_create_agency/0"></span>

  <div class="detail-header">
    <a href="#form_to_create_agency/1" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">form_to_create_agency(form_opts \\ [])</h1>


    </div>
  </div>

  <section class="docstring">

<p>Creates a form for the create action on EhsEnforcement.Enforcement.Agency.</p><h2 id="form_to_create_agency/1-options" class="section-heading"><a href="#form_to_create_agency/1-options" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Options</span></h2><ul><li><code class="inline">:actor</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - The actor performing the action. Passed through to the underlying action.</li><li><code class="inline">:scope</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A value that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.Scope.html"><code class="inline">Ash.Scope</code></a> protocol, for passing around actor/tenant/context in a single value. See <a href="https://hexdocs.pm/ash/3.7.6/Ash.Scope.html"><code class="inline">Ash.Scope</code></a> for more.</li><li><code class="inline">:forms</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">keyword/0</code></a>) - Nested form configurations. See <code class="inline">for_create/3</code> &quot;Nested Form Options&quot; docs for more.</li><li><code class="inline">:warn_on_unhandled_errors?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Warns on any errors that don't match the form pattern of <code class="inline">{:field, &quot;message&quot;, [replacement: :vars]}</code> or implement the <a href="https://hexdocs.pm/ash_phoenix/2.3.17/AshPhoenix.FormData.Error.html"><code class="inline">AshPhoenix.FormData.Error</code></a> protocol. The default value is <code class="inline">true</code>.</li><li><code class="inline">:domain</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - The domain to use when calling the action.</li><li><code class="inline">:as</code> (<a href="https://hexdocs.pm/elixir/String.html#t:t/0"><code class="inline">String.t/0</code></a>) - The name of the form in the submitted params. You will need to pull the form params out using this key. The default value is <code class="inline">&quot;form&quot;</code>.</li><li><code class="inline">:id</code> (<a href="https://hexdocs.pm/elixir/String.html#t:t/0"><code class="inline">String.t/0</code></a>) - The html id of the form. Defaults to the value of <code class="inline">:as</code> if provided, otherwise &quot;form&quot;</li><li><code class="inline">:transform_errors</code> - Allows for manual manipulation and transformation of errors. You may prefer <code class="inline">post_process_errors</code> as a simpler API.<br/>If possible, try to implement <a href="https://hexdocs.pm/ash_phoenix/2.3.17/AshPhoenix.FormData.Error.html"><code class="inline">AshPhoenix.FormData.Error</code></a> for the error (if it as a custom one, for example).
If that isn't possible, you can provide this function which will get the changeset and the error, and should
return a list of ash phoenix formatted errors, e.g <code class="inline">[{field :: atom, message :: String.t(), substituations :: Keyword.t()}]</code><br/>Example:<pre><code class="makeup elixir" translate="no"><span class="nc">AshPhoenix.Form</span><span class="o">.</span><span class="n">for_create</span><span class="p" data-group-id="7846906773-1">(</span><span class="n">...</span><span class="p">,</span><span class="w"> </span><span class="ss">transform_errors</span><span class="p">:</span><span class="w"> </span><span class="k" data-group-id="7846906773-2">fn</span><span class="w">
  </span><span class="c">_changeset</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="7846906773-3">%{</span><span class="ss">field</span><span class="p">:</span><span class="w"> </span><span class="ss">:field1</span><span class="p" data-group-id="7846906773-3">}</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">error</span><span class="w"> </span><span class="o">-&gt;</span><span class="w">
    </span><span class="p" data-group-id="7846906773-4">%{</span><span class="n">error</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="ss">field</span><span class="p">:</span><span class="w"> </span><span class="ss">:field2</span><span class="p" data-group-id="7846906773-4">}</span><span class="w">  
  </span><span class="c">_changeset</span><span class="p">,</span><span class="w"> </span><span class="n">error</span><span class="w"> </span><span class="o">-&gt;</span><span class="w">
    </span><span class="n">error</span><span class="w">
</span><span class="k" data-group-id="7846906773-2">end</span></code></pre></li><li><code class="inline">:post_process_errors</code> - Allows for post-processing of errors after they have been converted to the standard triple format.<br/>This function receives the form, the path to the form, and an error triple <code class="inline">{field, message, vars}</code>.
It should return either a modified triple or <code class="inline">nil</code> to filter out the error.<br/>This is useful for:<ul><li>Filtering out certain errors based on custom criteria</li><li>Remapping field names from one field to another</li><li>Modifying error messages or variables<br/>Example:<pre><code class="makeup elixir" translate="no"><span class="nc">AshPhoenix.Form</span><span class="o">.</span><span class="n">for_create</span><span class="p" data-group-id="3677300266-1">(</span><span class="n">...</span><span class="p">,</span><span class="w"> </span><span class="ss">post_process_errors</span><span class="p">:</span><span class="w"> </span><span class="k" data-group-id="3677300266-2">fn</span><span class="w"> </span><span class="n">form</span><span class="p">,</span><span class="w"> </span><span class="c">_path</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="3677300266-3">{</span><span class="n">field</span><span class="p">,</span><span class="w"> </span><span class="n">message</span><span class="p">,</span><span class="w"> </span><span class="n">vars</span><span class="p" data-group-id="3677300266-3">}</span><span class="w"> </span><span class="o">-&gt;</span><span class="w">
</span><span class="k">case</span><span class="w"> </span><span class="n">field</span><span class="w"> </span><span class="k" data-group-id="3677300266-4">do</span><span class="w">
  </span><span class="ss">:status</span><span class="w"> </span><span class="o">-&gt;</span><span class="w">
    </span><span class="c1"># hide these errors</span><span class="w">
    </span><span class="no">nil</span><span class="w">  
  </span><span class="n">field</span><span class="w"> </span><span class="ow">when</span><span class="w"> </span><span class="n">field</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="p" data-group-id="3677300266-5">[</span><span class="ss">:currency</span><span class="p">,</span><span class="w"> </span><span class="ss">:amount</span><span class="p" data-group-id="3677300266-5">]</span><span class="w"> </span><span class="o">-&gt;</span><span class="w">
    </span><span class="c1"># remap the field, and replace the error message</span><span class="w">
    </span><span class="p" data-group-id="3677300266-6">{</span><span class="ss">:money</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;please enter a real money amount&quot;</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="3677300266-7">[</span><span class="p" data-group-id="3677300266-7">]</span><span class="p" data-group-id="3677300266-6">}</span><span class="w">  
  </span><span class="n">field</span><span class="w"> </span><span class="o">-&gt;</span><span class="w">
    </span><span class="c1"># leave the others unchanged</span><span class="w">
    </span><span class="p" data-group-id="3677300266-8">{</span><span class="n">field</span><span class="p">,</span><span class="w"> </span><span class="n">message</span><span class="p">,</span><span class="w"> </span><span class="n">vars</span><span class="p" data-group-id="3677300266-8">}</span><span class="w">
</span><span class="k" data-group-id="3677300266-4">end</span><span class="w">
</span><span class="k" data-group-id="3677300266-2">end</span><span class="p" data-group-id="3677300266-1">)</span></code></pre></li></ul></li><li><code class="inline">:prepare_source</code> - A 1-argument function the receives the initial changeset (or query) and makes any relevant changes to it.
This can be used to do things like:  <ul><li>Set default argument values before the validations are run using <a href="https://hexdocs.pm/ash/3.7.6/Ash.Changeset.html#set_arguments/2"><code class="inline">Ash.Changeset.set_arguments/2</code></a> or <a href="https://hexdocs.pm/ash/3.7.6/Ash.Changeset.html#set_argument/3"><code class="inline">Ash.Changeset.set_argument/3</code></a></li><li>Set changeset context</li><li>Do any other pre-processing on the changeset</li></ul></li><li><code class="inline">:prepare_params</code> - A 2-argument function that receives the params map and the :validate atom and should return prepared params.
Called before the form is validated.</li><li><code class="inline">:transform_params</code> - A function for post-processing the form parameters before they are used for changeset validation/submission.
Use a 3-argument function to pattern match on the <a href="https://hexdocs.pm/ash_phoenix/2.3.17/AshPhoenix.Form.html"><code class="inline">AshPhoenix.Form</code></a> struct.</li><li><code class="inline">:method</code> (<a href="https://hexdocs.pm/elixir/String.html#t:t/0"><code class="inline">String.t/0</code></a>) - The http method to associate with the form. Defaults to <code class="inline">post</code> for creates, and <code class="inline">put</code> for everything else.</li><li><code class="inline">:exclude_fields_if_empty</code> - These fields will be ignored if they are empty strings.<br/>This list of fields supports dead view forms. When a form is submitted from dead view
empty fields are submitted as empty strings. This is problematic for fields that allow_nil
or those that have default values.</li><li><code class="inline">:tenant</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - The current tenant. Passed through to the underlying action.</li><li><code class="inline">:params</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - The initial parameters to use for the form. This is useful for setting up a form with default values. The default value is <code class="inline">%{}</code>.
Any <em>additional</em> options will be passed to the underlying call to build the source, i.e
<a href="https://hexdocs.pm/ash/3.7.6/Ash.ActionInput.html#for_action/4"><code class="inline">Ash.ActionInput.for_action/4</code></a>, or <code class="inline">Ash.Changeset.for_*</code>. This means you can set things
like the tenant/actor. These will be retained, and provided again when
<code class="inline">Form.submit/3</code> is called.</li></ul><h2 id="form_to_create_agency/1-nested-form-options" class="section-heading"><a href="#form_to_create_agency/1-nested-form-options" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Nested Form Options</span></h2><ul><li><code class="inline">:type</code> - The cardinality of the nested form - <code class="inline">:list</code> or <code class="inline">:single</code>. Valid values are :list, :single The default value is <code class="inline">:single</code>.</li><li><code class="inline">:sparse?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If the nested form is <code class="inline">sparse</code>, the form won't expect all inputs for all forms to be present.<br/>Has no effect if the type is <code class="inline">:single</code>.<br/>Normally, if you leave some forms out of a list of nested forms, they are removed from the parameters
passed to the action. For example, if you had a <code class="inline">post</code> with two comments <code class="inline">[%Comment{id: 1}, %Comment{id: 2}]</code>
and you passed down params like <code class="inline">comments[0][id]=1&amp;comments[1][text]=new_text</code>, we would remove the second comment
from the input parameters, resulting in the following being passed into the action: <code class="inline">%{&quot;comments&quot; =&gt; [%{&quot;id&quot; =&gt; 1, &quot;text&quot; =&gt; &quot;new&quot;}]}</code>.
By setting it to sparse, you have to explicitly use <code class="inline">remove_form</code> for that removal to happen. So in the same scenario above, the parameters
that would be sent would actually be <code class="inline">%{&quot;comments&quot; =&gt; [%{&quot;id&quot; =&gt; 1, &quot;text&quot; =&gt; &quot;new&quot;}, %{&quot;id&quot; =&gt; 2}]}</code>.<br/>One major difference with <code class="inline">sparse?</code> is that the form actually ignores the <em>index</em> provided, e.g <code class="inline">comments[0]...</code>, and instead uses the primary
key e.g <code class="inline">comments[0][id]</code> to match which form is being updated. This prevents you from having to find the index of the specific item you want to
update. Which could be very gnarly on deeply nested forms. If there is no primary key, or the primary key does not match anything, it is treated
as a new form.<br/>REMEMBER: You need to use <code class="inline">Phoenix.Components.inputs_for</code> to render the nested forms, or manually add hidden inputs using
<code class="inline">hidden_inputs_for</code> (or <code class="inline">HiddenInputs</code> if using Surface) for the id to be automatically placed into the form.</li><li><code class="inline">:forms</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">keyword/0</code></a>) - Forms nested inside the current nesting level in all cases.</li><li><code class="inline">:for_type</code> - What action types the form applies for. Leave blank for it to apply to all action types. Valid values are :read, :create, :update</li><li><code class="inline">:merge?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - When building parameters, this input will be merged with its parent input. This allows for combining multiple forms into a single input. The default value is <code class="inline">false</code>.</li><li><code class="inline">:for</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - When creating parameters for the action, the key that the forms should be gathered into. Defaults to the key used to configure the nested form. Ignored if <code class="inline">merge?</code> is <code class="inline">true</code>.</li><li><code class="inline">:resource</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - The resource of the nested forms. Unnecessary if you are providing the <code class="inline">data</code> key, and not adding additional forms to this path.</li><li><code class="inline">:create_action</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - The create action to use when building new forms. Only necessary if you want to use <code class="inline">add_form/3</code> with this path.</li><li><code class="inline">:update_action</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - The update action to use when building forms for data. Only necessary if you supply the <code class="inline">data</code> key.</li><li><code class="inline">:data</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - The current value or values that should have update forms built by default.<br/>You can also provide a single argument function that will return the data based on the
data of the parent form. This is important for multiple nesting levels of <code class="inline">:list</code> type
forms, because the data depends on which parent is being rendered.</li></ul>
  </section>
</section>
<section class="detail" id="form_to_create_case/1">

    <span id="form_to_create_case/0"></span>

  <div class="detail-header">
    <a href="#form_to_create_case/1" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">form_to_create_case(form_opts \\ [])</h1>


    </div>
  </div>

  <section class="docstring">

<p>Creates a form for the create action on EhsEnforcement.Enforcement.Case.</p><h2 id="form_to_create_case/1-options" class="section-heading"><a href="#form_to_create_case/1-options" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Options</span></h2><ul><li><code class="inline">:actor</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - The actor performing the action. Passed through to the underlying action.</li><li><code class="inline">:scope</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A value that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.Scope.html"><code class="inline">Ash.Scope</code></a> protocol, for passing around actor/tenant/context in a single value. See <a href="https://hexdocs.pm/ash/3.7.6/Ash.Scope.html"><code class="inline">Ash.Scope</code></a> for more.</li><li><code class="inline">:forms</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">keyword/0</code></a>) - Nested form configurations. See <code class="inline">for_create/3</code> &quot;Nested Form Options&quot; docs for more.</li><li><code class="inline">:warn_on_unhandled_errors?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Warns on any errors that don't match the form pattern of <code class="inline">{:field, &quot;message&quot;, [replacement: :vars]}</code> or implement the <a href="https://hexdocs.pm/ash_phoenix/2.3.17/AshPhoenix.FormData.Error.html"><code class="inline">AshPhoenix.FormData.Error</code></a> protocol. The default value is <code class="inline">true</code>.</li><li><code class="inline">:domain</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - The domain to use when calling the action.</li><li><code class="inline">:as</code> (<a href="https://hexdocs.pm/elixir/String.html#t:t/0"><code class="inline">String.t/0</code></a>) - The name of the form in the submitted params. You will need to pull the form params out using this key. The default value is <code class="inline">&quot;form&quot;</code>.</li><li><code class="inline">:id</code> (<a href="https://hexdocs.pm/elixir/String.html#t:t/0"><code class="inline">String.t/0</code></a>) - The html id of the form. Defaults to the value of <code class="inline">:as</code> if provided, otherwise &quot;form&quot;</li><li><code class="inline">:transform_errors</code> - Allows for manual manipulation and transformation of errors. You may prefer <code class="inline">post_process_errors</code> as a simpler API.<br/>If possible, try to implement <a href="https://hexdocs.pm/ash_phoenix/2.3.17/AshPhoenix.FormData.Error.html"><code class="inline">AshPhoenix.FormData.Error</code></a> for the error (if it as a custom one, for example).
If that isn't possible, you can provide this function which will get the changeset and the error, and should
return a list of ash phoenix formatted errors, e.g <code class="inline">[{field :: atom, message :: String.t(), substituations :: Keyword.t()}]</code><br/>Example:<pre><code class="makeup elixir" translate="no"><span class="nc">AshPhoenix.Form</span><span class="o">.</span><span class="n">for_create</span><span class="p" data-group-id="1549947035-1">(</span><span class="n">...</span><span class="p">,</span><span class="w"> </span><span class="ss">transform_errors</span><span class="p">:</span><span class="w"> </span><span class="k" data-group-id="1549947035-2">fn</span><span class="w">
  </span><span class="c">_changeset</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="1549947035-3">%{</span><span class="ss">field</span><span class="p">:</span><span class="w"> </span><span class="ss">:field1</span><span class="p" data-group-id="1549947035-3">}</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">error</span><span class="w"> </span><span class="o">-&gt;</span><span class="w">
    </span><span class="p" data-group-id="1549947035-4">%{</span><span class="n">error</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="ss">field</span><span class="p">:</span><span class="w"> </span><span class="ss">:field2</span><span class="p" data-group-id="1549947035-4">}</span><span class="w">  
  </span><span class="c">_changeset</span><span class="p">,</span><span class="w"> </span><span class="n">error</span><span class="w"> </span><span class="o">-&gt;</span><span class="w">
    </span><span class="n">error</span><span class="w">
</span><span class="k" data-group-id="1549947035-2">end</span></code></pre></li><li><code class="inline">:post_process_errors</code> - Allows for post-processing of errors after they have been converted to the standard triple format.<br/>This function receives the form, the path to the form, and an error triple <code class="inline">{field, message, vars}</code>.
It should return either a modified triple or <code class="inline">nil</code> to filter out the error.<br/>This is useful for:<ul><li>Filtering out certain errors based on custom criteria</li><li>Remapping field names from one field to another</li><li>Modifying error messages or variables<br/>Example:<pre><code class="makeup elixir" translate="no"><span class="nc">AshPhoenix.Form</span><span class="o">.</span><span class="n">for_create</span><span class="p" data-group-id="7409982995-1">(</span><span class="n">...</span><span class="p">,</span><span class="w"> </span><span class="ss">post_process_errors</span><span class="p">:</span><span class="w"> </span><span class="k" data-group-id="7409982995-2">fn</span><span class="w"> </span><span class="n">form</span><span class="p">,</span><span class="w"> </span><span class="c">_path</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="7409982995-3">{</span><span class="n">field</span><span class="p">,</span><span class="w"> </span><span class="n">message</span><span class="p">,</span><span class="w"> </span><span class="n">vars</span><span class="p" data-group-id="7409982995-3">}</span><span class="w"> </span><span class="o">-&gt;</span><span class="w">
</span><span class="k">case</span><span class="w"> </span><span class="n">field</span><span class="w"> </span><span class="k" data-group-id="7409982995-4">do</span><span class="w">
  </span><span class="ss">:status</span><span class="w"> </span><span class="o">-&gt;</span><span class="w">
    </span><span class="c1"># hide these errors</span><span class="w">
    </span><span class="no">nil</span><span class="w">  
  </span><span class="n">field</span><span class="w"> </span><span class="ow">when</span><span class="w"> </span><span class="n">field</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="p" data-group-id="7409982995-5">[</span><span class="ss">:currency</span><span class="p">,</span><span class="w"> </span><span class="ss">:amount</span><span class="p" data-group-id="7409982995-5">]</span><span class="w"> </span><span class="o">-&gt;</span><span class="w">
    </span><span class="c1"># remap the field, and replace the error message</span><span class="w">
    </span><span class="p" data-group-id="7409982995-6">{</span><span class="ss">:money</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;please enter a real money amount&quot;</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="7409982995-7">[</span><span class="p" data-group-id="7409982995-7">]</span><span class="p" data-group-id="7409982995-6">}</span><span class="w">  
  </span><span class="n">field</span><span class="w"> </span><span class="o">-&gt;</span><span class="w">
    </span><span class="c1"># leave the others unchanged</span><span class="w">
    </span><span class="p" data-group-id="7409982995-8">{</span><span class="n">field</span><span class="p">,</span><span class="w"> </span><span class="n">message</span><span class="p">,</span><span class="w"> </span><span class="n">vars</span><span class="p" data-group-id="7409982995-8">}</span><span class="w">
</span><span class="k" data-group-id="7409982995-4">end</span><span class="w">
</span><span class="k" data-group-id="7409982995-2">end</span><span class="p" data-group-id="7409982995-1">)</span></code></pre></li></ul></li><li><code class="inline">:prepare_source</code> - A 1-argument function the receives the initial changeset (or query) and makes any relevant changes to it.
This can be used to do things like:  <ul><li>Set default argument values before the validations are run using <a href="https://hexdocs.pm/ash/3.7.6/Ash.Changeset.html#set_arguments/2"><code class="inline">Ash.Changeset.set_arguments/2</code></a> or <a href="https://hexdocs.pm/ash/3.7.6/Ash.Changeset.html#set_argument/3"><code class="inline">Ash.Changeset.set_argument/3</code></a></li><li>Set changeset context</li><li>Do any other pre-processing on the changeset</li></ul></li><li><code class="inline">:prepare_params</code> - A 2-argument function that receives the params map and the :validate atom and should return prepared params.
Called before the form is validated.</li><li><code class="inline">:transform_params</code> - A function for post-processing the form parameters before they are used for changeset validation/submission.
Use a 3-argument function to pattern match on the <a href="https://hexdocs.pm/ash_phoenix/2.3.17/AshPhoenix.Form.html"><code class="inline">AshPhoenix.Form</code></a> struct.</li><li><code class="inline">:method</code> (<a href="https://hexdocs.pm/elixir/String.html#t:t/0"><code class="inline">String.t/0</code></a>) - The http method to associate with the form. Defaults to <code class="inline">post</code> for creates, and <code class="inline">put</code> for everything else.</li><li><code class="inline">:exclude_fields_if_empty</code> - These fields will be ignored if they are empty strings.<br/>This list of fields supports dead view forms. When a form is submitted from dead view
empty fields are submitted as empty strings. This is problematic for fields that allow_nil
or those that have default values.</li><li><code class="inline">:tenant</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - The current tenant. Passed through to the underlying action.</li><li><code class="inline">:params</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - The initial parameters to use for the form. This is useful for setting up a form with default values. The default value is <code class="inline">%{}</code>.
Any <em>additional</em> options will be passed to the underlying call to build the source, i.e
<a href="https://hexdocs.pm/ash/3.7.6/Ash.ActionInput.html#for_action/4"><code class="inline">Ash.ActionInput.for_action/4</code></a>, or <code class="inline">Ash.Changeset.for_*</code>. This means you can set things
like the tenant/actor. These will be retained, and provided again when
<code class="inline">Form.submit/3</code> is called.</li></ul><h2 id="form_to_create_case/1-nested-form-options" class="section-heading"><a href="#form_to_create_case/1-nested-form-options" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Nested Form Options</span></h2><ul><li><code class="inline">:type</code> - The cardinality of the nested form - <code class="inline">:list</code> or <code class="inline">:single</code>. Valid values are :list, :single The default value is <code class="inline">:single</code>.</li><li><code class="inline">:sparse?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If the nested form is <code class="inline">sparse</code>, the form won't expect all inputs for all forms to be present.<br/>Has no effect if the type is <code class="inline">:single</code>.<br/>Normally, if you leave some forms out of a list of nested forms, they are removed from the parameters
passed to the action. For example, if you had a <code class="inline">post</code> with two comments <code class="inline">[%Comment{id: 1}, %Comment{id: 2}]</code>
and you passed down params like <code class="inline">comments[0][id]=1&amp;comments[1][text]=new_text</code>, we would remove the second comment
from the input parameters, resulting in the following being passed into the action: <code class="inline">%{&quot;comments&quot; =&gt; [%{&quot;id&quot; =&gt; 1, &quot;text&quot; =&gt; &quot;new&quot;}]}</code>.
By setting it to sparse, you have to explicitly use <code class="inline">remove_form</code> for that removal to happen. So in the same scenario above, the parameters
that would be sent would actually be <code class="inline">%{&quot;comments&quot; =&gt; [%{&quot;id&quot; =&gt; 1, &quot;text&quot; =&gt; &quot;new&quot;}, %{&quot;id&quot; =&gt; 2}]}</code>.<br/>One major difference with <code class="inline">sparse?</code> is that the form actually ignores the <em>index</em> provided, e.g <code class="inline">comments[0]...</code>, and instead uses the primary
key e.g <code class="inline">comments[0][id]</code> to match which form is being updated. This prevents you from having to find the index of the specific item you want to
update. Which could be very gnarly on deeply nested forms. If there is no primary key, or the primary key does not match anything, it is treated
as a new form.<br/>REMEMBER: You need to use <code class="inline">Phoenix.Components.inputs_for</code> to render the nested forms, or manually add hidden inputs using
<code class="inline">hidden_inputs_for</code> (or <code class="inline">HiddenInputs</code> if using Surface) for the id to be automatically placed into the form.</li><li><code class="inline">:forms</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">keyword/0</code></a>) - Forms nested inside the current nesting level in all cases.</li><li><code class="inline">:for_type</code> - What action types the form applies for. Leave blank for it to apply to all action types. Valid values are :read, :create, :update</li><li><code class="inline">:merge?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - When building parameters, this input will be merged with its parent input. This allows for combining multiple forms into a single input. The default value is <code class="inline">false</code>.</li><li><code class="inline">:for</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - When creating parameters for the action, the key that the forms should be gathered into. Defaults to the key used to configure the nested form. Ignored if <code class="inline">merge?</code> is <code class="inline">true</code>.</li><li><code class="inline">:resource</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - The resource of the nested forms. Unnecessary if you are providing the <code class="inline">data</code> key, and not adding additional forms to this path.</li><li><code class="inline">:create_action</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - The create action to use when building new forms. Only necessary if you want to use <code class="inline">add_form/3</code> with this path.</li><li><code class="inline">:update_action</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - The update action to use when building forms for data. Only necessary if you supply the <code class="inline">data</code> key.</li><li><code class="inline">:data</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - The current value or values that should have update forms built by default.<br/>You can also provide a single argument function that will return the data based on the
data of the parent form. This is important for multiple nesting levels of <code class="inline">:list</code> type
forms, because the data depends on which parent is being rendered.</li></ul>
  </section>
</section>
<section class="detail" id="form_to_create_legislation/1">

    <span id="form_to_create_legislation/0"></span>

  <div class="detail-header">
    <a href="#form_to_create_legislation/1" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">form_to_create_legislation(form_opts \\ [])</h1>


    </div>
  </div>

  <section class="docstring">

<p>Creates a form for the create action on EhsEnforcement.Enforcement.Legislation.</p><h2 id="form_to_create_legislation/1-options" class="section-heading"><a href="#form_to_create_legislation/1-options" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Options</span></h2><ul><li><code class="inline">:actor</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - The actor performing the action. Passed through to the underlying action.</li><li><code class="inline">:scope</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A value that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.Scope.html"><code class="inline">Ash.Scope</code></a> protocol, for passing around actor/tenant/context in a single value. See <a href="https://hexdocs.pm/ash/3.7.6/Ash.Scope.html"><code class="inline">Ash.Scope</code></a> for more.</li><li><code class="inline">:forms</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">keyword/0</code></a>) - Nested form configurations. See <code class="inline">for_create/3</code> &quot;Nested Form Options&quot; docs for more.</li><li><code class="inline">:warn_on_unhandled_errors?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Warns on any errors that don't match the form pattern of <code class="inline">{:field, &quot;message&quot;, [replacement: :vars]}</code> or implement the <a href="https://hexdocs.pm/ash_phoenix/2.3.17/AshPhoenix.FormData.Error.html"><code class="inline">AshPhoenix.FormData.Error</code></a> protocol. The default value is <code class="inline">true</code>.</li><li><code class="inline">:domain</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - The domain to use when calling the action.</li><li><code class="inline">:as</code> (<a href="https://hexdocs.pm/elixir/String.html#t:t/0"><code class="inline">String.t/0</code></a>) - The name of the form in the submitted params. You will need to pull the form params out using this key. The default value is <code class="inline">&quot;form&quot;</code>.</li><li><code class="inline">:id</code> (<a href="https://hexdocs.pm/elixir/String.html#t:t/0"><code class="inline">String.t/0</code></a>) - The html id of the form. Defaults to the value of <code class="inline">:as</code> if provided, otherwise &quot;form&quot;</li><li><code class="inline">:transform_errors</code> - Allows for manual manipulation and transformation of errors. You may prefer <code class="inline">post_process_errors</code> as a simpler API.<br/>If possible, try to implement <a href="https://hexdocs.pm/ash_phoenix/2.3.17/AshPhoenix.FormData.Error.html"><code class="inline">AshPhoenix.FormData.Error</code></a> for the error (if it as a custom one, for example).
If that isn't possible, you can provide this function which will get the changeset and the error, and should
return a list of ash phoenix formatted errors, e.g <code class="inline">[{field :: atom, message :: String.t(), substituations :: Keyword.t()}]</code><br/>Example:<pre><code class="makeup elixir" translate="no"><span class="nc">AshPhoenix.Form</span><span class="o">.</span><span class="n">for_create</span><span class="p" data-group-id="0078263052-1">(</span><span class="n">...</span><span class="p">,</span><span class="w"> </span><span class="ss">transform_errors</span><span class="p">:</span><span class="w"> </span><span class="k" data-group-id="0078263052-2">fn</span><span class="w">
  </span><span class="c">_changeset</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="0078263052-3">%{</span><span class="ss">field</span><span class="p">:</span><span class="w"> </span><span class="ss">:field1</span><span class="p" data-group-id="0078263052-3">}</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">error</span><span class="w"> </span><span class="o">-&gt;</span><span class="w">
    </span><span class="p" data-group-id="0078263052-4">%{</span><span class="n">error</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="ss">field</span><span class="p">:</span><span class="w"> </span><span class="ss">:field2</span><span class="p" data-group-id="0078263052-4">}</span><span class="w">  
  </span><span class="c">_changeset</span><span class="p">,</span><span class="w"> </span><span class="n">error</span><span class="w"> </span><span class="o">-&gt;</span><span class="w">
    </span><span class="n">error</span><span class="w">
</span><span class="k" data-group-id="0078263052-2">end</span></code></pre></li><li><code class="inline">:post_process_errors</code> - Allows for post-processing of errors after they have been converted to the standard triple format.<br/>This function receives the form, the path to the form, and an error triple <code class="inline">{field, message, vars}</code>.
It should return either a modified triple or <code class="inline">nil</code> to filter out the error.<br/>This is useful for:<ul><li>Filtering out certain errors based on custom criteria</li><li>Remapping field names from one field to another</li><li>Modifying error messages or variables<br/>Example:<pre><code class="makeup elixir" translate="no"><span class="nc">AshPhoenix.Form</span><span class="o">.</span><span class="n">for_create</span><span class="p" data-group-id="0245487839-1">(</span><span class="n">...</span><span class="p">,</span><span class="w"> </span><span class="ss">post_process_errors</span><span class="p">:</span><span class="w"> </span><span class="k" data-group-id="0245487839-2">fn</span><span class="w"> </span><span class="n">form</span><span class="p">,</span><span class="w"> </span><span class="c">_path</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="0245487839-3">{</span><span class="n">field</span><span class="p">,</span><span class="w"> </span><span class="n">message</span><span class="p">,</span><span class="w"> </span><span class="n">vars</span><span class="p" data-group-id="0245487839-3">}</span><span class="w"> </span><span class="o">-&gt;</span><span class="w">
</span><span class="k">case</span><span class="w"> </span><span class="n">field</span><span class="w"> </span><span class="k" data-group-id="0245487839-4">do</span><span class="w">
  </span><span class="ss">:status</span><span class="w"> </span><span class="o">-&gt;</span><span class="w">
    </span><span class="c1"># hide these errors</span><span class="w">
    </span><span class="no">nil</span><span class="w">  
  </span><span class="n">field</span><span class="w"> </span><span class="ow">when</span><span class="w"> </span><span class="n">field</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="p" data-group-id="0245487839-5">[</span><span class="ss">:currency</span><span class="p">,</span><span class="w"> </span><span class="ss">:amount</span><span class="p" data-group-id="0245487839-5">]</span><span class="w"> </span><span class="o">-&gt;</span><span class="w">
    </span><span class="c1"># remap the field, and replace the error message</span><span class="w">
    </span><span class="p" data-group-id="0245487839-6">{</span><span class="ss">:money</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;please enter a real money amount&quot;</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="0245487839-7">[</span><span class="p" data-group-id="0245487839-7">]</span><span class="p" data-group-id="0245487839-6">}</span><span class="w">  
  </span><span class="n">field</span><span class="w"> </span><span class="o">-&gt;</span><span class="w">
    </span><span class="c1"># leave the others unchanged</span><span class="w">
    </span><span class="p" data-group-id="0245487839-8">{</span><span class="n">field</span><span class="p">,</span><span class="w"> </span><span class="n">message</span><span class="p">,</span><span class="w"> </span><span class="n">vars</span><span class="p" data-group-id="0245487839-8">}</span><span class="w">
</span><span class="k" data-group-id="0245487839-4">end</span><span class="w">
</span><span class="k" data-group-id="0245487839-2">end</span><span class="p" data-group-id="0245487839-1">)</span></code></pre></li></ul></li><li><code class="inline">:prepare_source</code> - A 1-argument function the receives the initial changeset (or query) and makes any relevant changes to it.
This can be used to do things like:  <ul><li>Set default argument values before the validations are run using <a href="https://hexdocs.pm/ash/3.7.6/Ash.Changeset.html#set_arguments/2"><code class="inline">Ash.Changeset.set_arguments/2</code></a> or <a href="https://hexdocs.pm/ash/3.7.6/Ash.Changeset.html#set_argument/3"><code class="inline">Ash.Changeset.set_argument/3</code></a></li><li>Set changeset context</li><li>Do any other pre-processing on the changeset</li></ul></li><li><code class="inline">:prepare_params</code> - A 2-argument function that receives the params map and the :validate atom and should return prepared params.
Called before the form is validated.</li><li><code class="inline">:transform_params</code> - A function for post-processing the form parameters before they are used for changeset validation/submission.
Use a 3-argument function to pattern match on the <a href="https://hexdocs.pm/ash_phoenix/2.3.17/AshPhoenix.Form.html"><code class="inline">AshPhoenix.Form</code></a> struct.</li><li><code class="inline">:method</code> (<a href="https://hexdocs.pm/elixir/String.html#t:t/0"><code class="inline">String.t/0</code></a>) - The http method to associate with the form. Defaults to <code class="inline">post</code> for creates, and <code class="inline">put</code> for everything else.</li><li><code class="inline">:exclude_fields_if_empty</code> - These fields will be ignored if they are empty strings.<br/>This list of fields supports dead view forms. When a form is submitted from dead view
empty fields are submitted as empty strings. This is problematic for fields that allow_nil
or those that have default values.</li><li><code class="inline">:tenant</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - The current tenant. Passed through to the underlying action.</li><li><code class="inline">:params</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - The initial parameters to use for the form. This is useful for setting up a form with default values. The default value is <code class="inline">%{}</code>.
Any <em>additional</em> options will be passed to the underlying call to build the source, i.e
<a href="https://hexdocs.pm/ash/3.7.6/Ash.ActionInput.html#for_action/4"><code class="inline">Ash.ActionInput.for_action/4</code></a>, or <code class="inline">Ash.Changeset.for_*</code>. This means you can set things
like the tenant/actor. These will be retained, and provided again when
<code class="inline">Form.submit/3</code> is called.</li></ul><h2 id="form_to_create_legislation/1-nested-form-options" class="section-heading"><a href="#form_to_create_legislation/1-nested-form-options" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Nested Form Options</span></h2><ul><li><code class="inline">:type</code> - The cardinality of the nested form - <code class="inline">:list</code> or <code class="inline">:single</code>. Valid values are :list, :single The default value is <code class="inline">:single</code>.</li><li><code class="inline">:sparse?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If the nested form is <code class="inline">sparse</code>, the form won't expect all inputs for all forms to be present.<br/>Has no effect if the type is <code class="inline">:single</code>.<br/>Normally, if you leave some forms out of a list of nested forms, they are removed from the parameters
passed to the action. For example, if you had a <code class="inline">post</code> with two comments <code class="inline">[%Comment{id: 1}, %Comment{id: 2}]</code>
and you passed down params like <code class="inline">comments[0][id]=1&amp;comments[1][text]=new_text</code>, we would remove the second comment
from the input parameters, resulting in the following being passed into the action: <code class="inline">%{&quot;comments&quot; =&gt; [%{&quot;id&quot; =&gt; 1, &quot;text&quot; =&gt; &quot;new&quot;}]}</code>.
By setting it to sparse, you have to explicitly use <code class="inline">remove_form</code> for that removal to happen. So in the same scenario above, the parameters
that would be sent would actually be <code class="inline">%{&quot;comments&quot; =&gt; [%{&quot;id&quot; =&gt; 1, &quot;text&quot; =&gt; &quot;new&quot;}, %{&quot;id&quot; =&gt; 2}]}</code>.<br/>One major difference with <code class="inline">sparse?</code> is that the form actually ignores the <em>index</em> provided, e.g <code class="inline">comments[0]...</code>, and instead uses the primary
key e.g <code class="inline">comments[0][id]</code> to match which form is being updated. This prevents you from having to find the index of the specific item you want to
update. Which could be very gnarly on deeply nested forms. If there is no primary key, or the primary key does not match anything, it is treated
as a new form.<br/>REMEMBER: You need to use <code class="inline">Phoenix.Components.inputs_for</code> to render the nested forms, or manually add hidden inputs using
<code class="inline">hidden_inputs_for</code> (or <code class="inline">HiddenInputs</code> if using Surface) for the id to be automatically placed into the form.</li><li><code class="inline">:forms</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">keyword/0</code></a>) - Forms nested inside the current nesting level in all cases.</li><li><code class="inline">:for_type</code> - What action types the form applies for. Leave blank for it to apply to all action types. Valid values are :read, :create, :update</li><li><code class="inline">:merge?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - When building parameters, this input will be merged with its parent input. This allows for combining multiple forms into a single input. The default value is <code class="inline">false</code>.</li><li><code class="inline">:for</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - When creating parameters for the action, the key that the forms should be gathered into. Defaults to the key used to configure the nested form. Ignored if <code class="inline">merge?</code> is <code class="inline">true</code>.</li><li><code class="inline">:resource</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - The resource of the nested forms. Unnecessary if you are providing the <code class="inline">data</code> key, and not adding additional forms to this path.</li><li><code class="inline">:create_action</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - The create action to use when building new forms. Only necessary if you want to use <code class="inline">add_form/3</code> with this path.</li><li><code class="inline">:update_action</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - The update action to use when building forms for data. Only necessary if you supply the <code class="inline">data</code> key.</li><li><code class="inline">:data</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - The current value or values that should have update forms built by default.<br/>You can also provide a single argument function that will return the data based on the
data of the parent form. This is important for multiple nesting levels of <code class="inline">:list</code> type
forms, because the data depends on which parent is being rendered.</li></ul>
  </section>
</section>
<section class="detail" id="form_to_create_notice/1">

    <span id="form_to_create_notice/0"></span>

  <div class="detail-header">
    <a href="#form_to_create_notice/1" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">form_to_create_notice(form_opts \\ [])</h1>


    </div>
  </div>

  <section class="docstring">

<p>Creates a form for the create action on EhsEnforcement.Enforcement.Notice.</p><h2 id="form_to_create_notice/1-options" class="section-heading"><a href="#form_to_create_notice/1-options" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Options</span></h2><ul><li><code class="inline">:actor</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - The actor performing the action. Passed through to the underlying action.</li><li><code class="inline">:scope</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A value that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.Scope.html"><code class="inline">Ash.Scope</code></a> protocol, for passing around actor/tenant/context in a single value. See <a href="https://hexdocs.pm/ash/3.7.6/Ash.Scope.html"><code class="inline">Ash.Scope</code></a> for more.</li><li><code class="inline">:forms</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">keyword/0</code></a>) - Nested form configurations. See <code class="inline">for_create/3</code> &quot;Nested Form Options&quot; docs for more.</li><li><code class="inline">:warn_on_unhandled_errors?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Warns on any errors that don't match the form pattern of <code class="inline">{:field, &quot;message&quot;, [replacement: :vars]}</code> or implement the <a href="https://hexdocs.pm/ash_phoenix/2.3.17/AshPhoenix.FormData.Error.html"><code class="inline">AshPhoenix.FormData.Error</code></a> protocol. The default value is <code class="inline">true</code>.</li><li><code class="inline">:domain</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - The domain to use when calling the action.</li><li><code class="inline">:as</code> (<a href="https://hexdocs.pm/elixir/String.html#t:t/0"><code class="inline">String.t/0</code></a>) - The name of the form in the submitted params. You will need to pull the form params out using this key. The default value is <code class="inline">&quot;form&quot;</code>.</li><li><code class="inline">:id</code> (<a href="https://hexdocs.pm/elixir/String.html#t:t/0"><code class="inline">String.t/0</code></a>) - The html id of the form. Defaults to the value of <code class="inline">:as</code> if provided, otherwise &quot;form&quot;</li><li><code class="inline">:transform_errors</code> - Allows for manual manipulation and transformation of errors. You may prefer <code class="inline">post_process_errors</code> as a simpler API.<br/>If possible, try to implement <a href="https://hexdocs.pm/ash_phoenix/2.3.17/AshPhoenix.FormData.Error.html"><code class="inline">AshPhoenix.FormData.Error</code></a> for the error (if it as a custom one, for example).
If that isn't possible, you can provide this function which will get the changeset and the error, and should
return a list of ash phoenix formatted errors, e.g <code class="inline">[{field :: atom, message :: String.t(), substituations :: Keyword.t()}]</code><br/>Example:<pre><code class="makeup elixir" translate="no"><span class="nc">AshPhoenix.Form</span><span class="o">.</span><span class="n">for_create</span><span class="p" data-group-id="5620800156-1">(</span><span class="n">...</span><span class="p">,</span><span class="w"> </span><span class="ss">transform_errors</span><span class="p">:</span><span class="w"> </span><span class="k" data-group-id="5620800156-2">fn</span><span class="w">
  </span><span class="c">_changeset</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="5620800156-3">%{</span><span class="ss">field</span><span class="p">:</span><span class="w"> </span><span class="ss">:field1</span><span class="p" data-group-id="5620800156-3">}</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">error</span><span class="w"> </span><span class="o">-&gt;</span><span class="w">
    </span><span class="p" data-group-id="5620800156-4">%{</span><span class="n">error</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="ss">field</span><span class="p">:</span><span class="w"> </span><span class="ss">:field2</span><span class="p" data-group-id="5620800156-4">}</span><span class="w">  
  </span><span class="c">_changeset</span><span class="p">,</span><span class="w"> </span><span class="n">error</span><span class="w"> </span><span class="o">-&gt;</span><span class="w">
    </span><span class="n">error</span><span class="w">
</span><span class="k" data-group-id="5620800156-2">end</span></code></pre></li><li><code class="inline">:post_process_errors</code> - Allows for post-processing of errors after they have been converted to the standard triple format.<br/>This function receives the form, the path to the form, and an error triple <code class="inline">{field, message, vars}</code>.
It should return either a modified triple or <code class="inline">nil</code> to filter out the error.<br/>This is useful for:<ul><li>Filtering out certain errors based on custom criteria</li><li>Remapping field names from one field to another</li><li>Modifying error messages or variables<br/>Example:<pre><code class="makeup elixir" translate="no"><span class="nc">AshPhoenix.Form</span><span class="o">.</span><span class="n">for_create</span><span class="p" data-group-id="4641821515-1">(</span><span class="n">...</span><span class="p">,</span><span class="w"> </span><span class="ss">post_process_errors</span><span class="p">:</span><span class="w"> </span><span class="k" data-group-id="4641821515-2">fn</span><span class="w"> </span><span class="n">form</span><span class="p">,</span><span class="w"> </span><span class="c">_path</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="4641821515-3">{</span><span class="n">field</span><span class="p">,</span><span class="w"> </span><span class="n">message</span><span class="p">,</span><span class="w"> </span><span class="n">vars</span><span class="p" data-group-id="4641821515-3">}</span><span class="w"> </span><span class="o">-&gt;</span><span class="w">
</span><span class="k">case</span><span class="w"> </span><span class="n">field</span><span class="w"> </span><span class="k" data-group-id="4641821515-4">do</span><span class="w">
  </span><span class="ss">:status</span><span class="w"> </span><span class="o">-&gt;</span><span class="w">
    </span><span class="c1"># hide these errors</span><span class="w">
    </span><span class="no">nil</span><span class="w">  
  </span><span class="n">field</span><span class="w"> </span><span class="ow">when</span><span class="w"> </span><span class="n">field</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="p" data-group-id="4641821515-5">[</span><span class="ss">:currency</span><span class="p">,</span><span class="w"> </span><span class="ss">:amount</span><span class="p" data-group-id="4641821515-5">]</span><span class="w"> </span><span class="o">-&gt;</span><span class="w">
    </span><span class="c1"># remap the field, and replace the error message</span><span class="w">
    </span><span class="p" data-group-id="4641821515-6">{</span><span class="ss">:money</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;please enter a real money amount&quot;</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="4641821515-7">[</span><span class="p" data-group-id="4641821515-7">]</span><span class="p" data-group-id="4641821515-6">}</span><span class="w">  
  </span><span class="n">field</span><span class="w"> </span><span class="o">-&gt;</span><span class="w">
    </span><span class="c1"># leave the others unchanged</span><span class="w">
    </span><span class="p" data-group-id="4641821515-8">{</span><span class="n">field</span><span class="p">,</span><span class="w"> </span><span class="n">message</span><span class="p">,</span><span class="w"> </span><span class="n">vars</span><span class="p" data-group-id="4641821515-8">}</span><span class="w">
</span><span class="k" data-group-id="4641821515-4">end</span><span class="w">
</span><span class="k" data-group-id="4641821515-2">end</span><span class="p" data-group-id="4641821515-1">)</span></code></pre></li></ul></li><li><code class="inline">:prepare_source</code> - A 1-argument function the receives the initial changeset (or query) and makes any relevant changes to it.
This can be used to do things like:  <ul><li>Set default argument values before the validations are run using <a href="https://hexdocs.pm/ash/3.7.6/Ash.Changeset.html#set_arguments/2"><code class="inline">Ash.Changeset.set_arguments/2</code></a> or <a href="https://hexdocs.pm/ash/3.7.6/Ash.Changeset.html#set_argument/3"><code class="inline">Ash.Changeset.set_argument/3</code></a></li><li>Set changeset context</li><li>Do any other pre-processing on the changeset</li></ul></li><li><code class="inline">:prepare_params</code> - A 2-argument function that receives the params map and the :validate atom and should return prepared params.
Called before the form is validated.</li><li><code class="inline">:transform_params</code> - A function for post-processing the form parameters before they are used for changeset validation/submission.
Use a 3-argument function to pattern match on the <a href="https://hexdocs.pm/ash_phoenix/2.3.17/AshPhoenix.Form.html"><code class="inline">AshPhoenix.Form</code></a> struct.</li><li><code class="inline">:method</code> (<a href="https://hexdocs.pm/elixir/String.html#t:t/0"><code class="inline">String.t/0</code></a>) - The http method to associate with the form. Defaults to <code class="inline">post</code> for creates, and <code class="inline">put</code> for everything else.</li><li><code class="inline">:exclude_fields_if_empty</code> - These fields will be ignored if they are empty strings.<br/>This list of fields supports dead view forms. When a form is submitted from dead view
empty fields are submitted as empty strings. This is problematic for fields that allow_nil
or those that have default values.</li><li><code class="inline">:tenant</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - The current tenant. Passed through to the underlying action.</li><li><code class="inline">:params</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - The initial parameters to use for the form. This is useful for setting up a form with default values. The default value is <code class="inline">%{}</code>.
Any <em>additional</em> options will be passed to the underlying call to build the source, i.e
<a href="https://hexdocs.pm/ash/3.7.6/Ash.ActionInput.html#for_action/4"><code class="inline">Ash.ActionInput.for_action/4</code></a>, or <code class="inline">Ash.Changeset.for_*</code>. This means you can set things
like the tenant/actor. These will be retained, and provided again when
<code class="inline">Form.submit/3</code> is called.</li></ul><h2 id="form_to_create_notice/1-nested-form-options" class="section-heading"><a href="#form_to_create_notice/1-nested-form-options" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Nested Form Options</span></h2><ul><li><code class="inline">:type</code> - The cardinality of the nested form - <code class="inline">:list</code> or <code class="inline">:single</code>. Valid values are :list, :single The default value is <code class="inline">:single</code>.</li><li><code class="inline">:sparse?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If the nested form is <code class="inline">sparse</code>, the form won't expect all inputs for all forms to be present.<br/>Has no effect if the type is <code class="inline">:single</code>.<br/>Normally, if you leave some forms out of a list of nested forms, they are removed from the parameters
passed to the action. For example, if you had a <code class="inline">post</code> with two comments <code class="inline">[%Comment{id: 1}, %Comment{id: 2}]</code>
and you passed down params like <code class="inline">comments[0][id]=1&amp;comments[1][text]=new_text</code>, we would remove the second comment
from the input parameters, resulting in the following being passed into the action: <code class="inline">%{&quot;comments&quot; =&gt; [%{&quot;id&quot; =&gt; 1, &quot;text&quot; =&gt; &quot;new&quot;}]}</code>.
By setting it to sparse, you have to explicitly use <code class="inline">remove_form</code> for that removal to happen. So in the same scenario above, the parameters
that would be sent would actually be <code class="inline">%{&quot;comments&quot; =&gt; [%{&quot;id&quot; =&gt; 1, &quot;text&quot; =&gt; &quot;new&quot;}, %{&quot;id&quot; =&gt; 2}]}</code>.<br/>One major difference with <code class="inline">sparse?</code> is that the form actually ignores the <em>index</em> provided, e.g <code class="inline">comments[0]...</code>, and instead uses the primary
key e.g <code class="inline">comments[0][id]</code> to match which form is being updated. This prevents you from having to find the index of the specific item you want to
update. Which could be very gnarly on deeply nested forms. If there is no primary key, or the primary key does not match anything, it is treated
as a new form.<br/>REMEMBER: You need to use <code class="inline">Phoenix.Components.inputs_for</code> to render the nested forms, or manually add hidden inputs using
<code class="inline">hidden_inputs_for</code> (or <code class="inline">HiddenInputs</code> if using Surface) for the id to be automatically placed into the form.</li><li><code class="inline">:forms</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">keyword/0</code></a>) - Forms nested inside the current nesting level in all cases.</li><li><code class="inline">:for_type</code> - What action types the form applies for. Leave blank for it to apply to all action types. Valid values are :read, :create, :update</li><li><code class="inline">:merge?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - When building parameters, this input will be merged with its parent input. This allows for combining multiple forms into a single input. The default value is <code class="inline">false</code>.</li><li><code class="inline">:for</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - When creating parameters for the action, the key that the forms should be gathered into. Defaults to the key used to configure the nested form. Ignored if <code class="inline">merge?</code> is <code class="inline">true</code>.</li><li><code class="inline">:resource</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - The resource of the nested forms. Unnecessary if you are providing the <code class="inline">data</code> key, and not adding additional forms to this path.</li><li><code class="inline">:create_action</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - The create action to use when building new forms. Only necessary if you want to use <code class="inline">add_form/3</code> with this path.</li><li><code class="inline">:update_action</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - The update action to use when building forms for data. Only necessary if you supply the <code class="inline">data</code> key.</li><li><code class="inline">:data</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - The current value or values that should have update forms built by default.<br/>You can also provide a single argument function that will return the data based on the
data of the parent form. This is important for multiple nesting levels of <code class="inline">:list</code> type
forms, because the data depends on which parent is being rendered.</li></ul>
  </section>
</section>
<section class="detail" id="form_to_create_offence/1">

    <span id="form_to_create_offence/0"></span>

  <div class="detail-header">
    <a href="#form_to_create_offence/1" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">form_to_create_offence(form_opts \\ [])</h1>


    </div>
  </div>

  <section class="docstring">

<p>Creates a form for the create action on EhsEnforcement.Enforcement.Offence.</p><h2 id="form_to_create_offence/1-options" class="section-heading"><a href="#form_to_create_offence/1-options" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Options</span></h2><ul><li><code class="inline">:actor</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - The actor performing the action. Passed through to the underlying action.</li><li><code class="inline">:scope</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A value that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.Scope.html"><code class="inline">Ash.Scope</code></a> protocol, for passing around actor/tenant/context in a single value. See <a href="https://hexdocs.pm/ash/3.7.6/Ash.Scope.html"><code class="inline">Ash.Scope</code></a> for more.</li><li><code class="inline">:forms</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">keyword/0</code></a>) - Nested form configurations. See <code class="inline">for_create/3</code> &quot;Nested Form Options&quot; docs for more.</li><li><code class="inline">:warn_on_unhandled_errors?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Warns on any errors that don't match the form pattern of <code class="inline">{:field, &quot;message&quot;, [replacement: :vars]}</code> or implement the <a href="https://hexdocs.pm/ash_phoenix/2.3.17/AshPhoenix.FormData.Error.html"><code class="inline">AshPhoenix.FormData.Error</code></a> protocol. The default value is <code class="inline">true</code>.</li><li><code class="inline">:domain</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - The domain to use when calling the action.</li><li><code class="inline">:as</code> (<a href="https://hexdocs.pm/elixir/String.html#t:t/0"><code class="inline">String.t/0</code></a>) - The name of the form in the submitted params. You will need to pull the form params out using this key. The default value is <code class="inline">&quot;form&quot;</code>.</li><li><code class="inline">:id</code> (<a href="https://hexdocs.pm/elixir/String.html#t:t/0"><code class="inline">String.t/0</code></a>) - The html id of the form. Defaults to the value of <code class="inline">:as</code> if provided, otherwise &quot;form&quot;</li><li><code class="inline">:transform_errors</code> - Allows for manual manipulation and transformation of errors. You may prefer <code class="inline">post_process_errors</code> as a simpler API.<br/>If possible, try to implement <a href="https://hexdocs.pm/ash_phoenix/2.3.17/AshPhoenix.FormData.Error.html"><code class="inline">AshPhoenix.FormData.Error</code></a> for the error (if it as a custom one, for example).
If that isn't possible, you can provide this function which will get the changeset and the error, and should
return a list of ash phoenix formatted errors, e.g <code class="inline">[{field :: atom, message :: String.t(), substituations :: Keyword.t()}]</code><br/>Example:<pre><code class="makeup elixir" translate="no"><span class="nc">AshPhoenix.Form</span><span class="o">.</span><span class="n">for_create</span><span class="p" data-group-id="6746381285-1">(</span><span class="n">...</span><span class="p">,</span><span class="w"> </span><span class="ss">transform_errors</span><span class="p">:</span><span class="w"> </span><span class="k" data-group-id="6746381285-2">fn</span><span class="w">
  </span><span class="c">_changeset</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="6746381285-3">%{</span><span class="ss">field</span><span class="p">:</span><span class="w"> </span><span class="ss">:field1</span><span class="p" data-group-id="6746381285-3">}</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">error</span><span class="w"> </span><span class="o">-&gt;</span><span class="w">
    </span><span class="p" data-group-id="6746381285-4">%{</span><span class="n">error</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="ss">field</span><span class="p">:</span><span class="w"> </span><span class="ss">:field2</span><span class="p" data-group-id="6746381285-4">}</span><span class="w">  
  </span><span class="c">_changeset</span><span class="p">,</span><span class="w"> </span><span class="n">error</span><span class="w"> </span><span class="o">-&gt;</span><span class="w">
    </span><span class="n">error</span><span class="w">
</span><span class="k" data-group-id="6746381285-2">end</span></code></pre></li><li><code class="inline">:post_process_errors</code> - Allows for post-processing of errors after they have been converted to the standard triple format.<br/>This function receives the form, the path to the form, and an error triple <code class="inline">{field, message, vars}</code>.
It should return either a modified triple or <code class="inline">nil</code> to filter out the error.<br/>This is useful for:<ul><li>Filtering out certain errors based on custom criteria</li><li>Remapping field names from one field to another</li><li>Modifying error messages or variables<br/>Example:<pre><code class="makeup elixir" translate="no"><span class="nc">AshPhoenix.Form</span><span class="o">.</span><span class="n">for_create</span><span class="p" data-group-id="0732583213-1">(</span><span class="n">...</span><span class="p">,</span><span class="w"> </span><span class="ss">post_process_errors</span><span class="p">:</span><span class="w"> </span><span class="k" data-group-id="0732583213-2">fn</span><span class="w"> </span><span class="n">form</span><span class="p">,</span><span class="w"> </span><span class="c">_path</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="0732583213-3">{</span><span class="n">field</span><span class="p">,</span><span class="w"> </span><span class="n">message</span><span class="p">,</span><span class="w"> </span><span class="n">vars</span><span class="p" data-group-id="0732583213-3">}</span><span class="w"> </span><span class="o">-&gt;</span><span class="w">
</span><span class="k">case</span><span class="w"> </span><span class="n">field</span><span class="w"> </span><span class="k" data-group-id="0732583213-4">do</span><span class="w">
  </span><span class="ss">:status</span><span class="w"> </span><span class="o">-&gt;</span><span class="w">
    </span><span class="c1"># hide these errors</span><span class="w">
    </span><span class="no">nil</span><span class="w">  
  </span><span class="n">field</span><span class="w"> </span><span class="ow">when</span><span class="w"> </span><span class="n">field</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="p" data-group-id="0732583213-5">[</span><span class="ss">:currency</span><span class="p">,</span><span class="w"> </span><span class="ss">:amount</span><span class="p" data-group-id="0732583213-5">]</span><span class="w"> </span><span class="o">-&gt;</span><span class="w">
    </span><span class="c1"># remap the field, and replace the error message</span><span class="w">
    </span><span class="p" data-group-id="0732583213-6">{</span><span class="ss">:money</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;please enter a real money amount&quot;</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="0732583213-7">[</span><span class="p" data-group-id="0732583213-7">]</span><span class="p" data-group-id="0732583213-6">}</span><span class="w">  
  </span><span class="n">field</span><span class="w"> </span><span class="o">-&gt;</span><span class="w">
    </span><span class="c1"># leave the others unchanged</span><span class="w">
    </span><span class="p" data-group-id="0732583213-8">{</span><span class="n">field</span><span class="p">,</span><span class="w"> </span><span class="n">message</span><span class="p">,</span><span class="w"> </span><span class="n">vars</span><span class="p" data-group-id="0732583213-8">}</span><span class="w">
</span><span class="k" data-group-id="0732583213-4">end</span><span class="w">
</span><span class="k" data-group-id="0732583213-2">end</span><span class="p" data-group-id="0732583213-1">)</span></code></pre></li></ul></li><li><code class="inline">:prepare_source</code> - A 1-argument function the receives the initial changeset (or query) and makes any relevant changes to it.
This can be used to do things like:  <ul><li>Set default argument values before the validations are run using <a href="https://hexdocs.pm/ash/3.7.6/Ash.Changeset.html#set_arguments/2"><code class="inline">Ash.Changeset.set_arguments/2</code></a> or <a href="https://hexdocs.pm/ash/3.7.6/Ash.Changeset.html#set_argument/3"><code class="inline">Ash.Changeset.set_argument/3</code></a></li><li>Set changeset context</li><li>Do any other pre-processing on the changeset</li></ul></li><li><code class="inline">:prepare_params</code> - A 2-argument function that receives the params map and the :validate atom and should return prepared params.
Called before the form is validated.</li><li><code class="inline">:transform_params</code> - A function for post-processing the form parameters before they are used for changeset validation/submission.
Use a 3-argument function to pattern match on the <a href="https://hexdocs.pm/ash_phoenix/2.3.17/AshPhoenix.Form.html"><code class="inline">AshPhoenix.Form</code></a> struct.</li><li><code class="inline">:method</code> (<a href="https://hexdocs.pm/elixir/String.html#t:t/0"><code class="inline">String.t/0</code></a>) - The http method to associate with the form. Defaults to <code class="inline">post</code> for creates, and <code class="inline">put</code> for everything else.</li><li><code class="inline">:exclude_fields_if_empty</code> - These fields will be ignored if they are empty strings.<br/>This list of fields supports dead view forms. When a form is submitted from dead view
empty fields are submitted as empty strings. This is problematic for fields that allow_nil
or those that have default values.</li><li><code class="inline">:tenant</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - The current tenant. Passed through to the underlying action.</li><li><code class="inline">:params</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - The initial parameters to use for the form. This is useful for setting up a form with default values. The default value is <code class="inline">%{}</code>.
Any <em>additional</em> options will be passed to the underlying call to build the source, i.e
<a href="https://hexdocs.pm/ash/3.7.6/Ash.ActionInput.html#for_action/4"><code class="inline">Ash.ActionInput.for_action/4</code></a>, or <code class="inline">Ash.Changeset.for_*</code>. This means you can set things
like the tenant/actor. These will be retained, and provided again when
<code class="inline">Form.submit/3</code> is called.</li></ul><h2 id="form_to_create_offence/1-nested-form-options" class="section-heading"><a href="#form_to_create_offence/1-nested-form-options" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Nested Form Options</span></h2><ul><li><code class="inline">:type</code> - The cardinality of the nested form - <code class="inline">:list</code> or <code class="inline">:single</code>. Valid values are :list, :single The default value is <code class="inline">:single</code>.</li><li><code class="inline">:sparse?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If the nested form is <code class="inline">sparse</code>, the form won't expect all inputs for all forms to be present.<br/>Has no effect if the type is <code class="inline">:single</code>.<br/>Normally, if you leave some forms out of a list of nested forms, they are removed from the parameters
passed to the action. For example, if you had a <code class="inline">post</code> with two comments <code class="inline">[%Comment{id: 1}, %Comment{id: 2}]</code>
and you passed down params like <code class="inline">comments[0][id]=1&amp;comments[1][text]=new_text</code>, we would remove the second comment
from the input parameters, resulting in the following being passed into the action: <code class="inline">%{&quot;comments&quot; =&gt; [%{&quot;id&quot; =&gt; 1, &quot;text&quot; =&gt; &quot;new&quot;}]}</code>.
By setting it to sparse, you have to explicitly use <code class="inline">remove_form</code> for that removal to happen. So in the same scenario above, the parameters
that would be sent would actually be <code class="inline">%{&quot;comments&quot; =&gt; [%{&quot;id&quot; =&gt; 1, &quot;text&quot; =&gt; &quot;new&quot;}, %{&quot;id&quot; =&gt; 2}]}</code>.<br/>One major difference with <code class="inline">sparse?</code> is that the form actually ignores the <em>index</em> provided, e.g <code class="inline">comments[0]...</code>, and instead uses the primary
key e.g <code class="inline">comments[0][id]</code> to match which form is being updated. This prevents you from having to find the index of the specific item you want to
update. Which could be very gnarly on deeply nested forms. If there is no primary key, or the primary key does not match anything, it is treated
as a new form.<br/>REMEMBER: You need to use <code class="inline">Phoenix.Components.inputs_for</code> to render the nested forms, or manually add hidden inputs using
<code class="inline">hidden_inputs_for</code> (or <code class="inline">HiddenInputs</code> if using Surface) for the id to be automatically placed into the form.</li><li><code class="inline">:forms</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">keyword/0</code></a>) - Forms nested inside the current nesting level in all cases.</li><li><code class="inline">:for_type</code> - What action types the form applies for. Leave blank for it to apply to all action types. Valid values are :read, :create, :update</li><li><code class="inline">:merge?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - When building parameters, this input will be merged with its parent input. This allows for combining multiple forms into a single input. The default value is <code class="inline">false</code>.</li><li><code class="inline">:for</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - When creating parameters for the action, the key that the forms should be gathered into. Defaults to the key used to configure the nested form. Ignored if <code class="inline">merge?</code> is <code class="inline">true</code>.</li><li><code class="inline">:resource</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - The resource of the nested forms. Unnecessary if you are providing the <code class="inline">data</code> key, and not adding additional forms to this path.</li><li><code class="inline">:create_action</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - The create action to use when building new forms. Only necessary if you want to use <code class="inline">add_form/3</code> with this path.</li><li><code class="inline">:update_action</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - The update action to use when building forms for data. Only necessary if you supply the <code class="inline">data</code> key.</li><li><code class="inline">:data</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - The current value or values that should have update forms built by default.<br/>You can also provide a single argument function that will return the data based on the
data of the parent form. This is important for multiple nesting levels of <code class="inline">:list</code> type
forms, because the data depends on which parent is being rendered.</li></ul>
  </section>
</section>
<section class="detail" id="form_to_create_offender/1">

    <span id="form_to_create_offender/0"></span>

  <div class="detail-header">
    <a href="#form_to_create_offender/1" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">form_to_create_offender(form_opts \\ [])</h1>


    </div>
  </div>

  <section class="docstring">

<p>Creates a form for the create action on EhsEnforcement.Enforcement.Offender.</p><h2 id="form_to_create_offender/1-options" class="section-heading"><a href="#form_to_create_offender/1-options" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Options</span></h2><ul><li><code class="inline">:actor</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - The actor performing the action. Passed through to the underlying action.</li><li><code class="inline">:scope</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A value that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.Scope.html"><code class="inline">Ash.Scope</code></a> protocol, for passing around actor/tenant/context in a single value. See <a href="https://hexdocs.pm/ash/3.7.6/Ash.Scope.html"><code class="inline">Ash.Scope</code></a> for more.</li><li><code class="inline">:forms</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">keyword/0</code></a>) - Nested form configurations. See <code class="inline">for_create/3</code> &quot;Nested Form Options&quot; docs for more.</li><li><code class="inline">:warn_on_unhandled_errors?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Warns on any errors that don't match the form pattern of <code class="inline">{:field, &quot;message&quot;, [replacement: :vars]}</code> or implement the <a href="https://hexdocs.pm/ash_phoenix/2.3.17/AshPhoenix.FormData.Error.html"><code class="inline">AshPhoenix.FormData.Error</code></a> protocol. The default value is <code class="inline">true</code>.</li><li><code class="inline">:domain</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - The domain to use when calling the action.</li><li><code class="inline">:as</code> (<a href="https://hexdocs.pm/elixir/String.html#t:t/0"><code class="inline">String.t/0</code></a>) - The name of the form in the submitted params. You will need to pull the form params out using this key. The default value is <code class="inline">&quot;form&quot;</code>.</li><li><code class="inline">:id</code> (<a href="https://hexdocs.pm/elixir/String.html#t:t/0"><code class="inline">String.t/0</code></a>) - The html id of the form. Defaults to the value of <code class="inline">:as</code> if provided, otherwise &quot;form&quot;</li><li><code class="inline">:transform_errors</code> - Allows for manual manipulation and transformation of errors. You may prefer <code class="inline">post_process_errors</code> as a simpler API.<br/>If possible, try to implement <a href="https://hexdocs.pm/ash_phoenix/2.3.17/AshPhoenix.FormData.Error.html"><code class="inline">AshPhoenix.FormData.Error</code></a> for the error (if it as a custom one, for example).
If that isn't possible, you can provide this function which will get the changeset and the error, and should
return a list of ash phoenix formatted errors, e.g <code class="inline">[{field :: atom, message :: String.t(), substituations :: Keyword.t()}]</code><br/>Example:<pre><code class="makeup elixir" translate="no"><span class="nc">AshPhoenix.Form</span><span class="o">.</span><span class="n">for_create</span><span class="p" data-group-id="5473999522-1">(</span><span class="n">...</span><span class="p">,</span><span class="w"> </span><span class="ss">transform_errors</span><span class="p">:</span><span class="w"> </span><span class="k" data-group-id="5473999522-2">fn</span><span class="w">
  </span><span class="c">_changeset</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="5473999522-3">%{</span><span class="ss">field</span><span class="p">:</span><span class="w"> </span><span class="ss">:field1</span><span class="p" data-group-id="5473999522-3">}</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">error</span><span class="w"> </span><span class="o">-&gt;</span><span class="w">
    </span><span class="p" data-group-id="5473999522-4">%{</span><span class="n">error</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="ss">field</span><span class="p">:</span><span class="w"> </span><span class="ss">:field2</span><span class="p" data-group-id="5473999522-4">}</span><span class="w">  
  </span><span class="c">_changeset</span><span class="p">,</span><span class="w"> </span><span class="n">error</span><span class="w"> </span><span class="o">-&gt;</span><span class="w">
    </span><span class="n">error</span><span class="w">
</span><span class="k" data-group-id="5473999522-2">end</span></code></pre></li><li><code class="inline">:post_process_errors</code> - Allows for post-processing of errors after they have been converted to the standard triple format.<br/>This function receives the form, the path to the form, and an error triple <code class="inline">{field, message, vars}</code>.
It should return either a modified triple or <code class="inline">nil</code> to filter out the error.<br/>This is useful for:<ul><li>Filtering out certain errors based on custom criteria</li><li>Remapping field names from one field to another</li><li>Modifying error messages or variables<br/>Example:<pre><code class="makeup elixir" translate="no"><span class="nc">AshPhoenix.Form</span><span class="o">.</span><span class="n">for_create</span><span class="p" data-group-id="5490325702-1">(</span><span class="n">...</span><span class="p">,</span><span class="w"> </span><span class="ss">post_process_errors</span><span class="p">:</span><span class="w"> </span><span class="k" data-group-id="5490325702-2">fn</span><span class="w"> </span><span class="n">form</span><span class="p">,</span><span class="w"> </span><span class="c">_path</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="5490325702-3">{</span><span class="n">field</span><span class="p">,</span><span class="w"> </span><span class="n">message</span><span class="p">,</span><span class="w"> </span><span class="n">vars</span><span class="p" data-group-id="5490325702-3">}</span><span class="w"> </span><span class="o">-&gt;</span><span class="w">
</span><span class="k">case</span><span class="w"> </span><span class="n">field</span><span class="w"> </span><span class="k" data-group-id="5490325702-4">do</span><span class="w">
  </span><span class="ss">:status</span><span class="w"> </span><span class="o">-&gt;</span><span class="w">
    </span><span class="c1"># hide these errors</span><span class="w">
    </span><span class="no">nil</span><span class="w">  
  </span><span class="n">field</span><span class="w"> </span><span class="ow">when</span><span class="w"> </span><span class="n">field</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="p" data-group-id="5490325702-5">[</span><span class="ss">:currency</span><span class="p">,</span><span class="w"> </span><span class="ss">:amount</span><span class="p" data-group-id="5490325702-5">]</span><span class="w"> </span><span class="o">-&gt;</span><span class="w">
    </span><span class="c1"># remap the field, and replace the error message</span><span class="w">
    </span><span class="p" data-group-id="5490325702-6">{</span><span class="ss">:money</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;please enter a real money amount&quot;</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="5490325702-7">[</span><span class="p" data-group-id="5490325702-7">]</span><span class="p" data-group-id="5490325702-6">}</span><span class="w">  
  </span><span class="n">field</span><span class="w"> </span><span class="o">-&gt;</span><span class="w">
    </span><span class="c1"># leave the others unchanged</span><span class="w">
    </span><span class="p" data-group-id="5490325702-8">{</span><span class="n">field</span><span class="p">,</span><span class="w"> </span><span class="n">message</span><span class="p">,</span><span class="w"> </span><span class="n">vars</span><span class="p" data-group-id="5490325702-8">}</span><span class="w">
</span><span class="k" data-group-id="5490325702-4">end</span><span class="w">
</span><span class="k" data-group-id="5490325702-2">end</span><span class="p" data-group-id="5490325702-1">)</span></code></pre></li></ul></li><li><code class="inline">:prepare_source</code> - A 1-argument function the receives the initial changeset (or query) and makes any relevant changes to it.
This can be used to do things like:  <ul><li>Set default argument values before the validations are run using <a href="https://hexdocs.pm/ash/3.7.6/Ash.Changeset.html#set_arguments/2"><code class="inline">Ash.Changeset.set_arguments/2</code></a> or <a href="https://hexdocs.pm/ash/3.7.6/Ash.Changeset.html#set_argument/3"><code class="inline">Ash.Changeset.set_argument/3</code></a></li><li>Set changeset context</li><li>Do any other pre-processing on the changeset</li></ul></li><li><code class="inline">:prepare_params</code> - A 2-argument function that receives the params map and the :validate atom and should return prepared params.
Called before the form is validated.</li><li><code class="inline">:transform_params</code> - A function for post-processing the form parameters before they are used for changeset validation/submission.
Use a 3-argument function to pattern match on the <a href="https://hexdocs.pm/ash_phoenix/2.3.17/AshPhoenix.Form.html"><code class="inline">AshPhoenix.Form</code></a> struct.</li><li><code class="inline">:method</code> (<a href="https://hexdocs.pm/elixir/String.html#t:t/0"><code class="inline">String.t/0</code></a>) - The http method to associate with the form. Defaults to <code class="inline">post</code> for creates, and <code class="inline">put</code> for everything else.</li><li><code class="inline">:exclude_fields_if_empty</code> - These fields will be ignored if they are empty strings.<br/>This list of fields supports dead view forms. When a form is submitted from dead view
empty fields are submitted as empty strings. This is problematic for fields that allow_nil
or those that have default values.</li><li><code class="inline">:tenant</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - The current tenant. Passed through to the underlying action.</li><li><code class="inline">:params</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - The initial parameters to use for the form. This is useful for setting up a form with default values. The default value is <code class="inline">%{}</code>.
Any <em>additional</em> options will be passed to the underlying call to build the source, i.e
<a href="https://hexdocs.pm/ash/3.7.6/Ash.ActionInput.html#for_action/4"><code class="inline">Ash.ActionInput.for_action/4</code></a>, or <code class="inline">Ash.Changeset.for_*</code>. This means you can set things
like the tenant/actor. These will be retained, and provided again when
<code class="inline">Form.submit/3</code> is called.</li></ul><h2 id="form_to_create_offender/1-nested-form-options" class="section-heading"><a href="#form_to_create_offender/1-nested-form-options" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Nested Form Options</span></h2><ul><li><code class="inline">:type</code> - The cardinality of the nested form - <code class="inline">:list</code> or <code class="inline">:single</code>. Valid values are :list, :single The default value is <code class="inline">:single</code>.</li><li><code class="inline">:sparse?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If the nested form is <code class="inline">sparse</code>, the form won't expect all inputs for all forms to be present.<br/>Has no effect if the type is <code class="inline">:single</code>.<br/>Normally, if you leave some forms out of a list of nested forms, they are removed from the parameters
passed to the action. For example, if you had a <code class="inline">post</code> with two comments <code class="inline">[%Comment{id: 1}, %Comment{id: 2}]</code>
and you passed down params like <code class="inline">comments[0][id]=1&amp;comments[1][text]=new_text</code>, we would remove the second comment
from the input parameters, resulting in the following being passed into the action: <code class="inline">%{&quot;comments&quot; =&gt; [%{&quot;id&quot; =&gt; 1, &quot;text&quot; =&gt; &quot;new&quot;}]}</code>.
By setting it to sparse, you have to explicitly use <code class="inline">remove_form</code> for that removal to happen. So in the same scenario above, the parameters
that would be sent would actually be <code class="inline">%{&quot;comments&quot; =&gt; [%{&quot;id&quot; =&gt; 1, &quot;text&quot; =&gt; &quot;new&quot;}, %{&quot;id&quot; =&gt; 2}]}</code>.<br/>One major difference with <code class="inline">sparse?</code> is that the form actually ignores the <em>index</em> provided, e.g <code class="inline">comments[0]...</code>, and instead uses the primary
key e.g <code class="inline">comments[0][id]</code> to match which form is being updated. This prevents you from having to find the index of the specific item you want to
update. Which could be very gnarly on deeply nested forms. If there is no primary key, or the primary key does not match anything, it is treated
as a new form.<br/>REMEMBER: You need to use <code class="inline">Phoenix.Components.inputs_for</code> to render the nested forms, or manually add hidden inputs using
<code class="inline">hidden_inputs_for</code> (or <code class="inline">HiddenInputs</code> if using Surface) for the id to be automatically placed into the form.</li><li><code class="inline">:forms</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">keyword/0</code></a>) - Forms nested inside the current nesting level in all cases.</li><li><code class="inline">:for_type</code> - What action types the form applies for. Leave blank for it to apply to all action types. Valid values are :read, :create, :update</li><li><code class="inline">:merge?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - When building parameters, this input will be merged with its parent input. This allows for combining multiple forms into a single input. The default value is <code class="inline">false</code>.</li><li><code class="inline">:for</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - When creating parameters for the action, the key that the forms should be gathered into. Defaults to the key used to configure the nested form. Ignored if <code class="inline">merge?</code> is <code class="inline">true</code>.</li><li><code class="inline">:resource</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - The resource of the nested forms. Unnecessary if you are providing the <code class="inline">data</code> key, and not adding additional forms to this path.</li><li><code class="inline">:create_action</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - The create action to use when building new forms. Only necessary if you want to use <code class="inline">add_form/3</code> with this path.</li><li><code class="inline">:update_action</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - The update action to use when building forms for data. Only necessary if you supply the <code class="inline">data</code> key.</li><li><code class="inline">:data</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - The current value or values that should have update forms built by default.<br/>You can also provide a single argument function that will return the data based on the
data of the parent form. This is important for multiple nesting levels of <code class="inline">:list</code> type
forms, because the data depends on which parent is being rendered.</li></ul>
  </section>
</section>
<section class="detail" id="form_to_destroy_case/2">

    <span id="form_to_destroy_case/1"></span>

  <div class="detail-header">
    <a href="#form_to_destroy_case/2" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">form_to_destroy_case(record, form_opts \\ [])</h1>


    </div>
  </div>

  <section class="docstring">

<p>Creates a form for the destroy action on EhsEnforcement.Enforcement.Case.</p><h2 id="form_to_destroy_case/2-options" class="section-heading"><a href="#form_to_destroy_case/2-options" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Options</span></h2><ul><li><code class="inline">:actor</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - The actor performing the action. Passed through to the underlying action.</li><li><code class="inline">:scope</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A value that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.Scope.html"><code class="inline">Ash.Scope</code></a> protocol, for passing around actor/tenant/context in a single value. See <a href="https://hexdocs.pm/ash/3.7.6/Ash.Scope.html"><code class="inline">Ash.Scope</code></a> for more.</li><li><code class="inline">:forms</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">keyword/0</code></a>) - Nested form configurations. See <code class="inline">for_create/3</code> &quot;Nested Form Options&quot; docs for more.</li><li><code class="inline">:warn_on_unhandled_errors?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Warns on any errors that don't match the form pattern of <code class="inline">{:field, &quot;message&quot;, [replacement: :vars]}</code> or implement the <a href="https://hexdocs.pm/ash_phoenix/2.3.17/AshPhoenix.FormData.Error.html"><code class="inline">AshPhoenix.FormData.Error</code></a> protocol. The default value is <code class="inline">true</code>.</li><li><code class="inline">:domain</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - The domain to use when calling the action.</li><li><code class="inline">:as</code> (<a href="https://hexdocs.pm/elixir/String.html#t:t/0"><code class="inline">String.t/0</code></a>) - The name of the form in the submitted params. You will need to pull the form params out using this key. The default value is <code class="inline">&quot;form&quot;</code>.</li><li><code class="inline">:id</code> (<a href="https://hexdocs.pm/elixir/String.html#t:t/0"><code class="inline">String.t/0</code></a>) - The html id of the form. Defaults to the value of <code class="inline">:as</code> if provided, otherwise &quot;form&quot;</li><li><code class="inline">:transform_errors</code> - Allows for manual manipulation and transformation of errors. You may prefer <code class="inline">post_process_errors</code> as a simpler API.<br/>If possible, try to implement <a href="https://hexdocs.pm/ash_phoenix/2.3.17/AshPhoenix.FormData.Error.html"><code class="inline">AshPhoenix.FormData.Error</code></a> for the error (if it as a custom one, for example).
If that isn't possible, you can provide this function which will get the changeset and the error, and should
return a list of ash phoenix formatted errors, e.g <code class="inline">[{field :: atom, message :: String.t(), substituations :: Keyword.t()}]</code><br/>Example:<pre><code class="makeup elixir" translate="no"><span class="nc">AshPhoenix.Form</span><span class="o">.</span><span class="n">for_create</span><span class="p" data-group-id="4276360301-1">(</span><span class="n">...</span><span class="p">,</span><span class="w"> </span><span class="ss">transform_errors</span><span class="p">:</span><span class="w"> </span><span class="k" data-group-id="4276360301-2">fn</span><span class="w">
  </span><span class="c">_changeset</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="4276360301-3">%{</span><span class="ss">field</span><span class="p">:</span><span class="w"> </span><span class="ss">:field1</span><span class="p" data-group-id="4276360301-3">}</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">error</span><span class="w"> </span><span class="o">-&gt;</span><span class="w">
    </span><span class="p" data-group-id="4276360301-4">%{</span><span class="n">error</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="ss">field</span><span class="p">:</span><span class="w"> </span><span class="ss">:field2</span><span class="p" data-group-id="4276360301-4">}</span><span class="w">  
  </span><span class="c">_changeset</span><span class="p">,</span><span class="w"> </span><span class="n">error</span><span class="w"> </span><span class="o">-&gt;</span><span class="w">
    </span><span class="n">error</span><span class="w">
</span><span class="k" data-group-id="4276360301-2">end</span></code></pre></li><li><code class="inline">:post_process_errors</code> - Allows for post-processing of errors after they have been converted to the standard triple format.<br/>This function receives the form, the path to the form, and an error triple <code class="inline">{field, message, vars}</code>.
It should return either a modified triple or <code class="inline">nil</code> to filter out the error.<br/>This is useful for:<ul><li>Filtering out certain errors based on custom criteria</li><li>Remapping field names from one field to another</li><li>Modifying error messages or variables<br/>Example:<pre><code class="makeup elixir" translate="no"><span class="nc">AshPhoenix.Form</span><span class="o">.</span><span class="n">for_create</span><span class="p" data-group-id="7315733116-1">(</span><span class="n">...</span><span class="p">,</span><span class="w"> </span><span class="ss">post_process_errors</span><span class="p">:</span><span class="w"> </span><span class="k" data-group-id="7315733116-2">fn</span><span class="w"> </span><span class="n">form</span><span class="p">,</span><span class="w"> </span><span class="c">_path</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="7315733116-3">{</span><span class="n">field</span><span class="p">,</span><span class="w"> </span><span class="n">message</span><span class="p">,</span><span class="w"> </span><span class="n">vars</span><span class="p" data-group-id="7315733116-3">}</span><span class="w"> </span><span class="o">-&gt;</span><span class="w">
</span><span class="k">case</span><span class="w"> </span><span class="n">field</span><span class="w"> </span><span class="k" data-group-id="7315733116-4">do</span><span class="w">
  </span><span class="ss">:status</span><span class="w"> </span><span class="o">-&gt;</span><span class="w">
    </span><span class="c1"># hide these errors</span><span class="w">
    </span><span class="no">nil</span><span class="w">  
  </span><span class="n">field</span><span class="w"> </span><span class="ow">when</span><span class="w"> </span><span class="n">field</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="p" data-group-id="7315733116-5">[</span><span class="ss">:currency</span><span class="p">,</span><span class="w"> </span><span class="ss">:amount</span><span class="p" data-group-id="7315733116-5">]</span><span class="w"> </span><span class="o">-&gt;</span><span class="w">
    </span><span class="c1"># remap the field, and replace the error message</span><span class="w">
    </span><span class="p" data-group-id="7315733116-6">{</span><span class="ss">:money</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;please enter a real money amount&quot;</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="7315733116-7">[</span><span class="p" data-group-id="7315733116-7">]</span><span class="p" data-group-id="7315733116-6">}</span><span class="w">  
  </span><span class="n">field</span><span class="w"> </span><span class="o">-&gt;</span><span class="w">
    </span><span class="c1"># leave the others unchanged</span><span class="w">
    </span><span class="p" data-group-id="7315733116-8">{</span><span class="n">field</span><span class="p">,</span><span class="w"> </span><span class="n">message</span><span class="p">,</span><span class="w"> </span><span class="n">vars</span><span class="p" data-group-id="7315733116-8">}</span><span class="w">
</span><span class="k" data-group-id="7315733116-4">end</span><span class="w">
</span><span class="k" data-group-id="7315733116-2">end</span><span class="p" data-group-id="7315733116-1">)</span></code></pre></li></ul></li><li><code class="inline">:prepare_source</code> - A 1-argument function the receives the initial changeset (or query) and makes any relevant changes to it.
This can be used to do things like:  <ul><li>Set default argument values before the validations are run using <a href="https://hexdocs.pm/ash/3.7.6/Ash.Changeset.html#set_arguments/2"><code class="inline">Ash.Changeset.set_arguments/2</code></a> or <a href="https://hexdocs.pm/ash/3.7.6/Ash.Changeset.html#set_argument/3"><code class="inline">Ash.Changeset.set_argument/3</code></a></li><li>Set changeset context</li><li>Do any other pre-processing on the changeset</li></ul></li><li><code class="inline">:prepare_params</code> - A 2-argument function that receives the params map and the :validate atom and should return prepared params.
Called before the form is validated.</li><li><code class="inline">:transform_params</code> - A function for post-processing the form parameters before they are used for changeset validation/submission.
Use a 3-argument function to pattern match on the <a href="https://hexdocs.pm/ash_phoenix/2.3.17/AshPhoenix.Form.html"><code class="inline">AshPhoenix.Form</code></a> struct.</li><li><code class="inline">:method</code> (<a href="https://hexdocs.pm/elixir/String.html#t:t/0"><code class="inline">String.t/0</code></a>) - The http method to associate with the form. Defaults to <code class="inline">post</code> for creates, and <code class="inline">put</code> for everything else.</li><li><code class="inline">:exclude_fields_if_empty</code> - These fields will be ignored if they are empty strings.<br/>This list of fields supports dead view forms. When a form is submitted from dead view
empty fields are submitted as empty strings. This is problematic for fields that allow_nil
or those that have default values.</li><li><code class="inline">:tenant</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - The current tenant. Passed through to the underlying action.</li><li><code class="inline">:params</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - The initial parameters to use for the form. This is useful for setting up a form with default values. The default value is <code class="inline">%{}</code>.
Any <em>additional</em> options will be passed to the underlying call to build the source, i.e
<a href="https://hexdocs.pm/ash/3.7.6/Ash.ActionInput.html#for_action/4"><code class="inline">Ash.ActionInput.for_action/4</code></a>, or <code class="inline">Ash.Changeset.for_*</code>. This means you can set things
like the tenant/actor. These will be retained, and provided again when
<code class="inline">Form.submit/3</code> is called.</li></ul><h2 id="form_to_destroy_case/2-nested-form-options" class="section-heading"><a href="#form_to_destroy_case/2-nested-form-options" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Nested Form Options</span></h2><ul><li><code class="inline">:type</code> - The cardinality of the nested form - <code class="inline">:list</code> or <code class="inline">:single</code>. Valid values are :list, :single The default value is <code class="inline">:single</code>.</li><li><code class="inline">:sparse?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If the nested form is <code class="inline">sparse</code>, the form won't expect all inputs for all forms to be present.<br/>Has no effect if the type is <code class="inline">:single</code>.<br/>Normally, if you leave some forms out of a list of nested forms, they are removed from the parameters
passed to the action. For example, if you had a <code class="inline">post</code> with two comments <code class="inline">[%Comment{id: 1}, %Comment{id: 2}]</code>
and you passed down params like <code class="inline">comments[0][id]=1&amp;comments[1][text]=new_text</code>, we would remove the second comment
from the input parameters, resulting in the following being passed into the action: <code class="inline">%{&quot;comments&quot; =&gt; [%{&quot;id&quot; =&gt; 1, &quot;text&quot; =&gt; &quot;new&quot;}]}</code>.
By setting it to sparse, you have to explicitly use <code class="inline">remove_form</code> for that removal to happen. So in the same scenario above, the parameters
that would be sent would actually be <code class="inline">%{&quot;comments&quot; =&gt; [%{&quot;id&quot; =&gt; 1, &quot;text&quot; =&gt; &quot;new&quot;}, %{&quot;id&quot; =&gt; 2}]}</code>.<br/>One major difference with <code class="inline">sparse?</code> is that the form actually ignores the <em>index</em> provided, e.g <code class="inline">comments[0]...</code>, and instead uses the primary
key e.g <code class="inline">comments[0][id]</code> to match which form is being updated. This prevents you from having to find the index of the specific item you want to
update. Which could be very gnarly on deeply nested forms. If there is no primary key, or the primary key does not match anything, it is treated
as a new form.<br/>REMEMBER: You need to use <code class="inline">Phoenix.Components.inputs_for</code> to render the nested forms, or manually add hidden inputs using
<code class="inline">hidden_inputs_for</code> (or <code class="inline">HiddenInputs</code> if using Surface) for the id to be automatically placed into the form.</li><li><code class="inline">:forms</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">keyword/0</code></a>) - Forms nested inside the current nesting level in all cases.</li><li><code class="inline">:for_type</code> - What action types the form applies for. Leave blank for it to apply to all action types. Valid values are :read, :create, :update</li><li><code class="inline">:merge?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - When building parameters, this input will be merged with its parent input. This allows for combining multiple forms into a single input. The default value is <code class="inline">false</code>.</li><li><code class="inline">:for</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - When creating parameters for the action, the key that the forms should be gathered into. Defaults to the key used to configure the nested form. Ignored if <code class="inline">merge?</code> is <code class="inline">true</code>.</li><li><code class="inline">:resource</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - The resource of the nested forms. Unnecessary if you are providing the <code class="inline">data</code> key, and not adding additional forms to this path.</li><li><code class="inline">:create_action</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - The create action to use when building new forms. Only necessary if you want to use <code class="inline">add_form/3</code> with this path.</li><li><code class="inline">:update_action</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - The update action to use when building forms for data. Only necessary if you supply the <code class="inline">data</code> key.</li><li><code class="inline">:data</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - The current value or values that should have update forms built by default.<br/>You can also provide a single argument function that will return the data based on the
data of the parent form. This is important for multiple nesting levels of <code class="inline">:list</code> type
forms, because the data depends on which parent is being rendered.</li></ul>
  </section>
</section>
<section class="detail" id="form_to_destroy_legislation/2">

    <span id="form_to_destroy_legislation/1"></span>

  <div class="detail-header">
    <a href="#form_to_destroy_legislation/2" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">form_to_destroy_legislation(record, form_opts \\ [])</h1>


    </div>
  </div>

  <section class="docstring">

<p>Creates a form for the destroy action on EhsEnforcement.Enforcement.Legislation.</p><h2 id="form_to_destroy_legislation/2-options" class="section-heading"><a href="#form_to_destroy_legislation/2-options" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Options</span></h2><ul><li><code class="inline">:actor</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - The actor performing the action. Passed through to the underlying action.</li><li><code class="inline">:scope</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A value that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.Scope.html"><code class="inline">Ash.Scope</code></a> protocol, for passing around actor/tenant/context in a single value. See <a href="https://hexdocs.pm/ash/3.7.6/Ash.Scope.html"><code class="inline">Ash.Scope</code></a> for more.</li><li><code class="inline">:forms</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">keyword/0</code></a>) - Nested form configurations. See <code class="inline">for_create/3</code> &quot;Nested Form Options&quot; docs for more.</li><li><code class="inline">:warn_on_unhandled_errors?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Warns on any errors that don't match the form pattern of <code class="inline">{:field, &quot;message&quot;, [replacement: :vars]}</code> or implement the <a href="https://hexdocs.pm/ash_phoenix/2.3.17/AshPhoenix.FormData.Error.html"><code class="inline">AshPhoenix.FormData.Error</code></a> protocol. The default value is <code class="inline">true</code>.</li><li><code class="inline">:domain</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - The domain to use when calling the action.</li><li><code class="inline">:as</code> (<a href="https://hexdocs.pm/elixir/String.html#t:t/0"><code class="inline">String.t/0</code></a>) - The name of the form in the submitted params. You will need to pull the form params out using this key. The default value is <code class="inline">&quot;form&quot;</code>.</li><li><code class="inline">:id</code> (<a href="https://hexdocs.pm/elixir/String.html#t:t/0"><code class="inline">String.t/0</code></a>) - The html id of the form. Defaults to the value of <code class="inline">:as</code> if provided, otherwise &quot;form&quot;</li><li><code class="inline">:transform_errors</code> - Allows for manual manipulation and transformation of errors. You may prefer <code class="inline">post_process_errors</code> as a simpler API.<br/>If possible, try to implement <a href="https://hexdocs.pm/ash_phoenix/2.3.17/AshPhoenix.FormData.Error.html"><code class="inline">AshPhoenix.FormData.Error</code></a> for the error (if it as a custom one, for example).
If that isn't possible, you can provide this function which will get the changeset and the error, and should
return a list of ash phoenix formatted errors, e.g <code class="inline">[{field :: atom, message :: String.t(), substituations :: Keyword.t()}]</code><br/>Example:<pre><code class="makeup elixir" translate="no"><span class="nc">AshPhoenix.Form</span><span class="o">.</span><span class="n">for_create</span><span class="p" data-group-id="6720182366-1">(</span><span class="n">...</span><span class="p">,</span><span class="w"> </span><span class="ss">transform_errors</span><span class="p">:</span><span class="w"> </span><span class="k" data-group-id="6720182366-2">fn</span><span class="w">
  </span><span class="c">_changeset</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="6720182366-3">%{</span><span class="ss">field</span><span class="p">:</span><span class="w"> </span><span class="ss">:field1</span><span class="p" data-group-id="6720182366-3">}</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">error</span><span class="w"> </span><span class="o">-&gt;</span><span class="w">
    </span><span class="p" data-group-id="6720182366-4">%{</span><span class="n">error</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="ss">field</span><span class="p">:</span><span class="w"> </span><span class="ss">:field2</span><span class="p" data-group-id="6720182366-4">}</span><span class="w">  
  </span><span class="c">_changeset</span><span class="p">,</span><span class="w"> </span><span class="n">error</span><span class="w"> </span><span class="o">-&gt;</span><span class="w">
    </span><span class="n">error</span><span class="w">
</span><span class="k" data-group-id="6720182366-2">end</span></code></pre></li><li><code class="inline">:post_process_errors</code> - Allows for post-processing of errors after they have been converted to the standard triple format.<br/>This function receives the form, the path to the form, and an error triple <code class="inline">{field, message, vars}</code>.
It should return either a modified triple or <code class="inline">nil</code> to filter out the error.<br/>This is useful for:<ul><li>Filtering out certain errors based on custom criteria</li><li>Remapping field names from one field to another</li><li>Modifying error messages or variables<br/>Example:<pre><code class="makeup elixir" translate="no"><span class="nc">AshPhoenix.Form</span><span class="o">.</span><span class="n">for_create</span><span class="p" data-group-id="4669766098-1">(</span><span class="n">...</span><span class="p">,</span><span class="w"> </span><span class="ss">post_process_errors</span><span class="p">:</span><span class="w"> </span><span class="k" data-group-id="4669766098-2">fn</span><span class="w"> </span><span class="n">form</span><span class="p">,</span><span class="w"> </span><span class="c">_path</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="4669766098-3">{</span><span class="n">field</span><span class="p">,</span><span class="w"> </span><span class="n">message</span><span class="p">,</span><span class="w"> </span><span class="n">vars</span><span class="p" data-group-id="4669766098-3">}</span><span class="w"> </span><span class="o">-&gt;</span><span class="w">
</span><span class="k">case</span><span class="w"> </span><span class="n">field</span><span class="w"> </span><span class="k" data-group-id="4669766098-4">do</span><span class="w">
  </span><span class="ss">:status</span><span class="w"> </span><span class="o">-&gt;</span><span class="w">
    </span><span class="c1"># hide these errors</span><span class="w">
    </span><span class="no">nil</span><span class="w">  
  </span><span class="n">field</span><span class="w"> </span><span class="ow">when</span><span class="w"> </span><span class="n">field</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="p" data-group-id="4669766098-5">[</span><span class="ss">:currency</span><span class="p">,</span><span class="w"> </span><span class="ss">:amount</span><span class="p" data-group-id="4669766098-5">]</span><span class="w"> </span><span class="o">-&gt;</span><span class="w">
    </span><span class="c1"># remap the field, and replace the error message</span><span class="w">
    </span><span class="p" data-group-id="4669766098-6">{</span><span class="ss">:money</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;please enter a real money amount&quot;</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="4669766098-7">[</span><span class="p" data-group-id="4669766098-7">]</span><span class="p" data-group-id="4669766098-6">}</span><span class="w">  
  </span><span class="n">field</span><span class="w"> </span><span class="o">-&gt;</span><span class="w">
    </span><span class="c1"># leave the others unchanged</span><span class="w">
    </span><span class="p" data-group-id="4669766098-8">{</span><span class="n">field</span><span class="p">,</span><span class="w"> </span><span class="n">message</span><span class="p">,</span><span class="w"> </span><span class="n">vars</span><span class="p" data-group-id="4669766098-8">}</span><span class="w">
</span><span class="k" data-group-id="4669766098-4">end</span><span class="w">
</span><span class="k" data-group-id="4669766098-2">end</span><span class="p" data-group-id="4669766098-1">)</span></code></pre></li></ul></li><li><code class="inline">:prepare_source</code> - A 1-argument function the receives the initial changeset (or query) and makes any relevant changes to it.
This can be used to do things like:  <ul><li>Set default argument values before the validations are run using <a href="https://hexdocs.pm/ash/3.7.6/Ash.Changeset.html#set_arguments/2"><code class="inline">Ash.Changeset.set_arguments/2</code></a> or <a href="https://hexdocs.pm/ash/3.7.6/Ash.Changeset.html#set_argument/3"><code class="inline">Ash.Changeset.set_argument/3</code></a></li><li>Set changeset context</li><li>Do any other pre-processing on the changeset</li></ul></li><li><code class="inline">:prepare_params</code> - A 2-argument function that receives the params map and the :validate atom and should return prepared params.
Called before the form is validated.</li><li><code class="inline">:transform_params</code> - A function for post-processing the form parameters before they are used for changeset validation/submission.
Use a 3-argument function to pattern match on the <a href="https://hexdocs.pm/ash_phoenix/2.3.17/AshPhoenix.Form.html"><code class="inline">AshPhoenix.Form</code></a> struct.</li><li><code class="inline">:method</code> (<a href="https://hexdocs.pm/elixir/String.html#t:t/0"><code class="inline">String.t/0</code></a>) - The http method to associate with the form. Defaults to <code class="inline">post</code> for creates, and <code class="inline">put</code> for everything else.</li><li><code class="inline">:exclude_fields_if_empty</code> - These fields will be ignored if they are empty strings.<br/>This list of fields supports dead view forms. When a form is submitted from dead view
empty fields are submitted as empty strings. This is problematic for fields that allow_nil
or those that have default values.</li><li><code class="inline">:tenant</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - The current tenant. Passed through to the underlying action.</li><li><code class="inline">:params</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - The initial parameters to use for the form. This is useful for setting up a form with default values. The default value is <code class="inline">%{}</code>.
Any <em>additional</em> options will be passed to the underlying call to build the source, i.e
<a href="https://hexdocs.pm/ash/3.7.6/Ash.ActionInput.html#for_action/4"><code class="inline">Ash.ActionInput.for_action/4</code></a>, or <code class="inline">Ash.Changeset.for_*</code>. This means you can set things
like the tenant/actor. These will be retained, and provided again when
<code class="inline">Form.submit/3</code> is called.</li></ul><h2 id="form_to_destroy_legislation/2-nested-form-options" class="section-heading"><a href="#form_to_destroy_legislation/2-nested-form-options" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Nested Form Options</span></h2><ul><li><code class="inline">:type</code> - The cardinality of the nested form - <code class="inline">:list</code> or <code class="inline">:single</code>. Valid values are :list, :single The default value is <code class="inline">:single</code>.</li><li><code class="inline">:sparse?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If the nested form is <code class="inline">sparse</code>, the form won't expect all inputs for all forms to be present.<br/>Has no effect if the type is <code class="inline">:single</code>.<br/>Normally, if you leave some forms out of a list of nested forms, they are removed from the parameters
passed to the action. For example, if you had a <code class="inline">post</code> with two comments <code class="inline">[%Comment{id: 1}, %Comment{id: 2}]</code>
and you passed down params like <code class="inline">comments[0][id]=1&amp;comments[1][text]=new_text</code>, we would remove the second comment
from the input parameters, resulting in the following being passed into the action: <code class="inline">%{&quot;comments&quot; =&gt; [%{&quot;id&quot; =&gt; 1, &quot;text&quot; =&gt; &quot;new&quot;}]}</code>.
By setting it to sparse, you have to explicitly use <code class="inline">remove_form</code> for that removal to happen. So in the same scenario above, the parameters
that would be sent would actually be <code class="inline">%{&quot;comments&quot; =&gt; [%{&quot;id&quot; =&gt; 1, &quot;text&quot; =&gt; &quot;new&quot;}, %{&quot;id&quot; =&gt; 2}]}</code>.<br/>One major difference with <code class="inline">sparse?</code> is that the form actually ignores the <em>index</em> provided, e.g <code class="inline">comments[0]...</code>, and instead uses the primary
key e.g <code class="inline">comments[0][id]</code> to match which form is being updated. This prevents you from having to find the index of the specific item you want to
update. Which could be very gnarly on deeply nested forms. If there is no primary key, or the primary key does not match anything, it is treated
as a new form.<br/>REMEMBER: You need to use <code class="inline">Phoenix.Components.inputs_for</code> to render the nested forms, or manually add hidden inputs using
<code class="inline">hidden_inputs_for</code> (or <code class="inline">HiddenInputs</code> if using Surface) for the id to be automatically placed into the form.</li><li><code class="inline">:forms</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">keyword/0</code></a>) - Forms nested inside the current nesting level in all cases.</li><li><code class="inline">:for_type</code> - What action types the form applies for. Leave blank for it to apply to all action types. Valid values are :read, :create, :update</li><li><code class="inline">:merge?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - When building parameters, this input will be merged with its parent input. This allows for combining multiple forms into a single input. The default value is <code class="inline">false</code>.</li><li><code class="inline">:for</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - When creating parameters for the action, the key that the forms should be gathered into. Defaults to the key used to configure the nested form. Ignored if <code class="inline">merge?</code> is <code class="inline">true</code>.</li><li><code class="inline">:resource</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - The resource of the nested forms. Unnecessary if you are providing the <code class="inline">data</code> key, and not adding additional forms to this path.</li><li><code class="inline">:create_action</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - The create action to use when building new forms. Only necessary if you want to use <code class="inline">add_form/3</code> with this path.</li><li><code class="inline">:update_action</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - The update action to use when building forms for data. Only necessary if you supply the <code class="inline">data</code> key.</li><li><code class="inline">:data</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - The current value or values that should have update forms built by default.<br/>You can also provide a single argument function that will return the data based on the
data of the parent form. This is important for multiple nesting levels of <code class="inline">:list</code> type
forms, because the data depends on which parent is being rendered.</li></ul>
  </section>
</section>
<section class="detail" id="form_to_destroy_notice/2">

    <span id="form_to_destroy_notice/1"></span>

  <div class="detail-header">
    <a href="#form_to_destroy_notice/2" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">form_to_destroy_notice(record, form_opts \\ [])</h1>


    </div>
  </div>

  <section class="docstring">

<p>Creates a form for the destroy action on EhsEnforcement.Enforcement.Notice.</p><h2 id="form_to_destroy_notice/2-options" class="section-heading"><a href="#form_to_destroy_notice/2-options" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Options</span></h2><ul><li><code class="inline">:actor</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - The actor performing the action. Passed through to the underlying action.</li><li><code class="inline">:scope</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A value that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.Scope.html"><code class="inline">Ash.Scope</code></a> protocol, for passing around actor/tenant/context in a single value. See <a href="https://hexdocs.pm/ash/3.7.6/Ash.Scope.html"><code class="inline">Ash.Scope</code></a> for more.</li><li><code class="inline">:forms</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">keyword/0</code></a>) - Nested form configurations. See <code class="inline">for_create/3</code> &quot;Nested Form Options&quot; docs for more.</li><li><code class="inline">:warn_on_unhandled_errors?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Warns on any errors that don't match the form pattern of <code class="inline">{:field, &quot;message&quot;, [replacement: :vars]}</code> or implement the <a href="https://hexdocs.pm/ash_phoenix/2.3.17/AshPhoenix.FormData.Error.html"><code class="inline">AshPhoenix.FormData.Error</code></a> protocol. The default value is <code class="inline">true</code>.</li><li><code class="inline">:domain</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - The domain to use when calling the action.</li><li><code class="inline">:as</code> (<a href="https://hexdocs.pm/elixir/String.html#t:t/0"><code class="inline">String.t/0</code></a>) - The name of the form in the submitted params. You will need to pull the form params out using this key. The default value is <code class="inline">&quot;form&quot;</code>.</li><li><code class="inline">:id</code> (<a href="https://hexdocs.pm/elixir/String.html#t:t/0"><code class="inline">String.t/0</code></a>) - The html id of the form. Defaults to the value of <code class="inline">:as</code> if provided, otherwise &quot;form&quot;</li><li><code class="inline">:transform_errors</code> - Allows for manual manipulation and transformation of errors. You may prefer <code class="inline">post_process_errors</code> as a simpler API.<br/>If possible, try to implement <a href="https://hexdocs.pm/ash_phoenix/2.3.17/AshPhoenix.FormData.Error.html"><code class="inline">AshPhoenix.FormData.Error</code></a> for the error (if it as a custom one, for example).
If that isn't possible, you can provide this function which will get the changeset and the error, and should
return a list of ash phoenix formatted errors, e.g <code class="inline">[{field :: atom, message :: String.t(), substituations :: Keyword.t()}]</code><br/>Example:<pre><code class="makeup elixir" translate="no"><span class="nc">AshPhoenix.Form</span><span class="o">.</span><span class="n">for_create</span><span class="p" data-group-id="1309820536-1">(</span><span class="n">...</span><span class="p">,</span><span class="w"> </span><span class="ss">transform_errors</span><span class="p">:</span><span class="w"> </span><span class="k" data-group-id="1309820536-2">fn</span><span class="w">
  </span><span class="c">_changeset</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="1309820536-3">%{</span><span class="ss">field</span><span class="p">:</span><span class="w"> </span><span class="ss">:field1</span><span class="p" data-group-id="1309820536-3">}</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">error</span><span class="w"> </span><span class="o">-&gt;</span><span class="w">
    </span><span class="p" data-group-id="1309820536-4">%{</span><span class="n">error</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="ss">field</span><span class="p">:</span><span class="w"> </span><span class="ss">:field2</span><span class="p" data-group-id="1309820536-4">}</span><span class="w">  
  </span><span class="c">_changeset</span><span class="p">,</span><span class="w"> </span><span class="n">error</span><span class="w"> </span><span class="o">-&gt;</span><span class="w">
    </span><span class="n">error</span><span class="w">
</span><span class="k" data-group-id="1309820536-2">end</span></code></pre></li><li><code class="inline">:post_process_errors</code> - Allows for post-processing of errors after they have been converted to the standard triple format.<br/>This function receives the form, the path to the form, and an error triple <code class="inline">{field, message, vars}</code>.
It should return either a modified triple or <code class="inline">nil</code> to filter out the error.<br/>This is useful for:<ul><li>Filtering out certain errors based on custom criteria</li><li>Remapping field names from one field to another</li><li>Modifying error messages or variables<br/>Example:<pre><code class="makeup elixir" translate="no"><span class="nc">AshPhoenix.Form</span><span class="o">.</span><span class="n">for_create</span><span class="p" data-group-id="7770032277-1">(</span><span class="n">...</span><span class="p">,</span><span class="w"> </span><span class="ss">post_process_errors</span><span class="p">:</span><span class="w"> </span><span class="k" data-group-id="7770032277-2">fn</span><span class="w"> </span><span class="n">form</span><span class="p">,</span><span class="w"> </span><span class="c">_path</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="7770032277-3">{</span><span class="n">field</span><span class="p">,</span><span class="w"> </span><span class="n">message</span><span class="p">,</span><span class="w"> </span><span class="n">vars</span><span class="p" data-group-id="7770032277-3">}</span><span class="w"> </span><span class="o">-&gt;</span><span class="w">
</span><span class="k">case</span><span class="w"> </span><span class="n">field</span><span class="w"> </span><span class="k" data-group-id="7770032277-4">do</span><span class="w">
  </span><span class="ss">:status</span><span class="w"> </span><span class="o">-&gt;</span><span class="w">
    </span><span class="c1"># hide these errors</span><span class="w">
    </span><span class="no">nil</span><span class="w">  
  </span><span class="n">field</span><span class="w"> </span><span class="ow">when</span><span class="w"> </span><span class="n">field</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="p" data-group-id="7770032277-5">[</span><span class="ss">:currency</span><span class="p">,</span><span class="w"> </span><span class="ss">:amount</span><span class="p" data-group-id="7770032277-5">]</span><span class="w"> </span><span class="o">-&gt;</span><span class="w">
    </span><span class="c1"># remap the field, and replace the error message</span><span class="w">
    </span><span class="p" data-group-id="7770032277-6">{</span><span class="ss">:money</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;please enter a real money amount&quot;</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="7770032277-7">[</span><span class="p" data-group-id="7770032277-7">]</span><span class="p" data-group-id="7770032277-6">}</span><span class="w">  
  </span><span class="n">field</span><span class="w"> </span><span class="o">-&gt;</span><span class="w">
    </span><span class="c1"># leave the others unchanged</span><span class="w">
    </span><span class="p" data-group-id="7770032277-8">{</span><span class="n">field</span><span class="p">,</span><span class="w"> </span><span class="n">message</span><span class="p">,</span><span class="w"> </span><span class="n">vars</span><span class="p" data-group-id="7770032277-8">}</span><span class="w">
</span><span class="k" data-group-id="7770032277-4">end</span><span class="w">
</span><span class="k" data-group-id="7770032277-2">end</span><span class="p" data-group-id="7770032277-1">)</span></code></pre></li></ul></li><li><code class="inline">:prepare_source</code> - A 1-argument function the receives the initial changeset (or query) and makes any relevant changes to it.
This can be used to do things like:  <ul><li>Set default argument values before the validations are run using <a href="https://hexdocs.pm/ash/3.7.6/Ash.Changeset.html#set_arguments/2"><code class="inline">Ash.Changeset.set_arguments/2</code></a> or <a href="https://hexdocs.pm/ash/3.7.6/Ash.Changeset.html#set_argument/3"><code class="inline">Ash.Changeset.set_argument/3</code></a></li><li>Set changeset context</li><li>Do any other pre-processing on the changeset</li></ul></li><li><code class="inline">:prepare_params</code> - A 2-argument function that receives the params map and the :validate atom and should return prepared params.
Called before the form is validated.</li><li><code class="inline">:transform_params</code> - A function for post-processing the form parameters before they are used for changeset validation/submission.
Use a 3-argument function to pattern match on the <a href="https://hexdocs.pm/ash_phoenix/2.3.17/AshPhoenix.Form.html"><code class="inline">AshPhoenix.Form</code></a> struct.</li><li><code class="inline">:method</code> (<a href="https://hexdocs.pm/elixir/String.html#t:t/0"><code class="inline">String.t/0</code></a>) - The http method to associate with the form. Defaults to <code class="inline">post</code> for creates, and <code class="inline">put</code> for everything else.</li><li><code class="inline">:exclude_fields_if_empty</code> - These fields will be ignored if they are empty strings.<br/>This list of fields supports dead view forms. When a form is submitted from dead view
empty fields are submitted as empty strings. This is problematic for fields that allow_nil
or those that have default values.</li><li><code class="inline">:tenant</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - The current tenant. Passed through to the underlying action.</li><li><code class="inline">:params</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - The initial parameters to use for the form. This is useful for setting up a form with default values. The default value is <code class="inline">%{}</code>.
Any <em>additional</em> options will be passed to the underlying call to build the source, i.e
<a href="https://hexdocs.pm/ash/3.7.6/Ash.ActionInput.html#for_action/4"><code class="inline">Ash.ActionInput.for_action/4</code></a>, or <code class="inline">Ash.Changeset.for_*</code>. This means you can set things
like the tenant/actor. These will be retained, and provided again when
<code class="inline">Form.submit/3</code> is called.</li></ul><h2 id="form_to_destroy_notice/2-nested-form-options" class="section-heading"><a href="#form_to_destroy_notice/2-nested-form-options" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Nested Form Options</span></h2><ul><li><code class="inline">:type</code> - The cardinality of the nested form - <code class="inline">:list</code> or <code class="inline">:single</code>. Valid values are :list, :single The default value is <code class="inline">:single</code>.</li><li><code class="inline">:sparse?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If the nested form is <code class="inline">sparse</code>, the form won't expect all inputs for all forms to be present.<br/>Has no effect if the type is <code class="inline">:single</code>.<br/>Normally, if you leave some forms out of a list of nested forms, they are removed from the parameters
passed to the action. For example, if you had a <code class="inline">post</code> with two comments <code class="inline">[%Comment{id: 1}, %Comment{id: 2}]</code>
and you passed down params like <code class="inline">comments[0][id]=1&amp;comments[1][text]=new_text</code>, we would remove the second comment
from the input parameters, resulting in the following being passed into the action: <code class="inline">%{&quot;comments&quot; =&gt; [%{&quot;id&quot; =&gt; 1, &quot;text&quot; =&gt; &quot;new&quot;}]}</code>.
By setting it to sparse, you have to explicitly use <code class="inline">remove_form</code> for that removal to happen. So in the same scenario above, the parameters
that would be sent would actually be <code class="inline">%{&quot;comments&quot; =&gt; [%{&quot;id&quot; =&gt; 1, &quot;text&quot; =&gt; &quot;new&quot;}, %{&quot;id&quot; =&gt; 2}]}</code>.<br/>One major difference with <code class="inline">sparse?</code> is that the form actually ignores the <em>index</em> provided, e.g <code class="inline">comments[0]...</code>, and instead uses the primary
key e.g <code class="inline">comments[0][id]</code> to match which form is being updated. This prevents you from having to find the index of the specific item you want to
update. Which could be very gnarly on deeply nested forms. If there is no primary key, or the primary key does not match anything, it is treated
as a new form.<br/>REMEMBER: You need to use <code class="inline">Phoenix.Components.inputs_for</code> to render the nested forms, or manually add hidden inputs using
<code class="inline">hidden_inputs_for</code> (or <code class="inline">HiddenInputs</code> if using Surface) for the id to be automatically placed into the form.</li><li><code class="inline">:forms</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">keyword/0</code></a>) - Forms nested inside the current nesting level in all cases.</li><li><code class="inline">:for_type</code> - What action types the form applies for. Leave blank for it to apply to all action types. Valid values are :read, :create, :update</li><li><code class="inline">:merge?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - When building parameters, this input will be merged with its parent input. This allows for combining multiple forms into a single input. The default value is <code class="inline">false</code>.</li><li><code class="inline">:for</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - When creating parameters for the action, the key that the forms should be gathered into. Defaults to the key used to configure the nested form. Ignored if <code class="inline">merge?</code> is <code class="inline">true</code>.</li><li><code class="inline">:resource</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - The resource of the nested forms. Unnecessary if you are providing the <code class="inline">data</code> key, and not adding additional forms to this path.</li><li><code class="inline">:create_action</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - The create action to use when building new forms. Only necessary if you want to use <code class="inline">add_form/3</code> with this path.</li><li><code class="inline">:update_action</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - The update action to use when building forms for data. Only necessary if you supply the <code class="inline">data</code> key.</li><li><code class="inline">:data</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - The current value or values that should have update forms built by default.<br/>You can also provide a single argument function that will return the data based on the
data of the parent form. This is important for multiple nesting levels of <code class="inline">:list</code> type
forms, because the data depends on which parent is being rendered.</li></ul>
  </section>
</section>
<section class="detail" id="form_to_destroy_offence/2">

    <span id="form_to_destroy_offence/1"></span>

  <div class="detail-header">
    <a href="#form_to_destroy_offence/2" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">form_to_destroy_offence(record, form_opts \\ [])</h1>


    </div>
  </div>

  <section class="docstring">

<p>Creates a form for the destroy action on EhsEnforcement.Enforcement.Offence.</p><h2 id="form_to_destroy_offence/2-options" class="section-heading"><a href="#form_to_destroy_offence/2-options" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Options</span></h2><ul><li><code class="inline">:actor</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - The actor performing the action. Passed through to the underlying action.</li><li><code class="inline">:scope</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A value that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.Scope.html"><code class="inline">Ash.Scope</code></a> protocol, for passing around actor/tenant/context in a single value. See <a href="https://hexdocs.pm/ash/3.7.6/Ash.Scope.html"><code class="inline">Ash.Scope</code></a> for more.</li><li><code class="inline">:forms</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">keyword/0</code></a>) - Nested form configurations. See <code class="inline">for_create/3</code> &quot;Nested Form Options&quot; docs for more.</li><li><code class="inline">:warn_on_unhandled_errors?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Warns on any errors that don't match the form pattern of <code class="inline">{:field, &quot;message&quot;, [replacement: :vars]}</code> or implement the <a href="https://hexdocs.pm/ash_phoenix/2.3.17/AshPhoenix.FormData.Error.html"><code class="inline">AshPhoenix.FormData.Error</code></a> protocol. The default value is <code class="inline">true</code>.</li><li><code class="inline">:domain</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - The domain to use when calling the action.</li><li><code class="inline">:as</code> (<a href="https://hexdocs.pm/elixir/String.html#t:t/0"><code class="inline">String.t/0</code></a>) - The name of the form in the submitted params. You will need to pull the form params out using this key. The default value is <code class="inline">&quot;form&quot;</code>.</li><li><code class="inline">:id</code> (<a href="https://hexdocs.pm/elixir/String.html#t:t/0"><code class="inline">String.t/0</code></a>) - The html id of the form. Defaults to the value of <code class="inline">:as</code> if provided, otherwise &quot;form&quot;</li><li><code class="inline">:transform_errors</code> - Allows for manual manipulation and transformation of errors. You may prefer <code class="inline">post_process_errors</code> as a simpler API.<br/>If possible, try to implement <a href="https://hexdocs.pm/ash_phoenix/2.3.17/AshPhoenix.FormData.Error.html"><code class="inline">AshPhoenix.FormData.Error</code></a> for the error (if it as a custom one, for example).
If that isn't possible, you can provide this function which will get the changeset and the error, and should
return a list of ash phoenix formatted errors, e.g <code class="inline">[{field :: atom, message :: String.t(), substituations :: Keyword.t()}]</code><br/>Example:<pre><code class="makeup elixir" translate="no"><span class="nc">AshPhoenix.Form</span><span class="o">.</span><span class="n">for_create</span><span class="p" data-group-id="5202088396-1">(</span><span class="n">...</span><span class="p">,</span><span class="w"> </span><span class="ss">transform_errors</span><span class="p">:</span><span class="w"> </span><span class="k" data-group-id="5202088396-2">fn</span><span class="w">
  </span><span class="c">_changeset</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="5202088396-3">%{</span><span class="ss">field</span><span class="p">:</span><span class="w"> </span><span class="ss">:field1</span><span class="p" data-group-id="5202088396-3">}</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">error</span><span class="w"> </span><span class="o">-&gt;</span><span class="w">
    </span><span class="p" data-group-id="5202088396-4">%{</span><span class="n">error</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="ss">field</span><span class="p">:</span><span class="w"> </span><span class="ss">:field2</span><span class="p" data-group-id="5202088396-4">}</span><span class="w">  
  </span><span class="c">_changeset</span><span class="p">,</span><span class="w"> </span><span class="n">error</span><span class="w"> </span><span class="o">-&gt;</span><span class="w">
    </span><span class="n">error</span><span class="w">
</span><span class="k" data-group-id="5202088396-2">end</span></code></pre></li><li><code class="inline">:post_process_errors</code> - Allows for post-processing of errors after they have been converted to the standard triple format.<br/>This function receives the form, the path to the form, and an error triple <code class="inline">{field, message, vars}</code>.
It should return either a modified triple or <code class="inline">nil</code> to filter out the error.<br/>This is useful for:<ul><li>Filtering out certain errors based on custom criteria</li><li>Remapping field names from one field to another</li><li>Modifying error messages or variables<br/>Example:<pre><code class="makeup elixir" translate="no"><span class="nc">AshPhoenix.Form</span><span class="o">.</span><span class="n">for_create</span><span class="p" data-group-id="3712461337-1">(</span><span class="n">...</span><span class="p">,</span><span class="w"> </span><span class="ss">post_process_errors</span><span class="p">:</span><span class="w"> </span><span class="k" data-group-id="3712461337-2">fn</span><span class="w"> </span><span class="n">form</span><span class="p">,</span><span class="w"> </span><span class="c">_path</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="3712461337-3">{</span><span class="n">field</span><span class="p">,</span><span class="w"> </span><span class="n">message</span><span class="p">,</span><span class="w"> </span><span class="n">vars</span><span class="p" data-group-id="3712461337-3">}</span><span class="w"> </span><span class="o">-&gt;</span><span class="w">
</span><span class="k">case</span><span class="w"> </span><span class="n">field</span><span class="w"> </span><span class="k" data-group-id="3712461337-4">do</span><span class="w">
  </span><span class="ss">:status</span><span class="w"> </span><span class="o">-&gt;</span><span class="w">
    </span><span class="c1"># hide these errors</span><span class="w">
    </span><span class="no">nil</span><span class="w">  
  </span><span class="n">field</span><span class="w"> </span><span class="ow">when</span><span class="w"> </span><span class="n">field</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="p" data-group-id="3712461337-5">[</span><span class="ss">:currency</span><span class="p">,</span><span class="w"> </span><span class="ss">:amount</span><span class="p" data-group-id="3712461337-5">]</span><span class="w"> </span><span class="o">-&gt;</span><span class="w">
    </span><span class="c1"># remap the field, and replace the error message</span><span class="w">
    </span><span class="p" data-group-id="3712461337-6">{</span><span class="ss">:money</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;please enter a real money amount&quot;</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="3712461337-7">[</span><span class="p" data-group-id="3712461337-7">]</span><span class="p" data-group-id="3712461337-6">}</span><span class="w">  
  </span><span class="n">field</span><span class="w"> </span><span class="o">-&gt;</span><span class="w">
    </span><span class="c1"># leave the others unchanged</span><span class="w">
    </span><span class="p" data-group-id="3712461337-8">{</span><span class="n">field</span><span class="p">,</span><span class="w"> </span><span class="n">message</span><span class="p">,</span><span class="w"> </span><span class="n">vars</span><span class="p" data-group-id="3712461337-8">}</span><span class="w">
</span><span class="k" data-group-id="3712461337-4">end</span><span class="w">
</span><span class="k" data-group-id="3712461337-2">end</span><span class="p" data-group-id="3712461337-1">)</span></code></pre></li></ul></li><li><code class="inline">:prepare_source</code> - A 1-argument function the receives the initial changeset (or query) and makes any relevant changes to it.
This can be used to do things like:  <ul><li>Set default argument values before the validations are run using <a href="https://hexdocs.pm/ash/3.7.6/Ash.Changeset.html#set_arguments/2"><code class="inline">Ash.Changeset.set_arguments/2</code></a> or <a href="https://hexdocs.pm/ash/3.7.6/Ash.Changeset.html#set_argument/3"><code class="inline">Ash.Changeset.set_argument/3</code></a></li><li>Set changeset context</li><li>Do any other pre-processing on the changeset</li></ul></li><li><code class="inline">:prepare_params</code> - A 2-argument function that receives the params map and the :validate atom and should return prepared params.
Called before the form is validated.</li><li><code class="inline">:transform_params</code> - A function for post-processing the form parameters before they are used for changeset validation/submission.
Use a 3-argument function to pattern match on the <a href="https://hexdocs.pm/ash_phoenix/2.3.17/AshPhoenix.Form.html"><code class="inline">AshPhoenix.Form</code></a> struct.</li><li><code class="inline">:method</code> (<a href="https://hexdocs.pm/elixir/String.html#t:t/0"><code class="inline">String.t/0</code></a>) - The http method to associate with the form. Defaults to <code class="inline">post</code> for creates, and <code class="inline">put</code> for everything else.</li><li><code class="inline">:exclude_fields_if_empty</code> - These fields will be ignored if they are empty strings.<br/>This list of fields supports dead view forms. When a form is submitted from dead view
empty fields are submitted as empty strings. This is problematic for fields that allow_nil
or those that have default values.</li><li><code class="inline">:tenant</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - The current tenant. Passed through to the underlying action.</li><li><code class="inline">:params</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - The initial parameters to use for the form. This is useful for setting up a form with default values. The default value is <code class="inline">%{}</code>.
Any <em>additional</em> options will be passed to the underlying call to build the source, i.e
<a href="https://hexdocs.pm/ash/3.7.6/Ash.ActionInput.html#for_action/4"><code class="inline">Ash.ActionInput.for_action/4</code></a>, or <code class="inline">Ash.Changeset.for_*</code>. This means you can set things
like the tenant/actor. These will be retained, and provided again when
<code class="inline">Form.submit/3</code> is called.</li></ul><h2 id="form_to_destroy_offence/2-nested-form-options" class="section-heading"><a href="#form_to_destroy_offence/2-nested-form-options" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Nested Form Options</span></h2><ul><li><code class="inline">:type</code> - The cardinality of the nested form - <code class="inline">:list</code> or <code class="inline">:single</code>. Valid values are :list, :single The default value is <code class="inline">:single</code>.</li><li><code class="inline">:sparse?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If the nested form is <code class="inline">sparse</code>, the form won't expect all inputs for all forms to be present.<br/>Has no effect if the type is <code class="inline">:single</code>.<br/>Normally, if you leave some forms out of a list of nested forms, they are removed from the parameters
passed to the action. For example, if you had a <code class="inline">post</code> with two comments <code class="inline">[%Comment{id: 1}, %Comment{id: 2}]</code>
and you passed down params like <code class="inline">comments[0][id]=1&amp;comments[1][text]=new_text</code>, we would remove the second comment
from the input parameters, resulting in the following being passed into the action: <code class="inline">%{&quot;comments&quot; =&gt; [%{&quot;id&quot; =&gt; 1, &quot;text&quot; =&gt; &quot;new&quot;}]}</code>.
By setting it to sparse, you have to explicitly use <code class="inline">remove_form</code> for that removal to happen. So in the same scenario above, the parameters
that would be sent would actually be <code class="inline">%{&quot;comments&quot; =&gt; [%{&quot;id&quot; =&gt; 1, &quot;text&quot; =&gt; &quot;new&quot;}, %{&quot;id&quot; =&gt; 2}]}</code>.<br/>One major difference with <code class="inline">sparse?</code> is that the form actually ignores the <em>index</em> provided, e.g <code class="inline">comments[0]...</code>, and instead uses the primary
key e.g <code class="inline">comments[0][id]</code> to match which form is being updated. This prevents you from having to find the index of the specific item you want to
update. Which could be very gnarly on deeply nested forms. If there is no primary key, or the primary key does not match anything, it is treated
as a new form.<br/>REMEMBER: You need to use <code class="inline">Phoenix.Components.inputs_for</code> to render the nested forms, or manually add hidden inputs using
<code class="inline">hidden_inputs_for</code> (or <code class="inline">HiddenInputs</code> if using Surface) for the id to be automatically placed into the form.</li><li><code class="inline">:forms</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">keyword/0</code></a>) - Forms nested inside the current nesting level in all cases.</li><li><code class="inline">:for_type</code> - What action types the form applies for. Leave blank for it to apply to all action types. Valid values are :read, :create, :update</li><li><code class="inline">:merge?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - When building parameters, this input will be merged with its parent input. This allows for combining multiple forms into a single input. The default value is <code class="inline">false</code>.</li><li><code class="inline">:for</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - When creating parameters for the action, the key that the forms should be gathered into. Defaults to the key used to configure the nested form. Ignored if <code class="inline">merge?</code> is <code class="inline">true</code>.</li><li><code class="inline">:resource</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - The resource of the nested forms. Unnecessary if you are providing the <code class="inline">data</code> key, and not adding additional forms to this path.</li><li><code class="inline">:create_action</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - The create action to use when building new forms. Only necessary if you want to use <code class="inline">add_form/3</code> with this path.</li><li><code class="inline">:update_action</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - The update action to use when building forms for data. Only necessary if you supply the <code class="inline">data</code> key.</li><li><code class="inline">:data</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - The current value or values that should have update forms built by default.<br/>You can also provide a single argument function that will return the data based on the
data of the parent form. This is important for multiple nesting levels of <code class="inline">:list</code> type
forms, because the data depends on which parent is being rendered.</li></ul>
  </section>
</section>
<section class="detail" id="form_to_get_agency/1">

    <span id="form_to_get_agency/0"></span>

  <div class="detail-header">
    <a href="#form_to_get_agency/1" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">form_to_get_agency(form_opts \\ [])</h1>


    </div>
  </div>

  <section class="docstring">

<p>Creates a form for the read action on EhsEnforcement.Enforcement.Agency.</p><h2 id="form_to_get_agency/1-options" class="section-heading"><a href="#form_to_get_agency/1-options" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Options</span></h2><ul><li><code class="inline">:actor</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - The actor performing the action. Passed through to the underlying action.</li><li><code class="inline">:scope</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A value that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.Scope.html"><code class="inline">Ash.Scope</code></a> protocol, for passing around actor/tenant/context in a single value. See <a href="https://hexdocs.pm/ash/3.7.6/Ash.Scope.html"><code class="inline">Ash.Scope</code></a> for more.</li><li><code class="inline">:forms</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">keyword/0</code></a>) - Nested form configurations. See <code class="inline">for_create/3</code> &quot;Nested Form Options&quot; docs for more.</li><li><code class="inline">:warn_on_unhandled_errors?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Warns on any errors that don't match the form pattern of <code class="inline">{:field, &quot;message&quot;, [replacement: :vars]}</code> or implement the <a href="https://hexdocs.pm/ash_phoenix/2.3.17/AshPhoenix.FormData.Error.html"><code class="inline">AshPhoenix.FormData.Error</code></a> protocol. The default value is <code class="inline">true</code>.</li><li><code class="inline">:domain</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - The domain to use when calling the action.</li><li><code class="inline">:as</code> (<a href="https://hexdocs.pm/elixir/String.html#t:t/0"><code class="inline">String.t/0</code></a>) - The name of the form in the submitted params. You will need to pull the form params out using this key. The default value is <code class="inline">&quot;form&quot;</code>.</li><li><code class="inline">:id</code> (<a href="https://hexdocs.pm/elixir/String.html#t:t/0"><code class="inline">String.t/0</code></a>) - The html id of the form. Defaults to the value of <code class="inline">:as</code> if provided, otherwise &quot;form&quot;</li><li><code class="inline">:transform_errors</code> - Allows for manual manipulation and transformation of errors. You may prefer <code class="inline">post_process_errors</code> as a simpler API.<br/>If possible, try to implement <a href="https://hexdocs.pm/ash_phoenix/2.3.17/AshPhoenix.FormData.Error.html"><code class="inline">AshPhoenix.FormData.Error</code></a> for the error (if it as a custom one, for example).
If that isn't possible, you can provide this function which will get the changeset and the error, and should
return a list of ash phoenix formatted errors, e.g <code class="inline">[{field :: atom, message :: String.t(), substituations :: Keyword.t()}]</code><br/>Example:<pre><code class="makeup elixir" translate="no"><span class="nc">AshPhoenix.Form</span><span class="o">.</span><span class="n">for_create</span><span class="p" data-group-id="5153246409-1">(</span><span class="n">...</span><span class="p">,</span><span class="w"> </span><span class="ss">transform_errors</span><span class="p">:</span><span class="w"> </span><span class="k" data-group-id="5153246409-2">fn</span><span class="w">
  </span><span class="c">_changeset</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="5153246409-3">%{</span><span class="ss">field</span><span class="p">:</span><span class="w"> </span><span class="ss">:field1</span><span class="p" data-group-id="5153246409-3">}</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">error</span><span class="w"> </span><span class="o">-&gt;</span><span class="w">
    </span><span class="p" data-group-id="5153246409-4">%{</span><span class="n">error</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="ss">field</span><span class="p">:</span><span class="w"> </span><span class="ss">:field2</span><span class="p" data-group-id="5153246409-4">}</span><span class="w">  
  </span><span class="c">_changeset</span><span class="p">,</span><span class="w"> </span><span class="n">error</span><span class="w"> </span><span class="o">-&gt;</span><span class="w">
    </span><span class="n">error</span><span class="w">
</span><span class="k" data-group-id="5153246409-2">end</span></code></pre></li><li><code class="inline">:post_process_errors</code> - Allows for post-processing of errors after they have been converted to the standard triple format.<br/>This function receives the form, the path to the form, and an error triple <code class="inline">{field, message, vars}</code>.
It should return either a modified triple or <code class="inline">nil</code> to filter out the error.<br/>This is useful for:<ul><li>Filtering out certain errors based on custom criteria</li><li>Remapping field names from one field to another</li><li>Modifying error messages or variables<br/>Example:<pre><code class="makeup elixir" translate="no"><span class="nc">AshPhoenix.Form</span><span class="o">.</span><span class="n">for_create</span><span class="p" data-group-id="2076347673-1">(</span><span class="n">...</span><span class="p">,</span><span class="w"> </span><span class="ss">post_process_errors</span><span class="p">:</span><span class="w"> </span><span class="k" data-group-id="2076347673-2">fn</span><span class="w"> </span><span class="n">form</span><span class="p">,</span><span class="w"> </span><span class="c">_path</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="2076347673-3">{</span><span class="n">field</span><span class="p">,</span><span class="w"> </span><span class="n">message</span><span class="p">,</span><span class="w"> </span><span class="n">vars</span><span class="p" data-group-id="2076347673-3">}</span><span class="w"> </span><span class="o">-&gt;</span><span class="w">
</span><span class="k">case</span><span class="w"> </span><span class="n">field</span><span class="w"> </span><span class="k" data-group-id="2076347673-4">do</span><span class="w">
  </span><span class="ss">:status</span><span class="w"> </span><span class="o">-&gt;</span><span class="w">
    </span><span class="c1"># hide these errors</span><span class="w">
    </span><span class="no">nil</span><span class="w">  
  </span><span class="n">field</span><span class="w"> </span><span class="ow">when</span><span class="w"> </span><span class="n">field</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="p" data-group-id="2076347673-5">[</span><span class="ss">:currency</span><span class="p">,</span><span class="w"> </span><span class="ss">:amount</span><span class="p" data-group-id="2076347673-5">]</span><span class="w"> </span><span class="o">-&gt;</span><span class="w">
    </span><span class="c1"># remap the field, and replace the error message</span><span class="w">
    </span><span class="p" data-group-id="2076347673-6">{</span><span class="ss">:money</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;please enter a real money amount&quot;</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="2076347673-7">[</span><span class="p" data-group-id="2076347673-7">]</span><span class="p" data-group-id="2076347673-6">}</span><span class="w">  
  </span><span class="n">field</span><span class="w"> </span><span class="o">-&gt;</span><span class="w">
    </span><span class="c1"># leave the others unchanged</span><span class="w">
    </span><span class="p" data-group-id="2076347673-8">{</span><span class="n">field</span><span class="p">,</span><span class="w"> </span><span class="n">message</span><span class="p">,</span><span class="w"> </span><span class="n">vars</span><span class="p" data-group-id="2076347673-8">}</span><span class="w">
</span><span class="k" data-group-id="2076347673-4">end</span><span class="w">
</span><span class="k" data-group-id="2076347673-2">end</span><span class="p" data-group-id="2076347673-1">)</span></code></pre></li></ul></li><li><code class="inline">:prepare_source</code> - A 1-argument function the receives the initial changeset (or query) and makes any relevant changes to it.
This can be used to do things like:  <ul><li>Set default argument values before the validations are run using <a href="https://hexdocs.pm/ash/3.7.6/Ash.Changeset.html#set_arguments/2"><code class="inline">Ash.Changeset.set_arguments/2</code></a> or <a href="https://hexdocs.pm/ash/3.7.6/Ash.Changeset.html#set_argument/3"><code class="inline">Ash.Changeset.set_argument/3</code></a></li><li>Set changeset context</li><li>Do any other pre-processing on the changeset</li></ul></li><li><code class="inline">:prepare_params</code> - A 2-argument function that receives the params map and the :validate atom and should return prepared params.
Called before the form is validated.</li><li><code class="inline">:transform_params</code> - A function for post-processing the form parameters before they are used for changeset validation/submission.
Use a 3-argument function to pattern match on the <a href="https://hexdocs.pm/ash_phoenix/2.3.17/AshPhoenix.Form.html"><code class="inline">AshPhoenix.Form</code></a> struct.</li><li><code class="inline">:method</code> (<a href="https://hexdocs.pm/elixir/String.html#t:t/0"><code class="inline">String.t/0</code></a>) - The http method to associate with the form. Defaults to <code class="inline">post</code> for creates, and <code class="inline">put</code> for everything else.</li><li><code class="inline">:exclude_fields_if_empty</code> - These fields will be ignored if they are empty strings.<br/>This list of fields supports dead view forms. When a form is submitted from dead view
empty fields are submitted as empty strings. This is problematic for fields that allow_nil
or those that have default values.</li><li><code class="inline">:tenant</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - The current tenant. Passed through to the underlying action.</li><li><code class="inline">:params</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - The initial parameters to use for the form. This is useful for setting up a form with default values. The default value is <code class="inline">%{}</code>.
Any <em>additional</em> options will be passed to the underlying call to build the source, i.e
<a href="https://hexdocs.pm/ash/3.7.6/Ash.ActionInput.html#for_action/4"><code class="inline">Ash.ActionInput.for_action/4</code></a>, or <code class="inline">Ash.Changeset.for_*</code>. This means you can set things
like the tenant/actor. These will be retained, and provided again when
<code class="inline">Form.submit/3</code> is called.</li></ul><h2 id="form_to_get_agency/1-nested-form-options" class="section-heading"><a href="#form_to_get_agency/1-nested-form-options" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Nested Form Options</span></h2><ul><li><code class="inline">:type</code> - The cardinality of the nested form - <code class="inline">:list</code> or <code class="inline">:single</code>. Valid values are :list, :single The default value is <code class="inline">:single</code>.</li><li><code class="inline">:sparse?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If the nested form is <code class="inline">sparse</code>, the form won't expect all inputs for all forms to be present.<br/>Has no effect if the type is <code class="inline">:single</code>.<br/>Normally, if you leave some forms out of a list of nested forms, they are removed from the parameters
passed to the action. For example, if you had a <code class="inline">post</code> with two comments <code class="inline">[%Comment{id: 1}, %Comment{id: 2}]</code>
and you passed down params like <code class="inline">comments[0][id]=1&amp;comments[1][text]=new_text</code>, we would remove the second comment
from the input parameters, resulting in the following being passed into the action: <code class="inline">%{&quot;comments&quot; =&gt; [%{&quot;id&quot; =&gt; 1, &quot;text&quot; =&gt; &quot;new&quot;}]}</code>.
By setting it to sparse, you have to explicitly use <code class="inline">remove_form</code> for that removal to happen. So in the same scenario above, the parameters
that would be sent would actually be <code class="inline">%{&quot;comments&quot; =&gt; [%{&quot;id&quot; =&gt; 1, &quot;text&quot; =&gt; &quot;new&quot;}, %{&quot;id&quot; =&gt; 2}]}</code>.<br/>One major difference with <code class="inline">sparse?</code> is that the form actually ignores the <em>index</em> provided, e.g <code class="inline">comments[0]...</code>, and instead uses the primary
key e.g <code class="inline">comments[0][id]</code> to match which form is being updated. This prevents you from having to find the index of the specific item you want to
update. Which could be very gnarly on deeply nested forms. If there is no primary key, or the primary key does not match anything, it is treated
as a new form.<br/>REMEMBER: You need to use <code class="inline">Phoenix.Components.inputs_for</code> to render the nested forms, or manually add hidden inputs using
<code class="inline">hidden_inputs_for</code> (or <code class="inline">HiddenInputs</code> if using Surface) for the id to be automatically placed into the form.</li><li><code class="inline">:forms</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">keyword/0</code></a>) - Forms nested inside the current nesting level in all cases.</li><li><code class="inline">:for_type</code> - What action types the form applies for. Leave blank for it to apply to all action types. Valid values are :read, :create, :update</li><li><code class="inline">:merge?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - When building parameters, this input will be merged with its parent input. This allows for combining multiple forms into a single input. The default value is <code class="inline">false</code>.</li><li><code class="inline">:for</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - When creating parameters for the action, the key that the forms should be gathered into. Defaults to the key used to configure the nested form. Ignored if <code class="inline">merge?</code> is <code class="inline">true</code>.</li><li><code class="inline">:resource</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - The resource of the nested forms. Unnecessary if you are providing the <code class="inline">data</code> key, and not adding additional forms to this path.</li><li><code class="inline">:create_action</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - The create action to use when building new forms. Only necessary if you want to use <code class="inline">add_form/3</code> with this path.</li><li><code class="inline">:update_action</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - The update action to use when building forms for data. Only necessary if you supply the <code class="inline">data</code> key.</li><li><code class="inline">:data</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - The current value or values that should have update forms built by default.<br/>You can also provide a single argument function that will return the data based on the
data of the parent form. This is important for multiple nesting levels of <code class="inline">:list</code> type
forms, because the data depends on which parent is being rendered.</li></ul>
  </section>
</section>
<section class="detail" id="form_to_get_agency_by_code/1">

    <span id="form_to_get_agency_by_code/0"></span>

  <div class="detail-header">
    <a href="#form_to_get_agency_by_code/1" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">form_to_get_agency_by_code(form_opts \\ [])</h1>


    </div>
  </div>

  <section class="docstring">

<p>Creates a form for the read action on EhsEnforcement.Enforcement.Agency.</p><h2 id="form_to_get_agency_by_code/1-options" class="section-heading"><a href="#form_to_get_agency_by_code/1-options" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Options</span></h2><ul><li><code class="inline">:actor</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - The actor performing the action. Passed through to the underlying action.</li><li><code class="inline">:scope</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A value that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.Scope.html"><code class="inline">Ash.Scope</code></a> protocol, for passing around actor/tenant/context in a single value. See <a href="https://hexdocs.pm/ash/3.7.6/Ash.Scope.html"><code class="inline">Ash.Scope</code></a> for more.</li><li><code class="inline">:forms</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">keyword/0</code></a>) - Nested form configurations. See <code class="inline">for_create/3</code> &quot;Nested Form Options&quot; docs for more.</li><li><code class="inline">:warn_on_unhandled_errors?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Warns on any errors that don't match the form pattern of <code class="inline">{:field, &quot;message&quot;, [replacement: :vars]}</code> or implement the <a href="https://hexdocs.pm/ash_phoenix/2.3.17/AshPhoenix.FormData.Error.html"><code class="inline">AshPhoenix.FormData.Error</code></a> protocol. The default value is <code class="inline">true</code>.</li><li><code class="inline">:domain</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - The domain to use when calling the action.</li><li><code class="inline">:as</code> (<a href="https://hexdocs.pm/elixir/String.html#t:t/0"><code class="inline">String.t/0</code></a>) - The name of the form in the submitted params. You will need to pull the form params out using this key. The default value is <code class="inline">&quot;form&quot;</code>.</li><li><code class="inline">:id</code> (<a href="https://hexdocs.pm/elixir/String.html#t:t/0"><code class="inline">String.t/0</code></a>) - The html id of the form. Defaults to the value of <code class="inline">:as</code> if provided, otherwise &quot;form&quot;</li><li><code class="inline">:transform_errors</code> - Allows for manual manipulation and transformation of errors. You may prefer <code class="inline">post_process_errors</code> as a simpler API.<br/>If possible, try to implement <a href="https://hexdocs.pm/ash_phoenix/2.3.17/AshPhoenix.FormData.Error.html"><code class="inline">AshPhoenix.FormData.Error</code></a> for the error (if it as a custom one, for example).
If that isn't possible, you can provide this function which will get the changeset and the error, and should
return a list of ash phoenix formatted errors, e.g <code class="inline">[{field :: atom, message :: String.t(), substituations :: Keyword.t()}]</code><br/>Example:<pre><code class="makeup elixir" translate="no"><span class="nc">AshPhoenix.Form</span><span class="o">.</span><span class="n">for_create</span><span class="p" data-group-id="0578601252-1">(</span><span class="n">...</span><span class="p">,</span><span class="w"> </span><span class="ss">transform_errors</span><span class="p">:</span><span class="w"> </span><span class="k" data-group-id="0578601252-2">fn</span><span class="w">
  </span><span class="c">_changeset</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="0578601252-3">%{</span><span class="ss">field</span><span class="p">:</span><span class="w"> </span><span class="ss">:field1</span><span class="p" data-group-id="0578601252-3">}</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">error</span><span class="w"> </span><span class="o">-&gt;</span><span class="w">
    </span><span class="p" data-group-id="0578601252-4">%{</span><span class="n">error</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="ss">field</span><span class="p">:</span><span class="w"> </span><span class="ss">:field2</span><span class="p" data-group-id="0578601252-4">}</span><span class="w">  
  </span><span class="c">_changeset</span><span class="p">,</span><span class="w"> </span><span class="n">error</span><span class="w"> </span><span class="o">-&gt;</span><span class="w">
    </span><span class="n">error</span><span class="w">
</span><span class="k" data-group-id="0578601252-2">end</span></code></pre></li><li><code class="inline">:post_process_errors</code> - Allows for post-processing of errors after they have been converted to the standard triple format.<br/>This function receives the form, the path to the form, and an error triple <code class="inline">{field, message, vars}</code>.
It should return either a modified triple or <code class="inline">nil</code> to filter out the error.<br/>This is useful for:<ul><li>Filtering out certain errors based on custom criteria</li><li>Remapping field names from one field to another</li><li>Modifying error messages or variables<br/>Example:<pre><code class="makeup elixir" translate="no"><span class="nc">AshPhoenix.Form</span><span class="o">.</span><span class="n">for_create</span><span class="p" data-group-id="0733380879-1">(</span><span class="n">...</span><span class="p">,</span><span class="w"> </span><span class="ss">post_process_errors</span><span class="p">:</span><span class="w"> </span><span class="k" data-group-id="0733380879-2">fn</span><span class="w"> </span><span class="n">form</span><span class="p">,</span><span class="w"> </span><span class="c">_path</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="0733380879-3">{</span><span class="n">field</span><span class="p">,</span><span class="w"> </span><span class="n">message</span><span class="p">,</span><span class="w"> </span><span class="n">vars</span><span class="p" data-group-id="0733380879-3">}</span><span class="w"> </span><span class="o">-&gt;</span><span class="w">
</span><span class="k">case</span><span class="w"> </span><span class="n">field</span><span class="w"> </span><span class="k" data-group-id="0733380879-4">do</span><span class="w">
  </span><span class="ss">:status</span><span class="w"> </span><span class="o">-&gt;</span><span class="w">
    </span><span class="c1"># hide these errors</span><span class="w">
    </span><span class="no">nil</span><span class="w">  
  </span><span class="n">field</span><span class="w"> </span><span class="ow">when</span><span class="w"> </span><span class="n">field</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="p" data-group-id="0733380879-5">[</span><span class="ss">:currency</span><span class="p">,</span><span class="w"> </span><span class="ss">:amount</span><span class="p" data-group-id="0733380879-5">]</span><span class="w"> </span><span class="o">-&gt;</span><span class="w">
    </span><span class="c1"># remap the field, and replace the error message</span><span class="w">
    </span><span class="p" data-group-id="0733380879-6">{</span><span class="ss">:money</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;please enter a real money amount&quot;</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="0733380879-7">[</span><span class="p" data-group-id="0733380879-7">]</span><span class="p" data-group-id="0733380879-6">}</span><span class="w">  
  </span><span class="n">field</span><span class="w"> </span><span class="o">-&gt;</span><span class="w">
    </span><span class="c1"># leave the others unchanged</span><span class="w">
    </span><span class="p" data-group-id="0733380879-8">{</span><span class="n">field</span><span class="p">,</span><span class="w"> </span><span class="n">message</span><span class="p">,</span><span class="w"> </span><span class="n">vars</span><span class="p" data-group-id="0733380879-8">}</span><span class="w">
</span><span class="k" data-group-id="0733380879-4">end</span><span class="w">
</span><span class="k" data-group-id="0733380879-2">end</span><span class="p" data-group-id="0733380879-1">)</span></code></pre></li></ul></li><li><code class="inline">:prepare_source</code> - A 1-argument function the receives the initial changeset (or query) and makes any relevant changes to it.
This can be used to do things like:  <ul><li>Set default argument values before the validations are run using <a href="https://hexdocs.pm/ash/3.7.6/Ash.Changeset.html#set_arguments/2"><code class="inline">Ash.Changeset.set_arguments/2</code></a> or <a href="https://hexdocs.pm/ash/3.7.6/Ash.Changeset.html#set_argument/3"><code class="inline">Ash.Changeset.set_argument/3</code></a></li><li>Set changeset context</li><li>Do any other pre-processing on the changeset</li></ul></li><li><code class="inline">:prepare_params</code> - A 2-argument function that receives the params map and the :validate atom and should return prepared params.
Called before the form is validated.</li><li><code class="inline">:transform_params</code> - A function for post-processing the form parameters before they are used for changeset validation/submission.
Use a 3-argument function to pattern match on the <a href="https://hexdocs.pm/ash_phoenix/2.3.17/AshPhoenix.Form.html"><code class="inline">AshPhoenix.Form</code></a> struct.</li><li><code class="inline">:method</code> (<a href="https://hexdocs.pm/elixir/String.html#t:t/0"><code class="inline">String.t/0</code></a>) - The http method to associate with the form. Defaults to <code class="inline">post</code> for creates, and <code class="inline">put</code> for everything else.</li><li><code class="inline">:exclude_fields_if_empty</code> - These fields will be ignored if they are empty strings.<br/>This list of fields supports dead view forms. When a form is submitted from dead view
empty fields are submitted as empty strings. This is problematic for fields that allow_nil
or those that have default values.</li><li><code class="inline">:tenant</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - The current tenant. Passed through to the underlying action.</li><li><code class="inline">:params</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - The initial parameters to use for the form. This is useful for setting up a form with default values. The default value is <code class="inline">%{}</code>.
Any <em>additional</em> options will be passed to the underlying call to build the source, i.e
<a href="https://hexdocs.pm/ash/3.7.6/Ash.ActionInput.html#for_action/4"><code class="inline">Ash.ActionInput.for_action/4</code></a>, or <code class="inline">Ash.Changeset.for_*</code>. This means you can set things
like the tenant/actor. These will be retained, and provided again when
<code class="inline">Form.submit/3</code> is called.</li></ul><h2 id="form_to_get_agency_by_code/1-nested-form-options" class="section-heading"><a href="#form_to_get_agency_by_code/1-nested-form-options" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Nested Form Options</span></h2><ul><li><code class="inline">:type</code> - The cardinality of the nested form - <code class="inline">:list</code> or <code class="inline">:single</code>. Valid values are :list, :single The default value is <code class="inline">:single</code>.</li><li><code class="inline">:sparse?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If the nested form is <code class="inline">sparse</code>, the form won't expect all inputs for all forms to be present.<br/>Has no effect if the type is <code class="inline">:single</code>.<br/>Normally, if you leave some forms out of a list of nested forms, they are removed from the parameters
passed to the action. For example, if you had a <code class="inline">post</code> with two comments <code class="inline">[%Comment{id: 1}, %Comment{id: 2}]</code>
and you passed down params like <code class="inline">comments[0][id]=1&amp;comments[1][text]=new_text</code>, we would remove the second comment
from the input parameters, resulting in the following being passed into the action: <code class="inline">%{&quot;comments&quot; =&gt; [%{&quot;id&quot; =&gt; 1, &quot;text&quot; =&gt; &quot;new&quot;}]}</code>.
By setting it to sparse, you have to explicitly use <code class="inline">remove_form</code> for that removal to happen. So in the same scenario above, the parameters
that would be sent would actually be <code class="inline">%{&quot;comments&quot; =&gt; [%{&quot;id&quot; =&gt; 1, &quot;text&quot; =&gt; &quot;new&quot;}, %{&quot;id&quot; =&gt; 2}]}</code>.<br/>One major difference with <code class="inline">sparse?</code> is that the form actually ignores the <em>index</em> provided, e.g <code class="inline">comments[0]...</code>, and instead uses the primary
key e.g <code class="inline">comments[0][id]</code> to match which form is being updated. This prevents you from having to find the index of the specific item you want to
update. Which could be very gnarly on deeply nested forms. If there is no primary key, or the primary key does not match anything, it is treated
as a new form.<br/>REMEMBER: You need to use <code class="inline">Phoenix.Components.inputs_for</code> to render the nested forms, or manually add hidden inputs using
<code class="inline">hidden_inputs_for</code> (or <code class="inline">HiddenInputs</code> if using Surface) for the id to be automatically placed into the form.</li><li><code class="inline">:forms</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">keyword/0</code></a>) - Forms nested inside the current nesting level in all cases.</li><li><code class="inline">:for_type</code> - What action types the form applies for. Leave blank for it to apply to all action types. Valid values are :read, :create, :update</li><li><code class="inline">:merge?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - When building parameters, this input will be merged with its parent input. This allows for combining multiple forms into a single input. The default value is <code class="inline">false</code>.</li><li><code class="inline">:for</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - When creating parameters for the action, the key that the forms should be gathered into. Defaults to the key used to configure the nested form. Ignored if <code class="inline">merge?</code> is <code class="inline">true</code>.</li><li><code class="inline">:resource</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - The resource of the nested forms. Unnecessary if you are providing the <code class="inline">data</code> key, and not adding additional forms to this path.</li><li><code class="inline">:create_action</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - The create action to use when building new forms. Only necessary if you want to use <code class="inline">add_form/3</code> with this path.</li><li><code class="inline">:update_action</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - The update action to use when building forms for data. Only necessary if you supply the <code class="inline">data</code> key.</li><li><code class="inline">:data</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - The current value or values that should have update forms built by default.<br/>You can also provide a single argument function that will return the data based on the
data of the parent form. This is important for multiple nesting levels of <code class="inline">:list</code> type
forms, because the data depends on which parent is being rendered.</li></ul>
  </section>
</section>
<section class="detail" id="form_to_get_case/1">

    <span id="form_to_get_case/0"></span>

  <div class="detail-header">
    <a href="#form_to_get_case/1" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">form_to_get_case(form_opts \\ [])</h1>


    </div>
  </div>

  <section class="docstring">

<p>Creates a form for the read action on EhsEnforcement.Enforcement.Case.</p><h2 id="form_to_get_case/1-options" class="section-heading"><a href="#form_to_get_case/1-options" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Options</span></h2><ul><li><code class="inline">:actor</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - The actor performing the action. Passed through to the underlying action.</li><li><code class="inline">:scope</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A value that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.Scope.html"><code class="inline">Ash.Scope</code></a> protocol, for passing around actor/tenant/context in a single value. See <a href="https://hexdocs.pm/ash/3.7.6/Ash.Scope.html"><code class="inline">Ash.Scope</code></a> for more.</li><li><code class="inline">:forms</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">keyword/0</code></a>) - Nested form configurations. See <code class="inline">for_create/3</code> &quot;Nested Form Options&quot; docs for more.</li><li><code class="inline">:warn_on_unhandled_errors?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Warns on any errors that don't match the form pattern of <code class="inline">{:field, &quot;message&quot;, [replacement: :vars]}</code> or implement the <a href="https://hexdocs.pm/ash_phoenix/2.3.17/AshPhoenix.FormData.Error.html"><code class="inline">AshPhoenix.FormData.Error</code></a> protocol. The default value is <code class="inline">true</code>.</li><li><code class="inline">:domain</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - The domain to use when calling the action.</li><li><code class="inline">:as</code> (<a href="https://hexdocs.pm/elixir/String.html#t:t/0"><code class="inline">String.t/0</code></a>) - The name of the form in the submitted params. You will need to pull the form params out using this key. The default value is <code class="inline">&quot;form&quot;</code>.</li><li><code class="inline">:id</code> (<a href="https://hexdocs.pm/elixir/String.html#t:t/0"><code class="inline">String.t/0</code></a>) - The html id of the form. Defaults to the value of <code class="inline">:as</code> if provided, otherwise &quot;form&quot;</li><li><code class="inline">:transform_errors</code> - Allows for manual manipulation and transformation of errors. You may prefer <code class="inline">post_process_errors</code> as a simpler API.<br/>If possible, try to implement <a href="https://hexdocs.pm/ash_phoenix/2.3.17/AshPhoenix.FormData.Error.html"><code class="inline">AshPhoenix.FormData.Error</code></a> for the error (if it as a custom one, for example).
If that isn't possible, you can provide this function which will get the changeset and the error, and should
return a list of ash phoenix formatted errors, e.g <code class="inline">[{field :: atom, message :: String.t(), substituations :: Keyword.t()}]</code><br/>Example:<pre><code class="makeup elixir" translate="no"><span class="nc">AshPhoenix.Form</span><span class="o">.</span><span class="n">for_create</span><span class="p" data-group-id="2496492376-1">(</span><span class="n">...</span><span class="p">,</span><span class="w"> </span><span class="ss">transform_errors</span><span class="p">:</span><span class="w"> </span><span class="k" data-group-id="2496492376-2">fn</span><span class="w">
  </span><span class="c">_changeset</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="2496492376-3">%{</span><span class="ss">field</span><span class="p">:</span><span class="w"> </span><span class="ss">:field1</span><span class="p" data-group-id="2496492376-3">}</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">error</span><span class="w"> </span><span class="o">-&gt;</span><span class="w">
    </span><span class="p" data-group-id="2496492376-4">%{</span><span class="n">error</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="ss">field</span><span class="p">:</span><span class="w"> </span><span class="ss">:field2</span><span class="p" data-group-id="2496492376-4">}</span><span class="w">  
  </span><span class="c">_changeset</span><span class="p">,</span><span class="w"> </span><span class="n">error</span><span class="w"> </span><span class="o">-&gt;</span><span class="w">
    </span><span class="n">error</span><span class="w">
</span><span class="k" data-group-id="2496492376-2">end</span></code></pre></li><li><code class="inline">:post_process_errors</code> - Allows for post-processing of errors after they have been converted to the standard triple format.<br/>This function receives the form, the path to the form, and an error triple <code class="inline">{field, message, vars}</code>.
It should return either a modified triple or <code class="inline">nil</code> to filter out the error.<br/>This is useful for:<ul><li>Filtering out certain errors based on custom criteria</li><li>Remapping field names from one field to another</li><li>Modifying error messages or variables<br/>Example:<pre><code class="makeup elixir" translate="no"><span class="nc">AshPhoenix.Form</span><span class="o">.</span><span class="n">for_create</span><span class="p" data-group-id="5334427403-1">(</span><span class="n">...</span><span class="p">,</span><span class="w"> </span><span class="ss">post_process_errors</span><span class="p">:</span><span class="w"> </span><span class="k" data-group-id="5334427403-2">fn</span><span class="w"> </span><span class="n">form</span><span class="p">,</span><span class="w"> </span><span class="c">_path</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="5334427403-3">{</span><span class="n">field</span><span class="p">,</span><span class="w"> </span><span class="n">message</span><span class="p">,</span><span class="w"> </span><span class="n">vars</span><span class="p" data-group-id="5334427403-3">}</span><span class="w"> </span><span class="o">-&gt;</span><span class="w">
</span><span class="k">case</span><span class="w"> </span><span class="n">field</span><span class="w"> </span><span class="k" data-group-id="5334427403-4">do</span><span class="w">
  </span><span class="ss">:status</span><span class="w"> </span><span class="o">-&gt;</span><span class="w">
    </span><span class="c1"># hide these errors</span><span class="w">
    </span><span class="no">nil</span><span class="w">  
  </span><span class="n">field</span><span class="w"> </span><span class="ow">when</span><span class="w"> </span><span class="n">field</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="p" data-group-id="5334427403-5">[</span><span class="ss">:currency</span><span class="p">,</span><span class="w"> </span><span class="ss">:amount</span><span class="p" data-group-id="5334427403-5">]</span><span class="w"> </span><span class="o">-&gt;</span><span class="w">
    </span><span class="c1"># remap the field, and replace the error message</span><span class="w">
    </span><span class="p" data-group-id="5334427403-6">{</span><span class="ss">:money</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;please enter a real money amount&quot;</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="5334427403-7">[</span><span class="p" data-group-id="5334427403-7">]</span><span class="p" data-group-id="5334427403-6">}</span><span class="w">  
  </span><span class="n">field</span><span class="w"> </span><span class="o">-&gt;</span><span class="w">
    </span><span class="c1"># leave the others unchanged</span><span class="w">
    </span><span class="p" data-group-id="5334427403-8">{</span><span class="n">field</span><span class="p">,</span><span class="w"> </span><span class="n">message</span><span class="p">,</span><span class="w"> </span><span class="n">vars</span><span class="p" data-group-id="5334427403-8">}</span><span class="w">
</span><span class="k" data-group-id="5334427403-4">end</span><span class="w">
</span><span class="k" data-group-id="5334427403-2">end</span><span class="p" data-group-id="5334427403-1">)</span></code></pre></li></ul></li><li><code class="inline">:prepare_source</code> - A 1-argument function the receives the initial changeset (or query) and makes any relevant changes to it.
This can be used to do things like:  <ul><li>Set default argument values before the validations are run using <a href="https://hexdocs.pm/ash/3.7.6/Ash.Changeset.html#set_arguments/2"><code class="inline">Ash.Changeset.set_arguments/2</code></a> or <a href="https://hexdocs.pm/ash/3.7.6/Ash.Changeset.html#set_argument/3"><code class="inline">Ash.Changeset.set_argument/3</code></a></li><li>Set changeset context</li><li>Do any other pre-processing on the changeset</li></ul></li><li><code class="inline">:prepare_params</code> - A 2-argument function that receives the params map and the :validate atom and should return prepared params.
Called before the form is validated.</li><li><code class="inline">:transform_params</code> - A function for post-processing the form parameters before they are used for changeset validation/submission.
Use a 3-argument function to pattern match on the <a href="https://hexdocs.pm/ash_phoenix/2.3.17/AshPhoenix.Form.html"><code class="inline">AshPhoenix.Form</code></a> struct.</li><li><code class="inline">:method</code> (<a href="https://hexdocs.pm/elixir/String.html#t:t/0"><code class="inline">String.t/0</code></a>) - The http method to associate with the form. Defaults to <code class="inline">post</code> for creates, and <code class="inline">put</code> for everything else.</li><li><code class="inline">:exclude_fields_if_empty</code> - These fields will be ignored if they are empty strings.<br/>This list of fields supports dead view forms. When a form is submitted from dead view
empty fields are submitted as empty strings. This is problematic for fields that allow_nil
or those that have default values.</li><li><code class="inline">:tenant</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - The current tenant. Passed through to the underlying action.</li><li><code class="inline">:params</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - The initial parameters to use for the form. This is useful for setting up a form with default values. The default value is <code class="inline">%{}</code>.
Any <em>additional</em> options will be passed to the underlying call to build the source, i.e
<a href="https://hexdocs.pm/ash/3.7.6/Ash.ActionInput.html#for_action/4"><code class="inline">Ash.ActionInput.for_action/4</code></a>, or <code class="inline">Ash.Changeset.for_*</code>. This means you can set things
like the tenant/actor. These will be retained, and provided again when
<code class="inline">Form.submit/3</code> is called.</li></ul><h2 id="form_to_get_case/1-nested-form-options" class="section-heading"><a href="#form_to_get_case/1-nested-form-options" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Nested Form Options</span></h2><ul><li><code class="inline">:type</code> - The cardinality of the nested form - <code class="inline">:list</code> or <code class="inline">:single</code>. Valid values are :list, :single The default value is <code class="inline">:single</code>.</li><li><code class="inline">:sparse?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If the nested form is <code class="inline">sparse</code>, the form won't expect all inputs for all forms to be present.<br/>Has no effect if the type is <code class="inline">:single</code>.<br/>Normally, if you leave some forms out of a list of nested forms, they are removed from the parameters
passed to the action. For example, if you had a <code class="inline">post</code> with two comments <code class="inline">[%Comment{id: 1}, %Comment{id: 2}]</code>
and you passed down params like <code class="inline">comments[0][id]=1&amp;comments[1][text]=new_text</code>, we would remove the second comment
from the input parameters, resulting in the following being passed into the action: <code class="inline">%{&quot;comments&quot; =&gt; [%{&quot;id&quot; =&gt; 1, &quot;text&quot; =&gt; &quot;new&quot;}]}</code>.
By setting it to sparse, you have to explicitly use <code class="inline">remove_form</code> for that removal to happen. So in the same scenario above, the parameters
that would be sent would actually be <code class="inline">%{&quot;comments&quot; =&gt; [%{&quot;id&quot; =&gt; 1, &quot;text&quot; =&gt; &quot;new&quot;}, %{&quot;id&quot; =&gt; 2}]}</code>.<br/>One major difference with <code class="inline">sparse?</code> is that the form actually ignores the <em>index</em> provided, e.g <code class="inline">comments[0]...</code>, and instead uses the primary
key e.g <code class="inline">comments[0][id]</code> to match which form is being updated. This prevents you from having to find the index of the specific item you want to
update. Which could be very gnarly on deeply nested forms. If there is no primary key, or the primary key does not match anything, it is treated
as a new form.<br/>REMEMBER: You need to use <code class="inline">Phoenix.Components.inputs_for</code> to render the nested forms, or manually add hidden inputs using
<code class="inline">hidden_inputs_for</code> (or <code class="inline">HiddenInputs</code> if using Surface) for the id to be automatically placed into the form.</li><li><code class="inline">:forms</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">keyword/0</code></a>) - Forms nested inside the current nesting level in all cases.</li><li><code class="inline">:for_type</code> - What action types the form applies for. Leave blank for it to apply to all action types. Valid values are :read, :create, :update</li><li><code class="inline">:merge?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - When building parameters, this input will be merged with its parent input. This allows for combining multiple forms into a single input. The default value is <code class="inline">false</code>.</li><li><code class="inline">:for</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - When creating parameters for the action, the key that the forms should be gathered into. Defaults to the key used to configure the nested form. Ignored if <code class="inline">merge?</code> is <code class="inline">true</code>.</li><li><code class="inline">:resource</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - The resource of the nested forms. Unnecessary if you are providing the <code class="inline">data</code> key, and not adding additional forms to this path.</li><li><code class="inline">:create_action</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - The create action to use when building new forms. Only necessary if you want to use <code class="inline">add_form/3</code> with this path.</li><li><code class="inline">:update_action</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - The update action to use when building forms for data. Only necessary if you supply the <code class="inline">data</code> key.</li><li><code class="inline">:data</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - The current value or values that should have update forms built by default.<br/>You can also provide a single argument function that will return the data based on the
data of the parent form. This is important for multiple nesting levels of <code class="inline">:list</code> type
forms, because the data depends on which parent is being rendered.</li></ul>
  </section>
</section>
<section class="detail" id="form_to_get_current_metrics/1">

    <span id="form_to_get_current_metrics/0"></span>

  <div class="detail-header">
    <a href="#form_to_get_current_metrics/1" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">form_to_get_current_metrics(form_opts \\ [])</h1>


    </div>
  </div>

  <section class="docstring">

<p>Get the most recent metrics for each time period</p><h2 id="form_to_get_current_metrics/1-options" class="section-heading"><a href="#form_to_get_current_metrics/1-options" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Options</span></h2><ul><li><code class="inline">:actor</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - The actor performing the action. Passed through to the underlying action.</li><li><code class="inline">:scope</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A value that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.Scope.html"><code class="inline">Ash.Scope</code></a> protocol, for passing around actor/tenant/context in a single value. See <a href="https://hexdocs.pm/ash/3.7.6/Ash.Scope.html"><code class="inline">Ash.Scope</code></a> for more.</li><li><code class="inline">:forms</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">keyword/0</code></a>) - Nested form configurations. See <code class="inline">for_create/3</code> &quot;Nested Form Options&quot; docs for more.</li><li><code class="inline">:warn_on_unhandled_errors?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Warns on any errors that don't match the form pattern of <code class="inline">{:field, &quot;message&quot;, [replacement: :vars]}</code> or implement the <a href="https://hexdocs.pm/ash_phoenix/2.3.17/AshPhoenix.FormData.Error.html"><code class="inline">AshPhoenix.FormData.Error</code></a> protocol. The default value is <code class="inline">true</code>.</li><li><code class="inline">:domain</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - The domain to use when calling the action.</li><li><code class="inline">:as</code> (<a href="https://hexdocs.pm/elixir/String.html#t:t/0"><code class="inline">String.t/0</code></a>) - The name of the form in the submitted params. You will need to pull the form params out using this key. The default value is <code class="inline">&quot;form&quot;</code>.</li><li><code class="inline">:id</code> (<a href="https://hexdocs.pm/elixir/String.html#t:t/0"><code class="inline">String.t/0</code></a>) - The html id of the form. Defaults to the value of <code class="inline">:as</code> if provided, otherwise &quot;form&quot;</li><li><code class="inline">:transform_errors</code> - Allows for manual manipulation and transformation of errors. You may prefer <code class="inline">post_process_errors</code> as a simpler API.<br/>If possible, try to implement <a href="https://hexdocs.pm/ash_phoenix/2.3.17/AshPhoenix.FormData.Error.html"><code class="inline">AshPhoenix.FormData.Error</code></a> for the error (if it as a custom one, for example).
If that isn't possible, you can provide this function which will get the changeset and the error, and should
return a list of ash phoenix formatted errors, e.g <code class="inline">[{field :: atom, message :: String.t(), substituations :: Keyword.t()}]</code><br/>Example:<pre><code class="makeup elixir" translate="no"><span class="nc">AshPhoenix.Form</span><span class="o">.</span><span class="n">for_create</span><span class="p" data-group-id="5724956899-1">(</span><span class="n">...</span><span class="p">,</span><span class="w"> </span><span class="ss">transform_errors</span><span class="p">:</span><span class="w"> </span><span class="k" data-group-id="5724956899-2">fn</span><span class="w">
  </span><span class="c">_changeset</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="5724956899-3">%{</span><span class="ss">field</span><span class="p">:</span><span class="w"> </span><span class="ss">:field1</span><span class="p" data-group-id="5724956899-3">}</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">error</span><span class="w"> </span><span class="o">-&gt;</span><span class="w">
    </span><span class="p" data-group-id="5724956899-4">%{</span><span class="n">error</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="ss">field</span><span class="p">:</span><span class="w"> </span><span class="ss">:field2</span><span class="p" data-group-id="5724956899-4">}</span><span class="w">  
  </span><span class="c">_changeset</span><span class="p">,</span><span class="w"> </span><span class="n">error</span><span class="w"> </span><span class="o">-&gt;</span><span class="w">
    </span><span class="n">error</span><span class="w">
</span><span class="k" data-group-id="5724956899-2">end</span></code></pre></li><li><code class="inline">:post_process_errors</code> - Allows for post-processing of errors after they have been converted to the standard triple format.<br/>This function receives the form, the path to the form, and an error triple <code class="inline">{field, message, vars}</code>.
It should return either a modified triple or <code class="inline">nil</code> to filter out the error.<br/>This is useful for:<ul><li>Filtering out certain errors based on custom criteria</li><li>Remapping field names from one field to another</li><li>Modifying error messages or variables<br/>Example:<pre><code class="makeup elixir" translate="no"><span class="nc">AshPhoenix.Form</span><span class="o">.</span><span class="n">for_create</span><span class="p" data-group-id="8465970907-1">(</span><span class="n">...</span><span class="p">,</span><span class="w"> </span><span class="ss">post_process_errors</span><span class="p">:</span><span class="w"> </span><span class="k" data-group-id="8465970907-2">fn</span><span class="w"> </span><span class="n">form</span><span class="p">,</span><span class="w"> </span><span class="c">_path</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="8465970907-3">{</span><span class="n">field</span><span class="p">,</span><span class="w"> </span><span class="n">message</span><span class="p">,</span><span class="w"> </span><span class="n">vars</span><span class="p" data-group-id="8465970907-3">}</span><span class="w"> </span><span class="o">-&gt;</span><span class="w">
</span><span class="k">case</span><span class="w"> </span><span class="n">field</span><span class="w"> </span><span class="k" data-group-id="8465970907-4">do</span><span class="w">
  </span><span class="ss">:status</span><span class="w"> </span><span class="o">-&gt;</span><span class="w">
    </span><span class="c1"># hide these errors</span><span class="w">
    </span><span class="no">nil</span><span class="w">  
  </span><span class="n">field</span><span class="w"> </span><span class="ow">when</span><span class="w"> </span><span class="n">field</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="p" data-group-id="8465970907-5">[</span><span class="ss">:currency</span><span class="p">,</span><span class="w"> </span><span class="ss">:amount</span><span class="p" data-group-id="8465970907-5">]</span><span class="w"> </span><span class="o">-&gt;</span><span class="w">
    </span><span class="c1"># remap the field, and replace the error message</span><span class="w">
    </span><span class="p" data-group-id="8465970907-6">{</span><span class="ss">:money</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;please enter a real money amount&quot;</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="8465970907-7">[</span><span class="p" data-group-id="8465970907-7">]</span><span class="p" data-group-id="8465970907-6">}</span><span class="w">  
  </span><span class="n">field</span><span class="w"> </span><span class="o">-&gt;</span><span class="w">
    </span><span class="c1"># leave the others unchanged</span><span class="w">
    </span><span class="p" data-group-id="8465970907-8">{</span><span class="n">field</span><span class="p">,</span><span class="w"> </span><span class="n">message</span><span class="p">,</span><span class="w"> </span><span class="n">vars</span><span class="p" data-group-id="8465970907-8">}</span><span class="w">
</span><span class="k" data-group-id="8465970907-4">end</span><span class="w">
</span><span class="k" data-group-id="8465970907-2">end</span><span class="p" data-group-id="8465970907-1">)</span></code></pre></li></ul></li><li><code class="inline">:prepare_source</code> - A 1-argument function the receives the initial changeset (or query) and makes any relevant changes to it.
This can be used to do things like:  <ul><li>Set default argument values before the validations are run using <a href="https://hexdocs.pm/ash/3.7.6/Ash.Changeset.html#set_arguments/2"><code class="inline">Ash.Changeset.set_arguments/2</code></a> or <a href="https://hexdocs.pm/ash/3.7.6/Ash.Changeset.html#set_argument/3"><code class="inline">Ash.Changeset.set_argument/3</code></a></li><li>Set changeset context</li><li>Do any other pre-processing on the changeset</li></ul></li><li><code class="inline">:prepare_params</code> - A 2-argument function that receives the params map and the :validate atom and should return prepared params.
Called before the form is validated.</li><li><code class="inline">:transform_params</code> - A function for post-processing the form parameters before they are used for changeset validation/submission.
Use a 3-argument function to pattern match on the <a href="https://hexdocs.pm/ash_phoenix/2.3.17/AshPhoenix.Form.html"><code class="inline">AshPhoenix.Form</code></a> struct.</li><li><code class="inline">:method</code> (<a href="https://hexdocs.pm/elixir/String.html#t:t/0"><code class="inline">String.t/0</code></a>) - The http method to associate with the form. Defaults to <code class="inline">post</code> for creates, and <code class="inline">put</code> for everything else.</li><li><code class="inline">:exclude_fields_if_empty</code> - These fields will be ignored if they are empty strings.<br/>This list of fields supports dead view forms. When a form is submitted from dead view
empty fields are submitted as empty strings. This is problematic for fields that allow_nil
or those that have default values.</li><li><code class="inline">:tenant</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - The current tenant. Passed through to the underlying action.</li><li><code class="inline">:params</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - The initial parameters to use for the form. This is useful for setting up a form with default values. The default value is <code class="inline">%{}</code>.
Any <em>additional</em> options will be passed to the underlying call to build the source, i.e
<a href="https://hexdocs.pm/ash/3.7.6/Ash.ActionInput.html#for_action/4"><code class="inline">Ash.ActionInput.for_action/4</code></a>, or <code class="inline">Ash.Changeset.for_*</code>. This means you can set things
like the tenant/actor. These will be retained, and provided again when
<code class="inline">Form.submit/3</code> is called.</li></ul><h2 id="form_to_get_current_metrics/1-nested-form-options" class="section-heading"><a href="#form_to_get_current_metrics/1-nested-form-options" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Nested Form Options</span></h2><ul><li><code class="inline">:type</code> - The cardinality of the nested form - <code class="inline">:list</code> or <code class="inline">:single</code>. Valid values are :list, :single The default value is <code class="inline">:single</code>.</li><li><code class="inline">:sparse?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If the nested form is <code class="inline">sparse</code>, the form won't expect all inputs for all forms to be present.<br/>Has no effect if the type is <code class="inline">:single</code>.<br/>Normally, if you leave some forms out of a list of nested forms, they are removed from the parameters
passed to the action. For example, if you had a <code class="inline">post</code> with two comments <code class="inline">[%Comment{id: 1}, %Comment{id: 2}]</code>
and you passed down params like <code class="inline">comments[0][id]=1&amp;comments[1][text]=new_text</code>, we would remove the second comment
from the input parameters, resulting in the following being passed into the action: <code class="inline">%{&quot;comments&quot; =&gt; [%{&quot;id&quot; =&gt; 1, &quot;text&quot; =&gt; &quot;new&quot;}]}</code>.
By setting it to sparse, you have to explicitly use <code class="inline">remove_form</code> for that removal to happen. So in the same scenario above, the parameters
that would be sent would actually be <code class="inline">%{&quot;comments&quot; =&gt; [%{&quot;id&quot; =&gt; 1, &quot;text&quot; =&gt; &quot;new&quot;}, %{&quot;id&quot; =&gt; 2}]}</code>.<br/>One major difference with <code class="inline">sparse?</code> is that the form actually ignores the <em>index</em> provided, e.g <code class="inline">comments[0]...</code>, and instead uses the primary
key e.g <code class="inline">comments[0][id]</code> to match which form is being updated. This prevents you from having to find the index of the specific item you want to
update. Which could be very gnarly on deeply nested forms. If there is no primary key, or the primary key does not match anything, it is treated
as a new form.<br/>REMEMBER: You need to use <code class="inline">Phoenix.Components.inputs_for</code> to render the nested forms, or manually add hidden inputs using
<code class="inline">hidden_inputs_for</code> (or <code class="inline">HiddenInputs</code> if using Surface) for the id to be automatically placed into the form.</li><li><code class="inline">:forms</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">keyword/0</code></a>) - Forms nested inside the current nesting level in all cases.</li><li><code class="inline">:for_type</code> - What action types the form applies for. Leave blank for it to apply to all action types. Valid values are :read, :create, :update</li><li><code class="inline">:merge?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - When building parameters, this input will be merged with its parent input. This allows for combining multiple forms into a single input. The default value is <code class="inline">false</code>.</li><li><code class="inline">:for</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - When creating parameters for the action, the key that the forms should be gathered into. Defaults to the key used to configure the nested form. Ignored if <code class="inline">merge?</code> is <code class="inline">true</code>.</li><li><code class="inline">:resource</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - The resource of the nested forms. Unnecessary if you are providing the <code class="inline">data</code> key, and not adding additional forms to this path.</li><li><code class="inline">:create_action</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - The create action to use when building new forms. Only necessary if you want to use <code class="inline">add_form/3</code> with this path.</li><li><code class="inline">:update_action</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - The update action to use when building forms for data. Only necessary if you supply the <code class="inline">data</code> key.</li><li><code class="inline">:data</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - The current value or values that should have update forms built by default.<br/>You can also provide a single argument function that will return the data based on the
data of the parent form. This is important for multiple nesting levels of <code class="inline">:list</code> type
forms, because the data depends on which parent is being rendered.</li></ul>
  </section>
</section>
<section class="detail" id="form_to_get_legislation/1">

    <span id="form_to_get_legislation/0"></span>

  <div class="detail-header">
    <a href="#form_to_get_legislation/1" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">form_to_get_legislation(form_opts \\ [])</h1>


    </div>
  </div>

  <section class="docstring">

<p>Creates a form for the read action on EhsEnforcement.Enforcement.Legislation.</p><h2 id="form_to_get_legislation/1-options" class="section-heading"><a href="#form_to_get_legislation/1-options" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Options</span></h2><ul><li><code class="inline">:actor</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - The actor performing the action. Passed through to the underlying action.</li><li><code class="inline">:scope</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A value that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.Scope.html"><code class="inline">Ash.Scope</code></a> protocol, for passing around actor/tenant/context in a single value. See <a href="https://hexdocs.pm/ash/3.7.6/Ash.Scope.html"><code class="inline">Ash.Scope</code></a> for more.</li><li><code class="inline">:forms</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">keyword/0</code></a>) - Nested form configurations. See <code class="inline">for_create/3</code> &quot;Nested Form Options&quot; docs for more.</li><li><code class="inline">:warn_on_unhandled_errors?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Warns on any errors that don't match the form pattern of <code class="inline">{:field, &quot;message&quot;, [replacement: :vars]}</code> or implement the <a href="https://hexdocs.pm/ash_phoenix/2.3.17/AshPhoenix.FormData.Error.html"><code class="inline">AshPhoenix.FormData.Error</code></a> protocol. The default value is <code class="inline">true</code>.</li><li><code class="inline">:domain</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - The domain to use when calling the action.</li><li><code class="inline">:as</code> (<a href="https://hexdocs.pm/elixir/String.html#t:t/0"><code class="inline">String.t/0</code></a>) - The name of the form in the submitted params. You will need to pull the form params out using this key. The default value is <code class="inline">&quot;form&quot;</code>.</li><li><code class="inline">:id</code> (<a href="https://hexdocs.pm/elixir/String.html#t:t/0"><code class="inline">String.t/0</code></a>) - The html id of the form. Defaults to the value of <code class="inline">:as</code> if provided, otherwise &quot;form&quot;</li><li><code class="inline">:transform_errors</code> - Allows for manual manipulation and transformation of errors. You may prefer <code class="inline">post_process_errors</code> as a simpler API.<br/>If possible, try to implement <a href="https://hexdocs.pm/ash_phoenix/2.3.17/AshPhoenix.FormData.Error.html"><code class="inline">AshPhoenix.FormData.Error</code></a> for the error (if it as a custom one, for example).
If that isn't possible, you can provide this function which will get the changeset and the error, and should
return a list of ash phoenix formatted errors, e.g <code class="inline">[{field :: atom, message :: String.t(), substituations :: Keyword.t()}]</code><br/>Example:<pre><code class="makeup elixir" translate="no"><span class="nc">AshPhoenix.Form</span><span class="o">.</span><span class="n">for_create</span><span class="p" data-group-id="7767139421-1">(</span><span class="n">...</span><span class="p">,</span><span class="w"> </span><span class="ss">transform_errors</span><span class="p">:</span><span class="w"> </span><span class="k" data-group-id="7767139421-2">fn</span><span class="w">
  </span><span class="c">_changeset</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="7767139421-3">%{</span><span class="ss">field</span><span class="p">:</span><span class="w"> </span><span class="ss">:field1</span><span class="p" data-group-id="7767139421-3">}</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">error</span><span class="w"> </span><span class="o">-&gt;</span><span class="w">
    </span><span class="p" data-group-id="7767139421-4">%{</span><span class="n">error</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="ss">field</span><span class="p">:</span><span class="w"> </span><span class="ss">:field2</span><span class="p" data-group-id="7767139421-4">}</span><span class="w">  
  </span><span class="c">_changeset</span><span class="p">,</span><span class="w"> </span><span class="n">error</span><span class="w"> </span><span class="o">-&gt;</span><span class="w">
    </span><span class="n">error</span><span class="w">
</span><span class="k" data-group-id="7767139421-2">end</span></code></pre></li><li><code class="inline">:post_process_errors</code> - Allows for post-processing of errors after they have been converted to the standard triple format.<br/>This function receives the form, the path to the form, and an error triple <code class="inline">{field, message, vars}</code>.
It should return either a modified triple or <code class="inline">nil</code> to filter out the error.<br/>This is useful for:<ul><li>Filtering out certain errors based on custom criteria</li><li>Remapping field names from one field to another</li><li>Modifying error messages or variables<br/>Example:<pre><code class="makeup elixir" translate="no"><span class="nc">AshPhoenix.Form</span><span class="o">.</span><span class="n">for_create</span><span class="p" data-group-id="8293784689-1">(</span><span class="n">...</span><span class="p">,</span><span class="w"> </span><span class="ss">post_process_errors</span><span class="p">:</span><span class="w"> </span><span class="k" data-group-id="8293784689-2">fn</span><span class="w"> </span><span class="n">form</span><span class="p">,</span><span class="w"> </span><span class="c">_path</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="8293784689-3">{</span><span class="n">field</span><span class="p">,</span><span class="w"> </span><span class="n">message</span><span class="p">,</span><span class="w"> </span><span class="n">vars</span><span class="p" data-group-id="8293784689-3">}</span><span class="w"> </span><span class="o">-&gt;</span><span class="w">
</span><span class="k">case</span><span class="w"> </span><span class="n">field</span><span class="w"> </span><span class="k" data-group-id="8293784689-4">do</span><span class="w">
  </span><span class="ss">:status</span><span class="w"> </span><span class="o">-&gt;</span><span class="w">
    </span><span class="c1"># hide these errors</span><span class="w">
    </span><span class="no">nil</span><span class="w">  
  </span><span class="n">field</span><span class="w"> </span><span class="ow">when</span><span class="w"> </span><span class="n">field</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="p" data-group-id="8293784689-5">[</span><span class="ss">:currency</span><span class="p">,</span><span class="w"> </span><span class="ss">:amount</span><span class="p" data-group-id="8293784689-5">]</span><span class="w"> </span><span class="o">-&gt;</span><span class="w">
    </span><span class="c1"># remap the field, and replace the error message</span><span class="w">
    </span><span class="p" data-group-id="8293784689-6">{</span><span class="ss">:money</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;please enter a real money amount&quot;</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="8293784689-7">[</span><span class="p" data-group-id="8293784689-7">]</span><span class="p" data-group-id="8293784689-6">}</span><span class="w">  
  </span><span class="n">field</span><span class="w"> </span><span class="o">-&gt;</span><span class="w">
    </span><span class="c1"># leave the others unchanged</span><span class="w">
    </span><span class="p" data-group-id="8293784689-8">{</span><span class="n">field</span><span class="p">,</span><span class="w"> </span><span class="n">message</span><span class="p">,</span><span class="w"> </span><span class="n">vars</span><span class="p" data-group-id="8293784689-8">}</span><span class="w">
</span><span class="k" data-group-id="8293784689-4">end</span><span class="w">
</span><span class="k" data-group-id="8293784689-2">end</span><span class="p" data-group-id="8293784689-1">)</span></code></pre></li></ul></li><li><code class="inline">:prepare_source</code> - A 1-argument function the receives the initial changeset (or query) and makes any relevant changes to it.
This can be used to do things like:  <ul><li>Set default argument values before the validations are run using <a href="https://hexdocs.pm/ash/3.7.6/Ash.Changeset.html#set_arguments/2"><code class="inline">Ash.Changeset.set_arguments/2</code></a> or <a href="https://hexdocs.pm/ash/3.7.6/Ash.Changeset.html#set_argument/3"><code class="inline">Ash.Changeset.set_argument/3</code></a></li><li>Set changeset context</li><li>Do any other pre-processing on the changeset</li></ul></li><li><code class="inline">:prepare_params</code> - A 2-argument function that receives the params map and the :validate atom and should return prepared params.
Called before the form is validated.</li><li><code class="inline">:transform_params</code> - A function for post-processing the form parameters before they are used for changeset validation/submission.
Use a 3-argument function to pattern match on the <a href="https://hexdocs.pm/ash_phoenix/2.3.17/AshPhoenix.Form.html"><code class="inline">AshPhoenix.Form</code></a> struct.</li><li><code class="inline">:method</code> (<a href="https://hexdocs.pm/elixir/String.html#t:t/0"><code class="inline">String.t/0</code></a>) - The http method to associate with the form. Defaults to <code class="inline">post</code> for creates, and <code class="inline">put</code> for everything else.</li><li><code class="inline">:exclude_fields_if_empty</code> - These fields will be ignored if they are empty strings.<br/>This list of fields supports dead view forms. When a form is submitted from dead view
empty fields are submitted as empty strings. This is problematic for fields that allow_nil
or those that have default values.</li><li><code class="inline">:tenant</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - The current tenant. Passed through to the underlying action.</li><li><code class="inline">:params</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - The initial parameters to use for the form. This is useful for setting up a form with default values. The default value is <code class="inline">%{}</code>.
Any <em>additional</em> options will be passed to the underlying call to build the source, i.e
<a href="https://hexdocs.pm/ash/3.7.6/Ash.ActionInput.html#for_action/4"><code class="inline">Ash.ActionInput.for_action/4</code></a>, or <code class="inline">Ash.Changeset.for_*</code>. This means you can set things
like the tenant/actor. These will be retained, and provided again when
<code class="inline">Form.submit/3</code> is called.</li></ul><h2 id="form_to_get_legislation/1-nested-form-options" class="section-heading"><a href="#form_to_get_legislation/1-nested-form-options" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Nested Form Options</span></h2><ul><li><code class="inline">:type</code> - The cardinality of the nested form - <code class="inline">:list</code> or <code class="inline">:single</code>. Valid values are :list, :single The default value is <code class="inline">:single</code>.</li><li><code class="inline">:sparse?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If the nested form is <code class="inline">sparse</code>, the form won't expect all inputs for all forms to be present.<br/>Has no effect if the type is <code class="inline">:single</code>.<br/>Normally, if you leave some forms out of a list of nested forms, they are removed from the parameters
passed to the action. For example, if you had a <code class="inline">post</code> with two comments <code class="inline">[%Comment{id: 1}, %Comment{id: 2}]</code>
and you passed down params like <code class="inline">comments[0][id]=1&amp;comments[1][text]=new_text</code>, we would remove the second comment
from the input parameters, resulting in the following being passed into the action: <code class="inline">%{&quot;comments&quot; =&gt; [%{&quot;id&quot; =&gt; 1, &quot;text&quot; =&gt; &quot;new&quot;}]}</code>.
By setting it to sparse, you have to explicitly use <code class="inline">remove_form</code> for that removal to happen. So in the same scenario above, the parameters
that would be sent would actually be <code class="inline">%{&quot;comments&quot; =&gt; [%{&quot;id&quot; =&gt; 1, &quot;text&quot; =&gt; &quot;new&quot;}, %{&quot;id&quot; =&gt; 2}]}</code>.<br/>One major difference with <code class="inline">sparse?</code> is that the form actually ignores the <em>index</em> provided, e.g <code class="inline">comments[0]...</code>, and instead uses the primary
key e.g <code class="inline">comments[0][id]</code> to match which form is being updated. This prevents you from having to find the index of the specific item you want to
update. Which could be very gnarly on deeply nested forms. If there is no primary key, or the primary key does not match anything, it is treated
as a new form.<br/>REMEMBER: You need to use <code class="inline">Phoenix.Components.inputs_for</code> to render the nested forms, or manually add hidden inputs using
<code class="inline">hidden_inputs_for</code> (or <code class="inline">HiddenInputs</code> if using Surface) for the id to be automatically placed into the form.</li><li><code class="inline">:forms</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">keyword/0</code></a>) - Forms nested inside the current nesting level in all cases.</li><li><code class="inline">:for_type</code> - What action types the form applies for. Leave blank for it to apply to all action types. Valid values are :read, :create, :update</li><li><code class="inline">:merge?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - When building parameters, this input will be merged with its parent input. This allows for combining multiple forms into a single input. The default value is <code class="inline">false</code>.</li><li><code class="inline">:for</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - When creating parameters for the action, the key that the forms should be gathered into. Defaults to the key used to configure the nested form. Ignored if <code class="inline">merge?</code> is <code class="inline">true</code>.</li><li><code class="inline">:resource</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - The resource of the nested forms. Unnecessary if you are providing the <code class="inline">data</code> key, and not adding additional forms to this path.</li><li><code class="inline">:create_action</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - The create action to use when building new forms. Only necessary if you want to use <code class="inline">add_form/3</code> with this path.</li><li><code class="inline">:update_action</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - The update action to use when building forms for data. Only necessary if you supply the <code class="inline">data</code> key.</li><li><code class="inline">:data</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - The current value or values that should have update forms built by default.<br/>You can also provide a single argument function that will return the data based on the
data of the parent form. This is important for multiple nesting levels of <code class="inline">:list</code> type
forms, because the data depends on which parent is being rendered.</li></ul>
  </section>
</section>
<section class="detail" id="form_to_get_notice/1">

    <span id="form_to_get_notice/0"></span>

  <div class="detail-header">
    <a href="#form_to_get_notice/1" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">form_to_get_notice(form_opts \\ [])</h1>


    </div>
  </div>

  <section class="docstring">

<p>Creates a form for the read action on EhsEnforcement.Enforcement.Notice.</p><h2 id="form_to_get_notice/1-options" class="section-heading"><a href="#form_to_get_notice/1-options" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Options</span></h2><ul><li><code class="inline">:actor</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - The actor performing the action. Passed through to the underlying action.</li><li><code class="inline">:scope</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A value that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.Scope.html"><code class="inline">Ash.Scope</code></a> protocol, for passing around actor/tenant/context in a single value. See <a href="https://hexdocs.pm/ash/3.7.6/Ash.Scope.html"><code class="inline">Ash.Scope</code></a> for more.</li><li><code class="inline">:forms</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">keyword/0</code></a>) - Nested form configurations. See <code class="inline">for_create/3</code> &quot;Nested Form Options&quot; docs for more.</li><li><code class="inline">:warn_on_unhandled_errors?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Warns on any errors that don't match the form pattern of <code class="inline">{:field, &quot;message&quot;, [replacement: :vars]}</code> or implement the <a href="https://hexdocs.pm/ash_phoenix/2.3.17/AshPhoenix.FormData.Error.html"><code class="inline">AshPhoenix.FormData.Error</code></a> protocol. The default value is <code class="inline">true</code>.</li><li><code class="inline">:domain</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - The domain to use when calling the action.</li><li><code class="inline">:as</code> (<a href="https://hexdocs.pm/elixir/String.html#t:t/0"><code class="inline">String.t/0</code></a>) - The name of the form in the submitted params. You will need to pull the form params out using this key. The default value is <code class="inline">&quot;form&quot;</code>.</li><li><code class="inline">:id</code> (<a href="https://hexdocs.pm/elixir/String.html#t:t/0"><code class="inline">String.t/0</code></a>) - The html id of the form. Defaults to the value of <code class="inline">:as</code> if provided, otherwise &quot;form&quot;</li><li><code class="inline">:transform_errors</code> - Allows for manual manipulation and transformation of errors. You may prefer <code class="inline">post_process_errors</code> as a simpler API.<br/>If possible, try to implement <a href="https://hexdocs.pm/ash_phoenix/2.3.17/AshPhoenix.FormData.Error.html"><code class="inline">AshPhoenix.FormData.Error</code></a> for the error (if it as a custom one, for example).
If that isn't possible, you can provide this function which will get the changeset and the error, and should
return a list of ash phoenix formatted errors, e.g <code class="inline">[{field :: atom, message :: String.t(), substituations :: Keyword.t()}]</code><br/>Example:<pre><code class="makeup elixir" translate="no"><span class="nc">AshPhoenix.Form</span><span class="o">.</span><span class="n">for_create</span><span class="p" data-group-id="4823721505-1">(</span><span class="n">...</span><span class="p">,</span><span class="w"> </span><span class="ss">transform_errors</span><span class="p">:</span><span class="w"> </span><span class="k" data-group-id="4823721505-2">fn</span><span class="w">
  </span><span class="c">_changeset</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="4823721505-3">%{</span><span class="ss">field</span><span class="p">:</span><span class="w"> </span><span class="ss">:field1</span><span class="p" data-group-id="4823721505-3">}</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">error</span><span class="w"> </span><span class="o">-&gt;</span><span class="w">
    </span><span class="p" data-group-id="4823721505-4">%{</span><span class="n">error</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="ss">field</span><span class="p">:</span><span class="w"> </span><span class="ss">:field2</span><span class="p" data-group-id="4823721505-4">}</span><span class="w">  
  </span><span class="c">_changeset</span><span class="p">,</span><span class="w"> </span><span class="n">error</span><span class="w"> </span><span class="o">-&gt;</span><span class="w">
    </span><span class="n">error</span><span class="w">
</span><span class="k" data-group-id="4823721505-2">end</span></code></pre></li><li><code class="inline">:post_process_errors</code> - Allows for post-processing of errors after they have been converted to the standard triple format.<br/>This function receives the form, the path to the form, and an error triple <code class="inline">{field, message, vars}</code>.
It should return either a modified triple or <code class="inline">nil</code> to filter out the error.<br/>This is useful for:<ul><li>Filtering out certain errors based on custom criteria</li><li>Remapping field names from one field to another</li><li>Modifying error messages or variables<br/>Example:<pre><code class="makeup elixir" translate="no"><span class="nc">AshPhoenix.Form</span><span class="o">.</span><span class="n">for_create</span><span class="p" data-group-id="1320128460-1">(</span><span class="n">...</span><span class="p">,</span><span class="w"> </span><span class="ss">post_process_errors</span><span class="p">:</span><span class="w"> </span><span class="k" data-group-id="1320128460-2">fn</span><span class="w"> </span><span class="n">form</span><span class="p">,</span><span class="w"> </span><span class="c">_path</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="1320128460-3">{</span><span class="n">field</span><span class="p">,</span><span class="w"> </span><span class="n">message</span><span class="p">,</span><span class="w"> </span><span class="n">vars</span><span class="p" data-group-id="1320128460-3">}</span><span class="w"> </span><span class="o">-&gt;</span><span class="w">
</span><span class="k">case</span><span class="w"> </span><span class="n">field</span><span class="w"> </span><span class="k" data-group-id="1320128460-4">do</span><span class="w">
  </span><span class="ss">:status</span><span class="w"> </span><span class="o">-&gt;</span><span class="w">
    </span><span class="c1"># hide these errors</span><span class="w">
    </span><span class="no">nil</span><span class="w">  
  </span><span class="n">field</span><span class="w"> </span><span class="ow">when</span><span class="w"> </span><span class="n">field</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="p" data-group-id="1320128460-5">[</span><span class="ss">:currency</span><span class="p">,</span><span class="w"> </span><span class="ss">:amount</span><span class="p" data-group-id="1320128460-5">]</span><span class="w"> </span><span class="o">-&gt;</span><span class="w">
    </span><span class="c1"># remap the field, and replace the error message</span><span class="w">
    </span><span class="p" data-group-id="1320128460-6">{</span><span class="ss">:money</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;please enter a real money amount&quot;</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="1320128460-7">[</span><span class="p" data-group-id="1320128460-7">]</span><span class="p" data-group-id="1320128460-6">}</span><span class="w">  
  </span><span class="n">field</span><span class="w"> </span><span class="o">-&gt;</span><span class="w">
    </span><span class="c1"># leave the others unchanged</span><span class="w">
    </span><span class="p" data-group-id="1320128460-8">{</span><span class="n">field</span><span class="p">,</span><span class="w"> </span><span class="n">message</span><span class="p">,</span><span class="w"> </span><span class="n">vars</span><span class="p" data-group-id="1320128460-8">}</span><span class="w">
</span><span class="k" data-group-id="1320128460-4">end</span><span class="w">
</span><span class="k" data-group-id="1320128460-2">end</span><span class="p" data-group-id="1320128460-1">)</span></code></pre></li></ul></li><li><code class="inline">:prepare_source</code> - A 1-argument function the receives the initial changeset (or query) and makes any relevant changes to it.
This can be used to do things like:  <ul><li>Set default argument values before the validations are run using <a href="https://hexdocs.pm/ash/3.7.6/Ash.Changeset.html#set_arguments/2"><code class="inline">Ash.Changeset.set_arguments/2</code></a> or <a href="https://hexdocs.pm/ash/3.7.6/Ash.Changeset.html#set_argument/3"><code class="inline">Ash.Changeset.set_argument/3</code></a></li><li>Set changeset context</li><li>Do any other pre-processing on the changeset</li></ul></li><li><code class="inline">:prepare_params</code> - A 2-argument function that receives the params map and the :validate atom and should return prepared params.
Called before the form is validated.</li><li><code class="inline">:transform_params</code> - A function for post-processing the form parameters before they are used for changeset validation/submission.
Use a 3-argument function to pattern match on the <a href="https://hexdocs.pm/ash_phoenix/2.3.17/AshPhoenix.Form.html"><code class="inline">AshPhoenix.Form</code></a> struct.</li><li><code class="inline">:method</code> (<a href="https://hexdocs.pm/elixir/String.html#t:t/0"><code class="inline">String.t/0</code></a>) - The http method to associate with the form. Defaults to <code class="inline">post</code> for creates, and <code class="inline">put</code> for everything else.</li><li><code class="inline">:exclude_fields_if_empty</code> - These fields will be ignored if they are empty strings.<br/>This list of fields supports dead view forms. When a form is submitted from dead view
empty fields are submitted as empty strings. This is problematic for fields that allow_nil
or those that have default values.</li><li><code class="inline">:tenant</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - The current tenant. Passed through to the underlying action.</li><li><code class="inline">:params</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - The initial parameters to use for the form. This is useful for setting up a form with default values. The default value is <code class="inline">%{}</code>.
Any <em>additional</em> options will be passed to the underlying call to build the source, i.e
<a href="https://hexdocs.pm/ash/3.7.6/Ash.ActionInput.html#for_action/4"><code class="inline">Ash.ActionInput.for_action/4</code></a>, or <code class="inline">Ash.Changeset.for_*</code>. This means you can set things
like the tenant/actor. These will be retained, and provided again when
<code class="inline">Form.submit/3</code> is called.</li></ul><h2 id="form_to_get_notice/1-nested-form-options" class="section-heading"><a href="#form_to_get_notice/1-nested-form-options" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Nested Form Options</span></h2><ul><li><code class="inline">:type</code> - The cardinality of the nested form - <code class="inline">:list</code> or <code class="inline">:single</code>. Valid values are :list, :single The default value is <code class="inline">:single</code>.</li><li><code class="inline">:sparse?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If the nested form is <code class="inline">sparse</code>, the form won't expect all inputs for all forms to be present.<br/>Has no effect if the type is <code class="inline">:single</code>.<br/>Normally, if you leave some forms out of a list of nested forms, they are removed from the parameters
passed to the action. For example, if you had a <code class="inline">post</code> with two comments <code class="inline">[%Comment{id: 1}, %Comment{id: 2}]</code>
and you passed down params like <code class="inline">comments[0][id]=1&amp;comments[1][text]=new_text</code>, we would remove the second comment
from the input parameters, resulting in the following being passed into the action: <code class="inline">%{&quot;comments&quot; =&gt; [%{&quot;id&quot; =&gt; 1, &quot;text&quot; =&gt; &quot;new&quot;}]}</code>.
By setting it to sparse, you have to explicitly use <code class="inline">remove_form</code> for that removal to happen. So in the same scenario above, the parameters
that would be sent would actually be <code class="inline">%{&quot;comments&quot; =&gt; [%{&quot;id&quot; =&gt; 1, &quot;text&quot; =&gt; &quot;new&quot;}, %{&quot;id&quot; =&gt; 2}]}</code>.<br/>One major difference with <code class="inline">sparse?</code> is that the form actually ignores the <em>index</em> provided, e.g <code class="inline">comments[0]...</code>, and instead uses the primary
key e.g <code class="inline">comments[0][id]</code> to match which form is being updated. This prevents you from having to find the index of the specific item you want to
update. Which could be very gnarly on deeply nested forms. If there is no primary key, or the primary key does not match anything, it is treated
as a new form.<br/>REMEMBER: You need to use <code class="inline">Phoenix.Components.inputs_for</code> to render the nested forms, or manually add hidden inputs using
<code class="inline">hidden_inputs_for</code> (or <code class="inline">HiddenInputs</code> if using Surface) for the id to be automatically placed into the form.</li><li><code class="inline">:forms</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">keyword/0</code></a>) - Forms nested inside the current nesting level in all cases.</li><li><code class="inline">:for_type</code> - What action types the form applies for. Leave blank for it to apply to all action types. Valid values are :read, :create, :update</li><li><code class="inline">:merge?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - When building parameters, this input will be merged with its parent input. This allows for combining multiple forms into a single input. The default value is <code class="inline">false</code>.</li><li><code class="inline">:for</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - When creating parameters for the action, the key that the forms should be gathered into. Defaults to the key used to configure the nested form. Ignored if <code class="inline">merge?</code> is <code class="inline">true</code>.</li><li><code class="inline">:resource</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - The resource of the nested forms. Unnecessary if you are providing the <code class="inline">data</code> key, and not adding additional forms to this path.</li><li><code class="inline">:create_action</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - The create action to use when building new forms. Only necessary if you want to use <code class="inline">add_form/3</code> with this path.</li><li><code class="inline">:update_action</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - The update action to use when building forms for data. Only necessary if you supply the <code class="inline">data</code> key.</li><li><code class="inline">:data</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - The current value or values that should have update forms built by default.<br/>You can also provide a single argument function that will return the data based on the
data of the parent form. This is important for multiple nesting levels of <code class="inline">:list</code> type
forms, because the data depends on which parent is being rendered.</li></ul>
  </section>
</section>
<section class="detail" id="form_to_get_offence/1">

    <span id="form_to_get_offence/0"></span>

  <div class="detail-header">
    <a href="#form_to_get_offence/1" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">form_to_get_offence(form_opts \\ [])</h1>


    </div>
  </div>

  <section class="docstring">

<p>Creates a form for the read action on EhsEnforcement.Enforcement.Offence.</p><h2 id="form_to_get_offence/1-options" class="section-heading"><a href="#form_to_get_offence/1-options" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Options</span></h2><ul><li><code class="inline">:actor</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - The actor performing the action. Passed through to the underlying action.</li><li><code class="inline">:scope</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A value that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.Scope.html"><code class="inline">Ash.Scope</code></a> protocol, for passing around actor/tenant/context in a single value. See <a href="https://hexdocs.pm/ash/3.7.6/Ash.Scope.html"><code class="inline">Ash.Scope</code></a> for more.</li><li><code class="inline">:forms</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">keyword/0</code></a>) - Nested form configurations. See <code class="inline">for_create/3</code> &quot;Nested Form Options&quot; docs for more.</li><li><code class="inline">:warn_on_unhandled_errors?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Warns on any errors that don't match the form pattern of <code class="inline">{:field, &quot;message&quot;, [replacement: :vars]}</code> or implement the <a href="https://hexdocs.pm/ash_phoenix/2.3.17/AshPhoenix.FormData.Error.html"><code class="inline">AshPhoenix.FormData.Error</code></a> protocol. The default value is <code class="inline">true</code>.</li><li><code class="inline">:domain</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - The domain to use when calling the action.</li><li><code class="inline">:as</code> (<a href="https://hexdocs.pm/elixir/String.html#t:t/0"><code class="inline">String.t/0</code></a>) - The name of the form in the submitted params. You will need to pull the form params out using this key. The default value is <code class="inline">&quot;form&quot;</code>.</li><li><code class="inline">:id</code> (<a href="https://hexdocs.pm/elixir/String.html#t:t/0"><code class="inline">String.t/0</code></a>) - The html id of the form. Defaults to the value of <code class="inline">:as</code> if provided, otherwise &quot;form&quot;</li><li><code class="inline">:transform_errors</code> - Allows for manual manipulation and transformation of errors. You may prefer <code class="inline">post_process_errors</code> as a simpler API.<br/>If possible, try to implement <a href="https://hexdocs.pm/ash_phoenix/2.3.17/AshPhoenix.FormData.Error.html"><code class="inline">AshPhoenix.FormData.Error</code></a> for the error (if it as a custom one, for example).
If that isn't possible, you can provide this function which will get the changeset and the error, and should
return a list of ash phoenix formatted errors, e.g <code class="inline">[{field :: atom, message :: String.t(), substituations :: Keyword.t()}]</code><br/>Example:<pre><code class="makeup elixir" translate="no"><span class="nc">AshPhoenix.Form</span><span class="o">.</span><span class="n">for_create</span><span class="p" data-group-id="0338817426-1">(</span><span class="n">...</span><span class="p">,</span><span class="w"> </span><span class="ss">transform_errors</span><span class="p">:</span><span class="w"> </span><span class="k" data-group-id="0338817426-2">fn</span><span class="w">
  </span><span class="c">_changeset</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="0338817426-3">%{</span><span class="ss">field</span><span class="p">:</span><span class="w"> </span><span class="ss">:field1</span><span class="p" data-group-id="0338817426-3">}</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">error</span><span class="w"> </span><span class="o">-&gt;</span><span class="w">
    </span><span class="p" data-group-id="0338817426-4">%{</span><span class="n">error</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="ss">field</span><span class="p">:</span><span class="w"> </span><span class="ss">:field2</span><span class="p" data-group-id="0338817426-4">}</span><span class="w">  
  </span><span class="c">_changeset</span><span class="p">,</span><span class="w"> </span><span class="n">error</span><span class="w"> </span><span class="o">-&gt;</span><span class="w">
    </span><span class="n">error</span><span class="w">
</span><span class="k" data-group-id="0338817426-2">end</span></code></pre></li><li><code class="inline">:post_process_errors</code> - Allows for post-processing of errors after they have been converted to the standard triple format.<br/>This function receives the form, the path to the form, and an error triple <code class="inline">{field, message, vars}</code>.
It should return either a modified triple or <code class="inline">nil</code> to filter out the error.<br/>This is useful for:<ul><li>Filtering out certain errors based on custom criteria</li><li>Remapping field names from one field to another</li><li>Modifying error messages or variables<br/>Example:<pre><code class="makeup elixir" translate="no"><span class="nc">AshPhoenix.Form</span><span class="o">.</span><span class="n">for_create</span><span class="p" data-group-id="9678416224-1">(</span><span class="n">...</span><span class="p">,</span><span class="w"> </span><span class="ss">post_process_errors</span><span class="p">:</span><span class="w"> </span><span class="k" data-group-id="9678416224-2">fn</span><span class="w"> </span><span class="n">form</span><span class="p">,</span><span class="w"> </span><span class="c">_path</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="9678416224-3">{</span><span class="n">field</span><span class="p">,</span><span class="w"> </span><span class="n">message</span><span class="p">,</span><span class="w"> </span><span class="n">vars</span><span class="p" data-group-id="9678416224-3">}</span><span class="w"> </span><span class="o">-&gt;</span><span class="w">
</span><span class="k">case</span><span class="w"> </span><span class="n">field</span><span class="w"> </span><span class="k" data-group-id="9678416224-4">do</span><span class="w">
  </span><span class="ss">:status</span><span class="w"> </span><span class="o">-&gt;</span><span class="w">
    </span><span class="c1"># hide these errors</span><span class="w">
    </span><span class="no">nil</span><span class="w">  
  </span><span class="n">field</span><span class="w"> </span><span class="ow">when</span><span class="w"> </span><span class="n">field</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="p" data-group-id="9678416224-5">[</span><span class="ss">:currency</span><span class="p">,</span><span class="w"> </span><span class="ss">:amount</span><span class="p" data-group-id="9678416224-5">]</span><span class="w"> </span><span class="o">-&gt;</span><span class="w">
    </span><span class="c1"># remap the field, and replace the error message</span><span class="w">
    </span><span class="p" data-group-id="9678416224-6">{</span><span class="ss">:money</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;please enter a real money amount&quot;</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="9678416224-7">[</span><span class="p" data-group-id="9678416224-7">]</span><span class="p" data-group-id="9678416224-6">}</span><span class="w">  
  </span><span class="n">field</span><span class="w"> </span><span class="o">-&gt;</span><span class="w">
    </span><span class="c1"># leave the others unchanged</span><span class="w">
    </span><span class="p" data-group-id="9678416224-8">{</span><span class="n">field</span><span class="p">,</span><span class="w"> </span><span class="n">message</span><span class="p">,</span><span class="w"> </span><span class="n">vars</span><span class="p" data-group-id="9678416224-8">}</span><span class="w">
</span><span class="k" data-group-id="9678416224-4">end</span><span class="w">
</span><span class="k" data-group-id="9678416224-2">end</span><span class="p" data-group-id="9678416224-1">)</span></code></pre></li></ul></li><li><code class="inline">:prepare_source</code> - A 1-argument function the receives the initial changeset (or query) and makes any relevant changes to it.
This can be used to do things like:  <ul><li>Set default argument values before the validations are run using <a href="https://hexdocs.pm/ash/3.7.6/Ash.Changeset.html#set_arguments/2"><code class="inline">Ash.Changeset.set_arguments/2</code></a> or <a href="https://hexdocs.pm/ash/3.7.6/Ash.Changeset.html#set_argument/3"><code class="inline">Ash.Changeset.set_argument/3</code></a></li><li>Set changeset context</li><li>Do any other pre-processing on the changeset</li></ul></li><li><code class="inline">:prepare_params</code> - A 2-argument function that receives the params map and the :validate atom and should return prepared params.
Called before the form is validated.</li><li><code class="inline">:transform_params</code> - A function for post-processing the form parameters before they are used for changeset validation/submission.
Use a 3-argument function to pattern match on the <a href="https://hexdocs.pm/ash_phoenix/2.3.17/AshPhoenix.Form.html"><code class="inline">AshPhoenix.Form</code></a> struct.</li><li><code class="inline">:method</code> (<a href="https://hexdocs.pm/elixir/String.html#t:t/0"><code class="inline">String.t/0</code></a>) - The http method to associate with the form. Defaults to <code class="inline">post</code> for creates, and <code class="inline">put</code> for everything else.</li><li><code class="inline">:exclude_fields_if_empty</code> - These fields will be ignored if they are empty strings.<br/>This list of fields supports dead view forms. When a form is submitted from dead view
empty fields are submitted as empty strings. This is problematic for fields that allow_nil
or those that have default values.</li><li><code class="inline">:tenant</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - The current tenant. Passed through to the underlying action.</li><li><code class="inline">:params</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - The initial parameters to use for the form. This is useful for setting up a form with default values. The default value is <code class="inline">%{}</code>.
Any <em>additional</em> options will be passed to the underlying call to build the source, i.e
<a href="https://hexdocs.pm/ash/3.7.6/Ash.ActionInput.html#for_action/4"><code class="inline">Ash.ActionInput.for_action/4</code></a>, or <code class="inline">Ash.Changeset.for_*</code>. This means you can set things
like the tenant/actor. These will be retained, and provided again when
<code class="inline">Form.submit/3</code> is called.</li></ul><h2 id="form_to_get_offence/1-nested-form-options" class="section-heading"><a href="#form_to_get_offence/1-nested-form-options" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Nested Form Options</span></h2><ul><li><code class="inline">:type</code> - The cardinality of the nested form - <code class="inline">:list</code> or <code class="inline">:single</code>. Valid values are :list, :single The default value is <code class="inline">:single</code>.</li><li><code class="inline">:sparse?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If the nested form is <code class="inline">sparse</code>, the form won't expect all inputs for all forms to be present.<br/>Has no effect if the type is <code class="inline">:single</code>.<br/>Normally, if you leave some forms out of a list of nested forms, they are removed from the parameters
passed to the action. For example, if you had a <code class="inline">post</code> with two comments <code class="inline">[%Comment{id: 1}, %Comment{id: 2}]</code>
and you passed down params like <code class="inline">comments[0][id]=1&amp;comments[1][text]=new_text</code>, we would remove the second comment
from the input parameters, resulting in the following being passed into the action: <code class="inline">%{&quot;comments&quot; =&gt; [%{&quot;id&quot; =&gt; 1, &quot;text&quot; =&gt; &quot;new&quot;}]}</code>.
By setting it to sparse, you have to explicitly use <code class="inline">remove_form</code> for that removal to happen. So in the same scenario above, the parameters
that would be sent would actually be <code class="inline">%{&quot;comments&quot; =&gt; [%{&quot;id&quot; =&gt; 1, &quot;text&quot; =&gt; &quot;new&quot;}, %{&quot;id&quot; =&gt; 2}]}</code>.<br/>One major difference with <code class="inline">sparse?</code> is that the form actually ignores the <em>index</em> provided, e.g <code class="inline">comments[0]...</code>, and instead uses the primary
key e.g <code class="inline">comments[0][id]</code> to match which form is being updated. This prevents you from having to find the index of the specific item you want to
update. Which could be very gnarly on deeply nested forms. If there is no primary key, or the primary key does not match anything, it is treated
as a new form.<br/>REMEMBER: You need to use <code class="inline">Phoenix.Components.inputs_for</code> to render the nested forms, or manually add hidden inputs using
<code class="inline">hidden_inputs_for</code> (or <code class="inline">HiddenInputs</code> if using Surface) for the id to be automatically placed into the form.</li><li><code class="inline">:forms</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">keyword/0</code></a>) - Forms nested inside the current nesting level in all cases.</li><li><code class="inline">:for_type</code> - What action types the form applies for. Leave blank for it to apply to all action types. Valid values are :read, :create, :update</li><li><code class="inline">:merge?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - When building parameters, this input will be merged with its parent input. This allows for combining multiple forms into a single input. The default value is <code class="inline">false</code>.</li><li><code class="inline">:for</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - When creating parameters for the action, the key that the forms should be gathered into. Defaults to the key used to configure the nested form. Ignored if <code class="inline">merge?</code> is <code class="inline">true</code>.</li><li><code class="inline">:resource</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - The resource of the nested forms. Unnecessary if you are providing the <code class="inline">data</code> key, and not adding additional forms to this path.</li><li><code class="inline">:create_action</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - The create action to use when building new forms. Only necessary if you want to use <code class="inline">add_form/3</code> with this path.</li><li><code class="inline">:update_action</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - The update action to use when building forms for data. Only necessary if you supply the <code class="inline">data</code> key.</li><li><code class="inline">:data</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - The current value or values that should have update forms built by default.<br/>You can also provide a single argument function that will return the data based on the
data of the parent form. This is important for multiple nesting levels of <code class="inline">:list</code> type
forms, because the data depends on which parent is being rendered.</li></ul>
  </section>
</section>
<section class="detail" id="form_to_get_offence_by_reference/1">

    <span id="form_to_get_offence_by_reference/0"></span>

  <div class="detail-header">
    <a href="#form_to_get_offence_by_reference/1" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">form_to_get_offence_by_reference(form_opts \\ [])</h1>


    </div>
  </div>

  <section class="docstring">

<p>Creates a form for the by_reference action on EhsEnforcement.Enforcement.Offence.</p><h2 id="form_to_get_offence_by_reference/1-options" class="section-heading"><a href="#form_to_get_offence_by_reference/1-options" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Options</span></h2><ul><li><code class="inline">:actor</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - The actor performing the action. Passed through to the underlying action.</li><li><code class="inline">:scope</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A value that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.Scope.html"><code class="inline">Ash.Scope</code></a> protocol, for passing around actor/tenant/context in a single value. See <a href="https://hexdocs.pm/ash/3.7.6/Ash.Scope.html"><code class="inline">Ash.Scope</code></a> for more.</li><li><code class="inline">:forms</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">keyword/0</code></a>) - Nested form configurations. See <code class="inline">for_create/3</code> &quot;Nested Form Options&quot; docs for more.</li><li><code class="inline">:warn_on_unhandled_errors?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Warns on any errors that don't match the form pattern of <code class="inline">{:field, &quot;message&quot;, [replacement: :vars]}</code> or implement the <a href="https://hexdocs.pm/ash_phoenix/2.3.17/AshPhoenix.FormData.Error.html"><code class="inline">AshPhoenix.FormData.Error</code></a> protocol. The default value is <code class="inline">true</code>.</li><li><code class="inline">:domain</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - The domain to use when calling the action.</li><li><code class="inline">:as</code> (<a href="https://hexdocs.pm/elixir/String.html#t:t/0"><code class="inline">String.t/0</code></a>) - The name of the form in the submitted params. You will need to pull the form params out using this key. The default value is <code class="inline">&quot;form&quot;</code>.</li><li><code class="inline">:id</code> (<a href="https://hexdocs.pm/elixir/String.html#t:t/0"><code class="inline">String.t/0</code></a>) - The html id of the form. Defaults to the value of <code class="inline">:as</code> if provided, otherwise &quot;form&quot;</li><li><code class="inline">:transform_errors</code> - Allows for manual manipulation and transformation of errors. You may prefer <code class="inline">post_process_errors</code> as a simpler API.<br/>If possible, try to implement <a href="https://hexdocs.pm/ash_phoenix/2.3.17/AshPhoenix.FormData.Error.html"><code class="inline">AshPhoenix.FormData.Error</code></a> for the error (if it as a custom one, for example).
If that isn't possible, you can provide this function which will get the changeset and the error, and should
return a list of ash phoenix formatted errors, e.g <code class="inline">[{field :: atom, message :: String.t(), substituations :: Keyword.t()}]</code><br/>Example:<pre><code class="makeup elixir" translate="no"><span class="nc">AshPhoenix.Form</span><span class="o">.</span><span class="n">for_create</span><span class="p" data-group-id="5144337564-1">(</span><span class="n">...</span><span class="p">,</span><span class="w"> </span><span class="ss">transform_errors</span><span class="p">:</span><span class="w"> </span><span class="k" data-group-id="5144337564-2">fn</span><span class="w">
  </span><span class="c">_changeset</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="5144337564-3">%{</span><span class="ss">field</span><span class="p">:</span><span class="w"> </span><span class="ss">:field1</span><span class="p" data-group-id="5144337564-3">}</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">error</span><span class="w"> </span><span class="o">-&gt;</span><span class="w">
    </span><span class="p" data-group-id="5144337564-4">%{</span><span class="n">error</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="ss">field</span><span class="p">:</span><span class="w"> </span><span class="ss">:field2</span><span class="p" data-group-id="5144337564-4">}</span><span class="w">  
  </span><span class="c">_changeset</span><span class="p">,</span><span class="w"> </span><span class="n">error</span><span class="w"> </span><span class="o">-&gt;</span><span class="w">
    </span><span class="n">error</span><span class="w">
</span><span class="k" data-group-id="5144337564-2">end</span></code></pre></li><li><code class="inline">:post_process_errors</code> - Allows for post-processing of errors after they have been converted to the standard triple format.<br/>This function receives the form, the path to the form, and an error triple <code class="inline">{field, message, vars}</code>.
It should return either a modified triple or <code class="inline">nil</code> to filter out the error.<br/>This is useful for:<ul><li>Filtering out certain errors based on custom criteria</li><li>Remapping field names from one field to another</li><li>Modifying error messages or variables<br/>Example:<pre><code class="makeup elixir" translate="no"><span class="nc">AshPhoenix.Form</span><span class="o">.</span><span class="n">for_create</span><span class="p" data-group-id="0807299118-1">(</span><span class="n">...</span><span class="p">,</span><span class="w"> </span><span class="ss">post_process_errors</span><span class="p">:</span><span class="w"> </span><span class="k" data-group-id="0807299118-2">fn</span><span class="w"> </span><span class="n">form</span><span class="p">,</span><span class="w"> </span><span class="c">_path</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="0807299118-3">{</span><span class="n">field</span><span class="p">,</span><span class="w"> </span><span class="n">message</span><span class="p">,</span><span class="w"> </span><span class="n">vars</span><span class="p" data-group-id="0807299118-3">}</span><span class="w"> </span><span class="o">-&gt;</span><span class="w">
</span><span class="k">case</span><span class="w"> </span><span class="n">field</span><span class="w"> </span><span class="k" data-group-id="0807299118-4">do</span><span class="w">
  </span><span class="ss">:status</span><span class="w"> </span><span class="o">-&gt;</span><span class="w">
    </span><span class="c1"># hide these errors</span><span class="w">
    </span><span class="no">nil</span><span class="w">  
  </span><span class="n">field</span><span class="w"> </span><span class="ow">when</span><span class="w"> </span><span class="n">field</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="p" data-group-id="0807299118-5">[</span><span class="ss">:currency</span><span class="p">,</span><span class="w"> </span><span class="ss">:amount</span><span class="p" data-group-id="0807299118-5">]</span><span class="w"> </span><span class="o">-&gt;</span><span class="w">
    </span><span class="c1"># remap the field, and replace the error message</span><span class="w">
    </span><span class="p" data-group-id="0807299118-6">{</span><span class="ss">:money</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;please enter a real money amount&quot;</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="0807299118-7">[</span><span class="p" data-group-id="0807299118-7">]</span><span class="p" data-group-id="0807299118-6">}</span><span class="w">  
  </span><span class="n">field</span><span class="w"> </span><span class="o">-&gt;</span><span class="w">
    </span><span class="c1"># leave the others unchanged</span><span class="w">
    </span><span class="p" data-group-id="0807299118-8">{</span><span class="n">field</span><span class="p">,</span><span class="w"> </span><span class="n">message</span><span class="p">,</span><span class="w"> </span><span class="n">vars</span><span class="p" data-group-id="0807299118-8">}</span><span class="w">
</span><span class="k" data-group-id="0807299118-4">end</span><span class="w">
</span><span class="k" data-group-id="0807299118-2">end</span><span class="p" data-group-id="0807299118-1">)</span></code></pre></li></ul></li><li><code class="inline">:prepare_source</code> - A 1-argument function the receives the initial changeset (or query) and makes any relevant changes to it.
This can be used to do things like:  <ul><li>Set default argument values before the validations are run using <a href="https://hexdocs.pm/ash/3.7.6/Ash.Changeset.html#set_arguments/2"><code class="inline">Ash.Changeset.set_arguments/2</code></a> or <a href="https://hexdocs.pm/ash/3.7.6/Ash.Changeset.html#set_argument/3"><code class="inline">Ash.Changeset.set_argument/3</code></a></li><li>Set changeset context</li><li>Do any other pre-processing on the changeset</li></ul></li><li><code class="inline">:prepare_params</code> - A 2-argument function that receives the params map and the :validate atom and should return prepared params.
Called before the form is validated.</li><li><code class="inline">:transform_params</code> - A function for post-processing the form parameters before they are used for changeset validation/submission.
Use a 3-argument function to pattern match on the <a href="https://hexdocs.pm/ash_phoenix/2.3.17/AshPhoenix.Form.html"><code class="inline">AshPhoenix.Form</code></a> struct.</li><li><code class="inline">:method</code> (<a href="https://hexdocs.pm/elixir/String.html#t:t/0"><code class="inline">String.t/0</code></a>) - The http method to associate with the form. Defaults to <code class="inline">post</code> for creates, and <code class="inline">put</code> for everything else.</li><li><code class="inline">:exclude_fields_if_empty</code> - These fields will be ignored if they are empty strings.<br/>This list of fields supports dead view forms. When a form is submitted from dead view
empty fields are submitted as empty strings. This is problematic for fields that allow_nil
or those that have default values.</li><li><code class="inline">:tenant</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - The current tenant. Passed through to the underlying action.</li><li><code class="inline">:params</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - The initial parameters to use for the form. This is useful for setting up a form with default values. The default value is <code class="inline">%{}</code>.
Any <em>additional</em> options will be passed to the underlying call to build the source, i.e
<a href="https://hexdocs.pm/ash/3.7.6/Ash.ActionInput.html#for_action/4"><code class="inline">Ash.ActionInput.for_action/4</code></a>, or <code class="inline">Ash.Changeset.for_*</code>. This means you can set things
like the tenant/actor. These will be retained, and provided again when
<code class="inline">Form.submit/3</code> is called.</li></ul><h2 id="form_to_get_offence_by_reference/1-nested-form-options" class="section-heading"><a href="#form_to_get_offence_by_reference/1-nested-form-options" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Nested Form Options</span></h2><ul><li><code class="inline">:type</code> - The cardinality of the nested form - <code class="inline">:list</code> or <code class="inline">:single</code>. Valid values are :list, :single The default value is <code class="inline">:single</code>.</li><li><code class="inline">:sparse?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If the nested form is <code class="inline">sparse</code>, the form won't expect all inputs for all forms to be present.<br/>Has no effect if the type is <code class="inline">:single</code>.<br/>Normally, if you leave some forms out of a list of nested forms, they are removed from the parameters
passed to the action. For example, if you had a <code class="inline">post</code> with two comments <code class="inline">[%Comment{id: 1}, %Comment{id: 2}]</code>
and you passed down params like <code class="inline">comments[0][id]=1&amp;comments[1][text]=new_text</code>, we would remove the second comment
from the input parameters, resulting in the following being passed into the action: <code class="inline">%{&quot;comments&quot; =&gt; [%{&quot;id&quot; =&gt; 1, &quot;text&quot; =&gt; &quot;new&quot;}]}</code>.
By setting it to sparse, you have to explicitly use <code class="inline">remove_form</code> for that removal to happen. So in the same scenario above, the parameters
that would be sent would actually be <code class="inline">%{&quot;comments&quot; =&gt; [%{&quot;id&quot; =&gt; 1, &quot;text&quot; =&gt; &quot;new&quot;}, %{&quot;id&quot; =&gt; 2}]}</code>.<br/>One major difference with <code class="inline">sparse?</code> is that the form actually ignores the <em>index</em> provided, e.g <code class="inline">comments[0]...</code>, and instead uses the primary
key e.g <code class="inline">comments[0][id]</code> to match which form is being updated. This prevents you from having to find the index of the specific item you want to
update. Which could be very gnarly on deeply nested forms. If there is no primary key, or the primary key does not match anything, it is treated
as a new form.<br/>REMEMBER: You need to use <code class="inline">Phoenix.Components.inputs_for</code> to render the nested forms, or manually add hidden inputs using
<code class="inline">hidden_inputs_for</code> (or <code class="inline">HiddenInputs</code> if using Surface) for the id to be automatically placed into the form.</li><li><code class="inline">:forms</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">keyword/0</code></a>) - Forms nested inside the current nesting level in all cases.</li><li><code class="inline">:for_type</code> - What action types the form applies for. Leave blank for it to apply to all action types. Valid values are :read, :create, :update</li><li><code class="inline">:merge?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - When building parameters, this input will be merged with its parent input. This allows for combining multiple forms into a single input. The default value is <code class="inline">false</code>.</li><li><code class="inline">:for</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - When creating parameters for the action, the key that the forms should be gathered into. Defaults to the key used to configure the nested form. Ignored if <code class="inline">merge?</code> is <code class="inline">true</code>.</li><li><code class="inline">:resource</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - The resource of the nested forms. Unnecessary if you are providing the <code class="inline">data</code> key, and not adding additional forms to this path.</li><li><code class="inline">:create_action</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - The create action to use when building new forms. Only necessary if you want to use <code class="inline">add_form/3</code> with this path.</li><li><code class="inline">:update_action</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - The update action to use when building forms for data. Only necessary if you supply the <code class="inline">data</code> key.</li><li><code class="inline">:data</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - The current value or values that should have update forms built by default.<br/>You can also provide a single argument function that will return the data based on the
data of the parent form. This is important for multiple nesting levels of <code class="inline">:list</code> type
forms, because the data depends on which parent is being rendered.</li></ul>
  </section>
</section>
<section class="detail" id="form_to_get_offender/1">

    <span id="form_to_get_offender/0"></span>

  <div class="detail-header">
    <a href="#form_to_get_offender/1" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">form_to_get_offender(form_opts \\ [])</h1>


    </div>
  </div>

  <section class="docstring">

<p>Creates a form for the read action on EhsEnforcement.Enforcement.Offender.</p><h2 id="form_to_get_offender/1-options" class="section-heading"><a href="#form_to_get_offender/1-options" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Options</span></h2><ul><li><code class="inline">:actor</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - The actor performing the action. Passed through to the underlying action.</li><li><code class="inline">:scope</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A value that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.Scope.html"><code class="inline">Ash.Scope</code></a> protocol, for passing around actor/tenant/context in a single value. See <a href="https://hexdocs.pm/ash/3.7.6/Ash.Scope.html"><code class="inline">Ash.Scope</code></a> for more.</li><li><code class="inline">:forms</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">keyword/0</code></a>) - Nested form configurations. See <code class="inline">for_create/3</code> &quot;Nested Form Options&quot; docs for more.</li><li><code class="inline">:warn_on_unhandled_errors?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Warns on any errors that don't match the form pattern of <code class="inline">{:field, &quot;message&quot;, [replacement: :vars]}</code> or implement the <a href="https://hexdocs.pm/ash_phoenix/2.3.17/AshPhoenix.FormData.Error.html"><code class="inline">AshPhoenix.FormData.Error</code></a> protocol. The default value is <code class="inline">true</code>.</li><li><code class="inline">:domain</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - The domain to use when calling the action.</li><li><code class="inline">:as</code> (<a href="https://hexdocs.pm/elixir/String.html#t:t/0"><code class="inline">String.t/0</code></a>) - The name of the form in the submitted params. You will need to pull the form params out using this key. The default value is <code class="inline">&quot;form&quot;</code>.</li><li><code class="inline">:id</code> (<a href="https://hexdocs.pm/elixir/String.html#t:t/0"><code class="inline">String.t/0</code></a>) - The html id of the form. Defaults to the value of <code class="inline">:as</code> if provided, otherwise &quot;form&quot;</li><li><code class="inline">:transform_errors</code> - Allows for manual manipulation and transformation of errors. You may prefer <code class="inline">post_process_errors</code> as a simpler API.<br/>If possible, try to implement <a href="https://hexdocs.pm/ash_phoenix/2.3.17/AshPhoenix.FormData.Error.html"><code class="inline">AshPhoenix.FormData.Error</code></a> for the error (if it as a custom one, for example).
If that isn't possible, you can provide this function which will get the changeset and the error, and should
return a list of ash phoenix formatted errors, e.g <code class="inline">[{field :: atom, message :: String.t(), substituations :: Keyword.t()}]</code><br/>Example:<pre><code class="makeup elixir" translate="no"><span class="nc">AshPhoenix.Form</span><span class="o">.</span><span class="n">for_create</span><span class="p" data-group-id="3556737070-1">(</span><span class="n">...</span><span class="p">,</span><span class="w"> </span><span class="ss">transform_errors</span><span class="p">:</span><span class="w"> </span><span class="k" data-group-id="3556737070-2">fn</span><span class="w">
  </span><span class="c">_changeset</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="3556737070-3">%{</span><span class="ss">field</span><span class="p">:</span><span class="w"> </span><span class="ss">:field1</span><span class="p" data-group-id="3556737070-3">}</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">error</span><span class="w"> </span><span class="o">-&gt;</span><span class="w">
    </span><span class="p" data-group-id="3556737070-4">%{</span><span class="n">error</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="ss">field</span><span class="p">:</span><span class="w"> </span><span class="ss">:field2</span><span class="p" data-group-id="3556737070-4">}</span><span class="w">  
  </span><span class="c">_changeset</span><span class="p">,</span><span class="w"> </span><span class="n">error</span><span class="w"> </span><span class="o">-&gt;</span><span class="w">
    </span><span class="n">error</span><span class="w">
</span><span class="k" data-group-id="3556737070-2">end</span></code></pre></li><li><code class="inline">:post_process_errors</code> - Allows for post-processing of errors after they have been converted to the standard triple format.<br/>This function receives the form, the path to the form, and an error triple <code class="inline">{field, message, vars}</code>.
It should return either a modified triple or <code class="inline">nil</code> to filter out the error.<br/>This is useful for:<ul><li>Filtering out certain errors based on custom criteria</li><li>Remapping field names from one field to another</li><li>Modifying error messages or variables<br/>Example:<pre><code class="makeup elixir" translate="no"><span class="nc">AshPhoenix.Form</span><span class="o">.</span><span class="n">for_create</span><span class="p" data-group-id="1003536930-1">(</span><span class="n">...</span><span class="p">,</span><span class="w"> </span><span class="ss">post_process_errors</span><span class="p">:</span><span class="w"> </span><span class="k" data-group-id="1003536930-2">fn</span><span class="w"> </span><span class="n">form</span><span class="p">,</span><span class="w"> </span><span class="c">_path</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="1003536930-3">{</span><span class="n">field</span><span class="p">,</span><span class="w"> </span><span class="n">message</span><span class="p">,</span><span class="w"> </span><span class="n">vars</span><span class="p" data-group-id="1003536930-3">}</span><span class="w"> </span><span class="o">-&gt;</span><span class="w">
</span><span class="k">case</span><span class="w"> </span><span class="n">field</span><span class="w"> </span><span class="k" data-group-id="1003536930-4">do</span><span class="w">
  </span><span class="ss">:status</span><span class="w"> </span><span class="o">-&gt;</span><span class="w">
    </span><span class="c1"># hide these errors</span><span class="w">
    </span><span class="no">nil</span><span class="w">  
  </span><span class="n">field</span><span class="w"> </span><span class="ow">when</span><span class="w"> </span><span class="n">field</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="p" data-group-id="1003536930-5">[</span><span class="ss">:currency</span><span class="p">,</span><span class="w"> </span><span class="ss">:amount</span><span class="p" data-group-id="1003536930-5">]</span><span class="w"> </span><span class="o">-&gt;</span><span class="w">
    </span><span class="c1"># remap the field, and replace the error message</span><span class="w">
    </span><span class="p" data-group-id="1003536930-6">{</span><span class="ss">:money</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;please enter a real money amount&quot;</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="1003536930-7">[</span><span class="p" data-group-id="1003536930-7">]</span><span class="p" data-group-id="1003536930-6">}</span><span class="w">  
  </span><span class="n">field</span><span class="w"> </span><span class="o">-&gt;</span><span class="w">
    </span><span class="c1"># leave the others unchanged</span><span class="w">
    </span><span class="p" data-group-id="1003536930-8">{</span><span class="n">field</span><span class="p">,</span><span class="w"> </span><span class="n">message</span><span class="p">,</span><span class="w"> </span><span class="n">vars</span><span class="p" data-group-id="1003536930-8">}</span><span class="w">
</span><span class="k" data-group-id="1003536930-4">end</span><span class="w">
</span><span class="k" data-group-id="1003536930-2">end</span><span class="p" data-group-id="1003536930-1">)</span></code></pre></li></ul></li><li><code class="inline">:prepare_source</code> - A 1-argument function the receives the initial changeset (or query) and makes any relevant changes to it.
This can be used to do things like:  <ul><li>Set default argument values before the validations are run using <a href="https://hexdocs.pm/ash/3.7.6/Ash.Changeset.html#set_arguments/2"><code class="inline">Ash.Changeset.set_arguments/2</code></a> or <a href="https://hexdocs.pm/ash/3.7.6/Ash.Changeset.html#set_argument/3"><code class="inline">Ash.Changeset.set_argument/3</code></a></li><li>Set changeset context</li><li>Do any other pre-processing on the changeset</li></ul></li><li><code class="inline">:prepare_params</code> - A 2-argument function that receives the params map and the :validate atom and should return prepared params.
Called before the form is validated.</li><li><code class="inline">:transform_params</code> - A function for post-processing the form parameters before they are used for changeset validation/submission.
Use a 3-argument function to pattern match on the <a href="https://hexdocs.pm/ash_phoenix/2.3.17/AshPhoenix.Form.html"><code class="inline">AshPhoenix.Form</code></a> struct.</li><li><code class="inline">:method</code> (<a href="https://hexdocs.pm/elixir/String.html#t:t/0"><code class="inline">String.t/0</code></a>) - The http method to associate with the form. Defaults to <code class="inline">post</code> for creates, and <code class="inline">put</code> for everything else.</li><li><code class="inline">:exclude_fields_if_empty</code> - These fields will be ignored if they are empty strings.<br/>This list of fields supports dead view forms. When a form is submitted from dead view
empty fields are submitted as empty strings. This is problematic for fields that allow_nil
or those that have default values.</li><li><code class="inline">:tenant</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - The current tenant. Passed through to the underlying action.</li><li><code class="inline">:params</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - The initial parameters to use for the form. This is useful for setting up a form with default values. The default value is <code class="inline">%{}</code>.
Any <em>additional</em> options will be passed to the underlying call to build the source, i.e
<a href="https://hexdocs.pm/ash/3.7.6/Ash.ActionInput.html#for_action/4"><code class="inline">Ash.ActionInput.for_action/4</code></a>, or <code class="inline">Ash.Changeset.for_*</code>. This means you can set things
like the tenant/actor. These will be retained, and provided again when
<code class="inline">Form.submit/3</code> is called.</li></ul><h2 id="form_to_get_offender/1-nested-form-options" class="section-heading"><a href="#form_to_get_offender/1-nested-form-options" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Nested Form Options</span></h2><ul><li><code class="inline">:type</code> - The cardinality of the nested form - <code class="inline">:list</code> or <code class="inline">:single</code>. Valid values are :list, :single The default value is <code class="inline">:single</code>.</li><li><code class="inline">:sparse?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If the nested form is <code class="inline">sparse</code>, the form won't expect all inputs for all forms to be present.<br/>Has no effect if the type is <code class="inline">:single</code>.<br/>Normally, if you leave some forms out of a list of nested forms, they are removed from the parameters
passed to the action. For example, if you had a <code class="inline">post</code> with two comments <code class="inline">[%Comment{id: 1}, %Comment{id: 2}]</code>
and you passed down params like <code class="inline">comments[0][id]=1&amp;comments[1][text]=new_text</code>, we would remove the second comment
from the input parameters, resulting in the following being passed into the action: <code class="inline">%{&quot;comments&quot; =&gt; [%{&quot;id&quot; =&gt; 1, &quot;text&quot; =&gt; &quot;new&quot;}]}</code>.
By setting it to sparse, you have to explicitly use <code class="inline">remove_form</code> for that removal to happen. So in the same scenario above, the parameters
that would be sent would actually be <code class="inline">%{&quot;comments&quot; =&gt; [%{&quot;id&quot; =&gt; 1, &quot;text&quot; =&gt; &quot;new&quot;}, %{&quot;id&quot; =&gt; 2}]}</code>.<br/>One major difference with <code class="inline">sparse?</code> is that the form actually ignores the <em>index</em> provided, e.g <code class="inline">comments[0]...</code>, and instead uses the primary
key e.g <code class="inline">comments[0][id]</code> to match which form is being updated. This prevents you from having to find the index of the specific item you want to
update. Which could be very gnarly on deeply nested forms. If there is no primary key, or the primary key does not match anything, it is treated
as a new form.<br/>REMEMBER: You need to use <code class="inline">Phoenix.Components.inputs_for</code> to render the nested forms, or manually add hidden inputs using
<code class="inline">hidden_inputs_for</code> (or <code class="inline">HiddenInputs</code> if using Surface) for the id to be automatically placed into the form.</li><li><code class="inline">:forms</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">keyword/0</code></a>) - Forms nested inside the current nesting level in all cases.</li><li><code class="inline">:for_type</code> - What action types the form applies for. Leave blank for it to apply to all action types. Valid values are :read, :create, :update</li><li><code class="inline">:merge?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - When building parameters, this input will be merged with its parent input. This allows for combining multiple forms into a single input. The default value is <code class="inline">false</code>.</li><li><code class="inline">:for</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - When creating parameters for the action, the key that the forms should be gathered into. Defaults to the key used to configure the nested form. Ignored if <code class="inline">merge?</code> is <code class="inline">true</code>.</li><li><code class="inline">:resource</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - The resource of the nested forms. Unnecessary if you are providing the <code class="inline">data</code> key, and not adding additional forms to this path.</li><li><code class="inline">:create_action</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - The create action to use when building new forms. Only necessary if you want to use <code class="inline">add_form/3</code> with this path.</li><li><code class="inline">:update_action</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - The update action to use when building forms for data. Only necessary if you supply the <code class="inline">data</code> key.</li><li><code class="inline">:data</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - The current value or values that should have update forms built by default.<br/>You can also provide a single argument function that will return the data based on the
data of the parent form. This is important for multiple nesting levels of <code class="inline">:list</code> type
forms, because the data depends on which parent is being rendered.</li></ul>
  </section>
</section>
<section class="detail" id="form_to_list_agencies/1">

    <span id="form_to_list_agencies/0"></span>

  <div class="detail-header">
    <a href="#form_to_list_agencies/1" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">form_to_list_agencies(form_opts \\ [])</h1>


    </div>
  </div>

  <section class="docstring">

<p>Creates a form for the read action on EhsEnforcement.Enforcement.Agency.</p><h2 id="form_to_list_agencies/1-options" class="section-heading"><a href="#form_to_list_agencies/1-options" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Options</span></h2><ul><li><code class="inline">:actor</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - The actor performing the action. Passed through to the underlying action.</li><li><code class="inline">:scope</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A value that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.Scope.html"><code class="inline">Ash.Scope</code></a> protocol, for passing around actor/tenant/context in a single value. See <a href="https://hexdocs.pm/ash/3.7.6/Ash.Scope.html"><code class="inline">Ash.Scope</code></a> for more.</li><li><code class="inline">:forms</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">keyword/0</code></a>) - Nested form configurations. See <code class="inline">for_create/3</code> &quot;Nested Form Options&quot; docs for more.</li><li><code class="inline">:warn_on_unhandled_errors?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Warns on any errors that don't match the form pattern of <code class="inline">{:field, &quot;message&quot;, [replacement: :vars]}</code> or implement the <a href="https://hexdocs.pm/ash_phoenix/2.3.17/AshPhoenix.FormData.Error.html"><code class="inline">AshPhoenix.FormData.Error</code></a> protocol. The default value is <code class="inline">true</code>.</li><li><code class="inline">:domain</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - The domain to use when calling the action.</li><li><code class="inline">:as</code> (<a href="https://hexdocs.pm/elixir/String.html#t:t/0"><code class="inline">String.t/0</code></a>) - The name of the form in the submitted params. You will need to pull the form params out using this key. The default value is <code class="inline">&quot;form&quot;</code>.</li><li><code class="inline">:id</code> (<a href="https://hexdocs.pm/elixir/String.html#t:t/0"><code class="inline">String.t/0</code></a>) - The html id of the form. Defaults to the value of <code class="inline">:as</code> if provided, otherwise &quot;form&quot;</li><li><code class="inline">:transform_errors</code> - Allows for manual manipulation and transformation of errors. You may prefer <code class="inline">post_process_errors</code> as a simpler API.<br/>If possible, try to implement <a href="https://hexdocs.pm/ash_phoenix/2.3.17/AshPhoenix.FormData.Error.html"><code class="inline">AshPhoenix.FormData.Error</code></a> for the error (if it as a custom one, for example).
If that isn't possible, you can provide this function which will get the changeset and the error, and should
return a list of ash phoenix formatted errors, e.g <code class="inline">[{field :: atom, message :: String.t(), substituations :: Keyword.t()}]</code><br/>Example:<pre><code class="makeup elixir" translate="no"><span class="nc">AshPhoenix.Form</span><span class="o">.</span><span class="n">for_create</span><span class="p" data-group-id="3800913300-1">(</span><span class="n">...</span><span class="p">,</span><span class="w"> </span><span class="ss">transform_errors</span><span class="p">:</span><span class="w"> </span><span class="k" data-group-id="3800913300-2">fn</span><span class="w">
  </span><span class="c">_changeset</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="3800913300-3">%{</span><span class="ss">field</span><span class="p">:</span><span class="w"> </span><span class="ss">:field1</span><span class="p" data-group-id="3800913300-3">}</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">error</span><span class="w"> </span><span class="o">-&gt;</span><span class="w">
    </span><span class="p" data-group-id="3800913300-4">%{</span><span class="n">error</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="ss">field</span><span class="p">:</span><span class="w"> </span><span class="ss">:field2</span><span class="p" data-group-id="3800913300-4">}</span><span class="w">  
  </span><span class="c">_changeset</span><span class="p">,</span><span class="w"> </span><span class="n">error</span><span class="w"> </span><span class="o">-&gt;</span><span class="w">
    </span><span class="n">error</span><span class="w">
</span><span class="k" data-group-id="3800913300-2">end</span></code></pre></li><li><code class="inline">:post_process_errors</code> - Allows for post-processing of errors after they have been converted to the standard triple format.<br/>This function receives the form, the path to the form, and an error triple <code class="inline">{field, message, vars}</code>.
It should return either a modified triple or <code class="inline">nil</code> to filter out the error.<br/>This is useful for:<ul><li>Filtering out certain errors based on custom criteria</li><li>Remapping field names from one field to another</li><li>Modifying error messages or variables<br/>Example:<pre><code class="makeup elixir" translate="no"><span class="nc">AshPhoenix.Form</span><span class="o">.</span><span class="n">for_create</span><span class="p" data-group-id="8501419167-1">(</span><span class="n">...</span><span class="p">,</span><span class="w"> </span><span class="ss">post_process_errors</span><span class="p">:</span><span class="w"> </span><span class="k" data-group-id="8501419167-2">fn</span><span class="w"> </span><span class="n">form</span><span class="p">,</span><span class="w"> </span><span class="c">_path</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="8501419167-3">{</span><span class="n">field</span><span class="p">,</span><span class="w"> </span><span class="n">message</span><span class="p">,</span><span class="w"> </span><span class="n">vars</span><span class="p" data-group-id="8501419167-3">}</span><span class="w"> </span><span class="o">-&gt;</span><span class="w">
</span><span class="k">case</span><span class="w"> </span><span class="n">field</span><span class="w"> </span><span class="k" data-group-id="8501419167-4">do</span><span class="w">
  </span><span class="ss">:status</span><span class="w"> </span><span class="o">-&gt;</span><span class="w">
    </span><span class="c1"># hide these errors</span><span class="w">
    </span><span class="no">nil</span><span class="w">  
  </span><span class="n">field</span><span class="w"> </span><span class="ow">when</span><span class="w"> </span><span class="n">field</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="p" data-group-id="8501419167-5">[</span><span class="ss">:currency</span><span class="p">,</span><span class="w"> </span><span class="ss">:amount</span><span class="p" data-group-id="8501419167-5">]</span><span class="w"> </span><span class="o">-&gt;</span><span class="w">
    </span><span class="c1"># remap the field, and replace the error message</span><span class="w">
    </span><span class="p" data-group-id="8501419167-6">{</span><span class="ss">:money</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;please enter a real money amount&quot;</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="8501419167-7">[</span><span class="p" data-group-id="8501419167-7">]</span><span class="p" data-group-id="8501419167-6">}</span><span class="w">  
  </span><span class="n">field</span><span class="w"> </span><span class="o">-&gt;</span><span class="w">
    </span><span class="c1"># leave the others unchanged</span><span class="w">
    </span><span class="p" data-group-id="8501419167-8">{</span><span class="n">field</span><span class="p">,</span><span class="w"> </span><span class="n">message</span><span class="p">,</span><span class="w"> </span><span class="n">vars</span><span class="p" data-group-id="8501419167-8">}</span><span class="w">
</span><span class="k" data-group-id="8501419167-4">end</span><span class="w">
</span><span class="k" data-group-id="8501419167-2">end</span><span class="p" data-group-id="8501419167-1">)</span></code></pre></li></ul></li><li><code class="inline">:prepare_source</code> - A 1-argument function the receives the initial changeset (or query) and makes any relevant changes to it.
This can be used to do things like:  <ul><li>Set default argument values before the validations are run using <a href="https://hexdocs.pm/ash/3.7.6/Ash.Changeset.html#set_arguments/2"><code class="inline">Ash.Changeset.set_arguments/2</code></a> or <a href="https://hexdocs.pm/ash/3.7.6/Ash.Changeset.html#set_argument/3"><code class="inline">Ash.Changeset.set_argument/3</code></a></li><li>Set changeset context</li><li>Do any other pre-processing on the changeset</li></ul></li><li><code class="inline">:prepare_params</code> - A 2-argument function that receives the params map and the :validate atom and should return prepared params.
Called before the form is validated.</li><li><code class="inline">:transform_params</code> - A function for post-processing the form parameters before they are used for changeset validation/submission.
Use a 3-argument function to pattern match on the <a href="https://hexdocs.pm/ash_phoenix/2.3.17/AshPhoenix.Form.html"><code class="inline">AshPhoenix.Form</code></a> struct.</li><li><code class="inline">:method</code> (<a href="https://hexdocs.pm/elixir/String.html#t:t/0"><code class="inline">String.t/0</code></a>) - The http method to associate with the form. Defaults to <code class="inline">post</code> for creates, and <code class="inline">put</code> for everything else.</li><li><code class="inline">:exclude_fields_if_empty</code> - These fields will be ignored if they are empty strings.<br/>This list of fields supports dead view forms. When a form is submitted from dead view
empty fields are submitted as empty strings. This is problematic for fields that allow_nil
or those that have default values.</li><li><code class="inline">:tenant</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - The current tenant. Passed through to the underlying action.</li><li><code class="inline">:params</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - The initial parameters to use for the form. This is useful for setting up a form with default values. The default value is <code class="inline">%{}</code>.
Any <em>additional</em> options will be passed to the underlying call to build the source, i.e
<a href="https://hexdocs.pm/ash/3.7.6/Ash.ActionInput.html#for_action/4"><code class="inline">Ash.ActionInput.for_action/4</code></a>, or <code class="inline">Ash.Changeset.for_*</code>. This means you can set things
like the tenant/actor. These will be retained, and provided again when
<code class="inline">Form.submit/3</code> is called.</li></ul><h2 id="form_to_list_agencies/1-nested-form-options" class="section-heading"><a href="#form_to_list_agencies/1-nested-form-options" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Nested Form Options</span></h2><ul><li><code class="inline">:type</code> - The cardinality of the nested form - <code class="inline">:list</code> or <code class="inline">:single</code>. Valid values are :list, :single The default value is <code class="inline">:single</code>.</li><li><code class="inline">:sparse?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If the nested form is <code class="inline">sparse</code>, the form won't expect all inputs for all forms to be present.<br/>Has no effect if the type is <code class="inline">:single</code>.<br/>Normally, if you leave some forms out of a list of nested forms, they are removed from the parameters
passed to the action. For example, if you had a <code class="inline">post</code> with two comments <code class="inline">[%Comment{id: 1}, %Comment{id: 2}]</code>
and you passed down params like <code class="inline">comments[0][id]=1&amp;comments[1][text]=new_text</code>, we would remove the second comment
from the input parameters, resulting in the following being passed into the action: <code class="inline">%{&quot;comments&quot; =&gt; [%{&quot;id&quot; =&gt; 1, &quot;text&quot; =&gt; &quot;new&quot;}]}</code>.
By setting it to sparse, you have to explicitly use <code class="inline">remove_form</code> for that removal to happen. So in the same scenario above, the parameters
that would be sent would actually be <code class="inline">%{&quot;comments&quot; =&gt; [%{&quot;id&quot; =&gt; 1, &quot;text&quot; =&gt; &quot;new&quot;}, %{&quot;id&quot; =&gt; 2}]}</code>.<br/>One major difference with <code class="inline">sparse?</code> is that the form actually ignores the <em>index</em> provided, e.g <code class="inline">comments[0]...</code>, and instead uses the primary
key e.g <code class="inline">comments[0][id]</code> to match which form is being updated. This prevents you from having to find the index of the specific item you want to
update. Which could be very gnarly on deeply nested forms. If there is no primary key, or the primary key does not match anything, it is treated
as a new form.<br/>REMEMBER: You need to use <code class="inline">Phoenix.Components.inputs_for</code> to render the nested forms, or manually add hidden inputs using
<code class="inline">hidden_inputs_for</code> (or <code class="inline">HiddenInputs</code> if using Surface) for the id to be automatically placed into the form.</li><li><code class="inline">:forms</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">keyword/0</code></a>) - Forms nested inside the current nesting level in all cases.</li><li><code class="inline">:for_type</code> - What action types the form applies for. Leave blank for it to apply to all action types. Valid values are :read, :create, :update</li><li><code class="inline">:merge?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - When building parameters, this input will be merged with its parent input. This allows for combining multiple forms into a single input. The default value is <code class="inline">false</code>.</li><li><code class="inline">:for</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - When creating parameters for the action, the key that the forms should be gathered into. Defaults to the key used to configure the nested form. Ignored if <code class="inline">merge?</code> is <code class="inline">true</code>.</li><li><code class="inline">:resource</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - The resource of the nested forms. Unnecessary if you are providing the <code class="inline">data</code> key, and not adding additional forms to this path.</li><li><code class="inline">:create_action</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - The create action to use when building new forms. Only necessary if you want to use <code class="inline">add_form/3</code> with this path.</li><li><code class="inline">:update_action</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - The update action to use when building forms for data. Only necessary if you supply the <code class="inline">data</code> key.</li><li><code class="inline">:data</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - The current value or values that should have update forms built by default.<br/>You can also provide a single argument function that will return the data based on the
data of the parent form. This is important for multiple nesting levels of <code class="inline">:list</code> type
forms, because the data depends on which parent is being rendered.</li></ul>
  </section>
</section>
<section class="detail" id="form_to_list_cases/1">

    <span id="form_to_list_cases/0"></span>

  <div class="detail-header">
    <a href="#form_to_list_cases/1" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">form_to_list_cases(form_opts \\ [])</h1>


    </div>
  </div>

  <section class="docstring">

<p>Creates a form for the read action on EhsEnforcement.Enforcement.Case.</p><h2 id="form_to_list_cases/1-options" class="section-heading"><a href="#form_to_list_cases/1-options" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Options</span></h2><ul><li><code class="inline">:actor</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - The actor performing the action. Passed through to the underlying action.</li><li><code class="inline">:scope</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A value that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.Scope.html"><code class="inline">Ash.Scope</code></a> protocol, for passing around actor/tenant/context in a single value. See <a href="https://hexdocs.pm/ash/3.7.6/Ash.Scope.html"><code class="inline">Ash.Scope</code></a> for more.</li><li><code class="inline">:forms</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">keyword/0</code></a>) - Nested form configurations. See <code class="inline">for_create/3</code> &quot;Nested Form Options&quot; docs for more.</li><li><code class="inline">:warn_on_unhandled_errors?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Warns on any errors that don't match the form pattern of <code class="inline">{:field, &quot;message&quot;, [replacement: :vars]}</code> or implement the <a href="https://hexdocs.pm/ash_phoenix/2.3.17/AshPhoenix.FormData.Error.html"><code class="inline">AshPhoenix.FormData.Error</code></a> protocol. The default value is <code class="inline">true</code>.</li><li><code class="inline">:domain</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - The domain to use when calling the action.</li><li><code class="inline">:as</code> (<a href="https://hexdocs.pm/elixir/String.html#t:t/0"><code class="inline">String.t/0</code></a>) - The name of the form in the submitted params. You will need to pull the form params out using this key. The default value is <code class="inline">&quot;form&quot;</code>.</li><li><code class="inline">:id</code> (<a href="https://hexdocs.pm/elixir/String.html#t:t/0"><code class="inline">String.t/0</code></a>) - The html id of the form. Defaults to the value of <code class="inline">:as</code> if provided, otherwise &quot;form&quot;</li><li><code class="inline">:transform_errors</code> - Allows for manual manipulation and transformation of errors. You may prefer <code class="inline">post_process_errors</code> as a simpler API.<br/>If possible, try to implement <a href="https://hexdocs.pm/ash_phoenix/2.3.17/AshPhoenix.FormData.Error.html"><code class="inline">AshPhoenix.FormData.Error</code></a> for the error (if it as a custom one, for example).
If that isn't possible, you can provide this function which will get the changeset and the error, and should
return a list of ash phoenix formatted errors, e.g <code class="inline">[{field :: atom, message :: String.t(), substituations :: Keyword.t()}]</code><br/>Example:<pre><code class="makeup elixir" translate="no"><span class="nc">AshPhoenix.Form</span><span class="o">.</span><span class="n">for_create</span><span class="p" data-group-id="3703830445-1">(</span><span class="n">...</span><span class="p">,</span><span class="w"> </span><span class="ss">transform_errors</span><span class="p">:</span><span class="w"> </span><span class="k" data-group-id="3703830445-2">fn</span><span class="w">
  </span><span class="c">_changeset</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="3703830445-3">%{</span><span class="ss">field</span><span class="p">:</span><span class="w"> </span><span class="ss">:field1</span><span class="p" data-group-id="3703830445-3">}</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">error</span><span class="w"> </span><span class="o">-&gt;</span><span class="w">
    </span><span class="p" data-group-id="3703830445-4">%{</span><span class="n">error</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="ss">field</span><span class="p">:</span><span class="w"> </span><span class="ss">:field2</span><span class="p" data-group-id="3703830445-4">}</span><span class="w">  
  </span><span class="c">_changeset</span><span class="p">,</span><span class="w"> </span><span class="n">error</span><span class="w"> </span><span class="o">-&gt;</span><span class="w">
    </span><span class="n">error</span><span class="w">
</span><span class="k" data-group-id="3703830445-2">end</span></code></pre></li><li><code class="inline">:post_process_errors</code> - Allows for post-processing of errors after they have been converted to the standard triple format.<br/>This function receives the form, the path to the form, and an error triple <code class="inline">{field, message, vars}</code>.
It should return either a modified triple or <code class="inline">nil</code> to filter out the error.<br/>This is useful for:<ul><li>Filtering out certain errors based on custom criteria</li><li>Remapping field names from one field to another</li><li>Modifying error messages or variables<br/>Example:<pre><code class="makeup elixir" translate="no"><span class="nc">AshPhoenix.Form</span><span class="o">.</span><span class="n">for_create</span><span class="p" data-group-id="4904692813-1">(</span><span class="n">...</span><span class="p">,</span><span class="w"> </span><span class="ss">post_process_errors</span><span class="p">:</span><span class="w"> </span><span class="k" data-group-id="4904692813-2">fn</span><span class="w"> </span><span class="n">form</span><span class="p">,</span><span class="w"> </span><span class="c">_path</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="4904692813-3">{</span><span class="n">field</span><span class="p">,</span><span class="w"> </span><span class="n">message</span><span class="p">,</span><span class="w"> </span><span class="n">vars</span><span class="p" data-group-id="4904692813-3">}</span><span class="w"> </span><span class="o">-&gt;</span><span class="w">
</span><span class="k">case</span><span class="w"> </span><span class="n">field</span><span class="w"> </span><span class="k" data-group-id="4904692813-4">do</span><span class="w">
  </span><span class="ss">:status</span><span class="w"> </span><span class="o">-&gt;</span><span class="w">
    </span><span class="c1"># hide these errors</span><span class="w">
    </span><span class="no">nil</span><span class="w">  
  </span><span class="n">field</span><span class="w"> </span><span class="ow">when</span><span class="w"> </span><span class="n">field</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="p" data-group-id="4904692813-5">[</span><span class="ss">:currency</span><span class="p">,</span><span class="w"> </span><span class="ss">:amount</span><span class="p" data-group-id="4904692813-5">]</span><span class="w"> </span><span class="o">-&gt;</span><span class="w">
    </span><span class="c1"># remap the field, and replace the error message</span><span class="w">
    </span><span class="p" data-group-id="4904692813-6">{</span><span class="ss">:money</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;please enter a real money amount&quot;</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="4904692813-7">[</span><span class="p" data-group-id="4904692813-7">]</span><span class="p" data-group-id="4904692813-6">}</span><span class="w">  
  </span><span class="n">field</span><span class="w"> </span><span class="o">-&gt;</span><span class="w">
    </span><span class="c1"># leave the others unchanged</span><span class="w">
    </span><span class="p" data-group-id="4904692813-8">{</span><span class="n">field</span><span class="p">,</span><span class="w"> </span><span class="n">message</span><span class="p">,</span><span class="w"> </span><span class="n">vars</span><span class="p" data-group-id="4904692813-8">}</span><span class="w">
</span><span class="k" data-group-id="4904692813-4">end</span><span class="w">
</span><span class="k" data-group-id="4904692813-2">end</span><span class="p" data-group-id="4904692813-1">)</span></code></pre></li></ul></li><li><code class="inline">:prepare_source</code> - A 1-argument function the receives the initial changeset (or query) and makes any relevant changes to it.
This can be used to do things like:  <ul><li>Set default argument values before the validations are run using <a href="https://hexdocs.pm/ash/3.7.6/Ash.Changeset.html#set_arguments/2"><code class="inline">Ash.Changeset.set_arguments/2</code></a> or <a href="https://hexdocs.pm/ash/3.7.6/Ash.Changeset.html#set_argument/3"><code class="inline">Ash.Changeset.set_argument/3</code></a></li><li>Set changeset context</li><li>Do any other pre-processing on the changeset</li></ul></li><li><code class="inline">:prepare_params</code> - A 2-argument function that receives the params map and the :validate atom and should return prepared params.
Called before the form is validated.</li><li><code class="inline">:transform_params</code> - A function for post-processing the form parameters before they are used for changeset validation/submission.
Use a 3-argument function to pattern match on the <a href="https://hexdocs.pm/ash_phoenix/2.3.17/AshPhoenix.Form.html"><code class="inline">AshPhoenix.Form</code></a> struct.</li><li><code class="inline">:method</code> (<a href="https://hexdocs.pm/elixir/String.html#t:t/0"><code class="inline">String.t/0</code></a>) - The http method to associate with the form. Defaults to <code class="inline">post</code> for creates, and <code class="inline">put</code> for everything else.</li><li><code class="inline">:exclude_fields_if_empty</code> - These fields will be ignored if they are empty strings.<br/>This list of fields supports dead view forms. When a form is submitted from dead view
empty fields are submitted as empty strings. This is problematic for fields that allow_nil
or those that have default values.</li><li><code class="inline">:tenant</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - The current tenant. Passed through to the underlying action.</li><li><code class="inline">:params</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - The initial parameters to use for the form. This is useful for setting up a form with default values. The default value is <code class="inline">%{}</code>.
Any <em>additional</em> options will be passed to the underlying call to build the source, i.e
<a href="https://hexdocs.pm/ash/3.7.6/Ash.ActionInput.html#for_action/4"><code class="inline">Ash.ActionInput.for_action/4</code></a>, or <code class="inline">Ash.Changeset.for_*</code>. This means you can set things
like the tenant/actor. These will be retained, and provided again when
<code class="inline">Form.submit/3</code> is called.</li></ul><h2 id="form_to_list_cases/1-nested-form-options" class="section-heading"><a href="#form_to_list_cases/1-nested-form-options" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Nested Form Options</span></h2><ul><li><code class="inline">:type</code> - The cardinality of the nested form - <code class="inline">:list</code> or <code class="inline">:single</code>. Valid values are :list, :single The default value is <code class="inline">:single</code>.</li><li><code class="inline">:sparse?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If the nested form is <code class="inline">sparse</code>, the form won't expect all inputs for all forms to be present.<br/>Has no effect if the type is <code class="inline">:single</code>.<br/>Normally, if you leave some forms out of a list of nested forms, they are removed from the parameters
passed to the action. For example, if you had a <code class="inline">post</code> with two comments <code class="inline">[%Comment{id: 1}, %Comment{id: 2}]</code>
and you passed down params like <code class="inline">comments[0][id]=1&amp;comments[1][text]=new_text</code>, we would remove the second comment
from the input parameters, resulting in the following being passed into the action: <code class="inline">%{&quot;comments&quot; =&gt; [%{&quot;id&quot; =&gt; 1, &quot;text&quot; =&gt; &quot;new&quot;}]}</code>.
By setting it to sparse, you have to explicitly use <code class="inline">remove_form</code> for that removal to happen. So in the same scenario above, the parameters
that would be sent would actually be <code class="inline">%{&quot;comments&quot; =&gt; [%{&quot;id&quot; =&gt; 1, &quot;text&quot; =&gt; &quot;new&quot;}, %{&quot;id&quot; =&gt; 2}]}</code>.<br/>One major difference with <code class="inline">sparse?</code> is that the form actually ignores the <em>index</em> provided, e.g <code class="inline">comments[0]...</code>, and instead uses the primary
key e.g <code class="inline">comments[0][id]</code> to match which form is being updated. This prevents you from having to find the index of the specific item you want to
update. Which could be very gnarly on deeply nested forms. If there is no primary key, or the primary key does not match anything, it is treated
as a new form.<br/>REMEMBER: You need to use <code class="inline">Phoenix.Components.inputs_for</code> to render the nested forms, or manually add hidden inputs using
<code class="inline">hidden_inputs_for</code> (or <code class="inline">HiddenInputs</code> if using Surface) for the id to be automatically placed into the form.</li><li><code class="inline">:forms</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">keyword/0</code></a>) - Forms nested inside the current nesting level in all cases.</li><li><code class="inline">:for_type</code> - What action types the form applies for. Leave blank for it to apply to all action types. Valid values are :read, :create, :update</li><li><code class="inline">:merge?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - When building parameters, this input will be merged with its parent input. This allows for combining multiple forms into a single input. The default value is <code class="inline">false</code>.</li><li><code class="inline">:for</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - When creating parameters for the action, the key that the forms should be gathered into. Defaults to the key used to configure the nested form. Ignored if <code class="inline">merge?</code> is <code class="inline">true</code>.</li><li><code class="inline">:resource</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - The resource of the nested forms. Unnecessary if you are providing the <code class="inline">data</code> key, and not adding additional forms to this path.</li><li><code class="inline">:create_action</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - The create action to use when building new forms. Only necessary if you want to use <code class="inline">add_form/3</code> with this path.</li><li><code class="inline">:update_action</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - The update action to use when building forms for data. Only necessary if you supply the <code class="inline">data</code> key.</li><li><code class="inline">:data</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - The current value or values that should have update forms built by default.<br/>You can also provide a single argument function that will return the data based on the
data of the parent form. This is important for multiple nesting levels of <code class="inline">:list</code> type
forms, because the data depends on which parent is being rendered.</li></ul>
  </section>
</section>
<section class="detail" id="form_to_list_cases_by_date_range/1">

    <span id="form_to_list_cases_by_date_range/0"></span>

  <div class="detail-header">
    <a href="#form_to_list_cases_by_date_range/1" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">form_to_list_cases_by_date_range(form_opts \\ [])</h1>


    </div>
  </div>

  <section class="docstring">

<p>Creates a form for the by_date_range action on EhsEnforcement.Enforcement.Case.</p><h2 id="form_to_list_cases_by_date_range/1-options" class="section-heading"><a href="#form_to_list_cases_by_date_range/1-options" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Options</span></h2><ul><li><code class="inline">:actor</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - The actor performing the action. Passed through to the underlying action.</li><li><code class="inline">:scope</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A value that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.Scope.html"><code class="inline">Ash.Scope</code></a> protocol, for passing around actor/tenant/context in a single value. See <a href="https://hexdocs.pm/ash/3.7.6/Ash.Scope.html"><code class="inline">Ash.Scope</code></a> for more.</li><li><code class="inline">:forms</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">keyword/0</code></a>) - Nested form configurations. See <code class="inline">for_create/3</code> &quot;Nested Form Options&quot; docs for more.</li><li><code class="inline">:warn_on_unhandled_errors?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Warns on any errors that don't match the form pattern of <code class="inline">{:field, &quot;message&quot;, [replacement: :vars]}</code> or implement the <a href="https://hexdocs.pm/ash_phoenix/2.3.17/AshPhoenix.FormData.Error.html"><code class="inline">AshPhoenix.FormData.Error</code></a> protocol. The default value is <code class="inline">true</code>.</li><li><code class="inline">:domain</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - The domain to use when calling the action.</li><li><code class="inline">:as</code> (<a href="https://hexdocs.pm/elixir/String.html#t:t/0"><code class="inline">String.t/0</code></a>) - The name of the form in the submitted params. You will need to pull the form params out using this key. The default value is <code class="inline">&quot;form&quot;</code>.</li><li><code class="inline">:id</code> (<a href="https://hexdocs.pm/elixir/String.html#t:t/0"><code class="inline">String.t/0</code></a>) - The html id of the form. Defaults to the value of <code class="inline">:as</code> if provided, otherwise &quot;form&quot;</li><li><code class="inline">:transform_errors</code> - Allows for manual manipulation and transformation of errors. You may prefer <code class="inline">post_process_errors</code> as a simpler API.<br/>If possible, try to implement <a href="https://hexdocs.pm/ash_phoenix/2.3.17/AshPhoenix.FormData.Error.html"><code class="inline">AshPhoenix.FormData.Error</code></a> for the error (if it as a custom one, for example).
If that isn't possible, you can provide this function which will get the changeset and the error, and should
return a list of ash phoenix formatted errors, e.g <code class="inline">[{field :: atom, message :: String.t(), substituations :: Keyword.t()}]</code><br/>Example:<pre><code class="makeup elixir" translate="no"><span class="nc">AshPhoenix.Form</span><span class="o">.</span><span class="n">for_create</span><span class="p" data-group-id="8882664990-1">(</span><span class="n">...</span><span class="p">,</span><span class="w"> </span><span class="ss">transform_errors</span><span class="p">:</span><span class="w"> </span><span class="k" data-group-id="8882664990-2">fn</span><span class="w">
  </span><span class="c">_changeset</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="8882664990-3">%{</span><span class="ss">field</span><span class="p">:</span><span class="w"> </span><span class="ss">:field1</span><span class="p" data-group-id="8882664990-3">}</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">error</span><span class="w"> </span><span class="o">-&gt;</span><span class="w">
    </span><span class="p" data-group-id="8882664990-4">%{</span><span class="n">error</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="ss">field</span><span class="p">:</span><span class="w"> </span><span class="ss">:field2</span><span class="p" data-group-id="8882664990-4">}</span><span class="w">  
  </span><span class="c">_changeset</span><span class="p">,</span><span class="w"> </span><span class="n">error</span><span class="w"> </span><span class="o">-&gt;</span><span class="w">
    </span><span class="n">error</span><span class="w">
</span><span class="k" data-group-id="8882664990-2">end</span></code></pre></li><li><code class="inline">:post_process_errors</code> - Allows for post-processing of errors after they have been converted to the standard triple format.<br/>This function receives the form, the path to the form, and an error triple <code class="inline">{field, message, vars}</code>.
It should return either a modified triple or <code class="inline">nil</code> to filter out the error.<br/>This is useful for:<ul><li>Filtering out certain errors based on custom criteria</li><li>Remapping field names from one field to another</li><li>Modifying error messages or variables<br/>Example:<pre><code class="makeup elixir" translate="no"><span class="nc">AshPhoenix.Form</span><span class="o">.</span><span class="n">for_create</span><span class="p" data-group-id="1816201169-1">(</span><span class="n">...</span><span class="p">,</span><span class="w"> </span><span class="ss">post_process_errors</span><span class="p">:</span><span class="w"> </span><span class="k" data-group-id="1816201169-2">fn</span><span class="w"> </span><span class="n">form</span><span class="p">,</span><span class="w"> </span><span class="c">_path</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="1816201169-3">{</span><span class="n">field</span><span class="p">,</span><span class="w"> </span><span class="n">message</span><span class="p">,</span><span class="w"> </span><span class="n">vars</span><span class="p" data-group-id="1816201169-3">}</span><span class="w"> </span><span class="o">-&gt;</span><span class="w">
</span><span class="k">case</span><span class="w"> </span><span class="n">field</span><span class="w"> </span><span class="k" data-group-id="1816201169-4">do</span><span class="w">
  </span><span class="ss">:status</span><span class="w"> </span><span class="o">-&gt;</span><span class="w">
    </span><span class="c1"># hide these errors</span><span class="w">
    </span><span class="no">nil</span><span class="w">  
  </span><span class="n">field</span><span class="w"> </span><span class="ow">when</span><span class="w"> </span><span class="n">field</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="p" data-group-id="1816201169-5">[</span><span class="ss">:currency</span><span class="p">,</span><span class="w"> </span><span class="ss">:amount</span><span class="p" data-group-id="1816201169-5">]</span><span class="w"> </span><span class="o">-&gt;</span><span class="w">
    </span><span class="c1"># remap the field, and replace the error message</span><span class="w">
    </span><span class="p" data-group-id="1816201169-6">{</span><span class="ss">:money</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;please enter a real money amount&quot;</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="1816201169-7">[</span><span class="p" data-group-id="1816201169-7">]</span><span class="p" data-group-id="1816201169-6">}</span><span class="w">  
  </span><span class="n">field</span><span class="w"> </span><span class="o">-&gt;</span><span class="w">
    </span><span class="c1"># leave the others unchanged</span><span class="w">
    </span><span class="p" data-group-id="1816201169-8">{</span><span class="n">field</span><span class="p">,</span><span class="w"> </span><span class="n">message</span><span class="p">,</span><span class="w"> </span><span class="n">vars</span><span class="p" data-group-id="1816201169-8">}</span><span class="w">
</span><span class="k" data-group-id="1816201169-4">end</span><span class="w">
</span><span class="k" data-group-id="1816201169-2">end</span><span class="p" data-group-id="1816201169-1">)</span></code></pre></li></ul></li><li><code class="inline">:prepare_source</code> - A 1-argument function the receives the initial changeset (or query) and makes any relevant changes to it.
This can be used to do things like:  <ul><li>Set default argument values before the validations are run using <a href="https://hexdocs.pm/ash/3.7.6/Ash.Changeset.html#set_arguments/2"><code class="inline">Ash.Changeset.set_arguments/2</code></a> or <a href="https://hexdocs.pm/ash/3.7.6/Ash.Changeset.html#set_argument/3"><code class="inline">Ash.Changeset.set_argument/3</code></a></li><li>Set changeset context</li><li>Do any other pre-processing on the changeset</li></ul></li><li><code class="inline">:prepare_params</code> - A 2-argument function that receives the params map and the :validate atom and should return prepared params.
Called before the form is validated.</li><li><code class="inline">:transform_params</code> - A function for post-processing the form parameters before they are used for changeset validation/submission.
Use a 3-argument function to pattern match on the <a href="https://hexdocs.pm/ash_phoenix/2.3.17/AshPhoenix.Form.html"><code class="inline">AshPhoenix.Form</code></a> struct.</li><li><code class="inline">:method</code> (<a href="https://hexdocs.pm/elixir/String.html#t:t/0"><code class="inline">String.t/0</code></a>) - The http method to associate with the form. Defaults to <code class="inline">post</code> for creates, and <code class="inline">put</code> for everything else.</li><li><code class="inline">:exclude_fields_if_empty</code> - These fields will be ignored if they are empty strings.<br/>This list of fields supports dead view forms. When a form is submitted from dead view
empty fields are submitted as empty strings. This is problematic for fields that allow_nil
or those that have default values.</li><li><code class="inline">:tenant</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - The current tenant. Passed through to the underlying action.</li><li><code class="inline">:params</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - The initial parameters to use for the form. This is useful for setting up a form with default values. The default value is <code class="inline">%{}</code>.
Any <em>additional</em> options will be passed to the underlying call to build the source, i.e
<a href="https://hexdocs.pm/ash/3.7.6/Ash.ActionInput.html#for_action/4"><code class="inline">Ash.ActionInput.for_action/4</code></a>, or <code class="inline">Ash.Changeset.for_*</code>. This means you can set things
like the tenant/actor. These will be retained, and provided again when
<code class="inline">Form.submit/3</code> is called.</li></ul><h2 id="form_to_list_cases_by_date_range/1-nested-form-options" class="section-heading"><a href="#form_to_list_cases_by_date_range/1-nested-form-options" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Nested Form Options</span></h2><ul><li><code class="inline">:type</code> - The cardinality of the nested form - <code class="inline">:list</code> or <code class="inline">:single</code>. Valid values are :list, :single The default value is <code class="inline">:single</code>.</li><li><code class="inline">:sparse?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If the nested form is <code class="inline">sparse</code>, the form won't expect all inputs for all forms to be present.<br/>Has no effect if the type is <code class="inline">:single</code>.<br/>Normally, if you leave some forms out of a list of nested forms, they are removed from the parameters
passed to the action. For example, if you had a <code class="inline">post</code> with two comments <code class="inline">[%Comment{id: 1}, %Comment{id: 2}]</code>
and you passed down params like <code class="inline">comments[0][id]=1&amp;comments[1][text]=new_text</code>, we would remove the second comment
from the input parameters, resulting in the following being passed into the action: <code class="inline">%{&quot;comments&quot; =&gt; [%{&quot;id&quot; =&gt; 1, &quot;text&quot; =&gt; &quot;new&quot;}]}</code>.
By setting it to sparse, you have to explicitly use <code class="inline">remove_form</code> for that removal to happen. So in the same scenario above, the parameters
that would be sent would actually be <code class="inline">%{&quot;comments&quot; =&gt; [%{&quot;id&quot; =&gt; 1, &quot;text&quot; =&gt; &quot;new&quot;}, %{&quot;id&quot; =&gt; 2}]}</code>.<br/>One major difference with <code class="inline">sparse?</code> is that the form actually ignores the <em>index</em> provided, e.g <code class="inline">comments[0]...</code>, and instead uses the primary
key e.g <code class="inline">comments[0][id]</code> to match which form is being updated. This prevents you from having to find the index of the specific item you want to
update. Which could be very gnarly on deeply nested forms. If there is no primary key, or the primary key does not match anything, it is treated
as a new form.<br/>REMEMBER: You need to use <code class="inline">Phoenix.Components.inputs_for</code> to render the nested forms, or manually add hidden inputs using
<code class="inline">hidden_inputs_for</code> (or <code class="inline">HiddenInputs</code> if using Surface) for the id to be automatically placed into the form.</li><li><code class="inline">:forms</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">keyword/0</code></a>) - Forms nested inside the current nesting level in all cases.</li><li><code class="inline">:for_type</code> - What action types the form applies for. Leave blank for it to apply to all action types. Valid values are :read, :create, :update</li><li><code class="inline">:merge?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - When building parameters, this input will be merged with its parent input. This allows for combining multiple forms into a single input. The default value is <code class="inline">false</code>.</li><li><code class="inline">:for</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - When creating parameters for the action, the key that the forms should be gathered into. Defaults to the key used to configure the nested form. Ignored if <code class="inline">merge?</code> is <code class="inline">true</code>.</li><li><code class="inline">:resource</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - The resource of the nested forms. Unnecessary if you are providing the <code class="inline">data</code> key, and not adding additional forms to this path.</li><li><code class="inline">:create_action</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - The create action to use when building new forms. Only necessary if you want to use <code class="inline">add_form/3</code> with this path.</li><li><code class="inline">:update_action</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - The update action to use when building forms for data. Only necessary if you supply the <code class="inline">data</code> key.</li><li><code class="inline">:data</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - The current value or values that should have update forms built by default.<br/>You can also provide a single argument function that will return the data based on the
data of the parent form. This is important for multiple nesting levels of <code class="inline">:list</code> type
forms, because the data depends on which parent is being rendered.</li></ul>
  </section>
</section>
<section class="detail" id="form_to_list_legislation/1">

    <span id="form_to_list_legislation/0"></span>

  <div class="detail-header">
    <a href="#form_to_list_legislation/1" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">form_to_list_legislation(form_opts \\ [])</h1>


    </div>
  </div>

  <section class="docstring">

<p>Creates a form for the read action on EhsEnforcement.Enforcement.Legislation.</p><h2 id="form_to_list_legislation/1-options" class="section-heading"><a href="#form_to_list_legislation/1-options" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Options</span></h2><ul><li><code class="inline">:actor</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - The actor performing the action. Passed through to the underlying action.</li><li><code class="inline">:scope</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A value that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.Scope.html"><code class="inline">Ash.Scope</code></a> protocol, for passing around actor/tenant/context in a single value. See <a href="https://hexdocs.pm/ash/3.7.6/Ash.Scope.html"><code class="inline">Ash.Scope</code></a> for more.</li><li><code class="inline">:forms</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">keyword/0</code></a>) - Nested form configurations. See <code class="inline">for_create/3</code> &quot;Nested Form Options&quot; docs for more.</li><li><code class="inline">:warn_on_unhandled_errors?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Warns on any errors that don't match the form pattern of <code class="inline">{:field, &quot;message&quot;, [replacement: :vars]}</code> or implement the <a href="https://hexdocs.pm/ash_phoenix/2.3.17/AshPhoenix.FormData.Error.html"><code class="inline">AshPhoenix.FormData.Error</code></a> protocol. The default value is <code class="inline">true</code>.</li><li><code class="inline">:domain</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - The domain to use when calling the action.</li><li><code class="inline">:as</code> (<a href="https://hexdocs.pm/elixir/String.html#t:t/0"><code class="inline">String.t/0</code></a>) - The name of the form in the submitted params. You will need to pull the form params out using this key. The default value is <code class="inline">&quot;form&quot;</code>.</li><li><code class="inline">:id</code> (<a href="https://hexdocs.pm/elixir/String.html#t:t/0"><code class="inline">String.t/0</code></a>) - The html id of the form. Defaults to the value of <code class="inline">:as</code> if provided, otherwise &quot;form&quot;</li><li><code class="inline">:transform_errors</code> - Allows for manual manipulation and transformation of errors. You may prefer <code class="inline">post_process_errors</code> as a simpler API.<br/>If possible, try to implement <a href="https://hexdocs.pm/ash_phoenix/2.3.17/AshPhoenix.FormData.Error.html"><code class="inline">AshPhoenix.FormData.Error</code></a> for the error (if it as a custom one, for example).
If that isn't possible, you can provide this function which will get the changeset and the error, and should
return a list of ash phoenix formatted errors, e.g <code class="inline">[{field :: atom, message :: String.t(), substituations :: Keyword.t()}]</code><br/>Example:<pre><code class="makeup elixir" translate="no"><span class="nc">AshPhoenix.Form</span><span class="o">.</span><span class="n">for_create</span><span class="p" data-group-id="2754677468-1">(</span><span class="n">...</span><span class="p">,</span><span class="w"> </span><span class="ss">transform_errors</span><span class="p">:</span><span class="w"> </span><span class="k" data-group-id="2754677468-2">fn</span><span class="w">
  </span><span class="c">_changeset</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="2754677468-3">%{</span><span class="ss">field</span><span class="p">:</span><span class="w"> </span><span class="ss">:field1</span><span class="p" data-group-id="2754677468-3">}</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">error</span><span class="w"> </span><span class="o">-&gt;</span><span class="w">
    </span><span class="p" data-group-id="2754677468-4">%{</span><span class="n">error</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="ss">field</span><span class="p">:</span><span class="w"> </span><span class="ss">:field2</span><span class="p" data-group-id="2754677468-4">}</span><span class="w">  
  </span><span class="c">_changeset</span><span class="p">,</span><span class="w"> </span><span class="n">error</span><span class="w"> </span><span class="o">-&gt;</span><span class="w">
    </span><span class="n">error</span><span class="w">
</span><span class="k" data-group-id="2754677468-2">end</span></code></pre></li><li><code class="inline">:post_process_errors</code> - Allows for post-processing of errors after they have been converted to the standard triple format.<br/>This function receives the form, the path to the form, and an error triple <code class="inline">{field, message, vars}</code>.
It should return either a modified triple or <code class="inline">nil</code> to filter out the error.<br/>This is useful for:<ul><li>Filtering out certain errors based on custom criteria</li><li>Remapping field names from one field to another</li><li>Modifying error messages or variables<br/>Example:<pre><code class="makeup elixir" translate="no"><span class="nc">AshPhoenix.Form</span><span class="o">.</span><span class="n">for_create</span><span class="p" data-group-id="2631642534-1">(</span><span class="n">...</span><span class="p">,</span><span class="w"> </span><span class="ss">post_process_errors</span><span class="p">:</span><span class="w"> </span><span class="k" data-group-id="2631642534-2">fn</span><span class="w"> </span><span class="n">form</span><span class="p">,</span><span class="w"> </span><span class="c">_path</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="2631642534-3">{</span><span class="n">field</span><span class="p">,</span><span class="w"> </span><span class="n">message</span><span class="p">,</span><span class="w"> </span><span class="n">vars</span><span class="p" data-group-id="2631642534-3">}</span><span class="w"> </span><span class="o">-&gt;</span><span class="w">
</span><span class="k">case</span><span class="w"> </span><span class="n">field</span><span class="w"> </span><span class="k" data-group-id="2631642534-4">do</span><span class="w">
  </span><span class="ss">:status</span><span class="w"> </span><span class="o">-&gt;</span><span class="w">
    </span><span class="c1"># hide these errors</span><span class="w">
    </span><span class="no">nil</span><span class="w">  
  </span><span class="n">field</span><span class="w"> </span><span class="ow">when</span><span class="w"> </span><span class="n">field</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="p" data-group-id="2631642534-5">[</span><span class="ss">:currency</span><span class="p">,</span><span class="w"> </span><span class="ss">:amount</span><span class="p" data-group-id="2631642534-5">]</span><span class="w"> </span><span class="o">-&gt;</span><span class="w">
    </span><span class="c1"># remap the field, and replace the error message</span><span class="w">
    </span><span class="p" data-group-id="2631642534-6">{</span><span class="ss">:money</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;please enter a real money amount&quot;</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="2631642534-7">[</span><span class="p" data-group-id="2631642534-7">]</span><span class="p" data-group-id="2631642534-6">}</span><span class="w">  
  </span><span class="n">field</span><span class="w"> </span><span class="o">-&gt;</span><span class="w">
    </span><span class="c1"># leave the others unchanged</span><span class="w">
    </span><span class="p" data-group-id="2631642534-8">{</span><span class="n">field</span><span class="p">,</span><span class="w"> </span><span class="n">message</span><span class="p">,</span><span class="w"> </span><span class="n">vars</span><span class="p" data-group-id="2631642534-8">}</span><span class="w">
</span><span class="k" data-group-id="2631642534-4">end</span><span class="w">
</span><span class="k" data-group-id="2631642534-2">end</span><span class="p" data-group-id="2631642534-1">)</span></code></pre></li></ul></li><li><code class="inline">:prepare_source</code> - A 1-argument function the receives the initial changeset (or query) and makes any relevant changes to it.
This can be used to do things like:  <ul><li>Set default argument values before the validations are run using <a href="https://hexdocs.pm/ash/3.7.6/Ash.Changeset.html#set_arguments/2"><code class="inline">Ash.Changeset.set_arguments/2</code></a> or <a href="https://hexdocs.pm/ash/3.7.6/Ash.Changeset.html#set_argument/3"><code class="inline">Ash.Changeset.set_argument/3</code></a></li><li>Set changeset context</li><li>Do any other pre-processing on the changeset</li></ul></li><li><code class="inline">:prepare_params</code> - A 2-argument function that receives the params map and the :validate atom and should return prepared params.
Called before the form is validated.</li><li><code class="inline">:transform_params</code> - A function for post-processing the form parameters before they are used for changeset validation/submission.
Use a 3-argument function to pattern match on the <a href="https://hexdocs.pm/ash_phoenix/2.3.17/AshPhoenix.Form.html"><code class="inline">AshPhoenix.Form</code></a> struct.</li><li><code class="inline">:method</code> (<a href="https://hexdocs.pm/elixir/String.html#t:t/0"><code class="inline">String.t/0</code></a>) - The http method to associate with the form. Defaults to <code class="inline">post</code> for creates, and <code class="inline">put</code> for everything else.</li><li><code class="inline">:exclude_fields_if_empty</code> - These fields will be ignored if they are empty strings.<br/>This list of fields supports dead view forms. When a form is submitted from dead view
empty fields are submitted as empty strings. This is problematic for fields that allow_nil
or those that have default values.</li><li><code class="inline">:tenant</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - The current tenant. Passed through to the underlying action.</li><li><code class="inline">:params</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - The initial parameters to use for the form. This is useful for setting up a form with default values. The default value is <code class="inline">%{}</code>.
Any <em>additional</em> options will be passed to the underlying call to build the source, i.e
<a href="https://hexdocs.pm/ash/3.7.6/Ash.ActionInput.html#for_action/4"><code class="inline">Ash.ActionInput.for_action/4</code></a>, or <code class="inline">Ash.Changeset.for_*</code>. This means you can set things
like the tenant/actor. These will be retained, and provided again when
<code class="inline">Form.submit/3</code> is called.</li></ul><h2 id="form_to_list_legislation/1-nested-form-options" class="section-heading"><a href="#form_to_list_legislation/1-nested-form-options" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Nested Form Options</span></h2><ul><li><code class="inline">:type</code> - The cardinality of the nested form - <code class="inline">:list</code> or <code class="inline">:single</code>. Valid values are :list, :single The default value is <code class="inline">:single</code>.</li><li><code class="inline">:sparse?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If the nested form is <code class="inline">sparse</code>, the form won't expect all inputs for all forms to be present.<br/>Has no effect if the type is <code class="inline">:single</code>.<br/>Normally, if you leave some forms out of a list of nested forms, they are removed from the parameters
passed to the action. For example, if you had a <code class="inline">post</code> with two comments <code class="inline">[%Comment{id: 1}, %Comment{id: 2}]</code>
and you passed down params like <code class="inline">comments[0][id]=1&amp;comments[1][text]=new_text</code>, we would remove the second comment
from the input parameters, resulting in the following being passed into the action: <code class="inline">%{&quot;comments&quot; =&gt; [%{&quot;id&quot; =&gt; 1, &quot;text&quot; =&gt; &quot;new&quot;}]}</code>.
By setting it to sparse, you have to explicitly use <code class="inline">remove_form</code> for that removal to happen. So in the same scenario above, the parameters
that would be sent would actually be <code class="inline">%{&quot;comments&quot; =&gt; [%{&quot;id&quot; =&gt; 1, &quot;text&quot; =&gt; &quot;new&quot;}, %{&quot;id&quot; =&gt; 2}]}</code>.<br/>One major difference with <code class="inline">sparse?</code> is that the form actually ignores the <em>index</em> provided, e.g <code class="inline">comments[0]...</code>, and instead uses the primary
key e.g <code class="inline">comments[0][id]</code> to match which form is being updated. This prevents you from having to find the index of the specific item you want to
update. Which could be very gnarly on deeply nested forms. If there is no primary key, or the primary key does not match anything, it is treated
as a new form.<br/>REMEMBER: You need to use <code class="inline">Phoenix.Components.inputs_for</code> to render the nested forms, or manually add hidden inputs using
<code class="inline">hidden_inputs_for</code> (or <code class="inline">HiddenInputs</code> if using Surface) for the id to be automatically placed into the form.</li><li><code class="inline">:forms</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">keyword/0</code></a>) - Forms nested inside the current nesting level in all cases.</li><li><code class="inline">:for_type</code> - What action types the form applies for. Leave blank for it to apply to all action types. Valid values are :read, :create, :update</li><li><code class="inline">:merge?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - When building parameters, this input will be merged with its parent input. This allows for combining multiple forms into a single input. The default value is <code class="inline">false</code>.</li><li><code class="inline">:for</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - When creating parameters for the action, the key that the forms should be gathered into. Defaults to the key used to configure the nested form. Ignored if <code class="inline">merge?</code> is <code class="inline">true</code>.</li><li><code class="inline">:resource</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - The resource of the nested forms. Unnecessary if you are providing the <code class="inline">data</code> key, and not adding additional forms to this path.</li><li><code class="inline">:create_action</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - The create action to use when building new forms. Only necessary if you want to use <code class="inline">add_form/3</code> with this path.</li><li><code class="inline">:update_action</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - The update action to use when building forms for data. Only necessary if you supply the <code class="inline">data</code> key.</li><li><code class="inline">:data</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - The current value or values that should have update forms built by default.<br/>You can also provide a single argument function that will return the data based on the
data of the parent form. This is important for multiple nesting levels of <code class="inline">:list</code> type
forms, because the data depends on which parent is being rendered.</li></ul>
  </section>
</section>
<section class="detail" id="form_to_list_legislation_by_type/1">

    <span id="form_to_list_legislation_by_type/0"></span>

  <div class="detail-header">
    <a href="#form_to_list_legislation_by_type/1" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">form_to_list_legislation_by_type(form_opts \\ [])</h1>


    </div>
  </div>

  <section class="docstring">

<p>Creates a form for the by_type action on EhsEnforcement.Enforcement.Legislation.</p><h2 id="form_to_list_legislation_by_type/1-options" class="section-heading"><a href="#form_to_list_legislation_by_type/1-options" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Options</span></h2><ul><li><code class="inline">:actor</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - The actor performing the action. Passed through to the underlying action.</li><li><code class="inline">:scope</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A value that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.Scope.html"><code class="inline">Ash.Scope</code></a> protocol, for passing around actor/tenant/context in a single value. See <a href="https://hexdocs.pm/ash/3.7.6/Ash.Scope.html"><code class="inline">Ash.Scope</code></a> for more.</li><li><code class="inline">:forms</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">keyword/0</code></a>) - Nested form configurations. See <code class="inline">for_create/3</code> &quot;Nested Form Options&quot; docs for more.</li><li><code class="inline">:warn_on_unhandled_errors?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Warns on any errors that don't match the form pattern of <code class="inline">{:field, &quot;message&quot;, [replacement: :vars]}</code> or implement the <a href="https://hexdocs.pm/ash_phoenix/2.3.17/AshPhoenix.FormData.Error.html"><code class="inline">AshPhoenix.FormData.Error</code></a> protocol. The default value is <code class="inline">true</code>.</li><li><code class="inline">:domain</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - The domain to use when calling the action.</li><li><code class="inline">:as</code> (<a href="https://hexdocs.pm/elixir/String.html#t:t/0"><code class="inline">String.t/0</code></a>) - The name of the form in the submitted params. You will need to pull the form params out using this key. The default value is <code class="inline">&quot;form&quot;</code>.</li><li><code class="inline">:id</code> (<a href="https://hexdocs.pm/elixir/String.html#t:t/0"><code class="inline">String.t/0</code></a>) - The html id of the form. Defaults to the value of <code class="inline">:as</code> if provided, otherwise &quot;form&quot;</li><li><code class="inline">:transform_errors</code> - Allows for manual manipulation and transformation of errors. You may prefer <code class="inline">post_process_errors</code> as a simpler API.<br/>If possible, try to implement <a href="https://hexdocs.pm/ash_phoenix/2.3.17/AshPhoenix.FormData.Error.html"><code class="inline">AshPhoenix.FormData.Error</code></a> for the error (if it as a custom one, for example).
If that isn't possible, you can provide this function which will get the changeset and the error, and should
return a list of ash phoenix formatted errors, e.g <code class="inline">[{field :: atom, message :: String.t(), substituations :: Keyword.t()}]</code><br/>Example:<pre><code class="makeup elixir" translate="no"><span class="nc">AshPhoenix.Form</span><span class="o">.</span><span class="n">for_create</span><span class="p" data-group-id="7238129362-1">(</span><span class="n">...</span><span class="p">,</span><span class="w"> </span><span class="ss">transform_errors</span><span class="p">:</span><span class="w"> </span><span class="k" data-group-id="7238129362-2">fn</span><span class="w">
  </span><span class="c">_changeset</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="7238129362-3">%{</span><span class="ss">field</span><span class="p">:</span><span class="w"> </span><span class="ss">:field1</span><span class="p" data-group-id="7238129362-3">}</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">error</span><span class="w"> </span><span class="o">-&gt;</span><span class="w">
    </span><span class="p" data-group-id="7238129362-4">%{</span><span class="n">error</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="ss">field</span><span class="p">:</span><span class="w"> </span><span class="ss">:field2</span><span class="p" data-group-id="7238129362-4">}</span><span class="w">  
  </span><span class="c">_changeset</span><span class="p">,</span><span class="w"> </span><span class="n">error</span><span class="w"> </span><span class="o">-&gt;</span><span class="w">
    </span><span class="n">error</span><span class="w">
</span><span class="k" data-group-id="7238129362-2">end</span></code></pre></li><li><code class="inline">:post_process_errors</code> - Allows for post-processing of errors after they have been converted to the standard triple format.<br/>This function receives the form, the path to the form, and an error triple <code class="inline">{field, message, vars}</code>.
It should return either a modified triple or <code class="inline">nil</code> to filter out the error.<br/>This is useful for:<ul><li>Filtering out certain errors based on custom criteria</li><li>Remapping field names from one field to another</li><li>Modifying error messages or variables<br/>Example:<pre><code class="makeup elixir" translate="no"><span class="nc">AshPhoenix.Form</span><span class="o">.</span><span class="n">for_create</span><span class="p" data-group-id="6438068648-1">(</span><span class="n">...</span><span class="p">,</span><span class="w"> </span><span class="ss">post_process_errors</span><span class="p">:</span><span class="w"> </span><span class="k" data-group-id="6438068648-2">fn</span><span class="w"> </span><span class="n">form</span><span class="p">,</span><span class="w"> </span><span class="c">_path</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="6438068648-3">{</span><span class="n">field</span><span class="p">,</span><span class="w"> </span><span class="n">message</span><span class="p">,</span><span class="w"> </span><span class="n">vars</span><span class="p" data-group-id="6438068648-3">}</span><span class="w"> </span><span class="o">-&gt;</span><span class="w">
</span><span class="k">case</span><span class="w"> </span><span class="n">field</span><span class="w"> </span><span class="k" data-group-id="6438068648-4">do</span><span class="w">
  </span><span class="ss">:status</span><span class="w"> </span><span class="o">-&gt;</span><span class="w">
    </span><span class="c1"># hide these errors</span><span class="w">
    </span><span class="no">nil</span><span class="w">  
  </span><span class="n">field</span><span class="w"> </span><span class="ow">when</span><span class="w"> </span><span class="n">field</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="p" data-group-id="6438068648-5">[</span><span class="ss">:currency</span><span class="p">,</span><span class="w"> </span><span class="ss">:amount</span><span class="p" data-group-id="6438068648-5">]</span><span class="w"> </span><span class="o">-&gt;</span><span class="w">
    </span><span class="c1"># remap the field, and replace the error message</span><span class="w">
    </span><span class="p" data-group-id="6438068648-6">{</span><span class="ss">:money</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;please enter a real money amount&quot;</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="6438068648-7">[</span><span class="p" data-group-id="6438068648-7">]</span><span class="p" data-group-id="6438068648-6">}</span><span class="w">  
  </span><span class="n">field</span><span class="w"> </span><span class="o">-&gt;</span><span class="w">
    </span><span class="c1"># leave the others unchanged</span><span class="w">
    </span><span class="p" data-group-id="6438068648-8">{</span><span class="n">field</span><span class="p">,</span><span class="w"> </span><span class="n">message</span><span class="p">,</span><span class="w"> </span><span class="n">vars</span><span class="p" data-group-id="6438068648-8">}</span><span class="w">
</span><span class="k" data-group-id="6438068648-4">end</span><span class="w">
</span><span class="k" data-group-id="6438068648-2">end</span><span class="p" data-group-id="6438068648-1">)</span></code></pre></li></ul></li><li><code class="inline">:prepare_source</code> - A 1-argument function the receives the initial changeset (or query) and makes any relevant changes to it.
This can be used to do things like:  <ul><li>Set default argument values before the validations are run using <a href="https://hexdocs.pm/ash/3.7.6/Ash.Changeset.html#set_arguments/2"><code class="inline">Ash.Changeset.set_arguments/2</code></a> or <a href="https://hexdocs.pm/ash/3.7.6/Ash.Changeset.html#set_argument/3"><code class="inline">Ash.Changeset.set_argument/3</code></a></li><li>Set changeset context</li><li>Do any other pre-processing on the changeset</li></ul></li><li><code class="inline">:prepare_params</code> - A 2-argument function that receives the params map and the :validate atom and should return prepared params.
Called before the form is validated.</li><li><code class="inline">:transform_params</code> - A function for post-processing the form parameters before they are used for changeset validation/submission.
Use a 3-argument function to pattern match on the <a href="https://hexdocs.pm/ash_phoenix/2.3.17/AshPhoenix.Form.html"><code class="inline">AshPhoenix.Form</code></a> struct.</li><li><code class="inline">:method</code> (<a href="https://hexdocs.pm/elixir/String.html#t:t/0"><code class="inline">String.t/0</code></a>) - The http method to associate with the form. Defaults to <code class="inline">post</code> for creates, and <code class="inline">put</code> for everything else.</li><li><code class="inline">:exclude_fields_if_empty</code> - These fields will be ignored if they are empty strings.<br/>This list of fields supports dead view forms. When a form is submitted from dead view
empty fields are submitted as empty strings. This is problematic for fields that allow_nil
or those that have default values.</li><li><code class="inline">:tenant</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - The current tenant. Passed through to the underlying action.</li><li><code class="inline">:params</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - The initial parameters to use for the form. This is useful for setting up a form with default values. The default value is <code class="inline">%{}</code>.
Any <em>additional</em> options will be passed to the underlying call to build the source, i.e
<a href="https://hexdocs.pm/ash/3.7.6/Ash.ActionInput.html#for_action/4"><code class="inline">Ash.ActionInput.for_action/4</code></a>, or <code class="inline">Ash.Changeset.for_*</code>. This means you can set things
like the tenant/actor. These will be retained, and provided again when
<code class="inline">Form.submit/3</code> is called.</li></ul><h2 id="form_to_list_legislation_by_type/1-nested-form-options" class="section-heading"><a href="#form_to_list_legislation_by_type/1-nested-form-options" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Nested Form Options</span></h2><ul><li><code class="inline">:type</code> - The cardinality of the nested form - <code class="inline">:list</code> or <code class="inline">:single</code>. Valid values are :list, :single The default value is <code class="inline">:single</code>.</li><li><code class="inline">:sparse?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If the nested form is <code class="inline">sparse</code>, the form won't expect all inputs for all forms to be present.<br/>Has no effect if the type is <code class="inline">:single</code>.<br/>Normally, if you leave some forms out of a list of nested forms, they are removed from the parameters
passed to the action. For example, if you had a <code class="inline">post</code> with two comments <code class="inline">[%Comment{id: 1}, %Comment{id: 2}]</code>
and you passed down params like <code class="inline">comments[0][id]=1&amp;comments[1][text]=new_text</code>, we would remove the second comment
from the input parameters, resulting in the following being passed into the action: <code class="inline">%{&quot;comments&quot; =&gt; [%{&quot;id&quot; =&gt; 1, &quot;text&quot; =&gt; &quot;new&quot;}]}</code>.
By setting it to sparse, you have to explicitly use <code class="inline">remove_form</code> for that removal to happen. So in the same scenario above, the parameters
that would be sent would actually be <code class="inline">%{&quot;comments&quot; =&gt; [%{&quot;id&quot; =&gt; 1, &quot;text&quot; =&gt; &quot;new&quot;}, %{&quot;id&quot; =&gt; 2}]}</code>.<br/>One major difference with <code class="inline">sparse?</code> is that the form actually ignores the <em>index</em> provided, e.g <code class="inline">comments[0]...</code>, and instead uses the primary
key e.g <code class="inline">comments[0][id]</code> to match which form is being updated. This prevents you from having to find the index of the specific item you want to
update. Which could be very gnarly on deeply nested forms. If there is no primary key, or the primary key does not match anything, it is treated
as a new form.<br/>REMEMBER: You need to use <code class="inline">Phoenix.Components.inputs_for</code> to render the nested forms, or manually add hidden inputs using
<code class="inline">hidden_inputs_for</code> (or <code class="inline">HiddenInputs</code> if using Surface) for the id to be automatically placed into the form.</li><li><code class="inline">:forms</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">keyword/0</code></a>) - Forms nested inside the current nesting level in all cases.</li><li><code class="inline">:for_type</code> - What action types the form applies for. Leave blank for it to apply to all action types. Valid values are :read, :create, :update</li><li><code class="inline">:merge?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - When building parameters, this input will be merged with its parent input. This allows for combining multiple forms into a single input. The default value is <code class="inline">false</code>.</li><li><code class="inline">:for</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - When creating parameters for the action, the key that the forms should be gathered into. Defaults to the key used to configure the nested form. Ignored if <code class="inline">merge?</code> is <code class="inline">true</code>.</li><li><code class="inline">:resource</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - The resource of the nested forms. Unnecessary if you are providing the <code class="inline">data</code> key, and not adding additional forms to this path.</li><li><code class="inline">:create_action</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - The create action to use when building new forms. Only necessary if you want to use <code class="inline">add_form/3</code> with this path.</li><li><code class="inline">:update_action</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - The update action to use when building forms for data. Only necessary if you supply the <code class="inline">data</code> key.</li><li><code class="inline">:data</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - The current value or values that should have update forms built by default.<br/>You can also provide a single argument function that will return the data based on the
data of the parent form. This is important for multiple nesting levels of <code class="inline">:list</code> type
forms, because the data depends on which parent is being rendered.</li></ul>
  </section>
</section>
<section class="detail" id="form_to_list_legislation_by_year_range/1">

    <span id="form_to_list_legislation_by_year_range/0"></span>

  <div class="detail-header">
    <a href="#form_to_list_legislation_by_year_range/1" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">form_to_list_legislation_by_year_range(form_opts \\ [])</h1>


    </div>
  </div>

  <section class="docstring">

<p>Creates a form for the by_year_range action on EhsEnforcement.Enforcement.Legislation.</p><h2 id="form_to_list_legislation_by_year_range/1-options" class="section-heading"><a href="#form_to_list_legislation_by_year_range/1-options" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Options</span></h2><ul><li><code class="inline">:actor</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - The actor performing the action. Passed through to the underlying action.</li><li><code class="inline">:scope</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A value that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.Scope.html"><code class="inline">Ash.Scope</code></a> protocol, for passing around actor/tenant/context in a single value. See <a href="https://hexdocs.pm/ash/3.7.6/Ash.Scope.html"><code class="inline">Ash.Scope</code></a> for more.</li><li><code class="inline">:forms</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">keyword/0</code></a>) - Nested form configurations. See <code class="inline">for_create/3</code> &quot;Nested Form Options&quot; docs for more.</li><li><code class="inline">:warn_on_unhandled_errors?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Warns on any errors that don't match the form pattern of <code class="inline">{:field, &quot;message&quot;, [replacement: :vars]}</code> or implement the <a href="https://hexdocs.pm/ash_phoenix/2.3.17/AshPhoenix.FormData.Error.html"><code class="inline">AshPhoenix.FormData.Error</code></a> protocol. The default value is <code class="inline">true</code>.</li><li><code class="inline">:domain</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - The domain to use when calling the action.</li><li><code class="inline">:as</code> (<a href="https://hexdocs.pm/elixir/String.html#t:t/0"><code class="inline">String.t/0</code></a>) - The name of the form in the submitted params. You will need to pull the form params out using this key. The default value is <code class="inline">&quot;form&quot;</code>.</li><li><code class="inline">:id</code> (<a href="https://hexdocs.pm/elixir/String.html#t:t/0"><code class="inline">String.t/0</code></a>) - The html id of the form. Defaults to the value of <code class="inline">:as</code> if provided, otherwise &quot;form&quot;</li><li><code class="inline">:transform_errors</code> - Allows for manual manipulation and transformation of errors. You may prefer <code class="inline">post_process_errors</code> as a simpler API.<br/>If possible, try to implement <a href="https://hexdocs.pm/ash_phoenix/2.3.17/AshPhoenix.FormData.Error.html"><code class="inline">AshPhoenix.FormData.Error</code></a> for the error (if it as a custom one, for example).
If that isn't possible, you can provide this function which will get the changeset and the error, and should
return a list of ash phoenix formatted errors, e.g <code class="inline">[{field :: atom, message :: String.t(), substituations :: Keyword.t()}]</code><br/>Example:<pre><code class="makeup elixir" translate="no"><span class="nc">AshPhoenix.Form</span><span class="o">.</span><span class="n">for_create</span><span class="p" data-group-id="5845928034-1">(</span><span class="n">...</span><span class="p">,</span><span class="w"> </span><span class="ss">transform_errors</span><span class="p">:</span><span class="w"> </span><span class="k" data-group-id="5845928034-2">fn</span><span class="w">
  </span><span class="c">_changeset</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="5845928034-3">%{</span><span class="ss">field</span><span class="p">:</span><span class="w"> </span><span class="ss">:field1</span><span class="p" data-group-id="5845928034-3">}</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">error</span><span class="w"> </span><span class="o">-&gt;</span><span class="w">
    </span><span class="p" data-group-id="5845928034-4">%{</span><span class="n">error</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="ss">field</span><span class="p">:</span><span class="w"> </span><span class="ss">:field2</span><span class="p" data-group-id="5845928034-4">}</span><span class="w">  
  </span><span class="c">_changeset</span><span class="p">,</span><span class="w"> </span><span class="n">error</span><span class="w"> </span><span class="o">-&gt;</span><span class="w">
    </span><span class="n">error</span><span class="w">
</span><span class="k" data-group-id="5845928034-2">end</span></code></pre></li><li><code class="inline">:post_process_errors</code> - Allows for post-processing of errors after they have been converted to the standard triple format.<br/>This function receives the form, the path to the form, and an error triple <code class="inline">{field, message, vars}</code>.
It should return either a modified triple or <code class="inline">nil</code> to filter out the error.<br/>This is useful for:<ul><li>Filtering out certain errors based on custom criteria</li><li>Remapping field names from one field to another</li><li>Modifying error messages or variables<br/>Example:<pre><code class="makeup elixir" translate="no"><span class="nc">AshPhoenix.Form</span><span class="o">.</span><span class="n">for_create</span><span class="p" data-group-id="4900108737-1">(</span><span class="n">...</span><span class="p">,</span><span class="w"> </span><span class="ss">post_process_errors</span><span class="p">:</span><span class="w"> </span><span class="k" data-group-id="4900108737-2">fn</span><span class="w"> </span><span class="n">form</span><span class="p">,</span><span class="w"> </span><span class="c">_path</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="4900108737-3">{</span><span class="n">field</span><span class="p">,</span><span class="w"> </span><span class="n">message</span><span class="p">,</span><span class="w"> </span><span class="n">vars</span><span class="p" data-group-id="4900108737-3">}</span><span class="w"> </span><span class="o">-&gt;</span><span class="w">
</span><span class="k">case</span><span class="w"> </span><span class="n">field</span><span class="w"> </span><span class="k" data-group-id="4900108737-4">do</span><span class="w">
  </span><span class="ss">:status</span><span class="w"> </span><span class="o">-&gt;</span><span class="w">
    </span><span class="c1"># hide these errors</span><span class="w">
    </span><span class="no">nil</span><span class="w">  
  </span><span class="n">field</span><span class="w"> </span><span class="ow">when</span><span class="w"> </span><span class="n">field</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="p" data-group-id="4900108737-5">[</span><span class="ss">:currency</span><span class="p">,</span><span class="w"> </span><span class="ss">:amount</span><span class="p" data-group-id="4900108737-5">]</span><span class="w"> </span><span class="o">-&gt;</span><span class="w">
    </span><span class="c1"># remap the field, and replace the error message</span><span class="w">
    </span><span class="p" data-group-id="4900108737-6">{</span><span class="ss">:money</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;please enter a real money amount&quot;</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="4900108737-7">[</span><span class="p" data-group-id="4900108737-7">]</span><span class="p" data-group-id="4900108737-6">}</span><span class="w">  
  </span><span class="n">field</span><span class="w"> </span><span class="o">-&gt;</span><span class="w">
    </span><span class="c1"># leave the others unchanged</span><span class="w">
    </span><span class="p" data-group-id="4900108737-8">{</span><span class="n">field</span><span class="p">,</span><span class="w"> </span><span class="n">message</span><span class="p">,</span><span class="w"> </span><span class="n">vars</span><span class="p" data-group-id="4900108737-8">}</span><span class="w">
</span><span class="k" data-group-id="4900108737-4">end</span><span class="w">
</span><span class="k" data-group-id="4900108737-2">end</span><span class="p" data-group-id="4900108737-1">)</span></code></pre></li></ul></li><li><code class="inline">:prepare_source</code> - A 1-argument function the receives the initial changeset (or query) and makes any relevant changes to it.
This can be used to do things like:  <ul><li>Set default argument values before the validations are run using <a href="https://hexdocs.pm/ash/3.7.6/Ash.Changeset.html#set_arguments/2"><code class="inline">Ash.Changeset.set_arguments/2</code></a> or <a href="https://hexdocs.pm/ash/3.7.6/Ash.Changeset.html#set_argument/3"><code class="inline">Ash.Changeset.set_argument/3</code></a></li><li>Set changeset context</li><li>Do any other pre-processing on the changeset</li></ul></li><li><code class="inline">:prepare_params</code> - A 2-argument function that receives the params map and the :validate atom and should return prepared params.
Called before the form is validated.</li><li><code class="inline">:transform_params</code> - A function for post-processing the form parameters before they are used for changeset validation/submission.
Use a 3-argument function to pattern match on the <a href="https://hexdocs.pm/ash_phoenix/2.3.17/AshPhoenix.Form.html"><code class="inline">AshPhoenix.Form</code></a> struct.</li><li><code class="inline">:method</code> (<a href="https://hexdocs.pm/elixir/String.html#t:t/0"><code class="inline">String.t/0</code></a>) - The http method to associate with the form. Defaults to <code class="inline">post</code> for creates, and <code class="inline">put</code> for everything else.</li><li><code class="inline">:exclude_fields_if_empty</code> - These fields will be ignored if they are empty strings.<br/>This list of fields supports dead view forms. When a form is submitted from dead view
empty fields are submitted as empty strings. This is problematic for fields that allow_nil
or those that have default values.</li><li><code class="inline">:tenant</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - The current tenant. Passed through to the underlying action.</li><li><code class="inline">:params</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - The initial parameters to use for the form. This is useful for setting up a form with default values. The default value is <code class="inline">%{}</code>.
Any <em>additional</em> options will be passed to the underlying call to build the source, i.e
<a href="https://hexdocs.pm/ash/3.7.6/Ash.ActionInput.html#for_action/4"><code class="inline">Ash.ActionInput.for_action/4</code></a>, or <code class="inline">Ash.Changeset.for_*</code>. This means you can set things
like the tenant/actor. These will be retained, and provided again when
<code class="inline">Form.submit/3</code> is called.</li></ul><h2 id="form_to_list_legislation_by_year_range/1-nested-form-options" class="section-heading"><a href="#form_to_list_legislation_by_year_range/1-nested-form-options" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Nested Form Options</span></h2><ul><li><code class="inline">:type</code> - The cardinality of the nested form - <code class="inline">:list</code> or <code class="inline">:single</code>. Valid values are :list, :single The default value is <code class="inline">:single</code>.</li><li><code class="inline">:sparse?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If the nested form is <code class="inline">sparse</code>, the form won't expect all inputs for all forms to be present.<br/>Has no effect if the type is <code class="inline">:single</code>.<br/>Normally, if you leave some forms out of a list of nested forms, they are removed from the parameters
passed to the action. For example, if you had a <code class="inline">post</code> with two comments <code class="inline">[%Comment{id: 1}, %Comment{id: 2}]</code>
and you passed down params like <code class="inline">comments[0][id]=1&amp;comments[1][text]=new_text</code>, we would remove the second comment
from the input parameters, resulting in the following being passed into the action: <code class="inline">%{&quot;comments&quot; =&gt; [%{&quot;id&quot; =&gt; 1, &quot;text&quot; =&gt; &quot;new&quot;}]}</code>.
By setting it to sparse, you have to explicitly use <code class="inline">remove_form</code> for that removal to happen. So in the same scenario above, the parameters
that would be sent would actually be <code class="inline">%{&quot;comments&quot; =&gt; [%{&quot;id&quot; =&gt; 1, &quot;text&quot; =&gt; &quot;new&quot;}, %{&quot;id&quot; =&gt; 2}]}</code>.<br/>One major difference with <code class="inline">sparse?</code> is that the form actually ignores the <em>index</em> provided, e.g <code class="inline">comments[0]...</code>, and instead uses the primary
key e.g <code class="inline">comments[0][id]</code> to match which form is being updated. This prevents you from having to find the index of the specific item you want to
update. Which could be very gnarly on deeply nested forms. If there is no primary key, or the primary key does not match anything, it is treated
as a new form.<br/>REMEMBER: You need to use <code class="inline">Phoenix.Components.inputs_for</code> to render the nested forms, or manually add hidden inputs using
<code class="inline">hidden_inputs_for</code> (or <code class="inline">HiddenInputs</code> if using Surface) for the id to be automatically placed into the form.</li><li><code class="inline">:forms</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">keyword/0</code></a>) - Forms nested inside the current nesting level in all cases.</li><li><code class="inline">:for_type</code> - What action types the form applies for. Leave blank for it to apply to all action types. Valid values are :read, :create, :update</li><li><code class="inline">:merge?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - When building parameters, this input will be merged with its parent input. This allows for combining multiple forms into a single input. The default value is <code class="inline">false</code>.</li><li><code class="inline">:for</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - When creating parameters for the action, the key that the forms should be gathered into. Defaults to the key used to configure the nested form. Ignored if <code class="inline">merge?</code> is <code class="inline">true</code>.</li><li><code class="inline">:resource</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - The resource of the nested forms. Unnecessary if you are providing the <code class="inline">data</code> key, and not adding additional forms to this path.</li><li><code class="inline">:create_action</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - The create action to use when building new forms. Only necessary if you want to use <code class="inline">add_form/3</code> with this path.</li><li><code class="inline">:update_action</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - The update action to use when building forms for data. Only necessary if you supply the <code class="inline">data</code> key.</li><li><code class="inline">:data</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - The current value or values that should have update forms built by default.<br/>You can also provide a single argument function that will return the data based on the
data of the parent form. This is important for multiple nesting levels of <code class="inline">:list</code> type
forms, because the data depends on which parent is being rendered.</li></ul>
  </section>
</section>
<section class="detail" id="form_to_list_notices/1">

    <span id="form_to_list_notices/0"></span>

  <div class="detail-header">
    <a href="#form_to_list_notices/1" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">form_to_list_notices(form_opts \\ [])</h1>


    </div>
  </div>

  <section class="docstring">

<p>Creates a form for the read action on EhsEnforcement.Enforcement.Notice.</p><h2 id="form_to_list_notices/1-options" class="section-heading"><a href="#form_to_list_notices/1-options" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Options</span></h2><ul><li><code class="inline">:actor</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - The actor performing the action. Passed through to the underlying action.</li><li><code class="inline">:scope</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A value that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.Scope.html"><code class="inline">Ash.Scope</code></a> protocol, for passing around actor/tenant/context in a single value. See <a href="https://hexdocs.pm/ash/3.7.6/Ash.Scope.html"><code class="inline">Ash.Scope</code></a> for more.</li><li><code class="inline">:forms</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">keyword/0</code></a>) - Nested form configurations. See <code class="inline">for_create/3</code> &quot;Nested Form Options&quot; docs for more.</li><li><code class="inline">:warn_on_unhandled_errors?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Warns on any errors that don't match the form pattern of <code class="inline">{:field, &quot;message&quot;, [replacement: :vars]}</code> or implement the <a href="https://hexdocs.pm/ash_phoenix/2.3.17/AshPhoenix.FormData.Error.html"><code class="inline">AshPhoenix.FormData.Error</code></a> protocol. The default value is <code class="inline">true</code>.</li><li><code class="inline">:domain</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - The domain to use when calling the action.</li><li><code class="inline">:as</code> (<a href="https://hexdocs.pm/elixir/String.html#t:t/0"><code class="inline">String.t/0</code></a>) - The name of the form in the submitted params. You will need to pull the form params out using this key. The default value is <code class="inline">&quot;form&quot;</code>.</li><li><code class="inline">:id</code> (<a href="https://hexdocs.pm/elixir/String.html#t:t/0"><code class="inline">String.t/0</code></a>) - The html id of the form. Defaults to the value of <code class="inline">:as</code> if provided, otherwise &quot;form&quot;</li><li><code class="inline">:transform_errors</code> - Allows for manual manipulation and transformation of errors. You may prefer <code class="inline">post_process_errors</code> as a simpler API.<br/>If possible, try to implement <a href="https://hexdocs.pm/ash_phoenix/2.3.17/AshPhoenix.FormData.Error.html"><code class="inline">AshPhoenix.FormData.Error</code></a> for the error (if it as a custom one, for example).
If that isn't possible, you can provide this function which will get the changeset and the error, and should
return a list of ash phoenix formatted errors, e.g <code class="inline">[{field :: atom, message :: String.t(), substituations :: Keyword.t()}]</code><br/>Example:<pre><code class="makeup elixir" translate="no"><span class="nc">AshPhoenix.Form</span><span class="o">.</span><span class="n">for_create</span><span class="p" data-group-id="3729990108-1">(</span><span class="n">...</span><span class="p">,</span><span class="w"> </span><span class="ss">transform_errors</span><span class="p">:</span><span class="w"> </span><span class="k" data-group-id="3729990108-2">fn</span><span class="w">
  </span><span class="c">_changeset</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="3729990108-3">%{</span><span class="ss">field</span><span class="p">:</span><span class="w"> </span><span class="ss">:field1</span><span class="p" data-group-id="3729990108-3">}</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">error</span><span class="w"> </span><span class="o">-&gt;</span><span class="w">
    </span><span class="p" data-group-id="3729990108-4">%{</span><span class="n">error</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="ss">field</span><span class="p">:</span><span class="w"> </span><span class="ss">:field2</span><span class="p" data-group-id="3729990108-4">}</span><span class="w">  
  </span><span class="c">_changeset</span><span class="p">,</span><span class="w"> </span><span class="n">error</span><span class="w"> </span><span class="o">-&gt;</span><span class="w">
    </span><span class="n">error</span><span class="w">
</span><span class="k" data-group-id="3729990108-2">end</span></code></pre></li><li><code class="inline">:post_process_errors</code> - Allows for post-processing of errors after they have been converted to the standard triple format.<br/>This function receives the form, the path to the form, and an error triple <code class="inline">{field, message, vars}</code>.
It should return either a modified triple or <code class="inline">nil</code> to filter out the error.<br/>This is useful for:<ul><li>Filtering out certain errors based on custom criteria</li><li>Remapping field names from one field to another</li><li>Modifying error messages or variables<br/>Example:<pre><code class="makeup elixir" translate="no"><span class="nc">AshPhoenix.Form</span><span class="o">.</span><span class="n">for_create</span><span class="p" data-group-id="3978149863-1">(</span><span class="n">...</span><span class="p">,</span><span class="w"> </span><span class="ss">post_process_errors</span><span class="p">:</span><span class="w"> </span><span class="k" data-group-id="3978149863-2">fn</span><span class="w"> </span><span class="n">form</span><span class="p">,</span><span class="w"> </span><span class="c">_path</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="3978149863-3">{</span><span class="n">field</span><span class="p">,</span><span class="w"> </span><span class="n">message</span><span class="p">,</span><span class="w"> </span><span class="n">vars</span><span class="p" data-group-id="3978149863-3">}</span><span class="w"> </span><span class="o">-&gt;</span><span class="w">
</span><span class="k">case</span><span class="w"> </span><span class="n">field</span><span class="w"> </span><span class="k" data-group-id="3978149863-4">do</span><span class="w">
  </span><span class="ss">:status</span><span class="w"> </span><span class="o">-&gt;</span><span class="w">
    </span><span class="c1"># hide these errors</span><span class="w">
    </span><span class="no">nil</span><span class="w">  
  </span><span class="n">field</span><span class="w"> </span><span class="ow">when</span><span class="w"> </span><span class="n">field</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="p" data-group-id="3978149863-5">[</span><span class="ss">:currency</span><span class="p">,</span><span class="w"> </span><span class="ss">:amount</span><span class="p" data-group-id="3978149863-5">]</span><span class="w"> </span><span class="o">-&gt;</span><span class="w">
    </span><span class="c1"># remap the field, and replace the error message</span><span class="w">
    </span><span class="p" data-group-id="3978149863-6">{</span><span class="ss">:money</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;please enter a real money amount&quot;</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="3978149863-7">[</span><span class="p" data-group-id="3978149863-7">]</span><span class="p" data-group-id="3978149863-6">}</span><span class="w">  
  </span><span class="n">field</span><span class="w"> </span><span class="o">-&gt;</span><span class="w">
    </span><span class="c1"># leave the others unchanged</span><span class="w">
    </span><span class="p" data-group-id="3978149863-8">{</span><span class="n">field</span><span class="p">,</span><span class="w"> </span><span class="n">message</span><span class="p">,</span><span class="w"> </span><span class="n">vars</span><span class="p" data-group-id="3978149863-8">}</span><span class="w">
</span><span class="k" data-group-id="3978149863-4">end</span><span class="w">
</span><span class="k" data-group-id="3978149863-2">end</span><span class="p" data-group-id="3978149863-1">)</span></code></pre></li></ul></li><li><code class="inline">:prepare_source</code> - A 1-argument function the receives the initial changeset (or query) and makes any relevant changes to it.
This can be used to do things like:  <ul><li>Set default argument values before the validations are run using <a href="https://hexdocs.pm/ash/3.7.6/Ash.Changeset.html#set_arguments/2"><code class="inline">Ash.Changeset.set_arguments/2</code></a> or <a href="https://hexdocs.pm/ash/3.7.6/Ash.Changeset.html#set_argument/3"><code class="inline">Ash.Changeset.set_argument/3</code></a></li><li>Set changeset context</li><li>Do any other pre-processing on the changeset</li></ul></li><li><code class="inline">:prepare_params</code> - A 2-argument function that receives the params map and the :validate atom and should return prepared params.
Called before the form is validated.</li><li><code class="inline">:transform_params</code> - A function for post-processing the form parameters before they are used for changeset validation/submission.
Use a 3-argument function to pattern match on the <a href="https://hexdocs.pm/ash_phoenix/2.3.17/AshPhoenix.Form.html"><code class="inline">AshPhoenix.Form</code></a> struct.</li><li><code class="inline">:method</code> (<a href="https://hexdocs.pm/elixir/String.html#t:t/0"><code class="inline">String.t/0</code></a>) - The http method to associate with the form. Defaults to <code class="inline">post</code> for creates, and <code class="inline">put</code> for everything else.</li><li><code class="inline">:exclude_fields_if_empty</code> - These fields will be ignored if they are empty strings.<br/>This list of fields supports dead view forms. When a form is submitted from dead view
empty fields are submitted as empty strings. This is problematic for fields that allow_nil
or those that have default values.</li><li><code class="inline">:tenant</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - The current tenant. Passed through to the underlying action.</li><li><code class="inline">:params</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - The initial parameters to use for the form. This is useful for setting up a form with default values. The default value is <code class="inline">%{}</code>.
Any <em>additional</em> options will be passed to the underlying call to build the source, i.e
<a href="https://hexdocs.pm/ash/3.7.6/Ash.ActionInput.html#for_action/4"><code class="inline">Ash.ActionInput.for_action/4</code></a>, or <code class="inline">Ash.Changeset.for_*</code>. This means you can set things
like the tenant/actor. These will be retained, and provided again when
<code class="inline">Form.submit/3</code> is called.</li></ul><h2 id="form_to_list_notices/1-nested-form-options" class="section-heading"><a href="#form_to_list_notices/1-nested-form-options" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Nested Form Options</span></h2><ul><li><code class="inline">:type</code> - The cardinality of the nested form - <code class="inline">:list</code> or <code class="inline">:single</code>. Valid values are :list, :single The default value is <code class="inline">:single</code>.</li><li><code class="inline">:sparse?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If the nested form is <code class="inline">sparse</code>, the form won't expect all inputs for all forms to be present.<br/>Has no effect if the type is <code class="inline">:single</code>.<br/>Normally, if you leave some forms out of a list of nested forms, they are removed from the parameters
passed to the action. For example, if you had a <code class="inline">post</code> with two comments <code class="inline">[%Comment{id: 1}, %Comment{id: 2}]</code>
and you passed down params like <code class="inline">comments[0][id]=1&amp;comments[1][text]=new_text</code>, we would remove the second comment
from the input parameters, resulting in the following being passed into the action: <code class="inline">%{&quot;comments&quot; =&gt; [%{&quot;id&quot; =&gt; 1, &quot;text&quot; =&gt; &quot;new&quot;}]}</code>.
By setting it to sparse, you have to explicitly use <code class="inline">remove_form</code> for that removal to happen. So in the same scenario above, the parameters
that would be sent would actually be <code class="inline">%{&quot;comments&quot; =&gt; [%{&quot;id&quot; =&gt; 1, &quot;text&quot; =&gt; &quot;new&quot;}, %{&quot;id&quot; =&gt; 2}]}</code>.<br/>One major difference with <code class="inline">sparse?</code> is that the form actually ignores the <em>index</em> provided, e.g <code class="inline">comments[0]...</code>, and instead uses the primary
key e.g <code class="inline">comments[0][id]</code> to match which form is being updated. This prevents you from having to find the index of the specific item you want to
update. Which could be very gnarly on deeply nested forms. If there is no primary key, or the primary key does not match anything, it is treated
as a new form.<br/>REMEMBER: You need to use <code class="inline">Phoenix.Components.inputs_for</code> to render the nested forms, or manually add hidden inputs using
<code class="inline">hidden_inputs_for</code> (or <code class="inline">HiddenInputs</code> if using Surface) for the id to be automatically placed into the form.</li><li><code class="inline">:forms</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">keyword/0</code></a>) - Forms nested inside the current nesting level in all cases.</li><li><code class="inline">:for_type</code> - What action types the form applies for. Leave blank for it to apply to all action types. Valid values are :read, :create, :update</li><li><code class="inline">:merge?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - When building parameters, this input will be merged with its parent input. This allows for combining multiple forms into a single input. The default value is <code class="inline">false</code>.</li><li><code class="inline">:for</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - When creating parameters for the action, the key that the forms should be gathered into. Defaults to the key used to configure the nested form. Ignored if <code class="inline">merge?</code> is <code class="inline">true</code>.</li><li><code class="inline">:resource</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - The resource of the nested forms. Unnecessary if you are providing the <code class="inline">data</code> key, and not adding additional forms to this path.</li><li><code class="inline">:create_action</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - The create action to use when building new forms. Only necessary if you want to use <code class="inline">add_form/3</code> with this path.</li><li><code class="inline">:update_action</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - The update action to use when building forms for data. Only necessary if you supply the <code class="inline">data</code> key.</li><li><code class="inline">:data</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - The current value or values that should have update forms built by default.<br/>You can also provide a single argument function that will return the data based on the
data of the parent form. This is important for multiple nesting levels of <code class="inline">:list</code> type
forms, because the data depends on which parent is being rendered.</li></ul>
  </section>
</section>
<section class="detail" id="form_to_list_offences/1">

    <span id="form_to_list_offences/0"></span>

  <div class="detail-header">
    <a href="#form_to_list_offences/1" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">form_to_list_offences(form_opts \\ [])</h1>


    </div>
  </div>

  <section class="docstring">

<p>Creates a form for the read action on EhsEnforcement.Enforcement.Offence.</p><h2 id="form_to_list_offences/1-options" class="section-heading"><a href="#form_to_list_offences/1-options" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Options</span></h2><ul><li><code class="inline">:actor</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - The actor performing the action. Passed through to the underlying action.</li><li><code class="inline">:scope</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A value that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.Scope.html"><code class="inline">Ash.Scope</code></a> protocol, for passing around actor/tenant/context in a single value. See <a href="https://hexdocs.pm/ash/3.7.6/Ash.Scope.html"><code class="inline">Ash.Scope</code></a> for more.</li><li><code class="inline">:forms</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">keyword/0</code></a>) - Nested form configurations. See <code class="inline">for_create/3</code> &quot;Nested Form Options&quot; docs for more.</li><li><code class="inline">:warn_on_unhandled_errors?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Warns on any errors that don't match the form pattern of <code class="inline">{:field, &quot;message&quot;, [replacement: :vars]}</code> or implement the <a href="https://hexdocs.pm/ash_phoenix/2.3.17/AshPhoenix.FormData.Error.html"><code class="inline">AshPhoenix.FormData.Error</code></a> protocol. The default value is <code class="inline">true</code>.</li><li><code class="inline">:domain</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - The domain to use when calling the action.</li><li><code class="inline">:as</code> (<a href="https://hexdocs.pm/elixir/String.html#t:t/0"><code class="inline">String.t/0</code></a>) - The name of the form in the submitted params. You will need to pull the form params out using this key. The default value is <code class="inline">&quot;form&quot;</code>.</li><li><code class="inline">:id</code> (<a href="https://hexdocs.pm/elixir/String.html#t:t/0"><code class="inline">String.t/0</code></a>) - The html id of the form. Defaults to the value of <code class="inline">:as</code> if provided, otherwise &quot;form&quot;</li><li><code class="inline">:transform_errors</code> - Allows for manual manipulation and transformation of errors. You may prefer <code class="inline">post_process_errors</code> as a simpler API.<br/>If possible, try to implement <a href="https://hexdocs.pm/ash_phoenix/2.3.17/AshPhoenix.FormData.Error.html"><code class="inline">AshPhoenix.FormData.Error</code></a> for the error (if it as a custom one, for example).
If that isn't possible, you can provide this function which will get the changeset and the error, and should
return a list of ash phoenix formatted errors, e.g <code class="inline">[{field :: atom, message :: String.t(), substituations :: Keyword.t()}]</code><br/>Example:<pre><code class="makeup elixir" translate="no"><span class="nc">AshPhoenix.Form</span><span class="o">.</span><span class="n">for_create</span><span class="p" data-group-id="7341994314-1">(</span><span class="n">...</span><span class="p">,</span><span class="w"> </span><span class="ss">transform_errors</span><span class="p">:</span><span class="w"> </span><span class="k" data-group-id="7341994314-2">fn</span><span class="w">
  </span><span class="c">_changeset</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="7341994314-3">%{</span><span class="ss">field</span><span class="p">:</span><span class="w"> </span><span class="ss">:field1</span><span class="p" data-group-id="7341994314-3">}</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">error</span><span class="w"> </span><span class="o">-&gt;</span><span class="w">
    </span><span class="p" data-group-id="7341994314-4">%{</span><span class="n">error</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="ss">field</span><span class="p">:</span><span class="w"> </span><span class="ss">:field2</span><span class="p" data-group-id="7341994314-4">}</span><span class="w">  
  </span><span class="c">_changeset</span><span class="p">,</span><span class="w"> </span><span class="n">error</span><span class="w"> </span><span class="o">-&gt;</span><span class="w">
    </span><span class="n">error</span><span class="w">
</span><span class="k" data-group-id="7341994314-2">end</span></code></pre></li><li><code class="inline">:post_process_errors</code> - Allows for post-processing of errors after they have been converted to the standard triple format.<br/>This function receives the form, the path to the form, and an error triple <code class="inline">{field, message, vars}</code>.
It should return either a modified triple or <code class="inline">nil</code> to filter out the error.<br/>This is useful for:<ul><li>Filtering out certain errors based on custom criteria</li><li>Remapping field names from one field to another</li><li>Modifying error messages or variables<br/>Example:<pre><code class="makeup elixir" translate="no"><span class="nc">AshPhoenix.Form</span><span class="o">.</span><span class="n">for_create</span><span class="p" data-group-id="0173425528-1">(</span><span class="n">...</span><span class="p">,</span><span class="w"> </span><span class="ss">post_process_errors</span><span class="p">:</span><span class="w"> </span><span class="k" data-group-id="0173425528-2">fn</span><span class="w"> </span><span class="n">form</span><span class="p">,</span><span class="w"> </span><span class="c">_path</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="0173425528-3">{</span><span class="n">field</span><span class="p">,</span><span class="w"> </span><span class="n">message</span><span class="p">,</span><span class="w"> </span><span class="n">vars</span><span class="p" data-group-id="0173425528-3">}</span><span class="w"> </span><span class="o">-&gt;</span><span class="w">
</span><span class="k">case</span><span class="w"> </span><span class="n">field</span><span class="w"> </span><span class="k" data-group-id="0173425528-4">do</span><span class="w">
  </span><span class="ss">:status</span><span class="w"> </span><span class="o">-&gt;</span><span class="w">
    </span><span class="c1"># hide these errors</span><span class="w">
    </span><span class="no">nil</span><span class="w">  
  </span><span class="n">field</span><span class="w"> </span><span class="ow">when</span><span class="w"> </span><span class="n">field</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="p" data-group-id="0173425528-5">[</span><span class="ss">:currency</span><span class="p">,</span><span class="w"> </span><span class="ss">:amount</span><span class="p" data-group-id="0173425528-5">]</span><span class="w"> </span><span class="o">-&gt;</span><span class="w">
    </span><span class="c1"># remap the field, and replace the error message</span><span class="w">
    </span><span class="p" data-group-id="0173425528-6">{</span><span class="ss">:money</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;please enter a real money amount&quot;</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="0173425528-7">[</span><span class="p" data-group-id="0173425528-7">]</span><span class="p" data-group-id="0173425528-6">}</span><span class="w">  
  </span><span class="n">field</span><span class="w"> </span><span class="o">-&gt;</span><span class="w">
    </span><span class="c1"># leave the others unchanged</span><span class="w">
    </span><span class="p" data-group-id="0173425528-8">{</span><span class="n">field</span><span class="p">,</span><span class="w"> </span><span class="n">message</span><span class="p">,</span><span class="w"> </span><span class="n">vars</span><span class="p" data-group-id="0173425528-8">}</span><span class="w">
</span><span class="k" data-group-id="0173425528-4">end</span><span class="w">
</span><span class="k" data-group-id="0173425528-2">end</span><span class="p" data-group-id="0173425528-1">)</span></code></pre></li></ul></li><li><code class="inline">:prepare_source</code> - A 1-argument function the receives the initial changeset (or query) and makes any relevant changes to it.
This can be used to do things like:  <ul><li>Set default argument values before the validations are run using <a href="https://hexdocs.pm/ash/3.7.6/Ash.Changeset.html#set_arguments/2"><code class="inline">Ash.Changeset.set_arguments/2</code></a> or <a href="https://hexdocs.pm/ash/3.7.6/Ash.Changeset.html#set_argument/3"><code class="inline">Ash.Changeset.set_argument/3</code></a></li><li>Set changeset context</li><li>Do any other pre-processing on the changeset</li></ul></li><li><code class="inline">:prepare_params</code> - A 2-argument function that receives the params map and the :validate atom and should return prepared params.
Called before the form is validated.</li><li><code class="inline">:transform_params</code> - A function for post-processing the form parameters before they are used for changeset validation/submission.
Use a 3-argument function to pattern match on the <a href="https://hexdocs.pm/ash_phoenix/2.3.17/AshPhoenix.Form.html"><code class="inline">AshPhoenix.Form</code></a> struct.</li><li><code class="inline">:method</code> (<a href="https://hexdocs.pm/elixir/String.html#t:t/0"><code class="inline">String.t/0</code></a>) - The http method to associate with the form. Defaults to <code class="inline">post</code> for creates, and <code class="inline">put</code> for everything else.</li><li><code class="inline">:exclude_fields_if_empty</code> - These fields will be ignored if they are empty strings.<br/>This list of fields supports dead view forms. When a form is submitted from dead view
empty fields are submitted as empty strings. This is problematic for fields that allow_nil
or those that have default values.</li><li><code class="inline">:tenant</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - The current tenant. Passed through to the underlying action.</li><li><code class="inline">:params</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - The initial parameters to use for the form. This is useful for setting up a form with default values. The default value is <code class="inline">%{}</code>.
Any <em>additional</em> options will be passed to the underlying call to build the source, i.e
<a href="https://hexdocs.pm/ash/3.7.6/Ash.ActionInput.html#for_action/4"><code class="inline">Ash.ActionInput.for_action/4</code></a>, or <code class="inline">Ash.Changeset.for_*</code>. This means you can set things
like the tenant/actor. These will be retained, and provided again when
<code class="inline">Form.submit/3</code> is called.</li></ul><h2 id="form_to_list_offences/1-nested-form-options" class="section-heading"><a href="#form_to_list_offences/1-nested-form-options" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Nested Form Options</span></h2><ul><li><code class="inline">:type</code> - The cardinality of the nested form - <code class="inline">:list</code> or <code class="inline">:single</code>. Valid values are :list, :single The default value is <code class="inline">:single</code>.</li><li><code class="inline">:sparse?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If the nested form is <code class="inline">sparse</code>, the form won't expect all inputs for all forms to be present.<br/>Has no effect if the type is <code class="inline">:single</code>.<br/>Normally, if you leave some forms out of a list of nested forms, they are removed from the parameters
passed to the action. For example, if you had a <code class="inline">post</code> with two comments <code class="inline">[%Comment{id: 1}, %Comment{id: 2}]</code>
and you passed down params like <code class="inline">comments[0][id]=1&amp;comments[1][text]=new_text</code>, we would remove the second comment
from the input parameters, resulting in the following being passed into the action: <code class="inline">%{&quot;comments&quot; =&gt; [%{&quot;id&quot; =&gt; 1, &quot;text&quot; =&gt; &quot;new&quot;}]}</code>.
By setting it to sparse, you have to explicitly use <code class="inline">remove_form</code> for that removal to happen. So in the same scenario above, the parameters
that would be sent would actually be <code class="inline">%{&quot;comments&quot; =&gt; [%{&quot;id&quot; =&gt; 1, &quot;text&quot; =&gt; &quot;new&quot;}, %{&quot;id&quot; =&gt; 2}]}</code>.<br/>One major difference with <code class="inline">sparse?</code> is that the form actually ignores the <em>index</em> provided, e.g <code class="inline">comments[0]...</code>, and instead uses the primary
key e.g <code class="inline">comments[0][id]</code> to match which form is being updated. This prevents you from having to find the index of the specific item you want to
update. Which could be very gnarly on deeply nested forms. If there is no primary key, or the primary key does not match anything, it is treated
as a new form.<br/>REMEMBER: You need to use <code class="inline">Phoenix.Components.inputs_for</code> to render the nested forms, or manually add hidden inputs using
<code class="inline">hidden_inputs_for</code> (or <code class="inline">HiddenInputs</code> if using Surface) for the id to be automatically placed into the form.</li><li><code class="inline">:forms</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">keyword/0</code></a>) - Forms nested inside the current nesting level in all cases.</li><li><code class="inline">:for_type</code> - What action types the form applies for. Leave blank for it to apply to all action types. Valid values are :read, :create, :update</li><li><code class="inline">:merge?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - When building parameters, this input will be merged with its parent input. This allows for combining multiple forms into a single input. The default value is <code class="inline">false</code>.</li><li><code class="inline">:for</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - When creating parameters for the action, the key that the forms should be gathered into. Defaults to the key used to configure the nested form. Ignored if <code class="inline">merge?</code> is <code class="inline">true</code>.</li><li><code class="inline">:resource</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - The resource of the nested forms. Unnecessary if you are providing the <code class="inline">data</code> key, and not adding additional forms to this path.</li><li><code class="inline">:create_action</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - The create action to use when building new forms. Only necessary if you want to use <code class="inline">add_form/3</code> with this path.</li><li><code class="inline">:update_action</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - The update action to use when building forms for data. Only necessary if you supply the <code class="inline">data</code> key.</li><li><code class="inline">:data</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - The current value or values that should have update forms built by default.<br/>You can also provide a single argument function that will return the data based on the
data of the parent form. This is important for multiple nesting levels of <code class="inline">:list</code> type
forms, because the data depends on which parent is being rendered.</li></ul>
  </section>
</section>
<section class="detail" id="form_to_list_offences_by_case/1">

    <span id="form_to_list_offences_by_case/0"></span>

  <div class="detail-header">
    <a href="#form_to_list_offences_by_case/1" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">form_to_list_offences_by_case(form_opts \\ [])</h1>


    </div>
  </div>

  <section class="docstring">

<p>Creates a form for the by_case action on EhsEnforcement.Enforcement.Offence.</p><h2 id="form_to_list_offences_by_case/1-options" class="section-heading"><a href="#form_to_list_offences_by_case/1-options" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Options</span></h2><ul><li><code class="inline">:actor</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - The actor performing the action. Passed through to the underlying action.</li><li><code class="inline">:scope</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A value that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.Scope.html"><code class="inline">Ash.Scope</code></a> protocol, for passing around actor/tenant/context in a single value. See <a href="https://hexdocs.pm/ash/3.7.6/Ash.Scope.html"><code class="inline">Ash.Scope</code></a> for more.</li><li><code class="inline">:forms</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">keyword/0</code></a>) - Nested form configurations. See <code class="inline">for_create/3</code> &quot;Nested Form Options&quot; docs for more.</li><li><code class="inline">:warn_on_unhandled_errors?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Warns on any errors that don't match the form pattern of <code class="inline">{:field, &quot;message&quot;, [replacement: :vars]}</code> or implement the <a href="https://hexdocs.pm/ash_phoenix/2.3.17/AshPhoenix.FormData.Error.html"><code class="inline">AshPhoenix.FormData.Error</code></a> protocol. The default value is <code class="inline">true</code>.</li><li><code class="inline">:domain</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - The domain to use when calling the action.</li><li><code class="inline">:as</code> (<a href="https://hexdocs.pm/elixir/String.html#t:t/0"><code class="inline">String.t/0</code></a>) - The name of the form in the submitted params. You will need to pull the form params out using this key. The default value is <code class="inline">&quot;form&quot;</code>.</li><li><code class="inline">:id</code> (<a href="https://hexdocs.pm/elixir/String.html#t:t/0"><code class="inline">String.t/0</code></a>) - The html id of the form. Defaults to the value of <code class="inline">:as</code> if provided, otherwise &quot;form&quot;</li><li><code class="inline">:transform_errors</code> - Allows for manual manipulation and transformation of errors. You may prefer <code class="inline">post_process_errors</code> as a simpler API.<br/>If possible, try to implement <a href="https://hexdocs.pm/ash_phoenix/2.3.17/AshPhoenix.FormData.Error.html"><code class="inline">AshPhoenix.FormData.Error</code></a> for the error (if it as a custom one, for example).
If that isn't possible, you can provide this function which will get the changeset and the error, and should
return a list of ash phoenix formatted errors, e.g <code class="inline">[{field :: atom, message :: String.t(), substituations :: Keyword.t()}]</code><br/>Example:<pre><code class="makeup elixir" translate="no"><span class="nc">AshPhoenix.Form</span><span class="o">.</span><span class="n">for_create</span><span class="p" data-group-id="8639697540-1">(</span><span class="n">...</span><span class="p">,</span><span class="w"> </span><span class="ss">transform_errors</span><span class="p">:</span><span class="w"> </span><span class="k" data-group-id="8639697540-2">fn</span><span class="w">
  </span><span class="c">_changeset</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="8639697540-3">%{</span><span class="ss">field</span><span class="p">:</span><span class="w"> </span><span class="ss">:field1</span><span class="p" data-group-id="8639697540-3">}</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">error</span><span class="w"> </span><span class="o">-&gt;</span><span class="w">
    </span><span class="p" data-group-id="8639697540-4">%{</span><span class="n">error</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="ss">field</span><span class="p">:</span><span class="w"> </span><span class="ss">:field2</span><span class="p" data-group-id="8639697540-4">}</span><span class="w">  
  </span><span class="c">_changeset</span><span class="p">,</span><span class="w"> </span><span class="n">error</span><span class="w"> </span><span class="o">-&gt;</span><span class="w">
    </span><span class="n">error</span><span class="w">
</span><span class="k" data-group-id="8639697540-2">end</span></code></pre></li><li><code class="inline">:post_process_errors</code> - Allows for post-processing of errors after they have been converted to the standard triple format.<br/>This function receives the form, the path to the form, and an error triple <code class="inline">{field, message, vars}</code>.
It should return either a modified triple or <code class="inline">nil</code> to filter out the error.<br/>This is useful for:<ul><li>Filtering out certain errors based on custom criteria</li><li>Remapping field names from one field to another</li><li>Modifying error messages or variables<br/>Example:<pre><code class="makeup elixir" translate="no"><span class="nc">AshPhoenix.Form</span><span class="o">.</span><span class="n">for_create</span><span class="p" data-group-id="9310224995-1">(</span><span class="n">...</span><span class="p">,</span><span class="w"> </span><span class="ss">post_process_errors</span><span class="p">:</span><span class="w"> </span><span class="k" data-group-id="9310224995-2">fn</span><span class="w"> </span><span class="n">form</span><span class="p">,</span><span class="w"> </span><span class="c">_path</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="9310224995-3">{</span><span class="n">field</span><span class="p">,</span><span class="w"> </span><span class="n">message</span><span class="p">,</span><span class="w"> </span><span class="n">vars</span><span class="p" data-group-id="9310224995-3">}</span><span class="w"> </span><span class="o">-&gt;</span><span class="w">
</span><span class="k">case</span><span class="w"> </span><span class="n">field</span><span class="w"> </span><span class="k" data-group-id="9310224995-4">do</span><span class="w">
  </span><span class="ss">:status</span><span class="w"> </span><span class="o">-&gt;</span><span class="w">
    </span><span class="c1"># hide these errors</span><span class="w">
    </span><span class="no">nil</span><span class="w">  
  </span><span class="n">field</span><span class="w"> </span><span class="ow">when</span><span class="w"> </span><span class="n">field</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="p" data-group-id="9310224995-5">[</span><span class="ss">:currency</span><span class="p">,</span><span class="w"> </span><span class="ss">:amount</span><span class="p" data-group-id="9310224995-5">]</span><span class="w"> </span><span class="o">-&gt;</span><span class="w">
    </span><span class="c1"># remap the field, and replace the error message</span><span class="w">
    </span><span class="p" data-group-id="9310224995-6">{</span><span class="ss">:money</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;please enter a real money amount&quot;</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="9310224995-7">[</span><span class="p" data-group-id="9310224995-7">]</span><span class="p" data-group-id="9310224995-6">}</span><span class="w">  
  </span><span class="n">field</span><span class="w"> </span><span class="o">-&gt;</span><span class="w">
    </span><span class="c1"># leave the others unchanged</span><span class="w">
    </span><span class="p" data-group-id="9310224995-8">{</span><span class="n">field</span><span class="p">,</span><span class="w"> </span><span class="n">message</span><span class="p">,</span><span class="w"> </span><span class="n">vars</span><span class="p" data-group-id="9310224995-8">}</span><span class="w">
</span><span class="k" data-group-id="9310224995-4">end</span><span class="w">
</span><span class="k" data-group-id="9310224995-2">end</span><span class="p" data-group-id="9310224995-1">)</span></code></pre></li></ul></li><li><code class="inline">:prepare_source</code> - A 1-argument function the receives the initial changeset (or query) and makes any relevant changes to it.
This can be used to do things like:  <ul><li>Set default argument values before the validations are run using <a href="https://hexdocs.pm/ash/3.7.6/Ash.Changeset.html#set_arguments/2"><code class="inline">Ash.Changeset.set_arguments/2</code></a> or <a href="https://hexdocs.pm/ash/3.7.6/Ash.Changeset.html#set_argument/3"><code class="inline">Ash.Changeset.set_argument/3</code></a></li><li>Set changeset context</li><li>Do any other pre-processing on the changeset</li></ul></li><li><code class="inline">:prepare_params</code> - A 2-argument function that receives the params map and the :validate atom and should return prepared params.
Called before the form is validated.</li><li><code class="inline">:transform_params</code> - A function for post-processing the form parameters before they are used for changeset validation/submission.
Use a 3-argument function to pattern match on the <a href="https://hexdocs.pm/ash_phoenix/2.3.17/AshPhoenix.Form.html"><code class="inline">AshPhoenix.Form</code></a> struct.</li><li><code class="inline">:method</code> (<a href="https://hexdocs.pm/elixir/String.html#t:t/0"><code class="inline">String.t/0</code></a>) - The http method to associate with the form. Defaults to <code class="inline">post</code> for creates, and <code class="inline">put</code> for everything else.</li><li><code class="inline">:exclude_fields_if_empty</code> - These fields will be ignored if they are empty strings.<br/>This list of fields supports dead view forms. When a form is submitted from dead view
empty fields are submitted as empty strings. This is problematic for fields that allow_nil
or those that have default values.</li><li><code class="inline">:tenant</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - The current tenant. Passed through to the underlying action.</li><li><code class="inline">:params</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - The initial parameters to use for the form. This is useful for setting up a form with default values. The default value is <code class="inline">%{}</code>.
Any <em>additional</em> options will be passed to the underlying call to build the source, i.e
<a href="https://hexdocs.pm/ash/3.7.6/Ash.ActionInput.html#for_action/4"><code class="inline">Ash.ActionInput.for_action/4</code></a>, or <code class="inline">Ash.Changeset.for_*</code>. This means you can set things
like the tenant/actor. These will be retained, and provided again when
<code class="inline">Form.submit/3</code> is called.</li></ul><h2 id="form_to_list_offences_by_case/1-nested-form-options" class="section-heading"><a href="#form_to_list_offences_by_case/1-nested-form-options" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Nested Form Options</span></h2><ul><li><code class="inline">:type</code> - The cardinality of the nested form - <code class="inline">:list</code> or <code class="inline">:single</code>. Valid values are :list, :single The default value is <code class="inline">:single</code>.</li><li><code class="inline">:sparse?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If the nested form is <code class="inline">sparse</code>, the form won't expect all inputs for all forms to be present.<br/>Has no effect if the type is <code class="inline">:single</code>.<br/>Normally, if you leave some forms out of a list of nested forms, they are removed from the parameters
passed to the action. For example, if you had a <code class="inline">post</code> with two comments <code class="inline">[%Comment{id: 1}, %Comment{id: 2}]</code>
and you passed down params like <code class="inline">comments[0][id]=1&amp;comments[1][text]=new_text</code>, we would remove the second comment
from the input parameters, resulting in the following being passed into the action: <code class="inline">%{&quot;comments&quot; =&gt; [%{&quot;id&quot; =&gt; 1, &quot;text&quot; =&gt; &quot;new&quot;}]}</code>.
By setting it to sparse, you have to explicitly use <code class="inline">remove_form</code> for that removal to happen. So in the same scenario above, the parameters
that would be sent would actually be <code class="inline">%{&quot;comments&quot; =&gt; [%{&quot;id&quot; =&gt; 1, &quot;text&quot; =&gt; &quot;new&quot;}, %{&quot;id&quot; =&gt; 2}]}</code>.<br/>One major difference with <code class="inline">sparse?</code> is that the form actually ignores the <em>index</em> provided, e.g <code class="inline">comments[0]...</code>, and instead uses the primary
key e.g <code class="inline">comments[0][id]</code> to match which form is being updated. This prevents you from having to find the index of the specific item you want to
update. Which could be very gnarly on deeply nested forms. If there is no primary key, or the primary key does not match anything, it is treated
as a new form.<br/>REMEMBER: You need to use <code class="inline">Phoenix.Components.inputs_for</code> to render the nested forms, or manually add hidden inputs using
<code class="inline">hidden_inputs_for</code> (or <code class="inline">HiddenInputs</code> if using Surface) for the id to be automatically placed into the form.</li><li><code class="inline">:forms</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">keyword/0</code></a>) - Forms nested inside the current nesting level in all cases.</li><li><code class="inline">:for_type</code> - What action types the form applies for. Leave blank for it to apply to all action types. Valid values are :read, :create, :update</li><li><code class="inline">:merge?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - When building parameters, this input will be merged with its parent input. This allows for combining multiple forms into a single input. The default value is <code class="inline">false</code>.</li><li><code class="inline">:for</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - When creating parameters for the action, the key that the forms should be gathered into. Defaults to the key used to configure the nested form. Ignored if <code class="inline">merge?</code> is <code class="inline">true</code>.</li><li><code class="inline">:resource</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - The resource of the nested forms. Unnecessary if you are providing the <code class="inline">data</code> key, and not adding additional forms to this path.</li><li><code class="inline">:create_action</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - The create action to use when building new forms. Only necessary if you want to use <code class="inline">add_form/3</code> with this path.</li><li><code class="inline">:update_action</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - The update action to use when building forms for data. Only necessary if you supply the <code class="inline">data</code> key.</li><li><code class="inline">:data</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - The current value or values that should have update forms built by default.<br/>You can also provide a single argument function that will return the data based on the
data of the parent form. This is important for multiple nesting levels of <code class="inline">:list</code> type
forms, because the data depends on which parent is being rendered.</li></ul>
  </section>
</section>
<section class="detail" id="form_to_list_offences_by_legislation/1">

    <span id="form_to_list_offences_by_legislation/0"></span>

  <div class="detail-header">
    <a href="#form_to_list_offences_by_legislation/1" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">form_to_list_offences_by_legislation(form_opts \\ [])</h1>


    </div>
  </div>

  <section class="docstring">

<p>Creates a form for the by_legislation action on EhsEnforcement.Enforcement.Offence.</p><h2 id="form_to_list_offences_by_legislation/1-options" class="section-heading"><a href="#form_to_list_offences_by_legislation/1-options" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Options</span></h2><ul><li><code class="inline">:actor</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - The actor performing the action. Passed through to the underlying action.</li><li><code class="inline">:scope</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A value that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.Scope.html"><code class="inline">Ash.Scope</code></a> protocol, for passing around actor/tenant/context in a single value. See <a href="https://hexdocs.pm/ash/3.7.6/Ash.Scope.html"><code class="inline">Ash.Scope</code></a> for more.</li><li><code class="inline">:forms</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">keyword/0</code></a>) - Nested form configurations. See <code class="inline">for_create/3</code> &quot;Nested Form Options&quot; docs for more.</li><li><code class="inline">:warn_on_unhandled_errors?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Warns on any errors that don't match the form pattern of <code class="inline">{:field, &quot;message&quot;, [replacement: :vars]}</code> or implement the <a href="https://hexdocs.pm/ash_phoenix/2.3.17/AshPhoenix.FormData.Error.html"><code class="inline">AshPhoenix.FormData.Error</code></a> protocol. The default value is <code class="inline">true</code>.</li><li><code class="inline">:domain</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - The domain to use when calling the action.</li><li><code class="inline">:as</code> (<a href="https://hexdocs.pm/elixir/String.html#t:t/0"><code class="inline">String.t/0</code></a>) - The name of the form in the submitted params. You will need to pull the form params out using this key. The default value is <code class="inline">&quot;form&quot;</code>.</li><li><code class="inline">:id</code> (<a href="https://hexdocs.pm/elixir/String.html#t:t/0"><code class="inline">String.t/0</code></a>) - The html id of the form. Defaults to the value of <code class="inline">:as</code> if provided, otherwise &quot;form&quot;</li><li><code class="inline">:transform_errors</code> - Allows for manual manipulation and transformation of errors. You may prefer <code class="inline">post_process_errors</code> as a simpler API.<br/>If possible, try to implement <a href="https://hexdocs.pm/ash_phoenix/2.3.17/AshPhoenix.FormData.Error.html"><code class="inline">AshPhoenix.FormData.Error</code></a> for the error (if it as a custom one, for example).
If that isn't possible, you can provide this function which will get the changeset and the error, and should
return a list of ash phoenix formatted errors, e.g <code class="inline">[{field :: atom, message :: String.t(), substituations :: Keyword.t()}]</code><br/>Example:<pre><code class="makeup elixir" translate="no"><span class="nc">AshPhoenix.Form</span><span class="o">.</span><span class="n">for_create</span><span class="p" data-group-id="5962813056-1">(</span><span class="n">...</span><span class="p">,</span><span class="w"> </span><span class="ss">transform_errors</span><span class="p">:</span><span class="w"> </span><span class="k" data-group-id="5962813056-2">fn</span><span class="w">
  </span><span class="c">_changeset</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="5962813056-3">%{</span><span class="ss">field</span><span class="p">:</span><span class="w"> </span><span class="ss">:field1</span><span class="p" data-group-id="5962813056-3">}</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">error</span><span class="w"> </span><span class="o">-&gt;</span><span class="w">
    </span><span class="p" data-group-id="5962813056-4">%{</span><span class="n">error</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="ss">field</span><span class="p">:</span><span class="w"> </span><span class="ss">:field2</span><span class="p" data-group-id="5962813056-4">}</span><span class="w">  
  </span><span class="c">_changeset</span><span class="p">,</span><span class="w"> </span><span class="n">error</span><span class="w"> </span><span class="o">-&gt;</span><span class="w">
    </span><span class="n">error</span><span class="w">
</span><span class="k" data-group-id="5962813056-2">end</span></code></pre></li><li><code class="inline">:post_process_errors</code> - Allows for post-processing of errors after they have been converted to the standard triple format.<br/>This function receives the form, the path to the form, and an error triple <code class="inline">{field, message, vars}</code>.
It should return either a modified triple or <code class="inline">nil</code> to filter out the error.<br/>This is useful for:<ul><li>Filtering out certain errors based on custom criteria</li><li>Remapping field names from one field to another</li><li>Modifying error messages or variables<br/>Example:<pre><code class="makeup elixir" translate="no"><span class="nc">AshPhoenix.Form</span><span class="o">.</span><span class="n">for_create</span><span class="p" data-group-id="7669819001-1">(</span><span class="n">...</span><span class="p">,</span><span class="w"> </span><span class="ss">post_process_errors</span><span class="p">:</span><span class="w"> </span><span class="k" data-group-id="7669819001-2">fn</span><span class="w"> </span><span class="n">form</span><span class="p">,</span><span class="w"> </span><span class="c">_path</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="7669819001-3">{</span><span class="n">field</span><span class="p">,</span><span class="w"> </span><span class="n">message</span><span class="p">,</span><span class="w"> </span><span class="n">vars</span><span class="p" data-group-id="7669819001-3">}</span><span class="w"> </span><span class="o">-&gt;</span><span class="w">
</span><span class="k">case</span><span class="w"> </span><span class="n">field</span><span class="w"> </span><span class="k" data-group-id="7669819001-4">do</span><span class="w">
  </span><span class="ss">:status</span><span class="w"> </span><span class="o">-&gt;</span><span class="w">
    </span><span class="c1"># hide these errors</span><span class="w">
    </span><span class="no">nil</span><span class="w">  
  </span><span class="n">field</span><span class="w"> </span><span class="ow">when</span><span class="w"> </span><span class="n">field</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="p" data-group-id="7669819001-5">[</span><span class="ss">:currency</span><span class="p">,</span><span class="w"> </span><span class="ss">:amount</span><span class="p" data-group-id="7669819001-5">]</span><span class="w"> </span><span class="o">-&gt;</span><span class="w">
    </span><span class="c1"># remap the field, and replace the error message</span><span class="w">
    </span><span class="p" data-group-id="7669819001-6">{</span><span class="ss">:money</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;please enter a real money amount&quot;</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="7669819001-7">[</span><span class="p" data-group-id="7669819001-7">]</span><span class="p" data-group-id="7669819001-6">}</span><span class="w">  
  </span><span class="n">field</span><span class="w"> </span><span class="o">-&gt;</span><span class="w">
    </span><span class="c1"># leave the others unchanged</span><span class="w">
    </span><span class="p" data-group-id="7669819001-8">{</span><span class="n">field</span><span class="p">,</span><span class="w"> </span><span class="n">message</span><span class="p">,</span><span class="w"> </span><span class="n">vars</span><span class="p" data-group-id="7669819001-8">}</span><span class="w">
</span><span class="k" data-group-id="7669819001-4">end</span><span class="w">
</span><span class="k" data-group-id="7669819001-2">end</span><span class="p" data-group-id="7669819001-1">)</span></code></pre></li></ul></li><li><code class="inline">:prepare_source</code> - A 1-argument function the receives the initial changeset (or query) and makes any relevant changes to it.
This can be used to do things like:  <ul><li>Set default argument values before the validations are run using <a href="https://hexdocs.pm/ash/3.7.6/Ash.Changeset.html#set_arguments/2"><code class="inline">Ash.Changeset.set_arguments/2</code></a> or <a href="https://hexdocs.pm/ash/3.7.6/Ash.Changeset.html#set_argument/3"><code class="inline">Ash.Changeset.set_argument/3</code></a></li><li>Set changeset context</li><li>Do any other pre-processing on the changeset</li></ul></li><li><code class="inline">:prepare_params</code> - A 2-argument function that receives the params map and the :validate atom and should return prepared params.
Called before the form is validated.</li><li><code class="inline">:transform_params</code> - A function for post-processing the form parameters before they are used for changeset validation/submission.
Use a 3-argument function to pattern match on the <a href="https://hexdocs.pm/ash_phoenix/2.3.17/AshPhoenix.Form.html"><code class="inline">AshPhoenix.Form</code></a> struct.</li><li><code class="inline">:method</code> (<a href="https://hexdocs.pm/elixir/String.html#t:t/0"><code class="inline">String.t/0</code></a>) - The http method to associate with the form. Defaults to <code class="inline">post</code> for creates, and <code class="inline">put</code> for everything else.</li><li><code class="inline">:exclude_fields_if_empty</code> - These fields will be ignored if they are empty strings.<br/>This list of fields supports dead view forms. When a form is submitted from dead view
empty fields are submitted as empty strings. This is problematic for fields that allow_nil
or those that have default values.</li><li><code class="inline">:tenant</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - The current tenant. Passed through to the underlying action.</li><li><code class="inline">:params</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - The initial parameters to use for the form. This is useful for setting up a form with default values. The default value is <code class="inline">%{}</code>.
Any <em>additional</em> options will be passed to the underlying call to build the source, i.e
<a href="https://hexdocs.pm/ash/3.7.6/Ash.ActionInput.html#for_action/4"><code class="inline">Ash.ActionInput.for_action/4</code></a>, or <code class="inline">Ash.Changeset.for_*</code>. This means you can set things
like the tenant/actor. These will be retained, and provided again when
<code class="inline">Form.submit/3</code> is called.</li></ul><h2 id="form_to_list_offences_by_legislation/1-nested-form-options" class="section-heading"><a href="#form_to_list_offences_by_legislation/1-nested-form-options" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Nested Form Options</span></h2><ul><li><code class="inline">:type</code> - The cardinality of the nested form - <code class="inline">:list</code> or <code class="inline">:single</code>. Valid values are :list, :single The default value is <code class="inline">:single</code>.</li><li><code class="inline">:sparse?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If the nested form is <code class="inline">sparse</code>, the form won't expect all inputs for all forms to be present.<br/>Has no effect if the type is <code class="inline">:single</code>.<br/>Normally, if you leave some forms out of a list of nested forms, they are removed from the parameters
passed to the action. For example, if you had a <code class="inline">post</code> with two comments <code class="inline">[%Comment{id: 1}, %Comment{id: 2}]</code>
and you passed down params like <code class="inline">comments[0][id]=1&amp;comments[1][text]=new_text</code>, we would remove the second comment
from the input parameters, resulting in the following being passed into the action: <code class="inline">%{&quot;comments&quot; =&gt; [%{&quot;id&quot; =&gt; 1, &quot;text&quot; =&gt; &quot;new&quot;}]}</code>.
By setting it to sparse, you have to explicitly use <code class="inline">remove_form</code> for that removal to happen. So in the same scenario above, the parameters
that would be sent would actually be <code class="inline">%{&quot;comments&quot; =&gt; [%{&quot;id&quot; =&gt; 1, &quot;text&quot; =&gt; &quot;new&quot;}, %{&quot;id&quot; =&gt; 2}]}</code>.<br/>One major difference with <code class="inline">sparse?</code> is that the form actually ignores the <em>index</em> provided, e.g <code class="inline">comments[0]...</code>, and instead uses the primary
key e.g <code class="inline">comments[0][id]</code> to match which form is being updated. This prevents you from having to find the index of the specific item you want to
update. Which could be very gnarly on deeply nested forms. If there is no primary key, or the primary key does not match anything, it is treated
as a new form.<br/>REMEMBER: You need to use <code class="inline">Phoenix.Components.inputs_for</code> to render the nested forms, or manually add hidden inputs using
<code class="inline">hidden_inputs_for</code> (or <code class="inline">HiddenInputs</code> if using Surface) for the id to be automatically placed into the form.</li><li><code class="inline">:forms</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">keyword/0</code></a>) - Forms nested inside the current nesting level in all cases.</li><li><code class="inline">:for_type</code> - What action types the form applies for. Leave blank for it to apply to all action types. Valid values are :read, :create, :update</li><li><code class="inline">:merge?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - When building parameters, this input will be merged with its parent input. This allows for combining multiple forms into a single input. The default value is <code class="inline">false</code>.</li><li><code class="inline">:for</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - When creating parameters for the action, the key that the forms should be gathered into. Defaults to the key used to configure the nested form. Ignored if <code class="inline">merge?</code> is <code class="inline">true</code>.</li><li><code class="inline">:resource</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - The resource of the nested forms. Unnecessary if you are providing the <code class="inline">data</code> key, and not adding additional forms to this path.</li><li><code class="inline">:create_action</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - The create action to use when building new forms. Only necessary if you want to use <code class="inline">add_form/3</code> with this path.</li><li><code class="inline">:update_action</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - The update action to use when building forms for data. Only necessary if you supply the <code class="inline">data</code> key.</li><li><code class="inline">:data</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - The current value or values that should have update forms built by default.<br/>You can also provide a single argument function that will return the data based on the
data of the parent form. This is important for multiple nesting levels of <code class="inline">:list</code> type
forms, because the data depends on which parent is being rendered.</li></ul>
  </section>
</section>
<section class="detail" id="form_to_list_offences_by_notice/1">

    <span id="form_to_list_offences_by_notice/0"></span>

  <div class="detail-header">
    <a href="#form_to_list_offences_by_notice/1" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">form_to_list_offences_by_notice(form_opts \\ [])</h1>


    </div>
  </div>

  <section class="docstring">

<p>Creates a form for the by_notice action on EhsEnforcement.Enforcement.Offence.</p><h2 id="form_to_list_offences_by_notice/1-options" class="section-heading"><a href="#form_to_list_offences_by_notice/1-options" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Options</span></h2><ul><li><code class="inline">:actor</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - The actor performing the action. Passed through to the underlying action.</li><li><code class="inline">:scope</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A value that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.Scope.html"><code class="inline">Ash.Scope</code></a> protocol, for passing around actor/tenant/context in a single value. See <a href="https://hexdocs.pm/ash/3.7.6/Ash.Scope.html"><code class="inline">Ash.Scope</code></a> for more.</li><li><code class="inline">:forms</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">keyword/0</code></a>) - Nested form configurations. See <code class="inline">for_create/3</code> &quot;Nested Form Options&quot; docs for more.</li><li><code class="inline">:warn_on_unhandled_errors?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Warns on any errors that don't match the form pattern of <code class="inline">{:field, &quot;message&quot;, [replacement: :vars]}</code> or implement the <a href="https://hexdocs.pm/ash_phoenix/2.3.17/AshPhoenix.FormData.Error.html"><code class="inline">AshPhoenix.FormData.Error</code></a> protocol. The default value is <code class="inline">true</code>.</li><li><code class="inline">:domain</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - The domain to use when calling the action.</li><li><code class="inline">:as</code> (<a href="https://hexdocs.pm/elixir/String.html#t:t/0"><code class="inline">String.t/0</code></a>) - The name of the form in the submitted params. You will need to pull the form params out using this key. The default value is <code class="inline">&quot;form&quot;</code>.</li><li><code class="inline">:id</code> (<a href="https://hexdocs.pm/elixir/String.html#t:t/0"><code class="inline">String.t/0</code></a>) - The html id of the form. Defaults to the value of <code class="inline">:as</code> if provided, otherwise &quot;form&quot;</li><li><code class="inline">:transform_errors</code> - Allows for manual manipulation and transformation of errors. You may prefer <code class="inline">post_process_errors</code> as a simpler API.<br/>If possible, try to implement <a href="https://hexdocs.pm/ash_phoenix/2.3.17/AshPhoenix.FormData.Error.html"><code class="inline">AshPhoenix.FormData.Error</code></a> for the error (if it as a custom one, for example).
If that isn't possible, you can provide this function which will get the changeset and the error, and should
return a list of ash phoenix formatted errors, e.g <code class="inline">[{field :: atom, message :: String.t(), substituations :: Keyword.t()}]</code><br/>Example:<pre><code class="makeup elixir" translate="no"><span class="nc">AshPhoenix.Form</span><span class="o">.</span><span class="n">for_create</span><span class="p" data-group-id="9668202158-1">(</span><span class="n">...</span><span class="p">,</span><span class="w"> </span><span class="ss">transform_errors</span><span class="p">:</span><span class="w"> </span><span class="k" data-group-id="9668202158-2">fn</span><span class="w">
  </span><span class="c">_changeset</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="9668202158-3">%{</span><span class="ss">field</span><span class="p">:</span><span class="w"> </span><span class="ss">:field1</span><span class="p" data-group-id="9668202158-3">}</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">error</span><span class="w"> </span><span class="o">-&gt;</span><span class="w">
    </span><span class="p" data-group-id="9668202158-4">%{</span><span class="n">error</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="ss">field</span><span class="p">:</span><span class="w"> </span><span class="ss">:field2</span><span class="p" data-group-id="9668202158-4">}</span><span class="w">  
  </span><span class="c">_changeset</span><span class="p">,</span><span class="w"> </span><span class="n">error</span><span class="w"> </span><span class="o">-&gt;</span><span class="w">
    </span><span class="n">error</span><span class="w">
</span><span class="k" data-group-id="9668202158-2">end</span></code></pre></li><li><code class="inline">:post_process_errors</code> - Allows for post-processing of errors after they have been converted to the standard triple format.<br/>This function receives the form, the path to the form, and an error triple <code class="inline">{field, message, vars}</code>.
It should return either a modified triple or <code class="inline">nil</code> to filter out the error.<br/>This is useful for:<ul><li>Filtering out certain errors based on custom criteria</li><li>Remapping field names from one field to another</li><li>Modifying error messages or variables<br/>Example:<pre><code class="makeup elixir" translate="no"><span class="nc">AshPhoenix.Form</span><span class="o">.</span><span class="n">for_create</span><span class="p" data-group-id="8404309997-1">(</span><span class="n">...</span><span class="p">,</span><span class="w"> </span><span class="ss">post_process_errors</span><span class="p">:</span><span class="w"> </span><span class="k" data-group-id="8404309997-2">fn</span><span class="w"> </span><span class="n">form</span><span class="p">,</span><span class="w"> </span><span class="c">_path</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="8404309997-3">{</span><span class="n">field</span><span class="p">,</span><span class="w"> </span><span class="n">message</span><span class="p">,</span><span class="w"> </span><span class="n">vars</span><span class="p" data-group-id="8404309997-3">}</span><span class="w"> </span><span class="o">-&gt;</span><span class="w">
</span><span class="k">case</span><span class="w"> </span><span class="n">field</span><span class="w"> </span><span class="k" data-group-id="8404309997-4">do</span><span class="w">
  </span><span class="ss">:status</span><span class="w"> </span><span class="o">-&gt;</span><span class="w">
    </span><span class="c1"># hide these errors</span><span class="w">
    </span><span class="no">nil</span><span class="w">  
  </span><span class="n">field</span><span class="w"> </span><span class="ow">when</span><span class="w"> </span><span class="n">field</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="p" data-group-id="8404309997-5">[</span><span class="ss">:currency</span><span class="p">,</span><span class="w"> </span><span class="ss">:amount</span><span class="p" data-group-id="8404309997-5">]</span><span class="w"> </span><span class="o">-&gt;</span><span class="w">
    </span><span class="c1"># remap the field, and replace the error message</span><span class="w">
    </span><span class="p" data-group-id="8404309997-6">{</span><span class="ss">:money</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;please enter a real money amount&quot;</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="8404309997-7">[</span><span class="p" data-group-id="8404309997-7">]</span><span class="p" data-group-id="8404309997-6">}</span><span class="w">  
  </span><span class="n">field</span><span class="w"> </span><span class="o">-&gt;</span><span class="w">
    </span><span class="c1"># leave the others unchanged</span><span class="w">
    </span><span class="p" data-group-id="8404309997-8">{</span><span class="n">field</span><span class="p">,</span><span class="w"> </span><span class="n">message</span><span class="p">,</span><span class="w"> </span><span class="n">vars</span><span class="p" data-group-id="8404309997-8">}</span><span class="w">
</span><span class="k" data-group-id="8404309997-4">end</span><span class="w">
</span><span class="k" data-group-id="8404309997-2">end</span><span class="p" data-group-id="8404309997-1">)</span></code></pre></li></ul></li><li><code class="inline">:prepare_source</code> - A 1-argument function the receives the initial changeset (or query) and makes any relevant changes to it.
This can be used to do things like:  <ul><li>Set default argument values before the validations are run using <a href="https://hexdocs.pm/ash/3.7.6/Ash.Changeset.html#set_arguments/2"><code class="inline">Ash.Changeset.set_arguments/2</code></a> or <a href="https://hexdocs.pm/ash/3.7.6/Ash.Changeset.html#set_argument/3"><code class="inline">Ash.Changeset.set_argument/3</code></a></li><li>Set changeset context</li><li>Do any other pre-processing on the changeset</li></ul></li><li><code class="inline">:prepare_params</code> - A 2-argument function that receives the params map and the :validate atom and should return prepared params.
Called before the form is validated.</li><li><code class="inline">:transform_params</code> - A function for post-processing the form parameters before they are used for changeset validation/submission.
Use a 3-argument function to pattern match on the <a href="https://hexdocs.pm/ash_phoenix/2.3.17/AshPhoenix.Form.html"><code class="inline">AshPhoenix.Form</code></a> struct.</li><li><code class="inline">:method</code> (<a href="https://hexdocs.pm/elixir/String.html#t:t/0"><code class="inline">String.t/0</code></a>) - The http method to associate with the form. Defaults to <code class="inline">post</code> for creates, and <code class="inline">put</code> for everything else.</li><li><code class="inline">:exclude_fields_if_empty</code> - These fields will be ignored if they are empty strings.<br/>This list of fields supports dead view forms. When a form is submitted from dead view
empty fields are submitted as empty strings. This is problematic for fields that allow_nil
or those that have default values.</li><li><code class="inline">:tenant</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - The current tenant. Passed through to the underlying action.</li><li><code class="inline">:params</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - The initial parameters to use for the form. This is useful for setting up a form with default values. The default value is <code class="inline">%{}</code>.
Any <em>additional</em> options will be passed to the underlying call to build the source, i.e
<a href="https://hexdocs.pm/ash/3.7.6/Ash.ActionInput.html#for_action/4"><code class="inline">Ash.ActionInput.for_action/4</code></a>, or <code class="inline">Ash.Changeset.for_*</code>. This means you can set things
like the tenant/actor. These will be retained, and provided again when
<code class="inline">Form.submit/3</code> is called.</li></ul><h2 id="form_to_list_offences_by_notice/1-nested-form-options" class="section-heading"><a href="#form_to_list_offences_by_notice/1-nested-form-options" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Nested Form Options</span></h2><ul><li><code class="inline">:type</code> - The cardinality of the nested form - <code class="inline">:list</code> or <code class="inline">:single</code>. Valid values are :list, :single The default value is <code class="inline">:single</code>.</li><li><code class="inline">:sparse?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If the nested form is <code class="inline">sparse</code>, the form won't expect all inputs for all forms to be present.<br/>Has no effect if the type is <code class="inline">:single</code>.<br/>Normally, if you leave some forms out of a list of nested forms, they are removed from the parameters
passed to the action. For example, if you had a <code class="inline">post</code> with two comments <code class="inline">[%Comment{id: 1}, %Comment{id: 2}]</code>
and you passed down params like <code class="inline">comments[0][id]=1&amp;comments[1][text]=new_text</code>, we would remove the second comment
from the input parameters, resulting in the following being passed into the action: <code class="inline">%{&quot;comments&quot; =&gt; [%{&quot;id&quot; =&gt; 1, &quot;text&quot; =&gt; &quot;new&quot;}]}</code>.
By setting it to sparse, you have to explicitly use <code class="inline">remove_form</code> for that removal to happen. So in the same scenario above, the parameters
that would be sent would actually be <code class="inline">%{&quot;comments&quot; =&gt; [%{&quot;id&quot; =&gt; 1, &quot;text&quot; =&gt; &quot;new&quot;}, %{&quot;id&quot; =&gt; 2}]}</code>.<br/>One major difference with <code class="inline">sparse?</code> is that the form actually ignores the <em>index</em> provided, e.g <code class="inline">comments[0]...</code>, and instead uses the primary
key e.g <code class="inline">comments[0][id]</code> to match which form is being updated. This prevents you from having to find the index of the specific item you want to
update. Which could be very gnarly on deeply nested forms. If there is no primary key, or the primary key does not match anything, it is treated
as a new form.<br/>REMEMBER: You need to use <code class="inline">Phoenix.Components.inputs_for</code> to render the nested forms, or manually add hidden inputs using
<code class="inline">hidden_inputs_for</code> (or <code class="inline">HiddenInputs</code> if using Surface) for the id to be automatically placed into the form.</li><li><code class="inline">:forms</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">keyword/0</code></a>) - Forms nested inside the current nesting level in all cases.</li><li><code class="inline">:for_type</code> - What action types the form applies for. Leave blank for it to apply to all action types. Valid values are :read, :create, :update</li><li><code class="inline">:merge?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - When building parameters, this input will be merged with its parent input. This allows for combining multiple forms into a single input. The default value is <code class="inline">false</code>.</li><li><code class="inline">:for</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - When creating parameters for the action, the key that the forms should be gathered into. Defaults to the key used to configure the nested form. Ignored if <code class="inline">merge?</code> is <code class="inline">true</code>.</li><li><code class="inline">:resource</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - The resource of the nested forms. Unnecessary if you are providing the <code class="inline">data</code> key, and not adding additional forms to this path.</li><li><code class="inline">:create_action</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - The create action to use when building new forms. Only necessary if you want to use <code class="inline">add_form/3</code> with this path.</li><li><code class="inline">:update_action</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - The update action to use when building forms for data. Only necessary if you supply the <code class="inline">data</code> key.</li><li><code class="inline">:data</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - The current value or values that should have update forms built by default.<br/>You can also provide a single argument function that will return the data based on the
data of the parent form. This is important for multiple nesting levels of <code class="inline">:list</code> type
forms, because the data depends on which parent is being rendered.</li></ul>
  </section>
</section>
<section class="detail" id="form_to_list_offences_with_fines/1">

    <span id="form_to_list_offences_with_fines/0"></span>

  <div class="detail-header">
    <a href="#form_to_list_offences_with_fines/1" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">form_to_list_offences_with_fines(form_opts \\ [])</h1>


    </div>
  </div>

  <section class="docstring">

<p>Creates a form for the with_fines action on EhsEnforcement.Enforcement.Offence.</p><h2 id="form_to_list_offences_with_fines/1-options" class="section-heading"><a href="#form_to_list_offences_with_fines/1-options" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Options</span></h2><ul><li><code class="inline">:actor</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - The actor performing the action. Passed through to the underlying action.</li><li><code class="inline">:scope</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A value that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.Scope.html"><code class="inline">Ash.Scope</code></a> protocol, for passing around actor/tenant/context in a single value. See <a href="https://hexdocs.pm/ash/3.7.6/Ash.Scope.html"><code class="inline">Ash.Scope</code></a> for more.</li><li><code class="inline">:forms</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">keyword/0</code></a>) - Nested form configurations. See <code class="inline">for_create/3</code> &quot;Nested Form Options&quot; docs for more.</li><li><code class="inline">:warn_on_unhandled_errors?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Warns on any errors that don't match the form pattern of <code class="inline">{:field, &quot;message&quot;, [replacement: :vars]}</code> or implement the <a href="https://hexdocs.pm/ash_phoenix/2.3.17/AshPhoenix.FormData.Error.html"><code class="inline">AshPhoenix.FormData.Error</code></a> protocol. The default value is <code class="inline">true</code>.</li><li><code class="inline">:domain</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - The domain to use when calling the action.</li><li><code class="inline">:as</code> (<a href="https://hexdocs.pm/elixir/String.html#t:t/0"><code class="inline">String.t/0</code></a>) - The name of the form in the submitted params. You will need to pull the form params out using this key. The default value is <code class="inline">&quot;form&quot;</code>.</li><li><code class="inline">:id</code> (<a href="https://hexdocs.pm/elixir/String.html#t:t/0"><code class="inline">String.t/0</code></a>) - The html id of the form. Defaults to the value of <code class="inline">:as</code> if provided, otherwise &quot;form&quot;</li><li><code class="inline">:transform_errors</code> - Allows for manual manipulation and transformation of errors. You may prefer <code class="inline">post_process_errors</code> as a simpler API.<br/>If possible, try to implement <a href="https://hexdocs.pm/ash_phoenix/2.3.17/AshPhoenix.FormData.Error.html"><code class="inline">AshPhoenix.FormData.Error</code></a> for the error (if it as a custom one, for example).
If that isn't possible, you can provide this function which will get the changeset and the error, and should
return a list of ash phoenix formatted errors, e.g <code class="inline">[{field :: atom, message :: String.t(), substituations :: Keyword.t()}]</code><br/>Example:<pre><code class="makeup elixir" translate="no"><span class="nc">AshPhoenix.Form</span><span class="o">.</span><span class="n">for_create</span><span class="p" data-group-id="5990981920-1">(</span><span class="n">...</span><span class="p">,</span><span class="w"> </span><span class="ss">transform_errors</span><span class="p">:</span><span class="w"> </span><span class="k" data-group-id="5990981920-2">fn</span><span class="w">
  </span><span class="c">_changeset</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="5990981920-3">%{</span><span class="ss">field</span><span class="p">:</span><span class="w"> </span><span class="ss">:field1</span><span class="p" data-group-id="5990981920-3">}</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">error</span><span class="w"> </span><span class="o">-&gt;</span><span class="w">
    </span><span class="p" data-group-id="5990981920-4">%{</span><span class="n">error</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="ss">field</span><span class="p">:</span><span class="w"> </span><span class="ss">:field2</span><span class="p" data-group-id="5990981920-4">}</span><span class="w">  
  </span><span class="c">_changeset</span><span class="p">,</span><span class="w"> </span><span class="n">error</span><span class="w"> </span><span class="o">-&gt;</span><span class="w">
    </span><span class="n">error</span><span class="w">
</span><span class="k" data-group-id="5990981920-2">end</span></code></pre></li><li><code class="inline">:post_process_errors</code> - Allows for post-processing of errors after they have been converted to the standard triple format.<br/>This function receives the form, the path to the form, and an error triple <code class="inline">{field, message, vars}</code>.
It should return either a modified triple or <code class="inline">nil</code> to filter out the error.<br/>This is useful for:<ul><li>Filtering out certain errors based on custom criteria</li><li>Remapping field names from one field to another</li><li>Modifying error messages or variables<br/>Example:<pre><code class="makeup elixir" translate="no"><span class="nc">AshPhoenix.Form</span><span class="o">.</span><span class="n">for_create</span><span class="p" data-group-id="1993911364-1">(</span><span class="n">...</span><span class="p">,</span><span class="w"> </span><span class="ss">post_process_errors</span><span class="p">:</span><span class="w"> </span><span class="k" data-group-id="1993911364-2">fn</span><span class="w"> </span><span class="n">form</span><span class="p">,</span><span class="w"> </span><span class="c">_path</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="1993911364-3">{</span><span class="n">field</span><span class="p">,</span><span class="w"> </span><span class="n">message</span><span class="p">,</span><span class="w"> </span><span class="n">vars</span><span class="p" data-group-id="1993911364-3">}</span><span class="w"> </span><span class="o">-&gt;</span><span class="w">
</span><span class="k">case</span><span class="w"> </span><span class="n">field</span><span class="w"> </span><span class="k" data-group-id="1993911364-4">do</span><span class="w">
  </span><span class="ss">:status</span><span class="w"> </span><span class="o">-&gt;</span><span class="w">
    </span><span class="c1"># hide these errors</span><span class="w">
    </span><span class="no">nil</span><span class="w">  
  </span><span class="n">field</span><span class="w"> </span><span class="ow">when</span><span class="w"> </span><span class="n">field</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="p" data-group-id="1993911364-5">[</span><span class="ss">:currency</span><span class="p">,</span><span class="w"> </span><span class="ss">:amount</span><span class="p" data-group-id="1993911364-5">]</span><span class="w"> </span><span class="o">-&gt;</span><span class="w">
    </span><span class="c1"># remap the field, and replace the error message</span><span class="w">
    </span><span class="p" data-group-id="1993911364-6">{</span><span class="ss">:money</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;please enter a real money amount&quot;</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="1993911364-7">[</span><span class="p" data-group-id="1993911364-7">]</span><span class="p" data-group-id="1993911364-6">}</span><span class="w">  
  </span><span class="n">field</span><span class="w"> </span><span class="o">-&gt;</span><span class="w">
    </span><span class="c1"># leave the others unchanged</span><span class="w">
    </span><span class="p" data-group-id="1993911364-8">{</span><span class="n">field</span><span class="p">,</span><span class="w"> </span><span class="n">message</span><span class="p">,</span><span class="w"> </span><span class="n">vars</span><span class="p" data-group-id="1993911364-8">}</span><span class="w">
</span><span class="k" data-group-id="1993911364-4">end</span><span class="w">
</span><span class="k" data-group-id="1993911364-2">end</span><span class="p" data-group-id="1993911364-1">)</span></code></pre></li></ul></li><li><code class="inline">:prepare_source</code> - A 1-argument function the receives the initial changeset (or query) and makes any relevant changes to it.
This can be used to do things like:  <ul><li>Set default argument values before the validations are run using <a href="https://hexdocs.pm/ash/3.7.6/Ash.Changeset.html#set_arguments/2"><code class="inline">Ash.Changeset.set_arguments/2</code></a> or <a href="https://hexdocs.pm/ash/3.7.6/Ash.Changeset.html#set_argument/3"><code class="inline">Ash.Changeset.set_argument/3</code></a></li><li>Set changeset context</li><li>Do any other pre-processing on the changeset</li></ul></li><li><code class="inline">:prepare_params</code> - A 2-argument function that receives the params map and the :validate atom and should return prepared params.
Called before the form is validated.</li><li><code class="inline">:transform_params</code> - A function for post-processing the form parameters before they are used for changeset validation/submission.
Use a 3-argument function to pattern match on the <a href="https://hexdocs.pm/ash_phoenix/2.3.17/AshPhoenix.Form.html"><code class="inline">AshPhoenix.Form</code></a> struct.</li><li><code class="inline">:method</code> (<a href="https://hexdocs.pm/elixir/String.html#t:t/0"><code class="inline">String.t/0</code></a>) - The http method to associate with the form. Defaults to <code class="inline">post</code> for creates, and <code class="inline">put</code> for everything else.</li><li><code class="inline">:exclude_fields_if_empty</code> - These fields will be ignored if they are empty strings.<br/>This list of fields supports dead view forms. When a form is submitted from dead view
empty fields are submitted as empty strings. This is problematic for fields that allow_nil
or those that have default values.</li><li><code class="inline">:tenant</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - The current tenant. Passed through to the underlying action.</li><li><code class="inline">:params</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - The initial parameters to use for the form. This is useful for setting up a form with default values. The default value is <code class="inline">%{}</code>.
Any <em>additional</em> options will be passed to the underlying call to build the source, i.e
<a href="https://hexdocs.pm/ash/3.7.6/Ash.ActionInput.html#for_action/4"><code class="inline">Ash.ActionInput.for_action/4</code></a>, or <code class="inline">Ash.Changeset.for_*</code>. This means you can set things
like the tenant/actor. These will be retained, and provided again when
<code class="inline">Form.submit/3</code> is called.</li></ul><h2 id="form_to_list_offences_with_fines/1-nested-form-options" class="section-heading"><a href="#form_to_list_offences_with_fines/1-nested-form-options" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Nested Form Options</span></h2><ul><li><code class="inline">:type</code> - The cardinality of the nested form - <code class="inline">:list</code> or <code class="inline">:single</code>. Valid values are :list, :single The default value is <code class="inline">:single</code>.</li><li><code class="inline">:sparse?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If the nested form is <code class="inline">sparse</code>, the form won't expect all inputs for all forms to be present.<br/>Has no effect if the type is <code class="inline">:single</code>.<br/>Normally, if you leave some forms out of a list of nested forms, they are removed from the parameters
passed to the action. For example, if you had a <code class="inline">post</code> with two comments <code class="inline">[%Comment{id: 1}, %Comment{id: 2}]</code>
and you passed down params like <code class="inline">comments[0][id]=1&amp;comments[1][text]=new_text</code>, we would remove the second comment
from the input parameters, resulting in the following being passed into the action: <code class="inline">%{&quot;comments&quot; =&gt; [%{&quot;id&quot; =&gt; 1, &quot;text&quot; =&gt; &quot;new&quot;}]}</code>.
By setting it to sparse, you have to explicitly use <code class="inline">remove_form</code> for that removal to happen. So in the same scenario above, the parameters
that would be sent would actually be <code class="inline">%{&quot;comments&quot; =&gt; [%{&quot;id&quot; =&gt; 1, &quot;text&quot; =&gt; &quot;new&quot;}, %{&quot;id&quot; =&gt; 2}]}</code>.<br/>One major difference with <code class="inline">sparse?</code> is that the form actually ignores the <em>index</em> provided, e.g <code class="inline">comments[0]...</code>, and instead uses the primary
key e.g <code class="inline">comments[0][id]</code> to match which form is being updated. This prevents you from having to find the index of the specific item you want to
update. Which could be very gnarly on deeply nested forms. If there is no primary key, or the primary key does not match anything, it is treated
as a new form.<br/>REMEMBER: You need to use <code class="inline">Phoenix.Components.inputs_for</code> to render the nested forms, or manually add hidden inputs using
<code class="inline">hidden_inputs_for</code> (or <code class="inline">HiddenInputs</code> if using Surface) for the id to be automatically placed into the form.</li><li><code class="inline">:forms</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">keyword/0</code></a>) - Forms nested inside the current nesting level in all cases.</li><li><code class="inline">:for_type</code> - What action types the form applies for. Leave blank for it to apply to all action types. Valid values are :read, :create, :update</li><li><code class="inline">:merge?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - When building parameters, this input will be merged with its parent input. This allows for combining multiple forms into a single input. The default value is <code class="inline">false</code>.</li><li><code class="inline">:for</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - When creating parameters for the action, the key that the forms should be gathered into. Defaults to the key used to configure the nested form. Ignored if <code class="inline">merge?</code> is <code class="inline">true</code>.</li><li><code class="inline">:resource</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - The resource of the nested forms. Unnecessary if you are providing the <code class="inline">data</code> key, and not adding additional forms to this path.</li><li><code class="inline">:create_action</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - The create action to use when building new forms. Only necessary if you want to use <code class="inline">add_form/3</code> with this path.</li><li><code class="inline">:update_action</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - The update action to use when building forms for data. Only necessary if you supply the <code class="inline">data</code> key.</li><li><code class="inline">:data</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - The current value or values that should have update forms built by default.<br/>You can also provide a single argument function that will return the data based on the
data of the parent form. This is important for multiple nesting levels of <code class="inline">:list</code> type
forms, because the data depends on which parent is being rendered.</li></ul>
  </section>
</section>
<section class="detail" id="form_to_list_offenders/1">

    <span id="form_to_list_offenders/0"></span>

  <div class="detail-header">
    <a href="#form_to_list_offenders/1" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">form_to_list_offenders(form_opts \\ [])</h1>


    </div>
  </div>

  <section class="docstring">

<p>Creates a form for the read action on EhsEnforcement.Enforcement.Offender.</p><h2 id="form_to_list_offenders/1-options" class="section-heading"><a href="#form_to_list_offenders/1-options" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Options</span></h2><ul><li><code class="inline">:actor</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - The actor performing the action. Passed through to the underlying action.</li><li><code class="inline">:scope</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A value that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.Scope.html"><code class="inline">Ash.Scope</code></a> protocol, for passing around actor/tenant/context in a single value. See <a href="https://hexdocs.pm/ash/3.7.6/Ash.Scope.html"><code class="inline">Ash.Scope</code></a> for more.</li><li><code class="inline">:forms</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">keyword/0</code></a>) - Nested form configurations. See <code class="inline">for_create/3</code> &quot;Nested Form Options&quot; docs for more.</li><li><code class="inline">:warn_on_unhandled_errors?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Warns on any errors that don't match the form pattern of <code class="inline">{:field, &quot;message&quot;, [replacement: :vars]}</code> or implement the <a href="https://hexdocs.pm/ash_phoenix/2.3.17/AshPhoenix.FormData.Error.html"><code class="inline">AshPhoenix.FormData.Error</code></a> protocol. The default value is <code class="inline">true</code>.</li><li><code class="inline">:domain</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - The domain to use when calling the action.</li><li><code class="inline">:as</code> (<a href="https://hexdocs.pm/elixir/String.html#t:t/0"><code class="inline">String.t/0</code></a>) - The name of the form in the submitted params. You will need to pull the form params out using this key. The default value is <code class="inline">&quot;form&quot;</code>.</li><li><code class="inline">:id</code> (<a href="https://hexdocs.pm/elixir/String.html#t:t/0"><code class="inline">String.t/0</code></a>) - The html id of the form. Defaults to the value of <code class="inline">:as</code> if provided, otherwise &quot;form&quot;</li><li><code class="inline">:transform_errors</code> - Allows for manual manipulation and transformation of errors. You may prefer <code class="inline">post_process_errors</code> as a simpler API.<br/>If possible, try to implement <a href="https://hexdocs.pm/ash_phoenix/2.3.17/AshPhoenix.FormData.Error.html"><code class="inline">AshPhoenix.FormData.Error</code></a> for the error (if it as a custom one, for example).
If that isn't possible, you can provide this function which will get the changeset and the error, and should
return a list of ash phoenix formatted errors, e.g <code class="inline">[{field :: atom, message :: String.t(), substituations :: Keyword.t()}]</code><br/>Example:<pre><code class="makeup elixir" translate="no"><span class="nc">AshPhoenix.Form</span><span class="o">.</span><span class="n">for_create</span><span class="p" data-group-id="9125643893-1">(</span><span class="n">...</span><span class="p">,</span><span class="w"> </span><span class="ss">transform_errors</span><span class="p">:</span><span class="w"> </span><span class="k" data-group-id="9125643893-2">fn</span><span class="w">
  </span><span class="c">_changeset</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="9125643893-3">%{</span><span class="ss">field</span><span class="p">:</span><span class="w"> </span><span class="ss">:field1</span><span class="p" data-group-id="9125643893-3">}</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">error</span><span class="w"> </span><span class="o">-&gt;</span><span class="w">
    </span><span class="p" data-group-id="9125643893-4">%{</span><span class="n">error</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="ss">field</span><span class="p">:</span><span class="w"> </span><span class="ss">:field2</span><span class="p" data-group-id="9125643893-4">}</span><span class="w">  
  </span><span class="c">_changeset</span><span class="p">,</span><span class="w"> </span><span class="n">error</span><span class="w"> </span><span class="o">-&gt;</span><span class="w">
    </span><span class="n">error</span><span class="w">
</span><span class="k" data-group-id="9125643893-2">end</span></code></pre></li><li><code class="inline">:post_process_errors</code> - Allows for post-processing of errors after they have been converted to the standard triple format.<br/>This function receives the form, the path to the form, and an error triple <code class="inline">{field, message, vars}</code>.
It should return either a modified triple or <code class="inline">nil</code> to filter out the error.<br/>This is useful for:<ul><li>Filtering out certain errors based on custom criteria</li><li>Remapping field names from one field to another</li><li>Modifying error messages or variables<br/>Example:<pre><code class="makeup elixir" translate="no"><span class="nc">AshPhoenix.Form</span><span class="o">.</span><span class="n">for_create</span><span class="p" data-group-id="6021801870-1">(</span><span class="n">...</span><span class="p">,</span><span class="w"> </span><span class="ss">post_process_errors</span><span class="p">:</span><span class="w"> </span><span class="k" data-group-id="6021801870-2">fn</span><span class="w"> </span><span class="n">form</span><span class="p">,</span><span class="w"> </span><span class="c">_path</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="6021801870-3">{</span><span class="n">field</span><span class="p">,</span><span class="w"> </span><span class="n">message</span><span class="p">,</span><span class="w"> </span><span class="n">vars</span><span class="p" data-group-id="6021801870-3">}</span><span class="w"> </span><span class="o">-&gt;</span><span class="w">
</span><span class="k">case</span><span class="w"> </span><span class="n">field</span><span class="w"> </span><span class="k" data-group-id="6021801870-4">do</span><span class="w">
  </span><span class="ss">:status</span><span class="w"> </span><span class="o">-&gt;</span><span class="w">
    </span><span class="c1"># hide these errors</span><span class="w">
    </span><span class="no">nil</span><span class="w">  
  </span><span class="n">field</span><span class="w"> </span><span class="ow">when</span><span class="w"> </span><span class="n">field</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="p" data-group-id="6021801870-5">[</span><span class="ss">:currency</span><span class="p">,</span><span class="w"> </span><span class="ss">:amount</span><span class="p" data-group-id="6021801870-5">]</span><span class="w"> </span><span class="o">-&gt;</span><span class="w">
    </span><span class="c1"># remap the field, and replace the error message</span><span class="w">
    </span><span class="p" data-group-id="6021801870-6">{</span><span class="ss">:money</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;please enter a real money amount&quot;</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="6021801870-7">[</span><span class="p" data-group-id="6021801870-7">]</span><span class="p" data-group-id="6021801870-6">}</span><span class="w">  
  </span><span class="n">field</span><span class="w"> </span><span class="o">-&gt;</span><span class="w">
    </span><span class="c1"># leave the others unchanged</span><span class="w">
    </span><span class="p" data-group-id="6021801870-8">{</span><span class="n">field</span><span class="p">,</span><span class="w"> </span><span class="n">message</span><span class="p">,</span><span class="w"> </span><span class="n">vars</span><span class="p" data-group-id="6021801870-8">}</span><span class="w">
</span><span class="k" data-group-id="6021801870-4">end</span><span class="w">
</span><span class="k" data-group-id="6021801870-2">end</span><span class="p" data-group-id="6021801870-1">)</span></code></pre></li></ul></li><li><code class="inline">:prepare_source</code> - A 1-argument function the receives the initial changeset (or query) and makes any relevant changes to it.
This can be used to do things like:  <ul><li>Set default argument values before the validations are run using <a href="https://hexdocs.pm/ash/3.7.6/Ash.Changeset.html#set_arguments/2"><code class="inline">Ash.Changeset.set_arguments/2</code></a> or <a href="https://hexdocs.pm/ash/3.7.6/Ash.Changeset.html#set_argument/3"><code class="inline">Ash.Changeset.set_argument/3</code></a></li><li>Set changeset context</li><li>Do any other pre-processing on the changeset</li></ul></li><li><code class="inline">:prepare_params</code> - A 2-argument function that receives the params map and the :validate atom and should return prepared params.
Called before the form is validated.</li><li><code class="inline">:transform_params</code> - A function for post-processing the form parameters before they are used for changeset validation/submission.
Use a 3-argument function to pattern match on the <a href="https://hexdocs.pm/ash_phoenix/2.3.17/AshPhoenix.Form.html"><code class="inline">AshPhoenix.Form</code></a> struct.</li><li><code class="inline">:method</code> (<a href="https://hexdocs.pm/elixir/String.html#t:t/0"><code class="inline">String.t/0</code></a>) - The http method to associate with the form. Defaults to <code class="inline">post</code> for creates, and <code class="inline">put</code> for everything else.</li><li><code class="inline">:exclude_fields_if_empty</code> - These fields will be ignored if they are empty strings.<br/>This list of fields supports dead view forms. When a form is submitted from dead view
empty fields are submitted as empty strings. This is problematic for fields that allow_nil
or those that have default values.</li><li><code class="inline">:tenant</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - The current tenant. Passed through to the underlying action.</li><li><code class="inline">:params</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - The initial parameters to use for the form. This is useful for setting up a form with default values. The default value is <code class="inline">%{}</code>.
Any <em>additional</em> options will be passed to the underlying call to build the source, i.e
<a href="https://hexdocs.pm/ash/3.7.6/Ash.ActionInput.html#for_action/4"><code class="inline">Ash.ActionInput.for_action/4</code></a>, or <code class="inline">Ash.Changeset.for_*</code>. This means you can set things
like the tenant/actor. These will be retained, and provided again when
<code class="inline">Form.submit/3</code> is called.</li></ul><h2 id="form_to_list_offenders/1-nested-form-options" class="section-heading"><a href="#form_to_list_offenders/1-nested-form-options" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Nested Form Options</span></h2><ul><li><code class="inline">:type</code> - The cardinality of the nested form - <code class="inline">:list</code> or <code class="inline">:single</code>. Valid values are :list, :single The default value is <code class="inline">:single</code>.</li><li><code class="inline">:sparse?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If the nested form is <code class="inline">sparse</code>, the form won't expect all inputs for all forms to be present.<br/>Has no effect if the type is <code class="inline">:single</code>.<br/>Normally, if you leave some forms out of a list of nested forms, they are removed from the parameters
passed to the action. For example, if you had a <code class="inline">post</code> with two comments <code class="inline">[%Comment{id: 1}, %Comment{id: 2}]</code>
and you passed down params like <code class="inline">comments[0][id]=1&amp;comments[1][text]=new_text</code>, we would remove the second comment
from the input parameters, resulting in the following being passed into the action: <code class="inline">%{&quot;comments&quot; =&gt; [%{&quot;id&quot; =&gt; 1, &quot;text&quot; =&gt; &quot;new&quot;}]}</code>.
By setting it to sparse, you have to explicitly use <code class="inline">remove_form</code> for that removal to happen. So in the same scenario above, the parameters
that would be sent would actually be <code class="inline">%{&quot;comments&quot; =&gt; [%{&quot;id&quot; =&gt; 1, &quot;text&quot; =&gt; &quot;new&quot;}, %{&quot;id&quot; =&gt; 2}]}</code>.<br/>One major difference with <code class="inline">sparse?</code> is that the form actually ignores the <em>index</em> provided, e.g <code class="inline">comments[0]...</code>, and instead uses the primary
key e.g <code class="inline">comments[0][id]</code> to match which form is being updated. This prevents you from having to find the index of the specific item you want to
update. Which could be very gnarly on deeply nested forms. If there is no primary key, or the primary key does not match anything, it is treated
as a new form.<br/>REMEMBER: You need to use <code class="inline">Phoenix.Components.inputs_for</code> to render the nested forms, or manually add hidden inputs using
<code class="inline">hidden_inputs_for</code> (or <code class="inline">HiddenInputs</code> if using Surface) for the id to be automatically placed into the form.</li><li><code class="inline">:forms</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">keyword/0</code></a>) - Forms nested inside the current nesting level in all cases.</li><li><code class="inline">:for_type</code> - What action types the form applies for. Leave blank for it to apply to all action types. Valid values are :read, :create, :update</li><li><code class="inline">:merge?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - When building parameters, this input will be merged with its parent input. This allows for combining multiple forms into a single input. The default value is <code class="inline">false</code>.</li><li><code class="inline">:for</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - When creating parameters for the action, the key that the forms should be gathered into. Defaults to the key used to configure the nested form. Ignored if <code class="inline">merge?</code> is <code class="inline">true</code>.</li><li><code class="inline">:resource</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - The resource of the nested forms. Unnecessary if you are providing the <code class="inline">data</code> key, and not adding additional forms to this path.</li><li><code class="inline">:create_action</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - The create action to use when building new forms. Only necessary if you want to use <code class="inline">add_form/3</code> with this path.</li><li><code class="inline">:update_action</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - The update action to use when building forms for data. Only necessary if you supply the <code class="inline">data</code> key.</li><li><code class="inline">:data</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - The current value or values that should have update forms built by default.<br/>You can also provide a single argument function that will return the data based on the
data of the parent form. This is important for multiple nesting levels of <code class="inline">:list</code> type
forms, because the data depends on which parent is being rendered.</li></ul>
  </section>
</section>
<section class="detail" id="form_to_refresh_metrics/1">

    <span id="form_to_refresh_metrics/0"></span>

  <div class="detail-header">
    <a href="#form_to_refresh_metrics/1" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">form_to_refresh_metrics(form_opts \\ [])</h1>


    </div>
  </div>

  <section class="docstring">

<p>Refresh metrics for a specific filter combination</p><h2 id="form_to_refresh_metrics/1-options" class="section-heading"><a href="#form_to_refresh_metrics/1-options" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Options</span></h2><ul><li><code class="inline">:actor</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - The actor performing the action. Passed through to the underlying action.</li><li><code class="inline">:scope</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A value that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.Scope.html"><code class="inline">Ash.Scope</code></a> protocol, for passing around actor/tenant/context in a single value. See <a href="https://hexdocs.pm/ash/3.7.6/Ash.Scope.html"><code class="inline">Ash.Scope</code></a> for more.</li><li><code class="inline">:forms</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">keyword/0</code></a>) - Nested form configurations. See <code class="inline">for_create/3</code> &quot;Nested Form Options&quot; docs for more.</li><li><code class="inline">:warn_on_unhandled_errors?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Warns on any errors that don't match the form pattern of <code class="inline">{:field, &quot;message&quot;, [replacement: :vars]}</code> or implement the <a href="https://hexdocs.pm/ash_phoenix/2.3.17/AshPhoenix.FormData.Error.html"><code class="inline">AshPhoenix.FormData.Error</code></a> protocol. The default value is <code class="inline">true</code>.</li><li><code class="inline">:domain</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - The domain to use when calling the action.</li><li><code class="inline">:as</code> (<a href="https://hexdocs.pm/elixir/String.html#t:t/0"><code class="inline">String.t/0</code></a>) - The name of the form in the submitted params. You will need to pull the form params out using this key. The default value is <code class="inline">&quot;form&quot;</code>.</li><li><code class="inline">:id</code> (<a href="https://hexdocs.pm/elixir/String.html#t:t/0"><code class="inline">String.t/0</code></a>) - The html id of the form. Defaults to the value of <code class="inline">:as</code> if provided, otherwise &quot;form&quot;</li><li><code class="inline">:transform_errors</code> - Allows for manual manipulation and transformation of errors. You may prefer <code class="inline">post_process_errors</code> as a simpler API.<br/>If possible, try to implement <a href="https://hexdocs.pm/ash_phoenix/2.3.17/AshPhoenix.FormData.Error.html"><code class="inline">AshPhoenix.FormData.Error</code></a> for the error (if it as a custom one, for example).
If that isn't possible, you can provide this function which will get the changeset and the error, and should
return a list of ash phoenix formatted errors, e.g <code class="inline">[{field :: atom, message :: String.t(), substituations :: Keyword.t()}]</code><br/>Example:<pre><code class="makeup elixir" translate="no"><span class="nc">AshPhoenix.Form</span><span class="o">.</span><span class="n">for_create</span><span class="p" data-group-id="4987826421-1">(</span><span class="n">...</span><span class="p">,</span><span class="w"> </span><span class="ss">transform_errors</span><span class="p">:</span><span class="w"> </span><span class="k" data-group-id="4987826421-2">fn</span><span class="w">
  </span><span class="c">_changeset</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="4987826421-3">%{</span><span class="ss">field</span><span class="p">:</span><span class="w"> </span><span class="ss">:field1</span><span class="p" data-group-id="4987826421-3">}</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">error</span><span class="w"> </span><span class="o">-&gt;</span><span class="w">
    </span><span class="p" data-group-id="4987826421-4">%{</span><span class="n">error</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="ss">field</span><span class="p">:</span><span class="w"> </span><span class="ss">:field2</span><span class="p" data-group-id="4987826421-4">}</span><span class="w">  
  </span><span class="c">_changeset</span><span class="p">,</span><span class="w"> </span><span class="n">error</span><span class="w"> </span><span class="o">-&gt;</span><span class="w">
    </span><span class="n">error</span><span class="w">
</span><span class="k" data-group-id="4987826421-2">end</span></code></pre></li><li><code class="inline">:post_process_errors</code> - Allows for post-processing of errors after they have been converted to the standard triple format.<br/>This function receives the form, the path to the form, and an error triple <code class="inline">{field, message, vars}</code>.
It should return either a modified triple or <code class="inline">nil</code> to filter out the error.<br/>This is useful for:<ul><li>Filtering out certain errors based on custom criteria</li><li>Remapping field names from one field to another</li><li>Modifying error messages or variables<br/>Example:<pre><code class="makeup elixir" translate="no"><span class="nc">AshPhoenix.Form</span><span class="o">.</span><span class="n">for_create</span><span class="p" data-group-id="8227431344-1">(</span><span class="n">...</span><span class="p">,</span><span class="w"> </span><span class="ss">post_process_errors</span><span class="p">:</span><span class="w"> </span><span class="k" data-group-id="8227431344-2">fn</span><span class="w"> </span><span class="n">form</span><span class="p">,</span><span class="w"> </span><span class="c">_path</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="8227431344-3">{</span><span class="n">field</span><span class="p">,</span><span class="w"> </span><span class="n">message</span><span class="p">,</span><span class="w"> </span><span class="n">vars</span><span class="p" data-group-id="8227431344-3">}</span><span class="w"> </span><span class="o">-&gt;</span><span class="w">
</span><span class="k">case</span><span class="w"> </span><span class="n">field</span><span class="w"> </span><span class="k" data-group-id="8227431344-4">do</span><span class="w">
  </span><span class="ss">:status</span><span class="w"> </span><span class="o">-&gt;</span><span class="w">
    </span><span class="c1"># hide these errors</span><span class="w">
    </span><span class="no">nil</span><span class="w">  
  </span><span class="n">field</span><span class="w"> </span><span class="ow">when</span><span class="w"> </span><span class="n">field</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="p" data-group-id="8227431344-5">[</span><span class="ss">:currency</span><span class="p">,</span><span class="w"> </span><span class="ss">:amount</span><span class="p" data-group-id="8227431344-5">]</span><span class="w"> </span><span class="o">-&gt;</span><span class="w">
    </span><span class="c1"># remap the field, and replace the error message</span><span class="w">
    </span><span class="p" data-group-id="8227431344-6">{</span><span class="ss">:money</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;please enter a real money amount&quot;</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="8227431344-7">[</span><span class="p" data-group-id="8227431344-7">]</span><span class="p" data-group-id="8227431344-6">}</span><span class="w">  
  </span><span class="n">field</span><span class="w"> </span><span class="o">-&gt;</span><span class="w">
    </span><span class="c1"># leave the others unchanged</span><span class="w">
    </span><span class="p" data-group-id="8227431344-8">{</span><span class="n">field</span><span class="p">,</span><span class="w"> </span><span class="n">message</span><span class="p">,</span><span class="w"> </span><span class="n">vars</span><span class="p" data-group-id="8227431344-8">}</span><span class="w">
</span><span class="k" data-group-id="8227431344-4">end</span><span class="w">
</span><span class="k" data-group-id="8227431344-2">end</span><span class="p" data-group-id="8227431344-1">)</span></code></pre></li></ul></li><li><code class="inline">:prepare_source</code> - A 1-argument function the receives the initial changeset (or query) and makes any relevant changes to it.
This can be used to do things like:  <ul><li>Set default argument values before the validations are run using <a href="https://hexdocs.pm/ash/3.7.6/Ash.Changeset.html#set_arguments/2"><code class="inline">Ash.Changeset.set_arguments/2</code></a> or <a href="https://hexdocs.pm/ash/3.7.6/Ash.Changeset.html#set_argument/3"><code class="inline">Ash.Changeset.set_argument/3</code></a></li><li>Set changeset context</li><li>Do any other pre-processing on the changeset</li></ul></li><li><code class="inline">:prepare_params</code> - A 2-argument function that receives the params map and the :validate atom and should return prepared params.
Called before the form is validated.</li><li><code class="inline">:transform_params</code> - A function for post-processing the form parameters before they are used for changeset validation/submission.
Use a 3-argument function to pattern match on the <a href="https://hexdocs.pm/ash_phoenix/2.3.17/AshPhoenix.Form.html"><code class="inline">AshPhoenix.Form</code></a> struct.</li><li><code class="inline">:method</code> (<a href="https://hexdocs.pm/elixir/String.html#t:t/0"><code class="inline">String.t/0</code></a>) - The http method to associate with the form. Defaults to <code class="inline">post</code> for creates, and <code class="inline">put</code> for everything else.</li><li><code class="inline">:exclude_fields_if_empty</code> - These fields will be ignored if they are empty strings.<br/>This list of fields supports dead view forms. When a form is submitted from dead view
empty fields are submitted as empty strings. This is problematic for fields that allow_nil
or those that have default values.</li><li><code class="inline">:tenant</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - The current tenant. Passed through to the underlying action.</li><li><code class="inline">:params</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - The initial parameters to use for the form. This is useful for setting up a form with default values. The default value is <code class="inline">%{}</code>.
Any <em>additional</em> options will be passed to the underlying call to build the source, i.e
<a href="https://hexdocs.pm/ash/3.7.6/Ash.ActionInput.html#for_action/4"><code class="inline">Ash.ActionInput.for_action/4</code></a>, or <code class="inline">Ash.Changeset.for_*</code>. This means you can set things
like the tenant/actor. These will be retained, and provided again when
<code class="inline">Form.submit/3</code> is called.</li></ul><h2 id="form_to_refresh_metrics/1-nested-form-options" class="section-heading"><a href="#form_to_refresh_metrics/1-nested-form-options" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Nested Form Options</span></h2><ul><li><code class="inline">:type</code> - The cardinality of the nested form - <code class="inline">:list</code> or <code class="inline">:single</code>. Valid values are :list, :single The default value is <code class="inline">:single</code>.</li><li><code class="inline">:sparse?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If the nested form is <code class="inline">sparse</code>, the form won't expect all inputs for all forms to be present.<br/>Has no effect if the type is <code class="inline">:single</code>.<br/>Normally, if you leave some forms out of a list of nested forms, they are removed from the parameters
passed to the action. For example, if you had a <code class="inline">post</code> with two comments <code class="inline">[%Comment{id: 1}, %Comment{id: 2}]</code>
and you passed down params like <code class="inline">comments[0][id]=1&amp;comments[1][text]=new_text</code>, we would remove the second comment
from the input parameters, resulting in the following being passed into the action: <code class="inline">%{&quot;comments&quot; =&gt; [%{&quot;id&quot; =&gt; 1, &quot;text&quot; =&gt; &quot;new&quot;}]}</code>.
By setting it to sparse, you have to explicitly use <code class="inline">remove_form</code> for that removal to happen. So in the same scenario above, the parameters
that would be sent would actually be <code class="inline">%{&quot;comments&quot; =&gt; [%{&quot;id&quot; =&gt; 1, &quot;text&quot; =&gt; &quot;new&quot;}, %{&quot;id&quot; =&gt; 2}]}</code>.<br/>One major difference with <code class="inline">sparse?</code> is that the form actually ignores the <em>index</em> provided, e.g <code class="inline">comments[0]...</code>, and instead uses the primary
key e.g <code class="inline">comments[0][id]</code> to match which form is being updated. This prevents you from having to find the index of the specific item you want to
update. Which could be very gnarly on deeply nested forms. If there is no primary key, or the primary key does not match anything, it is treated
as a new form.<br/>REMEMBER: You need to use <code class="inline">Phoenix.Components.inputs_for</code> to render the nested forms, or manually add hidden inputs using
<code class="inline">hidden_inputs_for</code> (or <code class="inline">HiddenInputs</code> if using Surface) for the id to be automatically placed into the form.</li><li><code class="inline">:forms</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">keyword/0</code></a>) - Forms nested inside the current nesting level in all cases.</li><li><code class="inline">:for_type</code> - What action types the form applies for. Leave blank for it to apply to all action types. Valid values are :read, :create, :update</li><li><code class="inline">:merge?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - When building parameters, this input will be merged with its parent input. This allows for combining multiple forms into a single input. The default value is <code class="inline">false</code>.</li><li><code class="inline">:for</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - When creating parameters for the action, the key that the forms should be gathered into. Defaults to the key used to configure the nested form. Ignored if <code class="inline">merge?</code> is <code class="inline">true</code>.</li><li><code class="inline">:resource</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - The resource of the nested forms. Unnecessary if you are providing the <code class="inline">data</code> key, and not adding additional forms to this path.</li><li><code class="inline">:create_action</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - The create action to use when building new forms. Only necessary if you want to use <code class="inline">add_form/3</code> with this path.</li><li><code class="inline">:update_action</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - The update action to use when building forms for data. Only necessary if you supply the <code class="inline">data</code> key.</li><li><code class="inline">:data</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - The current value or values that should have update forms built by default.<br/>You can also provide a single argument function that will return the data based on the
data of the parent form. This is important for multiple nesting levels of <code class="inline">:list</code> type
forms, because the data depends on which parent is being rendered.</li></ul>
  </section>
</section>
<section class="detail" id="form_to_search_legislation_title/1">

    <span id="form_to_search_legislation_title/0"></span>

  <div class="detail-header">
    <a href="#form_to_search_legislation_title/1" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">form_to_search_legislation_title(form_opts \\ [])</h1>


    </div>
  </div>

  <section class="docstring">

<p>Creates a form for the search_title action on EhsEnforcement.Enforcement.Legislation.</p><h2 id="form_to_search_legislation_title/1-options" class="section-heading"><a href="#form_to_search_legislation_title/1-options" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Options</span></h2><ul><li><code class="inline">:actor</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - The actor performing the action. Passed through to the underlying action.</li><li><code class="inline">:scope</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A value that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.Scope.html"><code class="inline">Ash.Scope</code></a> protocol, for passing around actor/tenant/context in a single value. See <a href="https://hexdocs.pm/ash/3.7.6/Ash.Scope.html"><code class="inline">Ash.Scope</code></a> for more.</li><li><code class="inline">:forms</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">keyword/0</code></a>) - Nested form configurations. See <code class="inline">for_create/3</code> &quot;Nested Form Options&quot; docs for more.</li><li><code class="inline">:warn_on_unhandled_errors?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Warns on any errors that don't match the form pattern of <code class="inline">{:field, &quot;message&quot;, [replacement: :vars]}</code> or implement the <a href="https://hexdocs.pm/ash_phoenix/2.3.17/AshPhoenix.FormData.Error.html"><code class="inline">AshPhoenix.FormData.Error</code></a> protocol. The default value is <code class="inline">true</code>.</li><li><code class="inline">:domain</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - The domain to use when calling the action.</li><li><code class="inline">:as</code> (<a href="https://hexdocs.pm/elixir/String.html#t:t/0"><code class="inline">String.t/0</code></a>) - The name of the form in the submitted params. You will need to pull the form params out using this key. The default value is <code class="inline">&quot;form&quot;</code>.</li><li><code class="inline">:id</code> (<a href="https://hexdocs.pm/elixir/String.html#t:t/0"><code class="inline">String.t/0</code></a>) - The html id of the form. Defaults to the value of <code class="inline">:as</code> if provided, otherwise &quot;form&quot;</li><li><code class="inline">:transform_errors</code> - Allows for manual manipulation and transformation of errors. You may prefer <code class="inline">post_process_errors</code> as a simpler API.<br/>If possible, try to implement <a href="https://hexdocs.pm/ash_phoenix/2.3.17/AshPhoenix.FormData.Error.html"><code class="inline">AshPhoenix.FormData.Error</code></a> for the error (if it as a custom one, for example).
If that isn't possible, you can provide this function which will get the changeset and the error, and should
return a list of ash phoenix formatted errors, e.g <code class="inline">[{field :: atom, message :: String.t(), substituations :: Keyword.t()}]</code><br/>Example:<pre><code class="makeup elixir" translate="no"><span class="nc">AshPhoenix.Form</span><span class="o">.</span><span class="n">for_create</span><span class="p" data-group-id="5697270475-1">(</span><span class="n">...</span><span class="p">,</span><span class="w"> </span><span class="ss">transform_errors</span><span class="p">:</span><span class="w"> </span><span class="k" data-group-id="5697270475-2">fn</span><span class="w">
  </span><span class="c">_changeset</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="5697270475-3">%{</span><span class="ss">field</span><span class="p">:</span><span class="w"> </span><span class="ss">:field1</span><span class="p" data-group-id="5697270475-3">}</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">error</span><span class="w"> </span><span class="o">-&gt;</span><span class="w">
    </span><span class="p" data-group-id="5697270475-4">%{</span><span class="n">error</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="ss">field</span><span class="p">:</span><span class="w"> </span><span class="ss">:field2</span><span class="p" data-group-id="5697270475-4">}</span><span class="w">  
  </span><span class="c">_changeset</span><span class="p">,</span><span class="w"> </span><span class="n">error</span><span class="w"> </span><span class="o">-&gt;</span><span class="w">
    </span><span class="n">error</span><span class="w">
</span><span class="k" data-group-id="5697270475-2">end</span></code></pre></li><li><code class="inline">:post_process_errors</code> - Allows for post-processing of errors after they have been converted to the standard triple format.<br/>This function receives the form, the path to the form, and an error triple <code class="inline">{field, message, vars}</code>.
It should return either a modified triple or <code class="inline">nil</code> to filter out the error.<br/>This is useful for:<ul><li>Filtering out certain errors based on custom criteria</li><li>Remapping field names from one field to another</li><li>Modifying error messages or variables<br/>Example:<pre><code class="makeup elixir" translate="no"><span class="nc">AshPhoenix.Form</span><span class="o">.</span><span class="n">for_create</span><span class="p" data-group-id="0576268277-1">(</span><span class="n">...</span><span class="p">,</span><span class="w"> </span><span class="ss">post_process_errors</span><span class="p">:</span><span class="w"> </span><span class="k" data-group-id="0576268277-2">fn</span><span class="w"> </span><span class="n">form</span><span class="p">,</span><span class="w"> </span><span class="c">_path</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="0576268277-3">{</span><span class="n">field</span><span class="p">,</span><span class="w"> </span><span class="n">message</span><span class="p">,</span><span class="w"> </span><span class="n">vars</span><span class="p" data-group-id="0576268277-3">}</span><span class="w"> </span><span class="o">-&gt;</span><span class="w">
</span><span class="k">case</span><span class="w"> </span><span class="n">field</span><span class="w"> </span><span class="k" data-group-id="0576268277-4">do</span><span class="w">
  </span><span class="ss">:status</span><span class="w"> </span><span class="o">-&gt;</span><span class="w">
    </span><span class="c1"># hide these errors</span><span class="w">
    </span><span class="no">nil</span><span class="w">  
  </span><span class="n">field</span><span class="w"> </span><span class="ow">when</span><span class="w"> </span><span class="n">field</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="p" data-group-id="0576268277-5">[</span><span class="ss">:currency</span><span class="p">,</span><span class="w"> </span><span class="ss">:amount</span><span class="p" data-group-id="0576268277-5">]</span><span class="w"> </span><span class="o">-&gt;</span><span class="w">
    </span><span class="c1"># remap the field, and replace the error message</span><span class="w">
    </span><span class="p" data-group-id="0576268277-6">{</span><span class="ss">:money</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;please enter a real money amount&quot;</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="0576268277-7">[</span><span class="p" data-group-id="0576268277-7">]</span><span class="p" data-group-id="0576268277-6">}</span><span class="w">  
  </span><span class="n">field</span><span class="w"> </span><span class="o">-&gt;</span><span class="w">
    </span><span class="c1"># leave the others unchanged</span><span class="w">
    </span><span class="p" data-group-id="0576268277-8">{</span><span class="n">field</span><span class="p">,</span><span class="w"> </span><span class="n">message</span><span class="p">,</span><span class="w"> </span><span class="n">vars</span><span class="p" data-group-id="0576268277-8">}</span><span class="w">
</span><span class="k" data-group-id="0576268277-4">end</span><span class="w">
</span><span class="k" data-group-id="0576268277-2">end</span><span class="p" data-group-id="0576268277-1">)</span></code></pre></li></ul></li><li><code class="inline">:prepare_source</code> - A 1-argument function the receives the initial changeset (or query) and makes any relevant changes to it.
This can be used to do things like:  <ul><li>Set default argument values before the validations are run using <a href="https://hexdocs.pm/ash/3.7.6/Ash.Changeset.html#set_arguments/2"><code class="inline">Ash.Changeset.set_arguments/2</code></a> or <a href="https://hexdocs.pm/ash/3.7.6/Ash.Changeset.html#set_argument/3"><code class="inline">Ash.Changeset.set_argument/3</code></a></li><li>Set changeset context</li><li>Do any other pre-processing on the changeset</li></ul></li><li><code class="inline">:prepare_params</code> - A 2-argument function that receives the params map and the :validate atom and should return prepared params.
Called before the form is validated.</li><li><code class="inline">:transform_params</code> - A function for post-processing the form parameters before they are used for changeset validation/submission.
Use a 3-argument function to pattern match on the <a href="https://hexdocs.pm/ash_phoenix/2.3.17/AshPhoenix.Form.html"><code class="inline">AshPhoenix.Form</code></a> struct.</li><li><code class="inline">:method</code> (<a href="https://hexdocs.pm/elixir/String.html#t:t/0"><code class="inline">String.t/0</code></a>) - The http method to associate with the form. Defaults to <code class="inline">post</code> for creates, and <code class="inline">put</code> for everything else.</li><li><code class="inline">:exclude_fields_if_empty</code> - These fields will be ignored if they are empty strings.<br/>This list of fields supports dead view forms. When a form is submitted from dead view
empty fields are submitted as empty strings. This is problematic for fields that allow_nil
or those that have default values.</li><li><code class="inline">:tenant</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - The current tenant. Passed through to the underlying action.</li><li><code class="inline">:params</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - The initial parameters to use for the form. This is useful for setting up a form with default values. The default value is <code class="inline">%{}</code>.
Any <em>additional</em> options will be passed to the underlying call to build the source, i.e
<a href="https://hexdocs.pm/ash/3.7.6/Ash.ActionInput.html#for_action/4"><code class="inline">Ash.ActionInput.for_action/4</code></a>, or <code class="inline">Ash.Changeset.for_*</code>. This means you can set things
like the tenant/actor. These will be retained, and provided again when
<code class="inline">Form.submit/3</code> is called.</li></ul><h2 id="form_to_search_legislation_title/1-nested-form-options" class="section-heading"><a href="#form_to_search_legislation_title/1-nested-form-options" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Nested Form Options</span></h2><ul><li><code class="inline">:type</code> - The cardinality of the nested form - <code class="inline">:list</code> or <code class="inline">:single</code>. Valid values are :list, :single The default value is <code class="inline">:single</code>.</li><li><code class="inline">:sparse?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If the nested form is <code class="inline">sparse</code>, the form won't expect all inputs for all forms to be present.<br/>Has no effect if the type is <code class="inline">:single</code>.<br/>Normally, if you leave some forms out of a list of nested forms, they are removed from the parameters
passed to the action. For example, if you had a <code class="inline">post</code> with two comments <code class="inline">[%Comment{id: 1}, %Comment{id: 2}]</code>
and you passed down params like <code class="inline">comments[0][id]=1&amp;comments[1][text]=new_text</code>, we would remove the second comment
from the input parameters, resulting in the following being passed into the action: <code class="inline">%{&quot;comments&quot; =&gt; [%{&quot;id&quot; =&gt; 1, &quot;text&quot; =&gt; &quot;new&quot;}]}</code>.
By setting it to sparse, you have to explicitly use <code class="inline">remove_form</code> for that removal to happen. So in the same scenario above, the parameters
that would be sent would actually be <code class="inline">%{&quot;comments&quot; =&gt; [%{&quot;id&quot; =&gt; 1, &quot;text&quot; =&gt; &quot;new&quot;}, %{&quot;id&quot; =&gt; 2}]}</code>.<br/>One major difference with <code class="inline">sparse?</code> is that the form actually ignores the <em>index</em> provided, e.g <code class="inline">comments[0]...</code>, and instead uses the primary
key e.g <code class="inline">comments[0][id]</code> to match which form is being updated. This prevents you from having to find the index of the specific item you want to
update. Which could be very gnarly on deeply nested forms. If there is no primary key, or the primary key does not match anything, it is treated
as a new form.<br/>REMEMBER: You need to use <code class="inline">Phoenix.Components.inputs_for</code> to render the nested forms, or manually add hidden inputs using
<code class="inline">hidden_inputs_for</code> (or <code class="inline">HiddenInputs</code> if using Surface) for the id to be automatically placed into the form.</li><li><code class="inline">:forms</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">keyword/0</code></a>) - Forms nested inside the current nesting level in all cases.</li><li><code class="inline">:for_type</code> - What action types the form applies for. Leave blank for it to apply to all action types. Valid values are :read, :create, :update</li><li><code class="inline">:merge?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - When building parameters, this input will be merged with its parent input. This allows for combining multiple forms into a single input. The default value is <code class="inline">false</code>.</li><li><code class="inline">:for</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - When creating parameters for the action, the key that the forms should be gathered into. Defaults to the key used to configure the nested form. Ignored if <code class="inline">merge?</code> is <code class="inline">true</code>.</li><li><code class="inline">:resource</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - The resource of the nested forms. Unnecessary if you are providing the <code class="inline">data</code> key, and not adding additional forms to this path.</li><li><code class="inline">:create_action</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - The create action to use when building new forms. Only necessary if you want to use <code class="inline">add_form/3</code> with this path.</li><li><code class="inline">:update_action</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - The update action to use when building forms for data. Only necessary if you supply the <code class="inline">data</code> key.</li><li><code class="inline">:data</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - The current value or values that should have update forms built by default.<br/>You can also provide a single argument function that will return the data based on the
data of the parent form. This is important for multiple nesting levels of <code class="inline">:list</code> type
forms, because the data depends on which parent is being rendered.</li></ul>
  </section>
</section>
<section class="detail" id="form_to_search_offence_description/1">

    <span id="form_to_search_offence_description/0"></span>

  <div class="detail-header">
    <a href="#form_to_search_offence_description/1" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">form_to_search_offence_description(form_opts \\ [])</h1>


    </div>
  </div>

  <section class="docstring">

<p>Creates a form for the search_description action on EhsEnforcement.Enforcement.Offence.</p><h2 id="form_to_search_offence_description/1-options" class="section-heading"><a href="#form_to_search_offence_description/1-options" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Options</span></h2><ul><li><code class="inline">:actor</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - The actor performing the action. Passed through to the underlying action.</li><li><code class="inline">:scope</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A value that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.Scope.html"><code class="inline">Ash.Scope</code></a> protocol, for passing around actor/tenant/context in a single value. See <a href="https://hexdocs.pm/ash/3.7.6/Ash.Scope.html"><code class="inline">Ash.Scope</code></a> for more.</li><li><code class="inline">:forms</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">keyword/0</code></a>) - Nested form configurations. See <code class="inline">for_create/3</code> &quot;Nested Form Options&quot; docs for more.</li><li><code class="inline">:warn_on_unhandled_errors?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Warns on any errors that don't match the form pattern of <code class="inline">{:field, &quot;message&quot;, [replacement: :vars]}</code> or implement the <a href="https://hexdocs.pm/ash_phoenix/2.3.17/AshPhoenix.FormData.Error.html"><code class="inline">AshPhoenix.FormData.Error</code></a> protocol. The default value is <code class="inline">true</code>.</li><li><code class="inline">:domain</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - The domain to use when calling the action.</li><li><code class="inline">:as</code> (<a href="https://hexdocs.pm/elixir/String.html#t:t/0"><code class="inline">String.t/0</code></a>) - The name of the form in the submitted params. You will need to pull the form params out using this key. The default value is <code class="inline">&quot;form&quot;</code>.</li><li><code class="inline">:id</code> (<a href="https://hexdocs.pm/elixir/String.html#t:t/0"><code class="inline">String.t/0</code></a>) - The html id of the form. Defaults to the value of <code class="inline">:as</code> if provided, otherwise &quot;form&quot;</li><li><code class="inline">:transform_errors</code> - Allows for manual manipulation and transformation of errors. You may prefer <code class="inline">post_process_errors</code> as a simpler API.<br/>If possible, try to implement <a href="https://hexdocs.pm/ash_phoenix/2.3.17/AshPhoenix.FormData.Error.html"><code class="inline">AshPhoenix.FormData.Error</code></a> for the error (if it as a custom one, for example).
If that isn't possible, you can provide this function which will get the changeset and the error, and should
return a list of ash phoenix formatted errors, e.g <code class="inline">[{field :: atom, message :: String.t(), substituations :: Keyword.t()}]</code><br/>Example:<pre><code class="makeup elixir" translate="no"><span class="nc">AshPhoenix.Form</span><span class="o">.</span><span class="n">for_create</span><span class="p" data-group-id="6340446570-1">(</span><span class="n">...</span><span class="p">,</span><span class="w"> </span><span class="ss">transform_errors</span><span class="p">:</span><span class="w"> </span><span class="k" data-group-id="6340446570-2">fn</span><span class="w">
  </span><span class="c">_changeset</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="6340446570-3">%{</span><span class="ss">field</span><span class="p">:</span><span class="w"> </span><span class="ss">:field1</span><span class="p" data-group-id="6340446570-3">}</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">error</span><span class="w"> </span><span class="o">-&gt;</span><span class="w">
    </span><span class="p" data-group-id="6340446570-4">%{</span><span class="n">error</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="ss">field</span><span class="p">:</span><span class="w"> </span><span class="ss">:field2</span><span class="p" data-group-id="6340446570-4">}</span><span class="w">  
  </span><span class="c">_changeset</span><span class="p">,</span><span class="w"> </span><span class="n">error</span><span class="w"> </span><span class="o">-&gt;</span><span class="w">
    </span><span class="n">error</span><span class="w">
</span><span class="k" data-group-id="6340446570-2">end</span></code></pre></li><li><code class="inline">:post_process_errors</code> - Allows for post-processing of errors after they have been converted to the standard triple format.<br/>This function receives the form, the path to the form, and an error triple <code class="inline">{field, message, vars}</code>.
It should return either a modified triple or <code class="inline">nil</code> to filter out the error.<br/>This is useful for:<ul><li>Filtering out certain errors based on custom criteria</li><li>Remapping field names from one field to another</li><li>Modifying error messages or variables<br/>Example:<pre><code class="makeup elixir" translate="no"><span class="nc">AshPhoenix.Form</span><span class="o">.</span><span class="n">for_create</span><span class="p" data-group-id="5573751212-1">(</span><span class="n">...</span><span class="p">,</span><span class="w"> </span><span class="ss">post_process_errors</span><span class="p">:</span><span class="w"> </span><span class="k" data-group-id="5573751212-2">fn</span><span class="w"> </span><span class="n">form</span><span class="p">,</span><span class="w"> </span><span class="c">_path</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="5573751212-3">{</span><span class="n">field</span><span class="p">,</span><span class="w"> </span><span class="n">message</span><span class="p">,</span><span class="w"> </span><span class="n">vars</span><span class="p" data-group-id="5573751212-3">}</span><span class="w"> </span><span class="o">-&gt;</span><span class="w">
</span><span class="k">case</span><span class="w"> </span><span class="n">field</span><span class="w"> </span><span class="k" data-group-id="5573751212-4">do</span><span class="w">
  </span><span class="ss">:status</span><span class="w"> </span><span class="o">-&gt;</span><span class="w">
    </span><span class="c1"># hide these errors</span><span class="w">
    </span><span class="no">nil</span><span class="w">  
  </span><span class="n">field</span><span class="w"> </span><span class="ow">when</span><span class="w"> </span><span class="n">field</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="p" data-group-id="5573751212-5">[</span><span class="ss">:currency</span><span class="p">,</span><span class="w"> </span><span class="ss">:amount</span><span class="p" data-group-id="5573751212-5">]</span><span class="w"> </span><span class="o">-&gt;</span><span class="w">
    </span><span class="c1"># remap the field, and replace the error message</span><span class="w">
    </span><span class="p" data-group-id="5573751212-6">{</span><span class="ss">:money</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;please enter a real money amount&quot;</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="5573751212-7">[</span><span class="p" data-group-id="5573751212-7">]</span><span class="p" data-group-id="5573751212-6">}</span><span class="w">  
  </span><span class="n">field</span><span class="w"> </span><span class="o">-&gt;</span><span class="w">
    </span><span class="c1"># leave the others unchanged</span><span class="w">
    </span><span class="p" data-group-id="5573751212-8">{</span><span class="n">field</span><span class="p">,</span><span class="w"> </span><span class="n">message</span><span class="p">,</span><span class="w"> </span><span class="n">vars</span><span class="p" data-group-id="5573751212-8">}</span><span class="w">
</span><span class="k" data-group-id="5573751212-4">end</span><span class="w">
</span><span class="k" data-group-id="5573751212-2">end</span><span class="p" data-group-id="5573751212-1">)</span></code></pre></li></ul></li><li><code class="inline">:prepare_source</code> - A 1-argument function the receives the initial changeset (or query) and makes any relevant changes to it.
This can be used to do things like:  <ul><li>Set default argument values before the validations are run using <a href="https://hexdocs.pm/ash/3.7.6/Ash.Changeset.html#set_arguments/2"><code class="inline">Ash.Changeset.set_arguments/2</code></a> or <a href="https://hexdocs.pm/ash/3.7.6/Ash.Changeset.html#set_argument/3"><code class="inline">Ash.Changeset.set_argument/3</code></a></li><li>Set changeset context</li><li>Do any other pre-processing on the changeset</li></ul></li><li><code class="inline">:prepare_params</code> - A 2-argument function that receives the params map and the :validate atom and should return prepared params.
Called before the form is validated.</li><li><code class="inline">:transform_params</code> - A function for post-processing the form parameters before they are used for changeset validation/submission.
Use a 3-argument function to pattern match on the <a href="https://hexdocs.pm/ash_phoenix/2.3.17/AshPhoenix.Form.html"><code class="inline">AshPhoenix.Form</code></a> struct.</li><li><code class="inline">:method</code> (<a href="https://hexdocs.pm/elixir/String.html#t:t/0"><code class="inline">String.t/0</code></a>) - The http method to associate with the form. Defaults to <code class="inline">post</code> for creates, and <code class="inline">put</code> for everything else.</li><li><code class="inline">:exclude_fields_if_empty</code> - These fields will be ignored if they are empty strings.<br/>This list of fields supports dead view forms. When a form is submitted from dead view
empty fields are submitted as empty strings. This is problematic for fields that allow_nil
or those that have default values.</li><li><code class="inline">:tenant</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - The current tenant. Passed through to the underlying action.</li><li><code class="inline">:params</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - The initial parameters to use for the form. This is useful for setting up a form with default values. The default value is <code class="inline">%{}</code>.
Any <em>additional</em> options will be passed to the underlying call to build the source, i.e
<a href="https://hexdocs.pm/ash/3.7.6/Ash.ActionInput.html#for_action/4"><code class="inline">Ash.ActionInput.for_action/4</code></a>, or <code class="inline">Ash.Changeset.for_*</code>. This means you can set things
like the tenant/actor. These will be retained, and provided again when
<code class="inline">Form.submit/3</code> is called.</li></ul><h2 id="form_to_search_offence_description/1-nested-form-options" class="section-heading"><a href="#form_to_search_offence_description/1-nested-form-options" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Nested Form Options</span></h2><ul><li><code class="inline">:type</code> - The cardinality of the nested form - <code class="inline">:list</code> or <code class="inline">:single</code>. Valid values are :list, :single The default value is <code class="inline">:single</code>.</li><li><code class="inline">:sparse?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If the nested form is <code class="inline">sparse</code>, the form won't expect all inputs for all forms to be present.<br/>Has no effect if the type is <code class="inline">:single</code>.<br/>Normally, if you leave some forms out of a list of nested forms, they are removed from the parameters
passed to the action. For example, if you had a <code class="inline">post</code> with two comments <code class="inline">[%Comment{id: 1}, %Comment{id: 2}]</code>
and you passed down params like <code class="inline">comments[0][id]=1&amp;comments[1][text]=new_text</code>, we would remove the second comment
from the input parameters, resulting in the following being passed into the action: <code class="inline">%{&quot;comments&quot; =&gt; [%{&quot;id&quot; =&gt; 1, &quot;text&quot; =&gt; &quot;new&quot;}]}</code>.
By setting it to sparse, you have to explicitly use <code class="inline">remove_form</code> for that removal to happen. So in the same scenario above, the parameters
that would be sent would actually be <code class="inline">%{&quot;comments&quot; =&gt; [%{&quot;id&quot; =&gt; 1, &quot;text&quot; =&gt; &quot;new&quot;}, %{&quot;id&quot; =&gt; 2}]}</code>.<br/>One major difference with <code class="inline">sparse?</code> is that the form actually ignores the <em>index</em> provided, e.g <code class="inline">comments[0]...</code>, and instead uses the primary
key e.g <code class="inline">comments[0][id]</code> to match which form is being updated. This prevents you from having to find the index of the specific item you want to
update. Which could be very gnarly on deeply nested forms. If there is no primary key, or the primary key does not match anything, it is treated
as a new form.<br/>REMEMBER: You need to use <code class="inline">Phoenix.Components.inputs_for</code> to render the nested forms, or manually add hidden inputs using
<code class="inline">hidden_inputs_for</code> (or <code class="inline">HiddenInputs</code> if using Surface) for the id to be automatically placed into the form.</li><li><code class="inline">:forms</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">keyword/0</code></a>) - Forms nested inside the current nesting level in all cases.</li><li><code class="inline">:for_type</code> - What action types the form applies for. Leave blank for it to apply to all action types. Valid values are :read, :create, :update</li><li><code class="inline">:merge?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - When building parameters, this input will be merged with its parent input. This allows for combining multiple forms into a single input. The default value is <code class="inline">false</code>.</li><li><code class="inline">:for</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - When creating parameters for the action, the key that the forms should be gathered into. Defaults to the key used to configure the nested form. Ignored if <code class="inline">merge?</code> is <code class="inline">true</code>.</li><li><code class="inline">:resource</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - The resource of the nested forms. Unnecessary if you are providing the <code class="inline">data</code> key, and not adding additional forms to this path.</li><li><code class="inline">:create_action</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - The create action to use when building new forms. Only necessary if you want to use <code class="inline">add_form/3</code> with this path.</li><li><code class="inline">:update_action</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - The update action to use when building forms for data. Only necessary if you supply the <code class="inline">data</code> key.</li><li><code class="inline">:data</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - The current value or values that should have update forms built by default.<br/>You can also provide a single argument function that will return the data based on the
data of the parent form. This is important for multiple nesting levels of <code class="inline">:list</code> type
forms, because the data depends on which parent is being rendered.</li></ul>
  </section>
</section>
<section class="detail" id="form_to_search_offenders/1">

    <span id="form_to_search_offenders/0"></span>

  <div class="detail-header">
    <a href="#form_to_search_offenders/1" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">form_to_search_offenders(form_opts \\ [])</h1>


    </div>
  </div>

  <section class="docstring">

<p>Creates a form for the search action on EhsEnforcement.Enforcement.Offender.</p><h2 id="form_to_search_offenders/1-options" class="section-heading"><a href="#form_to_search_offenders/1-options" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Options</span></h2><ul><li><code class="inline">:actor</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - The actor performing the action. Passed through to the underlying action.</li><li><code class="inline">:scope</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A value that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.Scope.html"><code class="inline">Ash.Scope</code></a> protocol, for passing around actor/tenant/context in a single value. See <a href="https://hexdocs.pm/ash/3.7.6/Ash.Scope.html"><code class="inline">Ash.Scope</code></a> for more.</li><li><code class="inline">:forms</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">keyword/0</code></a>) - Nested form configurations. See <code class="inline">for_create/3</code> &quot;Nested Form Options&quot; docs for more.</li><li><code class="inline">:warn_on_unhandled_errors?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Warns on any errors that don't match the form pattern of <code class="inline">{:field, &quot;message&quot;, [replacement: :vars]}</code> or implement the <a href="https://hexdocs.pm/ash_phoenix/2.3.17/AshPhoenix.FormData.Error.html"><code class="inline">AshPhoenix.FormData.Error</code></a> protocol. The default value is <code class="inline">true</code>.</li><li><code class="inline">:domain</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - The domain to use when calling the action.</li><li><code class="inline">:as</code> (<a href="https://hexdocs.pm/elixir/String.html#t:t/0"><code class="inline">String.t/0</code></a>) - The name of the form in the submitted params. You will need to pull the form params out using this key. The default value is <code class="inline">&quot;form&quot;</code>.</li><li><code class="inline">:id</code> (<a href="https://hexdocs.pm/elixir/String.html#t:t/0"><code class="inline">String.t/0</code></a>) - The html id of the form. Defaults to the value of <code class="inline">:as</code> if provided, otherwise &quot;form&quot;</li><li><code class="inline">:transform_errors</code> - Allows for manual manipulation and transformation of errors. You may prefer <code class="inline">post_process_errors</code> as a simpler API.<br/>If possible, try to implement <a href="https://hexdocs.pm/ash_phoenix/2.3.17/AshPhoenix.FormData.Error.html"><code class="inline">AshPhoenix.FormData.Error</code></a> for the error (if it as a custom one, for example).
If that isn't possible, you can provide this function which will get the changeset and the error, and should
return a list of ash phoenix formatted errors, e.g <code class="inline">[{field :: atom, message :: String.t(), substituations :: Keyword.t()}]</code><br/>Example:<pre><code class="makeup elixir" translate="no"><span class="nc">AshPhoenix.Form</span><span class="o">.</span><span class="n">for_create</span><span class="p" data-group-id="9414664388-1">(</span><span class="n">...</span><span class="p">,</span><span class="w"> </span><span class="ss">transform_errors</span><span class="p">:</span><span class="w"> </span><span class="k" data-group-id="9414664388-2">fn</span><span class="w">
  </span><span class="c">_changeset</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="9414664388-3">%{</span><span class="ss">field</span><span class="p">:</span><span class="w"> </span><span class="ss">:field1</span><span class="p" data-group-id="9414664388-3">}</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">error</span><span class="w"> </span><span class="o">-&gt;</span><span class="w">
    </span><span class="p" data-group-id="9414664388-4">%{</span><span class="n">error</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="ss">field</span><span class="p">:</span><span class="w"> </span><span class="ss">:field2</span><span class="p" data-group-id="9414664388-4">}</span><span class="w">  
  </span><span class="c">_changeset</span><span class="p">,</span><span class="w"> </span><span class="n">error</span><span class="w"> </span><span class="o">-&gt;</span><span class="w">
    </span><span class="n">error</span><span class="w">
</span><span class="k" data-group-id="9414664388-2">end</span></code></pre></li><li><code class="inline">:post_process_errors</code> - Allows for post-processing of errors after they have been converted to the standard triple format.<br/>This function receives the form, the path to the form, and an error triple <code class="inline">{field, message, vars}</code>.
It should return either a modified triple or <code class="inline">nil</code> to filter out the error.<br/>This is useful for:<ul><li>Filtering out certain errors based on custom criteria</li><li>Remapping field names from one field to another</li><li>Modifying error messages or variables<br/>Example:<pre><code class="makeup elixir" translate="no"><span class="nc">AshPhoenix.Form</span><span class="o">.</span><span class="n">for_create</span><span class="p" data-group-id="4951440089-1">(</span><span class="n">...</span><span class="p">,</span><span class="w"> </span><span class="ss">post_process_errors</span><span class="p">:</span><span class="w"> </span><span class="k" data-group-id="4951440089-2">fn</span><span class="w"> </span><span class="n">form</span><span class="p">,</span><span class="w"> </span><span class="c">_path</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="4951440089-3">{</span><span class="n">field</span><span class="p">,</span><span class="w"> </span><span class="n">message</span><span class="p">,</span><span class="w"> </span><span class="n">vars</span><span class="p" data-group-id="4951440089-3">}</span><span class="w"> </span><span class="o">-&gt;</span><span class="w">
</span><span class="k">case</span><span class="w"> </span><span class="n">field</span><span class="w"> </span><span class="k" data-group-id="4951440089-4">do</span><span class="w">
  </span><span class="ss">:status</span><span class="w"> </span><span class="o">-&gt;</span><span class="w">
    </span><span class="c1"># hide these errors</span><span class="w">
    </span><span class="no">nil</span><span class="w">  
  </span><span class="n">field</span><span class="w"> </span><span class="ow">when</span><span class="w"> </span><span class="n">field</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="p" data-group-id="4951440089-5">[</span><span class="ss">:currency</span><span class="p">,</span><span class="w"> </span><span class="ss">:amount</span><span class="p" data-group-id="4951440089-5">]</span><span class="w"> </span><span class="o">-&gt;</span><span class="w">
    </span><span class="c1"># remap the field, and replace the error message</span><span class="w">
    </span><span class="p" data-group-id="4951440089-6">{</span><span class="ss">:money</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;please enter a real money amount&quot;</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="4951440089-7">[</span><span class="p" data-group-id="4951440089-7">]</span><span class="p" data-group-id="4951440089-6">}</span><span class="w">  
  </span><span class="n">field</span><span class="w"> </span><span class="o">-&gt;</span><span class="w">
    </span><span class="c1"># leave the others unchanged</span><span class="w">
    </span><span class="p" data-group-id="4951440089-8">{</span><span class="n">field</span><span class="p">,</span><span class="w"> </span><span class="n">message</span><span class="p">,</span><span class="w"> </span><span class="n">vars</span><span class="p" data-group-id="4951440089-8">}</span><span class="w">
</span><span class="k" data-group-id="4951440089-4">end</span><span class="w">
</span><span class="k" data-group-id="4951440089-2">end</span><span class="p" data-group-id="4951440089-1">)</span></code></pre></li></ul></li><li><code class="inline">:prepare_source</code> - A 1-argument function the receives the initial changeset (or query) and makes any relevant changes to it.
This can be used to do things like:  <ul><li>Set default argument values before the validations are run using <a href="https://hexdocs.pm/ash/3.7.6/Ash.Changeset.html#set_arguments/2"><code class="inline">Ash.Changeset.set_arguments/2</code></a> or <a href="https://hexdocs.pm/ash/3.7.6/Ash.Changeset.html#set_argument/3"><code class="inline">Ash.Changeset.set_argument/3</code></a></li><li>Set changeset context</li><li>Do any other pre-processing on the changeset</li></ul></li><li><code class="inline">:prepare_params</code> - A 2-argument function that receives the params map and the :validate atom and should return prepared params.
Called before the form is validated.</li><li><code class="inline">:transform_params</code> - A function for post-processing the form parameters before they are used for changeset validation/submission.
Use a 3-argument function to pattern match on the <a href="https://hexdocs.pm/ash_phoenix/2.3.17/AshPhoenix.Form.html"><code class="inline">AshPhoenix.Form</code></a> struct.</li><li><code class="inline">:method</code> (<a href="https://hexdocs.pm/elixir/String.html#t:t/0"><code class="inline">String.t/0</code></a>) - The http method to associate with the form. Defaults to <code class="inline">post</code> for creates, and <code class="inline">put</code> for everything else.</li><li><code class="inline">:exclude_fields_if_empty</code> - These fields will be ignored if they are empty strings.<br/>This list of fields supports dead view forms. When a form is submitted from dead view
empty fields are submitted as empty strings. This is problematic for fields that allow_nil
or those that have default values.</li><li><code class="inline">:tenant</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - The current tenant. Passed through to the underlying action.</li><li><code class="inline">:params</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - The initial parameters to use for the form. This is useful for setting up a form with default values. The default value is <code class="inline">%{}</code>.
Any <em>additional</em> options will be passed to the underlying call to build the source, i.e
<a href="https://hexdocs.pm/ash/3.7.6/Ash.ActionInput.html#for_action/4"><code class="inline">Ash.ActionInput.for_action/4</code></a>, or <code class="inline">Ash.Changeset.for_*</code>. This means you can set things
like the tenant/actor. These will be retained, and provided again when
<code class="inline">Form.submit/3</code> is called.</li></ul><h2 id="form_to_search_offenders/1-nested-form-options" class="section-heading"><a href="#form_to_search_offenders/1-nested-form-options" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Nested Form Options</span></h2><ul><li><code class="inline">:type</code> - The cardinality of the nested form - <code class="inline">:list</code> or <code class="inline">:single</code>. Valid values are :list, :single The default value is <code class="inline">:single</code>.</li><li><code class="inline">:sparse?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If the nested form is <code class="inline">sparse</code>, the form won't expect all inputs for all forms to be present.<br/>Has no effect if the type is <code class="inline">:single</code>.<br/>Normally, if you leave some forms out of a list of nested forms, they are removed from the parameters
passed to the action. For example, if you had a <code class="inline">post</code> with two comments <code class="inline">[%Comment{id: 1}, %Comment{id: 2}]</code>
and you passed down params like <code class="inline">comments[0][id]=1&amp;comments[1][text]=new_text</code>, we would remove the second comment
from the input parameters, resulting in the following being passed into the action: <code class="inline">%{&quot;comments&quot; =&gt; [%{&quot;id&quot; =&gt; 1, &quot;text&quot; =&gt; &quot;new&quot;}]}</code>.
By setting it to sparse, you have to explicitly use <code class="inline">remove_form</code> for that removal to happen. So in the same scenario above, the parameters
that would be sent would actually be <code class="inline">%{&quot;comments&quot; =&gt; [%{&quot;id&quot; =&gt; 1, &quot;text&quot; =&gt; &quot;new&quot;}, %{&quot;id&quot; =&gt; 2}]}</code>.<br/>One major difference with <code class="inline">sparse?</code> is that the form actually ignores the <em>index</em> provided, e.g <code class="inline">comments[0]...</code>, and instead uses the primary
key e.g <code class="inline">comments[0][id]</code> to match which form is being updated. This prevents you from having to find the index of the specific item you want to
update. Which could be very gnarly on deeply nested forms. If there is no primary key, or the primary key does not match anything, it is treated
as a new form.<br/>REMEMBER: You need to use <code class="inline">Phoenix.Components.inputs_for</code> to render the nested forms, or manually add hidden inputs using
<code class="inline">hidden_inputs_for</code> (or <code class="inline">HiddenInputs</code> if using Surface) for the id to be automatically placed into the form.</li><li><code class="inline">:forms</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">keyword/0</code></a>) - Forms nested inside the current nesting level in all cases.</li><li><code class="inline">:for_type</code> - What action types the form applies for. Leave blank for it to apply to all action types. Valid values are :read, :create, :update</li><li><code class="inline">:merge?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - When building parameters, this input will be merged with its parent input. This allows for combining multiple forms into a single input. The default value is <code class="inline">false</code>.</li><li><code class="inline">:for</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - When creating parameters for the action, the key that the forms should be gathered into. Defaults to the key used to configure the nested form. Ignored if <code class="inline">merge?</code> is <code class="inline">true</code>.</li><li><code class="inline">:resource</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - The resource of the nested forms. Unnecessary if you are providing the <code class="inline">data</code> key, and not adding additional forms to this path.</li><li><code class="inline">:create_action</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - The create action to use when building new forms. Only necessary if you want to use <code class="inline">add_form/3</code> with this path.</li><li><code class="inline">:update_action</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - The update action to use when building forms for data. Only necessary if you supply the <code class="inline">data</code> key.</li><li><code class="inline">:data</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - The current value or values that should have update forms built by default.<br/>You can also provide a single argument function that will return the data based on the
data of the parent form. This is important for multiple nesting levels of <code class="inline">:list</code> type
forms, because the data depends on which parent is being rendered.</li></ul>
  </section>
</section>
<section class="detail" id="form_to_sync_case_from_airtable/2">

    <span id="form_to_sync_case_from_airtable/1"></span>

  <div class="detail-header">
    <a href="#form_to_sync_case_from_airtable/2" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">form_to_sync_case_from_airtable(record, form_opts \\ [])</h1>


    </div>
  </div>

  <section class="docstring">

<p>Creates a form for the sync_from_airtable action on EhsEnforcement.Enforcement.Case.</p><h2 id="form_to_sync_case_from_airtable/2-options" class="section-heading"><a href="#form_to_sync_case_from_airtable/2-options" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Options</span></h2><ul><li><code class="inline">:actor</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - The actor performing the action. Passed through to the underlying action.</li><li><code class="inline">:scope</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A value that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.Scope.html"><code class="inline">Ash.Scope</code></a> protocol, for passing around actor/tenant/context in a single value. See <a href="https://hexdocs.pm/ash/3.7.6/Ash.Scope.html"><code class="inline">Ash.Scope</code></a> for more.</li><li><code class="inline">:forms</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">keyword/0</code></a>) - Nested form configurations. See <code class="inline">for_create/3</code> &quot;Nested Form Options&quot; docs for more.</li><li><code class="inline">:warn_on_unhandled_errors?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Warns on any errors that don't match the form pattern of <code class="inline">{:field, &quot;message&quot;, [replacement: :vars]}</code> or implement the <a href="https://hexdocs.pm/ash_phoenix/2.3.17/AshPhoenix.FormData.Error.html"><code class="inline">AshPhoenix.FormData.Error</code></a> protocol. The default value is <code class="inline">true</code>.</li><li><code class="inline">:domain</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - The domain to use when calling the action.</li><li><code class="inline">:as</code> (<a href="https://hexdocs.pm/elixir/String.html#t:t/0"><code class="inline">String.t/0</code></a>) - The name of the form in the submitted params. You will need to pull the form params out using this key. The default value is <code class="inline">&quot;form&quot;</code>.</li><li><code class="inline">:id</code> (<a href="https://hexdocs.pm/elixir/String.html#t:t/0"><code class="inline">String.t/0</code></a>) - The html id of the form. Defaults to the value of <code class="inline">:as</code> if provided, otherwise &quot;form&quot;</li><li><code class="inline">:transform_errors</code> - Allows for manual manipulation and transformation of errors. You may prefer <code class="inline">post_process_errors</code> as a simpler API.<br/>If possible, try to implement <a href="https://hexdocs.pm/ash_phoenix/2.3.17/AshPhoenix.FormData.Error.html"><code class="inline">AshPhoenix.FormData.Error</code></a> for the error (if it as a custom one, for example).
If that isn't possible, you can provide this function which will get the changeset and the error, and should
return a list of ash phoenix formatted errors, e.g <code class="inline">[{field :: atom, message :: String.t(), substituations :: Keyword.t()}]</code><br/>Example:<pre><code class="makeup elixir" translate="no"><span class="nc">AshPhoenix.Form</span><span class="o">.</span><span class="n">for_create</span><span class="p" data-group-id="5488281131-1">(</span><span class="n">...</span><span class="p">,</span><span class="w"> </span><span class="ss">transform_errors</span><span class="p">:</span><span class="w"> </span><span class="k" data-group-id="5488281131-2">fn</span><span class="w">
  </span><span class="c">_changeset</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="5488281131-3">%{</span><span class="ss">field</span><span class="p">:</span><span class="w"> </span><span class="ss">:field1</span><span class="p" data-group-id="5488281131-3">}</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">error</span><span class="w"> </span><span class="o">-&gt;</span><span class="w">
    </span><span class="p" data-group-id="5488281131-4">%{</span><span class="n">error</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="ss">field</span><span class="p">:</span><span class="w"> </span><span class="ss">:field2</span><span class="p" data-group-id="5488281131-4">}</span><span class="w">  
  </span><span class="c">_changeset</span><span class="p">,</span><span class="w"> </span><span class="n">error</span><span class="w"> </span><span class="o">-&gt;</span><span class="w">
    </span><span class="n">error</span><span class="w">
</span><span class="k" data-group-id="5488281131-2">end</span></code></pre></li><li><code class="inline">:post_process_errors</code> - Allows for post-processing of errors after they have been converted to the standard triple format.<br/>This function receives the form, the path to the form, and an error triple <code class="inline">{field, message, vars}</code>.
It should return either a modified triple or <code class="inline">nil</code> to filter out the error.<br/>This is useful for:<ul><li>Filtering out certain errors based on custom criteria</li><li>Remapping field names from one field to another</li><li>Modifying error messages or variables<br/>Example:<pre><code class="makeup elixir" translate="no"><span class="nc">AshPhoenix.Form</span><span class="o">.</span><span class="n">for_create</span><span class="p" data-group-id="2289988287-1">(</span><span class="n">...</span><span class="p">,</span><span class="w"> </span><span class="ss">post_process_errors</span><span class="p">:</span><span class="w"> </span><span class="k" data-group-id="2289988287-2">fn</span><span class="w"> </span><span class="n">form</span><span class="p">,</span><span class="w"> </span><span class="c">_path</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="2289988287-3">{</span><span class="n">field</span><span class="p">,</span><span class="w"> </span><span class="n">message</span><span class="p">,</span><span class="w"> </span><span class="n">vars</span><span class="p" data-group-id="2289988287-3">}</span><span class="w"> </span><span class="o">-&gt;</span><span class="w">
</span><span class="k">case</span><span class="w"> </span><span class="n">field</span><span class="w"> </span><span class="k" data-group-id="2289988287-4">do</span><span class="w">
  </span><span class="ss">:status</span><span class="w"> </span><span class="o">-&gt;</span><span class="w">
    </span><span class="c1"># hide these errors</span><span class="w">
    </span><span class="no">nil</span><span class="w">  
  </span><span class="n">field</span><span class="w"> </span><span class="ow">when</span><span class="w"> </span><span class="n">field</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="p" data-group-id="2289988287-5">[</span><span class="ss">:currency</span><span class="p">,</span><span class="w"> </span><span class="ss">:amount</span><span class="p" data-group-id="2289988287-5">]</span><span class="w"> </span><span class="o">-&gt;</span><span class="w">
    </span><span class="c1"># remap the field, and replace the error message</span><span class="w">
    </span><span class="p" data-group-id="2289988287-6">{</span><span class="ss">:money</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;please enter a real money amount&quot;</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="2289988287-7">[</span><span class="p" data-group-id="2289988287-7">]</span><span class="p" data-group-id="2289988287-6">}</span><span class="w">  
  </span><span class="n">field</span><span class="w"> </span><span class="o">-&gt;</span><span class="w">
    </span><span class="c1"># leave the others unchanged</span><span class="w">
    </span><span class="p" data-group-id="2289988287-8">{</span><span class="n">field</span><span class="p">,</span><span class="w"> </span><span class="n">message</span><span class="p">,</span><span class="w"> </span><span class="n">vars</span><span class="p" data-group-id="2289988287-8">}</span><span class="w">
</span><span class="k" data-group-id="2289988287-4">end</span><span class="w">
</span><span class="k" data-group-id="2289988287-2">end</span><span class="p" data-group-id="2289988287-1">)</span></code></pre></li></ul></li><li><code class="inline">:prepare_source</code> - A 1-argument function the receives the initial changeset (or query) and makes any relevant changes to it.
This can be used to do things like:  <ul><li>Set default argument values before the validations are run using <a href="https://hexdocs.pm/ash/3.7.6/Ash.Changeset.html#set_arguments/2"><code class="inline">Ash.Changeset.set_arguments/2</code></a> or <a href="https://hexdocs.pm/ash/3.7.6/Ash.Changeset.html#set_argument/3"><code class="inline">Ash.Changeset.set_argument/3</code></a></li><li>Set changeset context</li><li>Do any other pre-processing on the changeset</li></ul></li><li><code class="inline">:prepare_params</code> - A 2-argument function that receives the params map and the :validate atom and should return prepared params.
Called before the form is validated.</li><li><code class="inline">:transform_params</code> - A function for post-processing the form parameters before they are used for changeset validation/submission.
Use a 3-argument function to pattern match on the <a href="https://hexdocs.pm/ash_phoenix/2.3.17/AshPhoenix.Form.html"><code class="inline">AshPhoenix.Form</code></a> struct.</li><li><code class="inline">:method</code> (<a href="https://hexdocs.pm/elixir/String.html#t:t/0"><code class="inline">String.t/0</code></a>) - The http method to associate with the form. Defaults to <code class="inline">post</code> for creates, and <code class="inline">put</code> for everything else.</li><li><code class="inline">:exclude_fields_if_empty</code> - These fields will be ignored if they are empty strings.<br/>This list of fields supports dead view forms. When a form is submitted from dead view
empty fields are submitted as empty strings. This is problematic for fields that allow_nil
or those that have default values.</li><li><code class="inline">:tenant</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - The current tenant. Passed through to the underlying action.</li><li><code class="inline">:params</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - The initial parameters to use for the form. This is useful for setting up a form with default values. The default value is <code class="inline">%{}</code>.
Any <em>additional</em> options will be passed to the underlying call to build the source, i.e
<a href="https://hexdocs.pm/ash/3.7.6/Ash.ActionInput.html#for_action/4"><code class="inline">Ash.ActionInput.for_action/4</code></a>, or <code class="inline">Ash.Changeset.for_*</code>. This means you can set things
like the tenant/actor. These will be retained, and provided again when
<code class="inline">Form.submit/3</code> is called.</li></ul><h2 id="form_to_sync_case_from_airtable/2-nested-form-options" class="section-heading"><a href="#form_to_sync_case_from_airtable/2-nested-form-options" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Nested Form Options</span></h2><ul><li><code class="inline">:type</code> - The cardinality of the nested form - <code class="inline">:list</code> or <code class="inline">:single</code>. Valid values are :list, :single The default value is <code class="inline">:single</code>.</li><li><code class="inline">:sparse?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If the nested form is <code class="inline">sparse</code>, the form won't expect all inputs for all forms to be present.<br/>Has no effect if the type is <code class="inline">:single</code>.<br/>Normally, if you leave some forms out of a list of nested forms, they are removed from the parameters
passed to the action. For example, if you had a <code class="inline">post</code> with two comments <code class="inline">[%Comment{id: 1}, %Comment{id: 2}]</code>
and you passed down params like <code class="inline">comments[0][id]=1&amp;comments[1][text]=new_text</code>, we would remove the second comment
from the input parameters, resulting in the following being passed into the action: <code class="inline">%{&quot;comments&quot; =&gt; [%{&quot;id&quot; =&gt; 1, &quot;text&quot; =&gt; &quot;new&quot;}]}</code>.
By setting it to sparse, you have to explicitly use <code class="inline">remove_form</code> for that removal to happen. So in the same scenario above, the parameters
that would be sent would actually be <code class="inline">%{&quot;comments&quot; =&gt; [%{&quot;id&quot; =&gt; 1, &quot;text&quot; =&gt; &quot;new&quot;}, %{&quot;id&quot; =&gt; 2}]}</code>.<br/>One major difference with <code class="inline">sparse?</code> is that the form actually ignores the <em>index</em> provided, e.g <code class="inline">comments[0]...</code>, and instead uses the primary
key e.g <code class="inline">comments[0][id]</code> to match which form is being updated. This prevents you from having to find the index of the specific item you want to
update. Which could be very gnarly on deeply nested forms. If there is no primary key, or the primary key does not match anything, it is treated
as a new form.<br/>REMEMBER: You need to use <code class="inline">Phoenix.Components.inputs_for</code> to render the nested forms, or manually add hidden inputs using
<code class="inline">hidden_inputs_for</code> (or <code class="inline">HiddenInputs</code> if using Surface) for the id to be automatically placed into the form.</li><li><code class="inline">:forms</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">keyword/0</code></a>) - Forms nested inside the current nesting level in all cases.</li><li><code class="inline">:for_type</code> - What action types the form applies for. Leave blank for it to apply to all action types. Valid values are :read, :create, :update</li><li><code class="inline">:merge?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - When building parameters, this input will be merged with its parent input. This allows for combining multiple forms into a single input. The default value is <code class="inline">false</code>.</li><li><code class="inline">:for</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - When creating parameters for the action, the key that the forms should be gathered into. Defaults to the key used to configure the nested form. Ignored if <code class="inline">merge?</code> is <code class="inline">true</code>.</li><li><code class="inline">:resource</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - The resource of the nested forms. Unnecessary if you are providing the <code class="inline">data</code> key, and not adding additional forms to this path.</li><li><code class="inline">:create_action</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - The create action to use when building new forms. Only necessary if you want to use <code class="inline">add_form/3</code> with this path.</li><li><code class="inline">:update_action</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - The update action to use when building forms for data. Only necessary if you supply the <code class="inline">data</code> key.</li><li><code class="inline">:data</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - The current value or values that should have update forms built by default.<br/>You can also provide a single argument function that will return the data based on the
data of the parent form. This is important for multiple nesting levels of <code class="inline">:list</code> type
forms, because the data depends on which parent is being rendered.</li></ul>
  </section>
</section>
<section class="detail" id="form_to_update_agency/2">

    <span id="form_to_update_agency/1"></span>

  <div class="detail-header">
    <a href="#form_to_update_agency/2" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">form_to_update_agency(record, form_opts \\ [])</h1>


    </div>
  </div>

  <section class="docstring">

<p>Creates a form for the update action on EhsEnforcement.Enforcement.Agency.</p><h2 id="form_to_update_agency/2-options" class="section-heading"><a href="#form_to_update_agency/2-options" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Options</span></h2><ul><li><code class="inline">:actor</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - The actor performing the action. Passed through to the underlying action.</li><li><code class="inline">:scope</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A value that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.Scope.html"><code class="inline">Ash.Scope</code></a> protocol, for passing around actor/tenant/context in a single value. See <a href="https://hexdocs.pm/ash/3.7.6/Ash.Scope.html"><code class="inline">Ash.Scope</code></a> for more.</li><li><code class="inline">:forms</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">keyword/0</code></a>) - Nested form configurations. See <code class="inline">for_create/3</code> &quot;Nested Form Options&quot; docs for more.</li><li><code class="inline">:warn_on_unhandled_errors?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Warns on any errors that don't match the form pattern of <code class="inline">{:field, &quot;message&quot;, [replacement: :vars]}</code> or implement the <a href="https://hexdocs.pm/ash_phoenix/2.3.17/AshPhoenix.FormData.Error.html"><code class="inline">AshPhoenix.FormData.Error</code></a> protocol. The default value is <code class="inline">true</code>.</li><li><code class="inline">:domain</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - The domain to use when calling the action.</li><li><code class="inline">:as</code> (<a href="https://hexdocs.pm/elixir/String.html#t:t/0"><code class="inline">String.t/0</code></a>) - The name of the form in the submitted params. You will need to pull the form params out using this key. The default value is <code class="inline">&quot;form&quot;</code>.</li><li><code class="inline">:id</code> (<a href="https://hexdocs.pm/elixir/String.html#t:t/0"><code class="inline">String.t/0</code></a>) - The html id of the form. Defaults to the value of <code class="inline">:as</code> if provided, otherwise &quot;form&quot;</li><li><code class="inline">:transform_errors</code> - Allows for manual manipulation and transformation of errors. You may prefer <code class="inline">post_process_errors</code> as a simpler API.<br/>If possible, try to implement <a href="https://hexdocs.pm/ash_phoenix/2.3.17/AshPhoenix.FormData.Error.html"><code class="inline">AshPhoenix.FormData.Error</code></a> for the error (if it as a custom one, for example).
If that isn't possible, you can provide this function which will get the changeset and the error, and should
return a list of ash phoenix formatted errors, e.g <code class="inline">[{field :: atom, message :: String.t(), substituations :: Keyword.t()}]</code><br/>Example:<pre><code class="makeup elixir" translate="no"><span class="nc">AshPhoenix.Form</span><span class="o">.</span><span class="n">for_create</span><span class="p" data-group-id="2380603142-1">(</span><span class="n">...</span><span class="p">,</span><span class="w"> </span><span class="ss">transform_errors</span><span class="p">:</span><span class="w"> </span><span class="k" data-group-id="2380603142-2">fn</span><span class="w">
  </span><span class="c">_changeset</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="2380603142-3">%{</span><span class="ss">field</span><span class="p">:</span><span class="w"> </span><span class="ss">:field1</span><span class="p" data-group-id="2380603142-3">}</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">error</span><span class="w"> </span><span class="o">-&gt;</span><span class="w">
    </span><span class="p" data-group-id="2380603142-4">%{</span><span class="n">error</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="ss">field</span><span class="p">:</span><span class="w"> </span><span class="ss">:field2</span><span class="p" data-group-id="2380603142-4">}</span><span class="w">  
  </span><span class="c">_changeset</span><span class="p">,</span><span class="w"> </span><span class="n">error</span><span class="w"> </span><span class="o">-&gt;</span><span class="w">
    </span><span class="n">error</span><span class="w">
</span><span class="k" data-group-id="2380603142-2">end</span></code></pre></li><li><code class="inline">:post_process_errors</code> - Allows for post-processing of errors after they have been converted to the standard triple format.<br/>This function receives the form, the path to the form, and an error triple <code class="inline">{field, message, vars}</code>.
It should return either a modified triple or <code class="inline">nil</code> to filter out the error.<br/>This is useful for:<ul><li>Filtering out certain errors based on custom criteria</li><li>Remapping field names from one field to another</li><li>Modifying error messages or variables<br/>Example:<pre><code class="makeup elixir" translate="no"><span class="nc">AshPhoenix.Form</span><span class="o">.</span><span class="n">for_create</span><span class="p" data-group-id="2750342066-1">(</span><span class="n">...</span><span class="p">,</span><span class="w"> </span><span class="ss">post_process_errors</span><span class="p">:</span><span class="w"> </span><span class="k" data-group-id="2750342066-2">fn</span><span class="w"> </span><span class="n">form</span><span class="p">,</span><span class="w"> </span><span class="c">_path</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="2750342066-3">{</span><span class="n">field</span><span class="p">,</span><span class="w"> </span><span class="n">message</span><span class="p">,</span><span class="w"> </span><span class="n">vars</span><span class="p" data-group-id="2750342066-3">}</span><span class="w"> </span><span class="o">-&gt;</span><span class="w">
</span><span class="k">case</span><span class="w"> </span><span class="n">field</span><span class="w"> </span><span class="k" data-group-id="2750342066-4">do</span><span class="w">
  </span><span class="ss">:status</span><span class="w"> </span><span class="o">-&gt;</span><span class="w">
    </span><span class="c1"># hide these errors</span><span class="w">
    </span><span class="no">nil</span><span class="w">  
  </span><span class="n">field</span><span class="w"> </span><span class="ow">when</span><span class="w"> </span><span class="n">field</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="p" data-group-id="2750342066-5">[</span><span class="ss">:currency</span><span class="p">,</span><span class="w"> </span><span class="ss">:amount</span><span class="p" data-group-id="2750342066-5">]</span><span class="w"> </span><span class="o">-&gt;</span><span class="w">
    </span><span class="c1"># remap the field, and replace the error message</span><span class="w">
    </span><span class="p" data-group-id="2750342066-6">{</span><span class="ss">:money</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;please enter a real money amount&quot;</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="2750342066-7">[</span><span class="p" data-group-id="2750342066-7">]</span><span class="p" data-group-id="2750342066-6">}</span><span class="w">  
  </span><span class="n">field</span><span class="w"> </span><span class="o">-&gt;</span><span class="w">
    </span><span class="c1"># leave the others unchanged</span><span class="w">
    </span><span class="p" data-group-id="2750342066-8">{</span><span class="n">field</span><span class="p">,</span><span class="w"> </span><span class="n">message</span><span class="p">,</span><span class="w"> </span><span class="n">vars</span><span class="p" data-group-id="2750342066-8">}</span><span class="w">
</span><span class="k" data-group-id="2750342066-4">end</span><span class="w">
</span><span class="k" data-group-id="2750342066-2">end</span><span class="p" data-group-id="2750342066-1">)</span></code></pre></li></ul></li><li><code class="inline">:prepare_source</code> - A 1-argument function the receives the initial changeset (or query) and makes any relevant changes to it.
This can be used to do things like:  <ul><li>Set default argument values before the validations are run using <a href="https://hexdocs.pm/ash/3.7.6/Ash.Changeset.html#set_arguments/2"><code class="inline">Ash.Changeset.set_arguments/2</code></a> or <a href="https://hexdocs.pm/ash/3.7.6/Ash.Changeset.html#set_argument/3"><code class="inline">Ash.Changeset.set_argument/3</code></a></li><li>Set changeset context</li><li>Do any other pre-processing on the changeset</li></ul></li><li><code class="inline">:prepare_params</code> - A 2-argument function that receives the params map and the :validate atom and should return prepared params.
Called before the form is validated.</li><li><code class="inline">:transform_params</code> - A function for post-processing the form parameters before they are used for changeset validation/submission.
Use a 3-argument function to pattern match on the <a href="https://hexdocs.pm/ash_phoenix/2.3.17/AshPhoenix.Form.html"><code class="inline">AshPhoenix.Form</code></a> struct.</li><li><code class="inline">:method</code> (<a href="https://hexdocs.pm/elixir/String.html#t:t/0"><code class="inline">String.t/0</code></a>) - The http method to associate with the form. Defaults to <code class="inline">post</code> for creates, and <code class="inline">put</code> for everything else.</li><li><code class="inline">:exclude_fields_if_empty</code> - These fields will be ignored if they are empty strings.<br/>This list of fields supports dead view forms. When a form is submitted from dead view
empty fields are submitted as empty strings. This is problematic for fields that allow_nil
or those that have default values.</li><li><code class="inline">:tenant</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - The current tenant. Passed through to the underlying action.</li><li><code class="inline">:params</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - The initial parameters to use for the form. This is useful for setting up a form with default values. The default value is <code class="inline">%{}</code>.
Any <em>additional</em> options will be passed to the underlying call to build the source, i.e
<a href="https://hexdocs.pm/ash/3.7.6/Ash.ActionInput.html#for_action/4"><code class="inline">Ash.ActionInput.for_action/4</code></a>, or <code class="inline">Ash.Changeset.for_*</code>. This means you can set things
like the tenant/actor. These will be retained, and provided again when
<code class="inline">Form.submit/3</code> is called.</li></ul><h2 id="form_to_update_agency/2-nested-form-options" class="section-heading"><a href="#form_to_update_agency/2-nested-form-options" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Nested Form Options</span></h2><ul><li><code class="inline">:type</code> - The cardinality of the nested form - <code class="inline">:list</code> or <code class="inline">:single</code>. Valid values are :list, :single The default value is <code class="inline">:single</code>.</li><li><code class="inline">:sparse?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If the nested form is <code class="inline">sparse</code>, the form won't expect all inputs for all forms to be present.<br/>Has no effect if the type is <code class="inline">:single</code>.<br/>Normally, if you leave some forms out of a list of nested forms, they are removed from the parameters
passed to the action. For example, if you had a <code class="inline">post</code> with two comments <code class="inline">[%Comment{id: 1}, %Comment{id: 2}]</code>
and you passed down params like <code class="inline">comments[0][id]=1&amp;comments[1][text]=new_text</code>, we would remove the second comment
from the input parameters, resulting in the following being passed into the action: <code class="inline">%{&quot;comments&quot; =&gt; [%{&quot;id&quot; =&gt; 1, &quot;text&quot; =&gt; &quot;new&quot;}]}</code>.
By setting it to sparse, you have to explicitly use <code class="inline">remove_form</code> for that removal to happen. So in the same scenario above, the parameters
that would be sent would actually be <code class="inline">%{&quot;comments&quot; =&gt; [%{&quot;id&quot; =&gt; 1, &quot;text&quot; =&gt; &quot;new&quot;}, %{&quot;id&quot; =&gt; 2}]}</code>.<br/>One major difference with <code class="inline">sparse?</code> is that the form actually ignores the <em>index</em> provided, e.g <code class="inline">comments[0]...</code>, and instead uses the primary
key e.g <code class="inline">comments[0][id]</code> to match which form is being updated. This prevents you from having to find the index of the specific item you want to
update. Which could be very gnarly on deeply nested forms. If there is no primary key, or the primary key does not match anything, it is treated
as a new form.<br/>REMEMBER: You need to use <code class="inline">Phoenix.Components.inputs_for</code> to render the nested forms, or manually add hidden inputs using
<code class="inline">hidden_inputs_for</code> (or <code class="inline">HiddenInputs</code> if using Surface) for the id to be automatically placed into the form.</li><li><code class="inline">:forms</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">keyword/0</code></a>) - Forms nested inside the current nesting level in all cases.</li><li><code class="inline">:for_type</code> - What action types the form applies for. Leave blank for it to apply to all action types. Valid values are :read, :create, :update</li><li><code class="inline">:merge?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - When building parameters, this input will be merged with its parent input. This allows for combining multiple forms into a single input. The default value is <code class="inline">false</code>.</li><li><code class="inline">:for</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - When creating parameters for the action, the key that the forms should be gathered into. Defaults to the key used to configure the nested form. Ignored if <code class="inline">merge?</code> is <code class="inline">true</code>.</li><li><code class="inline">:resource</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - The resource of the nested forms. Unnecessary if you are providing the <code class="inline">data</code> key, and not adding additional forms to this path.</li><li><code class="inline">:create_action</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - The create action to use when building new forms. Only necessary if you want to use <code class="inline">add_form/3</code> with this path.</li><li><code class="inline">:update_action</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - The update action to use when building forms for data. Only necessary if you supply the <code class="inline">data</code> key.</li><li><code class="inline">:data</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - The current value or values that should have update forms built by default.<br/>You can also provide a single argument function that will return the data based on the
data of the parent form. This is important for multiple nesting levels of <code class="inline">:list</code> type
forms, because the data depends on which parent is being rendered.</li></ul>
  </section>
</section>
<section class="detail" id="form_to_update_case/2">

    <span id="form_to_update_case/1"></span>

  <div class="detail-header">
    <a href="#form_to_update_case/2" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">form_to_update_case(record, form_opts \\ [])</h1>


    </div>
  </div>

  <section class="docstring">

<p>Creates a form for the update action on EhsEnforcement.Enforcement.Case.</p><h2 id="form_to_update_case/2-options" class="section-heading"><a href="#form_to_update_case/2-options" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Options</span></h2><ul><li><code class="inline">:actor</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - The actor performing the action. Passed through to the underlying action.</li><li><code class="inline">:scope</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A value that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.Scope.html"><code class="inline">Ash.Scope</code></a> protocol, for passing around actor/tenant/context in a single value. See <a href="https://hexdocs.pm/ash/3.7.6/Ash.Scope.html"><code class="inline">Ash.Scope</code></a> for more.</li><li><code class="inline">:forms</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">keyword/0</code></a>) - Nested form configurations. See <code class="inline">for_create/3</code> &quot;Nested Form Options&quot; docs for more.</li><li><code class="inline">:warn_on_unhandled_errors?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Warns on any errors that don't match the form pattern of <code class="inline">{:field, &quot;message&quot;, [replacement: :vars]}</code> or implement the <a href="https://hexdocs.pm/ash_phoenix/2.3.17/AshPhoenix.FormData.Error.html"><code class="inline">AshPhoenix.FormData.Error</code></a> protocol. The default value is <code class="inline">true</code>.</li><li><code class="inline">:domain</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - The domain to use when calling the action.</li><li><code class="inline">:as</code> (<a href="https://hexdocs.pm/elixir/String.html#t:t/0"><code class="inline">String.t/0</code></a>) - The name of the form in the submitted params. You will need to pull the form params out using this key. The default value is <code class="inline">&quot;form&quot;</code>.</li><li><code class="inline">:id</code> (<a href="https://hexdocs.pm/elixir/String.html#t:t/0"><code class="inline">String.t/0</code></a>) - The html id of the form. Defaults to the value of <code class="inline">:as</code> if provided, otherwise &quot;form&quot;</li><li><code class="inline">:transform_errors</code> - Allows for manual manipulation and transformation of errors. You may prefer <code class="inline">post_process_errors</code> as a simpler API.<br/>If possible, try to implement <a href="https://hexdocs.pm/ash_phoenix/2.3.17/AshPhoenix.FormData.Error.html"><code class="inline">AshPhoenix.FormData.Error</code></a> for the error (if it as a custom one, for example).
If that isn't possible, you can provide this function which will get the changeset and the error, and should
return a list of ash phoenix formatted errors, e.g <code class="inline">[{field :: atom, message :: String.t(), substituations :: Keyword.t()}]</code><br/>Example:<pre><code class="makeup elixir" translate="no"><span class="nc">AshPhoenix.Form</span><span class="o">.</span><span class="n">for_create</span><span class="p" data-group-id="3879347212-1">(</span><span class="n">...</span><span class="p">,</span><span class="w"> </span><span class="ss">transform_errors</span><span class="p">:</span><span class="w"> </span><span class="k" data-group-id="3879347212-2">fn</span><span class="w">
  </span><span class="c">_changeset</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="3879347212-3">%{</span><span class="ss">field</span><span class="p">:</span><span class="w"> </span><span class="ss">:field1</span><span class="p" data-group-id="3879347212-3">}</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">error</span><span class="w"> </span><span class="o">-&gt;</span><span class="w">
    </span><span class="p" data-group-id="3879347212-4">%{</span><span class="n">error</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="ss">field</span><span class="p">:</span><span class="w"> </span><span class="ss">:field2</span><span class="p" data-group-id="3879347212-4">}</span><span class="w">  
  </span><span class="c">_changeset</span><span class="p">,</span><span class="w"> </span><span class="n">error</span><span class="w"> </span><span class="o">-&gt;</span><span class="w">
    </span><span class="n">error</span><span class="w">
</span><span class="k" data-group-id="3879347212-2">end</span></code></pre></li><li><code class="inline">:post_process_errors</code> - Allows for post-processing of errors after they have been converted to the standard triple format.<br/>This function receives the form, the path to the form, and an error triple <code class="inline">{field, message, vars}</code>.
It should return either a modified triple or <code class="inline">nil</code> to filter out the error.<br/>This is useful for:<ul><li>Filtering out certain errors based on custom criteria</li><li>Remapping field names from one field to another</li><li>Modifying error messages or variables<br/>Example:<pre><code class="makeup elixir" translate="no"><span class="nc">AshPhoenix.Form</span><span class="o">.</span><span class="n">for_create</span><span class="p" data-group-id="8353430095-1">(</span><span class="n">...</span><span class="p">,</span><span class="w"> </span><span class="ss">post_process_errors</span><span class="p">:</span><span class="w"> </span><span class="k" data-group-id="8353430095-2">fn</span><span class="w"> </span><span class="n">form</span><span class="p">,</span><span class="w"> </span><span class="c">_path</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="8353430095-3">{</span><span class="n">field</span><span class="p">,</span><span class="w"> </span><span class="n">message</span><span class="p">,</span><span class="w"> </span><span class="n">vars</span><span class="p" data-group-id="8353430095-3">}</span><span class="w"> </span><span class="o">-&gt;</span><span class="w">
</span><span class="k">case</span><span class="w"> </span><span class="n">field</span><span class="w"> </span><span class="k" data-group-id="8353430095-4">do</span><span class="w">
  </span><span class="ss">:status</span><span class="w"> </span><span class="o">-&gt;</span><span class="w">
    </span><span class="c1"># hide these errors</span><span class="w">
    </span><span class="no">nil</span><span class="w">  
  </span><span class="n">field</span><span class="w"> </span><span class="ow">when</span><span class="w"> </span><span class="n">field</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="p" data-group-id="8353430095-5">[</span><span class="ss">:currency</span><span class="p">,</span><span class="w"> </span><span class="ss">:amount</span><span class="p" data-group-id="8353430095-5">]</span><span class="w"> </span><span class="o">-&gt;</span><span class="w">
    </span><span class="c1"># remap the field, and replace the error message</span><span class="w">
    </span><span class="p" data-group-id="8353430095-6">{</span><span class="ss">:money</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;please enter a real money amount&quot;</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="8353430095-7">[</span><span class="p" data-group-id="8353430095-7">]</span><span class="p" data-group-id="8353430095-6">}</span><span class="w">  
  </span><span class="n">field</span><span class="w"> </span><span class="o">-&gt;</span><span class="w">
    </span><span class="c1"># leave the others unchanged</span><span class="w">
    </span><span class="p" data-group-id="8353430095-8">{</span><span class="n">field</span><span class="p">,</span><span class="w"> </span><span class="n">message</span><span class="p">,</span><span class="w"> </span><span class="n">vars</span><span class="p" data-group-id="8353430095-8">}</span><span class="w">
</span><span class="k" data-group-id="8353430095-4">end</span><span class="w">
</span><span class="k" data-group-id="8353430095-2">end</span><span class="p" data-group-id="8353430095-1">)</span></code></pre></li></ul></li><li><code class="inline">:prepare_source</code> - A 1-argument function the receives the initial changeset (or query) and makes any relevant changes to it.
This can be used to do things like:  <ul><li>Set default argument values before the validations are run using <a href="https://hexdocs.pm/ash/3.7.6/Ash.Changeset.html#set_arguments/2"><code class="inline">Ash.Changeset.set_arguments/2</code></a> or <a href="https://hexdocs.pm/ash/3.7.6/Ash.Changeset.html#set_argument/3"><code class="inline">Ash.Changeset.set_argument/3</code></a></li><li>Set changeset context</li><li>Do any other pre-processing on the changeset</li></ul></li><li><code class="inline">:prepare_params</code> - A 2-argument function that receives the params map and the :validate atom and should return prepared params.
Called before the form is validated.</li><li><code class="inline">:transform_params</code> - A function for post-processing the form parameters before they are used for changeset validation/submission.
Use a 3-argument function to pattern match on the <a href="https://hexdocs.pm/ash_phoenix/2.3.17/AshPhoenix.Form.html"><code class="inline">AshPhoenix.Form</code></a> struct.</li><li><code class="inline">:method</code> (<a href="https://hexdocs.pm/elixir/String.html#t:t/0"><code class="inline">String.t/0</code></a>) - The http method to associate with the form. Defaults to <code class="inline">post</code> for creates, and <code class="inline">put</code> for everything else.</li><li><code class="inline">:exclude_fields_if_empty</code> - These fields will be ignored if they are empty strings.<br/>This list of fields supports dead view forms. When a form is submitted from dead view
empty fields are submitted as empty strings. This is problematic for fields that allow_nil
or those that have default values.</li><li><code class="inline">:tenant</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - The current tenant. Passed through to the underlying action.</li><li><code class="inline">:params</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - The initial parameters to use for the form. This is useful for setting up a form with default values. The default value is <code class="inline">%{}</code>.
Any <em>additional</em> options will be passed to the underlying call to build the source, i.e
<a href="https://hexdocs.pm/ash/3.7.6/Ash.ActionInput.html#for_action/4"><code class="inline">Ash.ActionInput.for_action/4</code></a>, or <code class="inline">Ash.Changeset.for_*</code>. This means you can set things
like the tenant/actor. These will be retained, and provided again when
<code class="inline">Form.submit/3</code> is called.</li></ul><h2 id="form_to_update_case/2-nested-form-options" class="section-heading"><a href="#form_to_update_case/2-nested-form-options" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Nested Form Options</span></h2><ul><li><code class="inline">:type</code> - The cardinality of the nested form - <code class="inline">:list</code> or <code class="inline">:single</code>. Valid values are :list, :single The default value is <code class="inline">:single</code>.</li><li><code class="inline">:sparse?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If the nested form is <code class="inline">sparse</code>, the form won't expect all inputs for all forms to be present.<br/>Has no effect if the type is <code class="inline">:single</code>.<br/>Normally, if you leave some forms out of a list of nested forms, they are removed from the parameters
passed to the action. For example, if you had a <code class="inline">post</code> with two comments <code class="inline">[%Comment{id: 1}, %Comment{id: 2}]</code>
and you passed down params like <code class="inline">comments[0][id]=1&amp;comments[1][text]=new_text</code>, we would remove the second comment
from the input parameters, resulting in the following being passed into the action: <code class="inline">%{&quot;comments&quot; =&gt; [%{&quot;id&quot; =&gt; 1, &quot;text&quot; =&gt; &quot;new&quot;}]}</code>.
By setting it to sparse, you have to explicitly use <code class="inline">remove_form</code> for that removal to happen. So in the same scenario above, the parameters
that would be sent would actually be <code class="inline">%{&quot;comments&quot; =&gt; [%{&quot;id&quot; =&gt; 1, &quot;text&quot; =&gt; &quot;new&quot;}, %{&quot;id&quot; =&gt; 2}]}</code>.<br/>One major difference with <code class="inline">sparse?</code> is that the form actually ignores the <em>index</em> provided, e.g <code class="inline">comments[0]...</code>, and instead uses the primary
key e.g <code class="inline">comments[0][id]</code> to match which form is being updated. This prevents you from having to find the index of the specific item you want to
update. Which could be very gnarly on deeply nested forms. If there is no primary key, or the primary key does not match anything, it is treated
as a new form.<br/>REMEMBER: You need to use <code class="inline">Phoenix.Components.inputs_for</code> to render the nested forms, or manually add hidden inputs using
<code class="inline">hidden_inputs_for</code> (or <code class="inline">HiddenInputs</code> if using Surface) for the id to be automatically placed into the form.</li><li><code class="inline">:forms</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">keyword/0</code></a>) - Forms nested inside the current nesting level in all cases.</li><li><code class="inline">:for_type</code> - What action types the form applies for. Leave blank for it to apply to all action types. Valid values are :read, :create, :update</li><li><code class="inline">:merge?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - When building parameters, this input will be merged with its parent input. This allows for combining multiple forms into a single input. The default value is <code class="inline">false</code>.</li><li><code class="inline">:for</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - When creating parameters for the action, the key that the forms should be gathered into. Defaults to the key used to configure the nested form. Ignored if <code class="inline">merge?</code> is <code class="inline">true</code>.</li><li><code class="inline">:resource</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - The resource of the nested forms. Unnecessary if you are providing the <code class="inline">data</code> key, and not adding additional forms to this path.</li><li><code class="inline">:create_action</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - The create action to use when building new forms. Only necessary if you want to use <code class="inline">add_form/3</code> with this path.</li><li><code class="inline">:update_action</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - The update action to use when building forms for data. Only necessary if you supply the <code class="inline">data</code> key.</li><li><code class="inline">:data</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - The current value or values that should have update forms built by default.<br/>You can also provide a single argument function that will return the data based on the
data of the parent form. This is important for multiple nesting levels of <code class="inline">:list</code> type
forms, because the data depends on which parent is being rendered.</li></ul>
  </section>
</section>
<section class="detail" id="form_to_update_case_from_scraping/2">

    <span id="form_to_update_case_from_scraping/1"></span>

  <div class="detail-header">
    <a href="#form_to_update_case_from_scraping/2" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">form_to_update_case_from_scraping(record, form_opts \\ [])</h1>


    </div>
  </div>

  <section class="docstring">

<p>Creates a form for the update_from_scraping action on EhsEnforcement.Enforcement.Case.</p><h2 id="form_to_update_case_from_scraping/2-options" class="section-heading"><a href="#form_to_update_case_from_scraping/2-options" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Options</span></h2><ul><li><code class="inline">:actor</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - The actor performing the action. Passed through to the underlying action.</li><li><code class="inline">:scope</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A value that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.Scope.html"><code class="inline">Ash.Scope</code></a> protocol, for passing around actor/tenant/context in a single value. See <a href="https://hexdocs.pm/ash/3.7.6/Ash.Scope.html"><code class="inline">Ash.Scope</code></a> for more.</li><li><code class="inline">:forms</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">keyword/0</code></a>) - Nested form configurations. See <code class="inline">for_create/3</code> &quot;Nested Form Options&quot; docs for more.</li><li><code class="inline">:warn_on_unhandled_errors?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Warns on any errors that don't match the form pattern of <code class="inline">{:field, &quot;message&quot;, [replacement: :vars]}</code> or implement the <a href="https://hexdocs.pm/ash_phoenix/2.3.17/AshPhoenix.FormData.Error.html"><code class="inline">AshPhoenix.FormData.Error</code></a> protocol. The default value is <code class="inline">true</code>.</li><li><code class="inline">:domain</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - The domain to use when calling the action.</li><li><code class="inline">:as</code> (<a href="https://hexdocs.pm/elixir/String.html#t:t/0"><code class="inline">String.t/0</code></a>) - The name of the form in the submitted params. You will need to pull the form params out using this key. The default value is <code class="inline">&quot;form&quot;</code>.</li><li><code class="inline">:id</code> (<a href="https://hexdocs.pm/elixir/String.html#t:t/0"><code class="inline">String.t/0</code></a>) - The html id of the form. Defaults to the value of <code class="inline">:as</code> if provided, otherwise &quot;form&quot;</li><li><code class="inline">:transform_errors</code> - Allows for manual manipulation and transformation of errors. You may prefer <code class="inline">post_process_errors</code> as a simpler API.<br/>If possible, try to implement <a href="https://hexdocs.pm/ash_phoenix/2.3.17/AshPhoenix.FormData.Error.html"><code class="inline">AshPhoenix.FormData.Error</code></a> for the error (if it as a custom one, for example).
If that isn't possible, you can provide this function which will get the changeset and the error, and should
return a list of ash phoenix formatted errors, e.g <code class="inline">[{field :: atom, message :: String.t(), substituations :: Keyword.t()}]</code><br/>Example:<pre><code class="makeup elixir" translate="no"><span class="nc">AshPhoenix.Form</span><span class="o">.</span><span class="n">for_create</span><span class="p" data-group-id="4385467942-1">(</span><span class="n">...</span><span class="p">,</span><span class="w"> </span><span class="ss">transform_errors</span><span class="p">:</span><span class="w"> </span><span class="k" data-group-id="4385467942-2">fn</span><span class="w">
  </span><span class="c">_changeset</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="4385467942-3">%{</span><span class="ss">field</span><span class="p">:</span><span class="w"> </span><span class="ss">:field1</span><span class="p" data-group-id="4385467942-3">}</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">error</span><span class="w"> </span><span class="o">-&gt;</span><span class="w">
    </span><span class="p" data-group-id="4385467942-4">%{</span><span class="n">error</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="ss">field</span><span class="p">:</span><span class="w"> </span><span class="ss">:field2</span><span class="p" data-group-id="4385467942-4">}</span><span class="w">  
  </span><span class="c">_changeset</span><span class="p">,</span><span class="w"> </span><span class="n">error</span><span class="w"> </span><span class="o">-&gt;</span><span class="w">
    </span><span class="n">error</span><span class="w">
</span><span class="k" data-group-id="4385467942-2">end</span></code></pre></li><li><code class="inline">:post_process_errors</code> - Allows for post-processing of errors after they have been converted to the standard triple format.<br/>This function receives the form, the path to the form, and an error triple <code class="inline">{field, message, vars}</code>.
It should return either a modified triple or <code class="inline">nil</code> to filter out the error.<br/>This is useful for:<ul><li>Filtering out certain errors based on custom criteria</li><li>Remapping field names from one field to another</li><li>Modifying error messages or variables<br/>Example:<pre><code class="makeup elixir" translate="no"><span class="nc">AshPhoenix.Form</span><span class="o">.</span><span class="n">for_create</span><span class="p" data-group-id="9607448449-1">(</span><span class="n">...</span><span class="p">,</span><span class="w"> </span><span class="ss">post_process_errors</span><span class="p">:</span><span class="w"> </span><span class="k" data-group-id="9607448449-2">fn</span><span class="w"> </span><span class="n">form</span><span class="p">,</span><span class="w"> </span><span class="c">_path</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="9607448449-3">{</span><span class="n">field</span><span class="p">,</span><span class="w"> </span><span class="n">message</span><span class="p">,</span><span class="w"> </span><span class="n">vars</span><span class="p" data-group-id="9607448449-3">}</span><span class="w"> </span><span class="o">-&gt;</span><span class="w">
</span><span class="k">case</span><span class="w"> </span><span class="n">field</span><span class="w"> </span><span class="k" data-group-id="9607448449-4">do</span><span class="w">
  </span><span class="ss">:status</span><span class="w"> </span><span class="o">-&gt;</span><span class="w">
    </span><span class="c1"># hide these errors</span><span class="w">
    </span><span class="no">nil</span><span class="w">  
  </span><span class="n">field</span><span class="w"> </span><span class="ow">when</span><span class="w"> </span><span class="n">field</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="p" data-group-id="9607448449-5">[</span><span class="ss">:currency</span><span class="p">,</span><span class="w"> </span><span class="ss">:amount</span><span class="p" data-group-id="9607448449-5">]</span><span class="w"> </span><span class="o">-&gt;</span><span class="w">
    </span><span class="c1"># remap the field, and replace the error message</span><span class="w">
    </span><span class="p" data-group-id="9607448449-6">{</span><span class="ss">:money</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;please enter a real money amount&quot;</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="9607448449-7">[</span><span class="p" data-group-id="9607448449-7">]</span><span class="p" data-group-id="9607448449-6">}</span><span class="w">  
  </span><span class="n">field</span><span class="w"> </span><span class="o">-&gt;</span><span class="w">
    </span><span class="c1"># leave the others unchanged</span><span class="w">
    </span><span class="p" data-group-id="9607448449-8">{</span><span class="n">field</span><span class="p">,</span><span class="w"> </span><span class="n">message</span><span class="p">,</span><span class="w"> </span><span class="n">vars</span><span class="p" data-group-id="9607448449-8">}</span><span class="w">
</span><span class="k" data-group-id="9607448449-4">end</span><span class="w">
</span><span class="k" data-group-id="9607448449-2">end</span><span class="p" data-group-id="9607448449-1">)</span></code></pre></li></ul></li><li><code class="inline">:prepare_source</code> - A 1-argument function the receives the initial changeset (or query) and makes any relevant changes to it.
This can be used to do things like:  <ul><li>Set default argument values before the validations are run using <a href="https://hexdocs.pm/ash/3.7.6/Ash.Changeset.html#set_arguments/2"><code class="inline">Ash.Changeset.set_arguments/2</code></a> or <a href="https://hexdocs.pm/ash/3.7.6/Ash.Changeset.html#set_argument/3"><code class="inline">Ash.Changeset.set_argument/3</code></a></li><li>Set changeset context</li><li>Do any other pre-processing on the changeset</li></ul></li><li><code class="inline">:prepare_params</code> - A 2-argument function that receives the params map and the :validate atom and should return prepared params.
Called before the form is validated.</li><li><code class="inline">:transform_params</code> - A function for post-processing the form parameters before they are used for changeset validation/submission.
Use a 3-argument function to pattern match on the <a href="https://hexdocs.pm/ash_phoenix/2.3.17/AshPhoenix.Form.html"><code class="inline">AshPhoenix.Form</code></a> struct.</li><li><code class="inline">:method</code> (<a href="https://hexdocs.pm/elixir/String.html#t:t/0"><code class="inline">String.t/0</code></a>) - The http method to associate with the form. Defaults to <code class="inline">post</code> for creates, and <code class="inline">put</code> for everything else.</li><li><code class="inline">:exclude_fields_if_empty</code> - These fields will be ignored if they are empty strings.<br/>This list of fields supports dead view forms. When a form is submitted from dead view
empty fields are submitted as empty strings. This is problematic for fields that allow_nil
or those that have default values.</li><li><code class="inline">:tenant</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - The current tenant. Passed through to the underlying action.</li><li><code class="inline">:params</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - The initial parameters to use for the form. This is useful for setting up a form with default values. The default value is <code class="inline">%{}</code>.
Any <em>additional</em> options will be passed to the underlying call to build the source, i.e
<a href="https://hexdocs.pm/ash/3.7.6/Ash.ActionInput.html#for_action/4"><code class="inline">Ash.ActionInput.for_action/4</code></a>, or <code class="inline">Ash.Changeset.for_*</code>. This means you can set things
like the tenant/actor. These will be retained, and provided again when
<code class="inline">Form.submit/3</code> is called.</li></ul><h2 id="form_to_update_case_from_scraping/2-nested-form-options" class="section-heading"><a href="#form_to_update_case_from_scraping/2-nested-form-options" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Nested Form Options</span></h2><ul><li><code class="inline">:type</code> - The cardinality of the nested form - <code class="inline">:list</code> or <code class="inline">:single</code>. Valid values are :list, :single The default value is <code class="inline">:single</code>.</li><li><code class="inline">:sparse?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If the nested form is <code class="inline">sparse</code>, the form won't expect all inputs for all forms to be present.<br/>Has no effect if the type is <code class="inline">:single</code>.<br/>Normally, if you leave some forms out of a list of nested forms, they are removed from the parameters
passed to the action. For example, if you had a <code class="inline">post</code> with two comments <code class="inline">[%Comment{id: 1}, %Comment{id: 2}]</code>
and you passed down params like <code class="inline">comments[0][id]=1&amp;comments[1][text]=new_text</code>, we would remove the second comment
from the input parameters, resulting in the following being passed into the action: <code class="inline">%{&quot;comments&quot; =&gt; [%{&quot;id&quot; =&gt; 1, &quot;text&quot; =&gt; &quot;new&quot;}]}</code>.
By setting it to sparse, you have to explicitly use <code class="inline">remove_form</code> for that removal to happen. So in the same scenario above, the parameters
that would be sent would actually be <code class="inline">%{&quot;comments&quot; =&gt; [%{&quot;id&quot; =&gt; 1, &quot;text&quot; =&gt; &quot;new&quot;}, %{&quot;id&quot; =&gt; 2}]}</code>.<br/>One major difference with <code class="inline">sparse?</code> is that the form actually ignores the <em>index</em> provided, e.g <code class="inline">comments[0]...</code>, and instead uses the primary
key e.g <code class="inline">comments[0][id]</code> to match which form is being updated. This prevents you from having to find the index of the specific item you want to
update. Which could be very gnarly on deeply nested forms. If there is no primary key, or the primary key does not match anything, it is treated
as a new form.<br/>REMEMBER: You need to use <code class="inline">Phoenix.Components.inputs_for</code> to render the nested forms, or manually add hidden inputs using
<code class="inline">hidden_inputs_for</code> (or <code class="inline">HiddenInputs</code> if using Surface) for the id to be automatically placed into the form.</li><li><code class="inline">:forms</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">keyword/0</code></a>) - Forms nested inside the current nesting level in all cases.</li><li><code class="inline">:for_type</code> - What action types the form applies for. Leave blank for it to apply to all action types. Valid values are :read, :create, :update</li><li><code class="inline">:merge?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - When building parameters, this input will be merged with its parent input. This allows for combining multiple forms into a single input. The default value is <code class="inline">false</code>.</li><li><code class="inline">:for</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - When creating parameters for the action, the key that the forms should be gathered into. Defaults to the key used to configure the nested form. Ignored if <code class="inline">merge?</code> is <code class="inline">true</code>.</li><li><code class="inline">:resource</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - The resource of the nested forms. Unnecessary if you are providing the <code class="inline">data</code> key, and not adding additional forms to this path.</li><li><code class="inline">:create_action</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - The create action to use when building new forms. Only necessary if you want to use <code class="inline">add_form/3</code> with this path.</li><li><code class="inline">:update_action</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - The update action to use when building forms for data. Only necessary if you supply the <code class="inline">data</code> key.</li><li><code class="inline">:data</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - The current value or values that should have update forms built by default.<br/>You can also provide a single argument function that will return the data based on the
data of the parent form. This is important for multiple nesting levels of <code class="inline">:list</code> type
forms, because the data depends on which parent is being rendered.</li></ul>
  </section>
</section>
<section class="detail" id="form_to_update_legislation/2">

    <span id="form_to_update_legislation/1"></span>

  <div class="detail-header">
    <a href="#form_to_update_legislation/2" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">form_to_update_legislation(record, form_opts \\ [])</h1>


    </div>
  </div>

  <section class="docstring">

<p>Creates a form for the update action on EhsEnforcement.Enforcement.Legislation.</p><h2 id="form_to_update_legislation/2-options" class="section-heading"><a href="#form_to_update_legislation/2-options" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Options</span></h2><ul><li><code class="inline">:actor</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - The actor performing the action. Passed through to the underlying action.</li><li><code class="inline">:scope</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A value that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.Scope.html"><code class="inline">Ash.Scope</code></a> protocol, for passing around actor/tenant/context in a single value. See <a href="https://hexdocs.pm/ash/3.7.6/Ash.Scope.html"><code class="inline">Ash.Scope</code></a> for more.</li><li><code class="inline">:forms</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">keyword/0</code></a>) - Nested form configurations. See <code class="inline">for_create/3</code> &quot;Nested Form Options&quot; docs for more.</li><li><code class="inline">:warn_on_unhandled_errors?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Warns on any errors that don't match the form pattern of <code class="inline">{:field, &quot;message&quot;, [replacement: :vars]}</code> or implement the <a href="https://hexdocs.pm/ash_phoenix/2.3.17/AshPhoenix.FormData.Error.html"><code class="inline">AshPhoenix.FormData.Error</code></a> protocol. The default value is <code class="inline">true</code>.</li><li><code class="inline">:domain</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - The domain to use when calling the action.</li><li><code class="inline">:as</code> (<a href="https://hexdocs.pm/elixir/String.html#t:t/0"><code class="inline">String.t/0</code></a>) - The name of the form in the submitted params. You will need to pull the form params out using this key. The default value is <code class="inline">&quot;form&quot;</code>.</li><li><code class="inline">:id</code> (<a href="https://hexdocs.pm/elixir/String.html#t:t/0"><code class="inline">String.t/0</code></a>) - The html id of the form. Defaults to the value of <code class="inline">:as</code> if provided, otherwise &quot;form&quot;</li><li><code class="inline">:transform_errors</code> - Allows for manual manipulation and transformation of errors. You may prefer <code class="inline">post_process_errors</code> as a simpler API.<br/>If possible, try to implement <a href="https://hexdocs.pm/ash_phoenix/2.3.17/AshPhoenix.FormData.Error.html"><code class="inline">AshPhoenix.FormData.Error</code></a> for the error (if it as a custom one, for example).
If that isn't possible, you can provide this function which will get the changeset and the error, and should
return a list of ash phoenix formatted errors, e.g <code class="inline">[{field :: atom, message :: String.t(), substituations :: Keyword.t()}]</code><br/>Example:<pre><code class="makeup elixir" translate="no"><span class="nc">AshPhoenix.Form</span><span class="o">.</span><span class="n">for_create</span><span class="p" data-group-id="9503713357-1">(</span><span class="n">...</span><span class="p">,</span><span class="w"> </span><span class="ss">transform_errors</span><span class="p">:</span><span class="w"> </span><span class="k" data-group-id="9503713357-2">fn</span><span class="w">
  </span><span class="c">_changeset</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="9503713357-3">%{</span><span class="ss">field</span><span class="p">:</span><span class="w"> </span><span class="ss">:field1</span><span class="p" data-group-id="9503713357-3">}</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">error</span><span class="w"> </span><span class="o">-&gt;</span><span class="w">
    </span><span class="p" data-group-id="9503713357-4">%{</span><span class="n">error</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="ss">field</span><span class="p">:</span><span class="w"> </span><span class="ss">:field2</span><span class="p" data-group-id="9503713357-4">}</span><span class="w">  
  </span><span class="c">_changeset</span><span class="p">,</span><span class="w"> </span><span class="n">error</span><span class="w"> </span><span class="o">-&gt;</span><span class="w">
    </span><span class="n">error</span><span class="w">
</span><span class="k" data-group-id="9503713357-2">end</span></code></pre></li><li><code class="inline">:post_process_errors</code> - Allows for post-processing of errors after they have been converted to the standard triple format.<br/>This function receives the form, the path to the form, and an error triple <code class="inline">{field, message, vars}</code>.
It should return either a modified triple or <code class="inline">nil</code> to filter out the error.<br/>This is useful for:<ul><li>Filtering out certain errors based on custom criteria</li><li>Remapping field names from one field to another</li><li>Modifying error messages or variables<br/>Example:<pre><code class="makeup elixir" translate="no"><span class="nc">AshPhoenix.Form</span><span class="o">.</span><span class="n">for_create</span><span class="p" data-group-id="8858773306-1">(</span><span class="n">...</span><span class="p">,</span><span class="w"> </span><span class="ss">post_process_errors</span><span class="p">:</span><span class="w"> </span><span class="k" data-group-id="8858773306-2">fn</span><span class="w"> </span><span class="n">form</span><span class="p">,</span><span class="w"> </span><span class="c">_path</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="8858773306-3">{</span><span class="n">field</span><span class="p">,</span><span class="w"> </span><span class="n">message</span><span class="p">,</span><span class="w"> </span><span class="n">vars</span><span class="p" data-group-id="8858773306-3">}</span><span class="w"> </span><span class="o">-&gt;</span><span class="w">
</span><span class="k">case</span><span class="w"> </span><span class="n">field</span><span class="w"> </span><span class="k" data-group-id="8858773306-4">do</span><span class="w">
  </span><span class="ss">:status</span><span class="w"> </span><span class="o">-&gt;</span><span class="w">
    </span><span class="c1"># hide these errors</span><span class="w">
    </span><span class="no">nil</span><span class="w">  
  </span><span class="n">field</span><span class="w"> </span><span class="ow">when</span><span class="w"> </span><span class="n">field</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="p" data-group-id="8858773306-5">[</span><span class="ss">:currency</span><span class="p">,</span><span class="w"> </span><span class="ss">:amount</span><span class="p" data-group-id="8858773306-5">]</span><span class="w"> </span><span class="o">-&gt;</span><span class="w">
    </span><span class="c1"># remap the field, and replace the error message</span><span class="w">
    </span><span class="p" data-group-id="8858773306-6">{</span><span class="ss">:money</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;please enter a real money amount&quot;</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="8858773306-7">[</span><span class="p" data-group-id="8858773306-7">]</span><span class="p" data-group-id="8858773306-6">}</span><span class="w">  
  </span><span class="n">field</span><span class="w"> </span><span class="o">-&gt;</span><span class="w">
    </span><span class="c1"># leave the others unchanged</span><span class="w">
    </span><span class="p" data-group-id="8858773306-8">{</span><span class="n">field</span><span class="p">,</span><span class="w"> </span><span class="n">message</span><span class="p">,</span><span class="w"> </span><span class="n">vars</span><span class="p" data-group-id="8858773306-8">}</span><span class="w">
</span><span class="k" data-group-id="8858773306-4">end</span><span class="w">
</span><span class="k" data-group-id="8858773306-2">end</span><span class="p" data-group-id="8858773306-1">)</span></code></pre></li></ul></li><li><code class="inline">:prepare_source</code> - A 1-argument function the receives the initial changeset (or query) and makes any relevant changes to it.
This can be used to do things like:  <ul><li>Set default argument values before the validations are run using <a href="https://hexdocs.pm/ash/3.7.6/Ash.Changeset.html#set_arguments/2"><code class="inline">Ash.Changeset.set_arguments/2</code></a> or <a href="https://hexdocs.pm/ash/3.7.6/Ash.Changeset.html#set_argument/3"><code class="inline">Ash.Changeset.set_argument/3</code></a></li><li>Set changeset context</li><li>Do any other pre-processing on the changeset</li></ul></li><li><code class="inline">:prepare_params</code> - A 2-argument function that receives the params map and the :validate atom and should return prepared params.
Called before the form is validated.</li><li><code class="inline">:transform_params</code> - A function for post-processing the form parameters before they are used for changeset validation/submission.
Use a 3-argument function to pattern match on the <a href="https://hexdocs.pm/ash_phoenix/2.3.17/AshPhoenix.Form.html"><code class="inline">AshPhoenix.Form</code></a> struct.</li><li><code class="inline">:method</code> (<a href="https://hexdocs.pm/elixir/String.html#t:t/0"><code class="inline">String.t/0</code></a>) - The http method to associate with the form. Defaults to <code class="inline">post</code> for creates, and <code class="inline">put</code> for everything else.</li><li><code class="inline">:exclude_fields_if_empty</code> - These fields will be ignored if they are empty strings.<br/>This list of fields supports dead view forms. When a form is submitted from dead view
empty fields are submitted as empty strings. This is problematic for fields that allow_nil
or those that have default values.</li><li><code class="inline">:tenant</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - The current tenant. Passed through to the underlying action.</li><li><code class="inline">:params</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - The initial parameters to use for the form. This is useful for setting up a form with default values. The default value is <code class="inline">%{}</code>.
Any <em>additional</em> options will be passed to the underlying call to build the source, i.e
<a href="https://hexdocs.pm/ash/3.7.6/Ash.ActionInput.html#for_action/4"><code class="inline">Ash.ActionInput.for_action/4</code></a>, or <code class="inline">Ash.Changeset.for_*</code>. This means you can set things
like the tenant/actor. These will be retained, and provided again when
<code class="inline">Form.submit/3</code> is called.</li></ul><h2 id="form_to_update_legislation/2-nested-form-options" class="section-heading"><a href="#form_to_update_legislation/2-nested-form-options" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Nested Form Options</span></h2><ul><li><code class="inline">:type</code> - The cardinality of the nested form - <code class="inline">:list</code> or <code class="inline">:single</code>. Valid values are :list, :single The default value is <code class="inline">:single</code>.</li><li><code class="inline">:sparse?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If the nested form is <code class="inline">sparse</code>, the form won't expect all inputs for all forms to be present.<br/>Has no effect if the type is <code class="inline">:single</code>.<br/>Normally, if you leave some forms out of a list of nested forms, they are removed from the parameters
passed to the action. For example, if you had a <code class="inline">post</code> with two comments <code class="inline">[%Comment{id: 1}, %Comment{id: 2}]</code>
and you passed down params like <code class="inline">comments[0][id]=1&amp;comments[1][text]=new_text</code>, we would remove the second comment
from the input parameters, resulting in the following being passed into the action: <code class="inline">%{&quot;comments&quot; =&gt; [%{&quot;id&quot; =&gt; 1, &quot;text&quot; =&gt; &quot;new&quot;}]}</code>.
By setting it to sparse, you have to explicitly use <code class="inline">remove_form</code> for that removal to happen. So in the same scenario above, the parameters
that would be sent would actually be <code class="inline">%{&quot;comments&quot; =&gt; [%{&quot;id&quot; =&gt; 1, &quot;text&quot; =&gt; &quot;new&quot;}, %{&quot;id&quot; =&gt; 2}]}</code>.<br/>One major difference with <code class="inline">sparse?</code> is that the form actually ignores the <em>index</em> provided, e.g <code class="inline">comments[0]...</code>, and instead uses the primary
key e.g <code class="inline">comments[0][id]</code> to match which form is being updated. This prevents you from having to find the index of the specific item you want to
update. Which could be very gnarly on deeply nested forms. If there is no primary key, or the primary key does not match anything, it is treated
as a new form.<br/>REMEMBER: You need to use <code class="inline">Phoenix.Components.inputs_for</code> to render the nested forms, or manually add hidden inputs using
<code class="inline">hidden_inputs_for</code> (or <code class="inline">HiddenInputs</code> if using Surface) for the id to be automatically placed into the form.</li><li><code class="inline">:forms</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">keyword/0</code></a>) - Forms nested inside the current nesting level in all cases.</li><li><code class="inline">:for_type</code> - What action types the form applies for. Leave blank for it to apply to all action types. Valid values are :read, :create, :update</li><li><code class="inline">:merge?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - When building parameters, this input will be merged with its parent input. This allows for combining multiple forms into a single input. The default value is <code class="inline">false</code>.</li><li><code class="inline">:for</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - When creating parameters for the action, the key that the forms should be gathered into. Defaults to the key used to configure the nested form. Ignored if <code class="inline">merge?</code> is <code class="inline">true</code>.</li><li><code class="inline">:resource</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - The resource of the nested forms. Unnecessary if you are providing the <code class="inline">data</code> key, and not adding additional forms to this path.</li><li><code class="inline">:create_action</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - The create action to use when building new forms. Only necessary if you want to use <code class="inline">add_form/3</code> with this path.</li><li><code class="inline">:update_action</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - The update action to use when building forms for data. Only necessary if you supply the <code class="inline">data</code> key.</li><li><code class="inline">:data</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - The current value or values that should have update forms built by default.<br/>You can also provide a single argument function that will return the data based on the
data of the parent form. This is important for multiple nesting levels of <code class="inline">:list</code> type
forms, because the data depends on which parent is being rendered.</li></ul>
  </section>
</section>
<section class="detail" id="form_to_update_notice/2">

    <span id="form_to_update_notice/1"></span>

  <div class="detail-header">
    <a href="#form_to_update_notice/2" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">form_to_update_notice(record, form_opts \\ [])</h1>


    </div>
  </div>

  <section class="docstring">

<p>Creates a form for the update action on EhsEnforcement.Enforcement.Notice.</p><h2 id="form_to_update_notice/2-options" class="section-heading"><a href="#form_to_update_notice/2-options" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Options</span></h2><ul><li><code class="inline">:actor</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - The actor performing the action. Passed through to the underlying action.</li><li><code class="inline">:scope</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A value that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.Scope.html"><code class="inline">Ash.Scope</code></a> protocol, for passing around actor/tenant/context in a single value. See <a href="https://hexdocs.pm/ash/3.7.6/Ash.Scope.html"><code class="inline">Ash.Scope</code></a> for more.</li><li><code class="inline">:forms</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">keyword/0</code></a>) - Nested form configurations. See <code class="inline">for_create/3</code> &quot;Nested Form Options&quot; docs for more.</li><li><code class="inline">:warn_on_unhandled_errors?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Warns on any errors that don't match the form pattern of <code class="inline">{:field, &quot;message&quot;, [replacement: :vars]}</code> or implement the <a href="https://hexdocs.pm/ash_phoenix/2.3.17/AshPhoenix.FormData.Error.html"><code class="inline">AshPhoenix.FormData.Error</code></a> protocol. The default value is <code class="inline">true</code>.</li><li><code class="inline">:domain</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - The domain to use when calling the action.</li><li><code class="inline">:as</code> (<a href="https://hexdocs.pm/elixir/String.html#t:t/0"><code class="inline">String.t/0</code></a>) - The name of the form in the submitted params. You will need to pull the form params out using this key. The default value is <code class="inline">&quot;form&quot;</code>.</li><li><code class="inline">:id</code> (<a href="https://hexdocs.pm/elixir/String.html#t:t/0"><code class="inline">String.t/0</code></a>) - The html id of the form. Defaults to the value of <code class="inline">:as</code> if provided, otherwise &quot;form&quot;</li><li><code class="inline">:transform_errors</code> - Allows for manual manipulation and transformation of errors. You may prefer <code class="inline">post_process_errors</code> as a simpler API.<br/>If possible, try to implement <a href="https://hexdocs.pm/ash_phoenix/2.3.17/AshPhoenix.FormData.Error.html"><code class="inline">AshPhoenix.FormData.Error</code></a> for the error (if it as a custom one, for example).
If that isn't possible, you can provide this function which will get the changeset and the error, and should
return a list of ash phoenix formatted errors, e.g <code class="inline">[{field :: atom, message :: String.t(), substituations :: Keyword.t()}]</code><br/>Example:<pre><code class="makeup elixir" translate="no"><span class="nc">AshPhoenix.Form</span><span class="o">.</span><span class="n">for_create</span><span class="p" data-group-id="3126762894-1">(</span><span class="n">...</span><span class="p">,</span><span class="w"> </span><span class="ss">transform_errors</span><span class="p">:</span><span class="w"> </span><span class="k" data-group-id="3126762894-2">fn</span><span class="w">
  </span><span class="c">_changeset</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="3126762894-3">%{</span><span class="ss">field</span><span class="p">:</span><span class="w"> </span><span class="ss">:field1</span><span class="p" data-group-id="3126762894-3">}</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">error</span><span class="w"> </span><span class="o">-&gt;</span><span class="w">
    </span><span class="p" data-group-id="3126762894-4">%{</span><span class="n">error</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="ss">field</span><span class="p">:</span><span class="w"> </span><span class="ss">:field2</span><span class="p" data-group-id="3126762894-4">}</span><span class="w">  
  </span><span class="c">_changeset</span><span class="p">,</span><span class="w"> </span><span class="n">error</span><span class="w"> </span><span class="o">-&gt;</span><span class="w">
    </span><span class="n">error</span><span class="w">
</span><span class="k" data-group-id="3126762894-2">end</span></code></pre></li><li><code class="inline">:post_process_errors</code> - Allows for post-processing of errors after they have been converted to the standard triple format.<br/>This function receives the form, the path to the form, and an error triple <code class="inline">{field, message, vars}</code>.
It should return either a modified triple or <code class="inline">nil</code> to filter out the error.<br/>This is useful for:<ul><li>Filtering out certain errors based on custom criteria</li><li>Remapping field names from one field to another</li><li>Modifying error messages or variables<br/>Example:<pre><code class="makeup elixir" translate="no"><span class="nc">AshPhoenix.Form</span><span class="o">.</span><span class="n">for_create</span><span class="p" data-group-id="1791691507-1">(</span><span class="n">...</span><span class="p">,</span><span class="w"> </span><span class="ss">post_process_errors</span><span class="p">:</span><span class="w"> </span><span class="k" data-group-id="1791691507-2">fn</span><span class="w"> </span><span class="n">form</span><span class="p">,</span><span class="w"> </span><span class="c">_path</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="1791691507-3">{</span><span class="n">field</span><span class="p">,</span><span class="w"> </span><span class="n">message</span><span class="p">,</span><span class="w"> </span><span class="n">vars</span><span class="p" data-group-id="1791691507-3">}</span><span class="w"> </span><span class="o">-&gt;</span><span class="w">
</span><span class="k">case</span><span class="w"> </span><span class="n">field</span><span class="w"> </span><span class="k" data-group-id="1791691507-4">do</span><span class="w">
  </span><span class="ss">:status</span><span class="w"> </span><span class="o">-&gt;</span><span class="w">
    </span><span class="c1"># hide these errors</span><span class="w">
    </span><span class="no">nil</span><span class="w">  
  </span><span class="n">field</span><span class="w"> </span><span class="ow">when</span><span class="w"> </span><span class="n">field</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="p" data-group-id="1791691507-5">[</span><span class="ss">:currency</span><span class="p">,</span><span class="w"> </span><span class="ss">:amount</span><span class="p" data-group-id="1791691507-5">]</span><span class="w"> </span><span class="o">-&gt;</span><span class="w">
    </span><span class="c1"># remap the field, and replace the error message</span><span class="w">
    </span><span class="p" data-group-id="1791691507-6">{</span><span class="ss">:money</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;please enter a real money amount&quot;</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="1791691507-7">[</span><span class="p" data-group-id="1791691507-7">]</span><span class="p" data-group-id="1791691507-6">}</span><span class="w">  
  </span><span class="n">field</span><span class="w"> </span><span class="o">-&gt;</span><span class="w">
    </span><span class="c1"># leave the others unchanged</span><span class="w">
    </span><span class="p" data-group-id="1791691507-8">{</span><span class="n">field</span><span class="p">,</span><span class="w"> </span><span class="n">message</span><span class="p">,</span><span class="w"> </span><span class="n">vars</span><span class="p" data-group-id="1791691507-8">}</span><span class="w">
</span><span class="k" data-group-id="1791691507-4">end</span><span class="w">
</span><span class="k" data-group-id="1791691507-2">end</span><span class="p" data-group-id="1791691507-1">)</span></code></pre></li></ul></li><li><code class="inline">:prepare_source</code> - A 1-argument function the receives the initial changeset (or query) and makes any relevant changes to it.
This can be used to do things like:  <ul><li>Set default argument values before the validations are run using <a href="https://hexdocs.pm/ash/3.7.6/Ash.Changeset.html#set_arguments/2"><code class="inline">Ash.Changeset.set_arguments/2</code></a> or <a href="https://hexdocs.pm/ash/3.7.6/Ash.Changeset.html#set_argument/3"><code class="inline">Ash.Changeset.set_argument/3</code></a></li><li>Set changeset context</li><li>Do any other pre-processing on the changeset</li></ul></li><li><code class="inline">:prepare_params</code> - A 2-argument function that receives the params map and the :validate atom and should return prepared params.
Called before the form is validated.</li><li><code class="inline">:transform_params</code> - A function for post-processing the form parameters before they are used for changeset validation/submission.
Use a 3-argument function to pattern match on the <a href="https://hexdocs.pm/ash_phoenix/2.3.17/AshPhoenix.Form.html"><code class="inline">AshPhoenix.Form</code></a> struct.</li><li><code class="inline">:method</code> (<a href="https://hexdocs.pm/elixir/String.html#t:t/0"><code class="inline">String.t/0</code></a>) - The http method to associate with the form. Defaults to <code class="inline">post</code> for creates, and <code class="inline">put</code> for everything else.</li><li><code class="inline">:exclude_fields_if_empty</code> - These fields will be ignored if they are empty strings.<br/>This list of fields supports dead view forms. When a form is submitted from dead view
empty fields are submitted as empty strings. This is problematic for fields that allow_nil
or those that have default values.</li><li><code class="inline">:tenant</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - The current tenant. Passed through to the underlying action.</li><li><code class="inline">:params</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - The initial parameters to use for the form. This is useful for setting up a form with default values. The default value is <code class="inline">%{}</code>.
Any <em>additional</em> options will be passed to the underlying call to build the source, i.e
<a href="https://hexdocs.pm/ash/3.7.6/Ash.ActionInput.html#for_action/4"><code class="inline">Ash.ActionInput.for_action/4</code></a>, or <code class="inline">Ash.Changeset.for_*</code>. This means you can set things
like the tenant/actor. These will be retained, and provided again when
<code class="inline">Form.submit/3</code> is called.</li></ul><h2 id="form_to_update_notice/2-nested-form-options" class="section-heading"><a href="#form_to_update_notice/2-nested-form-options" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Nested Form Options</span></h2><ul><li><code class="inline">:type</code> - The cardinality of the nested form - <code class="inline">:list</code> or <code class="inline">:single</code>. Valid values are :list, :single The default value is <code class="inline">:single</code>.</li><li><code class="inline">:sparse?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If the nested form is <code class="inline">sparse</code>, the form won't expect all inputs for all forms to be present.<br/>Has no effect if the type is <code class="inline">:single</code>.<br/>Normally, if you leave some forms out of a list of nested forms, they are removed from the parameters
passed to the action. For example, if you had a <code class="inline">post</code> with two comments <code class="inline">[%Comment{id: 1}, %Comment{id: 2}]</code>
and you passed down params like <code class="inline">comments[0][id]=1&amp;comments[1][text]=new_text</code>, we would remove the second comment
from the input parameters, resulting in the following being passed into the action: <code class="inline">%{&quot;comments&quot; =&gt; [%{&quot;id&quot; =&gt; 1, &quot;text&quot; =&gt; &quot;new&quot;}]}</code>.
By setting it to sparse, you have to explicitly use <code class="inline">remove_form</code> for that removal to happen. So in the same scenario above, the parameters
that would be sent would actually be <code class="inline">%{&quot;comments&quot; =&gt; [%{&quot;id&quot; =&gt; 1, &quot;text&quot; =&gt; &quot;new&quot;}, %{&quot;id&quot; =&gt; 2}]}</code>.<br/>One major difference with <code class="inline">sparse?</code> is that the form actually ignores the <em>index</em> provided, e.g <code class="inline">comments[0]...</code>, and instead uses the primary
key e.g <code class="inline">comments[0][id]</code> to match which form is being updated. This prevents you from having to find the index of the specific item you want to
update. Which could be very gnarly on deeply nested forms. If there is no primary key, or the primary key does not match anything, it is treated
as a new form.<br/>REMEMBER: You need to use <code class="inline">Phoenix.Components.inputs_for</code> to render the nested forms, or manually add hidden inputs using
<code class="inline">hidden_inputs_for</code> (or <code class="inline">HiddenInputs</code> if using Surface) for the id to be automatically placed into the form.</li><li><code class="inline">:forms</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">keyword/0</code></a>) - Forms nested inside the current nesting level in all cases.</li><li><code class="inline">:for_type</code> - What action types the form applies for. Leave blank for it to apply to all action types. Valid values are :read, :create, :update</li><li><code class="inline">:merge?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - When building parameters, this input will be merged with its parent input. This allows for combining multiple forms into a single input. The default value is <code class="inline">false</code>.</li><li><code class="inline">:for</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - When creating parameters for the action, the key that the forms should be gathered into. Defaults to the key used to configure the nested form. Ignored if <code class="inline">merge?</code> is <code class="inline">true</code>.</li><li><code class="inline">:resource</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - The resource of the nested forms. Unnecessary if you are providing the <code class="inline">data</code> key, and not adding additional forms to this path.</li><li><code class="inline">:create_action</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - The create action to use when building new forms. Only necessary if you want to use <code class="inline">add_form/3</code> with this path.</li><li><code class="inline">:update_action</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - The update action to use when building forms for data. Only necessary if you supply the <code class="inline">data</code> key.</li><li><code class="inline">:data</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - The current value or values that should have update forms built by default.<br/>You can also provide a single argument function that will return the data based on the
data of the parent form. This is important for multiple nesting levels of <code class="inline">:list</code> type
forms, because the data depends on which parent is being rendered.</li></ul>
  </section>
</section>
<section class="detail" id="form_to_update_offence/2">

    <span id="form_to_update_offence/1"></span>

  <div class="detail-header">
    <a href="#form_to_update_offence/2" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">form_to_update_offence(record, form_opts \\ [])</h1>


    </div>
  </div>

  <section class="docstring">

<p>Creates a form for the update action on EhsEnforcement.Enforcement.Offence.</p><h2 id="form_to_update_offence/2-options" class="section-heading"><a href="#form_to_update_offence/2-options" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Options</span></h2><ul><li><code class="inline">:actor</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - The actor performing the action. Passed through to the underlying action.</li><li><code class="inline">:scope</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A value that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.Scope.html"><code class="inline">Ash.Scope</code></a> protocol, for passing around actor/tenant/context in a single value. See <a href="https://hexdocs.pm/ash/3.7.6/Ash.Scope.html"><code class="inline">Ash.Scope</code></a> for more.</li><li><code class="inline">:forms</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">keyword/0</code></a>) - Nested form configurations. See <code class="inline">for_create/3</code> &quot;Nested Form Options&quot; docs for more.</li><li><code class="inline">:warn_on_unhandled_errors?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Warns on any errors that don't match the form pattern of <code class="inline">{:field, &quot;message&quot;, [replacement: :vars]}</code> or implement the <a href="https://hexdocs.pm/ash_phoenix/2.3.17/AshPhoenix.FormData.Error.html"><code class="inline">AshPhoenix.FormData.Error</code></a> protocol. The default value is <code class="inline">true</code>.</li><li><code class="inline">:domain</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - The domain to use when calling the action.</li><li><code class="inline">:as</code> (<a href="https://hexdocs.pm/elixir/String.html#t:t/0"><code class="inline">String.t/0</code></a>) - The name of the form in the submitted params. You will need to pull the form params out using this key. The default value is <code class="inline">&quot;form&quot;</code>.</li><li><code class="inline">:id</code> (<a href="https://hexdocs.pm/elixir/String.html#t:t/0"><code class="inline">String.t/0</code></a>) - The html id of the form. Defaults to the value of <code class="inline">:as</code> if provided, otherwise &quot;form&quot;</li><li><code class="inline">:transform_errors</code> - Allows for manual manipulation and transformation of errors. You may prefer <code class="inline">post_process_errors</code> as a simpler API.<br/>If possible, try to implement <a href="https://hexdocs.pm/ash_phoenix/2.3.17/AshPhoenix.FormData.Error.html"><code class="inline">AshPhoenix.FormData.Error</code></a> for the error (if it as a custom one, for example).
If that isn't possible, you can provide this function which will get the changeset and the error, and should
return a list of ash phoenix formatted errors, e.g <code class="inline">[{field :: atom, message :: String.t(), substituations :: Keyword.t()}]</code><br/>Example:<pre><code class="makeup elixir" translate="no"><span class="nc">AshPhoenix.Form</span><span class="o">.</span><span class="n">for_create</span><span class="p" data-group-id="4580639984-1">(</span><span class="n">...</span><span class="p">,</span><span class="w"> </span><span class="ss">transform_errors</span><span class="p">:</span><span class="w"> </span><span class="k" data-group-id="4580639984-2">fn</span><span class="w">
  </span><span class="c">_changeset</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="4580639984-3">%{</span><span class="ss">field</span><span class="p">:</span><span class="w"> </span><span class="ss">:field1</span><span class="p" data-group-id="4580639984-3">}</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">error</span><span class="w"> </span><span class="o">-&gt;</span><span class="w">
    </span><span class="p" data-group-id="4580639984-4">%{</span><span class="n">error</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="ss">field</span><span class="p">:</span><span class="w"> </span><span class="ss">:field2</span><span class="p" data-group-id="4580639984-4">}</span><span class="w">  
  </span><span class="c">_changeset</span><span class="p">,</span><span class="w"> </span><span class="n">error</span><span class="w"> </span><span class="o">-&gt;</span><span class="w">
    </span><span class="n">error</span><span class="w">
</span><span class="k" data-group-id="4580639984-2">end</span></code></pre></li><li><code class="inline">:post_process_errors</code> - Allows for post-processing of errors after they have been converted to the standard triple format.<br/>This function receives the form, the path to the form, and an error triple <code class="inline">{field, message, vars}</code>.
It should return either a modified triple or <code class="inline">nil</code> to filter out the error.<br/>This is useful for:<ul><li>Filtering out certain errors based on custom criteria</li><li>Remapping field names from one field to another</li><li>Modifying error messages or variables<br/>Example:<pre><code class="makeup elixir" translate="no"><span class="nc">AshPhoenix.Form</span><span class="o">.</span><span class="n">for_create</span><span class="p" data-group-id="5147186903-1">(</span><span class="n">...</span><span class="p">,</span><span class="w"> </span><span class="ss">post_process_errors</span><span class="p">:</span><span class="w"> </span><span class="k" data-group-id="5147186903-2">fn</span><span class="w"> </span><span class="n">form</span><span class="p">,</span><span class="w"> </span><span class="c">_path</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="5147186903-3">{</span><span class="n">field</span><span class="p">,</span><span class="w"> </span><span class="n">message</span><span class="p">,</span><span class="w"> </span><span class="n">vars</span><span class="p" data-group-id="5147186903-3">}</span><span class="w"> </span><span class="o">-&gt;</span><span class="w">
</span><span class="k">case</span><span class="w"> </span><span class="n">field</span><span class="w"> </span><span class="k" data-group-id="5147186903-4">do</span><span class="w">
  </span><span class="ss">:status</span><span class="w"> </span><span class="o">-&gt;</span><span class="w">
    </span><span class="c1"># hide these errors</span><span class="w">
    </span><span class="no">nil</span><span class="w">  
  </span><span class="n">field</span><span class="w"> </span><span class="ow">when</span><span class="w"> </span><span class="n">field</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="p" data-group-id="5147186903-5">[</span><span class="ss">:currency</span><span class="p">,</span><span class="w"> </span><span class="ss">:amount</span><span class="p" data-group-id="5147186903-5">]</span><span class="w"> </span><span class="o">-&gt;</span><span class="w">
    </span><span class="c1"># remap the field, and replace the error message</span><span class="w">
    </span><span class="p" data-group-id="5147186903-6">{</span><span class="ss">:money</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;please enter a real money amount&quot;</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="5147186903-7">[</span><span class="p" data-group-id="5147186903-7">]</span><span class="p" data-group-id="5147186903-6">}</span><span class="w">  
  </span><span class="n">field</span><span class="w"> </span><span class="o">-&gt;</span><span class="w">
    </span><span class="c1"># leave the others unchanged</span><span class="w">
    </span><span class="p" data-group-id="5147186903-8">{</span><span class="n">field</span><span class="p">,</span><span class="w"> </span><span class="n">message</span><span class="p">,</span><span class="w"> </span><span class="n">vars</span><span class="p" data-group-id="5147186903-8">}</span><span class="w">
</span><span class="k" data-group-id="5147186903-4">end</span><span class="w">
</span><span class="k" data-group-id="5147186903-2">end</span><span class="p" data-group-id="5147186903-1">)</span></code></pre></li></ul></li><li><code class="inline">:prepare_source</code> - A 1-argument function the receives the initial changeset (or query) and makes any relevant changes to it.
This can be used to do things like:  <ul><li>Set default argument values before the validations are run using <a href="https://hexdocs.pm/ash/3.7.6/Ash.Changeset.html#set_arguments/2"><code class="inline">Ash.Changeset.set_arguments/2</code></a> or <a href="https://hexdocs.pm/ash/3.7.6/Ash.Changeset.html#set_argument/3"><code class="inline">Ash.Changeset.set_argument/3</code></a></li><li>Set changeset context</li><li>Do any other pre-processing on the changeset</li></ul></li><li><code class="inline">:prepare_params</code> - A 2-argument function that receives the params map and the :validate atom and should return prepared params.
Called before the form is validated.</li><li><code class="inline">:transform_params</code> - A function for post-processing the form parameters before they are used for changeset validation/submission.
Use a 3-argument function to pattern match on the <a href="https://hexdocs.pm/ash_phoenix/2.3.17/AshPhoenix.Form.html"><code class="inline">AshPhoenix.Form</code></a> struct.</li><li><code class="inline">:method</code> (<a href="https://hexdocs.pm/elixir/String.html#t:t/0"><code class="inline">String.t/0</code></a>) - The http method to associate with the form. Defaults to <code class="inline">post</code> for creates, and <code class="inline">put</code> for everything else.</li><li><code class="inline">:exclude_fields_if_empty</code> - These fields will be ignored if they are empty strings.<br/>This list of fields supports dead view forms. When a form is submitted from dead view
empty fields are submitted as empty strings. This is problematic for fields that allow_nil
or those that have default values.</li><li><code class="inline">:tenant</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - The current tenant. Passed through to the underlying action.</li><li><code class="inline">:params</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - The initial parameters to use for the form. This is useful for setting up a form with default values. The default value is <code class="inline">%{}</code>.
Any <em>additional</em> options will be passed to the underlying call to build the source, i.e
<a href="https://hexdocs.pm/ash/3.7.6/Ash.ActionInput.html#for_action/4"><code class="inline">Ash.ActionInput.for_action/4</code></a>, or <code class="inline">Ash.Changeset.for_*</code>. This means you can set things
like the tenant/actor. These will be retained, and provided again when
<code class="inline">Form.submit/3</code> is called.</li></ul><h2 id="form_to_update_offence/2-nested-form-options" class="section-heading"><a href="#form_to_update_offence/2-nested-form-options" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Nested Form Options</span></h2><ul><li><code class="inline">:type</code> - The cardinality of the nested form - <code class="inline">:list</code> or <code class="inline">:single</code>. Valid values are :list, :single The default value is <code class="inline">:single</code>.</li><li><code class="inline">:sparse?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If the nested form is <code class="inline">sparse</code>, the form won't expect all inputs for all forms to be present.<br/>Has no effect if the type is <code class="inline">:single</code>.<br/>Normally, if you leave some forms out of a list of nested forms, they are removed from the parameters
passed to the action. For example, if you had a <code class="inline">post</code> with two comments <code class="inline">[%Comment{id: 1}, %Comment{id: 2}]</code>
and you passed down params like <code class="inline">comments[0][id]=1&amp;comments[1][text]=new_text</code>, we would remove the second comment
from the input parameters, resulting in the following being passed into the action: <code class="inline">%{&quot;comments&quot; =&gt; [%{&quot;id&quot; =&gt; 1, &quot;text&quot; =&gt; &quot;new&quot;}]}</code>.
By setting it to sparse, you have to explicitly use <code class="inline">remove_form</code> for that removal to happen. So in the same scenario above, the parameters
that would be sent would actually be <code class="inline">%{&quot;comments&quot; =&gt; [%{&quot;id&quot; =&gt; 1, &quot;text&quot; =&gt; &quot;new&quot;}, %{&quot;id&quot; =&gt; 2}]}</code>.<br/>One major difference with <code class="inline">sparse?</code> is that the form actually ignores the <em>index</em> provided, e.g <code class="inline">comments[0]...</code>, and instead uses the primary
key e.g <code class="inline">comments[0][id]</code> to match which form is being updated. This prevents you from having to find the index of the specific item you want to
update. Which could be very gnarly on deeply nested forms. If there is no primary key, or the primary key does not match anything, it is treated
as a new form.<br/>REMEMBER: You need to use <code class="inline">Phoenix.Components.inputs_for</code> to render the nested forms, or manually add hidden inputs using
<code class="inline">hidden_inputs_for</code> (or <code class="inline">HiddenInputs</code> if using Surface) for the id to be automatically placed into the form.</li><li><code class="inline">:forms</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">keyword/0</code></a>) - Forms nested inside the current nesting level in all cases.</li><li><code class="inline">:for_type</code> - What action types the form applies for. Leave blank for it to apply to all action types. Valid values are :read, :create, :update</li><li><code class="inline">:merge?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - When building parameters, this input will be merged with its parent input. This allows for combining multiple forms into a single input. The default value is <code class="inline">false</code>.</li><li><code class="inline">:for</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - When creating parameters for the action, the key that the forms should be gathered into. Defaults to the key used to configure the nested form. Ignored if <code class="inline">merge?</code> is <code class="inline">true</code>.</li><li><code class="inline">:resource</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - The resource of the nested forms. Unnecessary if you are providing the <code class="inline">data</code> key, and not adding additional forms to this path.</li><li><code class="inline">:create_action</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - The create action to use when building new forms. Only necessary if you want to use <code class="inline">add_form/3</code> with this path.</li><li><code class="inline">:update_action</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - The update action to use when building forms for data. Only necessary if you supply the <code class="inline">data</code> key.</li><li><code class="inline">:data</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - The current value or values that should have update forms built by default.<br/>You can also provide a single argument function that will return the data based on the
data of the parent form. This is important for multiple nesting levels of <code class="inline">:list</code> type
forms, because the data depends on which parent is being rendered.</li></ul>
  </section>
</section>
<section class="detail" id="form_to_update_offender/2">

    <span id="form_to_update_offender/1"></span>

  <div class="detail-header">
    <a href="#form_to_update_offender/2" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">form_to_update_offender(record, form_opts \\ [])</h1>


    </div>
  </div>

  <section class="docstring">

<p>Creates a form for the update action on EhsEnforcement.Enforcement.Offender.</p><h2 id="form_to_update_offender/2-options" class="section-heading"><a href="#form_to_update_offender/2-options" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Options</span></h2><ul><li><code class="inline">:actor</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - The actor performing the action. Passed through to the underlying action.</li><li><code class="inline">:scope</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A value that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.Scope.html"><code class="inline">Ash.Scope</code></a> protocol, for passing around actor/tenant/context in a single value. See <a href="https://hexdocs.pm/ash/3.7.6/Ash.Scope.html"><code class="inline">Ash.Scope</code></a> for more.</li><li><code class="inline">:forms</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">keyword/0</code></a>) - Nested form configurations. See <code class="inline">for_create/3</code> &quot;Nested Form Options&quot; docs for more.</li><li><code class="inline">:warn_on_unhandled_errors?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Warns on any errors that don't match the form pattern of <code class="inline">{:field, &quot;message&quot;, [replacement: :vars]}</code> or implement the <a href="https://hexdocs.pm/ash_phoenix/2.3.17/AshPhoenix.FormData.Error.html"><code class="inline">AshPhoenix.FormData.Error</code></a> protocol. The default value is <code class="inline">true</code>.</li><li><code class="inline">:domain</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - The domain to use when calling the action.</li><li><code class="inline">:as</code> (<a href="https://hexdocs.pm/elixir/String.html#t:t/0"><code class="inline">String.t/0</code></a>) - The name of the form in the submitted params. You will need to pull the form params out using this key. The default value is <code class="inline">&quot;form&quot;</code>.</li><li><code class="inline">:id</code> (<a href="https://hexdocs.pm/elixir/String.html#t:t/0"><code class="inline">String.t/0</code></a>) - The html id of the form. Defaults to the value of <code class="inline">:as</code> if provided, otherwise &quot;form&quot;</li><li><code class="inline">:transform_errors</code> - Allows for manual manipulation and transformation of errors. You may prefer <code class="inline">post_process_errors</code> as a simpler API.<br/>If possible, try to implement <a href="https://hexdocs.pm/ash_phoenix/2.3.17/AshPhoenix.FormData.Error.html"><code class="inline">AshPhoenix.FormData.Error</code></a> for the error (if it as a custom one, for example).
If that isn't possible, you can provide this function which will get the changeset and the error, and should
return a list of ash phoenix formatted errors, e.g <code class="inline">[{field :: atom, message :: String.t(), substituations :: Keyword.t()}]</code><br/>Example:<pre><code class="makeup elixir" translate="no"><span class="nc">AshPhoenix.Form</span><span class="o">.</span><span class="n">for_create</span><span class="p" data-group-id="2403110470-1">(</span><span class="n">...</span><span class="p">,</span><span class="w"> </span><span class="ss">transform_errors</span><span class="p">:</span><span class="w"> </span><span class="k" data-group-id="2403110470-2">fn</span><span class="w">
  </span><span class="c">_changeset</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="2403110470-3">%{</span><span class="ss">field</span><span class="p">:</span><span class="w"> </span><span class="ss">:field1</span><span class="p" data-group-id="2403110470-3">}</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">error</span><span class="w"> </span><span class="o">-&gt;</span><span class="w">
    </span><span class="p" data-group-id="2403110470-4">%{</span><span class="n">error</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="ss">field</span><span class="p">:</span><span class="w"> </span><span class="ss">:field2</span><span class="p" data-group-id="2403110470-4">}</span><span class="w">  
  </span><span class="c">_changeset</span><span class="p">,</span><span class="w"> </span><span class="n">error</span><span class="w"> </span><span class="o">-&gt;</span><span class="w">
    </span><span class="n">error</span><span class="w">
</span><span class="k" data-group-id="2403110470-2">end</span></code></pre></li><li><code class="inline">:post_process_errors</code> - Allows for post-processing of errors after they have been converted to the standard triple format.<br/>This function receives the form, the path to the form, and an error triple <code class="inline">{field, message, vars}</code>.
It should return either a modified triple or <code class="inline">nil</code> to filter out the error.<br/>This is useful for:<ul><li>Filtering out certain errors based on custom criteria</li><li>Remapping field names from one field to another</li><li>Modifying error messages or variables<br/>Example:<pre><code class="makeup elixir" translate="no"><span class="nc">AshPhoenix.Form</span><span class="o">.</span><span class="n">for_create</span><span class="p" data-group-id="9297440169-1">(</span><span class="n">...</span><span class="p">,</span><span class="w"> </span><span class="ss">post_process_errors</span><span class="p">:</span><span class="w"> </span><span class="k" data-group-id="9297440169-2">fn</span><span class="w"> </span><span class="n">form</span><span class="p">,</span><span class="w"> </span><span class="c">_path</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="9297440169-3">{</span><span class="n">field</span><span class="p">,</span><span class="w"> </span><span class="n">message</span><span class="p">,</span><span class="w"> </span><span class="n">vars</span><span class="p" data-group-id="9297440169-3">}</span><span class="w"> </span><span class="o">-&gt;</span><span class="w">
</span><span class="k">case</span><span class="w"> </span><span class="n">field</span><span class="w"> </span><span class="k" data-group-id="9297440169-4">do</span><span class="w">
  </span><span class="ss">:status</span><span class="w"> </span><span class="o">-&gt;</span><span class="w">
    </span><span class="c1"># hide these errors</span><span class="w">
    </span><span class="no">nil</span><span class="w">  
  </span><span class="n">field</span><span class="w"> </span><span class="ow">when</span><span class="w"> </span><span class="n">field</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="p" data-group-id="9297440169-5">[</span><span class="ss">:currency</span><span class="p">,</span><span class="w"> </span><span class="ss">:amount</span><span class="p" data-group-id="9297440169-5">]</span><span class="w"> </span><span class="o">-&gt;</span><span class="w">
    </span><span class="c1"># remap the field, and replace the error message</span><span class="w">
    </span><span class="p" data-group-id="9297440169-6">{</span><span class="ss">:money</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;please enter a real money amount&quot;</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="9297440169-7">[</span><span class="p" data-group-id="9297440169-7">]</span><span class="p" data-group-id="9297440169-6">}</span><span class="w">  
  </span><span class="n">field</span><span class="w"> </span><span class="o">-&gt;</span><span class="w">
    </span><span class="c1"># leave the others unchanged</span><span class="w">
    </span><span class="p" data-group-id="9297440169-8">{</span><span class="n">field</span><span class="p">,</span><span class="w"> </span><span class="n">message</span><span class="p">,</span><span class="w"> </span><span class="n">vars</span><span class="p" data-group-id="9297440169-8">}</span><span class="w">
</span><span class="k" data-group-id="9297440169-4">end</span><span class="w">
</span><span class="k" data-group-id="9297440169-2">end</span><span class="p" data-group-id="9297440169-1">)</span></code></pre></li></ul></li><li><code class="inline">:prepare_source</code> - A 1-argument function the receives the initial changeset (or query) and makes any relevant changes to it.
This can be used to do things like:  <ul><li>Set default argument values before the validations are run using <a href="https://hexdocs.pm/ash/3.7.6/Ash.Changeset.html#set_arguments/2"><code class="inline">Ash.Changeset.set_arguments/2</code></a> or <a href="https://hexdocs.pm/ash/3.7.6/Ash.Changeset.html#set_argument/3"><code class="inline">Ash.Changeset.set_argument/3</code></a></li><li>Set changeset context</li><li>Do any other pre-processing on the changeset</li></ul></li><li><code class="inline">:prepare_params</code> - A 2-argument function that receives the params map and the :validate atom and should return prepared params.
Called before the form is validated.</li><li><code class="inline">:transform_params</code> - A function for post-processing the form parameters before they are used for changeset validation/submission.
Use a 3-argument function to pattern match on the <a href="https://hexdocs.pm/ash_phoenix/2.3.17/AshPhoenix.Form.html"><code class="inline">AshPhoenix.Form</code></a> struct.</li><li><code class="inline">:method</code> (<a href="https://hexdocs.pm/elixir/String.html#t:t/0"><code class="inline">String.t/0</code></a>) - The http method to associate with the form. Defaults to <code class="inline">post</code> for creates, and <code class="inline">put</code> for everything else.</li><li><code class="inline">:exclude_fields_if_empty</code> - These fields will be ignored if they are empty strings.<br/>This list of fields supports dead view forms. When a form is submitted from dead view
empty fields are submitted as empty strings. This is problematic for fields that allow_nil
or those that have default values.</li><li><code class="inline">:tenant</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - The current tenant. Passed through to the underlying action.</li><li><code class="inline">:params</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - The initial parameters to use for the form. This is useful for setting up a form with default values. The default value is <code class="inline">%{}</code>.
Any <em>additional</em> options will be passed to the underlying call to build the source, i.e
<a href="https://hexdocs.pm/ash/3.7.6/Ash.ActionInput.html#for_action/4"><code class="inline">Ash.ActionInput.for_action/4</code></a>, or <code class="inline">Ash.Changeset.for_*</code>. This means you can set things
like the tenant/actor. These will be retained, and provided again when
<code class="inline">Form.submit/3</code> is called.</li></ul><h2 id="form_to_update_offender/2-nested-form-options" class="section-heading"><a href="#form_to_update_offender/2-nested-form-options" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Nested Form Options</span></h2><ul><li><code class="inline">:type</code> - The cardinality of the nested form - <code class="inline">:list</code> or <code class="inline">:single</code>. Valid values are :list, :single The default value is <code class="inline">:single</code>.</li><li><code class="inline">:sparse?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If the nested form is <code class="inline">sparse</code>, the form won't expect all inputs for all forms to be present.<br/>Has no effect if the type is <code class="inline">:single</code>.<br/>Normally, if you leave some forms out of a list of nested forms, they are removed from the parameters
passed to the action. For example, if you had a <code class="inline">post</code> with two comments <code class="inline">[%Comment{id: 1}, %Comment{id: 2}]</code>
and you passed down params like <code class="inline">comments[0][id]=1&amp;comments[1][text]=new_text</code>, we would remove the second comment
from the input parameters, resulting in the following being passed into the action: <code class="inline">%{&quot;comments&quot; =&gt; [%{&quot;id&quot; =&gt; 1, &quot;text&quot; =&gt; &quot;new&quot;}]}</code>.
By setting it to sparse, you have to explicitly use <code class="inline">remove_form</code> for that removal to happen. So in the same scenario above, the parameters
that would be sent would actually be <code class="inline">%{&quot;comments&quot; =&gt; [%{&quot;id&quot; =&gt; 1, &quot;text&quot; =&gt; &quot;new&quot;}, %{&quot;id&quot; =&gt; 2}]}</code>.<br/>One major difference with <code class="inline">sparse?</code> is that the form actually ignores the <em>index</em> provided, e.g <code class="inline">comments[0]...</code>, and instead uses the primary
key e.g <code class="inline">comments[0][id]</code> to match which form is being updated. This prevents you from having to find the index of the specific item you want to
update. Which could be very gnarly on deeply nested forms. If there is no primary key, or the primary key does not match anything, it is treated
as a new form.<br/>REMEMBER: You need to use <code class="inline">Phoenix.Components.inputs_for</code> to render the nested forms, or manually add hidden inputs using
<code class="inline">hidden_inputs_for</code> (or <code class="inline">HiddenInputs</code> if using Surface) for the id to be automatically placed into the form.</li><li><code class="inline">:forms</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">keyword/0</code></a>) - Forms nested inside the current nesting level in all cases.</li><li><code class="inline">:for_type</code> - What action types the form applies for. Leave blank for it to apply to all action types. Valid values are :read, :create, :update</li><li><code class="inline">:merge?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - When building parameters, this input will be merged with its parent input. This allows for combining multiple forms into a single input. The default value is <code class="inline">false</code>.</li><li><code class="inline">:for</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - When creating parameters for the action, the key that the forms should be gathered into. Defaults to the key used to configure the nested form. Ignored if <code class="inline">merge?</code> is <code class="inline">true</code>.</li><li><code class="inline">:resource</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - The resource of the nested forms. Unnecessary if you are providing the <code class="inline">data</code> key, and not adding additional forms to this path.</li><li><code class="inline">:create_action</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - The create action to use when building new forms. Only necessary if you want to use <code class="inline">add_form/3</code> with this path.</li><li><code class="inline">:update_action</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - The update action to use when building forms for data. Only necessary if you supply the <code class="inline">data</code> key.</li><li><code class="inline">:data</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - The current value or values that should have update forms built by default.<br/>You can also provide a single argument function that will return the data based on the
data of the parent form. This is important for multiple nesting levels of <code class="inline">:list</code> type
forms, because the data depends on which parent is being rendered.</li></ul>
  </section>
</section>
<section class="detail" id="form_to_update_offender_statistics/2">

    <span id="form_to_update_offender_statistics/1"></span>

  <div class="detail-header">
    <a href="#form_to_update_offender_statistics/2" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">form_to_update_offender_statistics(record, form_opts \\ [])</h1>


    </div>
  </div>

  <section class="docstring">

<p>Creates a form for the update_statistics action on EhsEnforcement.Enforcement.Offender.</p><h2 id="form_to_update_offender_statistics/2-options" class="section-heading"><a href="#form_to_update_offender_statistics/2-options" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Options</span></h2><ul><li><code class="inline">:actor</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - The actor performing the action. Passed through to the underlying action.</li><li><code class="inline">:scope</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A value that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.Scope.html"><code class="inline">Ash.Scope</code></a> protocol, for passing around actor/tenant/context in a single value. See <a href="https://hexdocs.pm/ash/3.7.6/Ash.Scope.html"><code class="inline">Ash.Scope</code></a> for more.</li><li><code class="inline">:forms</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">keyword/0</code></a>) - Nested form configurations. See <code class="inline">for_create/3</code> &quot;Nested Form Options&quot; docs for more.</li><li><code class="inline">:warn_on_unhandled_errors?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Warns on any errors that don't match the form pattern of <code class="inline">{:field, &quot;message&quot;, [replacement: :vars]}</code> or implement the <a href="https://hexdocs.pm/ash_phoenix/2.3.17/AshPhoenix.FormData.Error.html"><code class="inline">AshPhoenix.FormData.Error</code></a> protocol. The default value is <code class="inline">true</code>.</li><li><code class="inline">:domain</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - The domain to use when calling the action.</li><li><code class="inline">:as</code> (<a href="https://hexdocs.pm/elixir/String.html#t:t/0"><code class="inline">String.t/0</code></a>) - The name of the form in the submitted params. You will need to pull the form params out using this key. The default value is <code class="inline">&quot;form&quot;</code>.</li><li><code class="inline">:id</code> (<a href="https://hexdocs.pm/elixir/String.html#t:t/0"><code class="inline">String.t/0</code></a>) - The html id of the form. Defaults to the value of <code class="inline">:as</code> if provided, otherwise &quot;form&quot;</li><li><code class="inline">:transform_errors</code> - Allows for manual manipulation and transformation of errors. You may prefer <code class="inline">post_process_errors</code> as a simpler API.<br/>If possible, try to implement <a href="https://hexdocs.pm/ash_phoenix/2.3.17/AshPhoenix.FormData.Error.html"><code class="inline">AshPhoenix.FormData.Error</code></a> for the error (if it as a custom one, for example).
If that isn't possible, you can provide this function which will get the changeset and the error, and should
return a list of ash phoenix formatted errors, e.g <code class="inline">[{field :: atom, message :: String.t(), substituations :: Keyword.t()}]</code><br/>Example:<pre><code class="makeup elixir" translate="no"><span class="nc">AshPhoenix.Form</span><span class="o">.</span><span class="n">for_create</span><span class="p" data-group-id="7298540424-1">(</span><span class="n">...</span><span class="p">,</span><span class="w"> </span><span class="ss">transform_errors</span><span class="p">:</span><span class="w"> </span><span class="k" data-group-id="7298540424-2">fn</span><span class="w">
  </span><span class="c">_changeset</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="7298540424-3">%{</span><span class="ss">field</span><span class="p">:</span><span class="w"> </span><span class="ss">:field1</span><span class="p" data-group-id="7298540424-3">}</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">error</span><span class="w"> </span><span class="o">-&gt;</span><span class="w">
    </span><span class="p" data-group-id="7298540424-4">%{</span><span class="n">error</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="ss">field</span><span class="p">:</span><span class="w"> </span><span class="ss">:field2</span><span class="p" data-group-id="7298540424-4">}</span><span class="w">  
  </span><span class="c">_changeset</span><span class="p">,</span><span class="w"> </span><span class="n">error</span><span class="w"> </span><span class="o">-&gt;</span><span class="w">
    </span><span class="n">error</span><span class="w">
</span><span class="k" data-group-id="7298540424-2">end</span></code></pre></li><li><code class="inline">:post_process_errors</code> - Allows for post-processing of errors after they have been converted to the standard triple format.<br/>This function receives the form, the path to the form, and an error triple <code class="inline">{field, message, vars}</code>.
It should return either a modified triple or <code class="inline">nil</code> to filter out the error.<br/>This is useful for:<ul><li>Filtering out certain errors based on custom criteria</li><li>Remapping field names from one field to another</li><li>Modifying error messages or variables<br/>Example:<pre><code class="makeup elixir" translate="no"><span class="nc">AshPhoenix.Form</span><span class="o">.</span><span class="n">for_create</span><span class="p" data-group-id="2502585413-1">(</span><span class="n">...</span><span class="p">,</span><span class="w"> </span><span class="ss">post_process_errors</span><span class="p">:</span><span class="w"> </span><span class="k" data-group-id="2502585413-2">fn</span><span class="w"> </span><span class="n">form</span><span class="p">,</span><span class="w"> </span><span class="c">_path</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="2502585413-3">{</span><span class="n">field</span><span class="p">,</span><span class="w"> </span><span class="n">message</span><span class="p">,</span><span class="w"> </span><span class="n">vars</span><span class="p" data-group-id="2502585413-3">}</span><span class="w"> </span><span class="o">-&gt;</span><span class="w">
</span><span class="k">case</span><span class="w"> </span><span class="n">field</span><span class="w"> </span><span class="k" data-group-id="2502585413-4">do</span><span class="w">
  </span><span class="ss">:status</span><span class="w"> </span><span class="o">-&gt;</span><span class="w">
    </span><span class="c1"># hide these errors</span><span class="w">
    </span><span class="no">nil</span><span class="w">  
  </span><span class="n">field</span><span class="w"> </span><span class="ow">when</span><span class="w"> </span><span class="n">field</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="p" data-group-id="2502585413-5">[</span><span class="ss">:currency</span><span class="p">,</span><span class="w"> </span><span class="ss">:amount</span><span class="p" data-group-id="2502585413-5">]</span><span class="w"> </span><span class="o">-&gt;</span><span class="w">
    </span><span class="c1"># remap the field, and replace the error message</span><span class="w">
    </span><span class="p" data-group-id="2502585413-6">{</span><span class="ss">:money</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;please enter a real money amount&quot;</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="2502585413-7">[</span><span class="p" data-group-id="2502585413-7">]</span><span class="p" data-group-id="2502585413-6">}</span><span class="w">  
  </span><span class="n">field</span><span class="w"> </span><span class="o">-&gt;</span><span class="w">
    </span><span class="c1"># leave the others unchanged</span><span class="w">
    </span><span class="p" data-group-id="2502585413-8">{</span><span class="n">field</span><span class="p">,</span><span class="w"> </span><span class="n">message</span><span class="p">,</span><span class="w"> </span><span class="n">vars</span><span class="p" data-group-id="2502585413-8">}</span><span class="w">
</span><span class="k" data-group-id="2502585413-4">end</span><span class="w">
</span><span class="k" data-group-id="2502585413-2">end</span><span class="p" data-group-id="2502585413-1">)</span></code></pre></li></ul></li><li><code class="inline">:prepare_source</code> - A 1-argument function the receives the initial changeset (or query) and makes any relevant changes to it.
This can be used to do things like:  <ul><li>Set default argument values before the validations are run using <a href="https://hexdocs.pm/ash/3.7.6/Ash.Changeset.html#set_arguments/2"><code class="inline">Ash.Changeset.set_arguments/2</code></a> or <a href="https://hexdocs.pm/ash/3.7.6/Ash.Changeset.html#set_argument/3"><code class="inline">Ash.Changeset.set_argument/3</code></a></li><li>Set changeset context</li><li>Do any other pre-processing on the changeset</li></ul></li><li><code class="inline">:prepare_params</code> - A 2-argument function that receives the params map and the :validate atom and should return prepared params.
Called before the form is validated.</li><li><code class="inline">:transform_params</code> - A function for post-processing the form parameters before they are used for changeset validation/submission.
Use a 3-argument function to pattern match on the <a href="https://hexdocs.pm/ash_phoenix/2.3.17/AshPhoenix.Form.html"><code class="inline">AshPhoenix.Form</code></a> struct.</li><li><code class="inline">:method</code> (<a href="https://hexdocs.pm/elixir/String.html#t:t/0"><code class="inline">String.t/0</code></a>) - The http method to associate with the form. Defaults to <code class="inline">post</code> for creates, and <code class="inline">put</code> for everything else.</li><li><code class="inline">:exclude_fields_if_empty</code> - These fields will be ignored if they are empty strings.<br/>This list of fields supports dead view forms. When a form is submitted from dead view
empty fields are submitted as empty strings. This is problematic for fields that allow_nil
or those that have default values.</li><li><code class="inline">:tenant</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - The current tenant. Passed through to the underlying action.</li><li><code class="inline">:params</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - The initial parameters to use for the form. This is useful for setting up a form with default values. The default value is <code class="inline">%{}</code>.
Any <em>additional</em> options will be passed to the underlying call to build the source, i.e
<a href="https://hexdocs.pm/ash/3.7.6/Ash.ActionInput.html#for_action/4"><code class="inline">Ash.ActionInput.for_action/4</code></a>, or <code class="inline">Ash.Changeset.for_*</code>. This means you can set things
like the tenant/actor. These will be retained, and provided again when
<code class="inline">Form.submit/3</code> is called.</li></ul><h2 id="form_to_update_offender_statistics/2-nested-form-options" class="section-heading"><a href="#form_to_update_offender_statistics/2-nested-form-options" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Nested Form Options</span></h2><ul><li><code class="inline">:type</code> - The cardinality of the nested form - <code class="inline">:list</code> or <code class="inline">:single</code>. Valid values are :list, :single The default value is <code class="inline">:single</code>.</li><li><code class="inline">:sparse?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If the nested form is <code class="inline">sparse</code>, the form won't expect all inputs for all forms to be present.<br/>Has no effect if the type is <code class="inline">:single</code>.<br/>Normally, if you leave some forms out of a list of nested forms, they are removed from the parameters
passed to the action. For example, if you had a <code class="inline">post</code> with two comments <code class="inline">[%Comment{id: 1}, %Comment{id: 2}]</code>
and you passed down params like <code class="inline">comments[0][id]=1&amp;comments[1][text]=new_text</code>, we would remove the second comment
from the input parameters, resulting in the following being passed into the action: <code class="inline">%{&quot;comments&quot; =&gt; [%{&quot;id&quot; =&gt; 1, &quot;text&quot; =&gt; &quot;new&quot;}]}</code>.
By setting it to sparse, you have to explicitly use <code class="inline">remove_form</code> for that removal to happen. So in the same scenario above, the parameters
that would be sent would actually be <code class="inline">%{&quot;comments&quot; =&gt; [%{&quot;id&quot; =&gt; 1, &quot;text&quot; =&gt; &quot;new&quot;}, %{&quot;id&quot; =&gt; 2}]}</code>.<br/>One major difference with <code class="inline">sparse?</code> is that the form actually ignores the <em>index</em> provided, e.g <code class="inline">comments[0]...</code>, and instead uses the primary
key e.g <code class="inline">comments[0][id]</code> to match which form is being updated. This prevents you from having to find the index of the specific item you want to
update. Which could be very gnarly on deeply nested forms. If there is no primary key, or the primary key does not match anything, it is treated
as a new form.<br/>REMEMBER: You need to use <code class="inline">Phoenix.Components.inputs_for</code> to render the nested forms, or manually add hidden inputs using
<code class="inline">hidden_inputs_for</code> (or <code class="inline">HiddenInputs</code> if using Surface) for the id to be automatically placed into the form.</li><li><code class="inline">:forms</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">keyword/0</code></a>) - Forms nested inside the current nesting level in all cases.</li><li><code class="inline">:for_type</code> - What action types the form applies for. Leave blank for it to apply to all action types. Valid values are :read, :create, :update</li><li><code class="inline">:merge?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - When building parameters, this input will be merged with its parent input. This allows for combining multiple forms into a single input. The default value is <code class="inline">false</code>.</li><li><code class="inline">:for</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - When creating parameters for the action, the key that the forms should be gathered into. Defaults to the key used to configure the nested form. Ignored if <code class="inline">merge?</code> is <code class="inline">true</code>.</li><li><code class="inline">:resource</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - The resource of the nested forms. Unnecessary if you are providing the <code class="inline">data</code> key, and not adding additional forms to this path.</li><li><code class="inline">:create_action</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - The create action to use when building new forms. Only necessary if you want to use <code class="inline">add_form/3</code> with this path.</li><li><code class="inline">:update_action</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - The update action to use when building forms for data. Only necessary if you supply the <code class="inline">data</code> key.</li><li><code class="inline">:data</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - The current value or values that should have update forms built by default.<br/>You can also provide a single argument function that will return the data based on the
data of the parent form. This is important for multiple nesting levels of <code class="inline">:list</code> type
forms, because the data depends on which parent is being rendered.</li></ul>
  </section>
</section>
<section class="detail" id="fuzzy_search_cases/2">

    <span id="fuzzy_search_cases/1"></span>

  <div class="detail-header">
    <a href="#fuzzy_search_cases/2" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">fuzzy_search_cases(search_term, opts \\ [])</h1>


    </div>
  </div>

  <section class="docstring">

<p>Perform fuzzy search across cases using pg_trgm trigram similarity.</p><p>This function uses PostgreSQL's pg_trgm extension to find cases with text fields
that are similar to the search term, even with typos or partial matches.</p><h2 id="fuzzy_search_cases/2-parameters" class="section-heading"><a href="#fuzzy_search_cases/2-parameters" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Parameters</span></h2><ul><li><code class="inline">search_term</code> - The text to search for (minimum 3 characters)</li><li><code class="inline">opts</code> - Additional query options (limit, offset, etc.)</li></ul><h2 id="fuzzy_search_cases/2-options" class="section-heading"><a href="#fuzzy_search_cases/2-options" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Options</span></h2><ul><li><code class="inline">:similarity_threshold</code> - Minimum similarity score (0.0-1.0, default: 0.3)</li><li><code class="inline">:limit</code> - Maximum number of results to return</li><li><code class="inline">:offset</code> - Number of results to skip</li><li><code class="inline">:load</code> - Associations to preload</li></ul><h2 id="fuzzy_search_cases/2-examples" class="section-heading"><a href="#fuzzy_search_cases/2-examples" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Examples</span></h2><pre><code class="makeup elixir" translate="no"><span class="gp unselectable">iex&gt; </span><span class="n">fuzzy_search_cases</span><span class="p" data-group-id="6971970942-1">(</span><span class="s">&quot;construction&quot;</span><span class="p">,</span><span class="w"> </span><span class="ss">limit</span><span class="p">:</span><span class="w"> </span><span class="mi">10</span><span class="p" data-group-id="6971970942-1">)</span><span class="w">
</span><span class="p" data-group-id="6971970942-2">[</span><span class="p" data-group-id="6971970942-3">%</span><span class="nc" data-group-id="6971970942-3">Case</span><span class="p" data-group-id="6971970942-3">{</span><span class="ss">regulator_id</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;HSE-2024-123&quot;</span><span class="p">,</span><span class="w"> </span><span class="ss">computed_breaches_summary</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;Construction (Design and Management) Regulations 2015&quot;</span><span class="p" data-group-id="6971970942-3">}</span><span class="p" data-group-id="6971970942-2">]</span><span class="w">

</span><span class="gp unselectable">iex&gt; </span><span class="n">fuzzy_search_cases</span><span class="p" data-group-id="6971970942-4">(</span><span class="s">&quot;acme corp&quot;</span><span class="p">,</span><span class="w"> </span><span class="ss">similarity_threshold</span><span class="p">:</span><span class="w"> </span><span class="mf">0.4</span><span class="p" data-group-id="6971970942-4">)</span><span class="w">
</span><span class="p" data-group-id="6971970942-5">[</span><span class="p" data-group-id="6971970942-6">%</span><span class="nc" data-group-id="6971970942-6">Case</span><span class="p" data-group-id="6971970942-6">{</span><span class="ss">offender</span><span class="p">:</span><span class="w"> </span><span class="p" data-group-id="6971970942-7">%{</span><span class="ss">name</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;ACME Construction Ltd&quot;</span><span class="p" data-group-id="6971970942-7">}</span><span class="p" data-group-id="6971970942-6">}</span><span class="p" data-group-id="6971970942-5">]</span></code></pre>
  </section>
</section>
<section class="detail" id="fuzzy_search_notices/2">

    <span id="fuzzy_search_notices/1"></span>

  <div class="detail-header">
    <a href="#fuzzy_search_notices/2" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">fuzzy_search_notices(search_term, opts \\ [])</h1>


    </div>
  </div>

  <section class="docstring">

<p>Perform fuzzy search across notices using pg_trgm trigram similarity.</p><p>Similar to fuzzy_search_cases/2 but searches notice fields including notice body.</p>
  </section>
</section>
<section class="detail" id="fuzzy_search_offenders/2">

    <span id="fuzzy_search_offenders/1"></span>

  <div class="detail-header">
    <a href="#fuzzy_search_offenders/2" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">fuzzy_search_offenders(search_term, opts \\ [])</h1>


    </div>
  </div>

  <section class="docstring">

<p>Perform fuzzy search across offenders using pg_trgm trigram similarity.</p><p>Searches offender name, normalized name, local authority, and main activity fields.</p>
  </section>
</section>
<section class="detail" id="get/3">

    <span id="get/2"></span>

  <div class="detail-header">
    <a href="#get/3" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">get(resource, id_or_filter, opts \\ [])</h1>


    </div>
  </div>

    <div class="deprecated">
      This function is deprecated. Use `Ash.get/3` instead.
    </div>

  <section class="docstring">


  </section>
</section>
<section class="detail" id="get!/3">

    <span id="get!/2"></span>

  <div class="detail-header">
    <a href="#get!/3" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">get!(resource, id_or_filter, opts \\ [])</h1>


    </div>
  </div>

    <div class="deprecated">
      This function is deprecated. Use `Ash.get!/3` instead.
    </div>

  <section class="docstring">


  </section>
</section>
<section class="detail" id="get_agency/3">

    <span id="get_agency/1"></span>

    <span id="get_agency/2"></span>

  <div class="detail-header">
    <a href="#get_agency/3" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">get_agency(id, params \\ nil, opts \\ nil)</h1>


    </div>
  </div>

  <section class="docstring">

<p>Calls the read action on EhsEnforcement.Enforcement.Agency.</p><h2 id="get_agency/3-options" class="section-heading"><a href="#get_agency/3-options" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Options</span></h2><ul><li><code class="inline">:page</code> - Pagination options, see <a href="https://hexdocs.pm/ash/3.7.6/Ash.html#read/2"><code class="inline">Ash.read/2</code></a> for more.</li><li><code class="inline">:load</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A load statement to add onto the query</li><li><code class="inline">:max_concurrency</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">non_neg_integer/0</code></a>) - The maximum number of processes allowed to be started for parallel loading of relationships and calculations. Defaults to <code class="inline">System.schedulers_online() * 2</code></li><li><code class="inline">:lock</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A lock statement to add onto the query</li><li><code class="inline">:return_query?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If <code class="inline">true</code>, the query that was ultimately used is returned as a third tuple element.<br/>The query goes through many potential changes during a request, potentially adding
authorization filters, or replacing relationships for other data layers with their
corresponding ids. This option can be used to get the true query that was sent to
the data layer. The default value is <code class="inline">false</code>.</li><li><code class="inline">:skip_unknown_inputs</code> - A list of inputs that, if provided, will be ignored if they are not recognized by the action. Use <code class="inline">:*</code> to indicate all unknown keys.</li><li><code class="inline">:reuse_values?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether calculations are allowed to reuse values that have already been loaded, or must refetch them from the data layer. The default value is <code class="inline">false</code>.</li><li><code class="inline">:strict?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If set to true, only specified attributes will be loaded when passing
  a list of fields to fetch on a relationship, which allows for more
  optimized data-fetching.<br/>  See <a href="https://hexdocs.pm/ash/3.7.6/Ash.Query.html#load/2"><code class="inline">Ash.Query.load/2</code></a>. The default value is <code class="inline">false</code>.</li><li><code class="inline">:authorize_with</code> - If set to <code class="inline">:error</code>, instead of applying authorization filters as a filter, any records not matching the authorization filter will cause an error to be returned. Valid values are :filter, :error The default value is <code class="inline">:filter</code>.</li><li><code class="inline">:timeout</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">timeout/0</code></a>) - A positive integer, or <code class="inline">:infinity</code>. If none is provided, the timeout configured on the domain is used.</li><li><code class="inline">:tracer</code> (one or a list of module that adopts <a href="https://hexdocs.pm/ash/3.7.6/Ash.Tracer.html"><code class="inline">Ash.Tracer</code></a>) - A tracer that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.Tracer.html"><code class="inline">Ash.Tracer</code></a> behaviour. See that module for more.</li><li><code class="inline">:action</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - The action to use, either an Action struct or the name of the action</li><li><code class="inline">:authorize?</code> - If an actor option is provided (even if it is <code class="inline">nil</code>), authorization happens automatically. If not, this flag can be used to authorize with no user.</li><li><code class="inline">:context</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">map/0</code></a>) - Context to set on the query, changeset, or input</li><li><code class="inline">:tenant</code> (value that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.ToTenant.html"><code class="inline">Ash.ToTenant</code></a> protocol) - A tenant to set on the query or changeset</li><li><code class="inline">:actor</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - If an actor is provided, it will be used in conjunction with the authorizers of a resource to authorize access</li><li><code class="inline">:scope</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A value that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> protocol, for passing around actor/tenant/context in a single value. See <a href="https://hexdocs.pm/ash/3.7.6/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> for more.</li><li><code class="inline">:query</code> - A query to seed the action with.</li><li><code class="inline">:not_found_error?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to return or raise a <code class="inline">NotFound</code> error or to return <code class="inline">nil</code> when a get? action/interface is called.</li><li><code class="inline">:stream?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If true, a stream of the results will be returned The default value is <code class="inline">false</code>.</li><li><code class="inline">:stream_options</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">keyword/0</code></a>) - Options passed to <code class="inline">Ash.stream!</code>, if <code class="inline">stream?: true</code> is given<ul><li><code class="inline">:batch_size</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">integer/0</code></a>) - How many records to request in each query run. Defaults to the pagination limits on the resource, or 250.</li><li><code class="inline">:allow_stream_with</code> - The 'worst' strategy allowed to be used to fetch records. See <a href="https://hexdocs.pm/ash/3.7.6/Ash.html#stream!/2"><code class="inline">Ash.stream!/2</code></a> docs for more. The default value is <code class="inline">:keyset</code>.</li><li><code class="inline">:stream_with</code> - The specific strategy to use to fetch records. See <a href="https://hexdocs.pm/ash/3.7.6/Ash.html#stream!/2"><code class="inline">Ash.stream!/2</code></a> docs for more.</li></ul></li></ul>
  </section>
</section>
<section class="detail" id="get_agency!/3">

    <span id="get_agency!/1"></span>

    <span id="get_agency!/2"></span>

  <div class="detail-header">
    <a href="#get_agency!/3" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">get_agency!(id, params \\ nil, opts \\ nil)</h1>


    </div>
  </div>

  <section class="docstring">

<p>Calls the read action on EhsEnforcement.Enforcement.Agency.
Raises any errors instead of returning them</p><h2 id="get_agency!/3-options" class="section-heading"><a href="#get_agency!/3-options" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Options</span></h2><ul><li><code class="inline">:page</code> - Pagination options, see <a href="https://hexdocs.pm/ash/3.7.6/Ash.html#read/2"><code class="inline">Ash.read/2</code></a> for more.</li><li><code class="inline">:load</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A load statement to add onto the query</li><li><code class="inline">:max_concurrency</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">non_neg_integer/0</code></a>) - The maximum number of processes allowed to be started for parallel loading of relationships and calculations. Defaults to <code class="inline">System.schedulers_online() * 2</code></li><li><code class="inline">:lock</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A lock statement to add onto the query</li><li><code class="inline">:return_query?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If <code class="inline">true</code>, the query that was ultimately used is returned as a third tuple element.<br/>The query goes through many potential changes during a request, potentially adding
authorization filters, or replacing relationships for other data layers with their
corresponding ids. This option can be used to get the true query that was sent to
the data layer. The default value is <code class="inline">false</code>.</li><li><code class="inline">:skip_unknown_inputs</code> - A list of inputs that, if provided, will be ignored if they are not recognized by the action. Use <code class="inline">:*</code> to indicate all unknown keys.</li><li><code class="inline">:reuse_values?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether calculations are allowed to reuse values that have already been loaded, or must refetch them from the data layer. The default value is <code class="inline">false</code>.</li><li><code class="inline">:strict?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If set to true, only specified attributes will be loaded when passing
  a list of fields to fetch on a relationship, which allows for more
  optimized data-fetching.<br/>  See <a href="https://hexdocs.pm/ash/3.7.6/Ash.Query.html#load/2"><code class="inline">Ash.Query.load/2</code></a>. The default value is <code class="inline">false</code>.</li><li><code class="inline">:authorize_with</code> - If set to <code class="inline">:error</code>, instead of applying authorization filters as a filter, any records not matching the authorization filter will cause an error to be returned. Valid values are :filter, :error The default value is <code class="inline">:filter</code>.</li><li><code class="inline">:timeout</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">timeout/0</code></a>) - A positive integer, or <code class="inline">:infinity</code>. If none is provided, the timeout configured on the domain is used.</li><li><code class="inline">:tracer</code> (one or a list of module that adopts <a href="https://hexdocs.pm/ash/3.7.6/Ash.Tracer.html"><code class="inline">Ash.Tracer</code></a>) - A tracer that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.Tracer.html"><code class="inline">Ash.Tracer</code></a> behaviour. See that module for more.</li><li><code class="inline">:action</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - The action to use, either an Action struct or the name of the action</li><li><code class="inline">:authorize?</code> - If an actor option is provided (even if it is <code class="inline">nil</code>), authorization happens automatically. If not, this flag can be used to authorize with no user.</li><li><code class="inline">:context</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">map/0</code></a>) - Context to set on the query, changeset, or input</li><li><code class="inline">:tenant</code> (value that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.ToTenant.html"><code class="inline">Ash.ToTenant</code></a> protocol) - A tenant to set on the query or changeset</li><li><code class="inline">:actor</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - If an actor is provided, it will be used in conjunction with the authorizers of a resource to authorize access</li><li><code class="inline">:scope</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A value that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> protocol, for passing around actor/tenant/context in a single value. See <a href="https://hexdocs.pm/ash/3.7.6/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> for more.</li><li><code class="inline">:query</code> - A query to seed the action with.</li><li><code class="inline">:not_found_error?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to return or raise a <code class="inline">NotFound</code> error or to return <code class="inline">nil</code> when a get? action/interface is called.</li><li><code class="inline">:stream?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If true, a stream of the results will be returned The default value is <code class="inline">false</code>.</li><li><code class="inline">:stream_options</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">keyword/0</code></a>) - Options passed to <code class="inline">Ash.stream!</code>, if <code class="inline">stream?: true</code> is given<ul><li><code class="inline">:batch_size</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">integer/0</code></a>) - How many records to request in each query run. Defaults to the pagination limits on the resource, or 250.</li><li><code class="inline">:allow_stream_with</code> - The 'worst' strategy allowed to be used to fetch records. See <a href="https://hexdocs.pm/ash/3.7.6/Ash.html#stream!/2"><code class="inline">Ash.stream!/2</code></a> docs for more. The default value is <code class="inline">:keyset</code>.</li><li><code class="inline">:stream_with</code> - The specific strategy to use to fetch records. See <a href="https://hexdocs.pm/ash/3.7.6/Ash.html#stream!/2"><code class="inline">Ash.stream!/2</code></a> docs for more.</li></ul></li></ul>
  </section>
</section>
<section class="detail" id="get_agency_by_code/3">

    <span id="get_agency_by_code/1"></span>

    <span id="get_agency_by_code/2"></span>

  <div class="detail-header">
    <a href="#get_agency_by_code/3" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">get_agency_by_code(code, params \\ nil, opts \\ nil)</h1>


    </div>
  </div>

  <section class="docstring">

<p>Calls the read action on EhsEnforcement.Enforcement.Agency.</p><h2 id="get_agency_by_code/3-options" class="section-heading"><a href="#get_agency_by_code/3-options" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Options</span></h2><ul><li><code class="inline">:page</code> - Pagination options, see <a href="https://hexdocs.pm/ash/3.7.6/Ash.html#read/2"><code class="inline">Ash.read/2</code></a> for more.</li><li><code class="inline">:load</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A load statement to add onto the query</li><li><code class="inline">:max_concurrency</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">non_neg_integer/0</code></a>) - The maximum number of processes allowed to be started for parallel loading of relationships and calculations. Defaults to <code class="inline">System.schedulers_online() * 2</code></li><li><code class="inline">:lock</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A lock statement to add onto the query</li><li><code class="inline">:return_query?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If <code class="inline">true</code>, the query that was ultimately used is returned as a third tuple element.<br/>The query goes through many potential changes during a request, potentially adding
authorization filters, or replacing relationships for other data layers with their
corresponding ids. This option can be used to get the true query that was sent to
the data layer. The default value is <code class="inline">false</code>.</li><li><code class="inline">:skip_unknown_inputs</code> - A list of inputs that, if provided, will be ignored if they are not recognized by the action. Use <code class="inline">:*</code> to indicate all unknown keys.</li><li><code class="inline">:reuse_values?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether calculations are allowed to reuse values that have already been loaded, or must refetch them from the data layer. The default value is <code class="inline">false</code>.</li><li><code class="inline">:strict?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If set to true, only specified attributes will be loaded when passing
  a list of fields to fetch on a relationship, which allows for more
  optimized data-fetching.<br/>  See <a href="https://hexdocs.pm/ash/3.7.6/Ash.Query.html#load/2"><code class="inline">Ash.Query.load/2</code></a>. The default value is <code class="inline">false</code>.</li><li><code class="inline">:authorize_with</code> - If set to <code class="inline">:error</code>, instead of applying authorization filters as a filter, any records not matching the authorization filter will cause an error to be returned. Valid values are :filter, :error The default value is <code class="inline">:filter</code>.</li><li><code class="inline">:timeout</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">timeout/0</code></a>) - A positive integer, or <code class="inline">:infinity</code>. If none is provided, the timeout configured on the domain is used.</li><li><code class="inline">:tracer</code> (one or a list of module that adopts <a href="https://hexdocs.pm/ash/3.7.6/Ash.Tracer.html"><code class="inline">Ash.Tracer</code></a>) - A tracer that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.Tracer.html"><code class="inline">Ash.Tracer</code></a> behaviour. See that module for more.</li><li><code class="inline">:action</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - The action to use, either an Action struct or the name of the action</li><li><code class="inline">:authorize?</code> - If an actor option is provided (even if it is <code class="inline">nil</code>), authorization happens automatically. If not, this flag can be used to authorize with no user.</li><li><code class="inline">:context</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">map/0</code></a>) - Context to set on the query, changeset, or input</li><li><code class="inline">:tenant</code> (value that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.ToTenant.html"><code class="inline">Ash.ToTenant</code></a> protocol) - A tenant to set on the query or changeset</li><li><code class="inline">:actor</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - If an actor is provided, it will be used in conjunction with the authorizers of a resource to authorize access</li><li><code class="inline">:scope</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A value that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> protocol, for passing around actor/tenant/context in a single value. See <a href="https://hexdocs.pm/ash/3.7.6/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> for more.</li><li><code class="inline">:query</code> - A query to seed the action with.</li><li><code class="inline">:not_found_error?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to return or raise a <code class="inline">NotFound</code> error or to return <code class="inline">nil</code> when a get? action/interface is called.</li><li><code class="inline">:stream?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If true, a stream of the results will be returned The default value is <code class="inline">false</code>.</li><li><code class="inline">:stream_options</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">keyword/0</code></a>) - Options passed to <code class="inline">Ash.stream!</code>, if <code class="inline">stream?: true</code> is given<ul><li><code class="inline">:batch_size</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">integer/0</code></a>) - How many records to request in each query run. Defaults to the pagination limits on the resource, or 250.</li><li><code class="inline">:allow_stream_with</code> - The 'worst' strategy allowed to be used to fetch records. See <a href="https://hexdocs.pm/ash/3.7.6/Ash.html#stream!/2"><code class="inline">Ash.stream!/2</code></a> docs for more. The default value is <code class="inline">:keyset</code>.</li><li><code class="inline">:stream_with</code> - The specific strategy to use to fetch records. See <a href="https://hexdocs.pm/ash/3.7.6/Ash.html#stream!/2"><code class="inline">Ash.stream!/2</code></a> docs for more.</li></ul></li></ul>
  </section>
</section>
<section class="detail" id="get_agency_by_code!/3">

    <span id="get_agency_by_code!/1"></span>

    <span id="get_agency_by_code!/2"></span>

  <div class="detail-header">
    <a href="#get_agency_by_code!/3" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">get_agency_by_code!(code, params \\ nil, opts \\ nil)</h1>


    </div>
  </div>

  <section class="docstring">

<p>Calls the read action on EhsEnforcement.Enforcement.Agency.
Raises any errors instead of returning them</p><h2 id="get_agency_by_code!/3-options" class="section-heading"><a href="#get_agency_by_code!/3-options" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Options</span></h2><ul><li><code class="inline">:page</code> - Pagination options, see <a href="https://hexdocs.pm/ash/3.7.6/Ash.html#read/2"><code class="inline">Ash.read/2</code></a> for more.</li><li><code class="inline">:load</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A load statement to add onto the query</li><li><code class="inline">:max_concurrency</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">non_neg_integer/0</code></a>) - The maximum number of processes allowed to be started for parallel loading of relationships and calculations. Defaults to <code class="inline">System.schedulers_online() * 2</code></li><li><code class="inline">:lock</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A lock statement to add onto the query</li><li><code class="inline">:return_query?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If <code class="inline">true</code>, the query that was ultimately used is returned as a third tuple element.<br/>The query goes through many potential changes during a request, potentially adding
authorization filters, or replacing relationships for other data layers with their
corresponding ids. This option can be used to get the true query that was sent to
the data layer. The default value is <code class="inline">false</code>.</li><li><code class="inline">:skip_unknown_inputs</code> - A list of inputs that, if provided, will be ignored if they are not recognized by the action. Use <code class="inline">:*</code> to indicate all unknown keys.</li><li><code class="inline">:reuse_values?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether calculations are allowed to reuse values that have already been loaded, or must refetch them from the data layer. The default value is <code class="inline">false</code>.</li><li><code class="inline">:strict?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If set to true, only specified attributes will be loaded when passing
  a list of fields to fetch on a relationship, which allows for more
  optimized data-fetching.<br/>  See <a href="https://hexdocs.pm/ash/3.7.6/Ash.Query.html#load/2"><code class="inline">Ash.Query.load/2</code></a>. The default value is <code class="inline">false</code>.</li><li><code class="inline">:authorize_with</code> - If set to <code class="inline">:error</code>, instead of applying authorization filters as a filter, any records not matching the authorization filter will cause an error to be returned. Valid values are :filter, :error The default value is <code class="inline">:filter</code>.</li><li><code class="inline">:timeout</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">timeout/0</code></a>) - A positive integer, or <code class="inline">:infinity</code>. If none is provided, the timeout configured on the domain is used.</li><li><code class="inline">:tracer</code> (one or a list of module that adopts <a href="https://hexdocs.pm/ash/3.7.6/Ash.Tracer.html"><code class="inline">Ash.Tracer</code></a>) - A tracer that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.Tracer.html"><code class="inline">Ash.Tracer</code></a> behaviour. See that module for more.</li><li><code class="inline">:action</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - The action to use, either an Action struct or the name of the action</li><li><code class="inline">:authorize?</code> - If an actor option is provided (even if it is <code class="inline">nil</code>), authorization happens automatically. If not, this flag can be used to authorize with no user.</li><li><code class="inline">:context</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">map/0</code></a>) - Context to set on the query, changeset, or input</li><li><code class="inline">:tenant</code> (value that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.ToTenant.html"><code class="inline">Ash.ToTenant</code></a> protocol) - A tenant to set on the query or changeset</li><li><code class="inline">:actor</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - If an actor is provided, it will be used in conjunction with the authorizers of a resource to authorize access</li><li><code class="inline">:scope</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A value that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> protocol, for passing around actor/tenant/context in a single value. See <a href="https://hexdocs.pm/ash/3.7.6/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> for more.</li><li><code class="inline">:query</code> - A query to seed the action with.</li><li><code class="inline">:not_found_error?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to return or raise a <code class="inline">NotFound</code> error or to return <code class="inline">nil</code> when a get? action/interface is called.</li><li><code class="inline">:stream?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If true, a stream of the results will be returned The default value is <code class="inline">false</code>.</li><li><code class="inline">:stream_options</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">keyword/0</code></a>) - Options passed to <code class="inline">Ash.stream!</code>, if <code class="inline">stream?: true</code> is given<ul><li><code class="inline">:batch_size</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">integer/0</code></a>) - How many records to request in each query run. Defaults to the pagination limits on the resource, or 250.</li><li><code class="inline">:allow_stream_with</code> - The 'worst' strategy allowed to be used to fetch records. See <a href="https://hexdocs.pm/ash/3.7.6/Ash.html#stream!/2"><code class="inline">Ash.stream!/2</code></a> docs for more. The default value is <code class="inline">:keyset</code>.</li><li><code class="inline">:stream_with</code> - The specific strategy to use to fetch records. See <a href="https://hexdocs.pm/ash/3.7.6/Ash.html#stream!/2"><code class="inline">Ash.stream!/2</code></a> docs for more.</li></ul></li></ul>
  </section>
</section>
<section class="detail" id="get_case/3">

    <span id="get_case/1"></span>

    <span id="get_case/2"></span>

  <div class="detail-header">
    <a href="#get_case/3" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">get_case(id, params \\ nil, opts \\ nil)</h1>


    </div>
  </div>

  <section class="docstring">

<p>Calls the read action on EhsEnforcement.Enforcement.Case.</p><h2 id="get_case/3-options" class="section-heading"><a href="#get_case/3-options" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Options</span></h2><ul><li><code class="inline">:page</code> - Pagination options, see <a href="https://hexdocs.pm/ash/3.7.6/Ash.html#read/2"><code class="inline">Ash.read/2</code></a> for more.</li><li><code class="inline">:load</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A load statement to add onto the query</li><li><code class="inline">:max_concurrency</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">non_neg_integer/0</code></a>) - The maximum number of processes allowed to be started for parallel loading of relationships and calculations. Defaults to <code class="inline">System.schedulers_online() * 2</code></li><li><code class="inline">:lock</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A lock statement to add onto the query</li><li><code class="inline">:return_query?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If <code class="inline">true</code>, the query that was ultimately used is returned as a third tuple element.<br/>The query goes through many potential changes during a request, potentially adding
authorization filters, or replacing relationships for other data layers with their
corresponding ids. This option can be used to get the true query that was sent to
the data layer. The default value is <code class="inline">false</code>.</li><li><code class="inline">:skip_unknown_inputs</code> - A list of inputs that, if provided, will be ignored if they are not recognized by the action. Use <code class="inline">:*</code> to indicate all unknown keys.</li><li><code class="inline">:reuse_values?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether calculations are allowed to reuse values that have already been loaded, or must refetch them from the data layer. The default value is <code class="inline">false</code>.</li><li><code class="inline">:strict?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If set to true, only specified attributes will be loaded when passing
  a list of fields to fetch on a relationship, which allows for more
  optimized data-fetching.<br/>  See <a href="https://hexdocs.pm/ash/3.7.6/Ash.Query.html#load/2"><code class="inline">Ash.Query.load/2</code></a>. The default value is <code class="inline">false</code>.</li><li><code class="inline">:authorize_with</code> - If set to <code class="inline">:error</code>, instead of applying authorization filters as a filter, any records not matching the authorization filter will cause an error to be returned. Valid values are :filter, :error The default value is <code class="inline">:filter</code>.</li><li><code class="inline">:timeout</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">timeout/0</code></a>) - A positive integer, or <code class="inline">:infinity</code>. If none is provided, the timeout configured on the domain is used.</li><li><code class="inline">:tracer</code> (one or a list of module that adopts <a href="https://hexdocs.pm/ash/3.7.6/Ash.Tracer.html"><code class="inline">Ash.Tracer</code></a>) - A tracer that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.Tracer.html"><code class="inline">Ash.Tracer</code></a> behaviour. See that module for more.</li><li><code class="inline">:action</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - The action to use, either an Action struct or the name of the action</li><li><code class="inline">:authorize?</code> - If an actor option is provided (even if it is <code class="inline">nil</code>), authorization happens automatically. If not, this flag can be used to authorize with no user.</li><li><code class="inline">:context</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">map/0</code></a>) - Context to set on the query, changeset, or input</li><li><code class="inline">:tenant</code> (value that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.ToTenant.html"><code class="inline">Ash.ToTenant</code></a> protocol) - A tenant to set on the query or changeset</li><li><code class="inline">:actor</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - If an actor is provided, it will be used in conjunction with the authorizers of a resource to authorize access</li><li><code class="inline">:scope</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A value that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> protocol, for passing around actor/tenant/context in a single value. See <a href="https://hexdocs.pm/ash/3.7.6/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> for more.</li><li><code class="inline">:query</code> - A query to seed the action with.</li><li><code class="inline">:not_found_error?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to return or raise a <code class="inline">NotFound</code> error or to return <code class="inline">nil</code> when a get? action/interface is called.</li><li><code class="inline">:stream?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If true, a stream of the results will be returned The default value is <code class="inline">false</code>.</li><li><code class="inline">:stream_options</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">keyword/0</code></a>) - Options passed to <code class="inline">Ash.stream!</code>, if <code class="inline">stream?: true</code> is given<ul><li><code class="inline">:batch_size</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">integer/0</code></a>) - How many records to request in each query run. Defaults to the pagination limits on the resource, or 250.</li><li><code class="inline">:allow_stream_with</code> - The 'worst' strategy allowed to be used to fetch records. See <a href="https://hexdocs.pm/ash/3.7.6/Ash.html#stream!/2"><code class="inline">Ash.stream!/2</code></a> docs for more. The default value is <code class="inline">:keyset</code>.</li><li><code class="inline">:stream_with</code> - The specific strategy to use to fetch records. See <a href="https://hexdocs.pm/ash/3.7.6/Ash.html#stream!/2"><code class="inline">Ash.stream!/2</code></a> docs for more.</li></ul></li></ul>
  </section>
</section>
<section class="detail" id="get_case!/3">

    <span id="get_case!/1"></span>

    <span id="get_case!/2"></span>

  <div class="detail-header">
    <a href="#get_case!/3" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">get_case!(id, params \\ nil, opts \\ nil)</h1>


    </div>
  </div>

  <section class="docstring">

<p>Calls the read action on EhsEnforcement.Enforcement.Case.
Raises any errors instead of returning them</p><h2 id="get_case!/3-options" class="section-heading"><a href="#get_case!/3-options" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Options</span></h2><ul><li><code class="inline">:page</code> - Pagination options, see <a href="https://hexdocs.pm/ash/3.7.6/Ash.html#read/2"><code class="inline">Ash.read/2</code></a> for more.</li><li><code class="inline">:load</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A load statement to add onto the query</li><li><code class="inline">:max_concurrency</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">non_neg_integer/0</code></a>) - The maximum number of processes allowed to be started for parallel loading of relationships and calculations. Defaults to <code class="inline">System.schedulers_online() * 2</code></li><li><code class="inline">:lock</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A lock statement to add onto the query</li><li><code class="inline">:return_query?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If <code class="inline">true</code>, the query that was ultimately used is returned as a third tuple element.<br/>The query goes through many potential changes during a request, potentially adding
authorization filters, or replacing relationships for other data layers with their
corresponding ids. This option can be used to get the true query that was sent to
the data layer. The default value is <code class="inline">false</code>.</li><li><code class="inline">:skip_unknown_inputs</code> - A list of inputs that, if provided, will be ignored if they are not recognized by the action. Use <code class="inline">:*</code> to indicate all unknown keys.</li><li><code class="inline">:reuse_values?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether calculations are allowed to reuse values that have already been loaded, or must refetch them from the data layer. The default value is <code class="inline">false</code>.</li><li><code class="inline">:strict?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If set to true, only specified attributes will be loaded when passing
  a list of fields to fetch on a relationship, which allows for more
  optimized data-fetching.<br/>  See <a href="https://hexdocs.pm/ash/3.7.6/Ash.Query.html#load/2"><code class="inline">Ash.Query.load/2</code></a>. The default value is <code class="inline">false</code>.</li><li><code class="inline">:authorize_with</code> - If set to <code class="inline">:error</code>, instead of applying authorization filters as a filter, any records not matching the authorization filter will cause an error to be returned. Valid values are :filter, :error The default value is <code class="inline">:filter</code>.</li><li><code class="inline">:timeout</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">timeout/0</code></a>) - A positive integer, or <code class="inline">:infinity</code>. If none is provided, the timeout configured on the domain is used.</li><li><code class="inline">:tracer</code> (one or a list of module that adopts <a href="https://hexdocs.pm/ash/3.7.6/Ash.Tracer.html"><code class="inline">Ash.Tracer</code></a>) - A tracer that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.Tracer.html"><code class="inline">Ash.Tracer</code></a> behaviour. See that module for more.</li><li><code class="inline">:action</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - The action to use, either an Action struct or the name of the action</li><li><code class="inline">:authorize?</code> - If an actor option is provided (even if it is <code class="inline">nil</code>), authorization happens automatically. If not, this flag can be used to authorize with no user.</li><li><code class="inline">:context</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">map/0</code></a>) - Context to set on the query, changeset, or input</li><li><code class="inline">:tenant</code> (value that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.ToTenant.html"><code class="inline">Ash.ToTenant</code></a> protocol) - A tenant to set on the query or changeset</li><li><code class="inline">:actor</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - If an actor is provided, it will be used in conjunction with the authorizers of a resource to authorize access</li><li><code class="inline">:scope</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A value that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> protocol, for passing around actor/tenant/context in a single value. See <a href="https://hexdocs.pm/ash/3.7.6/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> for more.</li><li><code class="inline">:query</code> - A query to seed the action with.</li><li><code class="inline">:not_found_error?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to return or raise a <code class="inline">NotFound</code> error or to return <code class="inline">nil</code> when a get? action/interface is called.</li><li><code class="inline">:stream?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If true, a stream of the results will be returned The default value is <code class="inline">false</code>.</li><li><code class="inline">:stream_options</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">keyword/0</code></a>) - Options passed to <code class="inline">Ash.stream!</code>, if <code class="inline">stream?: true</code> is given<ul><li><code class="inline">:batch_size</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">integer/0</code></a>) - How many records to request in each query run. Defaults to the pagination limits on the resource, or 250.</li><li><code class="inline">:allow_stream_with</code> - The 'worst' strategy allowed to be used to fetch records. See <a href="https://hexdocs.pm/ash/3.7.6/Ash.html#stream!/2"><code class="inline">Ash.stream!/2</code></a> docs for more. The default value is <code class="inline">:keyset</code>.</li><li><code class="inline">:stream_with</code> - The specific strategy to use to fetch records. See <a href="https://hexdocs.pm/ash/3.7.6/Ash.html#stream!/2"><code class="inline">Ash.stream!/2</code></a> docs for more.</li></ul></li></ul>
  </section>
</section>
<section class="detail" id="get_current_metrics/2">

    <span id="get_current_metrics/0"></span>

    <span id="get_current_metrics/1"></span>

  <div class="detail-header">
    <a href="#get_current_metrics/2" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">get_current_metrics(params \\ nil, opts \\ nil)</h1>


    </div>
  </div>

  <section class="docstring">

<p>Get the most recent metrics for each time period</p><h2 id="get_current_metrics/2-options" class="section-heading"><a href="#get_current_metrics/2-options" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Options</span></h2><ul><li><code class="inline">:page</code> - Pagination options, see <a href="https://hexdocs.pm/ash/3.7.6/Ash.html#read/2"><code class="inline">Ash.read/2</code></a> for more.</li><li><code class="inline">:load</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A load statement to add onto the query</li><li><code class="inline">:max_concurrency</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">non_neg_integer/0</code></a>) - The maximum number of processes allowed to be started for parallel loading of relationships and calculations. Defaults to <code class="inline">System.schedulers_online() * 2</code></li><li><code class="inline">:lock</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A lock statement to add onto the query</li><li><code class="inline">:return_query?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If <code class="inline">true</code>, the query that was ultimately used is returned as a third tuple element.<br/>The query goes through many potential changes during a request, potentially adding
authorization filters, or replacing relationships for other data layers with their
corresponding ids. This option can be used to get the true query that was sent to
the data layer. The default value is <code class="inline">false</code>.</li><li><code class="inline">:skip_unknown_inputs</code> - A list of inputs that, if provided, will be ignored if they are not recognized by the action. Use <code class="inline">:*</code> to indicate all unknown keys.</li><li><code class="inline">:reuse_values?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether calculations are allowed to reuse values that have already been loaded, or must refetch them from the data layer. The default value is <code class="inline">false</code>.</li><li><code class="inline">:strict?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If set to true, only specified attributes will be loaded when passing
  a list of fields to fetch on a relationship, which allows for more
  optimized data-fetching.<br/>  See <a href="https://hexdocs.pm/ash/3.7.6/Ash.Query.html#load/2"><code class="inline">Ash.Query.load/2</code></a>. The default value is <code class="inline">false</code>.</li><li><code class="inline">:authorize_with</code> - If set to <code class="inline">:error</code>, instead of applying authorization filters as a filter, any records not matching the authorization filter will cause an error to be returned. Valid values are :filter, :error The default value is <code class="inline">:filter</code>.</li><li><code class="inline">:timeout</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">timeout/0</code></a>) - A positive integer, or <code class="inline">:infinity</code>. If none is provided, the timeout configured on the domain is used.</li><li><code class="inline">:tracer</code> (one or a list of module that adopts <a href="https://hexdocs.pm/ash/3.7.6/Ash.Tracer.html"><code class="inline">Ash.Tracer</code></a>) - A tracer that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.Tracer.html"><code class="inline">Ash.Tracer</code></a> behaviour. See that module for more.</li><li><code class="inline">:action</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - The action to use, either an Action struct or the name of the action</li><li><code class="inline">:authorize?</code> - If an actor option is provided (even if it is <code class="inline">nil</code>), authorization happens automatically. If not, this flag can be used to authorize with no user.</li><li><code class="inline">:context</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">map/0</code></a>) - Context to set on the query, changeset, or input</li><li><code class="inline">:tenant</code> (value that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.ToTenant.html"><code class="inline">Ash.ToTenant</code></a> protocol) - A tenant to set on the query or changeset</li><li><code class="inline">:actor</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - If an actor is provided, it will be used in conjunction with the authorizers of a resource to authorize access</li><li><code class="inline">:scope</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A value that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> protocol, for passing around actor/tenant/context in a single value. See <a href="https://hexdocs.pm/ash/3.7.6/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> for more.</li><li><code class="inline">:query</code> - A query to seed the action with.</li><li><code class="inline">:not_found_error?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to return or raise a <code class="inline">NotFound</code> error or to return <code class="inline">nil</code> when a get? action/interface is called.</li><li><code class="inline">:stream?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If true, a stream of the results will be returned The default value is <code class="inline">false</code>.</li><li><code class="inline">:stream_options</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">keyword/0</code></a>) - Options passed to <code class="inline">Ash.stream!</code>, if <code class="inline">stream?: true</code> is given<ul><li><code class="inline">:batch_size</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">integer/0</code></a>) - How many records to request in each query run. Defaults to the pagination limits on the resource, or 250.</li><li><code class="inline">:allow_stream_with</code> - The 'worst' strategy allowed to be used to fetch records. See <a href="https://hexdocs.pm/ash/3.7.6/Ash.html#stream!/2"><code class="inline">Ash.stream!/2</code></a> docs for more. The default value is <code class="inline">:keyset</code>.</li><li><code class="inline">:stream_with</code> - The specific strategy to use to fetch records. See <a href="https://hexdocs.pm/ash/3.7.6/Ash.html#stream!/2"><code class="inline">Ash.stream!/2</code></a> docs for more.</li></ul></li></ul>
  </section>
</section>
<section class="detail" id="get_current_metrics!/2">

    <span id="get_current_metrics!/0"></span>

    <span id="get_current_metrics!/1"></span>

  <div class="detail-header">
    <a href="#get_current_metrics!/2" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">get_current_metrics!(params \\ nil, opts \\ nil)</h1>


    </div>
  </div>

  <section class="docstring">

<p>Get the most recent metrics for each time period
Raises any errors instead of returning them</p><h2 id="get_current_metrics!/2-options" class="section-heading"><a href="#get_current_metrics!/2-options" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Options</span></h2><ul><li><code class="inline">:page</code> - Pagination options, see <a href="https://hexdocs.pm/ash/3.7.6/Ash.html#read/2"><code class="inline">Ash.read/2</code></a> for more.</li><li><code class="inline">:load</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A load statement to add onto the query</li><li><code class="inline">:max_concurrency</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">non_neg_integer/0</code></a>) - The maximum number of processes allowed to be started for parallel loading of relationships and calculations. Defaults to <code class="inline">System.schedulers_online() * 2</code></li><li><code class="inline">:lock</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A lock statement to add onto the query</li><li><code class="inline">:return_query?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If <code class="inline">true</code>, the query that was ultimately used is returned as a third tuple element.<br/>The query goes through many potential changes during a request, potentially adding
authorization filters, or replacing relationships for other data layers with their
corresponding ids. This option can be used to get the true query that was sent to
the data layer. The default value is <code class="inline">false</code>.</li><li><code class="inline">:skip_unknown_inputs</code> - A list of inputs that, if provided, will be ignored if they are not recognized by the action. Use <code class="inline">:*</code> to indicate all unknown keys.</li><li><code class="inline">:reuse_values?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether calculations are allowed to reuse values that have already been loaded, or must refetch them from the data layer. The default value is <code class="inline">false</code>.</li><li><code class="inline">:strict?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If set to true, only specified attributes will be loaded when passing
  a list of fields to fetch on a relationship, which allows for more
  optimized data-fetching.<br/>  See <a href="https://hexdocs.pm/ash/3.7.6/Ash.Query.html#load/2"><code class="inline">Ash.Query.load/2</code></a>. The default value is <code class="inline">false</code>.</li><li><code class="inline">:authorize_with</code> - If set to <code class="inline">:error</code>, instead of applying authorization filters as a filter, any records not matching the authorization filter will cause an error to be returned. Valid values are :filter, :error The default value is <code class="inline">:filter</code>.</li><li><code class="inline">:timeout</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">timeout/0</code></a>) - A positive integer, or <code class="inline">:infinity</code>. If none is provided, the timeout configured on the domain is used.</li><li><code class="inline">:tracer</code> (one or a list of module that adopts <a href="https://hexdocs.pm/ash/3.7.6/Ash.Tracer.html"><code class="inline">Ash.Tracer</code></a>) - A tracer that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.Tracer.html"><code class="inline">Ash.Tracer</code></a> behaviour. See that module for more.</li><li><code class="inline">:action</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - The action to use, either an Action struct or the name of the action</li><li><code class="inline">:authorize?</code> - If an actor option is provided (even if it is <code class="inline">nil</code>), authorization happens automatically. If not, this flag can be used to authorize with no user.</li><li><code class="inline">:context</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">map/0</code></a>) - Context to set on the query, changeset, or input</li><li><code class="inline">:tenant</code> (value that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.ToTenant.html"><code class="inline">Ash.ToTenant</code></a> protocol) - A tenant to set on the query or changeset</li><li><code class="inline">:actor</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - If an actor is provided, it will be used in conjunction with the authorizers of a resource to authorize access</li><li><code class="inline">:scope</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A value that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> protocol, for passing around actor/tenant/context in a single value. See <a href="https://hexdocs.pm/ash/3.7.6/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> for more.</li><li><code class="inline">:query</code> - A query to seed the action with.</li><li><code class="inline">:not_found_error?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to return or raise a <code class="inline">NotFound</code> error or to return <code class="inline">nil</code> when a get? action/interface is called.</li><li><code class="inline">:stream?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If true, a stream of the results will be returned The default value is <code class="inline">false</code>.</li><li><code class="inline">:stream_options</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">keyword/0</code></a>) - Options passed to <code class="inline">Ash.stream!</code>, if <code class="inline">stream?: true</code> is given<ul><li><code class="inline">:batch_size</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">integer/0</code></a>) - How many records to request in each query run. Defaults to the pagination limits on the resource, or 250.</li><li><code class="inline">:allow_stream_with</code> - The 'worst' strategy allowed to be used to fetch records. See <a href="https://hexdocs.pm/ash/3.7.6/Ash.html#stream!/2"><code class="inline">Ash.stream!/2</code></a> docs for more. The default value is <code class="inline">:keyset</code>.</li><li><code class="inline">:stream_with</code> - The specific strategy to use to fetch records. See <a href="https://hexdocs.pm/ash/3.7.6/Ash.html#stream!/2"><code class="inline">Ash.stream!/2</code></a> docs for more.</li></ul></li></ul>
  </section>
</section>
<section class="detail" id="get_legislation/3">

    <span id="get_legislation/1"></span>

    <span id="get_legislation/2"></span>

  <div class="detail-header">
    <a href="#get_legislation/3" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">get_legislation(id, params \\ nil, opts \\ nil)</h1>


    </div>
  </div>

  <section class="docstring">

<p>Calls the read action on EhsEnforcement.Enforcement.Legislation.</p><h2 id="get_legislation/3-options" class="section-heading"><a href="#get_legislation/3-options" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Options</span></h2><ul><li><code class="inline">:page</code> - Pagination options, see <a href="https://hexdocs.pm/ash/3.7.6/Ash.html#read/2"><code class="inline">Ash.read/2</code></a> for more.</li><li><code class="inline">:load</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A load statement to add onto the query</li><li><code class="inline">:max_concurrency</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">non_neg_integer/0</code></a>) - The maximum number of processes allowed to be started for parallel loading of relationships and calculations. Defaults to <code class="inline">System.schedulers_online() * 2</code></li><li><code class="inline">:lock</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A lock statement to add onto the query</li><li><code class="inline">:return_query?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If <code class="inline">true</code>, the query that was ultimately used is returned as a third tuple element.<br/>The query goes through many potential changes during a request, potentially adding
authorization filters, or replacing relationships for other data layers with their
corresponding ids. This option can be used to get the true query that was sent to
the data layer. The default value is <code class="inline">false</code>.</li><li><code class="inline">:skip_unknown_inputs</code> - A list of inputs that, if provided, will be ignored if they are not recognized by the action. Use <code class="inline">:*</code> to indicate all unknown keys.</li><li><code class="inline">:reuse_values?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether calculations are allowed to reuse values that have already been loaded, or must refetch them from the data layer. The default value is <code class="inline">false</code>.</li><li><code class="inline">:strict?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If set to true, only specified attributes will be loaded when passing
  a list of fields to fetch on a relationship, which allows for more
  optimized data-fetching.<br/>  See <a href="https://hexdocs.pm/ash/3.7.6/Ash.Query.html#load/2"><code class="inline">Ash.Query.load/2</code></a>. The default value is <code class="inline">false</code>.</li><li><code class="inline">:authorize_with</code> - If set to <code class="inline">:error</code>, instead of applying authorization filters as a filter, any records not matching the authorization filter will cause an error to be returned. Valid values are :filter, :error The default value is <code class="inline">:filter</code>.</li><li><code class="inline">:timeout</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">timeout/0</code></a>) - A positive integer, or <code class="inline">:infinity</code>. If none is provided, the timeout configured on the domain is used.</li><li><code class="inline">:tracer</code> (one or a list of module that adopts <a href="https://hexdocs.pm/ash/3.7.6/Ash.Tracer.html"><code class="inline">Ash.Tracer</code></a>) - A tracer that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.Tracer.html"><code class="inline">Ash.Tracer</code></a> behaviour. See that module for more.</li><li><code class="inline">:action</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - The action to use, either an Action struct or the name of the action</li><li><code class="inline">:authorize?</code> - If an actor option is provided (even if it is <code class="inline">nil</code>), authorization happens automatically. If not, this flag can be used to authorize with no user.</li><li><code class="inline">:context</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">map/0</code></a>) - Context to set on the query, changeset, or input</li><li><code class="inline">:tenant</code> (value that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.ToTenant.html"><code class="inline">Ash.ToTenant</code></a> protocol) - A tenant to set on the query or changeset</li><li><code class="inline">:actor</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - If an actor is provided, it will be used in conjunction with the authorizers of a resource to authorize access</li><li><code class="inline">:scope</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A value that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> protocol, for passing around actor/tenant/context in a single value. See <a href="https://hexdocs.pm/ash/3.7.6/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> for more.</li><li><code class="inline">:query</code> - A query to seed the action with.</li><li><code class="inline">:not_found_error?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to return or raise a <code class="inline">NotFound</code> error or to return <code class="inline">nil</code> when a get? action/interface is called.</li><li><code class="inline">:stream?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If true, a stream of the results will be returned The default value is <code class="inline">false</code>.</li><li><code class="inline">:stream_options</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">keyword/0</code></a>) - Options passed to <code class="inline">Ash.stream!</code>, if <code class="inline">stream?: true</code> is given<ul><li><code class="inline">:batch_size</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">integer/0</code></a>) - How many records to request in each query run. Defaults to the pagination limits on the resource, or 250.</li><li><code class="inline">:allow_stream_with</code> - The 'worst' strategy allowed to be used to fetch records. See <a href="https://hexdocs.pm/ash/3.7.6/Ash.html#stream!/2"><code class="inline">Ash.stream!/2</code></a> docs for more. The default value is <code class="inline">:keyset</code>.</li><li><code class="inline">:stream_with</code> - The specific strategy to use to fetch records. See <a href="https://hexdocs.pm/ash/3.7.6/Ash.html#stream!/2"><code class="inline">Ash.stream!/2</code></a> docs for more.</li></ul></li></ul>
  </section>
</section>
<section class="detail" id="get_legislation!/3">

    <span id="get_legislation!/1"></span>

    <span id="get_legislation!/2"></span>

  <div class="detail-header">
    <a href="#get_legislation!/3" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">get_legislation!(id, params \\ nil, opts \\ nil)</h1>


    </div>
  </div>

  <section class="docstring">

<p>Calls the read action on EhsEnforcement.Enforcement.Legislation.
Raises any errors instead of returning them</p><h2 id="get_legislation!/3-options" class="section-heading"><a href="#get_legislation!/3-options" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Options</span></h2><ul><li><code class="inline">:page</code> - Pagination options, see <a href="https://hexdocs.pm/ash/3.7.6/Ash.html#read/2"><code class="inline">Ash.read/2</code></a> for more.</li><li><code class="inline">:load</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A load statement to add onto the query</li><li><code class="inline">:max_concurrency</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">non_neg_integer/0</code></a>) - The maximum number of processes allowed to be started for parallel loading of relationships and calculations. Defaults to <code class="inline">System.schedulers_online() * 2</code></li><li><code class="inline">:lock</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A lock statement to add onto the query</li><li><code class="inline">:return_query?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If <code class="inline">true</code>, the query that was ultimately used is returned as a third tuple element.<br/>The query goes through many potential changes during a request, potentially adding
authorization filters, or replacing relationships for other data layers with their
corresponding ids. This option can be used to get the true query that was sent to
the data layer. The default value is <code class="inline">false</code>.</li><li><code class="inline">:skip_unknown_inputs</code> - A list of inputs that, if provided, will be ignored if they are not recognized by the action. Use <code class="inline">:*</code> to indicate all unknown keys.</li><li><code class="inline">:reuse_values?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether calculations are allowed to reuse values that have already been loaded, or must refetch them from the data layer. The default value is <code class="inline">false</code>.</li><li><code class="inline">:strict?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If set to true, only specified attributes will be loaded when passing
  a list of fields to fetch on a relationship, which allows for more
  optimized data-fetching.<br/>  See <a href="https://hexdocs.pm/ash/3.7.6/Ash.Query.html#load/2"><code class="inline">Ash.Query.load/2</code></a>. The default value is <code class="inline">false</code>.</li><li><code class="inline">:authorize_with</code> - If set to <code class="inline">:error</code>, instead of applying authorization filters as a filter, any records not matching the authorization filter will cause an error to be returned. Valid values are :filter, :error The default value is <code class="inline">:filter</code>.</li><li><code class="inline">:timeout</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">timeout/0</code></a>) - A positive integer, or <code class="inline">:infinity</code>. If none is provided, the timeout configured on the domain is used.</li><li><code class="inline">:tracer</code> (one or a list of module that adopts <a href="https://hexdocs.pm/ash/3.7.6/Ash.Tracer.html"><code class="inline">Ash.Tracer</code></a>) - A tracer that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.Tracer.html"><code class="inline">Ash.Tracer</code></a> behaviour. See that module for more.</li><li><code class="inline">:action</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - The action to use, either an Action struct or the name of the action</li><li><code class="inline">:authorize?</code> - If an actor option is provided (even if it is <code class="inline">nil</code>), authorization happens automatically. If not, this flag can be used to authorize with no user.</li><li><code class="inline">:context</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">map/0</code></a>) - Context to set on the query, changeset, or input</li><li><code class="inline">:tenant</code> (value that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.ToTenant.html"><code class="inline">Ash.ToTenant</code></a> protocol) - A tenant to set on the query or changeset</li><li><code class="inline">:actor</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - If an actor is provided, it will be used in conjunction with the authorizers of a resource to authorize access</li><li><code class="inline">:scope</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A value that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> protocol, for passing around actor/tenant/context in a single value. See <a href="https://hexdocs.pm/ash/3.7.6/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> for more.</li><li><code class="inline">:query</code> - A query to seed the action with.</li><li><code class="inline">:not_found_error?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to return or raise a <code class="inline">NotFound</code> error or to return <code class="inline">nil</code> when a get? action/interface is called.</li><li><code class="inline">:stream?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If true, a stream of the results will be returned The default value is <code class="inline">false</code>.</li><li><code class="inline">:stream_options</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">keyword/0</code></a>) - Options passed to <code class="inline">Ash.stream!</code>, if <code class="inline">stream?: true</code> is given<ul><li><code class="inline">:batch_size</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">integer/0</code></a>) - How many records to request in each query run. Defaults to the pagination limits on the resource, or 250.</li><li><code class="inline">:allow_stream_with</code> - The 'worst' strategy allowed to be used to fetch records. See <a href="https://hexdocs.pm/ash/3.7.6/Ash.html#stream!/2"><code class="inline">Ash.stream!/2</code></a> docs for more. The default value is <code class="inline">:keyset</code>.</li><li><code class="inline">:stream_with</code> - The specific strategy to use to fetch records. See <a href="https://hexdocs.pm/ash/3.7.6/Ash.html#stream!/2"><code class="inline">Ash.stream!/2</code></a> docs for more.</li></ul></li></ul>
  </section>
</section>
<section class="detail" id="get_legislation_stats/0">

  <div class="detail-header">
    <a href="#get_legislation_stats/0" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">get_legislation_stats()</h1>


    </div>
  </div>

  <section class="docstring">

<p>Get legislation statistics for monitoring duplicate prevention.</p>
  </section>
</section>
<section class="detail" id="get_notice/3">

    <span id="get_notice/1"></span>

    <span id="get_notice/2"></span>

  <div class="detail-header">
    <a href="#get_notice/3" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">get_notice(id, params \\ nil, opts \\ nil)</h1>


    </div>
  </div>

  <section class="docstring">

<p>Calls the read action on EhsEnforcement.Enforcement.Notice.</p><h2 id="get_notice/3-options" class="section-heading"><a href="#get_notice/3-options" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Options</span></h2><ul><li><code class="inline">:page</code> - Pagination options, see <a href="https://hexdocs.pm/ash/3.7.6/Ash.html#read/2"><code class="inline">Ash.read/2</code></a> for more.</li><li><code class="inline">:load</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A load statement to add onto the query</li><li><code class="inline">:max_concurrency</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">non_neg_integer/0</code></a>) - The maximum number of processes allowed to be started for parallel loading of relationships and calculations. Defaults to <code class="inline">System.schedulers_online() * 2</code></li><li><code class="inline">:lock</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A lock statement to add onto the query</li><li><code class="inline">:return_query?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If <code class="inline">true</code>, the query that was ultimately used is returned as a third tuple element.<br/>The query goes through many potential changes during a request, potentially adding
authorization filters, or replacing relationships for other data layers with their
corresponding ids. This option can be used to get the true query that was sent to
the data layer. The default value is <code class="inline">false</code>.</li><li><code class="inline">:skip_unknown_inputs</code> - A list of inputs that, if provided, will be ignored if they are not recognized by the action. Use <code class="inline">:*</code> to indicate all unknown keys.</li><li><code class="inline">:reuse_values?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether calculations are allowed to reuse values that have already been loaded, or must refetch them from the data layer. The default value is <code class="inline">false</code>.</li><li><code class="inline">:strict?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If set to true, only specified attributes will be loaded when passing
  a list of fields to fetch on a relationship, which allows for more
  optimized data-fetching.<br/>  See <a href="https://hexdocs.pm/ash/3.7.6/Ash.Query.html#load/2"><code class="inline">Ash.Query.load/2</code></a>. The default value is <code class="inline">false</code>.</li><li><code class="inline">:authorize_with</code> - If set to <code class="inline">:error</code>, instead of applying authorization filters as a filter, any records not matching the authorization filter will cause an error to be returned. Valid values are :filter, :error The default value is <code class="inline">:filter</code>.</li><li><code class="inline">:timeout</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">timeout/0</code></a>) - A positive integer, or <code class="inline">:infinity</code>. If none is provided, the timeout configured on the domain is used.</li><li><code class="inline">:tracer</code> (one or a list of module that adopts <a href="https://hexdocs.pm/ash/3.7.6/Ash.Tracer.html"><code class="inline">Ash.Tracer</code></a>) - A tracer that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.Tracer.html"><code class="inline">Ash.Tracer</code></a> behaviour. See that module for more.</li><li><code class="inline">:action</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - The action to use, either an Action struct or the name of the action</li><li><code class="inline">:authorize?</code> - If an actor option is provided (even if it is <code class="inline">nil</code>), authorization happens automatically. If not, this flag can be used to authorize with no user.</li><li><code class="inline">:context</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">map/0</code></a>) - Context to set on the query, changeset, or input</li><li><code class="inline">:tenant</code> (value that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.ToTenant.html"><code class="inline">Ash.ToTenant</code></a> protocol) - A tenant to set on the query or changeset</li><li><code class="inline">:actor</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - If an actor is provided, it will be used in conjunction with the authorizers of a resource to authorize access</li><li><code class="inline">:scope</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A value that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> protocol, for passing around actor/tenant/context in a single value. See <a href="https://hexdocs.pm/ash/3.7.6/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> for more.</li><li><code class="inline">:query</code> - A query to seed the action with.</li><li><code class="inline">:not_found_error?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to return or raise a <code class="inline">NotFound</code> error or to return <code class="inline">nil</code> when a get? action/interface is called.</li><li><code class="inline">:stream?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If true, a stream of the results will be returned The default value is <code class="inline">false</code>.</li><li><code class="inline">:stream_options</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">keyword/0</code></a>) - Options passed to <code class="inline">Ash.stream!</code>, if <code class="inline">stream?: true</code> is given<ul><li><code class="inline">:batch_size</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">integer/0</code></a>) - How many records to request in each query run. Defaults to the pagination limits on the resource, or 250.</li><li><code class="inline">:allow_stream_with</code> - The 'worst' strategy allowed to be used to fetch records. See <a href="https://hexdocs.pm/ash/3.7.6/Ash.html#stream!/2"><code class="inline">Ash.stream!/2</code></a> docs for more. The default value is <code class="inline">:keyset</code>.</li><li><code class="inline">:stream_with</code> - The specific strategy to use to fetch records. See <a href="https://hexdocs.pm/ash/3.7.6/Ash.html#stream!/2"><code class="inline">Ash.stream!/2</code></a> docs for more.</li></ul></li></ul>
  </section>
</section>
<section class="detail" id="get_notice!/3">

    <span id="get_notice!/1"></span>

    <span id="get_notice!/2"></span>

  <div class="detail-header">
    <a href="#get_notice!/3" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">get_notice!(id, params \\ nil, opts \\ nil)</h1>


    </div>
  </div>

  <section class="docstring">

<p>Calls the read action on EhsEnforcement.Enforcement.Notice.
Raises any errors instead of returning them</p><h2 id="get_notice!/3-options" class="section-heading"><a href="#get_notice!/3-options" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Options</span></h2><ul><li><code class="inline">:page</code> - Pagination options, see <a href="https://hexdocs.pm/ash/3.7.6/Ash.html#read/2"><code class="inline">Ash.read/2</code></a> for more.</li><li><code class="inline">:load</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A load statement to add onto the query</li><li><code class="inline">:max_concurrency</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">non_neg_integer/0</code></a>) - The maximum number of processes allowed to be started for parallel loading of relationships and calculations. Defaults to <code class="inline">System.schedulers_online() * 2</code></li><li><code class="inline">:lock</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A lock statement to add onto the query</li><li><code class="inline">:return_query?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If <code class="inline">true</code>, the query that was ultimately used is returned as a third tuple element.<br/>The query goes through many potential changes during a request, potentially adding
authorization filters, or replacing relationships for other data layers with their
corresponding ids. This option can be used to get the true query that was sent to
the data layer. The default value is <code class="inline">false</code>.</li><li><code class="inline">:skip_unknown_inputs</code> - A list of inputs that, if provided, will be ignored if they are not recognized by the action. Use <code class="inline">:*</code> to indicate all unknown keys.</li><li><code class="inline">:reuse_values?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether calculations are allowed to reuse values that have already been loaded, or must refetch them from the data layer. The default value is <code class="inline">false</code>.</li><li><code class="inline">:strict?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If set to true, only specified attributes will be loaded when passing
  a list of fields to fetch on a relationship, which allows for more
  optimized data-fetching.<br/>  See <a href="https://hexdocs.pm/ash/3.7.6/Ash.Query.html#load/2"><code class="inline">Ash.Query.load/2</code></a>. The default value is <code class="inline">false</code>.</li><li><code class="inline">:authorize_with</code> - If set to <code class="inline">:error</code>, instead of applying authorization filters as a filter, any records not matching the authorization filter will cause an error to be returned. Valid values are :filter, :error The default value is <code class="inline">:filter</code>.</li><li><code class="inline">:timeout</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">timeout/0</code></a>) - A positive integer, or <code class="inline">:infinity</code>. If none is provided, the timeout configured on the domain is used.</li><li><code class="inline">:tracer</code> (one or a list of module that adopts <a href="https://hexdocs.pm/ash/3.7.6/Ash.Tracer.html"><code class="inline">Ash.Tracer</code></a>) - A tracer that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.Tracer.html"><code class="inline">Ash.Tracer</code></a> behaviour. See that module for more.</li><li><code class="inline">:action</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - The action to use, either an Action struct or the name of the action</li><li><code class="inline">:authorize?</code> - If an actor option is provided (even if it is <code class="inline">nil</code>), authorization happens automatically. If not, this flag can be used to authorize with no user.</li><li><code class="inline">:context</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">map/0</code></a>) - Context to set on the query, changeset, or input</li><li><code class="inline">:tenant</code> (value that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.ToTenant.html"><code class="inline">Ash.ToTenant</code></a> protocol) - A tenant to set on the query or changeset</li><li><code class="inline">:actor</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - If an actor is provided, it will be used in conjunction with the authorizers of a resource to authorize access</li><li><code class="inline">:scope</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A value that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> protocol, for passing around actor/tenant/context in a single value. See <a href="https://hexdocs.pm/ash/3.7.6/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> for more.</li><li><code class="inline">:query</code> - A query to seed the action with.</li><li><code class="inline">:not_found_error?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to return or raise a <code class="inline">NotFound</code> error or to return <code class="inline">nil</code> when a get? action/interface is called.</li><li><code class="inline">:stream?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If true, a stream of the results will be returned The default value is <code class="inline">false</code>.</li><li><code class="inline">:stream_options</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">keyword/0</code></a>) - Options passed to <code class="inline">Ash.stream!</code>, if <code class="inline">stream?: true</code> is given<ul><li><code class="inline">:batch_size</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">integer/0</code></a>) - How many records to request in each query run. Defaults to the pagination limits on the resource, or 250.</li><li><code class="inline">:allow_stream_with</code> - The 'worst' strategy allowed to be used to fetch records. See <a href="https://hexdocs.pm/ash/3.7.6/Ash.html#stream!/2"><code class="inline">Ash.stream!/2</code></a> docs for more. The default value is <code class="inline">:keyset</code>.</li><li><code class="inline">:stream_with</code> - The specific strategy to use to fetch records. See <a href="https://hexdocs.pm/ash/3.7.6/Ash.html#stream!/2"><code class="inline">Ash.stream!/2</code></a> docs for more.</li></ul></li></ul>
  </section>
</section>
<section class="detail" id="get_offence/3">

    <span id="get_offence/1"></span>

    <span id="get_offence/2"></span>

  <div class="detail-header">
    <a href="#get_offence/3" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">get_offence(id, params \\ nil, opts \\ nil)</h1>


    </div>
  </div>

  <section class="docstring">

<p>Calls the read action on EhsEnforcement.Enforcement.Offence.</p><h2 id="get_offence/3-options" class="section-heading"><a href="#get_offence/3-options" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Options</span></h2><ul><li><code class="inline">:page</code> - Pagination options, see <a href="https://hexdocs.pm/ash/3.7.6/Ash.html#read/2"><code class="inline">Ash.read/2</code></a> for more.</li><li><code class="inline">:load</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A load statement to add onto the query</li><li><code class="inline">:max_concurrency</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">non_neg_integer/0</code></a>) - The maximum number of processes allowed to be started for parallel loading of relationships and calculations. Defaults to <code class="inline">System.schedulers_online() * 2</code></li><li><code class="inline">:lock</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A lock statement to add onto the query</li><li><code class="inline">:return_query?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If <code class="inline">true</code>, the query that was ultimately used is returned as a third tuple element.<br/>The query goes through many potential changes during a request, potentially adding
authorization filters, or replacing relationships for other data layers with their
corresponding ids. This option can be used to get the true query that was sent to
the data layer. The default value is <code class="inline">false</code>.</li><li><code class="inline">:skip_unknown_inputs</code> - A list of inputs that, if provided, will be ignored if they are not recognized by the action. Use <code class="inline">:*</code> to indicate all unknown keys.</li><li><code class="inline">:reuse_values?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether calculations are allowed to reuse values that have already been loaded, or must refetch them from the data layer. The default value is <code class="inline">false</code>.</li><li><code class="inline">:strict?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If set to true, only specified attributes will be loaded when passing
  a list of fields to fetch on a relationship, which allows for more
  optimized data-fetching.<br/>  See <a href="https://hexdocs.pm/ash/3.7.6/Ash.Query.html#load/2"><code class="inline">Ash.Query.load/2</code></a>. The default value is <code class="inline">false</code>.</li><li><code class="inline">:authorize_with</code> - If set to <code class="inline">:error</code>, instead of applying authorization filters as a filter, any records not matching the authorization filter will cause an error to be returned. Valid values are :filter, :error The default value is <code class="inline">:filter</code>.</li><li><code class="inline">:timeout</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">timeout/0</code></a>) - A positive integer, or <code class="inline">:infinity</code>. If none is provided, the timeout configured on the domain is used.</li><li><code class="inline">:tracer</code> (one or a list of module that adopts <a href="https://hexdocs.pm/ash/3.7.6/Ash.Tracer.html"><code class="inline">Ash.Tracer</code></a>) - A tracer that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.Tracer.html"><code class="inline">Ash.Tracer</code></a> behaviour. See that module for more.</li><li><code class="inline">:action</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - The action to use, either an Action struct or the name of the action</li><li><code class="inline">:authorize?</code> - If an actor option is provided (even if it is <code class="inline">nil</code>), authorization happens automatically. If not, this flag can be used to authorize with no user.</li><li><code class="inline">:context</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">map/0</code></a>) - Context to set on the query, changeset, or input</li><li><code class="inline">:tenant</code> (value that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.ToTenant.html"><code class="inline">Ash.ToTenant</code></a> protocol) - A tenant to set on the query or changeset</li><li><code class="inline">:actor</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - If an actor is provided, it will be used in conjunction with the authorizers of a resource to authorize access</li><li><code class="inline">:scope</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A value that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> protocol, for passing around actor/tenant/context in a single value. See <a href="https://hexdocs.pm/ash/3.7.6/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> for more.</li><li><code class="inline">:query</code> - A query to seed the action with.</li><li><code class="inline">:not_found_error?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to return or raise a <code class="inline">NotFound</code> error or to return <code class="inline">nil</code> when a get? action/interface is called.</li><li><code class="inline">:stream?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If true, a stream of the results will be returned The default value is <code class="inline">false</code>.</li><li><code class="inline">:stream_options</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">keyword/0</code></a>) - Options passed to <code class="inline">Ash.stream!</code>, if <code class="inline">stream?: true</code> is given<ul><li><code class="inline">:batch_size</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">integer/0</code></a>) - How many records to request in each query run. Defaults to the pagination limits on the resource, or 250.</li><li><code class="inline">:allow_stream_with</code> - The 'worst' strategy allowed to be used to fetch records. See <a href="https://hexdocs.pm/ash/3.7.6/Ash.html#stream!/2"><code class="inline">Ash.stream!/2</code></a> docs for more. The default value is <code class="inline">:keyset</code>.</li><li><code class="inline">:stream_with</code> - The specific strategy to use to fetch records. See <a href="https://hexdocs.pm/ash/3.7.6/Ash.html#stream!/2"><code class="inline">Ash.stream!/2</code></a> docs for more.</li></ul></li></ul>
  </section>
</section>
<section class="detail" id="get_offence!/3">

    <span id="get_offence!/1"></span>

    <span id="get_offence!/2"></span>

  <div class="detail-header">
    <a href="#get_offence!/3" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">get_offence!(id, params \\ nil, opts \\ nil)</h1>


    </div>
  </div>

  <section class="docstring">

<p>Calls the read action on EhsEnforcement.Enforcement.Offence.
Raises any errors instead of returning them</p><h2 id="get_offence!/3-options" class="section-heading"><a href="#get_offence!/3-options" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Options</span></h2><ul><li><code class="inline">:page</code> - Pagination options, see <a href="https://hexdocs.pm/ash/3.7.6/Ash.html#read/2"><code class="inline">Ash.read/2</code></a> for more.</li><li><code class="inline">:load</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A load statement to add onto the query</li><li><code class="inline">:max_concurrency</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">non_neg_integer/0</code></a>) - The maximum number of processes allowed to be started for parallel loading of relationships and calculations. Defaults to <code class="inline">System.schedulers_online() * 2</code></li><li><code class="inline">:lock</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A lock statement to add onto the query</li><li><code class="inline">:return_query?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If <code class="inline">true</code>, the query that was ultimately used is returned as a third tuple element.<br/>The query goes through many potential changes during a request, potentially adding
authorization filters, or replacing relationships for other data layers with their
corresponding ids. This option can be used to get the true query that was sent to
the data layer. The default value is <code class="inline">false</code>.</li><li><code class="inline">:skip_unknown_inputs</code> - A list of inputs that, if provided, will be ignored if they are not recognized by the action. Use <code class="inline">:*</code> to indicate all unknown keys.</li><li><code class="inline">:reuse_values?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether calculations are allowed to reuse values that have already been loaded, or must refetch them from the data layer. The default value is <code class="inline">false</code>.</li><li><code class="inline">:strict?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If set to true, only specified attributes will be loaded when passing
  a list of fields to fetch on a relationship, which allows for more
  optimized data-fetching.<br/>  See <a href="https://hexdocs.pm/ash/3.7.6/Ash.Query.html#load/2"><code class="inline">Ash.Query.load/2</code></a>. The default value is <code class="inline">false</code>.</li><li><code class="inline">:authorize_with</code> - If set to <code class="inline">:error</code>, instead of applying authorization filters as a filter, any records not matching the authorization filter will cause an error to be returned. Valid values are :filter, :error The default value is <code class="inline">:filter</code>.</li><li><code class="inline">:timeout</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">timeout/0</code></a>) - A positive integer, or <code class="inline">:infinity</code>. If none is provided, the timeout configured on the domain is used.</li><li><code class="inline">:tracer</code> (one or a list of module that adopts <a href="https://hexdocs.pm/ash/3.7.6/Ash.Tracer.html"><code class="inline">Ash.Tracer</code></a>) - A tracer that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.Tracer.html"><code class="inline">Ash.Tracer</code></a> behaviour. See that module for more.</li><li><code class="inline">:action</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - The action to use, either an Action struct or the name of the action</li><li><code class="inline">:authorize?</code> - If an actor option is provided (even if it is <code class="inline">nil</code>), authorization happens automatically. If not, this flag can be used to authorize with no user.</li><li><code class="inline">:context</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">map/0</code></a>) - Context to set on the query, changeset, or input</li><li><code class="inline">:tenant</code> (value that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.ToTenant.html"><code class="inline">Ash.ToTenant</code></a> protocol) - A tenant to set on the query or changeset</li><li><code class="inline">:actor</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - If an actor is provided, it will be used in conjunction with the authorizers of a resource to authorize access</li><li><code class="inline">:scope</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A value that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> protocol, for passing around actor/tenant/context in a single value. See <a href="https://hexdocs.pm/ash/3.7.6/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> for more.</li><li><code class="inline">:query</code> - A query to seed the action with.</li><li><code class="inline">:not_found_error?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to return or raise a <code class="inline">NotFound</code> error or to return <code class="inline">nil</code> when a get? action/interface is called.</li><li><code class="inline">:stream?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If true, a stream of the results will be returned The default value is <code class="inline">false</code>.</li><li><code class="inline">:stream_options</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">keyword/0</code></a>) - Options passed to <code class="inline">Ash.stream!</code>, if <code class="inline">stream?: true</code> is given<ul><li><code class="inline">:batch_size</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">integer/0</code></a>) - How many records to request in each query run. Defaults to the pagination limits on the resource, or 250.</li><li><code class="inline">:allow_stream_with</code> - The 'worst' strategy allowed to be used to fetch records. See <a href="https://hexdocs.pm/ash/3.7.6/Ash.html#stream!/2"><code class="inline">Ash.stream!/2</code></a> docs for more. The default value is <code class="inline">:keyset</code>.</li><li><code class="inline">:stream_with</code> - The specific strategy to use to fetch records. See <a href="https://hexdocs.pm/ash/3.7.6/Ash.html#stream!/2"><code class="inline">Ash.stream!/2</code></a> docs for more.</li></ul></li></ul>
  </section>
</section>
<section class="detail" id="get_offence_by_reference/3">

    <span id="get_offence_by_reference/1"></span>

    <span id="get_offence_by_reference/2"></span>

  <div class="detail-header">
    <a href="#get_offence_by_reference/3" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">get_offence_by_reference(offence_reference, params \\ nil, opts \\ nil)</h1>


    </div>
  </div>

  <section class="docstring">

<p>Calls the by_reference action on EhsEnforcement.Enforcement.Offence.</p><h1>Arguments</h1><ul><li>offence_reference</li></ul><h2 id="get_offence_by_reference/3-options" class="section-heading"><a href="#get_offence_by_reference/3-options" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Options</span></h2><ul><li><code class="inline">:page</code> - Pagination options, see <a href="https://hexdocs.pm/ash/3.7.6/Ash.html#read/2"><code class="inline">Ash.read/2</code></a> for more.</li><li><code class="inline">:load</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A load statement to add onto the query</li><li><code class="inline">:max_concurrency</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">non_neg_integer/0</code></a>) - The maximum number of processes allowed to be started for parallel loading of relationships and calculations. Defaults to <code class="inline">System.schedulers_online() * 2</code></li><li><code class="inline">:lock</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A lock statement to add onto the query</li><li><code class="inline">:return_query?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If <code class="inline">true</code>, the query that was ultimately used is returned as a third tuple element.<br/>The query goes through many potential changes during a request, potentially adding
authorization filters, or replacing relationships for other data layers with their
corresponding ids. This option can be used to get the true query that was sent to
the data layer. The default value is <code class="inline">false</code>.</li><li><code class="inline">:skip_unknown_inputs</code> - A list of inputs that, if provided, will be ignored if they are not recognized by the action. Use <code class="inline">:*</code> to indicate all unknown keys.</li><li><code class="inline">:reuse_values?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether calculations are allowed to reuse values that have already been loaded, or must refetch them from the data layer. The default value is <code class="inline">false</code>.</li><li><code class="inline">:strict?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If set to true, only specified attributes will be loaded when passing
  a list of fields to fetch on a relationship, which allows for more
  optimized data-fetching.<br/>  See <a href="https://hexdocs.pm/ash/3.7.6/Ash.Query.html#load/2"><code class="inline">Ash.Query.load/2</code></a>. The default value is <code class="inline">false</code>.</li><li><code class="inline">:authorize_with</code> - If set to <code class="inline">:error</code>, instead of applying authorization filters as a filter, any records not matching the authorization filter will cause an error to be returned. Valid values are :filter, :error The default value is <code class="inline">:filter</code>.</li><li><code class="inline">:timeout</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">timeout/0</code></a>) - A positive integer, or <code class="inline">:infinity</code>. If none is provided, the timeout configured on the domain is used.</li><li><code class="inline">:tracer</code> (one or a list of module that adopts <a href="https://hexdocs.pm/ash/3.7.6/Ash.Tracer.html"><code class="inline">Ash.Tracer</code></a>) - A tracer that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.Tracer.html"><code class="inline">Ash.Tracer</code></a> behaviour. See that module for more.</li><li><code class="inline">:action</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - The action to use, either an Action struct or the name of the action</li><li><code class="inline">:authorize?</code> - If an actor option is provided (even if it is <code class="inline">nil</code>), authorization happens automatically. If not, this flag can be used to authorize with no user.</li><li><code class="inline">:context</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">map/0</code></a>) - Context to set on the query, changeset, or input</li><li><code class="inline">:tenant</code> (value that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.ToTenant.html"><code class="inline">Ash.ToTenant</code></a> protocol) - A tenant to set on the query or changeset</li><li><code class="inline">:actor</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - If an actor is provided, it will be used in conjunction with the authorizers of a resource to authorize access</li><li><code class="inline">:scope</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A value that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> protocol, for passing around actor/tenant/context in a single value. See <a href="https://hexdocs.pm/ash/3.7.6/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> for more.</li><li><code class="inline">:query</code> - A query to seed the action with.</li><li><code class="inline">:not_found_error?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to return or raise a <code class="inline">NotFound</code> error or to return <code class="inline">nil</code> when a get? action/interface is called.</li><li><code class="inline">:stream?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If true, a stream of the results will be returned The default value is <code class="inline">false</code>.</li><li><code class="inline">:stream_options</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">keyword/0</code></a>) - Options passed to <code class="inline">Ash.stream!</code>, if <code class="inline">stream?: true</code> is given<ul><li><code class="inline">:batch_size</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">integer/0</code></a>) - How many records to request in each query run. Defaults to the pagination limits on the resource, or 250.</li><li><code class="inline">:allow_stream_with</code> - The 'worst' strategy allowed to be used to fetch records. See <a href="https://hexdocs.pm/ash/3.7.6/Ash.html#stream!/2"><code class="inline">Ash.stream!/2</code></a> docs for more. The default value is <code class="inline">:keyset</code>.</li><li><code class="inline">:stream_with</code> - The specific strategy to use to fetch records. See <a href="https://hexdocs.pm/ash/3.7.6/Ash.html#stream!/2"><code class="inline">Ash.stream!/2</code></a> docs for more.</li></ul></li></ul>
  </section>
</section>
<section class="detail" id="get_offence_by_reference!/3">

    <span id="get_offence_by_reference!/1"></span>

    <span id="get_offence_by_reference!/2"></span>

  <div class="detail-header">
    <a href="#get_offence_by_reference!/3" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">get_offence_by_reference!(offence_reference, params \\ nil, opts \\ nil)</h1>


    </div>
  </div>

  <section class="docstring">

<p>Calls the by_reference action on EhsEnforcement.Enforcement.Offence.
Raises any errors instead of returning them</p><h1>Arguments</h1><ul><li>offence_reference</li></ul><h2 id="get_offence_by_reference!/3-options" class="section-heading"><a href="#get_offence_by_reference!/3-options" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Options</span></h2><ul><li><code class="inline">:page</code> - Pagination options, see <a href="https://hexdocs.pm/ash/3.7.6/Ash.html#read/2"><code class="inline">Ash.read/2</code></a> for more.</li><li><code class="inline">:load</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A load statement to add onto the query</li><li><code class="inline">:max_concurrency</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">non_neg_integer/0</code></a>) - The maximum number of processes allowed to be started for parallel loading of relationships and calculations. Defaults to <code class="inline">System.schedulers_online() * 2</code></li><li><code class="inline">:lock</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A lock statement to add onto the query</li><li><code class="inline">:return_query?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If <code class="inline">true</code>, the query that was ultimately used is returned as a third tuple element.<br/>The query goes through many potential changes during a request, potentially adding
authorization filters, or replacing relationships for other data layers with their
corresponding ids. This option can be used to get the true query that was sent to
the data layer. The default value is <code class="inline">false</code>.</li><li><code class="inline">:skip_unknown_inputs</code> - A list of inputs that, if provided, will be ignored if they are not recognized by the action. Use <code class="inline">:*</code> to indicate all unknown keys.</li><li><code class="inline">:reuse_values?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether calculations are allowed to reuse values that have already been loaded, or must refetch them from the data layer. The default value is <code class="inline">false</code>.</li><li><code class="inline">:strict?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If set to true, only specified attributes will be loaded when passing
  a list of fields to fetch on a relationship, which allows for more
  optimized data-fetching.<br/>  See <a href="https://hexdocs.pm/ash/3.7.6/Ash.Query.html#load/2"><code class="inline">Ash.Query.load/2</code></a>. The default value is <code class="inline">false</code>.</li><li><code class="inline">:authorize_with</code> - If set to <code class="inline">:error</code>, instead of applying authorization filters as a filter, any records not matching the authorization filter will cause an error to be returned. Valid values are :filter, :error The default value is <code class="inline">:filter</code>.</li><li><code class="inline">:timeout</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">timeout/0</code></a>) - A positive integer, or <code class="inline">:infinity</code>. If none is provided, the timeout configured on the domain is used.</li><li><code class="inline">:tracer</code> (one or a list of module that adopts <a href="https://hexdocs.pm/ash/3.7.6/Ash.Tracer.html"><code class="inline">Ash.Tracer</code></a>) - A tracer that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.Tracer.html"><code class="inline">Ash.Tracer</code></a> behaviour. See that module for more.</li><li><code class="inline">:action</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - The action to use, either an Action struct or the name of the action</li><li><code class="inline">:authorize?</code> - If an actor option is provided (even if it is <code class="inline">nil</code>), authorization happens automatically. If not, this flag can be used to authorize with no user.</li><li><code class="inline">:context</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">map/0</code></a>) - Context to set on the query, changeset, or input</li><li><code class="inline">:tenant</code> (value that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.ToTenant.html"><code class="inline">Ash.ToTenant</code></a> protocol) - A tenant to set on the query or changeset</li><li><code class="inline">:actor</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - If an actor is provided, it will be used in conjunction with the authorizers of a resource to authorize access</li><li><code class="inline">:scope</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A value that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> protocol, for passing around actor/tenant/context in a single value. See <a href="https://hexdocs.pm/ash/3.7.6/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> for more.</li><li><code class="inline">:query</code> - A query to seed the action with.</li><li><code class="inline">:not_found_error?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to return or raise a <code class="inline">NotFound</code> error or to return <code class="inline">nil</code> when a get? action/interface is called.</li><li><code class="inline">:stream?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If true, a stream of the results will be returned The default value is <code class="inline">false</code>.</li><li><code class="inline">:stream_options</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">keyword/0</code></a>) - Options passed to <code class="inline">Ash.stream!</code>, if <code class="inline">stream?: true</code> is given<ul><li><code class="inline">:batch_size</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">integer/0</code></a>) - How many records to request in each query run. Defaults to the pagination limits on the resource, or 250.</li><li><code class="inline">:allow_stream_with</code> - The 'worst' strategy allowed to be used to fetch records. See <a href="https://hexdocs.pm/ash/3.7.6/Ash.html#stream!/2"><code class="inline">Ash.stream!/2</code></a> docs for more. The default value is <code class="inline">:keyset</code>.</li><li><code class="inline">:stream_with</code> - The specific strategy to use to fetch records. See <a href="https://hexdocs.pm/ash/3.7.6/Ash.html#stream!/2"><code class="inline">Ash.stream!/2</code></a> docs for more.</li></ul></li></ul>
  </section>
</section>
<section class="detail" id="get_offender/3">

    <span id="get_offender/1"></span>

    <span id="get_offender/2"></span>

  <div class="detail-header">
    <a href="#get_offender/3" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">get_offender(id, params \\ nil, opts \\ nil)</h1>


    </div>
  </div>

  <section class="docstring">

<p>Calls the read action on EhsEnforcement.Enforcement.Offender.</p><h2 id="get_offender/3-options" class="section-heading"><a href="#get_offender/3-options" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Options</span></h2><ul><li><code class="inline">:page</code> - Pagination options, see <a href="https://hexdocs.pm/ash/3.7.6/Ash.html#read/2"><code class="inline">Ash.read/2</code></a> for more.</li><li><code class="inline">:load</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A load statement to add onto the query</li><li><code class="inline">:max_concurrency</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">non_neg_integer/0</code></a>) - The maximum number of processes allowed to be started for parallel loading of relationships and calculations. Defaults to <code class="inline">System.schedulers_online() * 2</code></li><li><code class="inline">:lock</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A lock statement to add onto the query</li><li><code class="inline">:return_query?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If <code class="inline">true</code>, the query that was ultimately used is returned as a third tuple element.<br/>The query goes through many potential changes during a request, potentially adding
authorization filters, or replacing relationships for other data layers with their
corresponding ids. This option can be used to get the true query that was sent to
the data layer. The default value is <code class="inline">false</code>.</li><li><code class="inline">:skip_unknown_inputs</code> - A list of inputs that, if provided, will be ignored if they are not recognized by the action. Use <code class="inline">:*</code> to indicate all unknown keys.</li><li><code class="inline">:reuse_values?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether calculations are allowed to reuse values that have already been loaded, or must refetch them from the data layer. The default value is <code class="inline">false</code>.</li><li><code class="inline">:strict?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If set to true, only specified attributes will be loaded when passing
  a list of fields to fetch on a relationship, which allows for more
  optimized data-fetching.<br/>  See <a href="https://hexdocs.pm/ash/3.7.6/Ash.Query.html#load/2"><code class="inline">Ash.Query.load/2</code></a>. The default value is <code class="inline">false</code>.</li><li><code class="inline">:authorize_with</code> - If set to <code class="inline">:error</code>, instead of applying authorization filters as a filter, any records not matching the authorization filter will cause an error to be returned. Valid values are :filter, :error The default value is <code class="inline">:filter</code>.</li><li><code class="inline">:timeout</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">timeout/0</code></a>) - A positive integer, or <code class="inline">:infinity</code>. If none is provided, the timeout configured on the domain is used.</li><li><code class="inline">:tracer</code> (one or a list of module that adopts <a href="https://hexdocs.pm/ash/3.7.6/Ash.Tracer.html"><code class="inline">Ash.Tracer</code></a>) - A tracer that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.Tracer.html"><code class="inline">Ash.Tracer</code></a> behaviour. See that module for more.</li><li><code class="inline">:action</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - The action to use, either an Action struct or the name of the action</li><li><code class="inline">:authorize?</code> - If an actor option is provided (even if it is <code class="inline">nil</code>), authorization happens automatically. If not, this flag can be used to authorize with no user.</li><li><code class="inline">:context</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">map/0</code></a>) - Context to set on the query, changeset, or input</li><li><code class="inline">:tenant</code> (value that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.ToTenant.html"><code class="inline">Ash.ToTenant</code></a> protocol) - A tenant to set on the query or changeset</li><li><code class="inline">:actor</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - If an actor is provided, it will be used in conjunction with the authorizers of a resource to authorize access</li><li><code class="inline">:scope</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A value that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> protocol, for passing around actor/tenant/context in a single value. See <a href="https://hexdocs.pm/ash/3.7.6/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> for more.</li><li><code class="inline">:query</code> - A query to seed the action with.</li><li><code class="inline">:not_found_error?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to return or raise a <code class="inline">NotFound</code> error or to return <code class="inline">nil</code> when a get? action/interface is called.</li><li><code class="inline">:stream?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If true, a stream of the results will be returned The default value is <code class="inline">false</code>.</li><li><code class="inline">:stream_options</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">keyword/0</code></a>) - Options passed to <code class="inline">Ash.stream!</code>, if <code class="inline">stream?: true</code> is given<ul><li><code class="inline">:batch_size</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">integer/0</code></a>) - How many records to request in each query run. Defaults to the pagination limits on the resource, or 250.</li><li><code class="inline">:allow_stream_with</code> - The 'worst' strategy allowed to be used to fetch records. See <a href="https://hexdocs.pm/ash/3.7.6/Ash.html#stream!/2"><code class="inline">Ash.stream!/2</code></a> docs for more. The default value is <code class="inline">:keyset</code>.</li><li><code class="inline">:stream_with</code> - The specific strategy to use to fetch records. See <a href="https://hexdocs.pm/ash/3.7.6/Ash.html#stream!/2"><code class="inline">Ash.stream!/2</code></a> docs for more.</li></ul></li></ul>
  </section>
</section>
<section class="detail" id="get_offender!/3">

    <span id="get_offender!/1"></span>

    <span id="get_offender!/2"></span>

  <div class="detail-header">
    <a href="#get_offender!/3" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">get_offender!(id, params \\ nil, opts \\ nil)</h1>


    </div>
  </div>

  <section class="docstring">

<p>Calls the read action on EhsEnforcement.Enforcement.Offender.
Raises any errors instead of returning them</p><h2 id="get_offender!/3-options" class="section-heading"><a href="#get_offender!/3-options" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Options</span></h2><ul><li><code class="inline">:page</code> - Pagination options, see <a href="https://hexdocs.pm/ash/3.7.6/Ash.html#read/2"><code class="inline">Ash.read/2</code></a> for more.</li><li><code class="inline">:load</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A load statement to add onto the query</li><li><code class="inline">:max_concurrency</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">non_neg_integer/0</code></a>) - The maximum number of processes allowed to be started for parallel loading of relationships and calculations. Defaults to <code class="inline">System.schedulers_online() * 2</code></li><li><code class="inline">:lock</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A lock statement to add onto the query</li><li><code class="inline">:return_query?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If <code class="inline">true</code>, the query that was ultimately used is returned as a third tuple element.<br/>The query goes through many potential changes during a request, potentially adding
authorization filters, or replacing relationships for other data layers with their
corresponding ids. This option can be used to get the true query that was sent to
the data layer. The default value is <code class="inline">false</code>.</li><li><code class="inline">:skip_unknown_inputs</code> - A list of inputs that, if provided, will be ignored if they are not recognized by the action. Use <code class="inline">:*</code> to indicate all unknown keys.</li><li><code class="inline">:reuse_values?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether calculations are allowed to reuse values that have already been loaded, or must refetch them from the data layer. The default value is <code class="inline">false</code>.</li><li><code class="inline">:strict?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If set to true, only specified attributes will be loaded when passing
  a list of fields to fetch on a relationship, which allows for more
  optimized data-fetching.<br/>  See <a href="https://hexdocs.pm/ash/3.7.6/Ash.Query.html#load/2"><code class="inline">Ash.Query.load/2</code></a>. The default value is <code class="inline">false</code>.</li><li><code class="inline">:authorize_with</code> - If set to <code class="inline">:error</code>, instead of applying authorization filters as a filter, any records not matching the authorization filter will cause an error to be returned. Valid values are :filter, :error The default value is <code class="inline">:filter</code>.</li><li><code class="inline">:timeout</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">timeout/0</code></a>) - A positive integer, or <code class="inline">:infinity</code>. If none is provided, the timeout configured on the domain is used.</li><li><code class="inline">:tracer</code> (one or a list of module that adopts <a href="https://hexdocs.pm/ash/3.7.6/Ash.Tracer.html"><code class="inline">Ash.Tracer</code></a>) - A tracer that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.Tracer.html"><code class="inline">Ash.Tracer</code></a> behaviour. See that module for more.</li><li><code class="inline">:action</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - The action to use, either an Action struct or the name of the action</li><li><code class="inline">:authorize?</code> - If an actor option is provided (even if it is <code class="inline">nil</code>), authorization happens automatically. If not, this flag can be used to authorize with no user.</li><li><code class="inline">:context</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">map/0</code></a>) - Context to set on the query, changeset, or input</li><li><code class="inline">:tenant</code> (value that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.ToTenant.html"><code class="inline">Ash.ToTenant</code></a> protocol) - A tenant to set on the query or changeset</li><li><code class="inline">:actor</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - If an actor is provided, it will be used in conjunction with the authorizers of a resource to authorize access</li><li><code class="inline">:scope</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A value that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> protocol, for passing around actor/tenant/context in a single value. See <a href="https://hexdocs.pm/ash/3.7.6/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> for more.</li><li><code class="inline">:query</code> - A query to seed the action with.</li><li><code class="inline">:not_found_error?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to return or raise a <code class="inline">NotFound</code> error or to return <code class="inline">nil</code> when a get? action/interface is called.</li><li><code class="inline">:stream?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If true, a stream of the results will be returned The default value is <code class="inline">false</code>.</li><li><code class="inline">:stream_options</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">keyword/0</code></a>) - Options passed to <code class="inline">Ash.stream!</code>, if <code class="inline">stream?: true</code> is given<ul><li><code class="inline">:batch_size</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">integer/0</code></a>) - How many records to request in each query run. Defaults to the pagination limits on the resource, or 250.</li><li><code class="inline">:allow_stream_with</code> - The 'worst' strategy allowed to be used to fetch records. See <a href="https://hexdocs.pm/ash/3.7.6/Ash.html#stream!/2"><code class="inline">Ash.stream!/2</code></a> docs for more. The default value is <code class="inline">:keyset</code>.</li><li><code class="inline">:stream_with</code> - The specific strategy to use to fetch records. See <a href="https://hexdocs.pm/ash/3.7.6/Ash.html#stream!/2"><code class="inline">Ash.stream!/2</code></a> docs for more.</li></ul></li></ul>
  </section>
</section>
<section class="detail" id="get_offender_by_name_and_postcode/2">

  <div class="detail-header">
    <a href="#get_offender_by_name_and_postcode/2" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">get_offender_by_name_and_postcode(name, postcode)</h1>


    </div>
  </div>

  <section class="docstring">

<p>Code Interface Functions</p><p>This domain now uses Ash code interfaces. Use the generated functions instead of direct Ash calls:</p><h2 id="get_offender_by_name_and_postcode/2-agency-functions" class="section-heading"><a href="#get_offender_by_name_and_postcode/2-agency-functions" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Agency Functions</span></h2><ul><li><a href="#list_agencies/1"><code class="inline">list_agencies/1</code></a> - List all agencies with options</li><li><a href="#get_agency/2"><code class="inline">get_agency/2</code></a> - Get agency by ID  </li><li><a href="#create_agency/2"><code class="inline">create_agency/2</code></a> - Create new agency</li><li><a href="#update_agency/3"><code class="inline">update_agency/3</code></a> - Update existing agency</li><li><a href="#get_agency_by_code/2"><code class="inline">get_agency_by_code/2</code></a> - Get agency by code</li></ul><h2 id="get_offender_by_name_and_postcode/2-offender-functions" class="section-heading"><a href="#get_offender_by_name_and_postcode/2-offender-functions" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Offender Functions</span></h2><ul><li><a href="#list_offenders/1"><code class="inline">list_offenders/1</code></a> - List all offenders with basic options (code interface)</li><li><code class="inline">list_offenders_with_filters/1</code> - List offenders with complex filtering (custom function)</li><li><a href="#list_offenders_with_filters_cached!/1"><code class="inline">list_offenders_with_filters_cached!/1</code></a> - Cached version for performance</li><li><a href="#list_offenders_with_filters_monitored!/1"><code class="inline">list_offenders_with_filters_monitored!/1</code></a> - Monitored version with slow query logging</li><li><a href="#get_offender/2"><code class="inline">get_offender/2</code></a> - Get offender by ID</li><li><a href="#create_offender/2"><code class="inline">create_offender/2</code></a> - Create new offender</li><li><a href="#update_offender/3"><code class="inline">update_offender/3</code></a> - Update existing offender</li><li><a href="#search_offenders/2"><code class="inline">search_offenders/2</code></a> - Search offenders with query</li><li><a href="#fuzzy_search_offenders/2"><code class="inline">fuzzy_search_offenders/2</code></a> - Fuzzy search using pg_trgm trigram similarity</li><li><a href="#update_offender_statistics/3"><code class="inline">update_offender_statistics/3</code></a> - Update offender statistics</li><li><a href="#count_offenders!/1"><code class="inline">count_offenders!/1</code></a> - Count offenders with filtering</li><li><a href="#count_offenders_cached!/1"><code class="inline">count_offenders_cached!/1</code></a> - Cached count for performance</li><li><a href="#count_offenders_monitored!/1"><code class="inline">count_offenders_monitored!/1</code></a> - Monitored count with logging</li></ul><h2 id="get_offender_by_name_and_postcode/2-case-functions" class="section-heading"><a href="#get_offender_by_name_and_postcode/2-case-functions" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Case Functions</span></h2><ul><li><a href="#list_cases/1"><code class="inline">list_cases/1</code></a> - List all cases with basic options (code interface)</li><li><a href="#list_cases_with_filters/1"><code class="inline">list_cases_with_filters/1</code></a> - List cases with complex filtering (custom function)</li><li><a href="#get_case/2"><code class="inline">get_case/2</code></a> - Get case by ID</li><li><a href="#create_case/2"><code class="inline">create_case/2</code></a> - Create new case</li><li><a href="#update_case_from_scraping/3"><code class="inline">update_case_from_scraping/3</code></a> - Update case from HSE scraping</li><li><a href="#sync_case_from_airtable/3"><code class="inline">sync_case_from_airtable/3</code></a> - Sync case from Airtable migration</li><li><a href="#destroy_case/2"><code class="inline">destroy_case/2</code></a> - Delete case</li><li><a href="#list_cases_by_date_range/3"><code class="inline">list_cases_by_date_range/3</code></a> - List cases in date range</li><li><a href="#bulk_create_cases/2"><code class="inline">bulk_create_cases/2</code></a> - Bulk create multiple cases</li></ul><h2 id="get_offender_by_name_and_postcode/2-notice-functions" class="section-heading"><a href="#get_offender_by_name_and_postcode/2-notice-functions" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Notice Functions</span></h2><ul><li><a href="#list_notices/1"><code class="inline">list_notices/1</code></a> - List all notices with options</li><li><a href="#get_notice/2"><code class="inline">get_notice/2</code></a> - Get notice by ID</li><li><a href="#create_notice/2"><code class="inline">create_notice/2</code></a> - Create new notice</li><li><a href="#update_notice/3"><code class="inline">update_notice/3</code></a> - Update existing notice</li><li><a href="#destroy_notice/2"><code class="inline">destroy_notice/2</code></a> - Delete notice</li><li><code class="inline">sync_notice/3</code> - Sync notice data</li></ul><h2 id="get_offender_by_name_and_postcode/2-metrics-functions" class="section-heading"><a href="#get_offender_by_name_and_postcode/2-metrics-functions" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Metrics Functions</span></h2><ul><li><a href="#get_current_metrics/1"><code class="inline">get_current_metrics/1</code></a> - Get current cached dashboard metrics</li><li><a href="#refresh_metrics/1"><code class="inline">refresh_metrics/1</code></a> - Refresh all dashboard metrics from current data</li></ul><h2 id="get_offender_by_name_and_postcode/2-legislation-functions" class="section-heading"><a href="#get_offender_by_name_and_postcode/2-legislation-functions" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Legislation Functions</span></h2><ul><li><a href="#list_legislation/1"><code class="inline">list_legislation/1</code></a> - List all legislation with options</li><li><a href="#get_legislation/2"><code class="inline">get_legislation/2</code></a> - Get legislation by ID</li><li><a href="#create_legislation/2"><code class="inline">create_legislation/2</code></a> - Create new legislation</li><li><a href="#update_legislation/3"><code class="inline">update_legislation/3</code></a> - Update existing legislation</li><li><a href="#destroy_legislation/2"><code class="inline">destroy_legislation/2</code></a> - Delete legislation</li><li><a href="#list_legislation_by_type/2"><code class="inline">list_legislation_by_type/2</code></a> - List legislation by type (act, regulation, etc.)</li><li><a href="#list_legislation_by_year_range/3"><code class="inline">list_legislation_by_year_range/3</code></a> - List legislation within year range</li><li><a href="#search_legislation_title/2"><code class="inline">search_legislation_title/2</code></a> - Fuzzy search legislation titles</li></ul><h2 id="get_offender_by_name_and_postcode/2-offence-functions-unified-violation-breach-support" class="section-heading"><a href="#get_offender_by_name_and_postcode/2-offence-functions-unified-violation-breach-support" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Offence Functions (Unified Violation/Breach Support)</span></h2><ul><li><a href="#list_offences/1"><code class="inline">list_offences/1</code></a> - List all offences with options  </li><li><a href="#get_offence/2"><code class="inline">get_offence/2</code></a> - Get offence by ID</li><li><a href="#create_offence/2"><code class="inline">create_offence/2</code></a> - Create new offence</li><li><a href="#update_offence/3"><code class="inline">update_offence/3</code></a> - Update existing offence</li><li><a href="#destroy_offence/2"><code class="inline">destroy_offence/2</code></a> - Delete offence</li><li><a href="#list_offences_by_case/2"><code class="inline">list_offences_by_case/2</code></a> - List offences for specific case</li><li><a href="#list_offences_by_notice/2"><code class="inline">list_offences_by_notice/2</code></a> - List offences for specific notice</li><li><a href="#list_offences_by_legislation/2"><code class="inline">list_offences_by_legislation/2</code></a> - List offences referencing specific legislation</li><li><a href="#get_offence_by_reference/2"><code class="inline">get_offence_by_reference/2</code></a> - Get offence by reference ID</li><li><a href="#list_offences_with_fines/1"><code class="inline">list_offences_with_fines/1</code></a> - List offences that have associated fines</li><li><a href="#search_offence_description/2"><code class="inline">search_offence_description/2</code></a> - Fuzzy search offence descriptions</li><li><a href="#bulk_create_offences/2"><code class="inline">bulk_create_offences/2</code></a> - Bulk create multiple offences</li></ul>
  </section>
</section>
<section class="detail" id="get_performance_stats/0">

  <div class="detail-header">
    <a href="#get_performance_stats/0" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">get_performance_stats()</h1>


    </div>
  </div>

  <section class="docstring">

<p>Get query performance statistics for monitoring dashboards.
This could be extended to track metrics in ETS/database for reporting.</p>
  </section>
</section>
<section class="detail" id="init_cache/0">

  <div class="detail-header">
    <a href="#init_cache/0" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">init_cache()</h1>


    </div>
  </div>

  <section class="docstring">

<p>Initialize the cache table. Called during application startup.</p>
  </section>
</section>
<section class="detail" id="list/3">

    <span id="list/2"></span>

  <div class="detail-header">
    <a href="#list/3" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">list(query, field, opts \\ [])</h1>


    </div>
  </div>

    <div class="deprecated">
      This function is deprecated. Use `Ash.list/3` instead.
    </div>

  <section class="docstring">


  </section>
</section>
<section class="detail" id="list!/3">

    <span id="list!/2"></span>

  <div class="detail-header">
    <a href="#list!/3" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">list!(query, field, opts \\ [])</h1>


    </div>
  </div>

    <div class="deprecated">
      This function is deprecated. Use `Ash.list!/3` instead.
    </div>

  <section class="docstring">


  </section>
</section>
<section class="detail" id="list_agencies/2">

    <span id="list_agencies/0"></span>

    <span id="list_agencies/1"></span>

  <div class="detail-header">
    <a href="#list_agencies/2" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">list_agencies(params \\ nil, opts \\ nil)</h1>


    </div>
  </div>

  <section class="docstring">

<p>Calls the read action on EhsEnforcement.Enforcement.Agency.</p><h2 id="list_agencies/2-options" class="section-heading"><a href="#list_agencies/2-options" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Options</span></h2><ul><li><code class="inline">:page</code> - Pagination options, see <a href="https://hexdocs.pm/ash/3.7.6/Ash.html#read/2"><code class="inline">Ash.read/2</code></a> for more.</li><li><code class="inline">:load</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A load statement to add onto the query</li><li><code class="inline">:max_concurrency</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">non_neg_integer/0</code></a>) - The maximum number of processes allowed to be started for parallel loading of relationships and calculations. Defaults to <code class="inline">System.schedulers_online() * 2</code></li><li><code class="inline">:lock</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A lock statement to add onto the query</li><li><code class="inline">:return_query?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If <code class="inline">true</code>, the query that was ultimately used is returned as a third tuple element.<br/>The query goes through many potential changes during a request, potentially adding
authorization filters, or replacing relationships for other data layers with their
corresponding ids. This option can be used to get the true query that was sent to
the data layer. The default value is <code class="inline">false</code>.</li><li><code class="inline">:skip_unknown_inputs</code> - A list of inputs that, if provided, will be ignored if they are not recognized by the action. Use <code class="inline">:*</code> to indicate all unknown keys.</li><li><code class="inline">:reuse_values?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether calculations are allowed to reuse values that have already been loaded, or must refetch them from the data layer. The default value is <code class="inline">false</code>.</li><li><code class="inline">:strict?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If set to true, only specified attributes will be loaded when passing
  a list of fields to fetch on a relationship, which allows for more
  optimized data-fetching.<br/>  See <a href="https://hexdocs.pm/ash/3.7.6/Ash.Query.html#load/2"><code class="inline">Ash.Query.load/2</code></a>. The default value is <code class="inline">false</code>.</li><li><code class="inline">:authorize_with</code> - If set to <code class="inline">:error</code>, instead of applying authorization filters as a filter, any records not matching the authorization filter will cause an error to be returned. Valid values are :filter, :error The default value is <code class="inline">:filter</code>.</li><li><code class="inline">:timeout</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">timeout/0</code></a>) - A positive integer, or <code class="inline">:infinity</code>. If none is provided, the timeout configured on the domain is used.</li><li><code class="inline">:tracer</code> (one or a list of module that adopts <a href="https://hexdocs.pm/ash/3.7.6/Ash.Tracer.html"><code class="inline">Ash.Tracer</code></a>) - A tracer that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.Tracer.html"><code class="inline">Ash.Tracer</code></a> behaviour. See that module for more.</li><li><code class="inline">:action</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - The action to use, either an Action struct or the name of the action</li><li><code class="inline">:authorize?</code> - If an actor option is provided (even if it is <code class="inline">nil</code>), authorization happens automatically. If not, this flag can be used to authorize with no user.</li><li><code class="inline">:context</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">map/0</code></a>) - Context to set on the query, changeset, or input</li><li><code class="inline">:tenant</code> (value that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.ToTenant.html"><code class="inline">Ash.ToTenant</code></a> protocol) - A tenant to set on the query or changeset</li><li><code class="inline">:actor</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - If an actor is provided, it will be used in conjunction with the authorizers of a resource to authorize access</li><li><code class="inline">:scope</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A value that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> protocol, for passing around actor/tenant/context in a single value. See <a href="https://hexdocs.pm/ash/3.7.6/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> for more.</li><li><code class="inline">:query</code> - A query to seed the action with.</li><li><code class="inline">:not_found_error?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to return or raise a <code class="inline">NotFound</code> error or to return <code class="inline">nil</code> when a get? action/interface is called.</li><li><code class="inline">:stream?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If true, a stream of the results will be returned The default value is <code class="inline">false</code>.</li><li><code class="inline">:stream_options</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">keyword/0</code></a>) - Options passed to <code class="inline">Ash.stream!</code>, if <code class="inline">stream?: true</code> is given<ul><li><code class="inline">:batch_size</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">integer/0</code></a>) - How many records to request in each query run. Defaults to the pagination limits on the resource, or 250.</li><li><code class="inline">:allow_stream_with</code> - The 'worst' strategy allowed to be used to fetch records. See <a href="https://hexdocs.pm/ash/3.7.6/Ash.html#stream!/2"><code class="inline">Ash.stream!/2</code></a> docs for more. The default value is <code class="inline">:keyset</code>.</li><li><code class="inline">:stream_with</code> - The specific strategy to use to fetch records. See <a href="https://hexdocs.pm/ash/3.7.6/Ash.html#stream!/2"><code class="inline">Ash.stream!/2</code></a> docs for more.</li></ul></li></ul>
  </section>
</section>
<section class="detail" id="list_agencies!/2">

    <span id="list_agencies!/0"></span>

    <span id="list_agencies!/1"></span>

  <div class="detail-header">
    <a href="#list_agencies!/2" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">list_agencies!(params \\ nil, opts \\ nil)</h1>


    </div>
  </div>

  <section class="docstring">

<p>Calls the read action on EhsEnforcement.Enforcement.Agency.
Raises any errors instead of returning them</p><h2 id="list_agencies!/2-options" class="section-heading"><a href="#list_agencies!/2-options" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Options</span></h2><ul><li><code class="inline">:page</code> - Pagination options, see <a href="https://hexdocs.pm/ash/3.7.6/Ash.html#read/2"><code class="inline">Ash.read/2</code></a> for more.</li><li><code class="inline">:load</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A load statement to add onto the query</li><li><code class="inline">:max_concurrency</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">non_neg_integer/0</code></a>) - The maximum number of processes allowed to be started for parallel loading of relationships and calculations. Defaults to <code class="inline">System.schedulers_online() * 2</code></li><li><code class="inline">:lock</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A lock statement to add onto the query</li><li><code class="inline">:return_query?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If <code class="inline">true</code>, the query that was ultimately used is returned as a third tuple element.<br/>The query goes through many potential changes during a request, potentially adding
authorization filters, or replacing relationships for other data layers with their
corresponding ids. This option can be used to get the true query that was sent to
the data layer. The default value is <code class="inline">false</code>.</li><li><code class="inline">:skip_unknown_inputs</code> - A list of inputs that, if provided, will be ignored if they are not recognized by the action. Use <code class="inline">:*</code> to indicate all unknown keys.</li><li><code class="inline">:reuse_values?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether calculations are allowed to reuse values that have already been loaded, or must refetch them from the data layer. The default value is <code class="inline">false</code>.</li><li><code class="inline">:strict?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If set to true, only specified attributes will be loaded when passing
  a list of fields to fetch on a relationship, which allows for more
  optimized data-fetching.<br/>  See <a href="https://hexdocs.pm/ash/3.7.6/Ash.Query.html#load/2"><code class="inline">Ash.Query.load/2</code></a>. The default value is <code class="inline">false</code>.</li><li><code class="inline">:authorize_with</code> - If set to <code class="inline">:error</code>, instead of applying authorization filters as a filter, any records not matching the authorization filter will cause an error to be returned. Valid values are :filter, :error The default value is <code class="inline">:filter</code>.</li><li><code class="inline">:timeout</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">timeout/0</code></a>) - A positive integer, or <code class="inline">:infinity</code>. If none is provided, the timeout configured on the domain is used.</li><li><code class="inline">:tracer</code> (one or a list of module that adopts <a href="https://hexdocs.pm/ash/3.7.6/Ash.Tracer.html"><code class="inline">Ash.Tracer</code></a>) - A tracer that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.Tracer.html"><code class="inline">Ash.Tracer</code></a> behaviour. See that module for more.</li><li><code class="inline">:action</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - The action to use, either an Action struct or the name of the action</li><li><code class="inline">:authorize?</code> - If an actor option is provided (even if it is <code class="inline">nil</code>), authorization happens automatically. If not, this flag can be used to authorize with no user.</li><li><code class="inline">:context</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">map/0</code></a>) - Context to set on the query, changeset, or input</li><li><code class="inline">:tenant</code> (value that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.ToTenant.html"><code class="inline">Ash.ToTenant</code></a> protocol) - A tenant to set on the query or changeset</li><li><code class="inline">:actor</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - If an actor is provided, it will be used in conjunction with the authorizers of a resource to authorize access</li><li><code class="inline">:scope</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A value that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> protocol, for passing around actor/tenant/context in a single value. See <a href="https://hexdocs.pm/ash/3.7.6/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> for more.</li><li><code class="inline">:query</code> - A query to seed the action with.</li><li><code class="inline">:not_found_error?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to return or raise a <code class="inline">NotFound</code> error or to return <code class="inline">nil</code> when a get? action/interface is called.</li><li><code class="inline">:stream?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If true, a stream of the results will be returned The default value is <code class="inline">false</code>.</li><li><code class="inline">:stream_options</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">keyword/0</code></a>) - Options passed to <code class="inline">Ash.stream!</code>, if <code class="inline">stream?: true</code> is given<ul><li><code class="inline">:batch_size</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">integer/0</code></a>) - How many records to request in each query run. Defaults to the pagination limits on the resource, or 250.</li><li><code class="inline">:allow_stream_with</code> - The 'worst' strategy allowed to be used to fetch records. See <a href="https://hexdocs.pm/ash/3.7.6/Ash.html#stream!/2"><code class="inline">Ash.stream!/2</code></a> docs for more. The default value is <code class="inline">:keyset</code>.</li><li><code class="inline">:stream_with</code> - The specific strategy to use to fetch records. See <a href="https://hexdocs.pm/ash/3.7.6/Ash.html#stream!/2"><code class="inline">Ash.stream!/2</code></a> docs for more.</li></ul></li></ul>
  </section>
</section>
<section class="detail" id="list_cases/2">

    <span id="list_cases/0"></span>

    <span id="list_cases/1"></span>

  <div class="detail-header">
    <a href="#list_cases/2" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">list_cases(params \\ nil, opts \\ nil)</h1>


    </div>
  </div>

  <section class="docstring">

<p>Calls the read action on EhsEnforcement.Enforcement.Case.</p><h2 id="list_cases/2-options" class="section-heading"><a href="#list_cases/2-options" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Options</span></h2><ul><li><code class="inline">:page</code> - Pagination options, see <a href="https://hexdocs.pm/ash/3.7.6/Ash.html#read/2"><code class="inline">Ash.read/2</code></a> for more.</li><li><code class="inline">:load</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A load statement to add onto the query</li><li><code class="inline">:max_concurrency</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">non_neg_integer/0</code></a>) - The maximum number of processes allowed to be started for parallel loading of relationships and calculations. Defaults to <code class="inline">System.schedulers_online() * 2</code></li><li><code class="inline">:lock</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A lock statement to add onto the query</li><li><code class="inline">:return_query?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If <code class="inline">true</code>, the query that was ultimately used is returned as a third tuple element.<br/>The query goes through many potential changes during a request, potentially adding
authorization filters, or replacing relationships for other data layers with their
corresponding ids. This option can be used to get the true query that was sent to
the data layer. The default value is <code class="inline">false</code>.</li><li><code class="inline">:skip_unknown_inputs</code> - A list of inputs that, if provided, will be ignored if they are not recognized by the action. Use <code class="inline">:*</code> to indicate all unknown keys.</li><li><code class="inline">:reuse_values?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether calculations are allowed to reuse values that have already been loaded, or must refetch them from the data layer. The default value is <code class="inline">false</code>.</li><li><code class="inline">:strict?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If set to true, only specified attributes will be loaded when passing
  a list of fields to fetch on a relationship, which allows for more
  optimized data-fetching.<br/>  See <a href="https://hexdocs.pm/ash/3.7.6/Ash.Query.html#load/2"><code class="inline">Ash.Query.load/2</code></a>. The default value is <code class="inline">false</code>.</li><li><code class="inline">:authorize_with</code> - If set to <code class="inline">:error</code>, instead of applying authorization filters as a filter, any records not matching the authorization filter will cause an error to be returned. Valid values are :filter, :error The default value is <code class="inline">:filter</code>.</li><li><code class="inline">:timeout</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">timeout/0</code></a>) - A positive integer, or <code class="inline">:infinity</code>. If none is provided, the timeout configured on the domain is used.</li><li><code class="inline">:tracer</code> (one or a list of module that adopts <a href="https://hexdocs.pm/ash/3.7.6/Ash.Tracer.html"><code class="inline">Ash.Tracer</code></a>) - A tracer that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.Tracer.html"><code class="inline">Ash.Tracer</code></a> behaviour. See that module for more.</li><li><code class="inline">:action</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - The action to use, either an Action struct or the name of the action</li><li><code class="inline">:authorize?</code> - If an actor option is provided (even if it is <code class="inline">nil</code>), authorization happens automatically. If not, this flag can be used to authorize with no user.</li><li><code class="inline">:context</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">map/0</code></a>) - Context to set on the query, changeset, or input</li><li><code class="inline">:tenant</code> (value that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.ToTenant.html"><code class="inline">Ash.ToTenant</code></a> protocol) - A tenant to set on the query or changeset</li><li><code class="inline">:actor</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - If an actor is provided, it will be used in conjunction with the authorizers of a resource to authorize access</li><li><code class="inline">:scope</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A value that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> protocol, for passing around actor/tenant/context in a single value. See <a href="https://hexdocs.pm/ash/3.7.6/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> for more.</li><li><code class="inline">:query</code> - A query to seed the action with.</li><li><code class="inline">:not_found_error?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to return or raise a <code class="inline">NotFound</code> error or to return <code class="inline">nil</code> when a get? action/interface is called.</li><li><code class="inline">:stream?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If true, a stream of the results will be returned The default value is <code class="inline">false</code>.</li><li><code class="inline">:stream_options</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">keyword/0</code></a>) - Options passed to <code class="inline">Ash.stream!</code>, if <code class="inline">stream?: true</code> is given<ul><li><code class="inline">:batch_size</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">integer/0</code></a>) - How many records to request in each query run. Defaults to the pagination limits on the resource, or 250.</li><li><code class="inline">:allow_stream_with</code> - The 'worst' strategy allowed to be used to fetch records. See <a href="https://hexdocs.pm/ash/3.7.6/Ash.html#stream!/2"><code class="inline">Ash.stream!/2</code></a> docs for more. The default value is <code class="inline">:keyset</code>.</li><li><code class="inline">:stream_with</code> - The specific strategy to use to fetch records. See <a href="https://hexdocs.pm/ash/3.7.6/Ash.html#stream!/2"><code class="inline">Ash.stream!/2</code></a> docs for more.</li></ul></li></ul>
  </section>
</section>
<section class="detail" id="list_cases!/2">

    <span id="list_cases!/0"></span>

    <span id="list_cases!/1"></span>

  <div class="detail-header">
    <a href="#list_cases!/2" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">list_cases!(params \\ nil, opts \\ nil)</h1>


    </div>
  </div>

  <section class="docstring">

<p>Calls the read action on EhsEnforcement.Enforcement.Case.
Raises any errors instead of returning them</p><h2 id="list_cases!/2-options" class="section-heading"><a href="#list_cases!/2-options" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Options</span></h2><ul><li><code class="inline">:page</code> - Pagination options, see <a href="https://hexdocs.pm/ash/3.7.6/Ash.html#read/2"><code class="inline">Ash.read/2</code></a> for more.</li><li><code class="inline">:load</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A load statement to add onto the query</li><li><code class="inline">:max_concurrency</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">non_neg_integer/0</code></a>) - The maximum number of processes allowed to be started for parallel loading of relationships and calculations. Defaults to <code class="inline">System.schedulers_online() * 2</code></li><li><code class="inline">:lock</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A lock statement to add onto the query</li><li><code class="inline">:return_query?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If <code class="inline">true</code>, the query that was ultimately used is returned as a third tuple element.<br/>The query goes through many potential changes during a request, potentially adding
authorization filters, or replacing relationships for other data layers with their
corresponding ids. This option can be used to get the true query that was sent to
the data layer. The default value is <code class="inline">false</code>.</li><li><code class="inline">:skip_unknown_inputs</code> - A list of inputs that, if provided, will be ignored if they are not recognized by the action. Use <code class="inline">:*</code> to indicate all unknown keys.</li><li><code class="inline">:reuse_values?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether calculations are allowed to reuse values that have already been loaded, or must refetch them from the data layer. The default value is <code class="inline">false</code>.</li><li><code class="inline">:strict?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If set to true, only specified attributes will be loaded when passing
  a list of fields to fetch on a relationship, which allows for more
  optimized data-fetching.<br/>  See <a href="https://hexdocs.pm/ash/3.7.6/Ash.Query.html#load/2"><code class="inline">Ash.Query.load/2</code></a>. The default value is <code class="inline">false</code>.</li><li><code class="inline">:authorize_with</code> - If set to <code class="inline">:error</code>, instead of applying authorization filters as a filter, any records not matching the authorization filter will cause an error to be returned. Valid values are :filter, :error The default value is <code class="inline">:filter</code>.</li><li><code class="inline">:timeout</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">timeout/0</code></a>) - A positive integer, or <code class="inline">:infinity</code>. If none is provided, the timeout configured on the domain is used.</li><li><code class="inline">:tracer</code> (one or a list of module that adopts <a href="https://hexdocs.pm/ash/3.7.6/Ash.Tracer.html"><code class="inline">Ash.Tracer</code></a>) - A tracer that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.Tracer.html"><code class="inline">Ash.Tracer</code></a> behaviour. See that module for more.</li><li><code class="inline">:action</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - The action to use, either an Action struct or the name of the action</li><li><code class="inline">:authorize?</code> - If an actor option is provided (even if it is <code class="inline">nil</code>), authorization happens automatically. If not, this flag can be used to authorize with no user.</li><li><code class="inline">:context</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">map/0</code></a>) - Context to set on the query, changeset, or input</li><li><code class="inline">:tenant</code> (value that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.ToTenant.html"><code class="inline">Ash.ToTenant</code></a> protocol) - A tenant to set on the query or changeset</li><li><code class="inline">:actor</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - If an actor is provided, it will be used in conjunction with the authorizers of a resource to authorize access</li><li><code class="inline">:scope</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A value that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> protocol, for passing around actor/tenant/context in a single value. See <a href="https://hexdocs.pm/ash/3.7.6/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> for more.</li><li><code class="inline">:query</code> - A query to seed the action with.</li><li><code class="inline">:not_found_error?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to return or raise a <code class="inline">NotFound</code> error or to return <code class="inline">nil</code> when a get? action/interface is called.</li><li><code class="inline">:stream?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If true, a stream of the results will be returned The default value is <code class="inline">false</code>.</li><li><code class="inline">:stream_options</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">keyword/0</code></a>) - Options passed to <code class="inline">Ash.stream!</code>, if <code class="inline">stream?: true</code> is given<ul><li><code class="inline">:batch_size</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">integer/0</code></a>) - How many records to request in each query run. Defaults to the pagination limits on the resource, or 250.</li><li><code class="inline">:allow_stream_with</code> - The 'worst' strategy allowed to be used to fetch records. See <a href="https://hexdocs.pm/ash/3.7.6/Ash.html#stream!/2"><code class="inline">Ash.stream!/2</code></a> docs for more. The default value is <code class="inline">:keyset</code>.</li><li><code class="inline">:stream_with</code> - The specific strategy to use to fetch records. See <a href="https://hexdocs.pm/ash/3.7.6/Ash.html#stream!/2"><code class="inline">Ash.stream!/2</code></a> docs for more.</li></ul></li></ul>
  </section>
</section>
<section class="detail" id="list_cases_by_date_range/4">

    <span id="list_cases_by_date_range/2"></span>

    <span id="list_cases_by_date_range/3"></span>

  <div class="detail-header">
    <a href="#list_cases_by_date_range/4" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">list_cases_by_date_range(from_date, to_date, params \\ nil, opts \\ nil)</h1>


    </div>
  </div>

  <section class="docstring">

<p>Calls the by_date_range action on EhsEnforcement.Enforcement.Case.</p><h1>Arguments</h1><ul><li>from_date</li><li>to_date</li></ul><h2 id="list_cases_by_date_range/4-options" class="section-heading"><a href="#list_cases_by_date_range/4-options" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Options</span></h2><ul><li><code class="inline">:page</code> - Pagination options, see <a href="https://hexdocs.pm/ash/3.7.6/Ash.html#read/2"><code class="inline">Ash.read/2</code></a> for more.</li><li><code class="inline">:load</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A load statement to add onto the query</li><li><code class="inline">:max_concurrency</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">non_neg_integer/0</code></a>) - The maximum number of processes allowed to be started for parallel loading of relationships and calculations. Defaults to <code class="inline">System.schedulers_online() * 2</code></li><li><code class="inline">:lock</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A lock statement to add onto the query</li><li><code class="inline">:return_query?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If <code class="inline">true</code>, the query that was ultimately used is returned as a third tuple element.<br/>The query goes through many potential changes during a request, potentially adding
authorization filters, or replacing relationships for other data layers with their
corresponding ids. This option can be used to get the true query that was sent to
the data layer. The default value is <code class="inline">false</code>.</li><li><code class="inline">:skip_unknown_inputs</code> - A list of inputs that, if provided, will be ignored if they are not recognized by the action. Use <code class="inline">:*</code> to indicate all unknown keys.</li><li><code class="inline">:reuse_values?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether calculations are allowed to reuse values that have already been loaded, or must refetch them from the data layer. The default value is <code class="inline">false</code>.</li><li><code class="inline">:strict?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If set to true, only specified attributes will be loaded when passing
  a list of fields to fetch on a relationship, which allows for more
  optimized data-fetching.<br/>  See <a href="https://hexdocs.pm/ash/3.7.6/Ash.Query.html#load/2"><code class="inline">Ash.Query.load/2</code></a>. The default value is <code class="inline">false</code>.</li><li><code class="inline">:authorize_with</code> - If set to <code class="inline">:error</code>, instead of applying authorization filters as a filter, any records not matching the authorization filter will cause an error to be returned. Valid values are :filter, :error The default value is <code class="inline">:filter</code>.</li><li><code class="inline">:timeout</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">timeout/0</code></a>) - A positive integer, or <code class="inline">:infinity</code>. If none is provided, the timeout configured on the domain is used.</li><li><code class="inline">:tracer</code> (one or a list of module that adopts <a href="https://hexdocs.pm/ash/3.7.6/Ash.Tracer.html"><code class="inline">Ash.Tracer</code></a>) - A tracer that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.Tracer.html"><code class="inline">Ash.Tracer</code></a> behaviour. See that module for more.</li><li><code class="inline">:action</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - The action to use, either an Action struct or the name of the action</li><li><code class="inline">:authorize?</code> - If an actor option is provided (even if it is <code class="inline">nil</code>), authorization happens automatically. If not, this flag can be used to authorize with no user.</li><li><code class="inline">:context</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">map/0</code></a>) - Context to set on the query, changeset, or input</li><li><code class="inline">:tenant</code> (value that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.ToTenant.html"><code class="inline">Ash.ToTenant</code></a> protocol) - A tenant to set on the query or changeset</li><li><code class="inline">:actor</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - If an actor is provided, it will be used in conjunction with the authorizers of a resource to authorize access</li><li><code class="inline">:scope</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A value that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> protocol, for passing around actor/tenant/context in a single value. See <a href="https://hexdocs.pm/ash/3.7.6/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> for more.</li><li><code class="inline">:query</code> - A query to seed the action with.</li><li><code class="inline">:not_found_error?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to return or raise a <code class="inline">NotFound</code> error or to return <code class="inline">nil</code> when a get? action/interface is called.</li><li><code class="inline">:stream?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If true, a stream of the results will be returned The default value is <code class="inline">false</code>.</li><li><code class="inline">:stream_options</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">keyword/0</code></a>) - Options passed to <code class="inline">Ash.stream!</code>, if <code class="inline">stream?: true</code> is given<ul><li><code class="inline">:batch_size</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">integer/0</code></a>) - How many records to request in each query run. Defaults to the pagination limits on the resource, or 250.</li><li><code class="inline">:allow_stream_with</code> - The 'worst' strategy allowed to be used to fetch records. See <a href="https://hexdocs.pm/ash/3.7.6/Ash.html#stream!/2"><code class="inline">Ash.stream!/2</code></a> docs for more. The default value is <code class="inline">:keyset</code>.</li><li><code class="inline">:stream_with</code> - The specific strategy to use to fetch records. See <a href="https://hexdocs.pm/ash/3.7.6/Ash.html#stream!/2"><code class="inline">Ash.stream!/2</code></a> docs for more.</li></ul></li></ul>
  </section>
</section>
<section class="detail" id="list_cases_by_date_range!/4">

    <span id="list_cases_by_date_range!/2"></span>

    <span id="list_cases_by_date_range!/3"></span>

  <div class="detail-header">
    <a href="#list_cases_by_date_range!/4" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">list_cases_by_date_range!(from_date, to_date, params \\ nil, opts \\ nil)</h1>


    </div>
  </div>

  <section class="docstring">

<p>Calls the by_date_range action on EhsEnforcement.Enforcement.Case.
Raises any errors instead of returning them</p><h1>Arguments</h1><ul><li>from_date</li><li>to_date</li></ul><h2 id="list_cases_by_date_range!/4-options" class="section-heading"><a href="#list_cases_by_date_range!/4-options" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Options</span></h2><ul><li><code class="inline">:page</code> - Pagination options, see <a href="https://hexdocs.pm/ash/3.7.6/Ash.html#read/2"><code class="inline">Ash.read/2</code></a> for more.</li><li><code class="inline">:load</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A load statement to add onto the query</li><li><code class="inline">:max_concurrency</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">non_neg_integer/0</code></a>) - The maximum number of processes allowed to be started for parallel loading of relationships and calculations. Defaults to <code class="inline">System.schedulers_online() * 2</code></li><li><code class="inline">:lock</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A lock statement to add onto the query</li><li><code class="inline">:return_query?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If <code class="inline">true</code>, the query that was ultimately used is returned as a third tuple element.<br/>The query goes through many potential changes during a request, potentially adding
authorization filters, or replacing relationships for other data layers with their
corresponding ids. This option can be used to get the true query that was sent to
the data layer. The default value is <code class="inline">false</code>.</li><li><code class="inline">:skip_unknown_inputs</code> - A list of inputs that, if provided, will be ignored if they are not recognized by the action. Use <code class="inline">:*</code> to indicate all unknown keys.</li><li><code class="inline">:reuse_values?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether calculations are allowed to reuse values that have already been loaded, or must refetch them from the data layer. The default value is <code class="inline">false</code>.</li><li><code class="inline">:strict?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If set to true, only specified attributes will be loaded when passing
  a list of fields to fetch on a relationship, which allows for more
  optimized data-fetching.<br/>  See <a href="https://hexdocs.pm/ash/3.7.6/Ash.Query.html#load/2"><code class="inline">Ash.Query.load/2</code></a>. The default value is <code class="inline">false</code>.</li><li><code class="inline">:authorize_with</code> - If set to <code class="inline">:error</code>, instead of applying authorization filters as a filter, any records not matching the authorization filter will cause an error to be returned. Valid values are :filter, :error The default value is <code class="inline">:filter</code>.</li><li><code class="inline">:timeout</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">timeout/0</code></a>) - A positive integer, or <code class="inline">:infinity</code>. If none is provided, the timeout configured on the domain is used.</li><li><code class="inline">:tracer</code> (one or a list of module that adopts <a href="https://hexdocs.pm/ash/3.7.6/Ash.Tracer.html"><code class="inline">Ash.Tracer</code></a>) - A tracer that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.Tracer.html"><code class="inline">Ash.Tracer</code></a> behaviour. See that module for more.</li><li><code class="inline">:action</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - The action to use, either an Action struct or the name of the action</li><li><code class="inline">:authorize?</code> - If an actor option is provided (even if it is <code class="inline">nil</code>), authorization happens automatically. If not, this flag can be used to authorize with no user.</li><li><code class="inline">:context</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">map/0</code></a>) - Context to set on the query, changeset, or input</li><li><code class="inline">:tenant</code> (value that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.ToTenant.html"><code class="inline">Ash.ToTenant</code></a> protocol) - A tenant to set on the query or changeset</li><li><code class="inline">:actor</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - If an actor is provided, it will be used in conjunction with the authorizers of a resource to authorize access</li><li><code class="inline">:scope</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A value that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> protocol, for passing around actor/tenant/context in a single value. See <a href="https://hexdocs.pm/ash/3.7.6/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> for more.</li><li><code class="inline">:query</code> - A query to seed the action with.</li><li><code class="inline">:not_found_error?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to return or raise a <code class="inline">NotFound</code> error or to return <code class="inline">nil</code> when a get? action/interface is called.</li><li><code class="inline">:stream?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If true, a stream of the results will be returned The default value is <code class="inline">false</code>.</li><li><code class="inline">:stream_options</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">keyword/0</code></a>) - Options passed to <code class="inline">Ash.stream!</code>, if <code class="inline">stream?: true</code> is given<ul><li><code class="inline">:batch_size</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">integer/0</code></a>) - How many records to request in each query run. Defaults to the pagination limits on the resource, or 250.</li><li><code class="inline">:allow_stream_with</code> - The 'worst' strategy allowed to be used to fetch records. See <a href="https://hexdocs.pm/ash/3.7.6/Ash.html#stream!/2"><code class="inline">Ash.stream!/2</code></a> docs for more. The default value is <code class="inline">:keyset</code>.</li><li><code class="inline">:stream_with</code> - The specific strategy to use to fetch records. See <a href="https://hexdocs.pm/ash/3.7.6/Ash.html#stream!/2"><code class="inline">Ash.stream!/2</code></a> docs for more.</li></ul></li></ul>
  </section>
</section>
<section class="detail" id="list_cases_with_filters/1">

    <span id="list_cases_with_filters/0"></span>

  <div class="detail-header">
    <a href="#list_cases_with_filters/1" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">list_cases_with_filters(opts \\ [])</h1>


    </div>
  </div>

  <section class="docstring">


  </section>
</section>
<section class="detail" id="list_cases_with_filters!/1">

    <span id="list_cases_with_filters!/0"></span>

  <div class="detail-header">
    <a href="#list_cases_with_filters!/1" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">list_cases_with_filters!(opts \\ [])</h1>


    </div>
  </div>

  <section class="docstring">


  </section>
</section>
<section class="detail" id="list_cases_with_filters_cached!/1">

    <span id="list_cases_with_filters_cached!/0"></span>

  <div class="detail-header">
    <a href="#list_cases_with_filters_cached!/1" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">list_cases_with_filters_cached!(opts \\ [])</h1>


    </div>
  </div>

  <section class="docstring">

<p>Cached version of list_cases_with_filters! for frequently used filter combinations.</p><p>Uses a simple cache key based on common filter patterns to avoid repeated database queries.
Cache TTL is 300.0 seconds.</p>
  </section>
</section>
<section class="detail" id="list_cases_with_filters_monitored!/1">

    <span id="list_cases_with_filters_monitored!/0"></span>

  <div class="detail-header">
    <a href="#list_cases_with_filters_monitored!/1" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">list_cases_with_filters_monitored!(opts \\ [])</h1>


    </div>
  </div>

  <section class="docstring">

<p>Monitored version of list_cases_with_filters! that logs slow queries.</p>
  </section>
</section>
<section class="detail" id="list_legislation/2">

    <span id="list_legislation/0"></span>

    <span id="list_legislation/1"></span>

  <div class="detail-header">
    <a href="#list_legislation/2" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">list_legislation(params \\ nil, opts \\ nil)</h1>


    </div>
  </div>

  <section class="docstring">

<p>Calls the read action on EhsEnforcement.Enforcement.Legislation.</p><h2 id="list_legislation/2-options" class="section-heading"><a href="#list_legislation/2-options" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Options</span></h2><ul><li><code class="inline">:page</code> - Pagination options, see <a href="https://hexdocs.pm/ash/3.7.6/Ash.html#read/2"><code class="inline">Ash.read/2</code></a> for more.</li><li><code class="inline">:load</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A load statement to add onto the query</li><li><code class="inline">:max_concurrency</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">non_neg_integer/0</code></a>) - The maximum number of processes allowed to be started for parallel loading of relationships and calculations. Defaults to <code class="inline">System.schedulers_online() * 2</code></li><li><code class="inline">:lock</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A lock statement to add onto the query</li><li><code class="inline">:return_query?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If <code class="inline">true</code>, the query that was ultimately used is returned as a third tuple element.<br/>The query goes through many potential changes during a request, potentially adding
authorization filters, or replacing relationships for other data layers with their
corresponding ids. This option can be used to get the true query that was sent to
the data layer. The default value is <code class="inline">false</code>.</li><li><code class="inline">:skip_unknown_inputs</code> - A list of inputs that, if provided, will be ignored if they are not recognized by the action. Use <code class="inline">:*</code> to indicate all unknown keys.</li><li><code class="inline">:reuse_values?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether calculations are allowed to reuse values that have already been loaded, or must refetch them from the data layer. The default value is <code class="inline">false</code>.</li><li><code class="inline">:strict?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If set to true, only specified attributes will be loaded when passing
  a list of fields to fetch on a relationship, which allows for more
  optimized data-fetching.<br/>  See <a href="https://hexdocs.pm/ash/3.7.6/Ash.Query.html#load/2"><code class="inline">Ash.Query.load/2</code></a>. The default value is <code class="inline">false</code>.</li><li><code class="inline">:authorize_with</code> - If set to <code class="inline">:error</code>, instead of applying authorization filters as a filter, any records not matching the authorization filter will cause an error to be returned. Valid values are :filter, :error The default value is <code class="inline">:filter</code>.</li><li><code class="inline">:timeout</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">timeout/0</code></a>) - A positive integer, or <code class="inline">:infinity</code>. If none is provided, the timeout configured on the domain is used.</li><li><code class="inline">:tracer</code> (one or a list of module that adopts <a href="https://hexdocs.pm/ash/3.7.6/Ash.Tracer.html"><code class="inline">Ash.Tracer</code></a>) - A tracer that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.Tracer.html"><code class="inline">Ash.Tracer</code></a> behaviour. See that module for more.</li><li><code class="inline">:action</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - The action to use, either an Action struct or the name of the action</li><li><code class="inline">:authorize?</code> - If an actor option is provided (even if it is <code class="inline">nil</code>), authorization happens automatically. If not, this flag can be used to authorize with no user.</li><li><code class="inline">:context</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">map/0</code></a>) - Context to set on the query, changeset, or input</li><li><code class="inline">:tenant</code> (value that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.ToTenant.html"><code class="inline">Ash.ToTenant</code></a> protocol) - A tenant to set on the query or changeset</li><li><code class="inline">:actor</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - If an actor is provided, it will be used in conjunction with the authorizers of a resource to authorize access</li><li><code class="inline">:scope</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A value that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> protocol, for passing around actor/tenant/context in a single value. See <a href="https://hexdocs.pm/ash/3.7.6/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> for more.</li><li><code class="inline">:query</code> - A query to seed the action with.</li><li><code class="inline">:not_found_error?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to return or raise a <code class="inline">NotFound</code> error or to return <code class="inline">nil</code> when a get? action/interface is called.</li><li><code class="inline">:stream?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If true, a stream of the results will be returned The default value is <code class="inline">false</code>.</li><li><code class="inline">:stream_options</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">keyword/0</code></a>) - Options passed to <code class="inline">Ash.stream!</code>, if <code class="inline">stream?: true</code> is given<ul><li><code class="inline">:batch_size</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">integer/0</code></a>) - How many records to request in each query run. Defaults to the pagination limits on the resource, or 250.</li><li><code class="inline">:allow_stream_with</code> - The 'worst' strategy allowed to be used to fetch records. See <a href="https://hexdocs.pm/ash/3.7.6/Ash.html#stream!/2"><code class="inline">Ash.stream!/2</code></a> docs for more. The default value is <code class="inline">:keyset</code>.</li><li><code class="inline">:stream_with</code> - The specific strategy to use to fetch records. See <a href="https://hexdocs.pm/ash/3.7.6/Ash.html#stream!/2"><code class="inline">Ash.stream!/2</code></a> docs for more.</li></ul></li></ul>
  </section>
</section>
<section class="detail" id="list_legislation!/2">

    <span id="list_legislation!/0"></span>

    <span id="list_legislation!/1"></span>

  <div class="detail-header">
    <a href="#list_legislation!/2" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">list_legislation!(params \\ nil, opts \\ nil)</h1>


    </div>
  </div>

  <section class="docstring">

<p>Calls the read action on EhsEnforcement.Enforcement.Legislation.
Raises any errors instead of returning them</p><h2 id="list_legislation!/2-options" class="section-heading"><a href="#list_legislation!/2-options" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Options</span></h2><ul><li><code class="inline">:page</code> - Pagination options, see <a href="https://hexdocs.pm/ash/3.7.6/Ash.html#read/2"><code class="inline">Ash.read/2</code></a> for more.</li><li><code class="inline">:load</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A load statement to add onto the query</li><li><code class="inline">:max_concurrency</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">non_neg_integer/0</code></a>) - The maximum number of processes allowed to be started for parallel loading of relationships and calculations. Defaults to <code class="inline">System.schedulers_online() * 2</code></li><li><code class="inline">:lock</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A lock statement to add onto the query</li><li><code class="inline">:return_query?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If <code class="inline">true</code>, the query that was ultimately used is returned as a third tuple element.<br/>The query goes through many potential changes during a request, potentially adding
authorization filters, or replacing relationships for other data layers with their
corresponding ids. This option can be used to get the true query that was sent to
the data layer. The default value is <code class="inline">false</code>.</li><li><code class="inline">:skip_unknown_inputs</code> - A list of inputs that, if provided, will be ignored if they are not recognized by the action. Use <code class="inline">:*</code> to indicate all unknown keys.</li><li><code class="inline">:reuse_values?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether calculations are allowed to reuse values that have already been loaded, or must refetch them from the data layer. The default value is <code class="inline">false</code>.</li><li><code class="inline">:strict?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If set to true, only specified attributes will be loaded when passing
  a list of fields to fetch on a relationship, which allows for more
  optimized data-fetching.<br/>  See <a href="https://hexdocs.pm/ash/3.7.6/Ash.Query.html#load/2"><code class="inline">Ash.Query.load/2</code></a>. The default value is <code class="inline">false</code>.</li><li><code class="inline">:authorize_with</code> - If set to <code class="inline">:error</code>, instead of applying authorization filters as a filter, any records not matching the authorization filter will cause an error to be returned. Valid values are :filter, :error The default value is <code class="inline">:filter</code>.</li><li><code class="inline">:timeout</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">timeout/0</code></a>) - A positive integer, or <code class="inline">:infinity</code>. If none is provided, the timeout configured on the domain is used.</li><li><code class="inline">:tracer</code> (one or a list of module that adopts <a href="https://hexdocs.pm/ash/3.7.6/Ash.Tracer.html"><code class="inline">Ash.Tracer</code></a>) - A tracer that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.Tracer.html"><code class="inline">Ash.Tracer</code></a> behaviour. See that module for more.</li><li><code class="inline">:action</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - The action to use, either an Action struct or the name of the action</li><li><code class="inline">:authorize?</code> - If an actor option is provided (even if it is <code class="inline">nil</code>), authorization happens automatically. If not, this flag can be used to authorize with no user.</li><li><code class="inline">:context</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">map/0</code></a>) - Context to set on the query, changeset, or input</li><li><code class="inline">:tenant</code> (value that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.ToTenant.html"><code class="inline">Ash.ToTenant</code></a> protocol) - A tenant to set on the query or changeset</li><li><code class="inline">:actor</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - If an actor is provided, it will be used in conjunction with the authorizers of a resource to authorize access</li><li><code class="inline">:scope</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A value that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> protocol, for passing around actor/tenant/context in a single value. See <a href="https://hexdocs.pm/ash/3.7.6/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> for more.</li><li><code class="inline">:query</code> - A query to seed the action with.</li><li><code class="inline">:not_found_error?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to return or raise a <code class="inline">NotFound</code> error or to return <code class="inline">nil</code> when a get? action/interface is called.</li><li><code class="inline">:stream?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If true, a stream of the results will be returned The default value is <code class="inline">false</code>.</li><li><code class="inline">:stream_options</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">keyword/0</code></a>) - Options passed to <code class="inline">Ash.stream!</code>, if <code class="inline">stream?: true</code> is given<ul><li><code class="inline">:batch_size</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">integer/0</code></a>) - How many records to request in each query run. Defaults to the pagination limits on the resource, or 250.</li><li><code class="inline">:allow_stream_with</code> - The 'worst' strategy allowed to be used to fetch records. See <a href="https://hexdocs.pm/ash/3.7.6/Ash.html#stream!/2"><code class="inline">Ash.stream!/2</code></a> docs for more. The default value is <code class="inline">:keyset</code>.</li><li><code class="inline">:stream_with</code> - The specific strategy to use to fetch records. See <a href="https://hexdocs.pm/ash/3.7.6/Ash.html#stream!/2"><code class="inline">Ash.stream!/2</code></a> docs for more.</li></ul></li></ul>
  </section>
</section>
<section class="detail" id="list_legislation_by_type/3">

    <span id="list_legislation_by_type/1"></span>

    <span id="list_legislation_by_type/2"></span>

  <div class="detail-header">
    <a href="#list_legislation_by_type/3" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">list_legislation_by_type(legislation_type, params \\ nil, opts \\ nil)</h1>


    </div>
  </div>

  <section class="docstring">

<p>Calls the by_type action on EhsEnforcement.Enforcement.Legislation.</p><h1>Arguments</h1><ul><li>legislation_type</li></ul><h2 id="list_legislation_by_type/3-options" class="section-heading"><a href="#list_legislation_by_type/3-options" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Options</span></h2><ul><li><code class="inline">:page</code> - Pagination options, see <a href="https://hexdocs.pm/ash/3.7.6/Ash.html#read/2"><code class="inline">Ash.read/2</code></a> for more.</li><li><code class="inline">:load</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A load statement to add onto the query</li><li><code class="inline">:max_concurrency</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">non_neg_integer/0</code></a>) - The maximum number of processes allowed to be started for parallel loading of relationships and calculations. Defaults to <code class="inline">System.schedulers_online() * 2</code></li><li><code class="inline">:lock</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A lock statement to add onto the query</li><li><code class="inline">:return_query?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If <code class="inline">true</code>, the query that was ultimately used is returned as a third tuple element.<br/>The query goes through many potential changes during a request, potentially adding
authorization filters, or replacing relationships for other data layers with their
corresponding ids. This option can be used to get the true query that was sent to
the data layer. The default value is <code class="inline">false</code>.</li><li><code class="inline">:skip_unknown_inputs</code> - A list of inputs that, if provided, will be ignored if they are not recognized by the action. Use <code class="inline">:*</code> to indicate all unknown keys.</li><li><code class="inline">:reuse_values?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether calculations are allowed to reuse values that have already been loaded, or must refetch them from the data layer. The default value is <code class="inline">false</code>.</li><li><code class="inline">:strict?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If set to true, only specified attributes will be loaded when passing
  a list of fields to fetch on a relationship, which allows for more
  optimized data-fetching.<br/>  See <a href="https://hexdocs.pm/ash/3.7.6/Ash.Query.html#load/2"><code class="inline">Ash.Query.load/2</code></a>. The default value is <code class="inline">false</code>.</li><li><code class="inline">:authorize_with</code> - If set to <code class="inline">:error</code>, instead of applying authorization filters as a filter, any records not matching the authorization filter will cause an error to be returned. Valid values are :filter, :error The default value is <code class="inline">:filter</code>.</li><li><code class="inline">:timeout</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">timeout/0</code></a>) - A positive integer, or <code class="inline">:infinity</code>. If none is provided, the timeout configured on the domain is used.</li><li><code class="inline">:tracer</code> (one or a list of module that adopts <a href="https://hexdocs.pm/ash/3.7.6/Ash.Tracer.html"><code class="inline">Ash.Tracer</code></a>) - A tracer that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.Tracer.html"><code class="inline">Ash.Tracer</code></a> behaviour. See that module for more.</li><li><code class="inline">:action</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - The action to use, either an Action struct or the name of the action</li><li><code class="inline">:authorize?</code> - If an actor option is provided (even if it is <code class="inline">nil</code>), authorization happens automatically. If not, this flag can be used to authorize with no user.</li><li><code class="inline">:context</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">map/0</code></a>) - Context to set on the query, changeset, or input</li><li><code class="inline">:tenant</code> (value that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.ToTenant.html"><code class="inline">Ash.ToTenant</code></a> protocol) - A tenant to set on the query or changeset</li><li><code class="inline">:actor</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - If an actor is provided, it will be used in conjunction with the authorizers of a resource to authorize access</li><li><code class="inline">:scope</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A value that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> protocol, for passing around actor/tenant/context in a single value. See <a href="https://hexdocs.pm/ash/3.7.6/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> for more.</li><li><code class="inline">:query</code> - A query to seed the action with.</li><li><code class="inline">:not_found_error?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to return or raise a <code class="inline">NotFound</code> error or to return <code class="inline">nil</code> when a get? action/interface is called.</li><li><code class="inline">:stream?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If true, a stream of the results will be returned The default value is <code class="inline">false</code>.</li><li><code class="inline">:stream_options</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">keyword/0</code></a>) - Options passed to <code class="inline">Ash.stream!</code>, if <code class="inline">stream?: true</code> is given<ul><li><code class="inline">:batch_size</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">integer/0</code></a>) - How many records to request in each query run. Defaults to the pagination limits on the resource, or 250.</li><li><code class="inline">:allow_stream_with</code> - The 'worst' strategy allowed to be used to fetch records. See <a href="https://hexdocs.pm/ash/3.7.6/Ash.html#stream!/2"><code class="inline">Ash.stream!/2</code></a> docs for more. The default value is <code class="inline">:keyset</code>.</li><li><code class="inline">:stream_with</code> - The specific strategy to use to fetch records. See <a href="https://hexdocs.pm/ash/3.7.6/Ash.html#stream!/2"><code class="inline">Ash.stream!/2</code></a> docs for more.</li></ul></li></ul>
  </section>
</section>
<section class="detail" id="list_legislation_by_type!/3">

    <span id="list_legislation_by_type!/1"></span>

    <span id="list_legislation_by_type!/2"></span>

  <div class="detail-header">
    <a href="#list_legislation_by_type!/3" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">list_legislation_by_type!(legislation_type, params \\ nil, opts \\ nil)</h1>


    </div>
  </div>

  <section class="docstring">

<p>Calls the by_type action on EhsEnforcement.Enforcement.Legislation.
Raises any errors instead of returning them</p><h1>Arguments</h1><ul><li>legislation_type</li></ul><h2 id="list_legislation_by_type!/3-options" class="section-heading"><a href="#list_legislation_by_type!/3-options" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Options</span></h2><ul><li><code class="inline">:page</code> - Pagination options, see <a href="https://hexdocs.pm/ash/3.7.6/Ash.html#read/2"><code class="inline">Ash.read/2</code></a> for more.</li><li><code class="inline">:load</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A load statement to add onto the query</li><li><code class="inline">:max_concurrency</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">non_neg_integer/0</code></a>) - The maximum number of processes allowed to be started for parallel loading of relationships and calculations. Defaults to <code class="inline">System.schedulers_online() * 2</code></li><li><code class="inline">:lock</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A lock statement to add onto the query</li><li><code class="inline">:return_query?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If <code class="inline">true</code>, the query that was ultimately used is returned as a third tuple element.<br/>The query goes through many potential changes during a request, potentially adding
authorization filters, or replacing relationships for other data layers with their
corresponding ids. This option can be used to get the true query that was sent to
the data layer. The default value is <code class="inline">false</code>.</li><li><code class="inline">:skip_unknown_inputs</code> - A list of inputs that, if provided, will be ignored if they are not recognized by the action. Use <code class="inline">:*</code> to indicate all unknown keys.</li><li><code class="inline">:reuse_values?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether calculations are allowed to reuse values that have already been loaded, or must refetch them from the data layer. The default value is <code class="inline">false</code>.</li><li><code class="inline">:strict?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If set to true, only specified attributes will be loaded when passing
  a list of fields to fetch on a relationship, which allows for more
  optimized data-fetching.<br/>  See <a href="https://hexdocs.pm/ash/3.7.6/Ash.Query.html#load/2"><code class="inline">Ash.Query.load/2</code></a>. The default value is <code class="inline">false</code>.</li><li><code class="inline">:authorize_with</code> - If set to <code class="inline">:error</code>, instead of applying authorization filters as a filter, any records not matching the authorization filter will cause an error to be returned. Valid values are :filter, :error The default value is <code class="inline">:filter</code>.</li><li><code class="inline">:timeout</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">timeout/0</code></a>) - A positive integer, or <code class="inline">:infinity</code>. If none is provided, the timeout configured on the domain is used.</li><li><code class="inline">:tracer</code> (one or a list of module that adopts <a href="https://hexdocs.pm/ash/3.7.6/Ash.Tracer.html"><code class="inline">Ash.Tracer</code></a>) - A tracer that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.Tracer.html"><code class="inline">Ash.Tracer</code></a> behaviour. See that module for more.</li><li><code class="inline">:action</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - The action to use, either an Action struct or the name of the action</li><li><code class="inline">:authorize?</code> - If an actor option is provided (even if it is <code class="inline">nil</code>), authorization happens automatically. If not, this flag can be used to authorize with no user.</li><li><code class="inline">:context</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">map/0</code></a>) - Context to set on the query, changeset, or input</li><li><code class="inline">:tenant</code> (value that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.ToTenant.html"><code class="inline">Ash.ToTenant</code></a> protocol) - A tenant to set on the query or changeset</li><li><code class="inline">:actor</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - If an actor is provided, it will be used in conjunction with the authorizers of a resource to authorize access</li><li><code class="inline">:scope</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A value that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> protocol, for passing around actor/tenant/context in a single value. See <a href="https://hexdocs.pm/ash/3.7.6/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> for more.</li><li><code class="inline">:query</code> - A query to seed the action with.</li><li><code class="inline">:not_found_error?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to return or raise a <code class="inline">NotFound</code> error or to return <code class="inline">nil</code> when a get? action/interface is called.</li><li><code class="inline">:stream?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If true, a stream of the results will be returned The default value is <code class="inline">false</code>.</li><li><code class="inline">:stream_options</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">keyword/0</code></a>) - Options passed to <code class="inline">Ash.stream!</code>, if <code class="inline">stream?: true</code> is given<ul><li><code class="inline">:batch_size</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">integer/0</code></a>) - How many records to request in each query run. Defaults to the pagination limits on the resource, or 250.</li><li><code class="inline">:allow_stream_with</code> - The 'worst' strategy allowed to be used to fetch records. See <a href="https://hexdocs.pm/ash/3.7.6/Ash.html#stream!/2"><code class="inline">Ash.stream!/2</code></a> docs for more. The default value is <code class="inline">:keyset</code>.</li><li><code class="inline">:stream_with</code> - The specific strategy to use to fetch records. See <a href="https://hexdocs.pm/ash/3.7.6/Ash.html#stream!/2"><code class="inline">Ash.stream!/2</code></a> docs for more.</li></ul></li></ul>
  </section>
</section>
<section class="detail" id="list_legislation_by_year_range/4">

    <span id="list_legislation_by_year_range/2"></span>

    <span id="list_legislation_by_year_range/3"></span>

  <div class="detail-header">
    <a href="#list_legislation_by_year_range/4" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">list_legislation_by_year_range(start_year, end_year, params \\ nil, opts \\ nil)</h1>


    </div>
  </div>

  <section class="docstring">

<p>Calls the by_year_range action on EhsEnforcement.Enforcement.Legislation.</p><h1>Arguments</h1><ul><li>start_year</li><li>end_year</li></ul><h2 id="list_legislation_by_year_range/4-options" class="section-heading"><a href="#list_legislation_by_year_range/4-options" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Options</span></h2><ul><li><code class="inline">:page</code> - Pagination options, see <a href="https://hexdocs.pm/ash/3.7.6/Ash.html#read/2"><code class="inline">Ash.read/2</code></a> for more.</li><li><code class="inline">:load</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A load statement to add onto the query</li><li><code class="inline">:max_concurrency</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">non_neg_integer/0</code></a>) - The maximum number of processes allowed to be started for parallel loading of relationships and calculations. Defaults to <code class="inline">System.schedulers_online() * 2</code></li><li><code class="inline">:lock</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A lock statement to add onto the query</li><li><code class="inline">:return_query?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If <code class="inline">true</code>, the query that was ultimately used is returned as a third tuple element.<br/>The query goes through many potential changes during a request, potentially adding
authorization filters, or replacing relationships for other data layers with their
corresponding ids. This option can be used to get the true query that was sent to
the data layer. The default value is <code class="inline">false</code>.</li><li><code class="inline">:skip_unknown_inputs</code> - A list of inputs that, if provided, will be ignored if they are not recognized by the action. Use <code class="inline">:*</code> to indicate all unknown keys.</li><li><code class="inline">:reuse_values?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether calculations are allowed to reuse values that have already been loaded, or must refetch them from the data layer. The default value is <code class="inline">false</code>.</li><li><code class="inline">:strict?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If set to true, only specified attributes will be loaded when passing
  a list of fields to fetch on a relationship, which allows for more
  optimized data-fetching.<br/>  See <a href="https://hexdocs.pm/ash/3.7.6/Ash.Query.html#load/2"><code class="inline">Ash.Query.load/2</code></a>. The default value is <code class="inline">false</code>.</li><li><code class="inline">:authorize_with</code> - If set to <code class="inline">:error</code>, instead of applying authorization filters as a filter, any records not matching the authorization filter will cause an error to be returned. Valid values are :filter, :error The default value is <code class="inline">:filter</code>.</li><li><code class="inline">:timeout</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">timeout/0</code></a>) - A positive integer, or <code class="inline">:infinity</code>. If none is provided, the timeout configured on the domain is used.</li><li><code class="inline">:tracer</code> (one or a list of module that adopts <a href="https://hexdocs.pm/ash/3.7.6/Ash.Tracer.html"><code class="inline">Ash.Tracer</code></a>) - A tracer that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.Tracer.html"><code class="inline">Ash.Tracer</code></a> behaviour. See that module for more.</li><li><code class="inline">:action</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - The action to use, either an Action struct or the name of the action</li><li><code class="inline">:authorize?</code> - If an actor option is provided (even if it is <code class="inline">nil</code>), authorization happens automatically. If not, this flag can be used to authorize with no user.</li><li><code class="inline">:context</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">map/0</code></a>) - Context to set on the query, changeset, or input</li><li><code class="inline">:tenant</code> (value that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.ToTenant.html"><code class="inline">Ash.ToTenant</code></a> protocol) - A tenant to set on the query or changeset</li><li><code class="inline">:actor</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - If an actor is provided, it will be used in conjunction with the authorizers of a resource to authorize access</li><li><code class="inline">:scope</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A value that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> protocol, for passing around actor/tenant/context in a single value. See <a href="https://hexdocs.pm/ash/3.7.6/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> for more.</li><li><code class="inline">:query</code> - A query to seed the action with.</li><li><code class="inline">:not_found_error?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to return or raise a <code class="inline">NotFound</code> error or to return <code class="inline">nil</code> when a get? action/interface is called.</li><li><code class="inline">:stream?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If true, a stream of the results will be returned The default value is <code class="inline">false</code>.</li><li><code class="inline">:stream_options</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">keyword/0</code></a>) - Options passed to <code class="inline">Ash.stream!</code>, if <code class="inline">stream?: true</code> is given<ul><li><code class="inline">:batch_size</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">integer/0</code></a>) - How many records to request in each query run. Defaults to the pagination limits on the resource, or 250.</li><li><code class="inline">:allow_stream_with</code> - The 'worst' strategy allowed to be used to fetch records. See <a href="https://hexdocs.pm/ash/3.7.6/Ash.html#stream!/2"><code class="inline">Ash.stream!/2</code></a> docs for more. The default value is <code class="inline">:keyset</code>.</li><li><code class="inline">:stream_with</code> - The specific strategy to use to fetch records. See <a href="https://hexdocs.pm/ash/3.7.6/Ash.html#stream!/2"><code class="inline">Ash.stream!/2</code></a> docs for more.</li></ul></li></ul>
  </section>
</section>
<section class="detail" id="list_legislation_by_year_range!/4">

    <span id="list_legislation_by_year_range!/2"></span>

    <span id="list_legislation_by_year_range!/3"></span>

  <div class="detail-header">
    <a href="#list_legislation_by_year_range!/4" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">list_legislation_by_year_range!(start_year, end_year, params \\ nil, opts \\ nil)</h1>


    </div>
  </div>

  <section class="docstring">

<p>Calls the by_year_range action on EhsEnforcement.Enforcement.Legislation.
Raises any errors instead of returning them</p><h1>Arguments</h1><ul><li>start_year</li><li>end_year</li></ul><h2 id="list_legislation_by_year_range!/4-options" class="section-heading"><a href="#list_legislation_by_year_range!/4-options" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Options</span></h2><ul><li><code class="inline">:page</code> - Pagination options, see <a href="https://hexdocs.pm/ash/3.7.6/Ash.html#read/2"><code class="inline">Ash.read/2</code></a> for more.</li><li><code class="inline">:load</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A load statement to add onto the query</li><li><code class="inline">:max_concurrency</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">non_neg_integer/0</code></a>) - The maximum number of processes allowed to be started for parallel loading of relationships and calculations. Defaults to <code class="inline">System.schedulers_online() * 2</code></li><li><code class="inline">:lock</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A lock statement to add onto the query</li><li><code class="inline">:return_query?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If <code class="inline">true</code>, the query that was ultimately used is returned as a third tuple element.<br/>The query goes through many potential changes during a request, potentially adding
authorization filters, or replacing relationships for other data layers with their
corresponding ids. This option can be used to get the true query that was sent to
the data layer. The default value is <code class="inline">false</code>.</li><li><code class="inline">:skip_unknown_inputs</code> - A list of inputs that, if provided, will be ignored if they are not recognized by the action. Use <code class="inline">:*</code> to indicate all unknown keys.</li><li><code class="inline">:reuse_values?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether calculations are allowed to reuse values that have already been loaded, or must refetch them from the data layer. The default value is <code class="inline">false</code>.</li><li><code class="inline">:strict?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If set to true, only specified attributes will be loaded when passing
  a list of fields to fetch on a relationship, which allows for more
  optimized data-fetching.<br/>  See <a href="https://hexdocs.pm/ash/3.7.6/Ash.Query.html#load/2"><code class="inline">Ash.Query.load/2</code></a>. The default value is <code class="inline">false</code>.</li><li><code class="inline">:authorize_with</code> - If set to <code class="inline">:error</code>, instead of applying authorization filters as a filter, any records not matching the authorization filter will cause an error to be returned. Valid values are :filter, :error The default value is <code class="inline">:filter</code>.</li><li><code class="inline">:timeout</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">timeout/0</code></a>) - A positive integer, or <code class="inline">:infinity</code>. If none is provided, the timeout configured on the domain is used.</li><li><code class="inline">:tracer</code> (one or a list of module that adopts <a href="https://hexdocs.pm/ash/3.7.6/Ash.Tracer.html"><code class="inline">Ash.Tracer</code></a>) - A tracer that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.Tracer.html"><code class="inline">Ash.Tracer</code></a> behaviour. See that module for more.</li><li><code class="inline">:action</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - The action to use, either an Action struct or the name of the action</li><li><code class="inline">:authorize?</code> - If an actor option is provided (even if it is <code class="inline">nil</code>), authorization happens automatically. If not, this flag can be used to authorize with no user.</li><li><code class="inline">:context</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">map/0</code></a>) - Context to set on the query, changeset, or input</li><li><code class="inline">:tenant</code> (value that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.ToTenant.html"><code class="inline">Ash.ToTenant</code></a> protocol) - A tenant to set on the query or changeset</li><li><code class="inline">:actor</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - If an actor is provided, it will be used in conjunction with the authorizers of a resource to authorize access</li><li><code class="inline">:scope</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A value that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> protocol, for passing around actor/tenant/context in a single value. See <a href="https://hexdocs.pm/ash/3.7.6/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> for more.</li><li><code class="inline">:query</code> - A query to seed the action with.</li><li><code class="inline">:not_found_error?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to return or raise a <code class="inline">NotFound</code> error or to return <code class="inline">nil</code> when a get? action/interface is called.</li><li><code class="inline">:stream?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If true, a stream of the results will be returned The default value is <code class="inline">false</code>.</li><li><code class="inline">:stream_options</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">keyword/0</code></a>) - Options passed to <code class="inline">Ash.stream!</code>, if <code class="inline">stream?: true</code> is given<ul><li><code class="inline">:batch_size</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">integer/0</code></a>) - How many records to request in each query run. Defaults to the pagination limits on the resource, or 250.</li><li><code class="inline">:allow_stream_with</code> - The 'worst' strategy allowed to be used to fetch records. See <a href="https://hexdocs.pm/ash/3.7.6/Ash.html#stream!/2"><code class="inline">Ash.stream!/2</code></a> docs for more. The default value is <code class="inline">:keyset</code>.</li><li><code class="inline">:stream_with</code> - The specific strategy to use to fetch records. See <a href="https://hexdocs.pm/ash/3.7.6/Ash.html#stream!/2"><code class="inline">Ash.stream!/2</code></a> docs for more.</li></ul></li></ul>
  </section>
</section>
<section class="detail" id="list_legislation_with_filters!/1">

    <span id="list_legislation_with_filters!/0"></span>

  <div class="detail-header">
    <a href="#list_legislation_with_filters!/1" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">list_legislation_with_filters!(opts \\ [])</h1>


    </div>
  </div>

  <section class="docstring">


  </section>
</section>
<section class="detail" id="list_notices/2">

    <span id="list_notices/0"></span>

    <span id="list_notices/1"></span>

  <div class="detail-header">
    <a href="#list_notices/2" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">list_notices(params \\ nil, opts \\ nil)</h1>


    </div>
  </div>

  <section class="docstring">

<p>Calls the read action on EhsEnforcement.Enforcement.Notice.</p><h2 id="list_notices/2-options" class="section-heading"><a href="#list_notices/2-options" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Options</span></h2><ul><li><code class="inline">:page</code> - Pagination options, see <a href="https://hexdocs.pm/ash/3.7.6/Ash.html#read/2"><code class="inline">Ash.read/2</code></a> for more.</li><li><code class="inline">:load</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A load statement to add onto the query</li><li><code class="inline">:max_concurrency</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">non_neg_integer/0</code></a>) - The maximum number of processes allowed to be started for parallel loading of relationships and calculations. Defaults to <code class="inline">System.schedulers_online() * 2</code></li><li><code class="inline">:lock</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A lock statement to add onto the query</li><li><code class="inline">:return_query?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If <code class="inline">true</code>, the query that was ultimately used is returned as a third tuple element.<br/>The query goes through many potential changes during a request, potentially adding
authorization filters, or replacing relationships for other data layers with their
corresponding ids. This option can be used to get the true query that was sent to
the data layer. The default value is <code class="inline">false</code>.</li><li><code class="inline">:skip_unknown_inputs</code> - A list of inputs that, if provided, will be ignored if they are not recognized by the action. Use <code class="inline">:*</code> to indicate all unknown keys.</li><li><code class="inline">:reuse_values?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether calculations are allowed to reuse values that have already been loaded, or must refetch them from the data layer. The default value is <code class="inline">false</code>.</li><li><code class="inline">:strict?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If set to true, only specified attributes will be loaded when passing
  a list of fields to fetch on a relationship, which allows for more
  optimized data-fetching.<br/>  See <a href="https://hexdocs.pm/ash/3.7.6/Ash.Query.html#load/2"><code class="inline">Ash.Query.load/2</code></a>. The default value is <code class="inline">false</code>.</li><li><code class="inline">:authorize_with</code> - If set to <code class="inline">:error</code>, instead of applying authorization filters as a filter, any records not matching the authorization filter will cause an error to be returned. Valid values are :filter, :error The default value is <code class="inline">:filter</code>.</li><li><code class="inline">:timeout</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">timeout/0</code></a>) - A positive integer, or <code class="inline">:infinity</code>. If none is provided, the timeout configured on the domain is used.</li><li><code class="inline">:tracer</code> (one or a list of module that adopts <a href="https://hexdocs.pm/ash/3.7.6/Ash.Tracer.html"><code class="inline">Ash.Tracer</code></a>) - A tracer that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.Tracer.html"><code class="inline">Ash.Tracer</code></a> behaviour. See that module for more.</li><li><code class="inline">:action</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - The action to use, either an Action struct or the name of the action</li><li><code class="inline">:authorize?</code> - If an actor option is provided (even if it is <code class="inline">nil</code>), authorization happens automatically. If not, this flag can be used to authorize with no user.</li><li><code class="inline">:context</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">map/0</code></a>) - Context to set on the query, changeset, or input</li><li><code class="inline">:tenant</code> (value that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.ToTenant.html"><code class="inline">Ash.ToTenant</code></a> protocol) - A tenant to set on the query or changeset</li><li><code class="inline">:actor</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - If an actor is provided, it will be used in conjunction with the authorizers of a resource to authorize access</li><li><code class="inline">:scope</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A value that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> protocol, for passing around actor/tenant/context in a single value. See <a href="https://hexdocs.pm/ash/3.7.6/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> for more.</li><li><code class="inline">:query</code> - A query to seed the action with.</li><li><code class="inline">:not_found_error?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to return or raise a <code class="inline">NotFound</code> error or to return <code class="inline">nil</code> when a get? action/interface is called.</li><li><code class="inline">:stream?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If true, a stream of the results will be returned The default value is <code class="inline">false</code>.</li><li><code class="inline">:stream_options</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">keyword/0</code></a>) - Options passed to <code class="inline">Ash.stream!</code>, if <code class="inline">stream?: true</code> is given<ul><li><code class="inline">:batch_size</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">integer/0</code></a>) - How many records to request in each query run. Defaults to the pagination limits on the resource, or 250.</li><li><code class="inline">:allow_stream_with</code> - The 'worst' strategy allowed to be used to fetch records. See <a href="https://hexdocs.pm/ash/3.7.6/Ash.html#stream!/2"><code class="inline">Ash.stream!/2</code></a> docs for more. The default value is <code class="inline">:keyset</code>.</li><li><code class="inline">:stream_with</code> - The specific strategy to use to fetch records. See <a href="https://hexdocs.pm/ash/3.7.6/Ash.html#stream!/2"><code class="inline">Ash.stream!/2</code></a> docs for more.</li></ul></li></ul>
  </section>
</section>
<section class="detail" id="list_notices!/2">

    <span id="list_notices!/0"></span>

    <span id="list_notices!/1"></span>

  <div class="detail-header">
    <a href="#list_notices!/2" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">list_notices!(params \\ nil, opts \\ nil)</h1>


    </div>
  </div>

  <section class="docstring">

<p>Calls the read action on EhsEnforcement.Enforcement.Notice.
Raises any errors instead of returning them</p><h2 id="list_notices!/2-options" class="section-heading"><a href="#list_notices!/2-options" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Options</span></h2><ul><li><code class="inline">:page</code> - Pagination options, see <a href="https://hexdocs.pm/ash/3.7.6/Ash.html#read/2"><code class="inline">Ash.read/2</code></a> for more.</li><li><code class="inline">:load</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A load statement to add onto the query</li><li><code class="inline">:max_concurrency</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">non_neg_integer/0</code></a>) - The maximum number of processes allowed to be started for parallel loading of relationships and calculations. Defaults to <code class="inline">System.schedulers_online() * 2</code></li><li><code class="inline">:lock</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A lock statement to add onto the query</li><li><code class="inline">:return_query?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If <code class="inline">true</code>, the query that was ultimately used is returned as a third tuple element.<br/>The query goes through many potential changes during a request, potentially adding
authorization filters, or replacing relationships for other data layers with their
corresponding ids. This option can be used to get the true query that was sent to
the data layer. The default value is <code class="inline">false</code>.</li><li><code class="inline">:skip_unknown_inputs</code> - A list of inputs that, if provided, will be ignored if they are not recognized by the action. Use <code class="inline">:*</code> to indicate all unknown keys.</li><li><code class="inline">:reuse_values?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether calculations are allowed to reuse values that have already been loaded, or must refetch them from the data layer. The default value is <code class="inline">false</code>.</li><li><code class="inline">:strict?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If set to true, only specified attributes will be loaded when passing
  a list of fields to fetch on a relationship, which allows for more
  optimized data-fetching.<br/>  See <a href="https://hexdocs.pm/ash/3.7.6/Ash.Query.html#load/2"><code class="inline">Ash.Query.load/2</code></a>. The default value is <code class="inline">false</code>.</li><li><code class="inline">:authorize_with</code> - If set to <code class="inline">:error</code>, instead of applying authorization filters as a filter, any records not matching the authorization filter will cause an error to be returned. Valid values are :filter, :error The default value is <code class="inline">:filter</code>.</li><li><code class="inline">:timeout</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">timeout/0</code></a>) - A positive integer, or <code class="inline">:infinity</code>. If none is provided, the timeout configured on the domain is used.</li><li><code class="inline">:tracer</code> (one or a list of module that adopts <a href="https://hexdocs.pm/ash/3.7.6/Ash.Tracer.html"><code class="inline">Ash.Tracer</code></a>) - A tracer that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.Tracer.html"><code class="inline">Ash.Tracer</code></a> behaviour. See that module for more.</li><li><code class="inline">:action</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - The action to use, either an Action struct or the name of the action</li><li><code class="inline">:authorize?</code> - If an actor option is provided (even if it is <code class="inline">nil</code>), authorization happens automatically. If not, this flag can be used to authorize with no user.</li><li><code class="inline">:context</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">map/0</code></a>) - Context to set on the query, changeset, or input</li><li><code class="inline">:tenant</code> (value that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.ToTenant.html"><code class="inline">Ash.ToTenant</code></a> protocol) - A tenant to set on the query or changeset</li><li><code class="inline">:actor</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - If an actor is provided, it will be used in conjunction with the authorizers of a resource to authorize access</li><li><code class="inline">:scope</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A value that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> protocol, for passing around actor/tenant/context in a single value. See <a href="https://hexdocs.pm/ash/3.7.6/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> for more.</li><li><code class="inline">:query</code> - A query to seed the action with.</li><li><code class="inline">:not_found_error?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to return or raise a <code class="inline">NotFound</code> error or to return <code class="inline">nil</code> when a get? action/interface is called.</li><li><code class="inline">:stream?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If true, a stream of the results will be returned The default value is <code class="inline">false</code>.</li><li><code class="inline">:stream_options</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">keyword/0</code></a>) - Options passed to <code class="inline">Ash.stream!</code>, if <code class="inline">stream?: true</code> is given<ul><li><code class="inline">:batch_size</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">integer/0</code></a>) - How many records to request in each query run. Defaults to the pagination limits on the resource, or 250.</li><li><code class="inline">:allow_stream_with</code> - The 'worst' strategy allowed to be used to fetch records. See <a href="https://hexdocs.pm/ash/3.7.6/Ash.html#stream!/2"><code class="inline">Ash.stream!/2</code></a> docs for more. The default value is <code class="inline">:keyset</code>.</li><li><code class="inline">:stream_with</code> - The specific strategy to use to fetch records. See <a href="https://hexdocs.pm/ash/3.7.6/Ash.html#stream!/2"><code class="inline">Ash.stream!/2</code></a> docs for more.</li></ul></li></ul>
  </section>
</section>
<section class="detail" id="list_notices_with_filters!/1">

    <span id="list_notices_with_filters!/0"></span>

  <div class="detail-header">
    <a href="#list_notices_with_filters!/1" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">list_notices_with_filters!(opts \\ [])</h1>


    </div>
  </div>

  <section class="docstring">


  </section>
</section>
<section class="detail" id="list_notices_with_filters_cached!/1">

    <span id="list_notices_with_filters_cached!/0"></span>

  <div class="detail-header">
    <a href="#list_notices_with_filters_cached!/1" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">list_notices_with_filters_cached!(opts \\ [])</h1>


    </div>
  </div>

  <section class="docstring">

<p>Cached version of list_notices_with_filters! for frequently used filter combinations.</p>
  </section>
</section>
<section class="detail" id="list_notices_with_filters_monitored!/1">

    <span id="list_notices_with_filters_monitored!/0"></span>

  <div class="detail-header">
    <a href="#list_notices_with_filters_monitored!/1" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">list_notices_with_filters_monitored!(opts \\ [])</h1>


    </div>
  </div>

  <section class="docstring">

<p>Monitored version of list_notices_with_filters! that logs slow queries.</p>
  </section>
</section>
<section class="detail" id="list_offences/2">

    <span id="list_offences/0"></span>

    <span id="list_offences/1"></span>

  <div class="detail-header">
    <a href="#list_offences/2" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">list_offences(params \\ nil, opts \\ nil)</h1>


    </div>
  </div>

  <section class="docstring">

<p>Calls the read action on EhsEnforcement.Enforcement.Offence.</p><h2 id="list_offences/2-options" class="section-heading"><a href="#list_offences/2-options" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Options</span></h2><ul><li><code class="inline">:page</code> - Pagination options, see <a href="https://hexdocs.pm/ash/3.7.6/Ash.html#read/2"><code class="inline">Ash.read/2</code></a> for more.</li><li><code class="inline">:load</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A load statement to add onto the query</li><li><code class="inline">:max_concurrency</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">non_neg_integer/0</code></a>) - The maximum number of processes allowed to be started for parallel loading of relationships and calculations. Defaults to <code class="inline">System.schedulers_online() * 2</code></li><li><code class="inline">:lock</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A lock statement to add onto the query</li><li><code class="inline">:return_query?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If <code class="inline">true</code>, the query that was ultimately used is returned as a third tuple element.<br/>The query goes through many potential changes during a request, potentially adding
authorization filters, or replacing relationships for other data layers with their
corresponding ids. This option can be used to get the true query that was sent to
the data layer. The default value is <code class="inline">false</code>.</li><li><code class="inline">:skip_unknown_inputs</code> - A list of inputs that, if provided, will be ignored if they are not recognized by the action. Use <code class="inline">:*</code> to indicate all unknown keys.</li><li><code class="inline">:reuse_values?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether calculations are allowed to reuse values that have already been loaded, or must refetch them from the data layer. The default value is <code class="inline">false</code>.</li><li><code class="inline">:strict?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If set to true, only specified attributes will be loaded when passing
  a list of fields to fetch on a relationship, which allows for more
  optimized data-fetching.<br/>  See <a href="https://hexdocs.pm/ash/3.7.6/Ash.Query.html#load/2"><code class="inline">Ash.Query.load/2</code></a>. The default value is <code class="inline">false</code>.</li><li><code class="inline">:authorize_with</code> - If set to <code class="inline">:error</code>, instead of applying authorization filters as a filter, any records not matching the authorization filter will cause an error to be returned. Valid values are :filter, :error The default value is <code class="inline">:filter</code>.</li><li><code class="inline">:timeout</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">timeout/0</code></a>) - A positive integer, or <code class="inline">:infinity</code>. If none is provided, the timeout configured on the domain is used.</li><li><code class="inline">:tracer</code> (one or a list of module that adopts <a href="https://hexdocs.pm/ash/3.7.6/Ash.Tracer.html"><code class="inline">Ash.Tracer</code></a>) - A tracer that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.Tracer.html"><code class="inline">Ash.Tracer</code></a> behaviour. See that module for more.</li><li><code class="inline">:action</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - The action to use, either an Action struct or the name of the action</li><li><code class="inline">:authorize?</code> - If an actor option is provided (even if it is <code class="inline">nil</code>), authorization happens automatically. If not, this flag can be used to authorize with no user.</li><li><code class="inline">:context</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">map/0</code></a>) - Context to set on the query, changeset, or input</li><li><code class="inline">:tenant</code> (value that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.ToTenant.html"><code class="inline">Ash.ToTenant</code></a> protocol) - A tenant to set on the query or changeset</li><li><code class="inline">:actor</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - If an actor is provided, it will be used in conjunction with the authorizers of a resource to authorize access</li><li><code class="inline">:scope</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A value that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> protocol, for passing around actor/tenant/context in a single value. See <a href="https://hexdocs.pm/ash/3.7.6/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> for more.</li><li><code class="inline">:query</code> - A query to seed the action with.</li><li><code class="inline">:not_found_error?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to return or raise a <code class="inline">NotFound</code> error or to return <code class="inline">nil</code> when a get? action/interface is called.</li><li><code class="inline">:stream?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If true, a stream of the results will be returned The default value is <code class="inline">false</code>.</li><li><code class="inline">:stream_options</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">keyword/0</code></a>) - Options passed to <code class="inline">Ash.stream!</code>, if <code class="inline">stream?: true</code> is given<ul><li><code class="inline">:batch_size</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">integer/0</code></a>) - How many records to request in each query run. Defaults to the pagination limits on the resource, or 250.</li><li><code class="inline">:allow_stream_with</code> - The 'worst' strategy allowed to be used to fetch records. See <a href="https://hexdocs.pm/ash/3.7.6/Ash.html#stream!/2"><code class="inline">Ash.stream!/2</code></a> docs for more. The default value is <code class="inline">:keyset</code>.</li><li><code class="inline">:stream_with</code> - The specific strategy to use to fetch records. See <a href="https://hexdocs.pm/ash/3.7.6/Ash.html#stream!/2"><code class="inline">Ash.stream!/2</code></a> docs for more.</li></ul></li></ul>
  </section>
</section>
<section class="detail" id="list_offences!/2">

    <span id="list_offences!/0"></span>

    <span id="list_offences!/1"></span>

  <div class="detail-header">
    <a href="#list_offences!/2" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">list_offences!(params \\ nil, opts \\ nil)</h1>


    </div>
  </div>

  <section class="docstring">

<p>Calls the read action on EhsEnforcement.Enforcement.Offence.
Raises any errors instead of returning them</p><h2 id="list_offences!/2-options" class="section-heading"><a href="#list_offences!/2-options" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Options</span></h2><ul><li><code class="inline">:page</code> - Pagination options, see <a href="https://hexdocs.pm/ash/3.7.6/Ash.html#read/2"><code class="inline">Ash.read/2</code></a> for more.</li><li><code class="inline">:load</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A load statement to add onto the query</li><li><code class="inline">:max_concurrency</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">non_neg_integer/0</code></a>) - The maximum number of processes allowed to be started for parallel loading of relationships and calculations. Defaults to <code class="inline">System.schedulers_online() * 2</code></li><li><code class="inline">:lock</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A lock statement to add onto the query</li><li><code class="inline">:return_query?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If <code class="inline">true</code>, the query that was ultimately used is returned as a third tuple element.<br/>The query goes through many potential changes during a request, potentially adding
authorization filters, or replacing relationships for other data layers with their
corresponding ids. This option can be used to get the true query that was sent to
the data layer. The default value is <code class="inline">false</code>.</li><li><code class="inline">:skip_unknown_inputs</code> - A list of inputs that, if provided, will be ignored if they are not recognized by the action. Use <code class="inline">:*</code> to indicate all unknown keys.</li><li><code class="inline">:reuse_values?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether calculations are allowed to reuse values that have already been loaded, or must refetch them from the data layer. The default value is <code class="inline">false</code>.</li><li><code class="inline">:strict?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If set to true, only specified attributes will be loaded when passing
  a list of fields to fetch on a relationship, which allows for more
  optimized data-fetching.<br/>  See <a href="https://hexdocs.pm/ash/3.7.6/Ash.Query.html#load/2"><code class="inline">Ash.Query.load/2</code></a>. The default value is <code class="inline">false</code>.</li><li><code class="inline">:authorize_with</code> - If set to <code class="inline">:error</code>, instead of applying authorization filters as a filter, any records not matching the authorization filter will cause an error to be returned. Valid values are :filter, :error The default value is <code class="inline">:filter</code>.</li><li><code class="inline">:timeout</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">timeout/0</code></a>) - A positive integer, or <code class="inline">:infinity</code>. If none is provided, the timeout configured on the domain is used.</li><li><code class="inline">:tracer</code> (one or a list of module that adopts <a href="https://hexdocs.pm/ash/3.7.6/Ash.Tracer.html"><code class="inline">Ash.Tracer</code></a>) - A tracer that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.Tracer.html"><code class="inline">Ash.Tracer</code></a> behaviour. See that module for more.</li><li><code class="inline">:action</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - The action to use, either an Action struct or the name of the action</li><li><code class="inline">:authorize?</code> - If an actor option is provided (even if it is <code class="inline">nil</code>), authorization happens automatically. If not, this flag can be used to authorize with no user.</li><li><code class="inline">:context</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">map/0</code></a>) - Context to set on the query, changeset, or input</li><li><code class="inline">:tenant</code> (value that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.ToTenant.html"><code class="inline">Ash.ToTenant</code></a> protocol) - A tenant to set on the query or changeset</li><li><code class="inline">:actor</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - If an actor is provided, it will be used in conjunction with the authorizers of a resource to authorize access</li><li><code class="inline">:scope</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A value that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> protocol, for passing around actor/tenant/context in a single value. See <a href="https://hexdocs.pm/ash/3.7.6/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> for more.</li><li><code class="inline">:query</code> - A query to seed the action with.</li><li><code class="inline">:not_found_error?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to return or raise a <code class="inline">NotFound</code> error or to return <code class="inline">nil</code> when a get? action/interface is called.</li><li><code class="inline">:stream?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If true, a stream of the results will be returned The default value is <code class="inline">false</code>.</li><li><code class="inline">:stream_options</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">keyword/0</code></a>) - Options passed to <code class="inline">Ash.stream!</code>, if <code class="inline">stream?: true</code> is given<ul><li><code class="inline">:batch_size</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">integer/0</code></a>) - How many records to request in each query run. Defaults to the pagination limits on the resource, or 250.</li><li><code class="inline">:allow_stream_with</code> - The 'worst' strategy allowed to be used to fetch records. See <a href="https://hexdocs.pm/ash/3.7.6/Ash.html#stream!/2"><code class="inline">Ash.stream!/2</code></a> docs for more. The default value is <code class="inline">:keyset</code>.</li><li><code class="inline">:stream_with</code> - The specific strategy to use to fetch records. See <a href="https://hexdocs.pm/ash/3.7.6/Ash.html#stream!/2"><code class="inline">Ash.stream!/2</code></a> docs for more.</li></ul></li></ul>
  </section>
</section>
<section class="detail" id="list_offences_by_case/3">

    <span id="list_offences_by_case/1"></span>

    <span id="list_offences_by_case/2"></span>

  <div class="detail-header">
    <a href="#list_offences_by_case/3" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">list_offences_by_case(case_id, params \\ nil, opts \\ nil)</h1>


    </div>
  </div>

  <section class="docstring">

<p>Calls the by_case action on EhsEnforcement.Enforcement.Offence.</p><h1>Arguments</h1><ul><li>case_id</li></ul><h2 id="list_offences_by_case/3-options" class="section-heading"><a href="#list_offences_by_case/3-options" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Options</span></h2><ul><li><code class="inline">:page</code> - Pagination options, see <a href="https://hexdocs.pm/ash/3.7.6/Ash.html#read/2"><code class="inline">Ash.read/2</code></a> for more.</li><li><code class="inline">:load</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A load statement to add onto the query</li><li><code class="inline">:max_concurrency</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">non_neg_integer/0</code></a>) - The maximum number of processes allowed to be started for parallel loading of relationships and calculations. Defaults to <code class="inline">System.schedulers_online() * 2</code></li><li><code class="inline">:lock</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A lock statement to add onto the query</li><li><code class="inline">:return_query?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If <code class="inline">true</code>, the query that was ultimately used is returned as a third tuple element.<br/>The query goes through many potential changes during a request, potentially adding
authorization filters, or replacing relationships for other data layers with their
corresponding ids. This option can be used to get the true query that was sent to
the data layer. The default value is <code class="inline">false</code>.</li><li><code class="inline">:skip_unknown_inputs</code> - A list of inputs that, if provided, will be ignored if they are not recognized by the action. Use <code class="inline">:*</code> to indicate all unknown keys.</li><li><code class="inline">:reuse_values?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether calculations are allowed to reuse values that have already been loaded, or must refetch them from the data layer. The default value is <code class="inline">false</code>.</li><li><code class="inline">:strict?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If set to true, only specified attributes will be loaded when passing
  a list of fields to fetch on a relationship, which allows for more
  optimized data-fetching.<br/>  See <a href="https://hexdocs.pm/ash/3.7.6/Ash.Query.html#load/2"><code class="inline">Ash.Query.load/2</code></a>. The default value is <code class="inline">false</code>.</li><li><code class="inline">:authorize_with</code> - If set to <code class="inline">:error</code>, instead of applying authorization filters as a filter, any records not matching the authorization filter will cause an error to be returned. Valid values are :filter, :error The default value is <code class="inline">:filter</code>.</li><li><code class="inline">:timeout</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">timeout/0</code></a>) - A positive integer, or <code class="inline">:infinity</code>. If none is provided, the timeout configured on the domain is used.</li><li><code class="inline">:tracer</code> (one or a list of module that adopts <a href="https://hexdocs.pm/ash/3.7.6/Ash.Tracer.html"><code class="inline">Ash.Tracer</code></a>) - A tracer that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.Tracer.html"><code class="inline">Ash.Tracer</code></a> behaviour. See that module for more.</li><li><code class="inline">:action</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - The action to use, either an Action struct or the name of the action</li><li><code class="inline">:authorize?</code> - If an actor option is provided (even if it is <code class="inline">nil</code>), authorization happens automatically. If not, this flag can be used to authorize with no user.</li><li><code class="inline">:context</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">map/0</code></a>) - Context to set on the query, changeset, or input</li><li><code class="inline">:tenant</code> (value that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.ToTenant.html"><code class="inline">Ash.ToTenant</code></a> protocol) - A tenant to set on the query or changeset</li><li><code class="inline">:actor</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - If an actor is provided, it will be used in conjunction with the authorizers of a resource to authorize access</li><li><code class="inline">:scope</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A value that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> protocol, for passing around actor/tenant/context in a single value. See <a href="https://hexdocs.pm/ash/3.7.6/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> for more.</li><li><code class="inline">:query</code> - A query to seed the action with.</li><li><code class="inline">:not_found_error?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to return or raise a <code class="inline">NotFound</code> error or to return <code class="inline">nil</code> when a get? action/interface is called.</li><li><code class="inline">:stream?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If true, a stream of the results will be returned The default value is <code class="inline">false</code>.</li><li><code class="inline">:stream_options</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">keyword/0</code></a>) - Options passed to <code class="inline">Ash.stream!</code>, if <code class="inline">stream?: true</code> is given<ul><li><code class="inline">:batch_size</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">integer/0</code></a>) - How many records to request in each query run. Defaults to the pagination limits on the resource, or 250.</li><li><code class="inline">:allow_stream_with</code> - The 'worst' strategy allowed to be used to fetch records. See <a href="https://hexdocs.pm/ash/3.7.6/Ash.html#stream!/2"><code class="inline">Ash.stream!/2</code></a> docs for more. The default value is <code class="inline">:keyset</code>.</li><li><code class="inline">:stream_with</code> - The specific strategy to use to fetch records. See <a href="https://hexdocs.pm/ash/3.7.6/Ash.html#stream!/2"><code class="inline">Ash.stream!/2</code></a> docs for more.</li></ul></li></ul>
  </section>
</section>
<section class="detail" id="list_offences_by_case!/3">

    <span id="list_offences_by_case!/1"></span>

    <span id="list_offences_by_case!/2"></span>

  <div class="detail-header">
    <a href="#list_offences_by_case!/3" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">list_offences_by_case!(case_id, params \\ nil, opts \\ nil)</h1>


    </div>
  </div>

  <section class="docstring">

<p>Calls the by_case action on EhsEnforcement.Enforcement.Offence.
Raises any errors instead of returning them</p><h1>Arguments</h1><ul><li>case_id</li></ul><h2 id="list_offences_by_case!/3-options" class="section-heading"><a href="#list_offences_by_case!/3-options" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Options</span></h2><ul><li><code class="inline">:page</code> - Pagination options, see <a href="https://hexdocs.pm/ash/3.7.6/Ash.html#read/2"><code class="inline">Ash.read/2</code></a> for more.</li><li><code class="inline">:load</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A load statement to add onto the query</li><li><code class="inline">:max_concurrency</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">non_neg_integer/0</code></a>) - The maximum number of processes allowed to be started for parallel loading of relationships and calculations. Defaults to <code class="inline">System.schedulers_online() * 2</code></li><li><code class="inline">:lock</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A lock statement to add onto the query</li><li><code class="inline">:return_query?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If <code class="inline">true</code>, the query that was ultimately used is returned as a third tuple element.<br/>The query goes through many potential changes during a request, potentially adding
authorization filters, or replacing relationships for other data layers with their
corresponding ids. This option can be used to get the true query that was sent to
the data layer. The default value is <code class="inline">false</code>.</li><li><code class="inline">:skip_unknown_inputs</code> - A list of inputs that, if provided, will be ignored if they are not recognized by the action. Use <code class="inline">:*</code> to indicate all unknown keys.</li><li><code class="inline">:reuse_values?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether calculations are allowed to reuse values that have already been loaded, or must refetch them from the data layer. The default value is <code class="inline">false</code>.</li><li><code class="inline">:strict?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If set to true, only specified attributes will be loaded when passing
  a list of fields to fetch on a relationship, which allows for more
  optimized data-fetching.<br/>  See <a href="https://hexdocs.pm/ash/3.7.6/Ash.Query.html#load/2"><code class="inline">Ash.Query.load/2</code></a>. The default value is <code class="inline">false</code>.</li><li><code class="inline">:authorize_with</code> - If set to <code class="inline">:error</code>, instead of applying authorization filters as a filter, any records not matching the authorization filter will cause an error to be returned. Valid values are :filter, :error The default value is <code class="inline">:filter</code>.</li><li><code class="inline">:timeout</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">timeout/0</code></a>) - A positive integer, or <code class="inline">:infinity</code>. If none is provided, the timeout configured on the domain is used.</li><li><code class="inline">:tracer</code> (one or a list of module that adopts <a href="https://hexdocs.pm/ash/3.7.6/Ash.Tracer.html"><code class="inline">Ash.Tracer</code></a>) - A tracer that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.Tracer.html"><code class="inline">Ash.Tracer</code></a> behaviour. See that module for more.</li><li><code class="inline">:action</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - The action to use, either an Action struct or the name of the action</li><li><code class="inline">:authorize?</code> - If an actor option is provided (even if it is <code class="inline">nil</code>), authorization happens automatically. If not, this flag can be used to authorize with no user.</li><li><code class="inline">:context</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">map/0</code></a>) - Context to set on the query, changeset, or input</li><li><code class="inline">:tenant</code> (value that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.ToTenant.html"><code class="inline">Ash.ToTenant</code></a> protocol) - A tenant to set on the query or changeset</li><li><code class="inline">:actor</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - If an actor is provided, it will be used in conjunction with the authorizers of a resource to authorize access</li><li><code class="inline">:scope</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A value that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> protocol, for passing around actor/tenant/context in a single value. See <a href="https://hexdocs.pm/ash/3.7.6/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> for more.</li><li><code class="inline">:query</code> - A query to seed the action with.</li><li><code class="inline">:not_found_error?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to return or raise a <code class="inline">NotFound</code> error or to return <code class="inline">nil</code> when a get? action/interface is called.</li><li><code class="inline">:stream?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If true, a stream of the results will be returned The default value is <code class="inline">false</code>.</li><li><code class="inline">:stream_options</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">keyword/0</code></a>) - Options passed to <code class="inline">Ash.stream!</code>, if <code class="inline">stream?: true</code> is given<ul><li><code class="inline">:batch_size</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">integer/0</code></a>) - How many records to request in each query run. Defaults to the pagination limits on the resource, or 250.</li><li><code class="inline">:allow_stream_with</code> - The 'worst' strategy allowed to be used to fetch records. See <a href="https://hexdocs.pm/ash/3.7.6/Ash.html#stream!/2"><code class="inline">Ash.stream!/2</code></a> docs for more. The default value is <code class="inline">:keyset</code>.</li><li><code class="inline">:stream_with</code> - The specific strategy to use to fetch records. See <a href="https://hexdocs.pm/ash/3.7.6/Ash.html#stream!/2"><code class="inline">Ash.stream!/2</code></a> docs for more.</li></ul></li></ul>
  </section>
</section>
<section class="detail" id="list_offences_by_legislation/3">

    <span id="list_offences_by_legislation/1"></span>

    <span id="list_offences_by_legislation/2"></span>

  <div class="detail-header">
    <a href="#list_offences_by_legislation/3" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">list_offences_by_legislation(legislation_id, params \\ nil, opts \\ nil)</h1>


    </div>
  </div>

  <section class="docstring">

<p>Calls the by_legislation action on EhsEnforcement.Enforcement.Offence.</p><h1>Arguments</h1><ul><li>legislation_id</li></ul><h2 id="list_offences_by_legislation/3-options" class="section-heading"><a href="#list_offences_by_legislation/3-options" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Options</span></h2><ul><li><code class="inline">:page</code> - Pagination options, see <a href="https://hexdocs.pm/ash/3.7.6/Ash.html#read/2"><code class="inline">Ash.read/2</code></a> for more.</li><li><code class="inline">:load</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A load statement to add onto the query</li><li><code class="inline">:max_concurrency</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">non_neg_integer/0</code></a>) - The maximum number of processes allowed to be started for parallel loading of relationships and calculations. Defaults to <code class="inline">System.schedulers_online() * 2</code></li><li><code class="inline">:lock</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A lock statement to add onto the query</li><li><code class="inline">:return_query?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If <code class="inline">true</code>, the query that was ultimately used is returned as a third tuple element.<br/>The query goes through many potential changes during a request, potentially adding
authorization filters, or replacing relationships for other data layers with their
corresponding ids. This option can be used to get the true query that was sent to
the data layer. The default value is <code class="inline">false</code>.</li><li><code class="inline">:skip_unknown_inputs</code> - A list of inputs that, if provided, will be ignored if they are not recognized by the action. Use <code class="inline">:*</code> to indicate all unknown keys.</li><li><code class="inline">:reuse_values?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether calculations are allowed to reuse values that have already been loaded, or must refetch them from the data layer. The default value is <code class="inline">false</code>.</li><li><code class="inline">:strict?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If set to true, only specified attributes will be loaded when passing
  a list of fields to fetch on a relationship, which allows for more
  optimized data-fetching.<br/>  See <a href="https://hexdocs.pm/ash/3.7.6/Ash.Query.html#load/2"><code class="inline">Ash.Query.load/2</code></a>. The default value is <code class="inline">false</code>.</li><li><code class="inline">:authorize_with</code> - If set to <code class="inline">:error</code>, instead of applying authorization filters as a filter, any records not matching the authorization filter will cause an error to be returned. Valid values are :filter, :error The default value is <code class="inline">:filter</code>.</li><li><code class="inline">:timeout</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">timeout/0</code></a>) - A positive integer, or <code class="inline">:infinity</code>. If none is provided, the timeout configured on the domain is used.</li><li><code class="inline">:tracer</code> (one or a list of module that adopts <a href="https://hexdocs.pm/ash/3.7.6/Ash.Tracer.html"><code class="inline">Ash.Tracer</code></a>) - A tracer that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.Tracer.html"><code class="inline">Ash.Tracer</code></a> behaviour. See that module for more.</li><li><code class="inline">:action</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - The action to use, either an Action struct or the name of the action</li><li><code class="inline">:authorize?</code> - If an actor option is provided (even if it is <code class="inline">nil</code>), authorization happens automatically. If not, this flag can be used to authorize with no user.</li><li><code class="inline">:context</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">map/0</code></a>) - Context to set on the query, changeset, or input</li><li><code class="inline">:tenant</code> (value that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.ToTenant.html"><code class="inline">Ash.ToTenant</code></a> protocol) - A tenant to set on the query or changeset</li><li><code class="inline">:actor</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - If an actor is provided, it will be used in conjunction with the authorizers of a resource to authorize access</li><li><code class="inline">:scope</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A value that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> protocol, for passing around actor/tenant/context in a single value. See <a href="https://hexdocs.pm/ash/3.7.6/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> for more.</li><li><code class="inline">:query</code> - A query to seed the action with.</li><li><code class="inline">:not_found_error?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to return or raise a <code class="inline">NotFound</code> error or to return <code class="inline">nil</code> when a get? action/interface is called.</li><li><code class="inline">:stream?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If true, a stream of the results will be returned The default value is <code class="inline">false</code>.</li><li><code class="inline">:stream_options</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">keyword/0</code></a>) - Options passed to <code class="inline">Ash.stream!</code>, if <code class="inline">stream?: true</code> is given<ul><li><code class="inline">:batch_size</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">integer/0</code></a>) - How many records to request in each query run. Defaults to the pagination limits on the resource, or 250.</li><li><code class="inline">:allow_stream_with</code> - The 'worst' strategy allowed to be used to fetch records. See <a href="https://hexdocs.pm/ash/3.7.6/Ash.html#stream!/2"><code class="inline">Ash.stream!/2</code></a> docs for more. The default value is <code class="inline">:keyset</code>.</li><li><code class="inline">:stream_with</code> - The specific strategy to use to fetch records. See <a href="https://hexdocs.pm/ash/3.7.6/Ash.html#stream!/2"><code class="inline">Ash.stream!/2</code></a> docs for more.</li></ul></li></ul>
  </section>
</section>
<section class="detail" id="list_offences_by_legislation!/3">

    <span id="list_offences_by_legislation!/1"></span>

    <span id="list_offences_by_legislation!/2"></span>

  <div class="detail-header">
    <a href="#list_offences_by_legislation!/3" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">list_offences_by_legislation!(legislation_id, params \\ nil, opts \\ nil)</h1>


    </div>
  </div>

  <section class="docstring">

<p>Calls the by_legislation action on EhsEnforcement.Enforcement.Offence.
Raises any errors instead of returning them</p><h1>Arguments</h1><ul><li>legislation_id</li></ul><h2 id="list_offences_by_legislation!/3-options" class="section-heading"><a href="#list_offences_by_legislation!/3-options" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Options</span></h2><ul><li><code class="inline">:page</code> - Pagination options, see <a href="https://hexdocs.pm/ash/3.7.6/Ash.html#read/2"><code class="inline">Ash.read/2</code></a> for more.</li><li><code class="inline">:load</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A load statement to add onto the query</li><li><code class="inline">:max_concurrency</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">non_neg_integer/0</code></a>) - The maximum number of processes allowed to be started for parallel loading of relationships and calculations. Defaults to <code class="inline">System.schedulers_online() * 2</code></li><li><code class="inline">:lock</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A lock statement to add onto the query</li><li><code class="inline">:return_query?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If <code class="inline">true</code>, the query that was ultimately used is returned as a third tuple element.<br/>The query goes through many potential changes during a request, potentially adding
authorization filters, or replacing relationships for other data layers with their
corresponding ids. This option can be used to get the true query that was sent to
the data layer. The default value is <code class="inline">false</code>.</li><li><code class="inline">:skip_unknown_inputs</code> - A list of inputs that, if provided, will be ignored if they are not recognized by the action. Use <code class="inline">:*</code> to indicate all unknown keys.</li><li><code class="inline">:reuse_values?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether calculations are allowed to reuse values that have already been loaded, or must refetch them from the data layer. The default value is <code class="inline">false</code>.</li><li><code class="inline">:strict?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If set to true, only specified attributes will be loaded when passing
  a list of fields to fetch on a relationship, which allows for more
  optimized data-fetching.<br/>  See <a href="https://hexdocs.pm/ash/3.7.6/Ash.Query.html#load/2"><code class="inline">Ash.Query.load/2</code></a>. The default value is <code class="inline">false</code>.</li><li><code class="inline">:authorize_with</code> - If set to <code class="inline">:error</code>, instead of applying authorization filters as a filter, any records not matching the authorization filter will cause an error to be returned. Valid values are :filter, :error The default value is <code class="inline">:filter</code>.</li><li><code class="inline">:timeout</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">timeout/0</code></a>) - A positive integer, or <code class="inline">:infinity</code>. If none is provided, the timeout configured on the domain is used.</li><li><code class="inline">:tracer</code> (one or a list of module that adopts <a href="https://hexdocs.pm/ash/3.7.6/Ash.Tracer.html"><code class="inline">Ash.Tracer</code></a>) - A tracer that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.Tracer.html"><code class="inline">Ash.Tracer</code></a> behaviour. See that module for more.</li><li><code class="inline">:action</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - The action to use, either an Action struct or the name of the action</li><li><code class="inline">:authorize?</code> - If an actor option is provided (even if it is <code class="inline">nil</code>), authorization happens automatically. If not, this flag can be used to authorize with no user.</li><li><code class="inline">:context</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">map/0</code></a>) - Context to set on the query, changeset, or input</li><li><code class="inline">:tenant</code> (value that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.ToTenant.html"><code class="inline">Ash.ToTenant</code></a> protocol) - A tenant to set on the query or changeset</li><li><code class="inline">:actor</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - If an actor is provided, it will be used in conjunction with the authorizers of a resource to authorize access</li><li><code class="inline">:scope</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A value that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> protocol, for passing around actor/tenant/context in a single value. See <a href="https://hexdocs.pm/ash/3.7.6/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> for more.</li><li><code class="inline">:query</code> - A query to seed the action with.</li><li><code class="inline">:not_found_error?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to return or raise a <code class="inline">NotFound</code> error or to return <code class="inline">nil</code> when a get? action/interface is called.</li><li><code class="inline">:stream?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If true, a stream of the results will be returned The default value is <code class="inline">false</code>.</li><li><code class="inline">:stream_options</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">keyword/0</code></a>) - Options passed to <code class="inline">Ash.stream!</code>, if <code class="inline">stream?: true</code> is given<ul><li><code class="inline">:batch_size</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">integer/0</code></a>) - How many records to request in each query run. Defaults to the pagination limits on the resource, or 250.</li><li><code class="inline">:allow_stream_with</code> - The 'worst' strategy allowed to be used to fetch records. See <a href="https://hexdocs.pm/ash/3.7.6/Ash.html#stream!/2"><code class="inline">Ash.stream!/2</code></a> docs for more. The default value is <code class="inline">:keyset</code>.</li><li><code class="inline">:stream_with</code> - The specific strategy to use to fetch records. See <a href="https://hexdocs.pm/ash/3.7.6/Ash.html#stream!/2"><code class="inline">Ash.stream!/2</code></a> docs for more.</li></ul></li></ul>
  </section>
</section>
<section class="detail" id="list_offences_by_notice/3">

    <span id="list_offences_by_notice/1"></span>

    <span id="list_offences_by_notice/2"></span>

  <div class="detail-header">
    <a href="#list_offences_by_notice/3" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">list_offences_by_notice(notice_id, params \\ nil, opts \\ nil)</h1>


    </div>
  </div>

  <section class="docstring">

<p>Calls the by_notice action on EhsEnforcement.Enforcement.Offence.</p><h1>Arguments</h1><ul><li>notice_id</li></ul><h2 id="list_offences_by_notice/3-options" class="section-heading"><a href="#list_offences_by_notice/3-options" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Options</span></h2><ul><li><code class="inline">:page</code> - Pagination options, see <a href="https://hexdocs.pm/ash/3.7.6/Ash.html#read/2"><code class="inline">Ash.read/2</code></a> for more.</li><li><code class="inline">:load</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A load statement to add onto the query</li><li><code class="inline">:max_concurrency</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">non_neg_integer/0</code></a>) - The maximum number of processes allowed to be started for parallel loading of relationships and calculations. Defaults to <code class="inline">System.schedulers_online() * 2</code></li><li><code class="inline">:lock</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A lock statement to add onto the query</li><li><code class="inline">:return_query?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If <code class="inline">true</code>, the query that was ultimately used is returned as a third tuple element.<br/>The query goes through many potential changes during a request, potentially adding
authorization filters, or replacing relationships for other data layers with their
corresponding ids. This option can be used to get the true query that was sent to
the data layer. The default value is <code class="inline">false</code>.</li><li><code class="inline">:skip_unknown_inputs</code> - A list of inputs that, if provided, will be ignored if they are not recognized by the action. Use <code class="inline">:*</code> to indicate all unknown keys.</li><li><code class="inline">:reuse_values?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether calculations are allowed to reuse values that have already been loaded, or must refetch them from the data layer. The default value is <code class="inline">false</code>.</li><li><code class="inline">:strict?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If set to true, only specified attributes will be loaded when passing
  a list of fields to fetch on a relationship, which allows for more
  optimized data-fetching.<br/>  See <a href="https://hexdocs.pm/ash/3.7.6/Ash.Query.html#load/2"><code class="inline">Ash.Query.load/2</code></a>. The default value is <code class="inline">false</code>.</li><li><code class="inline">:authorize_with</code> - If set to <code class="inline">:error</code>, instead of applying authorization filters as a filter, any records not matching the authorization filter will cause an error to be returned. Valid values are :filter, :error The default value is <code class="inline">:filter</code>.</li><li><code class="inline">:timeout</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">timeout/0</code></a>) - A positive integer, or <code class="inline">:infinity</code>. If none is provided, the timeout configured on the domain is used.</li><li><code class="inline">:tracer</code> (one or a list of module that adopts <a href="https://hexdocs.pm/ash/3.7.6/Ash.Tracer.html"><code class="inline">Ash.Tracer</code></a>) - A tracer that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.Tracer.html"><code class="inline">Ash.Tracer</code></a> behaviour. See that module for more.</li><li><code class="inline">:action</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - The action to use, either an Action struct or the name of the action</li><li><code class="inline">:authorize?</code> - If an actor option is provided (even if it is <code class="inline">nil</code>), authorization happens automatically. If not, this flag can be used to authorize with no user.</li><li><code class="inline">:context</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">map/0</code></a>) - Context to set on the query, changeset, or input</li><li><code class="inline">:tenant</code> (value that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.ToTenant.html"><code class="inline">Ash.ToTenant</code></a> protocol) - A tenant to set on the query or changeset</li><li><code class="inline">:actor</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - If an actor is provided, it will be used in conjunction with the authorizers of a resource to authorize access</li><li><code class="inline">:scope</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A value that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> protocol, for passing around actor/tenant/context in a single value. See <a href="https://hexdocs.pm/ash/3.7.6/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> for more.</li><li><code class="inline">:query</code> - A query to seed the action with.</li><li><code class="inline">:not_found_error?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to return or raise a <code class="inline">NotFound</code> error or to return <code class="inline">nil</code> when a get? action/interface is called.</li><li><code class="inline">:stream?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If true, a stream of the results will be returned The default value is <code class="inline">false</code>.</li><li><code class="inline">:stream_options</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">keyword/0</code></a>) - Options passed to <code class="inline">Ash.stream!</code>, if <code class="inline">stream?: true</code> is given<ul><li><code class="inline">:batch_size</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">integer/0</code></a>) - How many records to request in each query run. Defaults to the pagination limits on the resource, or 250.</li><li><code class="inline">:allow_stream_with</code> - The 'worst' strategy allowed to be used to fetch records. See <a href="https://hexdocs.pm/ash/3.7.6/Ash.html#stream!/2"><code class="inline">Ash.stream!/2</code></a> docs for more. The default value is <code class="inline">:keyset</code>.</li><li><code class="inline">:stream_with</code> - The specific strategy to use to fetch records. See <a href="https://hexdocs.pm/ash/3.7.6/Ash.html#stream!/2"><code class="inline">Ash.stream!/2</code></a> docs for more.</li></ul></li></ul>
  </section>
</section>
<section class="detail" id="list_offences_by_notice!/3">

    <span id="list_offences_by_notice!/1"></span>

    <span id="list_offences_by_notice!/2"></span>

  <div class="detail-header">
    <a href="#list_offences_by_notice!/3" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">list_offences_by_notice!(notice_id, params \\ nil, opts \\ nil)</h1>


    </div>
  </div>

  <section class="docstring">

<p>Calls the by_notice action on EhsEnforcement.Enforcement.Offence.
Raises any errors instead of returning them</p><h1>Arguments</h1><ul><li>notice_id</li></ul><h2 id="list_offences_by_notice!/3-options" class="section-heading"><a href="#list_offences_by_notice!/3-options" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Options</span></h2><ul><li><code class="inline">:page</code> - Pagination options, see <a href="https://hexdocs.pm/ash/3.7.6/Ash.html#read/2"><code class="inline">Ash.read/2</code></a> for more.</li><li><code class="inline">:load</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A load statement to add onto the query</li><li><code class="inline">:max_concurrency</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">non_neg_integer/0</code></a>) - The maximum number of processes allowed to be started for parallel loading of relationships and calculations. Defaults to <code class="inline">System.schedulers_online() * 2</code></li><li><code class="inline">:lock</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A lock statement to add onto the query</li><li><code class="inline">:return_query?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If <code class="inline">true</code>, the query that was ultimately used is returned as a third tuple element.<br/>The query goes through many potential changes during a request, potentially adding
authorization filters, or replacing relationships for other data layers with their
corresponding ids. This option can be used to get the true query that was sent to
the data layer. The default value is <code class="inline">false</code>.</li><li><code class="inline">:skip_unknown_inputs</code> - A list of inputs that, if provided, will be ignored if they are not recognized by the action. Use <code class="inline">:*</code> to indicate all unknown keys.</li><li><code class="inline">:reuse_values?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether calculations are allowed to reuse values that have already been loaded, or must refetch them from the data layer. The default value is <code class="inline">false</code>.</li><li><code class="inline">:strict?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If set to true, only specified attributes will be loaded when passing
  a list of fields to fetch on a relationship, which allows for more
  optimized data-fetching.<br/>  See <a href="https://hexdocs.pm/ash/3.7.6/Ash.Query.html#load/2"><code class="inline">Ash.Query.load/2</code></a>. The default value is <code class="inline">false</code>.</li><li><code class="inline">:authorize_with</code> - If set to <code class="inline">:error</code>, instead of applying authorization filters as a filter, any records not matching the authorization filter will cause an error to be returned. Valid values are :filter, :error The default value is <code class="inline">:filter</code>.</li><li><code class="inline">:timeout</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">timeout/0</code></a>) - A positive integer, or <code class="inline">:infinity</code>. If none is provided, the timeout configured on the domain is used.</li><li><code class="inline">:tracer</code> (one or a list of module that adopts <a href="https://hexdocs.pm/ash/3.7.6/Ash.Tracer.html"><code class="inline">Ash.Tracer</code></a>) - A tracer that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.Tracer.html"><code class="inline">Ash.Tracer</code></a> behaviour. See that module for more.</li><li><code class="inline">:action</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - The action to use, either an Action struct or the name of the action</li><li><code class="inline">:authorize?</code> - If an actor option is provided (even if it is <code class="inline">nil</code>), authorization happens automatically. If not, this flag can be used to authorize with no user.</li><li><code class="inline">:context</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">map/0</code></a>) - Context to set on the query, changeset, or input</li><li><code class="inline">:tenant</code> (value that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.ToTenant.html"><code class="inline">Ash.ToTenant</code></a> protocol) - A tenant to set on the query or changeset</li><li><code class="inline">:actor</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - If an actor is provided, it will be used in conjunction with the authorizers of a resource to authorize access</li><li><code class="inline">:scope</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A value that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> protocol, for passing around actor/tenant/context in a single value. See <a href="https://hexdocs.pm/ash/3.7.6/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> for more.</li><li><code class="inline">:query</code> - A query to seed the action with.</li><li><code class="inline">:not_found_error?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to return or raise a <code class="inline">NotFound</code> error or to return <code class="inline">nil</code> when a get? action/interface is called.</li><li><code class="inline">:stream?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If true, a stream of the results will be returned The default value is <code class="inline">false</code>.</li><li><code class="inline">:stream_options</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">keyword/0</code></a>) - Options passed to <code class="inline">Ash.stream!</code>, if <code class="inline">stream?: true</code> is given<ul><li><code class="inline">:batch_size</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">integer/0</code></a>) - How many records to request in each query run. Defaults to the pagination limits on the resource, or 250.</li><li><code class="inline">:allow_stream_with</code> - The 'worst' strategy allowed to be used to fetch records. See <a href="https://hexdocs.pm/ash/3.7.6/Ash.html#stream!/2"><code class="inline">Ash.stream!/2</code></a> docs for more. The default value is <code class="inline">:keyset</code>.</li><li><code class="inline">:stream_with</code> - The specific strategy to use to fetch records. See <a href="https://hexdocs.pm/ash/3.7.6/Ash.html#stream!/2"><code class="inline">Ash.stream!/2</code></a> docs for more.</li></ul></li></ul>
  </section>
</section>
<section class="detail" id="list_offences_with_fines/2">

    <span id="list_offences_with_fines/0"></span>

    <span id="list_offences_with_fines/1"></span>

  <div class="detail-header">
    <a href="#list_offences_with_fines/2" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">list_offences_with_fines(params \\ nil, opts \\ nil)</h1>


    </div>
  </div>

  <section class="docstring">

<p>Calls the with_fines action on EhsEnforcement.Enforcement.Offence.</p><h2 id="list_offences_with_fines/2-options" class="section-heading"><a href="#list_offences_with_fines/2-options" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Options</span></h2><ul><li><code class="inline">:page</code> - Pagination options, see <a href="https://hexdocs.pm/ash/3.7.6/Ash.html#read/2"><code class="inline">Ash.read/2</code></a> for more.</li><li><code class="inline">:load</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A load statement to add onto the query</li><li><code class="inline">:max_concurrency</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">non_neg_integer/0</code></a>) - The maximum number of processes allowed to be started for parallel loading of relationships and calculations. Defaults to <code class="inline">System.schedulers_online() * 2</code></li><li><code class="inline">:lock</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A lock statement to add onto the query</li><li><code class="inline">:return_query?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If <code class="inline">true</code>, the query that was ultimately used is returned as a third tuple element.<br/>The query goes through many potential changes during a request, potentially adding
authorization filters, or replacing relationships for other data layers with their
corresponding ids. This option can be used to get the true query that was sent to
the data layer. The default value is <code class="inline">false</code>.</li><li><code class="inline">:skip_unknown_inputs</code> - A list of inputs that, if provided, will be ignored if they are not recognized by the action. Use <code class="inline">:*</code> to indicate all unknown keys.</li><li><code class="inline">:reuse_values?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether calculations are allowed to reuse values that have already been loaded, or must refetch them from the data layer. The default value is <code class="inline">false</code>.</li><li><code class="inline">:strict?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If set to true, only specified attributes will be loaded when passing
  a list of fields to fetch on a relationship, which allows for more
  optimized data-fetching.<br/>  See <a href="https://hexdocs.pm/ash/3.7.6/Ash.Query.html#load/2"><code class="inline">Ash.Query.load/2</code></a>. The default value is <code class="inline">false</code>.</li><li><code class="inline">:authorize_with</code> - If set to <code class="inline">:error</code>, instead of applying authorization filters as a filter, any records not matching the authorization filter will cause an error to be returned. Valid values are :filter, :error The default value is <code class="inline">:filter</code>.</li><li><code class="inline">:timeout</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">timeout/0</code></a>) - A positive integer, or <code class="inline">:infinity</code>. If none is provided, the timeout configured on the domain is used.</li><li><code class="inline">:tracer</code> (one or a list of module that adopts <a href="https://hexdocs.pm/ash/3.7.6/Ash.Tracer.html"><code class="inline">Ash.Tracer</code></a>) - A tracer that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.Tracer.html"><code class="inline">Ash.Tracer</code></a> behaviour. See that module for more.</li><li><code class="inline">:action</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - The action to use, either an Action struct or the name of the action</li><li><code class="inline">:authorize?</code> - If an actor option is provided (even if it is <code class="inline">nil</code>), authorization happens automatically. If not, this flag can be used to authorize with no user.</li><li><code class="inline">:context</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">map/0</code></a>) - Context to set on the query, changeset, or input</li><li><code class="inline">:tenant</code> (value that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.ToTenant.html"><code class="inline">Ash.ToTenant</code></a> protocol) - A tenant to set on the query or changeset</li><li><code class="inline">:actor</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - If an actor is provided, it will be used in conjunction with the authorizers of a resource to authorize access</li><li><code class="inline">:scope</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A value that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> protocol, for passing around actor/tenant/context in a single value. See <a href="https://hexdocs.pm/ash/3.7.6/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> for more.</li><li><code class="inline">:query</code> - A query to seed the action with.</li><li><code class="inline">:not_found_error?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to return or raise a <code class="inline">NotFound</code> error or to return <code class="inline">nil</code> when a get? action/interface is called.</li><li><code class="inline">:stream?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If true, a stream of the results will be returned The default value is <code class="inline">false</code>.</li><li><code class="inline">:stream_options</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">keyword/0</code></a>) - Options passed to <code class="inline">Ash.stream!</code>, if <code class="inline">stream?: true</code> is given<ul><li><code class="inline">:batch_size</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">integer/0</code></a>) - How many records to request in each query run. Defaults to the pagination limits on the resource, or 250.</li><li><code class="inline">:allow_stream_with</code> - The 'worst' strategy allowed to be used to fetch records. See <a href="https://hexdocs.pm/ash/3.7.6/Ash.html#stream!/2"><code class="inline">Ash.stream!/2</code></a> docs for more. The default value is <code class="inline">:keyset</code>.</li><li><code class="inline">:stream_with</code> - The specific strategy to use to fetch records. See <a href="https://hexdocs.pm/ash/3.7.6/Ash.html#stream!/2"><code class="inline">Ash.stream!/2</code></a> docs for more.</li></ul></li></ul>
  </section>
</section>
<section class="detail" id="list_offences_with_fines!/2">

    <span id="list_offences_with_fines!/0"></span>

    <span id="list_offences_with_fines!/1"></span>

  <div class="detail-header">
    <a href="#list_offences_with_fines!/2" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">list_offences_with_fines!(params \\ nil, opts \\ nil)</h1>


    </div>
  </div>

  <section class="docstring">

<p>Calls the with_fines action on EhsEnforcement.Enforcement.Offence.
Raises any errors instead of returning them</p><h2 id="list_offences_with_fines!/2-options" class="section-heading"><a href="#list_offences_with_fines!/2-options" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Options</span></h2><ul><li><code class="inline">:page</code> - Pagination options, see <a href="https://hexdocs.pm/ash/3.7.6/Ash.html#read/2"><code class="inline">Ash.read/2</code></a> for more.</li><li><code class="inline">:load</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A load statement to add onto the query</li><li><code class="inline">:max_concurrency</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">non_neg_integer/0</code></a>) - The maximum number of processes allowed to be started for parallel loading of relationships and calculations. Defaults to <code class="inline">System.schedulers_online() * 2</code></li><li><code class="inline">:lock</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A lock statement to add onto the query</li><li><code class="inline">:return_query?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If <code class="inline">true</code>, the query that was ultimately used is returned as a third tuple element.<br/>The query goes through many potential changes during a request, potentially adding
authorization filters, or replacing relationships for other data layers with their
corresponding ids. This option can be used to get the true query that was sent to
the data layer. The default value is <code class="inline">false</code>.</li><li><code class="inline">:skip_unknown_inputs</code> - A list of inputs that, if provided, will be ignored if they are not recognized by the action. Use <code class="inline">:*</code> to indicate all unknown keys.</li><li><code class="inline">:reuse_values?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether calculations are allowed to reuse values that have already been loaded, or must refetch them from the data layer. The default value is <code class="inline">false</code>.</li><li><code class="inline">:strict?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If set to true, only specified attributes will be loaded when passing
  a list of fields to fetch on a relationship, which allows for more
  optimized data-fetching.<br/>  See <a href="https://hexdocs.pm/ash/3.7.6/Ash.Query.html#load/2"><code class="inline">Ash.Query.load/2</code></a>. The default value is <code class="inline">false</code>.</li><li><code class="inline">:authorize_with</code> - If set to <code class="inline">:error</code>, instead of applying authorization filters as a filter, any records not matching the authorization filter will cause an error to be returned. Valid values are :filter, :error The default value is <code class="inline">:filter</code>.</li><li><code class="inline">:timeout</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">timeout/0</code></a>) - A positive integer, or <code class="inline">:infinity</code>. If none is provided, the timeout configured on the domain is used.</li><li><code class="inline">:tracer</code> (one or a list of module that adopts <a href="https://hexdocs.pm/ash/3.7.6/Ash.Tracer.html"><code class="inline">Ash.Tracer</code></a>) - A tracer that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.Tracer.html"><code class="inline">Ash.Tracer</code></a> behaviour. See that module for more.</li><li><code class="inline">:action</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - The action to use, either an Action struct or the name of the action</li><li><code class="inline">:authorize?</code> - If an actor option is provided (even if it is <code class="inline">nil</code>), authorization happens automatically. If not, this flag can be used to authorize with no user.</li><li><code class="inline">:context</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">map/0</code></a>) - Context to set on the query, changeset, or input</li><li><code class="inline">:tenant</code> (value that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.ToTenant.html"><code class="inline">Ash.ToTenant</code></a> protocol) - A tenant to set on the query or changeset</li><li><code class="inline">:actor</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - If an actor is provided, it will be used in conjunction with the authorizers of a resource to authorize access</li><li><code class="inline">:scope</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A value that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> protocol, for passing around actor/tenant/context in a single value. See <a href="https://hexdocs.pm/ash/3.7.6/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> for more.</li><li><code class="inline">:query</code> - A query to seed the action with.</li><li><code class="inline">:not_found_error?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to return or raise a <code class="inline">NotFound</code> error or to return <code class="inline">nil</code> when a get? action/interface is called.</li><li><code class="inline">:stream?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If true, a stream of the results will be returned The default value is <code class="inline">false</code>.</li><li><code class="inline">:stream_options</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">keyword/0</code></a>) - Options passed to <code class="inline">Ash.stream!</code>, if <code class="inline">stream?: true</code> is given<ul><li><code class="inline">:batch_size</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">integer/0</code></a>) - How many records to request in each query run. Defaults to the pagination limits on the resource, or 250.</li><li><code class="inline">:allow_stream_with</code> - The 'worst' strategy allowed to be used to fetch records. See <a href="https://hexdocs.pm/ash/3.7.6/Ash.html#stream!/2"><code class="inline">Ash.stream!/2</code></a> docs for more. The default value is <code class="inline">:keyset</code>.</li><li><code class="inline">:stream_with</code> - The specific strategy to use to fetch records. See <a href="https://hexdocs.pm/ash/3.7.6/Ash.html#stream!/2"><code class="inline">Ash.stream!/2</code></a> docs for more.</li></ul></li></ul>
  </section>
</section>
<section class="detail" id="list_offenders/2">

    <span id="list_offenders/0"></span>

    <span id="list_offenders/1"></span>

  <div class="detail-header">
    <a href="#list_offenders/2" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">list_offenders(params \\ nil, opts \\ nil)</h1>


    </div>
  </div>

  <section class="docstring">

<p>Calls the read action on EhsEnforcement.Enforcement.Offender.</p><h2 id="list_offenders/2-options" class="section-heading"><a href="#list_offenders/2-options" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Options</span></h2><ul><li><code class="inline">:page</code> - Pagination options, see <a href="https://hexdocs.pm/ash/3.7.6/Ash.html#read/2"><code class="inline">Ash.read/2</code></a> for more.</li><li><code class="inline">:load</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A load statement to add onto the query</li><li><code class="inline">:max_concurrency</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">non_neg_integer/0</code></a>) - The maximum number of processes allowed to be started for parallel loading of relationships and calculations. Defaults to <code class="inline">System.schedulers_online() * 2</code></li><li><code class="inline">:lock</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A lock statement to add onto the query</li><li><code class="inline">:return_query?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If <code class="inline">true</code>, the query that was ultimately used is returned as a third tuple element.<br/>The query goes through many potential changes during a request, potentially adding
authorization filters, or replacing relationships for other data layers with their
corresponding ids. This option can be used to get the true query that was sent to
the data layer. The default value is <code class="inline">false</code>.</li><li><code class="inline">:skip_unknown_inputs</code> - A list of inputs that, if provided, will be ignored if they are not recognized by the action. Use <code class="inline">:*</code> to indicate all unknown keys.</li><li><code class="inline">:reuse_values?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether calculations are allowed to reuse values that have already been loaded, or must refetch them from the data layer. The default value is <code class="inline">false</code>.</li><li><code class="inline">:strict?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If set to true, only specified attributes will be loaded when passing
  a list of fields to fetch on a relationship, which allows for more
  optimized data-fetching.<br/>  See <a href="https://hexdocs.pm/ash/3.7.6/Ash.Query.html#load/2"><code class="inline">Ash.Query.load/2</code></a>. The default value is <code class="inline">false</code>.</li><li><code class="inline">:authorize_with</code> - If set to <code class="inline">:error</code>, instead of applying authorization filters as a filter, any records not matching the authorization filter will cause an error to be returned. Valid values are :filter, :error The default value is <code class="inline">:filter</code>.</li><li><code class="inline">:timeout</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">timeout/0</code></a>) - A positive integer, or <code class="inline">:infinity</code>. If none is provided, the timeout configured on the domain is used.</li><li><code class="inline">:tracer</code> (one or a list of module that adopts <a href="https://hexdocs.pm/ash/3.7.6/Ash.Tracer.html"><code class="inline">Ash.Tracer</code></a>) - A tracer that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.Tracer.html"><code class="inline">Ash.Tracer</code></a> behaviour. See that module for more.</li><li><code class="inline">:action</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - The action to use, either an Action struct or the name of the action</li><li><code class="inline">:authorize?</code> - If an actor option is provided (even if it is <code class="inline">nil</code>), authorization happens automatically. If not, this flag can be used to authorize with no user.</li><li><code class="inline">:context</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">map/0</code></a>) - Context to set on the query, changeset, or input</li><li><code class="inline">:tenant</code> (value that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.ToTenant.html"><code class="inline">Ash.ToTenant</code></a> protocol) - A tenant to set on the query or changeset</li><li><code class="inline">:actor</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - If an actor is provided, it will be used in conjunction with the authorizers of a resource to authorize access</li><li><code class="inline">:scope</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A value that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> protocol, for passing around actor/tenant/context in a single value. See <a href="https://hexdocs.pm/ash/3.7.6/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> for more.</li><li><code class="inline">:query</code> - A query to seed the action with.</li><li><code class="inline">:not_found_error?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to return or raise a <code class="inline">NotFound</code> error or to return <code class="inline">nil</code> when a get? action/interface is called.</li><li><code class="inline">:stream?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If true, a stream of the results will be returned The default value is <code class="inline">false</code>.</li><li><code class="inline">:stream_options</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">keyword/0</code></a>) - Options passed to <code class="inline">Ash.stream!</code>, if <code class="inline">stream?: true</code> is given<ul><li><code class="inline">:batch_size</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">integer/0</code></a>) - How many records to request in each query run. Defaults to the pagination limits on the resource, or 250.</li><li><code class="inline">:allow_stream_with</code> - The 'worst' strategy allowed to be used to fetch records. See <a href="https://hexdocs.pm/ash/3.7.6/Ash.html#stream!/2"><code class="inline">Ash.stream!/2</code></a> docs for more. The default value is <code class="inline">:keyset</code>.</li><li><code class="inline">:stream_with</code> - The specific strategy to use to fetch records. See <a href="https://hexdocs.pm/ash/3.7.6/Ash.html#stream!/2"><code class="inline">Ash.stream!/2</code></a> docs for more.</li></ul></li></ul>
  </section>
</section>
<section class="detail" id="list_offenders!/2">

    <span id="list_offenders!/0"></span>

    <span id="list_offenders!/1"></span>

  <div class="detail-header">
    <a href="#list_offenders!/2" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">list_offenders!(params \\ nil, opts \\ nil)</h1>


    </div>
  </div>

  <section class="docstring">

<p>Calls the read action on EhsEnforcement.Enforcement.Offender.
Raises any errors instead of returning them</p><h2 id="list_offenders!/2-options" class="section-heading"><a href="#list_offenders!/2-options" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Options</span></h2><ul><li><code class="inline">:page</code> - Pagination options, see <a href="https://hexdocs.pm/ash/3.7.6/Ash.html#read/2"><code class="inline">Ash.read/2</code></a> for more.</li><li><code class="inline">:load</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A load statement to add onto the query</li><li><code class="inline">:max_concurrency</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">non_neg_integer/0</code></a>) - The maximum number of processes allowed to be started for parallel loading of relationships and calculations. Defaults to <code class="inline">System.schedulers_online() * 2</code></li><li><code class="inline">:lock</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A lock statement to add onto the query</li><li><code class="inline">:return_query?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If <code class="inline">true</code>, the query that was ultimately used is returned as a third tuple element.<br/>The query goes through many potential changes during a request, potentially adding
authorization filters, or replacing relationships for other data layers with their
corresponding ids. This option can be used to get the true query that was sent to
the data layer. The default value is <code class="inline">false</code>.</li><li><code class="inline">:skip_unknown_inputs</code> - A list of inputs that, if provided, will be ignored if they are not recognized by the action. Use <code class="inline">:*</code> to indicate all unknown keys.</li><li><code class="inline">:reuse_values?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether calculations are allowed to reuse values that have already been loaded, or must refetch them from the data layer. The default value is <code class="inline">false</code>.</li><li><code class="inline">:strict?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If set to true, only specified attributes will be loaded when passing
  a list of fields to fetch on a relationship, which allows for more
  optimized data-fetching.<br/>  See <a href="https://hexdocs.pm/ash/3.7.6/Ash.Query.html#load/2"><code class="inline">Ash.Query.load/2</code></a>. The default value is <code class="inline">false</code>.</li><li><code class="inline">:authorize_with</code> - If set to <code class="inline">:error</code>, instead of applying authorization filters as a filter, any records not matching the authorization filter will cause an error to be returned. Valid values are :filter, :error The default value is <code class="inline">:filter</code>.</li><li><code class="inline">:timeout</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">timeout/0</code></a>) - A positive integer, or <code class="inline">:infinity</code>. If none is provided, the timeout configured on the domain is used.</li><li><code class="inline">:tracer</code> (one or a list of module that adopts <a href="https://hexdocs.pm/ash/3.7.6/Ash.Tracer.html"><code class="inline">Ash.Tracer</code></a>) - A tracer that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.Tracer.html"><code class="inline">Ash.Tracer</code></a> behaviour. See that module for more.</li><li><code class="inline">:action</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - The action to use, either an Action struct or the name of the action</li><li><code class="inline">:authorize?</code> - If an actor option is provided (even if it is <code class="inline">nil</code>), authorization happens automatically. If not, this flag can be used to authorize with no user.</li><li><code class="inline">:context</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">map/0</code></a>) - Context to set on the query, changeset, or input</li><li><code class="inline">:tenant</code> (value that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.ToTenant.html"><code class="inline">Ash.ToTenant</code></a> protocol) - A tenant to set on the query or changeset</li><li><code class="inline">:actor</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - If an actor is provided, it will be used in conjunction with the authorizers of a resource to authorize access</li><li><code class="inline">:scope</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A value that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> protocol, for passing around actor/tenant/context in a single value. See <a href="https://hexdocs.pm/ash/3.7.6/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> for more.</li><li><code class="inline">:query</code> - A query to seed the action with.</li><li><code class="inline">:not_found_error?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to return or raise a <code class="inline">NotFound</code> error or to return <code class="inline">nil</code> when a get? action/interface is called.</li><li><code class="inline">:stream?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If true, a stream of the results will be returned The default value is <code class="inline">false</code>.</li><li><code class="inline">:stream_options</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">keyword/0</code></a>) - Options passed to <code class="inline">Ash.stream!</code>, if <code class="inline">stream?: true</code> is given<ul><li><code class="inline">:batch_size</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">integer/0</code></a>) - How many records to request in each query run. Defaults to the pagination limits on the resource, or 250.</li><li><code class="inline">:allow_stream_with</code> - The 'worst' strategy allowed to be used to fetch records. See <a href="https://hexdocs.pm/ash/3.7.6/Ash.html#stream!/2"><code class="inline">Ash.stream!/2</code></a> docs for more. The default value is <code class="inline">:keyset</code>.</li><li><code class="inline">:stream_with</code> - The specific strategy to use to fetch records. See <a href="https://hexdocs.pm/ash/3.7.6/Ash.html#stream!/2"><code class="inline">Ash.stream!/2</code></a> docs for more.</li></ul></li></ul>
  </section>
</section>
<section class="detail" id="list_offenders_with_filters!/1">

    <span id="list_offenders_with_filters!/0"></span>

  <div class="detail-header">
    <a href="#list_offenders_with_filters!/1" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">list_offenders_with_filters!(opts \\ [])</h1>


    </div>
  </div>

  <section class="docstring">


  </section>
</section>
<section class="detail" id="list_offenders_with_filters_cached!/1">

    <span id="list_offenders_with_filters_cached!/0"></span>

  <div class="detail-header">
    <a href="#list_offenders_with_filters_cached!/1" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">list_offenders_with_filters_cached!(opts \\ [])</h1>


    </div>
  </div>

  <section class="docstring">

<p>Cached version of list_offenders_with_filters! for frequently used filter combinations.</p>
  </section>
</section>
<section class="detail" id="list_offenders_with_filters_monitored!/1">

    <span id="list_offenders_with_filters_monitored!/0"></span>

  <div class="detail-header">
    <a href="#list_offenders_with_filters_monitored!/1" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">list_offenders_with_filters_monitored!(opts \\ [])</h1>


    </div>
  </div>

  <section class="docstring">

<p>Monitored version of list_offenders_with_filters! that logs slow queries.</p>
  </section>
</section>
<section class="detail" id="load/3">

    <span id="load/2"></span>

  <div class="detail-header">
    <a href="#load/3" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">load(data, query, opts \\ [])</h1>


    </div>
  </div>

    <div class="deprecated">
      This function is deprecated. Use `Ash.load/3` instead.
    </div>

  <section class="docstring">


  </section>
</section>
<section class="detail" id="load!/3">

    <span id="load!/2"></span>

  <div class="detail-header">
    <a href="#load!/3" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">load!(data, query, opts \\ [])</h1>


    </div>
  </div>

    <div class="deprecated">
      This function is deprecated. Use `Ash.load!/3` instead.
    </div>

  <section class="docstring">


  </section>
</section>
<section class="detail" id="max/3">

    <span id="max/2"></span>

  <div class="detail-header">
    <a href="#max/3" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">max(query, field, opts \\ [])</h1>


    </div>
  </div>

    <div class="deprecated">
      This function is deprecated. Use `Ash.max/3` instead.
    </div>

  <section class="docstring">


  </section>
</section>
<section class="detail" id="max!/3">

    <span id="max!/2"></span>

  <div class="detail-header">
    <a href="#max!/3" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">max!(query, field, opts \\ [])</h1>


    </div>
  </div>

    <div class="deprecated">
      This function is deprecated. Use `Ash.max!/3` instead.
    </div>

  <section class="docstring">


  </section>
</section>
<section class="detail" id="min/3">

    <span id="min/2"></span>

  <div class="detail-header">
    <a href="#min/3" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">min(query, field, opts \\ [])</h1>


    </div>
  </div>

    <div class="deprecated">
      This function is deprecated. Use `Ash.min/3` instead.
    </div>

  <section class="docstring">


  </section>
</section>
<section class="detail" id="min!/3">

    <span id="min!/2"></span>

  <div class="detail-header">
    <a href="#min!/3" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">min!(query, field, opts \\ [])</h1>


    </div>
  </div>

    <div class="deprecated">
      This function is deprecated. Use `Ash.min!/3` instead.
    </div>

  <section class="docstring">


  </section>
</section>
<section class="detail" id="page/2">

  <div class="detail-header">
    <a href="#page/2" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">page(page, request)</h1>


    </div>
  </div>

    <div class="deprecated">
      This function is deprecated. Use `Ash.page/2` instead.
    </div>

  <section class="docstring">


  </section>
</section>
<section class="detail" id="page!/2">

  <div class="detail-header">
    <a href="#page!/2" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">page!(page, request)</h1>


    </div>
  </div>

    <div class="deprecated">
      This function is deprecated. Use `Ash.page!/2` instead.
    </div>

  <section class="docstring">


  </section>
</section>
<section class="detail" id="preview_offender_merge/2">

  <div class="detail-header">
    <a href="#preview_offender_merge/2" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">preview_offender_merge(master_id, duplicate_ids)</h1>


    </div>
  </div>

  <section class="docstring">

<p>Preview what a merge operation would do before executing it.</p><p>Validates offender against Companies House and returns preview data showing:</p><ul><li>Companies House validation results</li><li>Data that would be applied to master</li><li>Statistics after merge</li><li>Records that would be deleted</li></ul><h2 id="preview_offender_merge/2-parameters" class="section-heading"><a href="#preview_offender_merge/2-parameters" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Parameters</span></h2><ul><li><code class="inline">master_id</code> - UUID of the offender to keep (master record)</li><li><code class="inline">duplicate_ids</code> - List of UUIDs of offenders to merge into master</li></ul><h2 id="preview_offender_merge/2-returns" class="section-heading"><a href="#preview_offender_merge/2-returns" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Returns</span></h2><p><code class="inline">{:ok, preview_map}</code> with:</p><ul><li><code class="inline">:validation</code> - %{valid: bool, similarity: float, canonical_name: string, status: string}</li><li><code class="inline">:companies_house_data</code> - %{name:, address:, town:, county:, postcode:}</li><li><code class="inline">:merge_preview</code> - %{total_cases:, total_notices:, total_fines:, agencies:, industry_sectors:}</li><li><code class="inline">:duplicates_info</code> - List of %{id:, name:, location:, cases:, notices:} for records to be deleted</li></ul><h2 id="preview_offender_merge/2-examples" class="section-heading"><a href="#preview_offender_merge/2-examples" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Examples</span></h2><pre><code class="makeup elixir" translate="no"><span class="gp unselectable">iex&gt; </span><span class="n">preview_offender_merge</span><span class="p" data-group-id="1822086196-1">(</span><span class="n">master_id</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="1822086196-2">[</span><span class="n">duplicate_id</span><span class="p" data-group-id="1822086196-2">]</span><span class="p" data-group-id="1822086196-1">)</span><span class="w">
</span><span class="p" data-group-id="1822086196-3">{</span><span class="ss">:ok</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="1822086196-4">%{</span><span class="w">
  </span><span class="ss">validation</span><span class="p">:</span><span class="w"> </span><span class="p" data-group-id="1822086196-5">%{</span><span class="ss">valid</span><span class="p">:</span><span class="w"> </span><span class="no">true</span><span class="p">,</span><span class="w"> </span><span class="ss">similarity</span><span class="p">:</span><span class="w"> </span><span class="mf">1.0</span><span class="p">,</span><span class="w"> </span><span class="ss">canonical_name</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;...&quot;</span><span class="p">,</span><span class="w"> </span><span class="ss">status</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;active&quot;</span><span class="p" data-group-id="1822086196-5">}</span><span class="p">,</span><span class="w">
  </span><span class="ss">companies_house_data</span><span class="p">:</span><span class="w"> </span><span class="p" data-group-id="1822086196-6">%{</span><span class="ss">name</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;...&quot;</span><span class="p">,</span><span class="w"> </span><span class="ss">address</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;...&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">...</span><span class="p" data-group-id="1822086196-6">}</span><span class="p">,</span><span class="w">
  </span><span class="ss">merge_preview</span><span class="p">:</span><span class="w"> </span><span class="p" data-group-id="1822086196-7">%{</span><span class="ss">total_cases</span><span class="p">:</span><span class="w"> </span><span class="mi">5</span><span class="p">,</span><span class="w"> </span><span class="ss">total_notices</span><span class="p">:</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w"> </span><span class="ss">total_fines</span><span class="p">:</span><span class="w"> </span><span class="p" data-group-id="1822086196-8">#</span><span class="nc" data-group-id="1822086196-8">Decimal</span><span class="p" data-group-id="1822086196-8">&lt;</span><span class="mi">57000</span><span class="p" data-group-id="1822086196-8">&gt;</span><span class="p" data-group-id="1822086196-7">}</span><span class="p">,</span><span class="w">
  </span><span class="ss">duplicates_info</span><span class="p">:</span><span class="w"> </span><span class="p" data-group-id="1822086196-9">[</span><span class="p" data-group-id="1822086196-10">%{</span><span class="ss">id</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;...&quot;</span><span class="p">,</span><span class="w"> </span><span class="ss">name</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;...&quot;</span><span class="p">,</span><span class="w"> </span><span class="ss">location</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;...&quot;</span><span class="p">,</span><span class="w"> </span><span class="ss">cases</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="ss">notices</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p" data-group-id="1822086196-10">}</span><span class="p" data-group-id="1822086196-9">]</span><span class="w">
</span><span class="p" data-group-id="1822086196-4">}</span><span class="p" data-group-id="1822086196-3">}</span></code></pre>
  </section>
</section>
<section class="detail" id="query_to_get_agency/3">

    <span id="query_to_get_agency/1"></span>

    <span id="query_to_get_agency/2"></span>

  <div class="detail-header">
    <a href="#query_to_get_agency/3" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">query_to_get_agency(id, params_or_opts \\ %{}, opts \\ [])</h1>


    </div>
  </div>

  <section class="docstring">

<p>Returns the query corresponding to the action.</p><h2 id="query_to_get_agency/3-options" class="section-heading"><a href="#query_to_get_agency/3-options" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Options</span></h2><ul><li><code class="inline">:tracer</code> (one or a list of module that adopts <a href="https://hexdocs.pm/ash/3.7.6/Ash.Tracer.html"><code class="inline">Ash.Tracer</code></a>) - A tracer that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.Tracer.html"><code class="inline">Ash.Tracer</code></a> behaviour. See that module for more.</li><li><code class="inline">:authorize?</code> - If an actor option is provided (even if it is <code class="inline">nil</code>), authorization happens automatically. If not, this flag can be used to authorize with no user.</li><li><code class="inline">:tenant</code> (value that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.ToTenant.html"><code class="inline">Ash.ToTenant</code></a> protocol) - A tenant to set on the query or changeset</li><li><code class="inline">:actor</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - If an actor is provided, it will be used in conjunction with the authorizers of a resource to authorize access</li><li><code class="inline">:scope</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A value that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> protocol, for passing around actor/tenant/context in a single value. See <a href="https://hexdocs.pm/ash/3.7.6/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> for more.</li><li><code class="inline">:query</code> - A query to seed the action with.</li></ul>
  </section>
</section>
<section class="detail" id="query_to_get_agency_by_code/3">

    <span id="query_to_get_agency_by_code/1"></span>

    <span id="query_to_get_agency_by_code/2"></span>

  <div class="detail-header">
    <a href="#query_to_get_agency_by_code/3" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">query_to_get_agency_by_code(code, params_or_opts \\ %{}, opts \\ [])</h1>


    </div>
  </div>

  <section class="docstring">

<p>Returns the query corresponding to the action.</p><h2 id="query_to_get_agency_by_code/3-options" class="section-heading"><a href="#query_to_get_agency_by_code/3-options" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Options</span></h2><ul><li><code class="inline">:tracer</code> (one or a list of module that adopts <a href="https://hexdocs.pm/ash/3.7.6/Ash.Tracer.html"><code class="inline">Ash.Tracer</code></a>) - A tracer that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.Tracer.html"><code class="inline">Ash.Tracer</code></a> behaviour. See that module for more.</li><li><code class="inline">:authorize?</code> - If an actor option is provided (even if it is <code class="inline">nil</code>), authorization happens automatically. If not, this flag can be used to authorize with no user.</li><li><code class="inline">:tenant</code> (value that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.ToTenant.html"><code class="inline">Ash.ToTenant</code></a> protocol) - A tenant to set on the query or changeset</li><li><code class="inline">:actor</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - If an actor is provided, it will be used in conjunction with the authorizers of a resource to authorize access</li><li><code class="inline">:scope</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A value that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> protocol, for passing around actor/tenant/context in a single value. See <a href="https://hexdocs.pm/ash/3.7.6/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> for more.</li><li><code class="inline">:query</code> - A query to seed the action with.</li></ul>
  </section>
</section>
<section class="detail" id="query_to_get_case/3">

    <span id="query_to_get_case/1"></span>

    <span id="query_to_get_case/2"></span>

  <div class="detail-header">
    <a href="#query_to_get_case/3" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">query_to_get_case(id, params_or_opts \\ %{}, opts \\ [])</h1>


    </div>
  </div>

  <section class="docstring">

<p>Returns the query corresponding to the action.</p><h2 id="query_to_get_case/3-options" class="section-heading"><a href="#query_to_get_case/3-options" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Options</span></h2><ul><li><code class="inline">:tracer</code> (one or a list of module that adopts <a href="https://hexdocs.pm/ash/3.7.6/Ash.Tracer.html"><code class="inline">Ash.Tracer</code></a>) - A tracer that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.Tracer.html"><code class="inline">Ash.Tracer</code></a> behaviour. See that module for more.</li><li><code class="inline">:authorize?</code> - If an actor option is provided (even if it is <code class="inline">nil</code>), authorization happens automatically. If not, this flag can be used to authorize with no user.</li><li><code class="inline">:tenant</code> (value that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.ToTenant.html"><code class="inline">Ash.ToTenant</code></a> protocol) - A tenant to set on the query or changeset</li><li><code class="inline">:actor</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - If an actor is provided, it will be used in conjunction with the authorizers of a resource to authorize access</li><li><code class="inline">:scope</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A value that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> protocol, for passing around actor/tenant/context in a single value. See <a href="https://hexdocs.pm/ash/3.7.6/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> for more.</li><li><code class="inline">:query</code> - A query to seed the action with.</li></ul>
  </section>
</section>
<section class="detail" id="query_to_get_current_metrics/2">

    <span id="query_to_get_current_metrics/0"></span>

    <span id="query_to_get_current_metrics/1"></span>

  <div class="detail-header">
    <a href="#query_to_get_current_metrics/2" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">query_to_get_current_metrics(params_or_opts \\ %{}, opts \\ [])</h1>


    </div>
  </div>

  <section class="docstring">

<p>Returns the query corresponding to the action.</p><h2 id="query_to_get_current_metrics/2-options" class="section-heading"><a href="#query_to_get_current_metrics/2-options" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Options</span></h2><ul><li><code class="inline">:tracer</code> (one or a list of module that adopts <a href="https://hexdocs.pm/ash/3.7.6/Ash.Tracer.html"><code class="inline">Ash.Tracer</code></a>) - A tracer that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.Tracer.html"><code class="inline">Ash.Tracer</code></a> behaviour. See that module for more.</li><li><code class="inline">:authorize?</code> - If an actor option is provided (even if it is <code class="inline">nil</code>), authorization happens automatically. If not, this flag can be used to authorize with no user.</li><li><code class="inline">:tenant</code> (value that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.ToTenant.html"><code class="inline">Ash.ToTenant</code></a> protocol) - A tenant to set on the query or changeset</li><li><code class="inline">:actor</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - If an actor is provided, it will be used in conjunction with the authorizers of a resource to authorize access</li><li><code class="inline">:scope</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A value that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> protocol, for passing around actor/tenant/context in a single value. See <a href="https://hexdocs.pm/ash/3.7.6/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> for more.</li><li><code class="inline">:query</code> - A query to seed the action with.</li></ul>
  </section>
</section>
<section class="detail" id="query_to_get_legislation/3">

    <span id="query_to_get_legislation/1"></span>

    <span id="query_to_get_legislation/2"></span>

  <div class="detail-header">
    <a href="#query_to_get_legislation/3" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">query_to_get_legislation(id, params_or_opts \\ %{}, opts \\ [])</h1>


    </div>
  </div>

  <section class="docstring">

<p>Returns the query corresponding to the action.</p><h2 id="query_to_get_legislation/3-options" class="section-heading"><a href="#query_to_get_legislation/3-options" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Options</span></h2><ul><li><code class="inline">:tracer</code> (one or a list of module that adopts <a href="https://hexdocs.pm/ash/3.7.6/Ash.Tracer.html"><code class="inline">Ash.Tracer</code></a>) - A tracer that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.Tracer.html"><code class="inline">Ash.Tracer</code></a> behaviour. See that module for more.</li><li><code class="inline">:authorize?</code> - If an actor option is provided (even if it is <code class="inline">nil</code>), authorization happens automatically. If not, this flag can be used to authorize with no user.</li><li><code class="inline">:tenant</code> (value that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.ToTenant.html"><code class="inline">Ash.ToTenant</code></a> protocol) - A tenant to set on the query or changeset</li><li><code class="inline">:actor</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - If an actor is provided, it will be used in conjunction with the authorizers of a resource to authorize access</li><li><code class="inline">:scope</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A value that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> protocol, for passing around actor/tenant/context in a single value. See <a href="https://hexdocs.pm/ash/3.7.6/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> for more.</li><li><code class="inline">:query</code> - A query to seed the action with.</li></ul>
  </section>
</section>
<section class="detail" id="query_to_get_notice/3">

    <span id="query_to_get_notice/1"></span>

    <span id="query_to_get_notice/2"></span>

  <div class="detail-header">
    <a href="#query_to_get_notice/3" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">query_to_get_notice(id, params_or_opts \\ %{}, opts \\ [])</h1>


    </div>
  </div>

  <section class="docstring">

<p>Returns the query corresponding to the action.</p><h2 id="query_to_get_notice/3-options" class="section-heading"><a href="#query_to_get_notice/3-options" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Options</span></h2><ul><li><code class="inline">:tracer</code> (one or a list of module that adopts <a href="https://hexdocs.pm/ash/3.7.6/Ash.Tracer.html"><code class="inline">Ash.Tracer</code></a>) - A tracer that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.Tracer.html"><code class="inline">Ash.Tracer</code></a> behaviour. See that module for more.</li><li><code class="inline">:authorize?</code> - If an actor option is provided (even if it is <code class="inline">nil</code>), authorization happens automatically. If not, this flag can be used to authorize with no user.</li><li><code class="inline">:tenant</code> (value that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.ToTenant.html"><code class="inline">Ash.ToTenant</code></a> protocol) - A tenant to set on the query or changeset</li><li><code class="inline">:actor</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - If an actor is provided, it will be used in conjunction with the authorizers of a resource to authorize access</li><li><code class="inline">:scope</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A value that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> protocol, for passing around actor/tenant/context in a single value. See <a href="https://hexdocs.pm/ash/3.7.6/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> for more.</li><li><code class="inline">:query</code> - A query to seed the action with.</li></ul>
  </section>
</section>
<section class="detail" id="query_to_get_offence/3">

    <span id="query_to_get_offence/1"></span>

    <span id="query_to_get_offence/2"></span>

  <div class="detail-header">
    <a href="#query_to_get_offence/3" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">query_to_get_offence(id, params_or_opts \\ %{}, opts \\ [])</h1>


    </div>
  </div>

  <section class="docstring">

<p>Returns the query corresponding to the action.</p><h2 id="query_to_get_offence/3-options" class="section-heading"><a href="#query_to_get_offence/3-options" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Options</span></h2><ul><li><code class="inline">:tracer</code> (one or a list of module that adopts <a href="https://hexdocs.pm/ash/3.7.6/Ash.Tracer.html"><code class="inline">Ash.Tracer</code></a>) - A tracer that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.Tracer.html"><code class="inline">Ash.Tracer</code></a> behaviour. See that module for more.</li><li><code class="inline">:authorize?</code> - If an actor option is provided (even if it is <code class="inline">nil</code>), authorization happens automatically. If not, this flag can be used to authorize with no user.</li><li><code class="inline">:tenant</code> (value that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.ToTenant.html"><code class="inline">Ash.ToTenant</code></a> protocol) - A tenant to set on the query or changeset</li><li><code class="inline">:actor</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - If an actor is provided, it will be used in conjunction with the authorizers of a resource to authorize access</li><li><code class="inline">:scope</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A value that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> protocol, for passing around actor/tenant/context in a single value. See <a href="https://hexdocs.pm/ash/3.7.6/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> for more.</li><li><code class="inline">:query</code> - A query to seed the action with.</li></ul>
  </section>
</section>
<section class="detail" id="query_to_get_offence_by_reference/3">

    <span id="query_to_get_offence_by_reference/1"></span>

    <span id="query_to_get_offence_by_reference/2"></span>

  <div class="detail-header">
    <a href="#query_to_get_offence_by_reference/3" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">query_to_get_offence_by_reference(offence_reference, params_or_opts \\ %{}, opts \\ [])</h1>


    </div>
  </div>

  <section class="docstring">

<p>Returns the query corresponding to the action.</p><h2 id="query_to_get_offence_by_reference/3-options" class="section-heading"><a href="#query_to_get_offence_by_reference/3-options" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Options</span></h2><ul><li><code class="inline">:tracer</code> (one or a list of module that adopts <a href="https://hexdocs.pm/ash/3.7.6/Ash.Tracer.html"><code class="inline">Ash.Tracer</code></a>) - A tracer that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.Tracer.html"><code class="inline">Ash.Tracer</code></a> behaviour. See that module for more.</li><li><code class="inline">:authorize?</code> - If an actor option is provided (even if it is <code class="inline">nil</code>), authorization happens automatically. If not, this flag can be used to authorize with no user.</li><li><code class="inline">:tenant</code> (value that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.ToTenant.html"><code class="inline">Ash.ToTenant</code></a> protocol) - A tenant to set on the query or changeset</li><li><code class="inline">:actor</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - If an actor is provided, it will be used in conjunction with the authorizers of a resource to authorize access</li><li><code class="inline">:scope</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A value that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> protocol, for passing around actor/tenant/context in a single value. See <a href="https://hexdocs.pm/ash/3.7.6/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> for more.</li><li><code class="inline">:query</code> - A query to seed the action with.</li></ul>
  </section>
</section>
<section class="detail" id="query_to_get_offender/3">

    <span id="query_to_get_offender/1"></span>

    <span id="query_to_get_offender/2"></span>

  <div class="detail-header">
    <a href="#query_to_get_offender/3" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">query_to_get_offender(id, params_or_opts \\ %{}, opts \\ [])</h1>


    </div>
  </div>

  <section class="docstring">

<p>Returns the query corresponding to the action.</p><h2 id="query_to_get_offender/3-options" class="section-heading"><a href="#query_to_get_offender/3-options" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Options</span></h2><ul><li><code class="inline">:tracer</code> (one or a list of module that adopts <a href="https://hexdocs.pm/ash/3.7.6/Ash.Tracer.html"><code class="inline">Ash.Tracer</code></a>) - A tracer that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.Tracer.html"><code class="inline">Ash.Tracer</code></a> behaviour. See that module for more.</li><li><code class="inline">:authorize?</code> - If an actor option is provided (even if it is <code class="inline">nil</code>), authorization happens automatically. If not, this flag can be used to authorize with no user.</li><li><code class="inline">:tenant</code> (value that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.ToTenant.html"><code class="inline">Ash.ToTenant</code></a> protocol) - A tenant to set on the query or changeset</li><li><code class="inline">:actor</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - If an actor is provided, it will be used in conjunction with the authorizers of a resource to authorize access</li><li><code class="inline">:scope</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A value that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> protocol, for passing around actor/tenant/context in a single value. See <a href="https://hexdocs.pm/ash/3.7.6/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> for more.</li><li><code class="inline">:query</code> - A query to seed the action with.</li></ul>
  </section>
</section>
<section class="detail" id="query_to_list_agencies/2">

    <span id="query_to_list_agencies/0"></span>

    <span id="query_to_list_agencies/1"></span>

  <div class="detail-header">
    <a href="#query_to_list_agencies/2" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">query_to_list_agencies(params_or_opts \\ %{}, opts \\ [])</h1>


    </div>
  </div>

  <section class="docstring">

<p>Returns the query corresponding to the action.</p><h2 id="query_to_list_agencies/2-options" class="section-heading"><a href="#query_to_list_agencies/2-options" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Options</span></h2><ul><li><code class="inline">:tracer</code> (one or a list of module that adopts <a href="https://hexdocs.pm/ash/3.7.6/Ash.Tracer.html"><code class="inline">Ash.Tracer</code></a>) - A tracer that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.Tracer.html"><code class="inline">Ash.Tracer</code></a> behaviour. See that module for more.</li><li><code class="inline">:authorize?</code> - If an actor option is provided (even if it is <code class="inline">nil</code>), authorization happens automatically. If not, this flag can be used to authorize with no user.</li><li><code class="inline">:tenant</code> (value that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.ToTenant.html"><code class="inline">Ash.ToTenant</code></a> protocol) - A tenant to set on the query or changeset</li><li><code class="inline">:actor</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - If an actor is provided, it will be used in conjunction with the authorizers of a resource to authorize access</li><li><code class="inline">:scope</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A value that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> protocol, for passing around actor/tenant/context in a single value. See <a href="https://hexdocs.pm/ash/3.7.6/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> for more.</li><li><code class="inline">:query</code> - A query to seed the action with.</li></ul>
  </section>
</section>
<section class="detail" id="query_to_list_cases/2">

    <span id="query_to_list_cases/0"></span>

    <span id="query_to_list_cases/1"></span>

  <div class="detail-header">
    <a href="#query_to_list_cases/2" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">query_to_list_cases(params_or_opts \\ %{}, opts \\ [])</h1>


    </div>
  </div>

  <section class="docstring">

<p>Returns the query corresponding to the action.</p><h2 id="query_to_list_cases/2-options" class="section-heading"><a href="#query_to_list_cases/2-options" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Options</span></h2><ul><li><code class="inline">:tracer</code> (one or a list of module that adopts <a href="https://hexdocs.pm/ash/3.7.6/Ash.Tracer.html"><code class="inline">Ash.Tracer</code></a>) - A tracer that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.Tracer.html"><code class="inline">Ash.Tracer</code></a> behaviour. See that module for more.</li><li><code class="inline">:authorize?</code> - If an actor option is provided (even if it is <code class="inline">nil</code>), authorization happens automatically. If not, this flag can be used to authorize with no user.</li><li><code class="inline">:tenant</code> (value that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.ToTenant.html"><code class="inline">Ash.ToTenant</code></a> protocol) - A tenant to set on the query or changeset</li><li><code class="inline">:actor</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - If an actor is provided, it will be used in conjunction with the authorizers of a resource to authorize access</li><li><code class="inline">:scope</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A value that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> protocol, for passing around actor/tenant/context in a single value. See <a href="https://hexdocs.pm/ash/3.7.6/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> for more.</li><li><code class="inline">:query</code> - A query to seed the action with.</li></ul>
  </section>
</section>
<section class="detail" id="query_to_list_cases_by_date_range/4">

    <span id="query_to_list_cases_by_date_range/2"></span>

    <span id="query_to_list_cases_by_date_range/3"></span>

  <div class="detail-header">
    <a href="#query_to_list_cases_by_date_range/4" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">query_to_list_cases_by_date_range(from_date, to_date, params_or_opts \\ %{}, opts \\ [])</h1>


    </div>
  </div>

  <section class="docstring">

<p>Returns the query corresponding to the action.</p><h2 id="query_to_list_cases_by_date_range/4-options" class="section-heading"><a href="#query_to_list_cases_by_date_range/4-options" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Options</span></h2><ul><li><code class="inline">:tracer</code> (one or a list of module that adopts <a href="https://hexdocs.pm/ash/3.7.6/Ash.Tracer.html"><code class="inline">Ash.Tracer</code></a>) - A tracer that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.Tracer.html"><code class="inline">Ash.Tracer</code></a> behaviour. See that module for more.</li><li><code class="inline">:authorize?</code> - If an actor option is provided (even if it is <code class="inline">nil</code>), authorization happens automatically. If not, this flag can be used to authorize with no user.</li><li><code class="inline">:tenant</code> (value that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.ToTenant.html"><code class="inline">Ash.ToTenant</code></a> protocol) - A tenant to set on the query or changeset</li><li><code class="inline">:actor</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - If an actor is provided, it will be used in conjunction with the authorizers of a resource to authorize access</li><li><code class="inline">:scope</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A value that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> protocol, for passing around actor/tenant/context in a single value. See <a href="https://hexdocs.pm/ash/3.7.6/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> for more.</li><li><code class="inline">:query</code> - A query to seed the action with.</li></ul>
  </section>
</section>
<section class="detail" id="query_to_list_legislation/2">

    <span id="query_to_list_legislation/0"></span>

    <span id="query_to_list_legislation/1"></span>

  <div class="detail-header">
    <a href="#query_to_list_legislation/2" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">query_to_list_legislation(params_or_opts \\ %{}, opts \\ [])</h1>


    </div>
  </div>

  <section class="docstring">

<p>Returns the query corresponding to the action.</p><h2 id="query_to_list_legislation/2-options" class="section-heading"><a href="#query_to_list_legislation/2-options" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Options</span></h2><ul><li><code class="inline">:tracer</code> (one or a list of module that adopts <a href="https://hexdocs.pm/ash/3.7.6/Ash.Tracer.html"><code class="inline">Ash.Tracer</code></a>) - A tracer that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.Tracer.html"><code class="inline">Ash.Tracer</code></a> behaviour. See that module for more.</li><li><code class="inline">:authorize?</code> - If an actor option is provided (even if it is <code class="inline">nil</code>), authorization happens automatically. If not, this flag can be used to authorize with no user.</li><li><code class="inline">:tenant</code> (value that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.ToTenant.html"><code class="inline">Ash.ToTenant</code></a> protocol) - A tenant to set on the query or changeset</li><li><code class="inline">:actor</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - If an actor is provided, it will be used in conjunction with the authorizers of a resource to authorize access</li><li><code class="inline">:scope</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A value that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> protocol, for passing around actor/tenant/context in a single value. See <a href="https://hexdocs.pm/ash/3.7.6/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> for more.</li><li><code class="inline">:query</code> - A query to seed the action with.</li></ul>
  </section>
</section>
<section class="detail" id="query_to_list_legislation_by_type/3">

    <span id="query_to_list_legislation_by_type/1"></span>

    <span id="query_to_list_legislation_by_type/2"></span>

  <div class="detail-header">
    <a href="#query_to_list_legislation_by_type/3" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">query_to_list_legislation_by_type(legislation_type, params_or_opts \\ %{}, opts \\ [])</h1>


    </div>
  </div>

  <section class="docstring">

<p>Returns the query corresponding to the action.</p><h2 id="query_to_list_legislation_by_type/3-options" class="section-heading"><a href="#query_to_list_legislation_by_type/3-options" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Options</span></h2><ul><li><code class="inline">:tracer</code> (one or a list of module that adopts <a href="https://hexdocs.pm/ash/3.7.6/Ash.Tracer.html"><code class="inline">Ash.Tracer</code></a>) - A tracer that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.Tracer.html"><code class="inline">Ash.Tracer</code></a> behaviour. See that module for more.</li><li><code class="inline">:authorize?</code> - If an actor option is provided (even if it is <code class="inline">nil</code>), authorization happens automatically. If not, this flag can be used to authorize with no user.</li><li><code class="inline">:tenant</code> (value that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.ToTenant.html"><code class="inline">Ash.ToTenant</code></a> protocol) - A tenant to set on the query or changeset</li><li><code class="inline">:actor</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - If an actor is provided, it will be used in conjunction with the authorizers of a resource to authorize access</li><li><code class="inline">:scope</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A value that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> protocol, for passing around actor/tenant/context in a single value. See <a href="https://hexdocs.pm/ash/3.7.6/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> for more.</li><li><code class="inline">:query</code> - A query to seed the action with.</li></ul>
  </section>
</section>
<section class="detail" id="query_to_list_legislation_by_year_range/4">

    <span id="query_to_list_legislation_by_year_range/2"></span>

    <span id="query_to_list_legislation_by_year_range/3"></span>

  <div class="detail-header">
    <a href="#query_to_list_legislation_by_year_range/4" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">query_to_list_legislation_by_year_range(start_year, end_year, params_or_opts \\ %{}, opts \\ [])</h1>


    </div>
  </div>

  <section class="docstring">

<p>Returns the query corresponding to the action.</p><h2 id="query_to_list_legislation_by_year_range/4-options" class="section-heading"><a href="#query_to_list_legislation_by_year_range/4-options" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Options</span></h2><ul><li><code class="inline">:tracer</code> (one or a list of module that adopts <a href="https://hexdocs.pm/ash/3.7.6/Ash.Tracer.html"><code class="inline">Ash.Tracer</code></a>) - A tracer that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.Tracer.html"><code class="inline">Ash.Tracer</code></a> behaviour. See that module for more.</li><li><code class="inline">:authorize?</code> - If an actor option is provided (even if it is <code class="inline">nil</code>), authorization happens automatically. If not, this flag can be used to authorize with no user.</li><li><code class="inline">:tenant</code> (value that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.ToTenant.html"><code class="inline">Ash.ToTenant</code></a> protocol) - A tenant to set on the query or changeset</li><li><code class="inline">:actor</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - If an actor is provided, it will be used in conjunction with the authorizers of a resource to authorize access</li><li><code class="inline">:scope</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A value that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> protocol, for passing around actor/tenant/context in a single value. See <a href="https://hexdocs.pm/ash/3.7.6/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> for more.</li><li><code class="inline">:query</code> - A query to seed the action with.</li></ul>
  </section>
</section>
<section class="detail" id="query_to_list_notices/2">

    <span id="query_to_list_notices/0"></span>

    <span id="query_to_list_notices/1"></span>

  <div class="detail-header">
    <a href="#query_to_list_notices/2" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">query_to_list_notices(params_or_opts \\ %{}, opts \\ [])</h1>


    </div>
  </div>

  <section class="docstring">

<p>Returns the query corresponding to the action.</p><h2 id="query_to_list_notices/2-options" class="section-heading"><a href="#query_to_list_notices/2-options" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Options</span></h2><ul><li><code class="inline">:tracer</code> (one or a list of module that adopts <a href="https://hexdocs.pm/ash/3.7.6/Ash.Tracer.html"><code class="inline">Ash.Tracer</code></a>) - A tracer that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.Tracer.html"><code class="inline">Ash.Tracer</code></a> behaviour. See that module for more.</li><li><code class="inline">:authorize?</code> - If an actor option is provided (even if it is <code class="inline">nil</code>), authorization happens automatically. If not, this flag can be used to authorize with no user.</li><li><code class="inline">:tenant</code> (value that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.ToTenant.html"><code class="inline">Ash.ToTenant</code></a> protocol) - A tenant to set on the query or changeset</li><li><code class="inline">:actor</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - If an actor is provided, it will be used in conjunction with the authorizers of a resource to authorize access</li><li><code class="inline">:scope</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A value that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> protocol, for passing around actor/tenant/context in a single value. See <a href="https://hexdocs.pm/ash/3.7.6/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> for more.</li><li><code class="inline">:query</code> - A query to seed the action with.</li></ul>
  </section>
</section>
<section class="detail" id="query_to_list_offences/2">

    <span id="query_to_list_offences/0"></span>

    <span id="query_to_list_offences/1"></span>

  <div class="detail-header">
    <a href="#query_to_list_offences/2" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">query_to_list_offences(params_or_opts \\ %{}, opts \\ [])</h1>


    </div>
  </div>

  <section class="docstring">

<p>Returns the query corresponding to the action.</p><h2 id="query_to_list_offences/2-options" class="section-heading"><a href="#query_to_list_offences/2-options" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Options</span></h2><ul><li><code class="inline">:tracer</code> (one or a list of module that adopts <a href="https://hexdocs.pm/ash/3.7.6/Ash.Tracer.html"><code class="inline">Ash.Tracer</code></a>) - A tracer that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.Tracer.html"><code class="inline">Ash.Tracer</code></a> behaviour. See that module for more.</li><li><code class="inline">:authorize?</code> - If an actor option is provided (even if it is <code class="inline">nil</code>), authorization happens automatically. If not, this flag can be used to authorize with no user.</li><li><code class="inline">:tenant</code> (value that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.ToTenant.html"><code class="inline">Ash.ToTenant</code></a> protocol) - A tenant to set on the query or changeset</li><li><code class="inline">:actor</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - If an actor is provided, it will be used in conjunction with the authorizers of a resource to authorize access</li><li><code class="inline">:scope</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A value that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> protocol, for passing around actor/tenant/context in a single value. See <a href="https://hexdocs.pm/ash/3.7.6/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> for more.</li><li><code class="inline">:query</code> - A query to seed the action with.</li></ul>
  </section>
</section>
<section class="detail" id="query_to_list_offences_by_case/3">

    <span id="query_to_list_offences_by_case/1"></span>

    <span id="query_to_list_offences_by_case/2"></span>

  <div class="detail-header">
    <a href="#query_to_list_offences_by_case/3" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">query_to_list_offences_by_case(case_id, params_or_opts \\ %{}, opts \\ [])</h1>


    </div>
  </div>

  <section class="docstring">

<p>Returns the query corresponding to the action.</p><h2 id="query_to_list_offences_by_case/3-options" class="section-heading"><a href="#query_to_list_offences_by_case/3-options" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Options</span></h2><ul><li><code class="inline">:tracer</code> (one or a list of module that adopts <a href="https://hexdocs.pm/ash/3.7.6/Ash.Tracer.html"><code class="inline">Ash.Tracer</code></a>) - A tracer that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.Tracer.html"><code class="inline">Ash.Tracer</code></a> behaviour. See that module for more.</li><li><code class="inline">:authorize?</code> - If an actor option is provided (even if it is <code class="inline">nil</code>), authorization happens automatically. If not, this flag can be used to authorize with no user.</li><li><code class="inline">:tenant</code> (value that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.ToTenant.html"><code class="inline">Ash.ToTenant</code></a> protocol) - A tenant to set on the query or changeset</li><li><code class="inline">:actor</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - If an actor is provided, it will be used in conjunction with the authorizers of a resource to authorize access</li><li><code class="inline">:scope</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A value that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> protocol, for passing around actor/tenant/context in a single value. See <a href="https://hexdocs.pm/ash/3.7.6/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> for more.</li><li><code class="inline">:query</code> - A query to seed the action with.</li></ul>
  </section>
</section>
<section class="detail" id="query_to_list_offences_by_legislation/3">

    <span id="query_to_list_offences_by_legislation/1"></span>

    <span id="query_to_list_offences_by_legislation/2"></span>

  <div class="detail-header">
    <a href="#query_to_list_offences_by_legislation/3" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">query_to_list_offences_by_legislation(legislation_id, params_or_opts \\ %{}, opts \\ [])</h1>


    </div>
  </div>

  <section class="docstring">

<p>Returns the query corresponding to the action.</p><h2 id="query_to_list_offences_by_legislation/3-options" class="section-heading"><a href="#query_to_list_offences_by_legislation/3-options" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Options</span></h2><ul><li><code class="inline">:tracer</code> (one or a list of module that adopts <a href="https://hexdocs.pm/ash/3.7.6/Ash.Tracer.html"><code class="inline">Ash.Tracer</code></a>) - A tracer that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.Tracer.html"><code class="inline">Ash.Tracer</code></a> behaviour. See that module for more.</li><li><code class="inline">:authorize?</code> - If an actor option is provided (even if it is <code class="inline">nil</code>), authorization happens automatically. If not, this flag can be used to authorize with no user.</li><li><code class="inline">:tenant</code> (value that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.ToTenant.html"><code class="inline">Ash.ToTenant</code></a> protocol) - A tenant to set on the query or changeset</li><li><code class="inline">:actor</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - If an actor is provided, it will be used in conjunction with the authorizers of a resource to authorize access</li><li><code class="inline">:scope</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A value that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> protocol, for passing around actor/tenant/context in a single value. See <a href="https://hexdocs.pm/ash/3.7.6/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> for more.</li><li><code class="inline">:query</code> - A query to seed the action with.</li></ul>
  </section>
</section>
<section class="detail" id="query_to_list_offences_by_notice/3">

    <span id="query_to_list_offences_by_notice/1"></span>

    <span id="query_to_list_offences_by_notice/2"></span>

  <div class="detail-header">
    <a href="#query_to_list_offences_by_notice/3" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">query_to_list_offences_by_notice(notice_id, params_or_opts \\ %{}, opts \\ [])</h1>


    </div>
  </div>

  <section class="docstring">

<p>Returns the query corresponding to the action.</p><h2 id="query_to_list_offences_by_notice/3-options" class="section-heading"><a href="#query_to_list_offences_by_notice/3-options" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Options</span></h2><ul><li><code class="inline">:tracer</code> (one or a list of module that adopts <a href="https://hexdocs.pm/ash/3.7.6/Ash.Tracer.html"><code class="inline">Ash.Tracer</code></a>) - A tracer that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.Tracer.html"><code class="inline">Ash.Tracer</code></a> behaviour. See that module for more.</li><li><code class="inline">:authorize?</code> - If an actor option is provided (even if it is <code class="inline">nil</code>), authorization happens automatically. If not, this flag can be used to authorize with no user.</li><li><code class="inline">:tenant</code> (value that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.ToTenant.html"><code class="inline">Ash.ToTenant</code></a> protocol) - A tenant to set on the query or changeset</li><li><code class="inline">:actor</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - If an actor is provided, it will be used in conjunction with the authorizers of a resource to authorize access</li><li><code class="inline">:scope</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A value that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> protocol, for passing around actor/tenant/context in a single value. See <a href="https://hexdocs.pm/ash/3.7.6/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> for more.</li><li><code class="inline">:query</code> - A query to seed the action with.</li></ul>
  </section>
</section>
<section class="detail" id="query_to_list_offences_with_fines/2">

    <span id="query_to_list_offences_with_fines/0"></span>

    <span id="query_to_list_offences_with_fines/1"></span>

  <div class="detail-header">
    <a href="#query_to_list_offences_with_fines/2" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">query_to_list_offences_with_fines(params_or_opts \\ %{}, opts \\ [])</h1>


    </div>
  </div>

  <section class="docstring">

<p>Returns the query corresponding to the action.</p><h2 id="query_to_list_offences_with_fines/2-options" class="section-heading"><a href="#query_to_list_offences_with_fines/2-options" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Options</span></h2><ul><li><code class="inline">:tracer</code> (one or a list of module that adopts <a href="https://hexdocs.pm/ash/3.7.6/Ash.Tracer.html"><code class="inline">Ash.Tracer</code></a>) - A tracer that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.Tracer.html"><code class="inline">Ash.Tracer</code></a> behaviour. See that module for more.</li><li><code class="inline">:authorize?</code> - If an actor option is provided (even if it is <code class="inline">nil</code>), authorization happens automatically. If not, this flag can be used to authorize with no user.</li><li><code class="inline">:tenant</code> (value that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.ToTenant.html"><code class="inline">Ash.ToTenant</code></a> protocol) - A tenant to set on the query or changeset</li><li><code class="inline">:actor</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - If an actor is provided, it will be used in conjunction with the authorizers of a resource to authorize access</li><li><code class="inline">:scope</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A value that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> protocol, for passing around actor/tenant/context in a single value. See <a href="https://hexdocs.pm/ash/3.7.6/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> for more.</li><li><code class="inline">:query</code> - A query to seed the action with.</li></ul>
  </section>
</section>
<section class="detail" id="query_to_list_offenders/2">

    <span id="query_to_list_offenders/0"></span>

    <span id="query_to_list_offenders/1"></span>

  <div class="detail-header">
    <a href="#query_to_list_offenders/2" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">query_to_list_offenders(params_or_opts \\ %{}, opts \\ [])</h1>


    </div>
  </div>

  <section class="docstring">

<p>Returns the query corresponding to the action.</p><h2 id="query_to_list_offenders/2-options" class="section-heading"><a href="#query_to_list_offenders/2-options" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Options</span></h2><ul><li><code class="inline">:tracer</code> (one or a list of module that adopts <a href="https://hexdocs.pm/ash/3.7.6/Ash.Tracer.html"><code class="inline">Ash.Tracer</code></a>) - A tracer that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.Tracer.html"><code class="inline">Ash.Tracer</code></a> behaviour. See that module for more.</li><li><code class="inline">:authorize?</code> - If an actor option is provided (even if it is <code class="inline">nil</code>), authorization happens automatically. If not, this flag can be used to authorize with no user.</li><li><code class="inline">:tenant</code> (value that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.ToTenant.html"><code class="inline">Ash.ToTenant</code></a> protocol) - A tenant to set on the query or changeset</li><li><code class="inline">:actor</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - If an actor is provided, it will be used in conjunction with the authorizers of a resource to authorize access</li><li><code class="inline">:scope</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A value that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> protocol, for passing around actor/tenant/context in a single value. See <a href="https://hexdocs.pm/ash/3.7.6/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> for more.</li><li><code class="inline">:query</code> - A query to seed the action with.</li></ul>
  </section>
</section>
<section class="detail" id="query_to_search_legislation_title/3">

    <span id="query_to_search_legislation_title/1"></span>

    <span id="query_to_search_legislation_title/2"></span>

  <div class="detail-header">
    <a href="#query_to_search_legislation_title/3" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">query_to_search_legislation_title(search_term, params_or_opts \\ %{}, opts \\ [])</h1>


    </div>
  </div>

  <section class="docstring">

<p>Returns the query corresponding to the action.</p><h2 id="query_to_search_legislation_title/3-options" class="section-heading"><a href="#query_to_search_legislation_title/3-options" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Options</span></h2><ul><li><code class="inline">:tracer</code> (one or a list of module that adopts <a href="https://hexdocs.pm/ash/3.7.6/Ash.Tracer.html"><code class="inline">Ash.Tracer</code></a>) - A tracer that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.Tracer.html"><code class="inline">Ash.Tracer</code></a> behaviour. See that module for more.</li><li><code class="inline">:authorize?</code> - If an actor option is provided (even if it is <code class="inline">nil</code>), authorization happens automatically. If not, this flag can be used to authorize with no user.</li><li><code class="inline">:tenant</code> (value that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.ToTenant.html"><code class="inline">Ash.ToTenant</code></a> protocol) - A tenant to set on the query or changeset</li><li><code class="inline">:actor</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - If an actor is provided, it will be used in conjunction with the authorizers of a resource to authorize access</li><li><code class="inline">:scope</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A value that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> protocol, for passing around actor/tenant/context in a single value. See <a href="https://hexdocs.pm/ash/3.7.6/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> for more.</li><li><code class="inline">:query</code> - A query to seed the action with.</li></ul>
  </section>
</section>
<section class="detail" id="query_to_search_offence_description/3">

    <span id="query_to_search_offence_description/1"></span>

    <span id="query_to_search_offence_description/2"></span>

  <div class="detail-header">
    <a href="#query_to_search_offence_description/3" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">query_to_search_offence_description(search_term, params_or_opts \\ %{}, opts \\ [])</h1>


    </div>
  </div>

  <section class="docstring">

<p>Returns the query corresponding to the action.</p><h2 id="query_to_search_offence_description/3-options" class="section-heading"><a href="#query_to_search_offence_description/3-options" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Options</span></h2><ul><li><code class="inline">:tracer</code> (one or a list of module that adopts <a href="https://hexdocs.pm/ash/3.7.6/Ash.Tracer.html"><code class="inline">Ash.Tracer</code></a>) - A tracer that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.Tracer.html"><code class="inline">Ash.Tracer</code></a> behaviour. See that module for more.</li><li><code class="inline">:authorize?</code> - If an actor option is provided (even if it is <code class="inline">nil</code>), authorization happens automatically. If not, this flag can be used to authorize with no user.</li><li><code class="inline">:tenant</code> (value that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.ToTenant.html"><code class="inline">Ash.ToTenant</code></a> protocol) - A tenant to set on the query or changeset</li><li><code class="inline">:actor</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - If an actor is provided, it will be used in conjunction with the authorizers of a resource to authorize access</li><li><code class="inline">:scope</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A value that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> protocol, for passing around actor/tenant/context in a single value. See <a href="https://hexdocs.pm/ash/3.7.6/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> for more.</li><li><code class="inline">:query</code> - A query to seed the action with.</li></ul>
  </section>
</section>
<section class="detail" id="query_to_search_offenders/3">

    <span id="query_to_search_offenders/1"></span>

    <span id="query_to_search_offenders/2"></span>

  <div class="detail-header">
    <a href="#query_to_search_offenders/3" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">query_to_search_offenders(query, params_or_opts \\ %{}, opts \\ [])</h1>


    </div>
  </div>

  <section class="docstring">

<p>Returns the query corresponding to the action.</p><h2 id="query_to_search_offenders/3-options" class="section-heading"><a href="#query_to_search_offenders/3-options" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Options</span></h2><ul><li><code class="inline">:tracer</code> (one or a list of module that adopts <a href="https://hexdocs.pm/ash/3.7.6/Ash.Tracer.html"><code class="inline">Ash.Tracer</code></a>) - A tracer that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.Tracer.html"><code class="inline">Ash.Tracer</code></a> behaviour. See that module for more.</li><li><code class="inline">:authorize?</code> - If an actor option is provided (even if it is <code class="inline">nil</code>), authorization happens automatically. If not, this flag can be used to authorize with no user.</li><li><code class="inline">:tenant</code> (value that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.ToTenant.html"><code class="inline">Ash.ToTenant</code></a> protocol) - A tenant to set on the query or changeset</li><li><code class="inline">:actor</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - If an actor is provided, it will be used in conjunction with the authorizers of a resource to authorize access</li><li><code class="inline">:scope</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A value that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> protocol, for passing around actor/tenant/context in a single value. See <a href="https://hexdocs.pm/ash/3.7.6/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> for more.</li><li><code class="inline">:query</code> - A query to seed the action with.</li></ul>
  </section>
</section>
<section class="detail" id="read/2">

    <span id="read/1"></span>

  <div class="detail-header">
    <a href="#read/2" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">read(query, opts \\ [])</h1>


    </div>
  </div>

    <div class="deprecated">
      This function is deprecated. Use `Ash.read/2` instead.
    </div>

  <section class="docstring">


  </section>
</section>
<section class="detail" id="read!/2">

    <span id="read!/1"></span>

  <div class="detail-header">
    <a href="#read!/2" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">read!(query, opts \\ [])</h1>


    </div>
  </div>

    <div class="deprecated">
      This function is deprecated. Use `Ash.read!/2` instead.
    </div>

  <section class="docstring">


  </section>
</section>
<section class="detail" id="read_one/2">

    <span id="read_one/1"></span>

  <div class="detail-header">
    <a href="#read_one/2" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">read_one(query, opts \\ [])</h1>


    </div>
  </div>

    <div class="deprecated">
      This function is deprecated. Use `Ash.read_one/2` instead.
    </div>

  <section class="docstring">


  </section>
</section>
<section class="detail" id="read_one!/2">

    <span id="read_one!/1"></span>

  <div class="detail-header">
    <a href="#read_one!/2" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">read_one!(query, opts \\ [])</h1>


    </div>
  </div>

    <div class="deprecated">
      This function is deprecated. Use `Ash.read_one!/2` instead.
    </div>

  <section class="docstring">


  </section>
</section>
<section class="detail" id="refresh_metrics/2">

    <span id="refresh_metrics/0"></span>

    <span id="refresh_metrics/1"></span>

  <div class="detail-header">
    <a href="#refresh_metrics/2" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">refresh_metrics(params \\ nil, opts \\ nil)</h1>


    </div>
  </div>

  <section class="docstring">

<p>Refresh metrics for a specific filter combination</p><h1>Inputs</h1><ul><li>recent_activity - Top 100 recent cases/notices matching this filter combination for instant display</li><li>legislation_id - Legislation filter for future legislation-specific metrics (currently unused)</li><li>period - Time period for the metrics (week, month, or year)</li><li>recent_notices_count - Number of notices within the time period</li><li>cutoff_date - The cutoff date used for recent data filtering</li><li>calculated_by - Whether metrics were calculated manually by admin or via automation</li><li>offender_breakdown - Top offenders with statistics (offender_id =&gt; %{name, cases, fines, ...})</li><li>calculated_at - When these metrics were calculated</li><li>days_ago - Number of days back from today for the period</li><li>agency_id - Agency filter (NULL = all agencies combined)</li><li>recent_cases_count - Number of cases within the time period</li><li>total_costs_amount - Total costs awarded in cases within the time period</li><li>offender_id - Offender filter for future offender-specific metrics (currently unused)</li><li>total_cases_count - Total number of cases (all time)</li><li>total_notices_count - Total number of notices (all time)</li><li>total_fines_amount - Total fines from cases within the time period</li><li>active_agencies_count - Number of enabled agencies</li><li>legislation_breakdown - Top breached legislation with counts (legislation_id =&gt; %{title, breach_count, ...})</li><li>total_offences_count - Total number of offences within the time period</li><li>period_label - Human readable period label (e.g., 'Last 30 Days')</li><li>record_type - Record type filter (NULL = combined cases + notices)</li><li>agency_stats - Per-agency statistics with enhanced breakdown for dashboard dropdown filtering</li></ul><h2 id="refresh_metrics/2-options" class="section-heading"><a href="#refresh_metrics/2-options" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Options</span></h2><ul><li><code class="inline">:upsert?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If a conflict is found based on the primary key, the record is updated in the database (requires upsert support) The default value is <code class="inline">false</code>.</li><li><code class="inline">:return_skipped_upsert?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If <code class="inline">true</code>, and a record was <em>not</em> upserted because its filter prevented the upsert, the original record (which was <em>not</em> upserted) will be returned. The default value is <code class="inline">false</code>.</li><li><code class="inline">:upsert_identity</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - The identity to use when detecting conflicts for <code class="inline">upsert?</code>, e.g. <code class="inline">upsert_identity: :full_name</code>. By default, the primary key is used. Has no effect if <code class="inline">upsert?: true</code> is not provided</li><li><code class="inline">:upsert_fields</code> - The fields to upsert. If not set, the action's upsert_fields is used, and if that is not set, then any fields not being set to defaults are written.</li><li><code class="inline">:upsert_condition</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - An expression to check if the record should be updated when there's a conflict.</li><li><code class="inline">:timeout</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">timeout/0</code></a>) - A positive integer, or <code class="inline">:infinity</code>. If none is provided, the timeout configured on the domain is used.</li><li><code class="inline">:tracer</code> (one or a list of module that adopts <a href="https://hexdocs.pm/ash/3.7.6/Ash.Tracer.html"><code class="inline">Ash.Tracer</code></a>) - A tracer that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.Tracer.html"><code class="inline">Ash.Tracer</code></a> behaviour. See that module for more.</li><li><code class="inline">:action</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - The action to use, either an Action struct or the name of the action</li><li><code class="inline">:authorize?</code> - If an actor option is provided (even if it is <code class="inline">nil</code>), authorization happens automatically. If not, this flag can be used to authorize with no user.</li><li><code class="inline">:context</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">map/0</code></a>) - Context to set on the query, changeset, or input</li><li><code class="inline">:tenant</code> (value that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.ToTenant.html"><code class="inline">Ash.ToTenant</code></a> protocol) - A tenant to set on the query or changeset</li><li><code class="inline">:actor</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - If an actor is provided, it will be used in conjunction with the authorizers of a resource to authorize access</li><li><code class="inline">:scope</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A value that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> protocol, for passing around actor/tenant/context in a single value. See <a href="https://hexdocs.pm/ash/3.7.6/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> for more.</li><li><code class="inline">:return_notifications?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Use this if you're running ash actions in your own transaction and you want to manually handle sending notifications.<br/>If a transaction is ongoing, and this is false, notifications will be discarded, otherwise
the return value is <code class="inline">{:ok, result, notifications}</code> (or <code class="inline">{:ok, notifications}</code>)<br/>To send notifications later, use <code class="inline">Ash.Notifier.notify(notifications)</code>. It sends any notifications
that can be sent, and returns the rest. The default value is <code class="inline">false</code>.</li><li><code class="inline">:rollback_on_error?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to rollback the transaction on error, if the resource is in a transaction.<br/>If the action has <code class="inline">transaction? false</code> this option has no effect. If an error is returned from the
data layer and the resource is in a transaction, the transaction is always rolled back, regardless. The default value is <code class="inline">true</code>.</li><li><code class="inline">:notification_metadata</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - Metadata to be merged into the metadata field for all notifications sent from this operation. The default value is <code class="inline">%{}</code>.</li><li><code class="inline">:skip_unknown_inputs</code> - A list of inputs that, if provided, will be ignored if they are not recognized by the action. Use <code class="inline">:*</code> to indicate all unknown keys.</li><li><code class="inline">:load</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A load statement to add onto the changeset</li><li><code class="inline">:changeset</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A changeset to seed the action with.</li><li><code class="inline">:bulk_options</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">keyword/0</code></a>) - Options passed to <code class="inline">Ash.bulk_create</code>, if a list or stream of inputs is provided.<ul><li><code class="inline">:select</code> (list of <a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - A select statement to apply to records. Ignored if <code class="inline">return_records?</code> is not true.</li><li><code class="inline">:after_action</code> (function of arity 2) - An after_action hook to be added to each processed changeset</li><li><code class="inline">:read_action</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - The action to use when building the read query.</li><li><code class="inline">:assume_casted?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to cast attributes and arguments as input. This is an optimization for cases where the input is already casted and/or not in need of casting The default value is <code class="inline">false</code>.</li><li><code class="inline">:select</code> (list of <a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - A select statement to apply to records. Ignored if <code class="inline">return_records?</code> is not true.</li><li><code class="inline">:authorize_query_with</code> - If set to <code class="inline">:error</code>, instead of filtering unauthorized query results, unauthorized query results will raise an appropriate forbidden error. Uses <code class="inline">authorize_with</code> if not set.</li><li><code class="inline">:authorize_changeset_with</code> - If set to <code class="inline">:error</code>, instead of filtering unauthorized changes, unauthorized changes will raise an appropriate forbidden error. Uses <code class="inline">authorize_with</code> if not set.</li><li><code class="inline">:authorize_with</code> - If set to <code class="inline">:error</code>, instead of filtering unauthorized query results, unauthorized query results will raise an appropriate forbidden error. The default value is <code class="inline">:filter</code>.</li><li><code class="inline">:private_arguments</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">map/0</code></a>) - Private argument values to set on each changeset before validations and changes are run. The default value is <code class="inline">%{}</code>.</li><li><code class="inline">:sorted?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to sort results by their input position, in cases where <code class="inline">return_records?: true</code> was provided. The default value is <code class="inline">false</code>.</li><li><code class="inline">:return_records?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to return all of the records that were inserted. Defaults to false to account for large inserts. The default value is <code class="inline">false</code>.</li><li><code class="inline">:return_errors?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether to return all errors that occur during the operation. Defaults to the value of <code class="inline">:bulk_actions_default_to_errors?</code> in your config, or <code class="inline">false</code> if not set. Returning all errors may be expensive for large inserts. The default value is <code class="inline">false</code>.</li><li><code class="inline">:batch_size</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">pos_integer/0</code></a>) - The number of records to include in each batch. Defaults to the <code class="inline">default_limit</code>
or <code class="inline">max_page_size</code> of the action, or 100.</li><li><code class="inline">:return_stream?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If set to <code class="inline">true</code>, instead of an <a href="https://hexdocs.pm/ash/3.7.6/Ash.BulkResult.html"><code class="inline">Ash.BulkResult</code></a>, a mixed stream is returned.
Potential elements:
<code class="inline">{:notification, notification}</code> - if <code class="inline">return_notifications?</code> is set to <code class="inline">true</code>
<code class="inline">{:ok, record}</code> - if <code class="inline">return_records?</code> is set to <code class="inline">true</code>
<code class="inline">{:error, error}</code> - an error that occurred. May be changeset or an individual error.
The default value is <code class="inline">false</code>.</li><li><code class="inline">:return_nothing?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Mutes warnings about returning nothing.
Only relevant if <code class="inline">return_stream?</code> is set to <code class="inline">true</code> and all other
<code class="inline">return_*?</code> options are set to <code class="inline">false</code>.
The default value is <code class="inline">false</code>.</li><li><code class="inline">:stop_on_error?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If true, the first encountered error will stop the action and be returned. Otherwise, errors
will be skipped. The default value is <code class="inline">false</code>.</li><li><code class="inline">:notify?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to generate any notifications. If this is set to <code class="inline">true</code> then the data layer must return
the results from each batch. This may be intensive for large bulk actions.
Notifications will be automatically sent unless <code class="inline">return_notifications?</code> is set to <code class="inline">true</code>.
The default value is <code class="inline">false</code>.</li><li><code class="inline">:transaction</code> - Whether or not to wrap the entire execution in a transaction, each batch, or not at all.
Keep in mind:
<code class="inline">before_transaction</code> and <code class="inline">after_transaction</code> hooks attached to changesets will have to be run
<em>inside</em> the transaction if you choose <code class="inline">transaction: :all</code>.
The default value is <code class="inline">:batch</code>.</li><li><code class="inline">:max_concurrency</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">non_neg_integer/0</code></a>) - If set to a value greater than 0, up to that many tasks will be started to run batches asynchronously The default value is <code class="inline">0</code>.</li></ul></li><li><code class="inline">:private_arguments</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">map/0</code></a>) - Private argument values to set before validations and changes. The default value is <code class="inline">%{}</code>.</li></ul>
  </section>
</section>
<section class="detail" id="refresh_metrics!/2">

    <span id="refresh_metrics!/0"></span>

    <span id="refresh_metrics!/1"></span>

  <div class="detail-header">
    <a href="#refresh_metrics!/2" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">refresh_metrics!(params \\ nil, opts \\ nil)</h1>


    </div>
  </div>

  <section class="docstring">

<p>Refresh metrics for a specific filter combination
Raises any errors instead of returning them</p><h1>Inputs</h1><ul><li>recent_activity - Top 100 recent cases/notices matching this filter combination for instant display</li><li>legislation_id - Legislation filter for future legislation-specific metrics (currently unused)</li><li>period - Time period for the metrics (week, month, or year)</li><li>recent_notices_count - Number of notices within the time period</li><li>cutoff_date - The cutoff date used for recent data filtering</li><li>calculated_by - Whether metrics were calculated manually by admin or via automation</li><li>offender_breakdown - Top offenders with statistics (offender_id =&gt; %{name, cases, fines, ...})</li><li>calculated_at - When these metrics were calculated</li><li>days_ago - Number of days back from today for the period</li><li>agency_id - Agency filter (NULL = all agencies combined)</li><li>recent_cases_count - Number of cases within the time period</li><li>total_costs_amount - Total costs awarded in cases within the time period</li><li>offender_id - Offender filter for future offender-specific metrics (currently unused)</li><li>total_cases_count - Total number of cases (all time)</li><li>total_notices_count - Total number of notices (all time)</li><li>total_fines_amount - Total fines from cases within the time period</li><li>active_agencies_count - Number of enabled agencies</li><li>legislation_breakdown - Top breached legislation with counts (legislation_id =&gt; %{title, breach_count, ...})</li><li>total_offences_count - Total number of offences within the time period</li><li>period_label - Human readable period label (e.g., 'Last 30 Days')</li><li>record_type - Record type filter (NULL = combined cases + notices)</li><li>agency_stats - Per-agency statistics with enhanced breakdown for dashboard dropdown filtering</li></ul><h2 id="refresh_metrics!/2-options" class="section-heading"><a href="#refresh_metrics!/2-options" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Options</span></h2><ul><li><code class="inline">:upsert?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If a conflict is found based on the primary key, the record is updated in the database (requires upsert support) The default value is <code class="inline">false</code>.</li><li><code class="inline">:return_skipped_upsert?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If <code class="inline">true</code>, and a record was <em>not</em> upserted because its filter prevented the upsert, the original record (which was <em>not</em> upserted) will be returned. The default value is <code class="inline">false</code>.</li><li><code class="inline">:upsert_identity</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - The identity to use when detecting conflicts for <code class="inline">upsert?</code>, e.g. <code class="inline">upsert_identity: :full_name</code>. By default, the primary key is used. Has no effect if <code class="inline">upsert?: true</code> is not provided</li><li><code class="inline">:upsert_fields</code> - The fields to upsert. If not set, the action's upsert_fields is used, and if that is not set, then any fields not being set to defaults are written.</li><li><code class="inline">:upsert_condition</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - An expression to check if the record should be updated when there's a conflict.</li><li><code class="inline">:timeout</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">timeout/0</code></a>) - A positive integer, or <code class="inline">:infinity</code>. If none is provided, the timeout configured on the domain is used.</li><li><code class="inline">:tracer</code> (one or a list of module that adopts <a href="https://hexdocs.pm/ash/3.7.6/Ash.Tracer.html"><code class="inline">Ash.Tracer</code></a>) - A tracer that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.Tracer.html"><code class="inline">Ash.Tracer</code></a> behaviour. See that module for more.</li><li><code class="inline">:action</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - The action to use, either an Action struct or the name of the action</li><li><code class="inline">:authorize?</code> - If an actor option is provided (even if it is <code class="inline">nil</code>), authorization happens automatically. If not, this flag can be used to authorize with no user.</li><li><code class="inline">:context</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">map/0</code></a>) - Context to set on the query, changeset, or input</li><li><code class="inline">:tenant</code> (value that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.ToTenant.html"><code class="inline">Ash.ToTenant</code></a> protocol) - A tenant to set on the query or changeset</li><li><code class="inline">:actor</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - If an actor is provided, it will be used in conjunction with the authorizers of a resource to authorize access</li><li><code class="inline">:scope</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A value that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> protocol, for passing around actor/tenant/context in a single value. See <a href="https://hexdocs.pm/ash/3.7.6/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> for more.</li><li><code class="inline">:return_notifications?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Use this if you're running ash actions in your own transaction and you want to manually handle sending notifications.<br/>If a transaction is ongoing, and this is false, notifications will be discarded, otherwise
the return value is <code class="inline">{:ok, result, notifications}</code> (or <code class="inline">{:ok, notifications}</code>)<br/>To send notifications later, use <code class="inline">Ash.Notifier.notify(notifications)</code>. It sends any notifications
that can be sent, and returns the rest. The default value is <code class="inline">false</code>.</li><li><code class="inline">:rollback_on_error?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to rollback the transaction on error, if the resource is in a transaction.<br/>If the action has <code class="inline">transaction? false</code> this option has no effect. If an error is returned from the
data layer and the resource is in a transaction, the transaction is always rolled back, regardless. The default value is <code class="inline">true</code>.</li><li><code class="inline">:notification_metadata</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - Metadata to be merged into the metadata field for all notifications sent from this operation. The default value is <code class="inline">%{}</code>.</li><li><code class="inline">:skip_unknown_inputs</code> - A list of inputs that, if provided, will be ignored if they are not recognized by the action. Use <code class="inline">:*</code> to indicate all unknown keys.</li><li><code class="inline">:load</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A load statement to add onto the changeset</li><li><code class="inline">:changeset</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A changeset to seed the action with.</li><li><code class="inline">:bulk_options</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">keyword/0</code></a>) - Options passed to <code class="inline">Ash.bulk_create</code>, if a list or stream of inputs is provided.<ul><li><code class="inline">:select</code> (list of <a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - A select statement to apply to records. Ignored if <code class="inline">return_records?</code> is not true.</li><li><code class="inline">:after_action</code> (function of arity 2) - An after_action hook to be added to each processed changeset</li><li><code class="inline">:read_action</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - The action to use when building the read query.</li><li><code class="inline">:assume_casted?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to cast attributes and arguments as input. This is an optimization for cases where the input is already casted and/or not in need of casting The default value is <code class="inline">false</code>.</li><li><code class="inline">:select</code> (list of <a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - A select statement to apply to records. Ignored if <code class="inline">return_records?</code> is not true.</li><li><code class="inline">:authorize_query_with</code> - If set to <code class="inline">:error</code>, instead of filtering unauthorized query results, unauthorized query results will raise an appropriate forbidden error. Uses <code class="inline">authorize_with</code> if not set.</li><li><code class="inline">:authorize_changeset_with</code> - If set to <code class="inline">:error</code>, instead of filtering unauthorized changes, unauthorized changes will raise an appropriate forbidden error. Uses <code class="inline">authorize_with</code> if not set.</li><li><code class="inline">:authorize_with</code> - If set to <code class="inline">:error</code>, instead of filtering unauthorized query results, unauthorized query results will raise an appropriate forbidden error. The default value is <code class="inline">:filter</code>.</li><li><code class="inline">:private_arguments</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">map/0</code></a>) - Private argument values to set on each changeset before validations and changes are run. The default value is <code class="inline">%{}</code>.</li><li><code class="inline">:sorted?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to sort results by their input position, in cases where <code class="inline">return_records?: true</code> was provided. The default value is <code class="inline">false</code>.</li><li><code class="inline">:return_records?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to return all of the records that were inserted. Defaults to false to account for large inserts. The default value is <code class="inline">false</code>.</li><li><code class="inline">:return_errors?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether to return all errors that occur during the operation. Defaults to the value of <code class="inline">:bulk_actions_default_to_errors?</code> in your config, or <code class="inline">false</code> if not set. Returning all errors may be expensive for large inserts. The default value is <code class="inline">false</code>.</li><li><code class="inline">:batch_size</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">pos_integer/0</code></a>) - The number of records to include in each batch. Defaults to the <code class="inline">default_limit</code>
or <code class="inline">max_page_size</code> of the action, or 100.</li><li><code class="inline">:return_stream?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If set to <code class="inline">true</code>, instead of an <a href="https://hexdocs.pm/ash/3.7.6/Ash.BulkResult.html"><code class="inline">Ash.BulkResult</code></a>, a mixed stream is returned.
Potential elements:
<code class="inline">{:notification, notification}</code> - if <code class="inline">return_notifications?</code> is set to <code class="inline">true</code>
<code class="inline">{:ok, record}</code> - if <code class="inline">return_records?</code> is set to <code class="inline">true</code>
<code class="inline">{:error, error}</code> - an error that occurred. May be changeset or an individual error.
The default value is <code class="inline">false</code>.</li><li><code class="inline">:return_nothing?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Mutes warnings about returning nothing.
Only relevant if <code class="inline">return_stream?</code> is set to <code class="inline">true</code> and all other
<code class="inline">return_*?</code> options are set to <code class="inline">false</code>.
The default value is <code class="inline">false</code>.</li><li><code class="inline">:stop_on_error?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If true, the first encountered error will stop the action and be returned. Otherwise, errors
will be skipped. The default value is <code class="inline">false</code>.</li><li><code class="inline">:notify?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to generate any notifications. If this is set to <code class="inline">true</code> then the data layer must return
the results from each batch. This may be intensive for large bulk actions.
Notifications will be automatically sent unless <code class="inline">return_notifications?</code> is set to <code class="inline">true</code>.
The default value is <code class="inline">false</code>.</li><li><code class="inline">:transaction</code> - Whether or not to wrap the entire execution in a transaction, each batch, or not at all.
Keep in mind:
<code class="inline">before_transaction</code> and <code class="inline">after_transaction</code> hooks attached to changesets will have to be run
<em>inside</em> the transaction if you choose <code class="inline">transaction: :all</code>.
The default value is <code class="inline">:batch</code>.</li><li><code class="inline">:max_concurrency</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">non_neg_integer/0</code></a>) - If set to a value greater than 0, up to that many tasks will be started to run batches asynchronously The default value is <code class="inline">0</code>.</li></ul></li><li><code class="inline">:private_arguments</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">map/0</code></a>) - Private argument values to set before validations and changes. The default value is <code class="inline">%{}</code>.</li></ul>
  </section>
</section>
<section class="detail" id="reload/2">

    <span id="reload/1"></span>

  <div class="detail-header">
    <a href="#reload/2" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">reload(record, opts \\ [])</h1>


    </div>
  </div>

    <div class="deprecated">
      This function is deprecated. Use `Ash.reload/2` instead.
    </div>

  <section class="docstring">


  </section>
</section>
<section class="detail" id="reload!/2">

    <span id="reload!/1"></span>

  <div class="detail-header">
    <a href="#reload!/2" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">reload!(record, opts \\ [])</h1>


    </div>
  </div>

    <div class="deprecated">
      This function is deprecated. Use `Ash.reload!/2` instead.
    </div>

  <section class="docstring">


  </section>
</section>
<section class="detail" id="run_action/2">

    <span id="run_action/1"></span>

  <div class="detail-header">
    <a href="#run_action/2" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">run_action(input, opts \\ [])</h1>


    </div>
  </div>

    <div class="deprecated">
      This function is deprecated. Use `Ash.run_action/2` instead.
    </div>

  <section class="docstring">


  </section>
</section>
<section class="detail" id="run_action!/2">

    <span id="run_action!/1"></span>

  <div class="detail-header">
    <a href="#run_action!/2" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">run_action!(input, opts \\ [])</h1>


    </div>
  </div>

    <div class="deprecated">
      This function is deprecated. Use `Ash.run_action/2` instead.
    </div>

  <section class="docstring">


  </section>
</section>
<section class="detail" id="search_legislation_fuzzy/2">

    <span id="search_legislation_fuzzy/1"></span>

  <div class="detail-header">
    <a href="#search_legislation_fuzzy/2" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">search_legislation_fuzzy(search_title, similarity_threshold \\ 0.7)</h1>


    </div>
  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">@spec</span> search_legislation_fuzzy(<a href="https://hexdocs.pm/elixir/String.html#t:t/0">String.t</a>(), <a href="https://hexdocs.pm/elixir/typespecs.html#basic-types">float</a>()) ::
  {:ok, [<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types">struct</a>()]} | {:error, <a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types">term</a>()}</pre>

      </div>

<p>Search for existing legislation by title with fuzzy matching.</p><p>Useful for manual deduplication or verification.</p>
  </section>
</section>
<section class="detail" id="search_legislation_title/3">

    <span id="search_legislation_title/1"></span>

    <span id="search_legislation_title/2"></span>

  <div class="detail-header">
    <a href="#search_legislation_title/3" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">search_legislation_title(search_term, params \\ nil, opts \\ nil)</h1>


    </div>
  </div>

  <section class="docstring">

<p>Calls the search_title action on EhsEnforcement.Enforcement.Legislation.</p><h1>Arguments</h1><ul><li>search_term</li></ul><h2 id="search_legislation_title/3-options" class="section-heading"><a href="#search_legislation_title/3-options" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Options</span></h2><ul><li><code class="inline">:page</code> - Pagination options, see <a href="https://hexdocs.pm/ash/3.7.6/Ash.html#read/2"><code class="inline">Ash.read/2</code></a> for more.</li><li><code class="inline">:load</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A load statement to add onto the query</li><li><code class="inline">:max_concurrency</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">non_neg_integer/0</code></a>) - The maximum number of processes allowed to be started for parallel loading of relationships and calculations. Defaults to <code class="inline">System.schedulers_online() * 2</code></li><li><code class="inline">:lock</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A lock statement to add onto the query</li><li><code class="inline">:return_query?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If <code class="inline">true</code>, the query that was ultimately used is returned as a third tuple element.<br/>The query goes through many potential changes during a request, potentially adding
authorization filters, or replacing relationships for other data layers with their
corresponding ids. This option can be used to get the true query that was sent to
the data layer. The default value is <code class="inline">false</code>.</li><li><code class="inline">:skip_unknown_inputs</code> - A list of inputs that, if provided, will be ignored if they are not recognized by the action. Use <code class="inline">:*</code> to indicate all unknown keys.</li><li><code class="inline">:reuse_values?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether calculations are allowed to reuse values that have already been loaded, or must refetch them from the data layer. The default value is <code class="inline">false</code>.</li><li><code class="inline">:strict?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If set to true, only specified attributes will be loaded when passing
  a list of fields to fetch on a relationship, which allows for more
  optimized data-fetching.<br/>  See <a href="https://hexdocs.pm/ash/3.7.6/Ash.Query.html#load/2"><code class="inline">Ash.Query.load/2</code></a>. The default value is <code class="inline">false</code>.</li><li><code class="inline">:authorize_with</code> - If set to <code class="inline">:error</code>, instead of applying authorization filters as a filter, any records not matching the authorization filter will cause an error to be returned. Valid values are :filter, :error The default value is <code class="inline">:filter</code>.</li><li><code class="inline">:timeout</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">timeout/0</code></a>) - A positive integer, or <code class="inline">:infinity</code>. If none is provided, the timeout configured on the domain is used.</li><li><code class="inline">:tracer</code> (one or a list of module that adopts <a href="https://hexdocs.pm/ash/3.7.6/Ash.Tracer.html"><code class="inline">Ash.Tracer</code></a>) - A tracer that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.Tracer.html"><code class="inline">Ash.Tracer</code></a> behaviour. See that module for more.</li><li><code class="inline">:action</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - The action to use, either an Action struct or the name of the action</li><li><code class="inline">:authorize?</code> - If an actor option is provided (even if it is <code class="inline">nil</code>), authorization happens automatically. If not, this flag can be used to authorize with no user.</li><li><code class="inline">:context</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">map/0</code></a>) - Context to set on the query, changeset, or input</li><li><code class="inline">:tenant</code> (value that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.ToTenant.html"><code class="inline">Ash.ToTenant</code></a> protocol) - A tenant to set on the query or changeset</li><li><code class="inline">:actor</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - If an actor is provided, it will be used in conjunction with the authorizers of a resource to authorize access</li><li><code class="inline">:scope</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A value that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> protocol, for passing around actor/tenant/context in a single value. See <a href="https://hexdocs.pm/ash/3.7.6/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> for more.</li><li><code class="inline">:query</code> - A query to seed the action with.</li><li><code class="inline">:not_found_error?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to return or raise a <code class="inline">NotFound</code> error or to return <code class="inline">nil</code> when a get? action/interface is called.</li><li><code class="inline">:stream?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If true, a stream of the results will be returned The default value is <code class="inline">false</code>.</li><li><code class="inline">:stream_options</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">keyword/0</code></a>) - Options passed to <code class="inline">Ash.stream!</code>, if <code class="inline">stream?: true</code> is given<ul><li><code class="inline">:batch_size</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">integer/0</code></a>) - How many records to request in each query run. Defaults to the pagination limits on the resource, or 250.</li><li><code class="inline">:allow_stream_with</code> - The 'worst' strategy allowed to be used to fetch records. See <a href="https://hexdocs.pm/ash/3.7.6/Ash.html#stream!/2"><code class="inline">Ash.stream!/2</code></a> docs for more. The default value is <code class="inline">:keyset</code>.</li><li><code class="inline">:stream_with</code> - The specific strategy to use to fetch records. See <a href="https://hexdocs.pm/ash/3.7.6/Ash.html#stream!/2"><code class="inline">Ash.stream!/2</code></a> docs for more.</li></ul></li></ul>
  </section>
</section>
<section class="detail" id="search_legislation_title!/3">

    <span id="search_legislation_title!/1"></span>

    <span id="search_legislation_title!/2"></span>

  <div class="detail-header">
    <a href="#search_legislation_title!/3" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">search_legislation_title!(search_term, params \\ nil, opts \\ nil)</h1>


    </div>
  </div>

  <section class="docstring">

<p>Calls the search_title action on EhsEnforcement.Enforcement.Legislation.
Raises any errors instead of returning them</p><h1>Arguments</h1><ul><li>search_term</li></ul><h2 id="search_legislation_title!/3-options" class="section-heading"><a href="#search_legislation_title!/3-options" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Options</span></h2><ul><li><code class="inline">:page</code> - Pagination options, see <a href="https://hexdocs.pm/ash/3.7.6/Ash.html#read/2"><code class="inline">Ash.read/2</code></a> for more.</li><li><code class="inline">:load</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A load statement to add onto the query</li><li><code class="inline">:max_concurrency</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">non_neg_integer/0</code></a>) - The maximum number of processes allowed to be started for parallel loading of relationships and calculations. Defaults to <code class="inline">System.schedulers_online() * 2</code></li><li><code class="inline">:lock</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A lock statement to add onto the query</li><li><code class="inline">:return_query?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If <code class="inline">true</code>, the query that was ultimately used is returned as a third tuple element.<br/>The query goes through many potential changes during a request, potentially adding
authorization filters, or replacing relationships for other data layers with their
corresponding ids. This option can be used to get the true query that was sent to
the data layer. The default value is <code class="inline">false</code>.</li><li><code class="inline">:skip_unknown_inputs</code> - A list of inputs that, if provided, will be ignored if they are not recognized by the action. Use <code class="inline">:*</code> to indicate all unknown keys.</li><li><code class="inline">:reuse_values?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether calculations are allowed to reuse values that have already been loaded, or must refetch them from the data layer. The default value is <code class="inline">false</code>.</li><li><code class="inline">:strict?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If set to true, only specified attributes will be loaded when passing
  a list of fields to fetch on a relationship, which allows for more
  optimized data-fetching.<br/>  See <a href="https://hexdocs.pm/ash/3.7.6/Ash.Query.html#load/2"><code class="inline">Ash.Query.load/2</code></a>. The default value is <code class="inline">false</code>.</li><li><code class="inline">:authorize_with</code> - If set to <code class="inline">:error</code>, instead of applying authorization filters as a filter, any records not matching the authorization filter will cause an error to be returned. Valid values are :filter, :error The default value is <code class="inline">:filter</code>.</li><li><code class="inline">:timeout</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">timeout/0</code></a>) - A positive integer, or <code class="inline">:infinity</code>. If none is provided, the timeout configured on the domain is used.</li><li><code class="inline">:tracer</code> (one or a list of module that adopts <a href="https://hexdocs.pm/ash/3.7.6/Ash.Tracer.html"><code class="inline">Ash.Tracer</code></a>) - A tracer that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.Tracer.html"><code class="inline">Ash.Tracer</code></a> behaviour. See that module for more.</li><li><code class="inline">:action</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - The action to use, either an Action struct or the name of the action</li><li><code class="inline">:authorize?</code> - If an actor option is provided (even if it is <code class="inline">nil</code>), authorization happens automatically. If not, this flag can be used to authorize with no user.</li><li><code class="inline">:context</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">map/0</code></a>) - Context to set on the query, changeset, or input</li><li><code class="inline">:tenant</code> (value that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.ToTenant.html"><code class="inline">Ash.ToTenant</code></a> protocol) - A tenant to set on the query or changeset</li><li><code class="inline">:actor</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - If an actor is provided, it will be used in conjunction with the authorizers of a resource to authorize access</li><li><code class="inline">:scope</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A value that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> protocol, for passing around actor/tenant/context in a single value. See <a href="https://hexdocs.pm/ash/3.7.6/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> for more.</li><li><code class="inline">:query</code> - A query to seed the action with.</li><li><code class="inline">:not_found_error?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to return or raise a <code class="inline">NotFound</code> error or to return <code class="inline">nil</code> when a get? action/interface is called.</li><li><code class="inline">:stream?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If true, a stream of the results will be returned The default value is <code class="inline">false</code>.</li><li><code class="inline">:stream_options</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">keyword/0</code></a>) - Options passed to <code class="inline">Ash.stream!</code>, if <code class="inline">stream?: true</code> is given<ul><li><code class="inline">:batch_size</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">integer/0</code></a>) - How many records to request in each query run. Defaults to the pagination limits on the resource, or 250.</li><li><code class="inline">:allow_stream_with</code> - The 'worst' strategy allowed to be used to fetch records. See <a href="https://hexdocs.pm/ash/3.7.6/Ash.html#stream!/2"><code class="inline">Ash.stream!/2</code></a> docs for more. The default value is <code class="inline">:keyset</code>.</li><li><code class="inline">:stream_with</code> - The specific strategy to use to fetch records. See <a href="https://hexdocs.pm/ash/3.7.6/Ash.html#stream!/2"><code class="inline">Ash.stream!/2</code></a> docs for more.</li></ul></li></ul>
  </section>
</section>
<section class="detail" id="search_offence_description/3">

    <span id="search_offence_description/1"></span>

    <span id="search_offence_description/2"></span>

  <div class="detail-header">
    <a href="#search_offence_description/3" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">search_offence_description(search_term, params \\ nil, opts \\ nil)</h1>


    </div>
  </div>

  <section class="docstring">

<p>Calls the search_description action on EhsEnforcement.Enforcement.Offence.</p><h1>Arguments</h1><ul><li>search_term</li></ul><h2 id="search_offence_description/3-options" class="section-heading"><a href="#search_offence_description/3-options" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Options</span></h2><ul><li><code class="inline">:page</code> - Pagination options, see <a href="https://hexdocs.pm/ash/3.7.6/Ash.html#read/2"><code class="inline">Ash.read/2</code></a> for more.</li><li><code class="inline">:load</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A load statement to add onto the query</li><li><code class="inline">:max_concurrency</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">non_neg_integer/0</code></a>) - The maximum number of processes allowed to be started for parallel loading of relationships and calculations. Defaults to <code class="inline">System.schedulers_online() * 2</code></li><li><code class="inline">:lock</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A lock statement to add onto the query</li><li><code class="inline">:return_query?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If <code class="inline">true</code>, the query that was ultimately used is returned as a third tuple element.<br/>The query goes through many potential changes during a request, potentially adding
authorization filters, or replacing relationships for other data layers with their
corresponding ids. This option can be used to get the true query that was sent to
the data layer. The default value is <code class="inline">false</code>.</li><li><code class="inline">:skip_unknown_inputs</code> - A list of inputs that, if provided, will be ignored if they are not recognized by the action. Use <code class="inline">:*</code> to indicate all unknown keys.</li><li><code class="inline">:reuse_values?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether calculations are allowed to reuse values that have already been loaded, or must refetch them from the data layer. The default value is <code class="inline">false</code>.</li><li><code class="inline">:strict?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If set to true, only specified attributes will be loaded when passing
  a list of fields to fetch on a relationship, which allows for more
  optimized data-fetching.<br/>  See <a href="https://hexdocs.pm/ash/3.7.6/Ash.Query.html#load/2"><code class="inline">Ash.Query.load/2</code></a>. The default value is <code class="inline">false</code>.</li><li><code class="inline">:authorize_with</code> - If set to <code class="inline">:error</code>, instead of applying authorization filters as a filter, any records not matching the authorization filter will cause an error to be returned. Valid values are :filter, :error The default value is <code class="inline">:filter</code>.</li><li><code class="inline">:timeout</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">timeout/0</code></a>) - A positive integer, or <code class="inline">:infinity</code>. If none is provided, the timeout configured on the domain is used.</li><li><code class="inline">:tracer</code> (one or a list of module that adopts <a href="https://hexdocs.pm/ash/3.7.6/Ash.Tracer.html"><code class="inline">Ash.Tracer</code></a>) - A tracer that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.Tracer.html"><code class="inline">Ash.Tracer</code></a> behaviour. See that module for more.</li><li><code class="inline">:action</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - The action to use, either an Action struct or the name of the action</li><li><code class="inline">:authorize?</code> - If an actor option is provided (even if it is <code class="inline">nil</code>), authorization happens automatically. If not, this flag can be used to authorize with no user.</li><li><code class="inline">:context</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">map/0</code></a>) - Context to set on the query, changeset, or input</li><li><code class="inline">:tenant</code> (value that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.ToTenant.html"><code class="inline">Ash.ToTenant</code></a> protocol) - A tenant to set on the query or changeset</li><li><code class="inline">:actor</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - If an actor is provided, it will be used in conjunction with the authorizers of a resource to authorize access</li><li><code class="inline">:scope</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A value that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> protocol, for passing around actor/tenant/context in a single value. See <a href="https://hexdocs.pm/ash/3.7.6/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> for more.</li><li><code class="inline">:query</code> - A query to seed the action with.</li><li><code class="inline">:not_found_error?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to return or raise a <code class="inline">NotFound</code> error or to return <code class="inline">nil</code> when a get? action/interface is called.</li><li><code class="inline">:stream?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If true, a stream of the results will be returned The default value is <code class="inline">false</code>.</li><li><code class="inline">:stream_options</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">keyword/0</code></a>) - Options passed to <code class="inline">Ash.stream!</code>, if <code class="inline">stream?: true</code> is given<ul><li><code class="inline">:batch_size</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">integer/0</code></a>) - How many records to request in each query run. Defaults to the pagination limits on the resource, or 250.</li><li><code class="inline">:allow_stream_with</code> - The 'worst' strategy allowed to be used to fetch records. See <a href="https://hexdocs.pm/ash/3.7.6/Ash.html#stream!/2"><code class="inline">Ash.stream!/2</code></a> docs for more. The default value is <code class="inline">:keyset</code>.</li><li><code class="inline">:stream_with</code> - The specific strategy to use to fetch records. See <a href="https://hexdocs.pm/ash/3.7.6/Ash.html#stream!/2"><code class="inline">Ash.stream!/2</code></a> docs for more.</li></ul></li></ul>
  </section>
</section>
<section class="detail" id="search_offence_description!/3">

    <span id="search_offence_description!/1"></span>

    <span id="search_offence_description!/2"></span>

  <div class="detail-header">
    <a href="#search_offence_description!/3" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">search_offence_description!(search_term, params \\ nil, opts \\ nil)</h1>


    </div>
  </div>

  <section class="docstring">

<p>Calls the search_description action on EhsEnforcement.Enforcement.Offence.
Raises any errors instead of returning them</p><h1>Arguments</h1><ul><li>search_term</li></ul><h2 id="search_offence_description!/3-options" class="section-heading"><a href="#search_offence_description!/3-options" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Options</span></h2><ul><li><code class="inline">:page</code> - Pagination options, see <a href="https://hexdocs.pm/ash/3.7.6/Ash.html#read/2"><code class="inline">Ash.read/2</code></a> for more.</li><li><code class="inline">:load</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A load statement to add onto the query</li><li><code class="inline">:max_concurrency</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">non_neg_integer/0</code></a>) - The maximum number of processes allowed to be started for parallel loading of relationships and calculations. Defaults to <code class="inline">System.schedulers_online() * 2</code></li><li><code class="inline">:lock</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A lock statement to add onto the query</li><li><code class="inline">:return_query?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If <code class="inline">true</code>, the query that was ultimately used is returned as a third tuple element.<br/>The query goes through many potential changes during a request, potentially adding
authorization filters, or replacing relationships for other data layers with their
corresponding ids. This option can be used to get the true query that was sent to
the data layer. The default value is <code class="inline">false</code>.</li><li><code class="inline">:skip_unknown_inputs</code> - A list of inputs that, if provided, will be ignored if they are not recognized by the action. Use <code class="inline">:*</code> to indicate all unknown keys.</li><li><code class="inline">:reuse_values?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether calculations are allowed to reuse values that have already been loaded, or must refetch them from the data layer. The default value is <code class="inline">false</code>.</li><li><code class="inline">:strict?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If set to true, only specified attributes will be loaded when passing
  a list of fields to fetch on a relationship, which allows for more
  optimized data-fetching.<br/>  See <a href="https://hexdocs.pm/ash/3.7.6/Ash.Query.html#load/2"><code class="inline">Ash.Query.load/2</code></a>. The default value is <code class="inline">false</code>.</li><li><code class="inline">:authorize_with</code> - If set to <code class="inline">:error</code>, instead of applying authorization filters as a filter, any records not matching the authorization filter will cause an error to be returned. Valid values are :filter, :error The default value is <code class="inline">:filter</code>.</li><li><code class="inline">:timeout</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">timeout/0</code></a>) - A positive integer, or <code class="inline">:infinity</code>. If none is provided, the timeout configured on the domain is used.</li><li><code class="inline">:tracer</code> (one or a list of module that adopts <a href="https://hexdocs.pm/ash/3.7.6/Ash.Tracer.html"><code class="inline">Ash.Tracer</code></a>) - A tracer that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.Tracer.html"><code class="inline">Ash.Tracer</code></a> behaviour. See that module for more.</li><li><code class="inline">:action</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - The action to use, either an Action struct or the name of the action</li><li><code class="inline">:authorize?</code> - If an actor option is provided (even if it is <code class="inline">nil</code>), authorization happens automatically. If not, this flag can be used to authorize with no user.</li><li><code class="inline">:context</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">map/0</code></a>) - Context to set on the query, changeset, or input</li><li><code class="inline">:tenant</code> (value that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.ToTenant.html"><code class="inline">Ash.ToTenant</code></a> protocol) - A tenant to set on the query or changeset</li><li><code class="inline">:actor</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - If an actor is provided, it will be used in conjunction with the authorizers of a resource to authorize access</li><li><code class="inline">:scope</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A value that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> protocol, for passing around actor/tenant/context in a single value. See <a href="https://hexdocs.pm/ash/3.7.6/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> for more.</li><li><code class="inline">:query</code> - A query to seed the action with.</li><li><code class="inline">:not_found_error?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to return or raise a <code class="inline">NotFound</code> error or to return <code class="inline">nil</code> when a get? action/interface is called.</li><li><code class="inline">:stream?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If true, a stream of the results will be returned The default value is <code class="inline">false</code>.</li><li><code class="inline">:stream_options</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">keyword/0</code></a>) - Options passed to <code class="inline">Ash.stream!</code>, if <code class="inline">stream?: true</code> is given<ul><li><code class="inline">:batch_size</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">integer/0</code></a>) - How many records to request in each query run. Defaults to the pagination limits on the resource, or 250.</li><li><code class="inline">:allow_stream_with</code> - The 'worst' strategy allowed to be used to fetch records. See <a href="https://hexdocs.pm/ash/3.7.6/Ash.html#stream!/2"><code class="inline">Ash.stream!/2</code></a> docs for more. The default value is <code class="inline">:keyset</code>.</li><li><code class="inline">:stream_with</code> - The specific strategy to use to fetch records. See <a href="https://hexdocs.pm/ash/3.7.6/Ash.html#stream!/2"><code class="inline">Ash.stream!/2</code></a> docs for more.</li></ul></li></ul>
  </section>
</section>
<section class="detail" id="search_offenders/3">

    <span id="search_offenders/1"></span>

    <span id="search_offenders/2"></span>

  <div class="detail-header">
    <a href="#search_offenders/3" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">search_offenders(query, params \\ nil, opts \\ nil)</h1>


    </div>
  </div>

  <section class="docstring">

<p>Calls the search action on EhsEnforcement.Enforcement.Offender.</p><h1>Arguments</h1><ul><li>query</li></ul><h2 id="search_offenders/3-options" class="section-heading"><a href="#search_offenders/3-options" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Options</span></h2><ul><li><code class="inline">:page</code> - Pagination options, see <a href="https://hexdocs.pm/ash/3.7.6/Ash.html#read/2"><code class="inline">Ash.read/2</code></a> for more.</li><li><code class="inline">:load</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A load statement to add onto the query</li><li><code class="inline">:max_concurrency</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">non_neg_integer/0</code></a>) - The maximum number of processes allowed to be started for parallel loading of relationships and calculations. Defaults to <code class="inline">System.schedulers_online() * 2</code></li><li><code class="inline">:lock</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A lock statement to add onto the query</li><li><code class="inline">:return_query?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If <code class="inline">true</code>, the query that was ultimately used is returned as a third tuple element.<br/>The query goes through many potential changes during a request, potentially adding
authorization filters, or replacing relationships for other data layers with their
corresponding ids. This option can be used to get the true query that was sent to
the data layer. The default value is <code class="inline">false</code>.</li><li><code class="inline">:skip_unknown_inputs</code> - A list of inputs that, if provided, will be ignored if they are not recognized by the action. Use <code class="inline">:*</code> to indicate all unknown keys.</li><li><code class="inline">:reuse_values?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether calculations are allowed to reuse values that have already been loaded, or must refetch them from the data layer. The default value is <code class="inline">false</code>.</li><li><code class="inline">:strict?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If set to true, only specified attributes will be loaded when passing
  a list of fields to fetch on a relationship, which allows for more
  optimized data-fetching.<br/>  See <a href="https://hexdocs.pm/ash/3.7.6/Ash.Query.html#load/2"><code class="inline">Ash.Query.load/2</code></a>. The default value is <code class="inline">false</code>.</li><li><code class="inline">:authorize_with</code> - If set to <code class="inline">:error</code>, instead of applying authorization filters as a filter, any records not matching the authorization filter will cause an error to be returned. Valid values are :filter, :error The default value is <code class="inline">:filter</code>.</li><li><code class="inline">:timeout</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">timeout/0</code></a>) - A positive integer, or <code class="inline">:infinity</code>. If none is provided, the timeout configured on the domain is used.</li><li><code class="inline">:tracer</code> (one or a list of module that adopts <a href="https://hexdocs.pm/ash/3.7.6/Ash.Tracer.html"><code class="inline">Ash.Tracer</code></a>) - A tracer that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.Tracer.html"><code class="inline">Ash.Tracer</code></a> behaviour. See that module for more.</li><li><code class="inline">:action</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - The action to use, either an Action struct or the name of the action</li><li><code class="inline">:authorize?</code> - If an actor option is provided (even if it is <code class="inline">nil</code>), authorization happens automatically. If not, this flag can be used to authorize with no user.</li><li><code class="inline">:context</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">map/0</code></a>) - Context to set on the query, changeset, or input</li><li><code class="inline">:tenant</code> (value that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.ToTenant.html"><code class="inline">Ash.ToTenant</code></a> protocol) - A tenant to set on the query or changeset</li><li><code class="inline">:actor</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - If an actor is provided, it will be used in conjunction with the authorizers of a resource to authorize access</li><li><code class="inline">:scope</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A value that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> protocol, for passing around actor/tenant/context in a single value. See <a href="https://hexdocs.pm/ash/3.7.6/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> for more.</li><li><code class="inline">:query</code> - A query to seed the action with.</li><li><code class="inline">:not_found_error?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to return or raise a <code class="inline">NotFound</code> error or to return <code class="inline">nil</code> when a get? action/interface is called.</li><li><code class="inline">:stream?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If true, a stream of the results will be returned The default value is <code class="inline">false</code>.</li><li><code class="inline">:stream_options</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">keyword/0</code></a>) - Options passed to <code class="inline">Ash.stream!</code>, if <code class="inline">stream?: true</code> is given<ul><li><code class="inline">:batch_size</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">integer/0</code></a>) - How many records to request in each query run. Defaults to the pagination limits on the resource, or 250.</li><li><code class="inline">:allow_stream_with</code> - The 'worst' strategy allowed to be used to fetch records. See <a href="https://hexdocs.pm/ash/3.7.6/Ash.html#stream!/2"><code class="inline">Ash.stream!/2</code></a> docs for more. The default value is <code class="inline">:keyset</code>.</li><li><code class="inline">:stream_with</code> - The specific strategy to use to fetch records. See <a href="https://hexdocs.pm/ash/3.7.6/Ash.html#stream!/2"><code class="inline">Ash.stream!/2</code></a> docs for more.</li></ul></li></ul>
  </section>
</section>
<section class="detail" id="search_offenders!/3">

    <span id="search_offenders!/1"></span>

    <span id="search_offenders!/2"></span>

  <div class="detail-header">
    <a href="#search_offenders!/3" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">search_offenders!(query, params \\ nil, opts \\ nil)</h1>


    </div>
  </div>

  <section class="docstring">

<p>Calls the search action on EhsEnforcement.Enforcement.Offender.
Raises any errors instead of returning them</p><h1>Arguments</h1><ul><li>query</li></ul><h2 id="search_offenders!/3-options" class="section-heading"><a href="#search_offenders!/3-options" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Options</span></h2><ul><li><code class="inline">:page</code> - Pagination options, see <a href="https://hexdocs.pm/ash/3.7.6/Ash.html#read/2"><code class="inline">Ash.read/2</code></a> for more.</li><li><code class="inline">:load</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A load statement to add onto the query</li><li><code class="inline">:max_concurrency</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">non_neg_integer/0</code></a>) - The maximum number of processes allowed to be started for parallel loading of relationships and calculations. Defaults to <code class="inline">System.schedulers_online() * 2</code></li><li><code class="inline">:lock</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A lock statement to add onto the query</li><li><code class="inline">:return_query?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If <code class="inline">true</code>, the query that was ultimately used is returned as a third tuple element.<br/>The query goes through many potential changes during a request, potentially adding
authorization filters, or replacing relationships for other data layers with their
corresponding ids. This option can be used to get the true query that was sent to
the data layer. The default value is <code class="inline">false</code>.</li><li><code class="inline">:skip_unknown_inputs</code> - A list of inputs that, if provided, will be ignored if they are not recognized by the action. Use <code class="inline">:*</code> to indicate all unknown keys.</li><li><code class="inline">:reuse_values?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether calculations are allowed to reuse values that have already been loaded, or must refetch them from the data layer. The default value is <code class="inline">false</code>.</li><li><code class="inline">:strict?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If set to true, only specified attributes will be loaded when passing
  a list of fields to fetch on a relationship, which allows for more
  optimized data-fetching.<br/>  See <a href="https://hexdocs.pm/ash/3.7.6/Ash.Query.html#load/2"><code class="inline">Ash.Query.load/2</code></a>. The default value is <code class="inline">false</code>.</li><li><code class="inline">:authorize_with</code> - If set to <code class="inline">:error</code>, instead of applying authorization filters as a filter, any records not matching the authorization filter will cause an error to be returned. Valid values are :filter, :error The default value is <code class="inline">:filter</code>.</li><li><code class="inline">:timeout</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">timeout/0</code></a>) - A positive integer, or <code class="inline">:infinity</code>. If none is provided, the timeout configured on the domain is used.</li><li><code class="inline">:tracer</code> (one or a list of module that adopts <a href="https://hexdocs.pm/ash/3.7.6/Ash.Tracer.html"><code class="inline">Ash.Tracer</code></a>) - A tracer that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.Tracer.html"><code class="inline">Ash.Tracer</code></a> behaviour. See that module for more.</li><li><code class="inline">:action</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - The action to use, either an Action struct or the name of the action</li><li><code class="inline">:authorize?</code> - If an actor option is provided (even if it is <code class="inline">nil</code>), authorization happens automatically. If not, this flag can be used to authorize with no user.</li><li><code class="inline">:context</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">map/0</code></a>) - Context to set on the query, changeset, or input</li><li><code class="inline">:tenant</code> (value that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.ToTenant.html"><code class="inline">Ash.ToTenant</code></a> protocol) - A tenant to set on the query or changeset</li><li><code class="inline">:actor</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - If an actor is provided, it will be used in conjunction with the authorizers of a resource to authorize access</li><li><code class="inline">:scope</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A value that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> protocol, for passing around actor/tenant/context in a single value. See <a href="https://hexdocs.pm/ash/3.7.6/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> for more.</li><li><code class="inline">:query</code> - A query to seed the action with.</li><li><code class="inline">:not_found_error?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to return or raise a <code class="inline">NotFound</code> error or to return <code class="inline">nil</code> when a get? action/interface is called.</li><li><code class="inline">:stream?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If true, a stream of the results will be returned The default value is <code class="inline">false</code>.</li><li><code class="inline">:stream_options</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">keyword/0</code></a>) - Options passed to <code class="inline">Ash.stream!</code>, if <code class="inline">stream?: true</code> is given<ul><li><code class="inline">:batch_size</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">integer/0</code></a>) - How many records to request in each query run. Defaults to the pagination limits on the resource, or 250.</li><li><code class="inline">:allow_stream_with</code> - The 'worst' strategy allowed to be used to fetch records. See <a href="https://hexdocs.pm/ash/3.7.6/Ash.html#stream!/2"><code class="inline">Ash.stream!/2</code></a> docs for more. The default value is <code class="inline">:keyset</code>.</li><li><code class="inline">:stream_with</code> - The specific strategy to use to fetch records. See <a href="https://hexdocs.pm/ash/3.7.6/Ash.html#stream!/2"><code class="inline">Ash.stream!/2</code></a> docs for more.</li></ul></li></ul>
  </section>
</section>
<section class="detail" id="stream!/2">

    <span id="stream!/1"></span>

  <div class="detail-header">
    <a href="#stream!/2" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">stream!(query, opts \\ [])</h1>


    </div>
  </div>

    <div class="deprecated">
      This function is deprecated. Use `Ash.stream!/2` instead.
    </div>

  <section class="docstring">


  </section>
</section>
<section class="detail" id="sum/3">

    <span id="sum/2"></span>

  <div class="detail-header">
    <a href="#sum/3" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">sum(query, field, opts \\ [])</h1>


    </div>
  </div>

    <div class="deprecated">
      This function is deprecated. Use `Ash.sum/3` instead.
    </div>

  <section class="docstring">


  </section>
</section>
<section class="detail" id="sum!/3">

    <span id="sum!/2"></span>

  <div class="detail-header">
    <a href="#sum!/3" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">sum!(query, field, opts \\ [])</h1>


    </div>
  </div>

    <div class="deprecated">
      This function is deprecated. Use `Ash.sum!/3` instead.
    </div>

  <section class="docstring">


  </section>
</section>
<section class="detail" id="sync_and_merge_offenders/2">

  <div class="detail-header">
    <a href="#sync_and_merge_offenders/2" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">sync_and_merge_offenders(master_id, duplicate_ids)</h1>


    </div>
  </div>

  <section class="docstring">

<p>Execute the merge operation to combine duplicate offenders.</p><p>Calls the sync_and_merge_duplicates Ash action on the master record.</p><h2 id="sync_and_merge_offenders/2-parameters" class="section-heading"><a href="#sync_and_merge_offenders/2-parameters" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Parameters</span></h2><ul><li><code class="inline">master_id</code> - UUID of the offender to keep</li><li><code class="inline">duplicate_ids</code> - List of UUIDs of offenders to merge and delete</li></ul><h2 id="sync_and_merge_offenders/2-returns" class="section-heading"><a href="#sync_and_merge_offenders/2-returns" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Returns</span></h2><ul><li><code class="inline">{:ok, merged_offender}</code> - Successfully merged offender with updated data</li><li><code class="inline">{:error, reason}</code> - Merge failed (transaction rolled back)</li></ul><h2 id="sync_and_merge_offenders/2-examples" class="section-heading"><a href="#sync_and_merge_offenders/2-examples" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Examples</span></h2><pre><code class="makeup elixir" translate="no"><span class="gp unselectable">iex&gt; </span><span class="n">sync_and_merge_offenders</span><span class="p" data-group-id="7031731777-1">(</span><span class="n">master_id</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="7031731777-2">[</span><span class="n">duplicate_id1</span><span class="p">,</span><span class="w"> </span><span class="n">duplicate_id2</span><span class="p" data-group-id="7031731777-2">]</span><span class="p" data-group-id="7031731777-1">)</span><span class="w">
</span><span class="p" data-group-id="7031731777-3">{</span><span class="ss">:ok</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="7031731777-4">%</span><span class="nc" data-group-id="7031731777-4">Offender</span><span class="p" data-group-id="7031731777-4">{</span><span class="ss">name</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;WRG WASTE SERVICES LIMITED&quot;</span><span class="p">,</span><span class="w"> </span><span class="ss">total_cases</span><span class="p">:</span><span class="w"> </span><span class="mi">5</span><span class="p">,</span><span class="w"> </span><span class="n">...</span><span class="p" data-group-id="7031731777-4">}</span><span class="p" data-group-id="7031731777-3">}</span></code></pre>
  </section>
</section>
<section class="detail" id="sync_case_from_airtable/3">

    <span id="sync_case_from_airtable/1"></span>

    <span id="sync_case_from_airtable/2"></span>

  <div class="detail-header">
    <a href="#sync_case_from_airtable/3" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">sync_case_from_airtable(record, params \\ nil, opts \\ nil)</h1>


    </div>
  </div>

  <section class="docstring">

<p>Calls the sync_from_airtable action on EhsEnforcement.Enforcement.Case.</p><h1>Inputs</h1><ul><li>url</li><li>offence_fine</li><li>offence_result</li><li>offence_costs</li><li>offence_hearing_date</li><li>related_cases</li></ul><h2 id="sync_case_from_airtable/3-options" class="section-heading"><a href="#sync_case_from_airtable/3-options" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Options</span></h2><ul><li><code class="inline">:params</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">map/0</code></a>) - Parameters to supply, ignored if the input is a changeset, only used when an identifier is given.</li><li><code class="inline">:atomic_upgrade?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If true the action will be done atomically if it can (and is configured to do so), ignoring the in memory transformations and validations. You should not generally need to disable this. The default value is <code class="inline">true</code>.</li><li><code class="inline">:timeout</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">timeout/0</code></a>) - A positive integer, or <code class="inline">:infinity</code>. If none is provided, the timeout configured on the domain is used.</li><li><code class="inline">:tracer</code> (one or a list of module that adopts <a href="https://hexdocs.pm/ash/3.7.6/Ash.Tracer.html"><code class="inline">Ash.Tracer</code></a>) - A tracer that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.Tracer.html"><code class="inline">Ash.Tracer</code></a> behaviour. See that module for more.</li><li><code class="inline">:action</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - The action to use, either an Action struct or the name of the action</li><li><code class="inline">:authorize?</code> - If an actor option is provided (even if it is <code class="inline">nil</code>), authorization happens automatically. If not, this flag can be used to authorize with no user.</li><li><code class="inline">:context</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">map/0</code></a>) - Context to set on the query, changeset, or input</li><li><code class="inline">:tenant</code> (value that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.ToTenant.html"><code class="inline">Ash.ToTenant</code></a> protocol) - A tenant to set on the query or changeset</li><li><code class="inline">:actor</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - If an actor is provided, it will be used in conjunction with the authorizers of a resource to authorize access</li><li><code class="inline">:scope</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A value that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> protocol, for passing around actor/tenant/context in a single value. See <a href="https://hexdocs.pm/ash/3.7.6/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> for more.</li><li><code class="inline">:return_notifications?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Use this if you're running ash actions in your own transaction and you want to manually handle sending notifications.<br/>If a transaction is ongoing, and this is false, notifications will be discarded, otherwise
the return value is <code class="inline">{:ok, result, notifications}</code> (or <code class="inline">{:ok, notifications}</code>)<br/>To send notifications later, use <code class="inline">Ash.Notifier.notify(notifications)</code>. It sends any notifications
that can be sent, and returns the rest. The default value is <code class="inline">false</code>.</li><li><code class="inline">:rollback_on_error?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to rollback the transaction on error, if the resource is in a transaction.<br/>If the action has <code class="inline">transaction? false</code> this option has no effect. If an error is returned from the
data layer and the resource is in a transaction, the transaction is always rolled back, regardless. The default value is <code class="inline">true</code>.</li><li><code class="inline">:notification_metadata</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - Metadata to be merged into the metadata field for all notifications sent from this operation. The default value is <code class="inline">%{}</code>.</li><li><code class="inline">:skip_unknown_inputs</code> - A list of inputs that, if provided, will be ignored if they are not recognized by the action. Use <code class="inline">:*</code> to indicate all unknown keys.</li><li><code class="inline">:load</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A load statement to add onto the changeset</li><li><code class="inline">:bulk_options</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">keyword/0</code></a>) - Options passed to <code class="inline">Ash.bulk_update</code>, if a query, list, or stream of inputs is provided.<ul><li><code class="inline">:atomic_update</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">map/0</code></a>) - A map of atomic updates to apply. See <a href="https://hexdocs.pm/ash/3.7.6/Ash.Changeset.html#atomic_update/3"><code class="inline">Ash.Changeset.atomic_update/3</code></a> for more.</li><li><code class="inline">:stream_batch_size</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">integer/0</code></a>) - Batch size to use if provided a query and the query must be streamed</li><li><code class="inline">:allow_stream_with</code> - The 'worst' strategy allowed to be used to fetch records if the <code class="inline">:stream</code> strategy is chosen. See the <a href="https://hexdocs.pm/ash/3.7.6/Ash.html#stream!/2"><code class="inline">Ash.stream!/2</code></a> docs for more. The default value is <code class="inline">:keyset</code>.</li><li><code class="inline">:authorize_query?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If a query is given, determines whether or not authorization is run on that query. The default value is <code class="inline">true</code>.</li><li><code class="inline">:select</code> (list of <a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - A select statement to apply to records. Ignored if <code class="inline">return_records?</code> is not true.</li><li><code class="inline">:filter</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A filter to apply to records. This is also applied to a stream of inputs.</li><li><code class="inline">:strategy</code> - The strategy or strategies to enable. :stream is used in all cases if the data layer does not support atomics. The default value is <code class="inline">[:atomic]</code>.</li><li><code class="inline">:allow_stream_with</code> - The 'worst' strategy allowed to be used to fetch records. See <a href="https://hexdocs.pm/ash/3.7.6/Ash.html#stream!/2"><code class="inline">Ash.stream!/2</code></a> docs for more. The default value is <code class="inline">:keyset</code>.</li><li><code class="inline">:stream_with</code> - The specific strategy to use to fetch records. See <a href="https://hexdocs.pm/ash/3.7.6/Ash.html#stream!/2"><code class="inline">Ash.stream!/2</code></a> docs for more.</li><li><code class="inline">:max_concurrency</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">non_neg_integer/0</code></a>) - The maximum number of processes allowed to be started for parallel loading of relationships and calculations. Defaults to <code class="inline">System.schedulers_online() * 2</code></li><li><code class="inline">:lock</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A lock statement to add onto the query</li><li><code class="inline">:return_query?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If <code class="inline">true</code>, the query that was ultimately used is returned as a third tuple element.
The query goes through many potential changes during a request, potentially adding
authorization filters, or replacing relationships for other data layers with their
corresponding ids. This option can be used to get the true query that was sent to
the data layer.
The default value is <code class="inline">false</code>.</li><li><code class="inline">:reuse_values?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether calculations are allowed to reuse values that have already been loaded, or must refetch them from the data layer. The default value is <code class="inline">false</code>.</li><li><code class="inline">:strict?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If set to true, only specified attributes will be loaded when passing
  a list of fields to fetch on a relationship, which allows for more
  optimized data-fetching.
  See <a href="https://hexdocs.pm/ash/3.7.6/Ash.Query.html#load/2"><code class="inline">Ash.Query.load/2</code></a>.
The default value is <code class="inline">false</code>.</li><li><code class="inline">:authorize_with</code> - If set to <code class="inline">:error</code>, instead of applying authorization filters as a filter, any records not matching the authorization filter will cause an error to be returned. The default value is <code class="inline">:filter</code>.</li><li><code class="inline">:read_action</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - The action to use when building the read query.</li><li><code class="inline">:assume_casted?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to cast attributes and arguments as input. This is an optimization for cases where the input is already casted and/or not in need of casting The default value is <code class="inline">false</code>.</li><li><code class="inline">:select</code> (list of <a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - A select statement to apply to records. Ignored if <code class="inline">return_records?</code> is not true.</li><li><code class="inline">:authorize_query_with</code> - If set to <code class="inline">:error</code>, instead of filtering unauthorized query results, unauthorized query results will raise an appropriate forbidden error. Uses <code class="inline">authorize_with</code> if not set.</li><li><code class="inline">:authorize_changeset_with</code> - If set to <code class="inline">:error</code>, instead of filtering unauthorized changes, unauthorized changes will raise an appropriate forbidden error. Uses <code class="inline">authorize_with</code> if not set.</li><li><code class="inline">:authorize_with</code> - If set to <code class="inline">:error</code>, instead of filtering unauthorized query results, unauthorized query results will raise an appropriate forbidden error. The default value is <code class="inline">:filter</code>.</li><li><code class="inline">:private_arguments</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">map/0</code></a>) - Private argument values to set on each changeset before validations and changes are run. The default value is <code class="inline">%{}</code>.</li><li><code class="inline">:sorted?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to sort results by their input position, in cases where <code class="inline">return_records?: true</code> was provided. The default value is <code class="inline">false</code>.</li><li><code class="inline">:return_records?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to return all of the records that were inserted. Defaults to false to account for large inserts. The default value is <code class="inline">false</code>.</li><li><code class="inline">:return_errors?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether to return all errors that occur during the operation. Defaults to the value of <code class="inline">:bulk_actions_default_to_errors?</code> in your config, or <code class="inline">false</code> if not set. Returning all errors may be expensive for large inserts. The default value is <code class="inline">false</code>.</li><li><code class="inline">:batch_size</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">pos_integer/0</code></a>) - The number of records to include in each batch. Defaults to the <code class="inline">default_limit</code>
or <code class="inline">max_page_size</code> of the action, or 100.</li><li><code class="inline">:return_stream?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If set to <code class="inline">true</code>, instead of an <a href="https://hexdocs.pm/ash/3.7.6/Ash.BulkResult.html"><code class="inline">Ash.BulkResult</code></a>, a mixed stream is returned.
Potential elements:
<code class="inline">{:notification, notification}</code> - if <code class="inline">return_notifications?</code> is set to <code class="inline">true</code>
<code class="inline">{:ok, record}</code> - if <code class="inline">return_records?</code> is set to <code class="inline">true</code>
<code class="inline">{:error, error}</code> - an error that occurred. May be changeset or an individual error.
The default value is <code class="inline">false</code>.</li><li><code class="inline">:return_nothing?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Mutes warnings about returning nothing.
Only relevant if <code class="inline">return_stream?</code> is set to <code class="inline">true</code> and all other
<code class="inline">return_*?</code> options are set to <code class="inline">false</code>.
The default value is <code class="inline">false</code>.</li><li><code class="inline">:stop_on_error?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If true, the first encountered error will stop the action and be returned. Otherwise, errors
will be skipped. The default value is <code class="inline">false</code>.</li><li><code class="inline">:notify?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to generate any notifications. If this is set to <code class="inline">true</code> then the data layer must return
the results from each batch. This may be intensive for large bulk actions.
Notifications will be automatically sent unless <code class="inline">return_notifications?</code> is set to <code class="inline">true</code>.
The default value is <code class="inline">false</code>.</li><li><code class="inline">:transaction</code> - Whether or not to wrap the entire execution in a transaction, each batch, or not at all.
Keep in mind:
<code class="inline">before_transaction</code> and <code class="inline">after_transaction</code> hooks attached to changesets will have to be run
<em>inside</em> the transaction if you choose <code class="inline">transaction: :all</code>.
The default value is <code class="inline">:batch</code>.</li><li><code class="inline">:max_concurrency</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">non_neg_integer/0</code></a>) - If set to a value greater than 0, up to that many tasks will be started to run batches asynchronously The default value is <code class="inline">0</code>.</li></ul></li><li><code class="inline">:private_arguments</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">map/0</code></a>) - Private argument values to set before validations and changes. The default value is <code class="inline">%{}</code>.</li></ul>
  </section>
</section>
<section class="detail" id="sync_case_from_airtable!/3">

    <span id="sync_case_from_airtable!/1"></span>

    <span id="sync_case_from_airtable!/2"></span>

  <div class="detail-header">
    <a href="#sync_case_from_airtable!/3" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">sync_case_from_airtable!(record, params \\ nil, opts \\ nil)</h1>


    </div>
  </div>

  <section class="docstring">

<p>Calls the sync_from_airtable action on EhsEnforcement.Enforcement.Case.
Raises any errors instead of returning them</p><h1>Inputs</h1><ul><li>url</li><li>offence_fine</li><li>offence_result</li><li>offence_costs</li><li>offence_hearing_date</li><li>related_cases</li></ul><h2 id="sync_case_from_airtable!/3-options" class="section-heading"><a href="#sync_case_from_airtable!/3-options" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Options</span></h2><ul><li><code class="inline">:params</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">map/0</code></a>) - Parameters to supply, ignored if the input is a changeset, only used when an identifier is given.</li><li><code class="inline">:atomic_upgrade?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If true the action will be done atomically if it can (and is configured to do so), ignoring the in memory transformations and validations. You should not generally need to disable this. The default value is <code class="inline">true</code>.</li><li><code class="inline">:timeout</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">timeout/0</code></a>) - A positive integer, or <code class="inline">:infinity</code>. If none is provided, the timeout configured on the domain is used.</li><li><code class="inline">:tracer</code> (one or a list of module that adopts <a href="https://hexdocs.pm/ash/3.7.6/Ash.Tracer.html"><code class="inline">Ash.Tracer</code></a>) - A tracer that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.Tracer.html"><code class="inline">Ash.Tracer</code></a> behaviour. See that module for more.</li><li><code class="inline">:action</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - The action to use, either an Action struct or the name of the action</li><li><code class="inline">:authorize?</code> - If an actor option is provided (even if it is <code class="inline">nil</code>), authorization happens automatically. If not, this flag can be used to authorize with no user.</li><li><code class="inline">:context</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">map/0</code></a>) - Context to set on the query, changeset, or input</li><li><code class="inline">:tenant</code> (value that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.ToTenant.html"><code class="inline">Ash.ToTenant</code></a> protocol) - A tenant to set on the query or changeset</li><li><code class="inline">:actor</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - If an actor is provided, it will be used in conjunction with the authorizers of a resource to authorize access</li><li><code class="inline">:scope</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A value that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> protocol, for passing around actor/tenant/context in a single value. See <a href="https://hexdocs.pm/ash/3.7.6/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> for more.</li><li><code class="inline">:return_notifications?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Use this if you're running ash actions in your own transaction and you want to manually handle sending notifications.<br/>If a transaction is ongoing, and this is false, notifications will be discarded, otherwise
the return value is <code class="inline">{:ok, result, notifications}</code> (or <code class="inline">{:ok, notifications}</code>)<br/>To send notifications later, use <code class="inline">Ash.Notifier.notify(notifications)</code>. It sends any notifications
that can be sent, and returns the rest. The default value is <code class="inline">false</code>.</li><li><code class="inline">:rollback_on_error?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to rollback the transaction on error, if the resource is in a transaction.<br/>If the action has <code class="inline">transaction? false</code> this option has no effect. If an error is returned from the
data layer and the resource is in a transaction, the transaction is always rolled back, regardless. The default value is <code class="inline">true</code>.</li><li><code class="inline">:notification_metadata</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - Metadata to be merged into the metadata field for all notifications sent from this operation. The default value is <code class="inline">%{}</code>.</li><li><code class="inline">:skip_unknown_inputs</code> - A list of inputs that, if provided, will be ignored if they are not recognized by the action. Use <code class="inline">:*</code> to indicate all unknown keys.</li><li><code class="inline">:load</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A load statement to add onto the changeset</li><li><code class="inline">:bulk_options</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">keyword/0</code></a>) - Options passed to <code class="inline">Ash.bulk_update</code>, if a query, list, or stream of inputs is provided.<ul><li><code class="inline">:atomic_update</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">map/0</code></a>) - A map of atomic updates to apply. See <a href="https://hexdocs.pm/ash/3.7.6/Ash.Changeset.html#atomic_update/3"><code class="inline">Ash.Changeset.atomic_update/3</code></a> for more.</li><li><code class="inline">:stream_batch_size</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">integer/0</code></a>) - Batch size to use if provided a query and the query must be streamed</li><li><code class="inline">:allow_stream_with</code> - The 'worst' strategy allowed to be used to fetch records if the <code class="inline">:stream</code> strategy is chosen. See the <a href="https://hexdocs.pm/ash/3.7.6/Ash.html#stream!/2"><code class="inline">Ash.stream!/2</code></a> docs for more. The default value is <code class="inline">:keyset</code>.</li><li><code class="inline">:authorize_query?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If a query is given, determines whether or not authorization is run on that query. The default value is <code class="inline">true</code>.</li><li><code class="inline">:select</code> (list of <a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - A select statement to apply to records. Ignored if <code class="inline">return_records?</code> is not true.</li><li><code class="inline">:filter</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A filter to apply to records. This is also applied to a stream of inputs.</li><li><code class="inline">:strategy</code> - The strategy or strategies to enable. :stream is used in all cases if the data layer does not support atomics. The default value is <code class="inline">[:atomic]</code>.</li><li><code class="inline">:allow_stream_with</code> - The 'worst' strategy allowed to be used to fetch records. See <a href="https://hexdocs.pm/ash/3.7.6/Ash.html#stream!/2"><code class="inline">Ash.stream!/2</code></a> docs for more. The default value is <code class="inline">:keyset</code>.</li><li><code class="inline">:stream_with</code> - The specific strategy to use to fetch records. See <a href="https://hexdocs.pm/ash/3.7.6/Ash.html#stream!/2"><code class="inline">Ash.stream!/2</code></a> docs for more.</li><li><code class="inline">:max_concurrency</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">non_neg_integer/0</code></a>) - The maximum number of processes allowed to be started for parallel loading of relationships and calculations. Defaults to <code class="inline">System.schedulers_online() * 2</code></li><li><code class="inline">:lock</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A lock statement to add onto the query</li><li><code class="inline">:return_query?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If <code class="inline">true</code>, the query that was ultimately used is returned as a third tuple element.
The query goes through many potential changes during a request, potentially adding
authorization filters, or replacing relationships for other data layers with their
corresponding ids. This option can be used to get the true query that was sent to
the data layer.
The default value is <code class="inline">false</code>.</li><li><code class="inline">:reuse_values?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether calculations are allowed to reuse values that have already been loaded, or must refetch them from the data layer. The default value is <code class="inline">false</code>.</li><li><code class="inline">:strict?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If set to true, only specified attributes will be loaded when passing
  a list of fields to fetch on a relationship, which allows for more
  optimized data-fetching.
  See <a href="https://hexdocs.pm/ash/3.7.6/Ash.Query.html#load/2"><code class="inline">Ash.Query.load/2</code></a>.
The default value is <code class="inline">false</code>.</li><li><code class="inline">:authorize_with</code> - If set to <code class="inline">:error</code>, instead of applying authorization filters as a filter, any records not matching the authorization filter will cause an error to be returned. The default value is <code class="inline">:filter</code>.</li><li><code class="inline">:read_action</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - The action to use when building the read query.</li><li><code class="inline">:assume_casted?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to cast attributes and arguments as input. This is an optimization for cases where the input is already casted and/or not in need of casting The default value is <code class="inline">false</code>.</li><li><code class="inline">:select</code> (list of <a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - A select statement to apply to records. Ignored if <code class="inline">return_records?</code> is not true.</li><li><code class="inline">:authorize_query_with</code> - If set to <code class="inline">:error</code>, instead of filtering unauthorized query results, unauthorized query results will raise an appropriate forbidden error. Uses <code class="inline">authorize_with</code> if not set.</li><li><code class="inline">:authorize_changeset_with</code> - If set to <code class="inline">:error</code>, instead of filtering unauthorized changes, unauthorized changes will raise an appropriate forbidden error. Uses <code class="inline">authorize_with</code> if not set.</li><li><code class="inline">:authorize_with</code> - If set to <code class="inline">:error</code>, instead of filtering unauthorized query results, unauthorized query results will raise an appropriate forbidden error. The default value is <code class="inline">:filter</code>.</li><li><code class="inline">:private_arguments</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">map/0</code></a>) - Private argument values to set on each changeset before validations and changes are run. The default value is <code class="inline">%{}</code>.</li><li><code class="inline">:sorted?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to sort results by their input position, in cases where <code class="inline">return_records?: true</code> was provided. The default value is <code class="inline">false</code>.</li><li><code class="inline">:return_records?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to return all of the records that were inserted. Defaults to false to account for large inserts. The default value is <code class="inline">false</code>.</li><li><code class="inline">:return_errors?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether to return all errors that occur during the operation. Defaults to the value of <code class="inline">:bulk_actions_default_to_errors?</code> in your config, or <code class="inline">false</code> if not set. Returning all errors may be expensive for large inserts. The default value is <code class="inline">false</code>.</li><li><code class="inline">:batch_size</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">pos_integer/0</code></a>) - The number of records to include in each batch. Defaults to the <code class="inline">default_limit</code>
or <code class="inline">max_page_size</code> of the action, or 100.</li><li><code class="inline">:return_stream?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If set to <code class="inline">true</code>, instead of an <a href="https://hexdocs.pm/ash/3.7.6/Ash.BulkResult.html"><code class="inline">Ash.BulkResult</code></a>, a mixed stream is returned.
Potential elements:
<code class="inline">{:notification, notification}</code> - if <code class="inline">return_notifications?</code> is set to <code class="inline">true</code>
<code class="inline">{:ok, record}</code> - if <code class="inline">return_records?</code> is set to <code class="inline">true</code>
<code class="inline">{:error, error}</code> - an error that occurred. May be changeset or an individual error.
The default value is <code class="inline">false</code>.</li><li><code class="inline">:return_nothing?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Mutes warnings about returning nothing.
Only relevant if <code class="inline">return_stream?</code> is set to <code class="inline">true</code> and all other
<code class="inline">return_*?</code> options are set to <code class="inline">false</code>.
The default value is <code class="inline">false</code>.</li><li><code class="inline">:stop_on_error?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If true, the first encountered error will stop the action and be returned. Otherwise, errors
will be skipped. The default value is <code class="inline">false</code>.</li><li><code class="inline">:notify?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to generate any notifications. If this is set to <code class="inline">true</code> then the data layer must return
the results from each batch. This may be intensive for large bulk actions.
Notifications will be automatically sent unless <code class="inline">return_notifications?</code> is set to <code class="inline">true</code>.
The default value is <code class="inline">false</code>.</li><li><code class="inline">:transaction</code> - Whether or not to wrap the entire execution in a transaction, each batch, or not at all.
Keep in mind:
<code class="inline">before_transaction</code> and <code class="inline">after_transaction</code> hooks attached to changesets will have to be run
<em>inside</em> the transaction if you choose <code class="inline">transaction: :all</code>.
The default value is <code class="inline">:batch</code>.</li><li><code class="inline">:max_concurrency</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">non_neg_integer/0</code></a>) - If set to a value greater than 0, up to that many tasks will be started to run batches asynchronously The default value is <code class="inline">0</code>.</li></ul></li><li><code class="inline">:private_arguments</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">map/0</code></a>) - Private argument values to set before validations and changes. The default value is <code class="inline">%{}</code>.</li></ul>
  </section>
</section>
<section class="detail" id="update/2">

    <span id="update/1"></span>

  <div class="detail-header">
    <a href="#update/2" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">update(changeset, opts \\ [])</h1>


    </div>
  </div>

    <div class="deprecated">
      This function is deprecated. Use `Ash.update/2` instead.
    </div>

  <section class="docstring">


  </section>
</section>
<section class="detail" id="update!/2">

    <span id="update!/1"></span>

  <div class="detail-header">
    <a href="#update!/2" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">update!(changeset, opts \\ [])</h1>


    </div>
  </div>

    <div class="deprecated">
      This function is deprecated. Use `Ash.update!/2` instead.
    </div>

  <section class="docstring">


  </section>
</section>
<section class="detail" id="update_agency/3">

    <span id="update_agency/1"></span>

    <span id="update_agency/2"></span>

  <div class="detail-header">
    <a href="#update_agency/3" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">update_agency(record, params \\ nil, opts \\ nil)</h1>


    </div>
  </div>

  <section class="docstring">

<p>Calls the update action on EhsEnforcement.Enforcement.Agency.</p><h1>Inputs</h1><ul><li>enabled</li><li>name</li><li>base_url</li></ul><h2 id="update_agency/3-options" class="section-heading"><a href="#update_agency/3-options" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Options</span></h2><ul><li><code class="inline">:params</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">map/0</code></a>) - Parameters to supply, ignored if the input is a changeset, only used when an identifier is given.</li><li><code class="inline">:atomic_upgrade?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If true the action will be done atomically if it can (and is configured to do so), ignoring the in memory transformations and validations. You should not generally need to disable this. The default value is <code class="inline">true</code>.</li><li><code class="inline">:timeout</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">timeout/0</code></a>) - A positive integer, or <code class="inline">:infinity</code>. If none is provided, the timeout configured on the domain is used.</li><li><code class="inline">:tracer</code> (one or a list of module that adopts <a href="https://hexdocs.pm/ash/3.7.6/Ash.Tracer.html"><code class="inline">Ash.Tracer</code></a>) - A tracer that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.Tracer.html"><code class="inline">Ash.Tracer</code></a> behaviour. See that module for more.</li><li><code class="inline">:action</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - The action to use, either an Action struct or the name of the action</li><li><code class="inline">:authorize?</code> - If an actor option is provided (even if it is <code class="inline">nil</code>), authorization happens automatically. If not, this flag can be used to authorize with no user.</li><li><code class="inline">:context</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">map/0</code></a>) - Context to set on the query, changeset, or input</li><li><code class="inline">:tenant</code> (value that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.ToTenant.html"><code class="inline">Ash.ToTenant</code></a> protocol) - A tenant to set on the query or changeset</li><li><code class="inline">:actor</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - If an actor is provided, it will be used in conjunction with the authorizers of a resource to authorize access</li><li><code class="inline">:scope</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A value that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> protocol, for passing around actor/tenant/context in a single value. See <a href="https://hexdocs.pm/ash/3.7.6/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> for more.</li><li><code class="inline">:return_notifications?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Use this if you're running ash actions in your own transaction and you want to manually handle sending notifications.<br/>If a transaction is ongoing, and this is false, notifications will be discarded, otherwise
the return value is <code class="inline">{:ok, result, notifications}</code> (or <code class="inline">{:ok, notifications}</code>)<br/>To send notifications later, use <code class="inline">Ash.Notifier.notify(notifications)</code>. It sends any notifications
that can be sent, and returns the rest. The default value is <code class="inline">false</code>.</li><li><code class="inline">:rollback_on_error?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to rollback the transaction on error, if the resource is in a transaction.<br/>If the action has <code class="inline">transaction? false</code> this option has no effect. If an error is returned from the
data layer and the resource is in a transaction, the transaction is always rolled back, regardless. The default value is <code class="inline">true</code>.</li><li><code class="inline">:notification_metadata</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - Metadata to be merged into the metadata field for all notifications sent from this operation. The default value is <code class="inline">%{}</code>.</li><li><code class="inline">:skip_unknown_inputs</code> - A list of inputs that, if provided, will be ignored if they are not recognized by the action. Use <code class="inline">:*</code> to indicate all unknown keys.</li><li><code class="inline">:load</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A load statement to add onto the changeset</li><li><code class="inline">:bulk_options</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">keyword/0</code></a>) - Options passed to <code class="inline">Ash.bulk_update</code>, if a query, list, or stream of inputs is provided.<ul><li><code class="inline">:atomic_update</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">map/0</code></a>) - A map of atomic updates to apply. See <a href="https://hexdocs.pm/ash/3.7.6/Ash.Changeset.html#atomic_update/3"><code class="inline">Ash.Changeset.atomic_update/3</code></a> for more.</li><li><code class="inline">:stream_batch_size</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">integer/0</code></a>) - Batch size to use if provided a query and the query must be streamed</li><li><code class="inline">:allow_stream_with</code> - The 'worst' strategy allowed to be used to fetch records if the <code class="inline">:stream</code> strategy is chosen. See the <a href="https://hexdocs.pm/ash/3.7.6/Ash.html#stream!/2"><code class="inline">Ash.stream!/2</code></a> docs for more. The default value is <code class="inline">:keyset</code>.</li><li><code class="inline">:authorize_query?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If a query is given, determines whether or not authorization is run on that query. The default value is <code class="inline">true</code>.</li><li><code class="inline">:select</code> (list of <a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - A select statement to apply to records. Ignored if <code class="inline">return_records?</code> is not true.</li><li><code class="inline">:filter</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A filter to apply to records. This is also applied to a stream of inputs.</li><li><code class="inline">:strategy</code> - The strategy or strategies to enable. :stream is used in all cases if the data layer does not support atomics. The default value is <code class="inline">[:atomic]</code>.</li><li><code class="inline">:allow_stream_with</code> - The 'worst' strategy allowed to be used to fetch records. See <a href="https://hexdocs.pm/ash/3.7.6/Ash.html#stream!/2"><code class="inline">Ash.stream!/2</code></a> docs for more. The default value is <code class="inline">:keyset</code>.</li><li><code class="inline">:stream_with</code> - The specific strategy to use to fetch records. See <a href="https://hexdocs.pm/ash/3.7.6/Ash.html#stream!/2"><code class="inline">Ash.stream!/2</code></a> docs for more.</li><li><code class="inline">:max_concurrency</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">non_neg_integer/0</code></a>) - The maximum number of processes allowed to be started for parallel loading of relationships and calculations. Defaults to <code class="inline">System.schedulers_online() * 2</code></li><li><code class="inline">:lock</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A lock statement to add onto the query</li><li><code class="inline">:return_query?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If <code class="inline">true</code>, the query that was ultimately used is returned as a third tuple element.
The query goes through many potential changes during a request, potentially adding
authorization filters, or replacing relationships for other data layers with their
corresponding ids. This option can be used to get the true query that was sent to
the data layer.
The default value is <code class="inline">false</code>.</li><li><code class="inline">:reuse_values?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether calculations are allowed to reuse values that have already been loaded, or must refetch them from the data layer. The default value is <code class="inline">false</code>.</li><li><code class="inline">:strict?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If set to true, only specified attributes will be loaded when passing
  a list of fields to fetch on a relationship, which allows for more
  optimized data-fetching.
  See <a href="https://hexdocs.pm/ash/3.7.6/Ash.Query.html#load/2"><code class="inline">Ash.Query.load/2</code></a>.
The default value is <code class="inline">false</code>.</li><li><code class="inline">:authorize_with</code> - If set to <code class="inline">:error</code>, instead of applying authorization filters as a filter, any records not matching the authorization filter will cause an error to be returned. The default value is <code class="inline">:filter</code>.</li><li><code class="inline">:read_action</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - The action to use when building the read query.</li><li><code class="inline">:assume_casted?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to cast attributes and arguments as input. This is an optimization for cases where the input is already casted and/or not in need of casting The default value is <code class="inline">false</code>.</li><li><code class="inline">:select</code> (list of <a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - A select statement to apply to records. Ignored if <code class="inline">return_records?</code> is not true.</li><li><code class="inline">:authorize_query_with</code> - If set to <code class="inline">:error</code>, instead of filtering unauthorized query results, unauthorized query results will raise an appropriate forbidden error. Uses <code class="inline">authorize_with</code> if not set.</li><li><code class="inline">:authorize_changeset_with</code> - If set to <code class="inline">:error</code>, instead of filtering unauthorized changes, unauthorized changes will raise an appropriate forbidden error. Uses <code class="inline">authorize_with</code> if not set.</li><li><code class="inline">:authorize_with</code> - If set to <code class="inline">:error</code>, instead of filtering unauthorized query results, unauthorized query results will raise an appropriate forbidden error. The default value is <code class="inline">:filter</code>.</li><li><code class="inline">:private_arguments</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">map/0</code></a>) - Private argument values to set on each changeset before validations and changes are run. The default value is <code class="inline">%{}</code>.</li><li><code class="inline">:sorted?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to sort results by their input position, in cases where <code class="inline">return_records?: true</code> was provided. The default value is <code class="inline">false</code>.</li><li><code class="inline">:return_records?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to return all of the records that were inserted. Defaults to false to account for large inserts. The default value is <code class="inline">false</code>.</li><li><code class="inline">:return_errors?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether to return all errors that occur during the operation. Defaults to the value of <code class="inline">:bulk_actions_default_to_errors?</code> in your config, or <code class="inline">false</code> if not set. Returning all errors may be expensive for large inserts. The default value is <code class="inline">false</code>.</li><li><code class="inline">:batch_size</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">pos_integer/0</code></a>) - The number of records to include in each batch. Defaults to the <code class="inline">default_limit</code>
or <code class="inline">max_page_size</code> of the action, or 100.</li><li><code class="inline">:return_stream?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If set to <code class="inline">true</code>, instead of an <a href="https://hexdocs.pm/ash/3.7.6/Ash.BulkResult.html"><code class="inline">Ash.BulkResult</code></a>, a mixed stream is returned.
Potential elements:
<code class="inline">{:notification, notification}</code> - if <code class="inline">return_notifications?</code> is set to <code class="inline">true</code>
<code class="inline">{:ok, record}</code> - if <code class="inline">return_records?</code> is set to <code class="inline">true</code>
<code class="inline">{:error, error}</code> - an error that occurred. May be changeset or an individual error.
The default value is <code class="inline">false</code>.</li><li><code class="inline">:return_nothing?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Mutes warnings about returning nothing.
Only relevant if <code class="inline">return_stream?</code> is set to <code class="inline">true</code> and all other
<code class="inline">return_*?</code> options are set to <code class="inline">false</code>.
The default value is <code class="inline">false</code>.</li><li><code class="inline">:stop_on_error?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If true, the first encountered error will stop the action and be returned. Otherwise, errors
will be skipped. The default value is <code class="inline">false</code>.</li><li><code class="inline">:notify?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to generate any notifications. If this is set to <code class="inline">true</code> then the data layer must return
the results from each batch. This may be intensive for large bulk actions.
Notifications will be automatically sent unless <code class="inline">return_notifications?</code> is set to <code class="inline">true</code>.
The default value is <code class="inline">false</code>.</li><li><code class="inline">:transaction</code> - Whether or not to wrap the entire execution in a transaction, each batch, or not at all.
Keep in mind:
<code class="inline">before_transaction</code> and <code class="inline">after_transaction</code> hooks attached to changesets will have to be run
<em>inside</em> the transaction if you choose <code class="inline">transaction: :all</code>.
The default value is <code class="inline">:batch</code>.</li><li><code class="inline">:max_concurrency</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">non_neg_integer/0</code></a>) - If set to a value greater than 0, up to that many tasks will be started to run batches asynchronously The default value is <code class="inline">0</code>.</li></ul></li><li><code class="inline">:private_arguments</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">map/0</code></a>) - Private argument values to set before validations and changes. The default value is <code class="inline">%{}</code>.</li></ul>
  </section>
</section>
<section class="detail" id="update_agency!/3">

    <span id="update_agency!/1"></span>

    <span id="update_agency!/2"></span>

  <div class="detail-header">
    <a href="#update_agency!/3" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">update_agency!(record, params \\ nil, opts \\ nil)</h1>


    </div>
  </div>

  <section class="docstring">

<p>Calls the update action on EhsEnforcement.Enforcement.Agency.
Raises any errors instead of returning them</p><h1>Inputs</h1><ul><li>enabled</li><li>name</li><li>base_url</li></ul><h2 id="update_agency!/3-options" class="section-heading"><a href="#update_agency!/3-options" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Options</span></h2><ul><li><code class="inline">:params</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">map/0</code></a>) - Parameters to supply, ignored if the input is a changeset, only used when an identifier is given.</li><li><code class="inline">:atomic_upgrade?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If true the action will be done atomically if it can (and is configured to do so), ignoring the in memory transformations and validations. You should not generally need to disable this. The default value is <code class="inline">true</code>.</li><li><code class="inline">:timeout</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">timeout/0</code></a>) - A positive integer, or <code class="inline">:infinity</code>. If none is provided, the timeout configured on the domain is used.</li><li><code class="inline">:tracer</code> (one or a list of module that adopts <a href="https://hexdocs.pm/ash/3.7.6/Ash.Tracer.html"><code class="inline">Ash.Tracer</code></a>) - A tracer that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.Tracer.html"><code class="inline">Ash.Tracer</code></a> behaviour. See that module for more.</li><li><code class="inline">:action</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - The action to use, either an Action struct or the name of the action</li><li><code class="inline">:authorize?</code> - If an actor option is provided (even if it is <code class="inline">nil</code>), authorization happens automatically. If not, this flag can be used to authorize with no user.</li><li><code class="inline">:context</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">map/0</code></a>) - Context to set on the query, changeset, or input</li><li><code class="inline">:tenant</code> (value that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.ToTenant.html"><code class="inline">Ash.ToTenant</code></a> protocol) - A tenant to set on the query or changeset</li><li><code class="inline">:actor</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - If an actor is provided, it will be used in conjunction with the authorizers of a resource to authorize access</li><li><code class="inline">:scope</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A value that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> protocol, for passing around actor/tenant/context in a single value. See <a href="https://hexdocs.pm/ash/3.7.6/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> for more.</li><li><code class="inline">:return_notifications?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Use this if you're running ash actions in your own transaction and you want to manually handle sending notifications.<br/>If a transaction is ongoing, and this is false, notifications will be discarded, otherwise
the return value is <code class="inline">{:ok, result, notifications}</code> (or <code class="inline">{:ok, notifications}</code>)<br/>To send notifications later, use <code class="inline">Ash.Notifier.notify(notifications)</code>. It sends any notifications
that can be sent, and returns the rest. The default value is <code class="inline">false</code>.</li><li><code class="inline">:rollback_on_error?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to rollback the transaction on error, if the resource is in a transaction.<br/>If the action has <code class="inline">transaction? false</code> this option has no effect. If an error is returned from the
data layer and the resource is in a transaction, the transaction is always rolled back, regardless. The default value is <code class="inline">true</code>.</li><li><code class="inline">:notification_metadata</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - Metadata to be merged into the metadata field for all notifications sent from this operation. The default value is <code class="inline">%{}</code>.</li><li><code class="inline">:skip_unknown_inputs</code> - A list of inputs that, if provided, will be ignored if they are not recognized by the action. Use <code class="inline">:*</code> to indicate all unknown keys.</li><li><code class="inline">:load</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A load statement to add onto the changeset</li><li><code class="inline">:bulk_options</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">keyword/0</code></a>) - Options passed to <code class="inline">Ash.bulk_update</code>, if a query, list, or stream of inputs is provided.<ul><li><code class="inline">:atomic_update</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">map/0</code></a>) - A map of atomic updates to apply. See <a href="https://hexdocs.pm/ash/3.7.6/Ash.Changeset.html#atomic_update/3"><code class="inline">Ash.Changeset.atomic_update/3</code></a> for more.</li><li><code class="inline">:stream_batch_size</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">integer/0</code></a>) - Batch size to use if provided a query and the query must be streamed</li><li><code class="inline">:allow_stream_with</code> - The 'worst' strategy allowed to be used to fetch records if the <code class="inline">:stream</code> strategy is chosen. See the <a href="https://hexdocs.pm/ash/3.7.6/Ash.html#stream!/2"><code class="inline">Ash.stream!/2</code></a> docs for more. The default value is <code class="inline">:keyset</code>.</li><li><code class="inline">:authorize_query?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If a query is given, determines whether or not authorization is run on that query. The default value is <code class="inline">true</code>.</li><li><code class="inline">:select</code> (list of <a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - A select statement to apply to records. Ignored if <code class="inline">return_records?</code> is not true.</li><li><code class="inline">:filter</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A filter to apply to records. This is also applied to a stream of inputs.</li><li><code class="inline">:strategy</code> - The strategy or strategies to enable. :stream is used in all cases if the data layer does not support atomics. The default value is <code class="inline">[:atomic]</code>.</li><li><code class="inline">:allow_stream_with</code> - The 'worst' strategy allowed to be used to fetch records. See <a href="https://hexdocs.pm/ash/3.7.6/Ash.html#stream!/2"><code class="inline">Ash.stream!/2</code></a> docs for more. The default value is <code class="inline">:keyset</code>.</li><li><code class="inline">:stream_with</code> - The specific strategy to use to fetch records. See <a href="https://hexdocs.pm/ash/3.7.6/Ash.html#stream!/2"><code class="inline">Ash.stream!/2</code></a> docs for more.</li><li><code class="inline">:max_concurrency</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">non_neg_integer/0</code></a>) - The maximum number of processes allowed to be started for parallel loading of relationships and calculations. Defaults to <code class="inline">System.schedulers_online() * 2</code></li><li><code class="inline">:lock</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A lock statement to add onto the query</li><li><code class="inline">:return_query?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If <code class="inline">true</code>, the query that was ultimately used is returned as a third tuple element.
The query goes through many potential changes during a request, potentially adding
authorization filters, or replacing relationships for other data layers with their
corresponding ids. This option can be used to get the true query that was sent to
the data layer.
The default value is <code class="inline">false</code>.</li><li><code class="inline">:reuse_values?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether calculations are allowed to reuse values that have already been loaded, or must refetch them from the data layer. The default value is <code class="inline">false</code>.</li><li><code class="inline">:strict?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If set to true, only specified attributes will be loaded when passing
  a list of fields to fetch on a relationship, which allows for more
  optimized data-fetching.
  See <a href="https://hexdocs.pm/ash/3.7.6/Ash.Query.html#load/2"><code class="inline">Ash.Query.load/2</code></a>.
The default value is <code class="inline">false</code>.</li><li><code class="inline">:authorize_with</code> - If set to <code class="inline">:error</code>, instead of applying authorization filters as a filter, any records not matching the authorization filter will cause an error to be returned. The default value is <code class="inline">:filter</code>.</li><li><code class="inline">:read_action</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - The action to use when building the read query.</li><li><code class="inline">:assume_casted?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to cast attributes and arguments as input. This is an optimization for cases where the input is already casted and/or not in need of casting The default value is <code class="inline">false</code>.</li><li><code class="inline">:select</code> (list of <a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - A select statement to apply to records. Ignored if <code class="inline">return_records?</code> is not true.</li><li><code class="inline">:authorize_query_with</code> - If set to <code class="inline">:error</code>, instead of filtering unauthorized query results, unauthorized query results will raise an appropriate forbidden error. Uses <code class="inline">authorize_with</code> if not set.</li><li><code class="inline">:authorize_changeset_with</code> - If set to <code class="inline">:error</code>, instead of filtering unauthorized changes, unauthorized changes will raise an appropriate forbidden error. Uses <code class="inline">authorize_with</code> if not set.</li><li><code class="inline">:authorize_with</code> - If set to <code class="inline">:error</code>, instead of filtering unauthorized query results, unauthorized query results will raise an appropriate forbidden error. The default value is <code class="inline">:filter</code>.</li><li><code class="inline">:private_arguments</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">map/0</code></a>) - Private argument values to set on each changeset before validations and changes are run. The default value is <code class="inline">%{}</code>.</li><li><code class="inline">:sorted?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to sort results by their input position, in cases where <code class="inline">return_records?: true</code> was provided. The default value is <code class="inline">false</code>.</li><li><code class="inline">:return_records?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to return all of the records that were inserted. Defaults to false to account for large inserts. The default value is <code class="inline">false</code>.</li><li><code class="inline">:return_errors?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether to return all errors that occur during the operation. Defaults to the value of <code class="inline">:bulk_actions_default_to_errors?</code> in your config, or <code class="inline">false</code> if not set. Returning all errors may be expensive for large inserts. The default value is <code class="inline">false</code>.</li><li><code class="inline">:batch_size</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">pos_integer/0</code></a>) - The number of records to include in each batch. Defaults to the <code class="inline">default_limit</code>
or <code class="inline">max_page_size</code> of the action, or 100.</li><li><code class="inline">:return_stream?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If set to <code class="inline">true</code>, instead of an <a href="https://hexdocs.pm/ash/3.7.6/Ash.BulkResult.html"><code class="inline">Ash.BulkResult</code></a>, a mixed stream is returned.
Potential elements:
<code class="inline">{:notification, notification}</code> - if <code class="inline">return_notifications?</code> is set to <code class="inline">true</code>
<code class="inline">{:ok, record}</code> - if <code class="inline">return_records?</code> is set to <code class="inline">true</code>
<code class="inline">{:error, error}</code> - an error that occurred. May be changeset or an individual error.
The default value is <code class="inline">false</code>.</li><li><code class="inline">:return_nothing?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Mutes warnings about returning nothing.
Only relevant if <code class="inline">return_stream?</code> is set to <code class="inline">true</code> and all other
<code class="inline">return_*?</code> options are set to <code class="inline">false</code>.
The default value is <code class="inline">false</code>.</li><li><code class="inline">:stop_on_error?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If true, the first encountered error will stop the action and be returned. Otherwise, errors
will be skipped. The default value is <code class="inline">false</code>.</li><li><code class="inline">:notify?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to generate any notifications. If this is set to <code class="inline">true</code> then the data layer must return
the results from each batch. This may be intensive for large bulk actions.
Notifications will be automatically sent unless <code class="inline">return_notifications?</code> is set to <code class="inline">true</code>.
The default value is <code class="inline">false</code>.</li><li><code class="inline">:transaction</code> - Whether or not to wrap the entire execution in a transaction, each batch, or not at all.
Keep in mind:
<code class="inline">before_transaction</code> and <code class="inline">after_transaction</code> hooks attached to changesets will have to be run
<em>inside</em> the transaction if you choose <code class="inline">transaction: :all</code>.
The default value is <code class="inline">:batch</code>.</li><li><code class="inline">:max_concurrency</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">non_neg_integer/0</code></a>) - If set to a value greater than 0, up to that many tasks will be started to run batches asynchronously The default value is <code class="inline">0</code>.</li></ul></li><li><code class="inline">:private_arguments</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">map/0</code></a>) - Private argument values to set before validations and changes. The default value is <code class="inline">%{}</code>.</li></ul>
  </section>
</section>
<section class="detail" id="update_case/3">

    <span id="update_case/1"></span>

    <span id="update_case/2"></span>

  <div class="detail-header">
    <a href="#update_case/3" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">update_case(record, params \\ nil, opts \\ nil)</h1>


    </div>
  </div>

  <section class="docstring">

<p>Calls the update action on EhsEnforcement.Enforcement.Case.</p><h2 id="update_case/3-options" class="section-heading"><a href="#update_case/3-options" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Options</span></h2><ul><li><code class="inline">:params</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">map/0</code></a>) - Parameters to supply, ignored if the input is a changeset, only used when an identifier is given.</li><li><code class="inline">:atomic_upgrade?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If true the action will be done atomically if it can (and is configured to do so), ignoring the in memory transformations and validations. You should not generally need to disable this. The default value is <code class="inline">true</code>.</li><li><code class="inline">:timeout</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">timeout/0</code></a>) - A positive integer, or <code class="inline">:infinity</code>. If none is provided, the timeout configured on the domain is used.</li><li><code class="inline">:tracer</code> (one or a list of module that adopts <a href="https://hexdocs.pm/ash/3.7.6/Ash.Tracer.html"><code class="inline">Ash.Tracer</code></a>) - A tracer that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.Tracer.html"><code class="inline">Ash.Tracer</code></a> behaviour. See that module for more.</li><li><code class="inline">:action</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - The action to use, either an Action struct or the name of the action</li><li><code class="inline">:authorize?</code> - If an actor option is provided (even if it is <code class="inline">nil</code>), authorization happens automatically. If not, this flag can be used to authorize with no user.</li><li><code class="inline">:context</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">map/0</code></a>) - Context to set on the query, changeset, or input</li><li><code class="inline">:tenant</code> (value that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.ToTenant.html"><code class="inline">Ash.ToTenant</code></a> protocol) - A tenant to set on the query or changeset</li><li><code class="inline">:actor</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - If an actor is provided, it will be used in conjunction with the authorizers of a resource to authorize access</li><li><code class="inline">:scope</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A value that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> protocol, for passing around actor/tenant/context in a single value. See <a href="https://hexdocs.pm/ash/3.7.6/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> for more.</li><li><code class="inline">:return_notifications?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Use this if you're running ash actions in your own transaction and you want to manually handle sending notifications.<br/>If a transaction is ongoing, and this is false, notifications will be discarded, otherwise
the return value is <code class="inline">{:ok, result, notifications}</code> (or <code class="inline">{:ok, notifications}</code>)<br/>To send notifications later, use <code class="inline">Ash.Notifier.notify(notifications)</code>. It sends any notifications
that can be sent, and returns the rest. The default value is <code class="inline">false</code>.</li><li><code class="inline">:rollback_on_error?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to rollback the transaction on error, if the resource is in a transaction.<br/>If the action has <code class="inline">transaction? false</code> this option has no effect. If an error is returned from the
data layer and the resource is in a transaction, the transaction is always rolled back, regardless. The default value is <code class="inline">true</code>.</li><li><code class="inline">:notification_metadata</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - Metadata to be merged into the metadata field for all notifications sent from this operation. The default value is <code class="inline">%{}</code>.</li><li><code class="inline">:skip_unknown_inputs</code> - A list of inputs that, if provided, will be ignored if they are not recognized by the action. Use <code class="inline">:*</code> to indicate all unknown keys.</li><li><code class="inline">:load</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A load statement to add onto the changeset</li><li><code class="inline">:bulk_options</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">keyword/0</code></a>) - Options passed to <code class="inline">Ash.bulk_update</code>, if a query, list, or stream of inputs is provided.<ul><li><code class="inline">:atomic_update</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">map/0</code></a>) - A map of atomic updates to apply. See <a href="https://hexdocs.pm/ash/3.7.6/Ash.Changeset.html#atomic_update/3"><code class="inline">Ash.Changeset.atomic_update/3</code></a> for more.</li><li><code class="inline">:stream_batch_size</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">integer/0</code></a>) - Batch size to use if provided a query and the query must be streamed</li><li><code class="inline">:allow_stream_with</code> - The 'worst' strategy allowed to be used to fetch records if the <code class="inline">:stream</code> strategy is chosen. See the <a href="https://hexdocs.pm/ash/3.7.6/Ash.html#stream!/2"><code class="inline">Ash.stream!/2</code></a> docs for more. The default value is <code class="inline">:keyset</code>.</li><li><code class="inline">:authorize_query?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If a query is given, determines whether or not authorization is run on that query. The default value is <code class="inline">true</code>.</li><li><code class="inline">:select</code> (list of <a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - A select statement to apply to records. Ignored if <code class="inline">return_records?</code> is not true.</li><li><code class="inline">:filter</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A filter to apply to records. This is also applied to a stream of inputs.</li><li><code class="inline">:strategy</code> - The strategy or strategies to enable. :stream is used in all cases if the data layer does not support atomics. The default value is <code class="inline">[:atomic]</code>.</li><li><code class="inline">:allow_stream_with</code> - The 'worst' strategy allowed to be used to fetch records. See <a href="https://hexdocs.pm/ash/3.7.6/Ash.html#stream!/2"><code class="inline">Ash.stream!/2</code></a> docs for more. The default value is <code class="inline">:keyset</code>.</li><li><code class="inline">:stream_with</code> - The specific strategy to use to fetch records. See <a href="https://hexdocs.pm/ash/3.7.6/Ash.html#stream!/2"><code class="inline">Ash.stream!/2</code></a> docs for more.</li><li><code class="inline">:max_concurrency</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">non_neg_integer/0</code></a>) - The maximum number of processes allowed to be started for parallel loading of relationships and calculations. Defaults to <code class="inline">System.schedulers_online() * 2</code></li><li><code class="inline">:lock</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A lock statement to add onto the query</li><li><code class="inline">:return_query?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If <code class="inline">true</code>, the query that was ultimately used is returned as a third tuple element.
The query goes through many potential changes during a request, potentially adding
authorization filters, or replacing relationships for other data layers with their
corresponding ids. This option can be used to get the true query that was sent to
the data layer.
The default value is <code class="inline">false</code>.</li><li><code class="inline">:reuse_values?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether calculations are allowed to reuse values that have already been loaded, or must refetch them from the data layer. The default value is <code class="inline">false</code>.</li><li><code class="inline">:strict?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If set to true, only specified attributes will be loaded when passing
  a list of fields to fetch on a relationship, which allows for more
  optimized data-fetching.
  See <a href="https://hexdocs.pm/ash/3.7.6/Ash.Query.html#load/2"><code class="inline">Ash.Query.load/2</code></a>.
The default value is <code class="inline">false</code>.</li><li><code class="inline">:authorize_with</code> - If set to <code class="inline">:error</code>, instead of applying authorization filters as a filter, any records not matching the authorization filter will cause an error to be returned. The default value is <code class="inline">:filter</code>.</li><li><code class="inline">:read_action</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - The action to use when building the read query.</li><li><code class="inline">:assume_casted?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to cast attributes and arguments as input. This is an optimization for cases where the input is already casted and/or not in need of casting The default value is <code class="inline">false</code>.</li><li><code class="inline">:select</code> (list of <a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - A select statement to apply to records. Ignored if <code class="inline">return_records?</code> is not true.</li><li><code class="inline">:authorize_query_with</code> - If set to <code class="inline">:error</code>, instead of filtering unauthorized query results, unauthorized query results will raise an appropriate forbidden error. Uses <code class="inline">authorize_with</code> if not set.</li><li><code class="inline">:authorize_changeset_with</code> - If set to <code class="inline">:error</code>, instead of filtering unauthorized changes, unauthorized changes will raise an appropriate forbidden error. Uses <code class="inline">authorize_with</code> if not set.</li><li><code class="inline">:authorize_with</code> - If set to <code class="inline">:error</code>, instead of filtering unauthorized query results, unauthorized query results will raise an appropriate forbidden error. The default value is <code class="inline">:filter</code>.</li><li><code class="inline">:private_arguments</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">map/0</code></a>) - Private argument values to set on each changeset before validations and changes are run. The default value is <code class="inline">%{}</code>.</li><li><code class="inline">:sorted?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to sort results by their input position, in cases where <code class="inline">return_records?: true</code> was provided. The default value is <code class="inline">false</code>.</li><li><code class="inline">:return_records?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to return all of the records that were inserted. Defaults to false to account for large inserts. The default value is <code class="inline">false</code>.</li><li><code class="inline">:return_errors?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether to return all errors that occur during the operation. Defaults to the value of <code class="inline">:bulk_actions_default_to_errors?</code> in your config, or <code class="inline">false</code> if not set. Returning all errors may be expensive for large inserts. The default value is <code class="inline">false</code>.</li><li><code class="inline">:batch_size</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">pos_integer/0</code></a>) - The number of records to include in each batch. Defaults to the <code class="inline">default_limit</code>
or <code class="inline">max_page_size</code> of the action, or 100.</li><li><code class="inline">:return_stream?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If set to <code class="inline">true</code>, instead of an <a href="https://hexdocs.pm/ash/3.7.6/Ash.BulkResult.html"><code class="inline">Ash.BulkResult</code></a>, a mixed stream is returned.
Potential elements:
<code class="inline">{:notification, notification}</code> - if <code class="inline">return_notifications?</code> is set to <code class="inline">true</code>
<code class="inline">{:ok, record}</code> - if <code class="inline">return_records?</code> is set to <code class="inline">true</code>
<code class="inline">{:error, error}</code> - an error that occurred. May be changeset or an individual error.
The default value is <code class="inline">false</code>.</li><li><code class="inline">:return_nothing?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Mutes warnings about returning nothing.
Only relevant if <code class="inline">return_stream?</code> is set to <code class="inline">true</code> and all other
<code class="inline">return_*?</code> options are set to <code class="inline">false</code>.
The default value is <code class="inline">false</code>.</li><li><code class="inline">:stop_on_error?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If true, the first encountered error will stop the action and be returned. Otherwise, errors
will be skipped. The default value is <code class="inline">false</code>.</li><li><code class="inline">:notify?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to generate any notifications. If this is set to <code class="inline">true</code> then the data layer must return
the results from each batch. This may be intensive for large bulk actions.
Notifications will be automatically sent unless <code class="inline">return_notifications?</code> is set to <code class="inline">true</code>.
The default value is <code class="inline">false</code>.</li><li><code class="inline">:transaction</code> - Whether or not to wrap the entire execution in a transaction, each batch, or not at all.
Keep in mind:
<code class="inline">before_transaction</code> and <code class="inline">after_transaction</code> hooks attached to changesets will have to be run
<em>inside</em> the transaction if you choose <code class="inline">transaction: :all</code>.
The default value is <code class="inline">:batch</code>.</li><li><code class="inline">:max_concurrency</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">non_neg_integer/0</code></a>) - If set to a value greater than 0, up to that many tasks will be started to run batches asynchronously The default value is <code class="inline">0</code>.</li></ul></li><li><code class="inline">:private_arguments</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">map/0</code></a>) - Private argument values to set before validations and changes. The default value is <code class="inline">%{}</code>.</li></ul>
  </section>
</section>
<section class="detail" id="update_case!/3">

    <span id="update_case!/1"></span>

    <span id="update_case!/2"></span>

  <div class="detail-header">
    <a href="#update_case!/3" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">update_case!(record, params \\ nil, opts \\ nil)</h1>


    </div>
  </div>

  <section class="docstring">

<p>Calls the update action on EhsEnforcement.Enforcement.Case.
Raises any errors instead of returning them</p><h2 id="update_case!/3-options" class="section-heading"><a href="#update_case!/3-options" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Options</span></h2><ul><li><code class="inline">:params</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">map/0</code></a>) - Parameters to supply, ignored if the input is a changeset, only used when an identifier is given.</li><li><code class="inline">:atomic_upgrade?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If true the action will be done atomically if it can (and is configured to do so), ignoring the in memory transformations and validations. You should not generally need to disable this. The default value is <code class="inline">true</code>.</li><li><code class="inline">:timeout</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">timeout/0</code></a>) - A positive integer, or <code class="inline">:infinity</code>. If none is provided, the timeout configured on the domain is used.</li><li><code class="inline">:tracer</code> (one or a list of module that adopts <a href="https://hexdocs.pm/ash/3.7.6/Ash.Tracer.html"><code class="inline">Ash.Tracer</code></a>) - A tracer that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.Tracer.html"><code class="inline">Ash.Tracer</code></a> behaviour. See that module for more.</li><li><code class="inline">:action</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - The action to use, either an Action struct or the name of the action</li><li><code class="inline">:authorize?</code> - If an actor option is provided (even if it is <code class="inline">nil</code>), authorization happens automatically. If not, this flag can be used to authorize with no user.</li><li><code class="inline">:context</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">map/0</code></a>) - Context to set on the query, changeset, or input</li><li><code class="inline">:tenant</code> (value that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.ToTenant.html"><code class="inline">Ash.ToTenant</code></a> protocol) - A tenant to set on the query or changeset</li><li><code class="inline">:actor</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - If an actor is provided, it will be used in conjunction with the authorizers of a resource to authorize access</li><li><code class="inline">:scope</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A value that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> protocol, for passing around actor/tenant/context in a single value. See <a href="https://hexdocs.pm/ash/3.7.6/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> for more.</li><li><code class="inline">:return_notifications?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Use this if you're running ash actions in your own transaction and you want to manually handle sending notifications.<br/>If a transaction is ongoing, and this is false, notifications will be discarded, otherwise
the return value is <code class="inline">{:ok, result, notifications}</code> (or <code class="inline">{:ok, notifications}</code>)<br/>To send notifications later, use <code class="inline">Ash.Notifier.notify(notifications)</code>. It sends any notifications
that can be sent, and returns the rest. The default value is <code class="inline">false</code>.</li><li><code class="inline">:rollback_on_error?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to rollback the transaction on error, if the resource is in a transaction.<br/>If the action has <code class="inline">transaction? false</code> this option has no effect. If an error is returned from the
data layer and the resource is in a transaction, the transaction is always rolled back, regardless. The default value is <code class="inline">true</code>.</li><li><code class="inline">:notification_metadata</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - Metadata to be merged into the metadata field for all notifications sent from this operation. The default value is <code class="inline">%{}</code>.</li><li><code class="inline">:skip_unknown_inputs</code> - A list of inputs that, if provided, will be ignored if they are not recognized by the action. Use <code class="inline">:*</code> to indicate all unknown keys.</li><li><code class="inline">:load</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A load statement to add onto the changeset</li><li><code class="inline">:bulk_options</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">keyword/0</code></a>) - Options passed to <code class="inline">Ash.bulk_update</code>, if a query, list, or stream of inputs is provided.<ul><li><code class="inline">:atomic_update</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">map/0</code></a>) - A map of atomic updates to apply. See <a href="https://hexdocs.pm/ash/3.7.6/Ash.Changeset.html#atomic_update/3"><code class="inline">Ash.Changeset.atomic_update/3</code></a> for more.</li><li><code class="inline">:stream_batch_size</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">integer/0</code></a>) - Batch size to use if provided a query and the query must be streamed</li><li><code class="inline">:allow_stream_with</code> - The 'worst' strategy allowed to be used to fetch records if the <code class="inline">:stream</code> strategy is chosen. See the <a href="https://hexdocs.pm/ash/3.7.6/Ash.html#stream!/2"><code class="inline">Ash.stream!/2</code></a> docs for more. The default value is <code class="inline">:keyset</code>.</li><li><code class="inline">:authorize_query?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If a query is given, determines whether or not authorization is run on that query. The default value is <code class="inline">true</code>.</li><li><code class="inline">:select</code> (list of <a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - A select statement to apply to records. Ignored if <code class="inline">return_records?</code> is not true.</li><li><code class="inline">:filter</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A filter to apply to records. This is also applied to a stream of inputs.</li><li><code class="inline">:strategy</code> - The strategy or strategies to enable. :stream is used in all cases if the data layer does not support atomics. The default value is <code class="inline">[:atomic]</code>.</li><li><code class="inline">:allow_stream_with</code> - The 'worst' strategy allowed to be used to fetch records. See <a href="https://hexdocs.pm/ash/3.7.6/Ash.html#stream!/2"><code class="inline">Ash.stream!/2</code></a> docs for more. The default value is <code class="inline">:keyset</code>.</li><li><code class="inline">:stream_with</code> - The specific strategy to use to fetch records. See <a href="https://hexdocs.pm/ash/3.7.6/Ash.html#stream!/2"><code class="inline">Ash.stream!/2</code></a> docs for more.</li><li><code class="inline">:max_concurrency</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">non_neg_integer/0</code></a>) - The maximum number of processes allowed to be started for parallel loading of relationships and calculations. Defaults to <code class="inline">System.schedulers_online() * 2</code></li><li><code class="inline">:lock</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A lock statement to add onto the query</li><li><code class="inline">:return_query?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If <code class="inline">true</code>, the query that was ultimately used is returned as a third tuple element.
The query goes through many potential changes during a request, potentially adding
authorization filters, or replacing relationships for other data layers with their
corresponding ids. This option can be used to get the true query that was sent to
the data layer.
The default value is <code class="inline">false</code>.</li><li><code class="inline">:reuse_values?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether calculations are allowed to reuse values that have already been loaded, or must refetch them from the data layer. The default value is <code class="inline">false</code>.</li><li><code class="inline">:strict?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If set to true, only specified attributes will be loaded when passing
  a list of fields to fetch on a relationship, which allows for more
  optimized data-fetching.
  See <a href="https://hexdocs.pm/ash/3.7.6/Ash.Query.html#load/2"><code class="inline">Ash.Query.load/2</code></a>.
The default value is <code class="inline">false</code>.</li><li><code class="inline">:authorize_with</code> - If set to <code class="inline">:error</code>, instead of applying authorization filters as a filter, any records not matching the authorization filter will cause an error to be returned. The default value is <code class="inline">:filter</code>.</li><li><code class="inline">:read_action</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - The action to use when building the read query.</li><li><code class="inline">:assume_casted?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to cast attributes and arguments as input. This is an optimization for cases where the input is already casted and/or not in need of casting The default value is <code class="inline">false</code>.</li><li><code class="inline">:select</code> (list of <a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - A select statement to apply to records. Ignored if <code class="inline">return_records?</code> is not true.</li><li><code class="inline">:authorize_query_with</code> - If set to <code class="inline">:error</code>, instead of filtering unauthorized query results, unauthorized query results will raise an appropriate forbidden error. Uses <code class="inline">authorize_with</code> if not set.</li><li><code class="inline">:authorize_changeset_with</code> - If set to <code class="inline">:error</code>, instead of filtering unauthorized changes, unauthorized changes will raise an appropriate forbidden error. Uses <code class="inline">authorize_with</code> if not set.</li><li><code class="inline">:authorize_with</code> - If set to <code class="inline">:error</code>, instead of filtering unauthorized query results, unauthorized query results will raise an appropriate forbidden error. The default value is <code class="inline">:filter</code>.</li><li><code class="inline">:private_arguments</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">map/0</code></a>) - Private argument values to set on each changeset before validations and changes are run. The default value is <code class="inline">%{}</code>.</li><li><code class="inline">:sorted?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to sort results by their input position, in cases where <code class="inline">return_records?: true</code> was provided. The default value is <code class="inline">false</code>.</li><li><code class="inline">:return_records?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to return all of the records that were inserted. Defaults to false to account for large inserts. The default value is <code class="inline">false</code>.</li><li><code class="inline">:return_errors?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether to return all errors that occur during the operation. Defaults to the value of <code class="inline">:bulk_actions_default_to_errors?</code> in your config, or <code class="inline">false</code> if not set. Returning all errors may be expensive for large inserts. The default value is <code class="inline">false</code>.</li><li><code class="inline">:batch_size</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">pos_integer/0</code></a>) - The number of records to include in each batch. Defaults to the <code class="inline">default_limit</code>
or <code class="inline">max_page_size</code> of the action, or 100.</li><li><code class="inline">:return_stream?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If set to <code class="inline">true</code>, instead of an <a href="https://hexdocs.pm/ash/3.7.6/Ash.BulkResult.html"><code class="inline">Ash.BulkResult</code></a>, a mixed stream is returned.
Potential elements:
<code class="inline">{:notification, notification}</code> - if <code class="inline">return_notifications?</code> is set to <code class="inline">true</code>
<code class="inline">{:ok, record}</code> - if <code class="inline">return_records?</code> is set to <code class="inline">true</code>
<code class="inline">{:error, error}</code> - an error that occurred. May be changeset or an individual error.
The default value is <code class="inline">false</code>.</li><li><code class="inline">:return_nothing?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Mutes warnings about returning nothing.
Only relevant if <code class="inline">return_stream?</code> is set to <code class="inline">true</code> and all other
<code class="inline">return_*?</code> options are set to <code class="inline">false</code>.
The default value is <code class="inline">false</code>.</li><li><code class="inline">:stop_on_error?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If true, the first encountered error will stop the action and be returned. Otherwise, errors
will be skipped. The default value is <code class="inline">false</code>.</li><li><code class="inline">:notify?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to generate any notifications. If this is set to <code class="inline">true</code> then the data layer must return
the results from each batch. This may be intensive for large bulk actions.
Notifications will be automatically sent unless <code class="inline">return_notifications?</code> is set to <code class="inline">true</code>.
The default value is <code class="inline">false</code>.</li><li><code class="inline">:transaction</code> - Whether or not to wrap the entire execution in a transaction, each batch, or not at all.
Keep in mind:
<code class="inline">before_transaction</code> and <code class="inline">after_transaction</code> hooks attached to changesets will have to be run
<em>inside</em> the transaction if you choose <code class="inline">transaction: :all</code>.
The default value is <code class="inline">:batch</code>.</li><li><code class="inline">:max_concurrency</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">non_neg_integer/0</code></a>) - If set to a value greater than 0, up to that many tasks will be started to run batches asynchronously The default value is <code class="inline">0</code>.</li></ul></li><li><code class="inline">:private_arguments</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">map/0</code></a>) - Private argument values to set before validations and changes. The default value is <code class="inline">%{}</code>.</li></ul>
  </section>
</section>
<section class="detail" id="update_case_from_scraping/3">

    <span id="update_case_from_scraping/1"></span>

    <span id="update_case_from_scraping/2"></span>

  <div class="detail-header">
    <a href="#update_case_from_scraping/3" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">update_case_from_scraping(record, params \\ nil, opts \\ nil)</h1>


    </div>
  </div>

  <section class="docstring">

<p>Calls the update_from_scraping action on EhsEnforcement.Enforcement.Case.</p><h1>Inputs</h1><ul><li>url</li><li>offence_fine</li><li>offence_result</li><li>offence_costs</li><li>offence_hearing_date</li><li>related_cases</li></ul><h2 id="update_case_from_scraping/3-options" class="section-heading"><a href="#update_case_from_scraping/3-options" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Options</span></h2><ul><li><code class="inline">:params</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">map/0</code></a>) - Parameters to supply, ignored if the input is a changeset, only used when an identifier is given.</li><li><code class="inline">:atomic_upgrade?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If true the action will be done atomically if it can (and is configured to do so), ignoring the in memory transformations and validations. You should not generally need to disable this. The default value is <code class="inline">true</code>.</li><li><code class="inline">:timeout</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">timeout/0</code></a>) - A positive integer, or <code class="inline">:infinity</code>. If none is provided, the timeout configured on the domain is used.</li><li><code class="inline">:tracer</code> (one or a list of module that adopts <a href="https://hexdocs.pm/ash/3.7.6/Ash.Tracer.html"><code class="inline">Ash.Tracer</code></a>) - A tracer that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.Tracer.html"><code class="inline">Ash.Tracer</code></a> behaviour. See that module for more.</li><li><code class="inline">:action</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - The action to use, either an Action struct or the name of the action</li><li><code class="inline">:authorize?</code> - If an actor option is provided (even if it is <code class="inline">nil</code>), authorization happens automatically. If not, this flag can be used to authorize with no user.</li><li><code class="inline">:context</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">map/0</code></a>) - Context to set on the query, changeset, or input</li><li><code class="inline">:tenant</code> (value that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.ToTenant.html"><code class="inline">Ash.ToTenant</code></a> protocol) - A tenant to set on the query or changeset</li><li><code class="inline">:actor</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - If an actor is provided, it will be used in conjunction with the authorizers of a resource to authorize access</li><li><code class="inline">:scope</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A value that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> protocol, for passing around actor/tenant/context in a single value. See <a href="https://hexdocs.pm/ash/3.7.6/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> for more.</li><li><code class="inline">:return_notifications?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Use this if you're running ash actions in your own transaction and you want to manually handle sending notifications.<br/>If a transaction is ongoing, and this is false, notifications will be discarded, otherwise
the return value is <code class="inline">{:ok, result, notifications}</code> (or <code class="inline">{:ok, notifications}</code>)<br/>To send notifications later, use <code class="inline">Ash.Notifier.notify(notifications)</code>. It sends any notifications
that can be sent, and returns the rest. The default value is <code class="inline">false</code>.</li><li><code class="inline">:rollback_on_error?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to rollback the transaction on error, if the resource is in a transaction.<br/>If the action has <code class="inline">transaction? false</code> this option has no effect. If an error is returned from the
data layer and the resource is in a transaction, the transaction is always rolled back, regardless. The default value is <code class="inline">true</code>.</li><li><code class="inline">:notification_metadata</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - Metadata to be merged into the metadata field for all notifications sent from this operation. The default value is <code class="inline">%{}</code>.</li><li><code class="inline">:skip_unknown_inputs</code> - A list of inputs that, if provided, will be ignored if they are not recognized by the action. Use <code class="inline">:*</code> to indicate all unknown keys.</li><li><code class="inline">:load</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A load statement to add onto the changeset</li><li><code class="inline">:bulk_options</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">keyword/0</code></a>) - Options passed to <code class="inline">Ash.bulk_update</code>, if a query, list, or stream of inputs is provided.<ul><li><code class="inline">:atomic_update</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">map/0</code></a>) - A map of atomic updates to apply. See <a href="https://hexdocs.pm/ash/3.7.6/Ash.Changeset.html#atomic_update/3"><code class="inline">Ash.Changeset.atomic_update/3</code></a> for more.</li><li><code class="inline">:stream_batch_size</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">integer/0</code></a>) - Batch size to use if provided a query and the query must be streamed</li><li><code class="inline">:allow_stream_with</code> - The 'worst' strategy allowed to be used to fetch records if the <code class="inline">:stream</code> strategy is chosen. See the <a href="https://hexdocs.pm/ash/3.7.6/Ash.html#stream!/2"><code class="inline">Ash.stream!/2</code></a> docs for more. The default value is <code class="inline">:keyset</code>.</li><li><code class="inline">:authorize_query?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If a query is given, determines whether or not authorization is run on that query. The default value is <code class="inline">true</code>.</li><li><code class="inline">:select</code> (list of <a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - A select statement to apply to records. Ignored if <code class="inline">return_records?</code> is not true.</li><li><code class="inline">:filter</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A filter to apply to records. This is also applied to a stream of inputs.</li><li><code class="inline">:strategy</code> - The strategy or strategies to enable. :stream is used in all cases if the data layer does not support atomics. The default value is <code class="inline">[:atomic]</code>.</li><li><code class="inline">:allow_stream_with</code> - The 'worst' strategy allowed to be used to fetch records. See <a href="https://hexdocs.pm/ash/3.7.6/Ash.html#stream!/2"><code class="inline">Ash.stream!/2</code></a> docs for more. The default value is <code class="inline">:keyset</code>.</li><li><code class="inline">:stream_with</code> - The specific strategy to use to fetch records. See <a href="https://hexdocs.pm/ash/3.7.6/Ash.html#stream!/2"><code class="inline">Ash.stream!/2</code></a> docs for more.</li><li><code class="inline">:max_concurrency</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">non_neg_integer/0</code></a>) - The maximum number of processes allowed to be started for parallel loading of relationships and calculations. Defaults to <code class="inline">System.schedulers_online() * 2</code></li><li><code class="inline">:lock</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A lock statement to add onto the query</li><li><code class="inline">:return_query?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If <code class="inline">true</code>, the query that was ultimately used is returned as a third tuple element.
The query goes through many potential changes during a request, potentially adding
authorization filters, or replacing relationships for other data layers with their
corresponding ids. This option can be used to get the true query that was sent to
the data layer.
The default value is <code class="inline">false</code>.</li><li><code class="inline">:reuse_values?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether calculations are allowed to reuse values that have already been loaded, or must refetch them from the data layer. The default value is <code class="inline">false</code>.</li><li><code class="inline">:strict?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If set to true, only specified attributes will be loaded when passing
  a list of fields to fetch on a relationship, which allows for more
  optimized data-fetching.
  See <a href="https://hexdocs.pm/ash/3.7.6/Ash.Query.html#load/2"><code class="inline">Ash.Query.load/2</code></a>.
The default value is <code class="inline">false</code>.</li><li><code class="inline">:authorize_with</code> - If set to <code class="inline">:error</code>, instead of applying authorization filters as a filter, any records not matching the authorization filter will cause an error to be returned. The default value is <code class="inline">:filter</code>.</li><li><code class="inline">:read_action</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - The action to use when building the read query.</li><li><code class="inline">:assume_casted?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to cast attributes and arguments as input. This is an optimization for cases where the input is already casted and/or not in need of casting The default value is <code class="inline">false</code>.</li><li><code class="inline">:select</code> (list of <a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - A select statement to apply to records. Ignored if <code class="inline">return_records?</code> is not true.</li><li><code class="inline">:authorize_query_with</code> - If set to <code class="inline">:error</code>, instead of filtering unauthorized query results, unauthorized query results will raise an appropriate forbidden error. Uses <code class="inline">authorize_with</code> if not set.</li><li><code class="inline">:authorize_changeset_with</code> - If set to <code class="inline">:error</code>, instead of filtering unauthorized changes, unauthorized changes will raise an appropriate forbidden error. Uses <code class="inline">authorize_with</code> if not set.</li><li><code class="inline">:authorize_with</code> - If set to <code class="inline">:error</code>, instead of filtering unauthorized query results, unauthorized query results will raise an appropriate forbidden error. The default value is <code class="inline">:filter</code>.</li><li><code class="inline">:private_arguments</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">map/0</code></a>) - Private argument values to set on each changeset before validations and changes are run. The default value is <code class="inline">%{}</code>.</li><li><code class="inline">:sorted?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to sort results by their input position, in cases where <code class="inline">return_records?: true</code> was provided. The default value is <code class="inline">false</code>.</li><li><code class="inline">:return_records?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to return all of the records that were inserted. Defaults to false to account for large inserts. The default value is <code class="inline">false</code>.</li><li><code class="inline">:return_errors?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether to return all errors that occur during the operation. Defaults to the value of <code class="inline">:bulk_actions_default_to_errors?</code> in your config, or <code class="inline">false</code> if not set. Returning all errors may be expensive for large inserts. The default value is <code class="inline">false</code>.</li><li><code class="inline">:batch_size</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">pos_integer/0</code></a>) - The number of records to include in each batch. Defaults to the <code class="inline">default_limit</code>
or <code class="inline">max_page_size</code> of the action, or 100.</li><li><code class="inline">:return_stream?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If set to <code class="inline">true</code>, instead of an <a href="https://hexdocs.pm/ash/3.7.6/Ash.BulkResult.html"><code class="inline">Ash.BulkResult</code></a>, a mixed stream is returned.
Potential elements:
<code class="inline">{:notification, notification}</code> - if <code class="inline">return_notifications?</code> is set to <code class="inline">true</code>
<code class="inline">{:ok, record}</code> - if <code class="inline">return_records?</code> is set to <code class="inline">true</code>
<code class="inline">{:error, error}</code> - an error that occurred. May be changeset or an individual error.
The default value is <code class="inline">false</code>.</li><li><code class="inline">:return_nothing?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Mutes warnings about returning nothing.
Only relevant if <code class="inline">return_stream?</code> is set to <code class="inline">true</code> and all other
<code class="inline">return_*?</code> options are set to <code class="inline">false</code>.
The default value is <code class="inline">false</code>.</li><li><code class="inline">:stop_on_error?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If true, the first encountered error will stop the action and be returned. Otherwise, errors
will be skipped. The default value is <code class="inline">false</code>.</li><li><code class="inline">:notify?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to generate any notifications. If this is set to <code class="inline">true</code> then the data layer must return
the results from each batch. This may be intensive for large bulk actions.
Notifications will be automatically sent unless <code class="inline">return_notifications?</code> is set to <code class="inline">true</code>.
The default value is <code class="inline">false</code>.</li><li><code class="inline">:transaction</code> - Whether or not to wrap the entire execution in a transaction, each batch, or not at all.
Keep in mind:
<code class="inline">before_transaction</code> and <code class="inline">after_transaction</code> hooks attached to changesets will have to be run
<em>inside</em> the transaction if you choose <code class="inline">transaction: :all</code>.
The default value is <code class="inline">:batch</code>.</li><li><code class="inline">:max_concurrency</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">non_neg_integer/0</code></a>) - If set to a value greater than 0, up to that many tasks will be started to run batches asynchronously The default value is <code class="inline">0</code>.</li></ul></li><li><code class="inline">:private_arguments</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">map/0</code></a>) - Private argument values to set before validations and changes. The default value is <code class="inline">%{}</code>.</li></ul>
  </section>
</section>
<section class="detail" id="update_case_from_scraping!/3">

    <span id="update_case_from_scraping!/1"></span>

    <span id="update_case_from_scraping!/2"></span>

  <div class="detail-header">
    <a href="#update_case_from_scraping!/3" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">update_case_from_scraping!(record, params \\ nil, opts \\ nil)</h1>


    </div>
  </div>

  <section class="docstring">

<p>Calls the update_from_scraping action on EhsEnforcement.Enforcement.Case.
Raises any errors instead of returning them</p><h1>Inputs</h1><ul><li>url</li><li>offence_fine</li><li>offence_result</li><li>offence_costs</li><li>offence_hearing_date</li><li>related_cases</li></ul><h2 id="update_case_from_scraping!/3-options" class="section-heading"><a href="#update_case_from_scraping!/3-options" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Options</span></h2><ul><li><code class="inline">:params</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">map/0</code></a>) - Parameters to supply, ignored if the input is a changeset, only used when an identifier is given.</li><li><code class="inline">:atomic_upgrade?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If true the action will be done atomically if it can (and is configured to do so), ignoring the in memory transformations and validations. You should not generally need to disable this. The default value is <code class="inline">true</code>.</li><li><code class="inline">:timeout</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">timeout/0</code></a>) - A positive integer, or <code class="inline">:infinity</code>. If none is provided, the timeout configured on the domain is used.</li><li><code class="inline">:tracer</code> (one or a list of module that adopts <a href="https://hexdocs.pm/ash/3.7.6/Ash.Tracer.html"><code class="inline">Ash.Tracer</code></a>) - A tracer that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.Tracer.html"><code class="inline">Ash.Tracer</code></a> behaviour. See that module for more.</li><li><code class="inline">:action</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - The action to use, either an Action struct or the name of the action</li><li><code class="inline">:authorize?</code> - If an actor option is provided (even if it is <code class="inline">nil</code>), authorization happens automatically. If not, this flag can be used to authorize with no user.</li><li><code class="inline">:context</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">map/0</code></a>) - Context to set on the query, changeset, or input</li><li><code class="inline">:tenant</code> (value that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.ToTenant.html"><code class="inline">Ash.ToTenant</code></a> protocol) - A tenant to set on the query or changeset</li><li><code class="inline">:actor</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - If an actor is provided, it will be used in conjunction with the authorizers of a resource to authorize access</li><li><code class="inline">:scope</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A value that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> protocol, for passing around actor/tenant/context in a single value. See <a href="https://hexdocs.pm/ash/3.7.6/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> for more.</li><li><code class="inline">:return_notifications?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Use this if you're running ash actions in your own transaction and you want to manually handle sending notifications.<br/>If a transaction is ongoing, and this is false, notifications will be discarded, otherwise
the return value is <code class="inline">{:ok, result, notifications}</code> (or <code class="inline">{:ok, notifications}</code>)<br/>To send notifications later, use <code class="inline">Ash.Notifier.notify(notifications)</code>. It sends any notifications
that can be sent, and returns the rest. The default value is <code class="inline">false</code>.</li><li><code class="inline">:rollback_on_error?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to rollback the transaction on error, if the resource is in a transaction.<br/>If the action has <code class="inline">transaction? false</code> this option has no effect. If an error is returned from the
data layer and the resource is in a transaction, the transaction is always rolled back, regardless. The default value is <code class="inline">true</code>.</li><li><code class="inline">:notification_metadata</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - Metadata to be merged into the metadata field for all notifications sent from this operation. The default value is <code class="inline">%{}</code>.</li><li><code class="inline">:skip_unknown_inputs</code> - A list of inputs that, if provided, will be ignored if they are not recognized by the action. Use <code class="inline">:*</code> to indicate all unknown keys.</li><li><code class="inline">:load</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A load statement to add onto the changeset</li><li><code class="inline">:bulk_options</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">keyword/0</code></a>) - Options passed to <code class="inline">Ash.bulk_update</code>, if a query, list, or stream of inputs is provided.<ul><li><code class="inline">:atomic_update</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">map/0</code></a>) - A map of atomic updates to apply. See <a href="https://hexdocs.pm/ash/3.7.6/Ash.Changeset.html#atomic_update/3"><code class="inline">Ash.Changeset.atomic_update/3</code></a> for more.</li><li><code class="inline">:stream_batch_size</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">integer/0</code></a>) - Batch size to use if provided a query and the query must be streamed</li><li><code class="inline">:allow_stream_with</code> - The 'worst' strategy allowed to be used to fetch records if the <code class="inline">:stream</code> strategy is chosen. See the <a href="https://hexdocs.pm/ash/3.7.6/Ash.html#stream!/2"><code class="inline">Ash.stream!/2</code></a> docs for more. The default value is <code class="inline">:keyset</code>.</li><li><code class="inline">:authorize_query?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If a query is given, determines whether or not authorization is run on that query. The default value is <code class="inline">true</code>.</li><li><code class="inline">:select</code> (list of <a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - A select statement to apply to records. Ignored if <code class="inline">return_records?</code> is not true.</li><li><code class="inline">:filter</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A filter to apply to records. This is also applied to a stream of inputs.</li><li><code class="inline">:strategy</code> - The strategy or strategies to enable. :stream is used in all cases if the data layer does not support atomics. The default value is <code class="inline">[:atomic]</code>.</li><li><code class="inline">:allow_stream_with</code> - The 'worst' strategy allowed to be used to fetch records. See <a href="https://hexdocs.pm/ash/3.7.6/Ash.html#stream!/2"><code class="inline">Ash.stream!/2</code></a> docs for more. The default value is <code class="inline">:keyset</code>.</li><li><code class="inline">:stream_with</code> - The specific strategy to use to fetch records. See <a href="https://hexdocs.pm/ash/3.7.6/Ash.html#stream!/2"><code class="inline">Ash.stream!/2</code></a> docs for more.</li><li><code class="inline">:max_concurrency</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">non_neg_integer/0</code></a>) - The maximum number of processes allowed to be started for parallel loading of relationships and calculations. Defaults to <code class="inline">System.schedulers_online() * 2</code></li><li><code class="inline">:lock</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A lock statement to add onto the query</li><li><code class="inline">:return_query?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If <code class="inline">true</code>, the query that was ultimately used is returned as a third tuple element.
The query goes through many potential changes during a request, potentially adding
authorization filters, or replacing relationships for other data layers with their
corresponding ids. This option can be used to get the true query that was sent to
the data layer.
The default value is <code class="inline">false</code>.</li><li><code class="inline">:reuse_values?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether calculations are allowed to reuse values that have already been loaded, or must refetch them from the data layer. The default value is <code class="inline">false</code>.</li><li><code class="inline">:strict?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If set to true, only specified attributes will be loaded when passing
  a list of fields to fetch on a relationship, which allows for more
  optimized data-fetching.
  See <a href="https://hexdocs.pm/ash/3.7.6/Ash.Query.html#load/2"><code class="inline">Ash.Query.load/2</code></a>.
The default value is <code class="inline">false</code>.</li><li><code class="inline">:authorize_with</code> - If set to <code class="inline">:error</code>, instead of applying authorization filters as a filter, any records not matching the authorization filter will cause an error to be returned. The default value is <code class="inline">:filter</code>.</li><li><code class="inline">:read_action</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - The action to use when building the read query.</li><li><code class="inline">:assume_casted?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to cast attributes and arguments as input. This is an optimization for cases where the input is already casted and/or not in need of casting The default value is <code class="inline">false</code>.</li><li><code class="inline">:select</code> (list of <a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - A select statement to apply to records. Ignored if <code class="inline">return_records?</code> is not true.</li><li><code class="inline">:authorize_query_with</code> - If set to <code class="inline">:error</code>, instead of filtering unauthorized query results, unauthorized query results will raise an appropriate forbidden error. Uses <code class="inline">authorize_with</code> if not set.</li><li><code class="inline">:authorize_changeset_with</code> - If set to <code class="inline">:error</code>, instead of filtering unauthorized changes, unauthorized changes will raise an appropriate forbidden error. Uses <code class="inline">authorize_with</code> if not set.</li><li><code class="inline">:authorize_with</code> - If set to <code class="inline">:error</code>, instead of filtering unauthorized query results, unauthorized query results will raise an appropriate forbidden error. The default value is <code class="inline">:filter</code>.</li><li><code class="inline">:private_arguments</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">map/0</code></a>) - Private argument values to set on each changeset before validations and changes are run. The default value is <code class="inline">%{}</code>.</li><li><code class="inline">:sorted?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to sort results by their input position, in cases where <code class="inline">return_records?: true</code> was provided. The default value is <code class="inline">false</code>.</li><li><code class="inline">:return_records?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to return all of the records that were inserted. Defaults to false to account for large inserts. The default value is <code class="inline">false</code>.</li><li><code class="inline">:return_errors?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether to return all errors that occur during the operation. Defaults to the value of <code class="inline">:bulk_actions_default_to_errors?</code> in your config, or <code class="inline">false</code> if not set. Returning all errors may be expensive for large inserts. The default value is <code class="inline">false</code>.</li><li><code class="inline">:batch_size</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">pos_integer/0</code></a>) - The number of records to include in each batch. Defaults to the <code class="inline">default_limit</code>
or <code class="inline">max_page_size</code> of the action, or 100.</li><li><code class="inline">:return_stream?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If set to <code class="inline">true</code>, instead of an <a href="https://hexdocs.pm/ash/3.7.6/Ash.BulkResult.html"><code class="inline">Ash.BulkResult</code></a>, a mixed stream is returned.
Potential elements:
<code class="inline">{:notification, notification}</code> - if <code class="inline">return_notifications?</code> is set to <code class="inline">true</code>
<code class="inline">{:ok, record}</code> - if <code class="inline">return_records?</code> is set to <code class="inline">true</code>
<code class="inline">{:error, error}</code> - an error that occurred. May be changeset or an individual error.
The default value is <code class="inline">false</code>.</li><li><code class="inline">:return_nothing?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Mutes warnings about returning nothing.
Only relevant if <code class="inline">return_stream?</code> is set to <code class="inline">true</code> and all other
<code class="inline">return_*?</code> options are set to <code class="inline">false</code>.
The default value is <code class="inline">false</code>.</li><li><code class="inline">:stop_on_error?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If true, the first encountered error will stop the action and be returned. Otherwise, errors
will be skipped. The default value is <code class="inline">false</code>.</li><li><code class="inline">:notify?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to generate any notifications. If this is set to <code class="inline">true</code> then the data layer must return
the results from each batch. This may be intensive for large bulk actions.
Notifications will be automatically sent unless <code class="inline">return_notifications?</code> is set to <code class="inline">true</code>.
The default value is <code class="inline">false</code>.</li><li><code class="inline">:transaction</code> - Whether or not to wrap the entire execution in a transaction, each batch, or not at all.
Keep in mind:
<code class="inline">before_transaction</code> and <code class="inline">after_transaction</code> hooks attached to changesets will have to be run
<em>inside</em> the transaction if you choose <code class="inline">transaction: :all</code>.
The default value is <code class="inline">:batch</code>.</li><li><code class="inline">:max_concurrency</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">non_neg_integer/0</code></a>) - If set to a value greater than 0, up to that many tasks will be started to run batches asynchronously The default value is <code class="inline">0</code>.</li></ul></li><li><code class="inline">:private_arguments</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">map/0</code></a>) - Private argument values to set before validations and changes. The default value is <code class="inline">%{}</code>.</li></ul>
  </section>
</section>
<section class="detail" id="update_legislation/3">

    <span id="update_legislation/1"></span>

    <span id="update_legislation/2"></span>

  <div class="detail-header">
    <a href="#update_legislation/3" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">update_legislation(record, params \\ nil, opts \\ nil)</h1>


    </div>
  </div>

  <section class="docstring">

<p>Calls the update action on EhsEnforcement.Enforcement.Legislation.</p><h1>Inputs</h1><ul><li>legislation_type - Type of legislation</li><li>legislation_year - Year the legislation was enacted (e.g., 1974)</li><li>legislation_title - Full title of the legislation (e.g., 'Health and Safety at Work etc. Act')</li><li>legislation_number - Official number/chapter of the legislation (e.g., 33)</li></ul><h2 id="update_legislation/3-options" class="section-heading"><a href="#update_legislation/3-options" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Options</span></h2><ul><li><code class="inline">:params</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">map/0</code></a>) - Parameters to supply, ignored if the input is a changeset, only used when an identifier is given.</li><li><code class="inline">:atomic_upgrade?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If true the action will be done atomically if it can (and is configured to do so), ignoring the in memory transformations and validations. You should not generally need to disable this. The default value is <code class="inline">true</code>.</li><li><code class="inline">:timeout</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">timeout/0</code></a>) - A positive integer, or <code class="inline">:infinity</code>. If none is provided, the timeout configured on the domain is used.</li><li><code class="inline">:tracer</code> (one or a list of module that adopts <a href="https://hexdocs.pm/ash/3.7.6/Ash.Tracer.html"><code class="inline">Ash.Tracer</code></a>) - A tracer that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.Tracer.html"><code class="inline">Ash.Tracer</code></a> behaviour. See that module for more.</li><li><code class="inline">:action</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - The action to use, either an Action struct or the name of the action</li><li><code class="inline">:authorize?</code> - If an actor option is provided (even if it is <code class="inline">nil</code>), authorization happens automatically. If not, this flag can be used to authorize with no user.</li><li><code class="inline">:context</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">map/0</code></a>) - Context to set on the query, changeset, or input</li><li><code class="inline">:tenant</code> (value that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.ToTenant.html"><code class="inline">Ash.ToTenant</code></a> protocol) - A tenant to set on the query or changeset</li><li><code class="inline">:actor</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - If an actor is provided, it will be used in conjunction with the authorizers of a resource to authorize access</li><li><code class="inline">:scope</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A value that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> protocol, for passing around actor/tenant/context in a single value. See <a href="https://hexdocs.pm/ash/3.7.6/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> for more.</li><li><code class="inline">:return_notifications?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Use this if you're running ash actions in your own transaction and you want to manually handle sending notifications.<br/>If a transaction is ongoing, and this is false, notifications will be discarded, otherwise
the return value is <code class="inline">{:ok, result, notifications}</code> (or <code class="inline">{:ok, notifications}</code>)<br/>To send notifications later, use <code class="inline">Ash.Notifier.notify(notifications)</code>. It sends any notifications
that can be sent, and returns the rest. The default value is <code class="inline">false</code>.</li><li><code class="inline">:rollback_on_error?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to rollback the transaction on error, if the resource is in a transaction.<br/>If the action has <code class="inline">transaction? false</code> this option has no effect. If an error is returned from the
data layer and the resource is in a transaction, the transaction is always rolled back, regardless. The default value is <code class="inline">true</code>.</li><li><code class="inline">:notification_metadata</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - Metadata to be merged into the metadata field for all notifications sent from this operation. The default value is <code class="inline">%{}</code>.</li><li><code class="inline">:skip_unknown_inputs</code> - A list of inputs that, if provided, will be ignored if they are not recognized by the action. Use <code class="inline">:*</code> to indicate all unknown keys.</li><li><code class="inline">:load</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A load statement to add onto the changeset</li><li><code class="inline">:bulk_options</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">keyword/0</code></a>) - Options passed to <code class="inline">Ash.bulk_update</code>, if a query, list, or stream of inputs is provided.<ul><li><code class="inline">:atomic_update</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">map/0</code></a>) - A map of atomic updates to apply. See <a href="https://hexdocs.pm/ash/3.7.6/Ash.Changeset.html#atomic_update/3"><code class="inline">Ash.Changeset.atomic_update/3</code></a> for more.</li><li><code class="inline">:stream_batch_size</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">integer/0</code></a>) - Batch size to use if provided a query and the query must be streamed</li><li><code class="inline">:allow_stream_with</code> - The 'worst' strategy allowed to be used to fetch records if the <code class="inline">:stream</code> strategy is chosen. See the <a href="https://hexdocs.pm/ash/3.7.6/Ash.html#stream!/2"><code class="inline">Ash.stream!/2</code></a> docs for more. The default value is <code class="inline">:keyset</code>.</li><li><code class="inline">:authorize_query?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If a query is given, determines whether or not authorization is run on that query. The default value is <code class="inline">true</code>.</li><li><code class="inline">:select</code> (list of <a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - A select statement to apply to records. Ignored if <code class="inline">return_records?</code> is not true.</li><li><code class="inline">:filter</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A filter to apply to records. This is also applied to a stream of inputs.</li><li><code class="inline">:strategy</code> - The strategy or strategies to enable. :stream is used in all cases if the data layer does not support atomics. The default value is <code class="inline">[:atomic]</code>.</li><li><code class="inline">:allow_stream_with</code> - The 'worst' strategy allowed to be used to fetch records. See <a href="https://hexdocs.pm/ash/3.7.6/Ash.html#stream!/2"><code class="inline">Ash.stream!/2</code></a> docs for more. The default value is <code class="inline">:keyset</code>.</li><li><code class="inline">:stream_with</code> - The specific strategy to use to fetch records. See <a href="https://hexdocs.pm/ash/3.7.6/Ash.html#stream!/2"><code class="inline">Ash.stream!/2</code></a> docs for more.</li><li><code class="inline">:max_concurrency</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">non_neg_integer/0</code></a>) - The maximum number of processes allowed to be started for parallel loading of relationships and calculations. Defaults to <code class="inline">System.schedulers_online() * 2</code></li><li><code class="inline">:lock</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A lock statement to add onto the query</li><li><code class="inline">:return_query?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If <code class="inline">true</code>, the query that was ultimately used is returned as a third tuple element.
The query goes through many potential changes during a request, potentially adding
authorization filters, or replacing relationships for other data layers with their
corresponding ids. This option can be used to get the true query that was sent to
the data layer.
The default value is <code class="inline">false</code>.</li><li><code class="inline">:reuse_values?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether calculations are allowed to reuse values that have already been loaded, or must refetch them from the data layer. The default value is <code class="inline">false</code>.</li><li><code class="inline">:strict?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If set to true, only specified attributes will be loaded when passing
  a list of fields to fetch on a relationship, which allows for more
  optimized data-fetching.
  See <a href="https://hexdocs.pm/ash/3.7.6/Ash.Query.html#load/2"><code class="inline">Ash.Query.load/2</code></a>.
The default value is <code class="inline">false</code>.</li><li><code class="inline">:authorize_with</code> - If set to <code class="inline">:error</code>, instead of applying authorization filters as a filter, any records not matching the authorization filter will cause an error to be returned. The default value is <code class="inline">:filter</code>.</li><li><code class="inline">:read_action</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - The action to use when building the read query.</li><li><code class="inline">:assume_casted?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to cast attributes and arguments as input. This is an optimization for cases where the input is already casted and/or not in need of casting The default value is <code class="inline">false</code>.</li><li><code class="inline">:select</code> (list of <a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - A select statement to apply to records. Ignored if <code class="inline">return_records?</code> is not true.</li><li><code class="inline">:authorize_query_with</code> - If set to <code class="inline">:error</code>, instead of filtering unauthorized query results, unauthorized query results will raise an appropriate forbidden error. Uses <code class="inline">authorize_with</code> if not set.</li><li><code class="inline">:authorize_changeset_with</code> - If set to <code class="inline">:error</code>, instead of filtering unauthorized changes, unauthorized changes will raise an appropriate forbidden error. Uses <code class="inline">authorize_with</code> if not set.</li><li><code class="inline">:authorize_with</code> - If set to <code class="inline">:error</code>, instead of filtering unauthorized query results, unauthorized query results will raise an appropriate forbidden error. The default value is <code class="inline">:filter</code>.</li><li><code class="inline">:private_arguments</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">map/0</code></a>) - Private argument values to set on each changeset before validations and changes are run. The default value is <code class="inline">%{}</code>.</li><li><code class="inline">:sorted?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to sort results by their input position, in cases where <code class="inline">return_records?: true</code> was provided. The default value is <code class="inline">false</code>.</li><li><code class="inline">:return_records?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to return all of the records that were inserted. Defaults to false to account for large inserts. The default value is <code class="inline">false</code>.</li><li><code class="inline">:return_errors?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether to return all errors that occur during the operation. Defaults to the value of <code class="inline">:bulk_actions_default_to_errors?</code> in your config, or <code class="inline">false</code> if not set. Returning all errors may be expensive for large inserts. The default value is <code class="inline">false</code>.</li><li><code class="inline">:batch_size</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">pos_integer/0</code></a>) - The number of records to include in each batch. Defaults to the <code class="inline">default_limit</code>
or <code class="inline">max_page_size</code> of the action, or 100.</li><li><code class="inline">:return_stream?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If set to <code class="inline">true</code>, instead of an <a href="https://hexdocs.pm/ash/3.7.6/Ash.BulkResult.html"><code class="inline">Ash.BulkResult</code></a>, a mixed stream is returned.
Potential elements:
<code class="inline">{:notification, notification}</code> - if <code class="inline">return_notifications?</code> is set to <code class="inline">true</code>
<code class="inline">{:ok, record}</code> - if <code class="inline">return_records?</code> is set to <code class="inline">true</code>
<code class="inline">{:error, error}</code> - an error that occurred. May be changeset or an individual error.
The default value is <code class="inline">false</code>.</li><li><code class="inline">:return_nothing?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Mutes warnings about returning nothing.
Only relevant if <code class="inline">return_stream?</code> is set to <code class="inline">true</code> and all other
<code class="inline">return_*?</code> options are set to <code class="inline">false</code>.
The default value is <code class="inline">false</code>.</li><li><code class="inline">:stop_on_error?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If true, the first encountered error will stop the action and be returned. Otherwise, errors
will be skipped. The default value is <code class="inline">false</code>.</li><li><code class="inline">:notify?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to generate any notifications. If this is set to <code class="inline">true</code> then the data layer must return
the results from each batch. This may be intensive for large bulk actions.
Notifications will be automatically sent unless <code class="inline">return_notifications?</code> is set to <code class="inline">true</code>.
The default value is <code class="inline">false</code>.</li><li><code class="inline">:transaction</code> - Whether or not to wrap the entire execution in a transaction, each batch, or not at all.
Keep in mind:
<code class="inline">before_transaction</code> and <code class="inline">after_transaction</code> hooks attached to changesets will have to be run
<em>inside</em> the transaction if you choose <code class="inline">transaction: :all</code>.
The default value is <code class="inline">:batch</code>.</li><li><code class="inline">:max_concurrency</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">non_neg_integer/0</code></a>) - If set to a value greater than 0, up to that many tasks will be started to run batches asynchronously The default value is <code class="inline">0</code>.</li></ul></li><li><code class="inline">:private_arguments</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">map/0</code></a>) - Private argument values to set before validations and changes. The default value is <code class="inline">%{}</code>.</li></ul>
  </section>
</section>
<section class="detail" id="update_legislation!/3">

    <span id="update_legislation!/1"></span>

    <span id="update_legislation!/2"></span>

  <div class="detail-header">
    <a href="#update_legislation!/3" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">update_legislation!(record, params \\ nil, opts \\ nil)</h1>


    </div>
  </div>

  <section class="docstring">

<p>Calls the update action on EhsEnforcement.Enforcement.Legislation.
Raises any errors instead of returning them</p><h1>Inputs</h1><ul><li>legislation_type - Type of legislation</li><li>legislation_year - Year the legislation was enacted (e.g., 1974)</li><li>legislation_title - Full title of the legislation (e.g., 'Health and Safety at Work etc. Act')</li><li>legislation_number - Official number/chapter of the legislation (e.g., 33)</li></ul><h2 id="update_legislation!/3-options" class="section-heading"><a href="#update_legislation!/3-options" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Options</span></h2><ul><li><code class="inline">:params</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">map/0</code></a>) - Parameters to supply, ignored if the input is a changeset, only used when an identifier is given.</li><li><code class="inline">:atomic_upgrade?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If true the action will be done atomically if it can (and is configured to do so), ignoring the in memory transformations and validations. You should not generally need to disable this. The default value is <code class="inline">true</code>.</li><li><code class="inline">:timeout</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">timeout/0</code></a>) - A positive integer, or <code class="inline">:infinity</code>. If none is provided, the timeout configured on the domain is used.</li><li><code class="inline">:tracer</code> (one or a list of module that adopts <a href="https://hexdocs.pm/ash/3.7.6/Ash.Tracer.html"><code class="inline">Ash.Tracer</code></a>) - A tracer that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.Tracer.html"><code class="inline">Ash.Tracer</code></a> behaviour. See that module for more.</li><li><code class="inline">:action</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - The action to use, either an Action struct or the name of the action</li><li><code class="inline">:authorize?</code> - If an actor option is provided (even if it is <code class="inline">nil</code>), authorization happens automatically. If not, this flag can be used to authorize with no user.</li><li><code class="inline">:context</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">map/0</code></a>) - Context to set on the query, changeset, or input</li><li><code class="inline">:tenant</code> (value that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.ToTenant.html"><code class="inline">Ash.ToTenant</code></a> protocol) - A tenant to set on the query or changeset</li><li><code class="inline">:actor</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - If an actor is provided, it will be used in conjunction with the authorizers of a resource to authorize access</li><li><code class="inline">:scope</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A value that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> protocol, for passing around actor/tenant/context in a single value. See <a href="https://hexdocs.pm/ash/3.7.6/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> for more.</li><li><code class="inline">:return_notifications?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Use this if you're running ash actions in your own transaction and you want to manually handle sending notifications.<br/>If a transaction is ongoing, and this is false, notifications will be discarded, otherwise
the return value is <code class="inline">{:ok, result, notifications}</code> (or <code class="inline">{:ok, notifications}</code>)<br/>To send notifications later, use <code class="inline">Ash.Notifier.notify(notifications)</code>. It sends any notifications
that can be sent, and returns the rest. The default value is <code class="inline">false</code>.</li><li><code class="inline">:rollback_on_error?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to rollback the transaction on error, if the resource is in a transaction.<br/>If the action has <code class="inline">transaction? false</code> this option has no effect. If an error is returned from the
data layer and the resource is in a transaction, the transaction is always rolled back, regardless. The default value is <code class="inline">true</code>.</li><li><code class="inline">:notification_metadata</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - Metadata to be merged into the metadata field for all notifications sent from this operation. The default value is <code class="inline">%{}</code>.</li><li><code class="inline">:skip_unknown_inputs</code> - A list of inputs that, if provided, will be ignored if they are not recognized by the action. Use <code class="inline">:*</code> to indicate all unknown keys.</li><li><code class="inline">:load</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A load statement to add onto the changeset</li><li><code class="inline">:bulk_options</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">keyword/0</code></a>) - Options passed to <code class="inline">Ash.bulk_update</code>, if a query, list, or stream of inputs is provided.<ul><li><code class="inline">:atomic_update</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">map/0</code></a>) - A map of atomic updates to apply. See <a href="https://hexdocs.pm/ash/3.7.6/Ash.Changeset.html#atomic_update/3"><code class="inline">Ash.Changeset.atomic_update/3</code></a> for more.</li><li><code class="inline">:stream_batch_size</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">integer/0</code></a>) - Batch size to use if provided a query and the query must be streamed</li><li><code class="inline">:allow_stream_with</code> - The 'worst' strategy allowed to be used to fetch records if the <code class="inline">:stream</code> strategy is chosen. See the <a href="https://hexdocs.pm/ash/3.7.6/Ash.html#stream!/2"><code class="inline">Ash.stream!/2</code></a> docs for more. The default value is <code class="inline">:keyset</code>.</li><li><code class="inline">:authorize_query?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If a query is given, determines whether or not authorization is run on that query. The default value is <code class="inline">true</code>.</li><li><code class="inline">:select</code> (list of <a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - A select statement to apply to records. Ignored if <code class="inline">return_records?</code> is not true.</li><li><code class="inline">:filter</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A filter to apply to records. This is also applied to a stream of inputs.</li><li><code class="inline">:strategy</code> - The strategy or strategies to enable. :stream is used in all cases if the data layer does not support atomics. The default value is <code class="inline">[:atomic]</code>.</li><li><code class="inline">:allow_stream_with</code> - The 'worst' strategy allowed to be used to fetch records. See <a href="https://hexdocs.pm/ash/3.7.6/Ash.html#stream!/2"><code class="inline">Ash.stream!/2</code></a> docs for more. The default value is <code class="inline">:keyset</code>.</li><li><code class="inline">:stream_with</code> - The specific strategy to use to fetch records. See <a href="https://hexdocs.pm/ash/3.7.6/Ash.html#stream!/2"><code class="inline">Ash.stream!/2</code></a> docs for more.</li><li><code class="inline">:max_concurrency</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">non_neg_integer/0</code></a>) - The maximum number of processes allowed to be started for parallel loading of relationships and calculations. Defaults to <code class="inline">System.schedulers_online() * 2</code></li><li><code class="inline">:lock</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A lock statement to add onto the query</li><li><code class="inline">:return_query?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If <code class="inline">true</code>, the query that was ultimately used is returned as a third tuple element.
The query goes through many potential changes during a request, potentially adding
authorization filters, or replacing relationships for other data layers with their
corresponding ids. This option can be used to get the true query that was sent to
the data layer.
The default value is <code class="inline">false</code>.</li><li><code class="inline">:reuse_values?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether calculations are allowed to reuse values that have already been loaded, or must refetch them from the data layer. The default value is <code class="inline">false</code>.</li><li><code class="inline">:strict?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If set to true, only specified attributes will be loaded when passing
  a list of fields to fetch on a relationship, which allows for more
  optimized data-fetching.
  See <a href="https://hexdocs.pm/ash/3.7.6/Ash.Query.html#load/2"><code class="inline">Ash.Query.load/2</code></a>.
The default value is <code class="inline">false</code>.</li><li><code class="inline">:authorize_with</code> - If set to <code class="inline">:error</code>, instead of applying authorization filters as a filter, any records not matching the authorization filter will cause an error to be returned. The default value is <code class="inline">:filter</code>.</li><li><code class="inline">:read_action</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - The action to use when building the read query.</li><li><code class="inline">:assume_casted?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to cast attributes and arguments as input. This is an optimization for cases where the input is already casted and/or not in need of casting The default value is <code class="inline">false</code>.</li><li><code class="inline">:select</code> (list of <a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - A select statement to apply to records. Ignored if <code class="inline">return_records?</code> is not true.</li><li><code class="inline">:authorize_query_with</code> - If set to <code class="inline">:error</code>, instead of filtering unauthorized query results, unauthorized query results will raise an appropriate forbidden error. Uses <code class="inline">authorize_with</code> if not set.</li><li><code class="inline">:authorize_changeset_with</code> - If set to <code class="inline">:error</code>, instead of filtering unauthorized changes, unauthorized changes will raise an appropriate forbidden error. Uses <code class="inline">authorize_with</code> if not set.</li><li><code class="inline">:authorize_with</code> - If set to <code class="inline">:error</code>, instead of filtering unauthorized query results, unauthorized query results will raise an appropriate forbidden error. The default value is <code class="inline">:filter</code>.</li><li><code class="inline">:private_arguments</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">map/0</code></a>) - Private argument values to set on each changeset before validations and changes are run. The default value is <code class="inline">%{}</code>.</li><li><code class="inline">:sorted?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to sort results by their input position, in cases where <code class="inline">return_records?: true</code> was provided. The default value is <code class="inline">false</code>.</li><li><code class="inline">:return_records?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to return all of the records that were inserted. Defaults to false to account for large inserts. The default value is <code class="inline">false</code>.</li><li><code class="inline">:return_errors?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether to return all errors that occur during the operation. Defaults to the value of <code class="inline">:bulk_actions_default_to_errors?</code> in your config, or <code class="inline">false</code> if not set. Returning all errors may be expensive for large inserts. The default value is <code class="inline">false</code>.</li><li><code class="inline">:batch_size</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">pos_integer/0</code></a>) - The number of records to include in each batch. Defaults to the <code class="inline">default_limit</code>
or <code class="inline">max_page_size</code> of the action, or 100.</li><li><code class="inline">:return_stream?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If set to <code class="inline">true</code>, instead of an <a href="https://hexdocs.pm/ash/3.7.6/Ash.BulkResult.html"><code class="inline">Ash.BulkResult</code></a>, a mixed stream is returned.
Potential elements:
<code class="inline">{:notification, notification}</code> - if <code class="inline">return_notifications?</code> is set to <code class="inline">true</code>
<code class="inline">{:ok, record}</code> - if <code class="inline">return_records?</code> is set to <code class="inline">true</code>
<code class="inline">{:error, error}</code> - an error that occurred. May be changeset or an individual error.
The default value is <code class="inline">false</code>.</li><li><code class="inline">:return_nothing?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Mutes warnings about returning nothing.
Only relevant if <code class="inline">return_stream?</code> is set to <code class="inline">true</code> and all other
<code class="inline">return_*?</code> options are set to <code class="inline">false</code>.
The default value is <code class="inline">false</code>.</li><li><code class="inline">:stop_on_error?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If true, the first encountered error will stop the action and be returned. Otherwise, errors
will be skipped. The default value is <code class="inline">false</code>.</li><li><code class="inline">:notify?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to generate any notifications. If this is set to <code class="inline">true</code> then the data layer must return
the results from each batch. This may be intensive for large bulk actions.
Notifications will be automatically sent unless <code class="inline">return_notifications?</code> is set to <code class="inline">true</code>.
The default value is <code class="inline">false</code>.</li><li><code class="inline">:transaction</code> - Whether or not to wrap the entire execution in a transaction, each batch, or not at all.
Keep in mind:
<code class="inline">before_transaction</code> and <code class="inline">after_transaction</code> hooks attached to changesets will have to be run
<em>inside</em> the transaction if you choose <code class="inline">transaction: :all</code>.
The default value is <code class="inline">:batch</code>.</li><li><code class="inline">:max_concurrency</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">non_neg_integer/0</code></a>) - If set to a value greater than 0, up to that many tasks will be started to run batches asynchronously The default value is <code class="inline">0</code>.</li></ul></li><li><code class="inline">:private_arguments</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">map/0</code></a>) - Private argument values to set before validations and changes. The default value is <code class="inline">%{}</code>.</li></ul>
  </section>
</section>
<section class="detail" id="update_notice/3">

    <span id="update_notice/1"></span>

    <span id="update_notice/2"></span>

  <div class="detail-header">
    <a href="#update_notice/3" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">update_notice(record, params \\ nil, opts \\ nil)</h1>


    </div>
  </div>

  <section class="docstring">

<p>Calls the update action on EhsEnforcement.Enforcement.Notice.</p><h1>Inputs</h1><ul><li>regulator_event_reference</li><li>regulator_function</li><li>offence_breaches - Description of regulation breaches/violations</li><li>legal_section</li><li>last_synced_at</li><li>environmental_impact</li><li>url</li><li>notice_date</li><li>compliance_date</li><li>regulator_id</li><li>regulator_ref_number</li><li>notice_body</li><li>offence_action_date</li><li>environmental_receptor</li><li>operative_date</li><li>legal_act</li><li>offence_action_type</li><li>airtable_id</li></ul><h2 id="update_notice/3-options" class="section-heading"><a href="#update_notice/3-options" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Options</span></h2><ul><li><code class="inline">:params</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">map/0</code></a>) - Parameters to supply, ignored if the input is a changeset, only used when an identifier is given.</li><li><code class="inline">:atomic_upgrade?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If true the action will be done atomically if it can (and is configured to do so), ignoring the in memory transformations and validations. You should not generally need to disable this. The default value is <code class="inline">true</code>.</li><li><code class="inline">:timeout</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">timeout/0</code></a>) - A positive integer, or <code class="inline">:infinity</code>. If none is provided, the timeout configured on the domain is used.</li><li><code class="inline">:tracer</code> (one or a list of module that adopts <a href="https://hexdocs.pm/ash/3.7.6/Ash.Tracer.html"><code class="inline">Ash.Tracer</code></a>) - A tracer that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.Tracer.html"><code class="inline">Ash.Tracer</code></a> behaviour. See that module for more.</li><li><code class="inline">:action</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - The action to use, either an Action struct or the name of the action</li><li><code class="inline">:authorize?</code> - If an actor option is provided (even if it is <code class="inline">nil</code>), authorization happens automatically. If not, this flag can be used to authorize with no user.</li><li><code class="inline">:context</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">map/0</code></a>) - Context to set on the query, changeset, or input</li><li><code class="inline">:tenant</code> (value that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.ToTenant.html"><code class="inline">Ash.ToTenant</code></a> protocol) - A tenant to set on the query or changeset</li><li><code class="inline">:actor</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - If an actor is provided, it will be used in conjunction with the authorizers of a resource to authorize access</li><li><code class="inline">:scope</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A value that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> protocol, for passing around actor/tenant/context in a single value. See <a href="https://hexdocs.pm/ash/3.7.6/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> for more.</li><li><code class="inline">:return_notifications?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Use this if you're running ash actions in your own transaction and you want to manually handle sending notifications.<br/>If a transaction is ongoing, and this is false, notifications will be discarded, otherwise
the return value is <code class="inline">{:ok, result, notifications}</code> (or <code class="inline">{:ok, notifications}</code>)<br/>To send notifications later, use <code class="inline">Ash.Notifier.notify(notifications)</code>. It sends any notifications
that can be sent, and returns the rest. The default value is <code class="inline">false</code>.</li><li><code class="inline">:rollback_on_error?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to rollback the transaction on error, if the resource is in a transaction.<br/>If the action has <code class="inline">transaction? false</code> this option has no effect. If an error is returned from the
data layer and the resource is in a transaction, the transaction is always rolled back, regardless. The default value is <code class="inline">true</code>.</li><li><code class="inline">:notification_metadata</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - Metadata to be merged into the metadata field for all notifications sent from this operation. The default value is <code class="inline">%{}</code>.</li><li><code class="inline">:skip_unknown_inputs</code> - A list of inputs that, if provided, will be ignored if they are not recognized by the action. Use <code class="inline">:*</code> to indicate all unknown keys.</li><li><code class="inline">:load</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A load statement to add onto the changeset</li><li><code class="inline">:bulk_options</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">keyword/0</code></a>) - Options passed to <code class="inline">Ash.bulk_update</code>, if a query, list, or stream of inputs is provided.<ul><li><code class="inline">:atomic_update</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">map/0</code></a>) - A map of atomic updates to apply. See <a href="https://hexdocs.pm/ash/3.7.6/Ash.Changeset.html#atomic_update/3"><code class="inline">Ash.Changeset.atomic_update/3</code></a> for more.</li><li><code class="inline">:stream_batch_size</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">integer/0</code></a>) - Batch size to use if provided a query and the query must be streamed</li><li><code class="inline">:allow_stream_with</code> - The 'worst' strategy allowed to be used to fetch records if the <code class="inline">:stream</code> strategy is chosen. See the <a href="https://hexdocs.pm/ash/3.7.6/Ash.html#stream!/2"><code class="inline">Ash.stream!/2</code></a> docs for more. The default value is <code class="inline">:keyset</code>.</li><li><code class="inline">:authorize_query?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If a query is given, determines whether or not authorization is run on that query. The default value is <code class="inline">true</code>.</li><li><code class="inline">:select</code> (list of <a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - A select statement to apply to records. Ignored if <code class="inline">return_records?</code> is not true.</li><li><code class="inline">:filter</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A filter to apply to records. This is also applied to a stream of inputs.</li><li><code class="inline">:strategy</code> - The strategy or strategies to enable. :stream is used in all cases if the data layer does not support atomics. The default value is <code class="inline">[:atomic]</code>.</li><li><code class="inline">:allow_stream_with</code> - The 'worst' strategy allowed to be used to fetch records. See <a href="https://hexdocs.pm/ash/3.7.6/Ash.html#stream!/2"><code class="inline">Ash.stream!/2</code></a> docs for more. The default value is <code class="inline">:keyset</code>.</li><li><code class="inline">:stream_with</code> - The specific strategy to use to fetch records. See <a href="https://hexdocs.pm/ash/3.7.6/Ash.html#stream!/2"><code class="inline">Ash.stream!/2</code></a> docs for more.</li><li><code class="inline">:max_concurrency</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">non_neg_integer/0</code></a>) - The maximum number of processes allowed to be started for parallel loading of relationships and calculations. Defaults to <code class="inline">System.schedulers_online() * 2</code></li><li><code class="inline">:lock</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A lock statement to add onto the query</li><li><code class="inline">:return_query?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If <code class="inline">true</code>, the query that was ultimately used is returned as a third tuple element.
The query goes through many potential changes during a request, potentially adding
authorization filters, or replacing relationships for other data layers with their
corresponding ids. This option can be used to get the true query that was sent to
the data layer.
The default value is <code class="inline">false</code>.</li><li><code class="inline">:reuse_values?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether calculations are allowed to reuse values that have already been loaded, or must refetch them from the data layer. The default value is <code class="inline">false</code>.</li><li><code class="inline">:strict?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If set to true, only specified attributes will be loaded when passing
  a list of fields to fetch on a relationship, which allows for more
  optimized data-fetching.
  See <a href="https://hexdocs.pm/ash/3.7.6/Ash.Query.html#load/2"><code class="inline">Ash.Query.load/2</code></a>.
The default value is <code class="inline">false</code>.</li><li><code class="inline">:authorize_with</code> - If set to <code class="inline">:error</code>, instead of applying authorization filters as a filter, any records not matching the authorization filter will cause an error to be returned. The default value is <code class="inline">:filter</code>.</li><li><code class="inline">:read_action</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - The action to use when building the read query.</li><li><code class="inline">:assume_casted?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to cast attributes and arguments as input. This is an optimization for cases where the input is already casted and/or not in need of casting The default value is <code class="inline">false</code>.</li><li><code class="inline">:select</code> (list of <a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - A select statement to apply to records. Ignored if <code class="inline">return_records?</code> is not true.</li><li><code class="inline">:authorize_query_with</code> - If set to <code class="inline">:error</code>, instead of filtering unauthorized query results, unauthorized query results will raise an appropriate forbidden error. Uses <code class="inline">authorize_with</code> if not set.</li><li><code class="inline">:authorize_changeset_with</code> - If set to <code class="inline">:error</code>, instead of filtering unauthorized changes, unauthorized changes will raise an appropriate forbidden error. Uses <code class="inline">authorize_with</code> if not set.</li><li><code class="inline">:authorize_with</code> - If set to <code class="inline">:error</code>, instead of filtering unauthorized query results, unauthorized query results will raise an appropriate forbidden error. The default value is <code class="inline">:filter</code>.</li><li><code class="inline">:private_arguments</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">map/0</code></a>) - Private argument values to set on each changeset before validations and changes are run. The default value is <code class="inline">%{}</code>.</li><li><code class="inline">:sorted?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to sort results by their input position, in cases where <code class="inline">return_records?: true</code> was provided. The default value is <code class="inline">false</code>.</li><li><code class="inline">:return_records?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to return all of the records that were inserted. Defaults to false to account for large inserts. The default value is <code class="inline">false</code>.</li><li><code class="inline">:return_errors?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether to return all errors that occur during the operation. Defaults to the value of <code class="inline">:bulk_actions_default_to_errors?</code> in your config, or <code class="inline">false</code> if not set. Returning all errors may be expensive for large inserts. The default value is <code class="inline">false</code>.</li><li><code class="inline">:batch_size</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">pos_integer/0</code></a>) - The number of records to include in each batch. Defaults to the <code class="inline">default_limit</code>
or <code class="inline">max_page_size</code> of the action, or 100.</li><li><code class="inline">:return_stream?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If set to <code class="inline">true</code>, instead of an <a href="https://hexdocs.pm/ash/3.7.6/Ash.BulkResult.html"><code class="inline">Ash.BulkResult</code></a>, a mixed stream is returned.
Potential elements:
<code class="inline">{:notification, notification}</code> - if <code class="inline">return_notifications?</code> is set to <code class="inline">true</code>
<code class="inline">{:ok, record}</code> - if <code class="inline">return_records?</code> is set to <code class="inline">true</code>
<code class="inline">{:error, error}</code> - an error that occurred. May be changeset or an individual error.
The default value is <code class="inline">false</code>.</li><li><code class="inline">:return_nothing?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Mutes warnings about returning nothing.
Only relevant if <code class="inline">return_stream?</code> is set to <code class="inline">true</code> and all other
<code class="inline">return_*?</code> options are set to <code class="inline">false</code>.
The default value is <code class="inline">false</code>.</li><li><code class="inline">:stop_on_error?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If true, the first encountered error will stop the action and be returned. Otherwise, errors
will be skipped. The default value is <code class="inline">false</code>.</li><li><code class="inline">:notify?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to generate any notifications. If this is set to <code class="inline">true</code> then the data layer must return
the results from each batch. This may be intensive for large bulk actions.
Notifications will be automatically sent unless <code class="inline">return_notifications?</code> is set to <code class="inline">true</code>.
The default value is <code class="inline">false</code>.</li><li><code class="inline">:transaction</code> - Whether or not to wrap the entire execution in a transaction, each batch, or not at all.
Keep in mind:
<code class="inline">before_transaction</code> and <code class="inline">after_transaction</code> hooks attached to changesets will have to be run
<em>inside</em> the transaction if you choose <code class="inline">transaction: :all</code>.
The default value is <code class="inline">:batch</code>.</li><li><code class="inline">:max_concurrency</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">non_neg_integer/0</code></a>) - If set to a value greater than 0, up to that many tasks will be started to run batches asynchronously The default value is <code class="inline">0</code>.</li></ul></li><li><code class="inline">:private_arguments</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">map/0</code></a>) - Private argument values to set before validations and changes. The default value is <code class="inline">%{}</code>.</li></ul>
  </section>
</section>
<section class="detail" id="update_notice!/3">

    <span id="update_notice!/1"></span>

    <span id="update_notice!/2"></span>

  <div class="detail-header">
    <a href="#update_notice!/3" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">update_notice!(record, params \\ nil, opts \\ nil)</h1>


    </div>
  </div>

  <section class="docstring">

<p>Calls the update action on EhsEnforcement.Enforcement.Notice.
Raises any errors instead of returning them</p><h1>Inputs</h1><ul><li>regulator_event_reference</li><li>regulator_function</li><li>offence_breaches - Description of regulation breaches/violations</li><li>legal_section</li><li>last_synced_at</li><li>environmental_impact</li><li>url</li><li>notice_date</li><li>compliance_date</li><li>regulator_id</li><li>regulator_ref_number</li><li>notice_body</li><li>offence_action_date</li><li>environmental_receptor</li><li>operative_date</li><li>legal_act</li><li>offence_action_type</li><li>airtable_id</li></ul><h2 id="update_notice!/3-options" class="section-heading"><a href="#update_notice!/3-options" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Options</span></h2><ul><li><code class="inline">:params</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">map/0</code></a>) - Parameters to supply, ignored if the input is a changeset, only used when an identifier is given.</li><li><code class="inline">:atomic_upgrade?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If true the action will be done atomically if it can (and is configured to do so), ignoring the in memory transformations and validations. You should not generally need to disable this. The default value is <code class="inline">true</code>.</li><li><code class="inline">:timeout</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">timeout/0</code></a>) - A positive integer, or <code class="inline">:infinity</code>. If none is provided, the timeout configured on the domain is used.</li><li><code class="inline">:tracer</code> (one or a list of module that adopts <a href="https://hexdocs.pm/ash/3.7.6/Ash.Tracer.html"><code class="inline">Ash.Tracer</code></a>) - A tracer that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.Tracer.html"><code class="inline">Ash.Tracer</code></a> behaviour. See that module for more.</li><li><code class="inline">:action</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - The action to use, either an Action struct or the name of the action</li><li><code class="inline">:authorize?</code> - If an actor option is provided (even if it is <code class="inline">nil</code>), authorization happens automatically. If not, this flag can be used to authorize with no user.</li><li><code class="inline">:context</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">map/0</code></a>) - Context to set on the query, changeset, or input</li><li><code class="inline">:tenant</code> (value that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.ToTenant.html"><code class="inline">Ash.ToTenant</code></a> protocol) - A tenant to set on the query or changeset</li><li><code class="inline">:actor</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - If an actor is provided, it will be used in conjunction with the authorizers of a resource to authorize access</li><li><code class="inline">:scope</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A value that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> protocol, for passing around actor/tenant/context in a single value. See <a href="https://hexdocs.pm/ash/3.7.6/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> for more.</li><li><code class="inline">:return_notifications?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Use this if you're running ash actions in your own transaction and you want to manually handle sending notifications.<br/>If a transaction is ongoing, and this is false, notifications will be discarded, otherwise
the return value is <code class="inline">{:ok, result, notifications}</code> (or <code class="inline">{:ok, notifications}</code>)<br/>To send notifications later, use <code class="inline">Ash.Notifier.notify(notifications)</code>. It sends any notifications
that can be sent, and returns the rest. The default value is <code class="inline">false</code>.</li><li><code class="inline">:rollback_on_error?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to rollback the transaction on error, if the resource is in a transaction.<br/>If the action has <code class="inline">transaction? false</code> this option has no effect. If an error is returned from the
data layer and the resource is in a transaction, the transaction is always rolled back, regardless. The default value is <code class="inline">true</code>.</li><li><code class="inline">:notification_metadata</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - Metadata to be merged into the metadata field for all notifications sent from this operation. The default value is <code class="inline">%{}</code>.</li><li><code class="inline">:skip_unknown_inputs</code> - A list of inputs that, if provided, will be ignored if they are not recognized by the action. Use <code class="inline">:*</code> to indicate all unknown keys.</li><li><code class="inline">:load</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A load statement to add onto the changeset</li><li><code class="inline">:bulk_options</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">keyword/0</code></a>) - Options passed to <code class="inline">Ash.bulk_update</code>, if a query, list, or stream of inputs is provided.<ul><li><code class="inline">:atomic_update</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">map/0</code></a>) - A map of atomic updates to apply. See <a href="https://hexdocs.pm/ash/3.7.6/Ash.Changeset.html#atomic_update/3"><code class="inline">Ash.Changeset.atomic_update/3</code></a> for more.</li><li><code class="inline">:stream_batch_size</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">integer/0</code></a>) - Batch size to use if provided a query and the query must be streamed</li><li><code class="inline">:allow_stream_with</code> - The 'worst' strategy allowed to be used to fetch records if the <code class="inline">:stream</code> strategy is chosen. See the <a href="https://hexdocs.pm/ash/3.7.6/Ash.html#stream!/2"><code class="inline">Ash.stream!/2</code></a> docs for more. The default value is <code class="inline">:keyset</code>.</li><li><code class="inline">:authorize_query?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If a query is given, determines whether or not authorization is run on that query. The default value is <code class="inline">true</code>.</li><li><code class="inline">:select</code> (list of <a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - A select statement to apply to records. Ignored if <code class="inline">return_records?</code> is not true.</li><li><code class="inline">:filter</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A filter to apply to records. This is also applied to a stream of inputs.</li><li><code class="inline">:strategy</code> - The strategy or strategies to enable. :stream is used in all cases if the data layer does not support atomics. The default value is <code class="inline">[:atomic]</code>.</li><li><code class="inline">:allow_stream_with</code> - The 'worst' strategy allowed to be used to fetch records. See <a href="https://hexdocs.pm/ash/3.7.6/Ash.html#stream!/2"><code class="inline">Ash.stream!/2</code></a> docs for more. The default value is <code class="inline">:keyset</code>.</li><li><code class="inline">:stream_with</code> - The specific strategy to use to fetch records. See <a href="https://hexdocs.pm/ash/3.7.6/Ash.html#stream!/2"><code class="inline">Ash.stream!/2</code></a> docs for more.</li><li><code class="inline">:max_concurrency</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">non_neg_integer/0</code></a>) - The maximum number of processes allowed to be started for parallel loading of relationships and calculations. Defaults to <code class="inline">System.schedulers_online() * 2</code></li><li><code class="inline">:lock</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A lock statement to add onto the query</li><li><code class="inline">:return_query?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If <code class="inline">true</code>, the query that was ultimately used is returned as a third tuple element.
The query goes through many potential changes during a request, potentially adding
authorization filters, or replacing relationships for other data layers with their
corresponding ids. This option can be used to get the true query that was sent to
the data layer.
The default value is <code class="inline">false</code>.</li><li><code class="inline">:reuse_values?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether calculations are allowed to reuse values that have already been loaded, or must refetch them from the data layer. The default value is <code class="inline">false</code>.</li><li><code class="inline">:strict?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If set to true, only specified attributes will be loaded when passing
  a list of fields to fetch on a relationship, which allows for more
  optimized data-fetching.
  See <a href="https://hexdocs.pm/ash/3.7.6/Ash.Query.html#load/2"><code class="inline">Ash.Query.load/2</code></a>.
The default value is <code class="inline">false</code>.</li><li><code class="inline">:authorize_with</code> - If set to <code class="inline">:error</code>, instead of applying authorization filters as a filter, any records not matching the authorization filter will cause an error to be returned. The default value is <code class="inline">:filter</code>.</li><li><code class="inline">:read_action</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - The action to use when building the read query.</li><li><code class="inline">:assume_casted?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to cast attributes and arguments as input. This is an optimization for cases where the input is already casted and/or not in need of casting The default value is <code class="inline">false</code>.</li><li><code class="inline">:select</code> (list of <a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - A select statement to apply to records. Ignored if <code class="inline">return_records?</code> is not true.</li><li><code class="inline">:authorize_query_with</code> - If set to <code class="inline">:error</code>, instead of filtering unauthorized query results, unauthorized query results will raise an appropriate forbidden error. Uses <code class="inline">authorize_with</code> if not set.</li><li><code class="inline">:authorize_changeset_with</code> - If set to <code class="inline">:error</code>, instead of filtering unauthorized changes, unauthorized changes will raise an appropriate forbidden error. Uses <code class="inline">authorize_with</code> if not set.</li><li><code class="inline">:authorize_with</code> - If set to <code class="inline">:error</code>, instead of filtering unauthorized query results, unauthorized query results will raise an appropriate forbidden error. The default value is <code class="inline">:filter</code>.</li><li><code class="inline">:private_arguments</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">map/0</code></a>) - Private argument values to set on each changeset before validations and changes are run. The default value is <code class="inline">%{}</code>.</li><li><code class="inline">:sorted?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to sort results by their input position, in cases where <code class="inline">return_records?: true</code> was provided. The default value is <code class="inline">false</code>.</li><li><code class="inline">:return_records?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to return all of the records that were inserted. Defaults to false to account for large inserts. The default value is <code class="inline">false</code>.</li><li><code class="inline">:return_errors?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether to return all errors that occur during the operation. Defaults to the value of <code class="inline">:bulk_actions_default_to_errors?</code> in your config, or <code class="inline">false</code> if not set. Returning all errors may be expensive for large inserts. The default value is <code class="inline">false</code>.</li><li><code class="inline">:batch_size</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">pos_integer/0</code></a>) - The number of records to include in each batch. Defaults to the <code class="inline">default_limit</code>
or <code class="inline">max_page_size</code> of the action, or 100.</li><li><code class="inline">:return_stream?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If set to <code class="inline">true</code>, instead of an <a href="https://hexdocs.pm/ash/3.7.6/Ash.BulkResult.html"><code class="inline">Ash.BulkResult</code></a>, a mixed stream is returned.
Potential elements:
<code class="inline">{:notification, notification}</code> - if <code class="inline">return_notifications?</code> is set to <code class="inline">true</code>
<code class="inline">{:ok, record}</code> - if <code class="inline">return_records?</code> is set to <code class="inline">true</code>
<code class="inline">{:error, error}</code> - an error that occurred. May be changeset or an individual error.
The default value is <code class="inline">false</code>.</li><li><code class="inline">:return_nothing?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Mutes warnings about returning nothing.
Only relevant if <code class="inline">return_stream?</code> is set to <code class="inline">true</code> and all other
<code class="inline">return_*?</code> options are set to <code class="inline">false</code>.
The default value is <code class="inline">false</code>.</li><li><code class="inline">:stop_on_error?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If true, the first encountered error will stop the action and be returned. Otherwise, errors
will be skipped. The default value is <code class="inline">false</code>.</li><li><code class="inline">:notify?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to generate any notifications. If this is set to <code class="inline">true</code> then the data layer must return
the results from each batch. This may be intensive for large bulk actions.
Notifications will be automatically sent unless <code class="inline">return_notifications?</code> is set to <code class="inline">true</code>.
The default value is <code class="inline">false</code>.</li><li><code class="inline">:transaction</code> - Whether or not to wrap the entire execution in a transaction, each batch, or not at all.
Keep in mind:
<code class="inline">before_transaction</code> and <code class="inline">after_transaction</code> hooks attached to changesets will have to be run
<em>inside</em> the transaction if you choose <code class="inline">transaction: :all</code>.
The default value is <code class="inline">:batch</code>.</li><li><code class="inline">:max_concurrency</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">non_neg_integer/0</code></a>) - If set to a value greater than 0, up to that many tasks will be started to run batches asynchronously The default value is <code class="inline">0</code>.</li></ul></li><li><code class="inline">:private_arguments</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">map/0</code></a>) - Private argument values to set before validations and changes. The default value is <code class="inline">%{}</code>.</li></ul>
  </section>
</section>
<section class="detail" id="update_offence/3">

    <span id="update_offence/1"></span>

    <span id="update_offence/2"></span>

  <div class="detail-header">
    <a href="#update_offence/3" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">update_offence(record, params \\ nil, opts \\ nil)</h1>


    </div>
  </div>

  <section class="docstring">

<p>Calls the update action on EhsEnforcement.Enforcement.Offence.</p><h2 id="update_offence/3-options" class="section-heading"><a href="#update_offence/3-options" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Options</span></h2><ul><li><code class="inline">:params</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">map/0</code></a>) - Parameters to supply, ignored if the input is a changeset, only used when an identifier is given.</li><li><code class="inline">:atomic_upgrade?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If true the action will be done atomically if it can (and is configured to do so), ignoring the in memory transformations and validations. You should not generally need to disable this. The default value is <code class="inline">true</code>.</li><li><code class="inline">:timeout</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">timeout/0</code></a>) - A positive integer, or <code class="inline">:infinity</code>. If none is provided, the timeout configured on the domain is used.</li><li><code class="inline">:tracer</code> (one or a list of module that adopts <a href="https://hexdocs.pm/ash/3.7.6/Ash.Tracer.html"><code class="inline">Ash.Tracer</code></a>) - A tracer that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.Tracer.html"><code class="inline">Ash.Tracer</code></a> behaviour. See that module for more.</li><li><code class="inline">:action</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - The action to use, either an Action struct or the name of the action</li><li><code class="inline">:authorize?</code> - If an actor option is provided (even if it is <code class="inline">nil</code>), authorization happens automatically. If not, this flag can be used to authorize with no user.</li><li><code class="inline">:context</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">map/0</code></a>) - Context to set on the query, changeset, or input</li><li><code class="inline">:tenant</code> (value that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.ToTenant.html"><code class="inline">Ash.ToTenant</code></a> protocol) - A tenant to set on the query or changeset</li><li><code class="inline">:actor</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - If an actor is provided, it will be used in conjunction with the authorizers of a resource to authorize access</li><li><code class="inline">:scope</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A value that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> protocol, for passing around actor/tenant/context in a single value. See <a href="https://hexdocs.pm/ash/3.7.6/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> for more.</li><li><code class="inline">:return_notifications?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Use this if you're running ash actions in your own transaction and you want to manually handle sending notifications.<br/>If a transaction is ongoing, and this is false, notifications will be discarded, otherwise
the return value is <code class="inline">{:ok, result, notifications}</code> (or <code class="inline">{:ok, notifications}</code>)<br/>To send notifications later, use <code class="inline">Ash.Notifier.notify(notifications)</code>. It sends any notifications
that can be sent, and returns the rest. The default value is <code class="inline">false</code>.</li><li><code class="inline">:rollback_on_error?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to rollback the transaction on error, if the resource is in a transaction.<br/>If the action has <code class="inline">transaction? false</code> this option has no effect. If an error is returned from the
data layer and the resource is in a transaction, the transaction is always rolled back, regardless. The default value is <code class="inline">true</code>.</li><li><code class="inline">:notification_metadata</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - Metadata to be merged into the metadata field for all notifications sent from this operation. The default value is <code class="inline">%{}</code>.</li><li><code class="inline">:skip_unknown_inputs</code> - A list of inputs that, if provided, will be ignored if they are not recognized by the action. Use <code class="inline">:*</code> to indicate all unknown keys.</li><li><code class="inline">:load</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A load statement to add onto the changeset</li><li><code class="inline">:bulk_options</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">keyword/0</code></a>) - Options passed to <code class="inline">Ash.bulk_update</code>, if a query, list, or stream of inputs is provided.<ul><li><code class="inline">:atomic_update</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">map/0</code></a>) - A map of atomic updates to apply. See <a href="https://hexdocs.pm/ash/3.7.6/Ash.Changeset.html#atomic_update/3"><code class="inline">Ash.Changeset.atomic_update/3</code></a> for more.</li><li><code class="inline">:stream_batch_size</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">integer/0</code></a>) - Batch size to use if provided a query and the query must be streamed</li><li><code class="inline">:allow_stream_with</code> - The 'worst' strategy allowed to be used to fetch records if the <code class="inline">:stream</code> strategy is chosen. See the <a href="https://hexdocs.pm/ash/3.7.6/Ash.html#stream!/2"><code class="inline">Ash.stream!/2</code></a> docs for more. The default value is <code class="inline">:keyset</code>.</li><li><code class="inline">:authorize_query?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If a query is given, determines whether or not authorization is run on that query. The default value is <code class="inline">true</code>.</li><li><code class="inline">:select</code> (list of <a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - A select statement to apply to records. Ignored if <code class="inline">return_records?</code> is not true.</li><li><code class="inline">:filter</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A filter to apply to records. This is also applied to a stream of inputs.</li><li><code class="inline">:strategy</code> - The strategy or strategies to enable. :stream is used in all cases if the data layer does not support atomics. The default value is <code class="inline">[:atomic]</code>.</li><li><code class="inline">:allow_stream_with</code> - The 'worst' strategy allowed to be used to fetch records. See <a href="https://hexdocs.pm/ash/3.7.6/Ash.html#stream!/2"><code class="inline">Ash.stream!/2</code></a> docs for more. The default value is <code class="inline">:keyset</code>.</li><li><code class="inline">:stream_with</code> - The specific strategy to use to fetch records. See <a href="https://hexdocs.pm/ash/3.7.6/Ash.html#stream!/2"><code class="inline">Ash.stream!/2</code></a> docs for more.</li><li><code class="inline">:max_concurrency</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">non_neg_integer/0</code></a>) - The maximum number of processes allowed to be started for parallel loading of relationships and calculations. Defaults to <code class="inline">System.schedulers_online() * 2</code></li><li><code class="inline">:lock</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A lock statement to add onto the query</li><li><code class="inline">:return_query?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If <code class="inline">true</code>, the query that was ultimately used is returned as a third tuple element.
The query goes through many potential changes during a request, potentially adding
authorization filters, or replacing relationships for other data layers with their
corresponding ids. This option can be used to get the true query that was sent to
the data layer.
The default value is <code class="inline">false</code>.</li><li><code class="inline">:reuse_values?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether calculations are allowed to reuse values that have already been loaded, or must refetch them from the data layer. The default value is <code class="inline">false</code>.</li><li><code class="inline">:strict?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If set to true, only specified attributes will be loaded when passing
  a list of fields to fetch on a relationship, which allows for more
  optimized data-fetching.
  See <a href="https://hexdocs.pm/ash/3.7.6/Ash.Query.html#load/2"><code class="inline">Ash.Query.load/2</code></a>.
The default value is <code class="inline">false</code>.</li><li><code class="inline">:authorize_with</code> - If set to <code class="inline">:error</code>, instead of applying authorization filters as a filter, any records not matching the authorization filter will cause an error to be returned. The default value is <code class="inline">:filter</code>.</li><li><code class="inline">:read_action</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - The action to use when building the read query.</li><li><code class="inline">:assume_casted?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to cast attributes and arguments as input. This is an optimization for cases where the input is already casted and/or not in need of casting The default value is <code class="inline">false</code>.</li><li><code class="inline">:select</code> (list of <a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - A select statement to apply to records. Ignored if <code class="inline">return_records?</code> is not true.</li><li><code class="inline">:authorize_query_with</code> - If set to <code class="inline">:error</code>, instead of filtering unauthorized query results, unauthorized query results will raise an appropriate forbidden error. Uses <code class="inline">authorize_with</code> if not set.</li><li><code class="inline">:authorize_changeset_with</code> - If set to <code class="inline">:error</code>, instead of filtering unauthorized changes, unauthorized changes will raise an appropriate forbidden error. Uses <code class="inline">authorize_with</code> if not set.</li><li><code class="inline">:authorize_with</code> - If set to <code class="inline">:error</code>, instead of filtering unauthorized query results, unauthorized query results will raise an appropriate forbidden error. The default value is <code class="inline">:filter</code>.</li><li><code class="inline">:private_arguments</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">map/0</code></a>) - Private argument values to set on each changeset before validations and changes are run. The default value is <code class="inline">%{}</code>.</li><li><code class="inline">:sorted?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to sort results by their input position, in cases where <code class="inline">return_records?: true</code> was provided. The default value is <code class="inline">false</code>.</li><li><code class="inline">:return_records?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to return all of the records that were inserted. Defaults to false to account for large inserts. The default value is <code class="inline">false</code>.</li><li><code class="inline">:return_errors?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether to return all errors that occur during the operation. Defaults to the value of <code class="inline">:bulk_actions_default_to_errors?</code> in your config, or <code class="inline">false</code> if not set. Returning all errors may be expensive for large inserts. The default value is <code class="inline">false</code>.</li><li><code class="inline">:batch_size</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">pos_integer/0</code></a>) - The number of records to include in each batch. Defaults to the <code class="inline">default_limit</code>
or <code class="inline">max_page_size</code> of the action, or 100.</li><li><code class="inline">:return_stream?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If set to <code class="inline">true</code>, instead of an <a href="https://hexdocs.pm/ash/3.7.6/Ash.BulkResult.html"><code class="inline">Ash.BulkResult</code></a>, a mixed stream is returned.
Potential elements:
<code class="inline">{:notification, notification}</code> - if <code class="inline">return_notifications?</code> is set to <code class="inline">true</code>
<code class="inline">{:ok, record}</code> - if <code class="inline">return_records?</code> is set to <code class="inline">true</code>
<code class="inline">{:error, error}</code> - an error that occurred. May be changeset or an individual error.
The default value is <code class="inline">false</code>.</li><li><code class="inline">:return_nothing?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Mutes warnings about returning nothing.
Only relevant if <code class="inline">return_stream?</code> is set to <code class="inline">true</code> and all other
<code class="inline">return_*?</code> options are set to <code class="inline">false</code>.
The default value is <code class="inline">false</code>.</li><li><code class="inline">:stop_on_error?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If true, the first encountered error will stop the action and be returned. Otherwise, errors
will be skipped. The default value is <code class="inline">false</code>.</li><li><code class="inline">:notify?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to generate any notifications. If this is set to <code class="inline">true</code> then the data layer must return
the results from each batch. This may be intensive for large bulk actions.
Notifications will be automatically sent unless <code class="inline">return_notifications?</code> is set to <code class="inline">true</code>.
The default value is <code class="inline">false</code>.</li><li><code class="inline">:transaction</code> - Whether or not to wrap the entire execution in a transaction, each batch, or not at all.
Keep in mind:
<code class="inline">before_transaction</code> and <code class="inline">after_transaction</code> hooks attached to changesets will have to be run
<em>inside</em> the transaction if you choose <code class="inline">transaction: :all</code>.
The default value is <code class="inline">:batch</code>.</li><li><code class="inline">:max_concurrency</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">non_neg_integer/0</code></a>) - If set to a value greater than 0, up to that many tasks will be started to run batches asynchronously The default value is <code class="inline">0</code>.</li></ul></li><li><code class="inline">:private_arguments</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">map/0</code></a>) - Private argument values to set before validations and changes. The default value is <code class="inline">%{}</code>.</li></ul>
  </section>
</section>
<section class="detail" id="update_offence!/3">

    <span id="update_offence!/1"></span>

    <span id="update_offence!/2"></span>

  <div class="detail-header">
    <a href="#update_offence!/3" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">update_offence!(record, params \\ nil, opts \\ nil)</h1>


    </div>
  </div>

  <section class="docstring">

<p>Calls the update action on EhsEnforcement.Enforcement.Offence.
Raises any errors instead of returning them</p><h2 id="update_offence!/3-options" class="section-heading"><a href="#update_offence!/3-options" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Options</span></h2><ul><li><code class="inline">:params</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">map/0</code></a>) - Parameters to supply, ignored if the input is a changeset, only used when an identifier is given.</li><li><code class="inline">:atomic_upgrade?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If true the action will be done atomically if it can (and is configured to do so), ignoring the in memory transformations and validations. You should not generally need to disable this. The default value is <code class="inline">true</code>.</li><li><code class="inline">:timeout</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">timeout/0</code></a>) - A positive integer, or <code class="inline">:infinity</code>. If none is provided, the timeout configured on the domain is used.</li><li><code class="inline">:tracer</code> (one or a list of module that adopts <a href="https://hexdocs.pm/ash/3.7.6/Ash.Tracer.html"><code class="inline">Ash.Tracer</code></a>) - A tracer that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.Tracer.html"><code class="inline">Ash.Tracer</code></a> behaviour. See that module for more.</li><li><code class="inline">:action</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - The action to use, either an Action struct or the name of the action</li><li><code class="inline">:authorize?</code> - If an actor option is provided (even if it is <code class="inline">nil</code>), authorization happens automatically. If not, this flag can be used to authorize with no user.</li><li><code class="inline">:context</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">map/0</code></a>) - Context to set on the query, changeset, or input</li><li><code class="inline">:tenant</code> (value that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.ToTenant.html"><code class="inline">Ash.ToTenant</code></a> protocol) - A tenant to set on the query or changeset</li><li><code class="inline">:actor</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - If an actor is provided, it will be used in conjunction with the authorizers of a resource to authorize access</li><li><code class="inline">:scope</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A value that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> protocol, for passing around actor/tenant/context in a single value. See <a href="https://hexdocs.pm/ash/3.7.6/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> for more.</li><li><code class="inline">:return_notifications?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Use this if you're running ash actions in your own transaction and you want to manually handle sending notifications.<br/>If a transaction is ongoing, and this is false, notifications will be discarded, otherwise
the return value is <code class="inline">{:ok, result, notifications}</code> (or <code class="inline">{:ok, notifications}</code>)<br/>To send notifications later, use <code class="inline">Ash.Notifier.notify(notifications)</code>. It sends any notifications
that can be sent, and returns the rest. The default value is <code class="inline">false</code>.</li><li><code class="inline">:rollback_on_error?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to rollback the transaction on error, if the resource is in a transaction.<br/>If the action has <code class="inline">transaction? false</code> this option has no effect. If an error is returned from the
data layer and the resource is in a transaction, the transaction is always rolled back, regardless. The default value is <code class="inline">true</code>.</li><li><code class="inline">:notification_metadata</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - Metadata to be merged into the metadata field for all notifications sent from this operation. The default value is <code class="inline">%{}</code>.</li><li><code class="inline">:skip_unknown_inputs</code> - A list of inputs that, if provided, will be ignored if they are not recognized by the action. Use <code class="inline">:*</code> to indicate all unknown keys.</li><li><code class="inline">:load</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A load statement to add onto the changeset</li><li><code class="inline">:bulk_options</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">keyword/0</code></a>) - Options passed to <code class="inline">Ash.bulk_update</code>, if a query, list, or stream of inputs is provided.<ul><li><code class="inline">:atomic_update</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">map/0</code></a>) - A map of atomic updates to apply. See <a href="https://hexdocs.pm/ash/3.7.6/Ash.Changeset.html#atomic_update/3"><code class="inline">Ash.Changeset.atomic_update/3</code></a> for more.</li><li><code class="inline">:stream_batch_size</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">integer/0</code></a>) - Batch size to use if provided a query and the query must be streamed</li><li><code class="inline">:allow_stream_with</code> - The 'worst' strategy allowed to be used to fetch records if the <code class="inline">:stream</code> strategy is chosen. See the <a href="https://hexdocs.pm/ash/3.7.6/Ash.html#stream!/2"><code class="inline">Ash.stream!/2</code></a> docs for more. The default value is <code class="inline">:keyset</code>.</li><li><code class="inline">:authorize_query?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If a query is given, determines whether or not authorization is run on that query. The default value is <code class="inline">true</code>.</li><li><code class="inline">:select</code> (list of <a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - A select statement to apply to records. Ignored if <code class="inline">return_records?</code> is not true.</li><li><code class="inline">:filter</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A filter to apply to records. This is also applied to a stream of inputs.</li><li><code class="inline">:strategy</code> - The strategy or strategies to enable. :stream is used in all cases if the data layer does not support atomics. The default value is <code class="inline">[:atomic]</code>.</li><li><code class="inline">:allow_stream_with</code> - The 'worst' strategy allowed to be used to fetch records. See <a href="https://hexdocs.pm/ash/3.7.6/Ash.html#stream!/2"><code class="inline">Ash.stream!/2</code></a> docs for more. The default value is <code class="inline">:keyset</code>.</li><li><code class="inline">:stream_with</code> - The specific strategy to use to fetch records. See <a href="https://hexdocs.pm/ash/3.7.6/Ash.html#stream!/2"><code class="inline">Ash.stream!/2</code></a> docs for more.</li><li><code class="inline">:max_concurrency</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">non_neg_integer/0</code></a>) - The maximum number of processes allowed to be started for parallel loading of relationships and calculations. Defaults to <code class="inline">System.schedulers_online() * 2</code></li><li><code class="inline">:lock</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A lock statement to add onto the query</li><li><code class="inline">:return_query?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If <code class="inline">true</code>, the query that was ultimately used is returned as a third tuple element.
The query goes through many potential changes during a request, potentially adding
authorization filters, or replacing relationships for other data layers with their
corresponding ids. This option can be used to get the true query that was sent to
the data layer.
The default value is <code class="inline">false</code>.</li><li><code class="inline">:reuse_values?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether calculations are allowed to reuse values that have already been loaded, or must refetch them from the data layer. The default value is <code class="inline">false</code>.</li><li><code class="inline">:strict?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If set to true, only specified attributes will be loaded when passing
  a list of fields to fetch on a relationship, which allows for more
  optimized data-fetching.
  See <a href="https://hexdocs.pm/ash/3.7.6/Ash.Query.html#load/2"><code class="inline">Ash.Query.load/2</code></a>.
The default value is <code class="inline">false</code>.</li><li><code class="inline">:authorize_with</code> - If set to <code class="inline">:error</code>, instead of applying authorization filters as a filter, any records not matching the authorization filter will cause an error to be returned. The default value is <code class="inline">:filter</code>.</li><li><code class="inline">:read_action</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - The action to use when building the read query.</li><li><code class="inline">:assume_casted?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to cast attributes and arguments as input. This is an optimization for cases where the input is already casted and/or not in need of casting The default value is <code class="inline">false</code>.</li><li><code class="inline">:select</code> (list of <a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - A select statement to apply to records. Ignored if <code class="inline">return_records?</code> is not true.</li><li><code class="inline">:authorize_query_with</code> - If set to <code class="inline">:error</code>, instead of filtering unauthorized query results, unauthorized query results will raise an appropriate forbidden error. Uses <code class="inline">authorize_with</code> if not set.</li><li><code class="inline">:authorize_changeset_with</code> - If set to <code class="inline">:error</code>, instead of filtering unauthorized changes, unauthorized changes will raise an appropriate forbidden error. Uses <code class="inline">authorize_with</code> if not set.</li><li><code class="inline">:authorize_with</code> - If set to <code class="inline">:error</code>, instead of filtering unauthorized query results, unauthorized query results will raise an appropriate forbidden error. The default value is <code class="inline">:filter</code>.</li><li><code class="inline">:private_arguments</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">map/0</code></a>) - Private argument values to set on each changeset before validations and changes are run. The default value is <code class="inline">%{}</code>.</li><li><code class="inline">:sorted?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to sort results by their input position, in cases where <code class="inline">return_records?: true</code> was provided. The default value is <code class="inline">false</code>.</li><li><code class="inline">:return_records?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to return all of the records that were inserted. Defaults to false to account for large inserts. The default value is <code class="inline">false</code>.</li><li><code class="inline">:return_errors?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether to return all errors that occur during the operation. Defaults to the value of <code class="inline">:bulk_actions_default_to_errors?</code> in your config, or <code class="inline">false</code> if not set. Returning all errors may be expensive for large inserts. The default value is <code class="inline">false</code>.</li><li><code class="inline">:batch_size</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">pos_integer/0</code></a>) - The number of records to include in each batch. Defaults to the <code class="inline">default_limit</code>
or <code class="inline">max_page_size</code> of the action, or 100.</li><li><code class="inline">:return_stream?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If set to <code class="inline">true</code>, instead of an <a href="https://hexdocs.pm/ash/3.7.6/Ash.BulkResult.html"><code class="inline">Ash.BulkResult</code></a>, a mixed stream is returned.
Potential elements:
<code class="inline">{:notification, notification}</code> - if <code class="inline">return_notifications?</code> is set to <code class="inline">true</code>
<code class="inline">{:ok, record}</code> - if <code class="inline">return_records?</code> is set to <code class="inline">true</code>
<code class="inline">{:error, error}</code> - an error that occurred. May be changeset or an individual error.
The default value is <code class="inline">false</code>.</li><li><code class="inline">:return_nothing?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Mutes warnings about returning nothing.
Only relevant if <code class="inline">return_stream?</code> is set to <code class="inline">true</code> and all other
<code class="inline">return_*?</code> options are set to <code class="inline">false</code>.
The default value is <code class="inline">false</code>.</li><li><code class="inline">:stop_on_error?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If true, the first encountered error will stop the action and be returned. Otherwise, errors
will be skipped. The default value is <code class="inline">false</code>.</li><li><code class="inline">:notify?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to generate any notifications. If this is set to <code class="inline">true</code> then the data layer must return
the results from each batch. This may be intensive for large bulk actions.
Notifications will be automatically sent unless <code class="inline">return_notifications?</code> is set to <code class="inline">true</code>.
The default value is <code class="inline">false</code>.</li><li><code class="inline">:transaction</code> - Whether or not to wrap the entire execution in a transaction, each batch, or not at all.
Keep in mind:
<code class="inline">before_transaction</code> and <code class="inline">after_transaction</code> hooks attached to changesets will have to be run
<em>inside</em> the transaction if you choose <code class="inline">transaction: :all</code>.
The default value is <code class="inline">:batch</code>.</li><li><code class="inline">:max_concurrency</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">non_neg_integer/0</code></a>) - If set to a value greater than 0, up to that many tasks will be started to run batches asynchronously The default value is <code class="inline">0</code>.</li></ul></li><li><code class="inline">:private_arguments</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">map/0</code></a>) - Private argument values to set before validations and changes. The default value is <code class="inline">%{}</code>.</li></ul>
  </section>
</section>
<section class="detail" id="update_offender/3">

    <span id="update_offender/1"></span>

    <span id="update_offender/2"></span>

  <div class="detail-header">
    <a href="#update_offender/3" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">update_offender(record, params \\ nil, opts \\ nil)</h1>


    </div>
  </div>

  <section class="docstring">

<p>Calls the update action on EhsEnforcement.Enforcement.Offender.</p><h1>Inputs</h1><ul><li>name</li><li>address</li><li>local_authority</li><li>main_activity</li><li>agencies</li><li>country</li><li>sic_code</li><li>business_type</li><li>industry</li></ul><h2 id="update_offender/3-options" class="section-heading"><a href="#update_offender/3-options" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Options</span></h2><ul><li><code class="inline">:params</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">map/0</code></a>) - Parameters to supply, ignored if the input is a changeset, only used when an identifier is given.</li><li><code class="inline">:atomic_upgrade?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If true the action will be done atomically if it can (and is configured to do so), ignoring the in memory transformations and validations. You should not generally need to disable this. The default value is <code class="inline">true</code>.</li><li><code class="inline">:timeout</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">timeout/0</code></a>) - A positive integer, or <code class="inline">:infinity</code>. If none is provided, the timeout configured on the domain is used.</li><li><code class="inline">:tracer</code> (one or a list of module that adopts <a href="https://hexdocs.pm/ash/3.7.6/Ash.Tracer.html"><code class="inline">Ash.Tracer</code></a>) - A tracer that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.Tracer.html"><code class="inline">Ash.Tracer</code></a> behaviour. See that module for more.</li><li><code class="inline">:action</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - The action to use, either an Action struct or the name of the action</li><li><code class="inline">:authorize?</code> - If an actor option is provided (even if it is <code class="inline">nil</code>), authorization happens automatically. If not, this flag can be used to authorize with no user.</li><li><code class="inline">:context</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">map/0</code></a>) - Context to set on the query, changeset, or input</li><li><code class="inline">:tenant</code> (value that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.ToTenant.html"><code class="inline">Ash.ToTenant</code></a> protocol) - A tenant to set on the query or changeset</li><li><code class="inline">:actor</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - If an actor is provided, it will be used in conjunction with the authorizers of a resource to authorize access</li><li><code class="inline">:scope</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A value that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> protocol, for passing around actor/tenant/context in a single value. See <a href="https://hexdocs.pm/ash/3.7.6/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> for more.</li><li><code class="inline">:return_notifications?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Use this if you're running ash actions in your own transaction and you want to manually handle sending notifications.<br/>If a transaction is ongoing, and this is false, notifications will be discarded, otherwise
the return value is <code class="inline">{:ok, result, notifications}</code> (or <code class="inline">{:ok, notifications}</code>)<br/>To send notifications later, use <code class="inline">Ash.Notifier.notify(notifications)</code>. It sends any notifications
that can be sent, and returns the rest. The default value is <code class="inline">false</code>.</li><li><code class="inline">:rollback_on_error?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to rollback the transaction on error, if the resource is in a transaction.<br/>If the action has <code class="inline">transaction? false</code> this option has no effect. If an error is returned from the
data layer and the resource is in a transaction, the transaction is always rolled back, regardless. The default value is <code class="inline">true</code>.</li><li><code class="inline">:notification_metadata</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - Metadata to be merged into the metadata field for all notifications sent from this operation. The default value is <code class="inline">%{}</code>.</li><li><code class="inline">:skip_unknown_inputs</code> - A list of inputs that, if provided, will be ignored if they are not recognized by the action. Use <code class="inline">:*</code> to indicate all unknown keys.</li><li><code class="inline">:load</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A load statement to add onto the changeset</li><li><code class="inline">:bulk_options</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">keyword/0</code></a>) - Options passed to <code class="inline">Ash.bulk_update</code>, if a query, list, or stream of inputs is provided.<ul><li><code class="inline">:atomic_update</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">map/0</code></a>) - A map of atomic updates to apply. See <a href="https://hexdocs.pm/ash/3.7.6/Ash.Changeset.html#atomic_update/3"><code class="inline">Ash.Changeset.atomic_update/3</code></a> for more.</li><li><code class="inline">:stream_batch_size</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">integer/0</code></a>) - Batch size to use if provided a query and the query must be streamed</li><li><code class="inline">:allow_stream_with</code> - The 'worst' strategy allowed to be used to fetch records if the <code class="inline">:stream</code> strategy is chosen. See the <a href="https://hexdocs.pm/ash/3.7.6/Ash.html#stream!/2"><code class="inline">Ash.stream!/2</code></a> docs for more. The default value is <code class="inline">:keyset</code>.</li><li><code class="inline">:authorize_query?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If a query is given, determines whether or not authorization is run on that query. The default value is <code class="inline">true</code>.</li><li><code class="inline">:select</code> (list of <a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - A select statement to apply to records. Ignored if <code class="inline">return_records?</code> is not true.</li><li><code class="inline">:filter</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A filter to apply to records. This is also applied to a stream of inputs.</li><li><code class="inline">:strategy</code> - The strategy or strategies to enable. :stream is used in all cases if the data layer does not support atomics. The default value is <code class="inline">[:atomic]</code>.</li><li><code class="inline">:allow_stream_with</code> - The 'worst' strategy allowed to be used to fetch records. See <a href="https://hexdocs.pm/ash/3.7.6/Ash.html#stream!/2"><code class="inline">Ash.stream!/2</code></a> docs for more. The default value is <code class="inline">:keyset</code>.</li><li><code class="inline">:stream_with</code> - The specific strategy to use to fetch records. See <a href="https://hexdocs.pm/ash/3.7.6/Ash.html#stream!/2"><code class="inline">Ash.stream!/2</code></a> docs for more.</li><li><code class="inline">:max_concurrency</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">non_neg_integer/0</code></a>) - The maximum number of processes allowed to be started for parallel loading of relationships and calculations. Defaults to <code class="inline">System.schedulers_online() * 2</code></li><li><code class="inline">:lock</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A lock statement to add onto the query</li><li><code class="inline">:return_query?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If <code class="inline">true</code>, the query that was ultimately used is returned as a third tuple element.
The query goes through many potential changes during a request, potentially adding
authorization filters, or replacing relationships for other data layers with their
corresponding ids. This option can be used to get the true query that was sent to
the data layer.
The default value is <code class="inline">false</code>.</li><li><code class="inline">:reuse_values?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether calculations are allowed to reuse values that have already been loaded, or must refetch them from the data layer. The default value is <code class="inline">false</code>.</li><li><code class="inline">:strict?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If set to true, only specified attributes will be loaded when passing
  a list of fields to fetch on a relationship, which allows for more
  optimized data-fetching.
  See <a href="https://hexdocs.pm/ash/3.7.6/Ash.Query.html#load/2"><code class="inline">Ash.Query.load/2</code></a>.
The default value is <code class="inline">false</code>.</li><li><code class="inline">:authorize_with</code> - If set to <code class="inline">:error</code>, instead of applying authorization filters as a filter, any records not matching the authorization filter will cause an error to be returned. The default value is <code class="inline">:filter</code>.</li><li><code class="inline">:read_action</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - The action to use when building the read query.</li><li><code class="inline">:assume_casted?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to cast attributes and arguments as input. This is an optimization for cases where the input is already casted and/or not in need of casting The default value is <code class="inline">false</code>.</li><li><code class="inline">:select</code> (list of <a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - A select statement to apply to records. Ignored if <code class="inline">return_records?</code> is not true.</li><li><code class="inline">:authorize_query_with</code> - If set to <code class="inline">:error</code>, instead of filtering unauthorized query results, unauthorized query results will raise an appropriate forbidden error. Uses <code class="inline">authorize_with</code> if not set.</li><li><code class="inline">:authorize_changeset_with</code> - If set to <code class="inline">:error</code>, instead of filtering unauthorized changes, unauthorized changes will raise an appropriate forbidden error. Uses <code class="inline">authorize_with</code> if not set.</li><li><code class="inline">:authorize_with</code> - If set to <code class="inline">:error</code>, instead of filtering unauthorized query results, unauthorized query results will raise an appropriate forbidden error. The default value is <code class="inline">:filter</code>.</li><li><code class="inline">:private_arguments</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">map/0</code></a>) - Private argument values to set on each changeset before validations and changes are run. The default value is <code class="inline">%{}</code>.</li><li><code class="inline">:sorted?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to sort results by their input position, in cases where <code class="inline">return_records?: true</code> was provided. The default value is <code class="inline">false</code>.</li><li><code class="inline">:return_records?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to return all of the records that were inserted. Defaults to false to account for large inserts. The default value is <code class="inline">false</code>.</li><li><code class="inline">:return_errors?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether to return all errors that occur during the operation. Defaults to the value of <code class="inline">:bulk_actions_default_to_errors?</code> in your config, or <code class="inline">false</code> if not set. Returning all errors may be expensive for large inserts. The default value is <code class="inline">false</code>.</li><li><code class="inline">:batch_size</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">pos_integer/0</code></a>) - The number of records to include in each batch. Defaults to the <code class="inline">default_limit</code>
or <code class="inline">max_page_size</code> of the action, or 100.</li><li><code class="inline">:return_stream?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If set to <code class="inline">true</code>, instead of an <a href="https://hexdocs.pm/ash/3.7.6/Ash.BulkResult.html"><code class="inline">Ash.BulkResult</code></a>, a mixed stream is returned.
Potential elements:
<code class="inline">{:notification, notification}</code> - if <code class="inline">return_notifications?</code> is set to <code class="inline">true</code>
<code class="inline">{:ok, record}</code> - if <code class="inline">return_records?</code> is set to <code class="inline">true</code>
<code class="inline">{:error, error}</code> - an error that occurred. May be changeset or an individual error.
The default value is <code class="inline">false</code>.</li><li><code class="inline">:return_nothing?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Mutes warnings about returning nothing.
Only relevant if <code class="inline">return_stream?</code> is set to <code class="inline">true</code> and all other
<code class="inline">return_*?</code> options are set to <code class="inline">false</code>.
The default value is <code class="inline">false</code>.</li><li><code class="inline">:stop_on_error?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If true, the first encountered error will stop the action and be returned. Otherwise, errors
will be skipped. The default value is <code class="inline">false</code>.</li><li><code class="inline">:notify?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to generate any notifications. If this is set to <code class="inline">true</code> then the data layer must return
the results from each batch. This may be intensive for large bulk actions.
Notifications will be automatically sent unless <code class="inline">return_notifications?</code> is set to <code class="inline">true</code>.
The default value is <code class="inline">false</code>.</li><li><code class="inline">:transaction</code> - Whether or not to wrap the entire execution in a transaction, each batch, or not at all.
Keep in mind:
<code class="inline">before_transaction</code> and <code class="inline">after_transaction</code> hooks attached to changesets will have to be run
<em>inside</em> the transaction if you choose <code class="inline">transaction: :all</code>.
The default value is <code class="inline">:batch</code>.</li><li><code class="inline">:max_concurrency</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">non_neg_integer/0</code></a>) - If set to a value greater than 0, up to that many tasks will be started to run batches asynchronously The default value is <code class="inline">0</code>.</li></ul></li><li><code class="inline">:private_arguments</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">map/0</code></a>) - Private argument values to set before validations and changes. The default value is <code class="inline">%{}</code>.</li></ul>
  </section>
</section>
<section class="detail" id="update_offender!/3">

    <span id="update_offender!/1"></span>

    <span id="update_offender!/2"></span>

  <div class="detail-header">
    <a href="#update_offender!/3" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">update_offender!(record, params \\ nil, opts \\ nil)</h1>


    </div>
  </div>

  <section class="docstring">

<p>Calls the update action on EhsEnforcement.Enforcement.Offender.
Raises any errors instead of returning them</p><h1>Inputs</h1><ul><li>name</li><li>address</li><li>local_authority</li><li>main_activity</li><li>agencies</li><li>country</li><li>sic_code</li><li>business_type</li><li>industry</li></ul><h2 id="update_offender!/3-options" class="section-heading"><a href="#update_offender!/3-options" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Options</span></h2><ul><li><code class="inline">:params</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">map/0</code></a>) - Parameters to supply, ignored if the input is a changeset, only used when an identifier is given.</li><li><code class="inline">:atomic_upgrade?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If true the action will be done atomically if it can (and is configured to do so), ignoring the in memory transformations and validations. You should not generally need to disable this. The default value is <code class="inline">true</code>.</li><li><code class="inline">:timeout</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">timeout/0</code></a>) - A positive integer, or <code class="inline">:infinity</code>. If none is provided, the timeout configured on the domain is used.</li><li><code class="inline">:tracer</code> (one or a list of module that adopts <a href="https://hexdocs.pm/ash/3.7.6/Ash.Tracer.html"><code class="inline">Ash.Tracer</code></a>) - A tracer that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.Tracer.html"><code class="inline">Ash.Tracer</code></a> behaviour. See that module for more.</li><li><code class="inline">:action</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - The action to use, either an Action struct or the name of the action</li><li><code class="inline">:authorize?</code> - If an actor option is provided (even if it is <code class="inline">nil</code>), authorization happens automatically. If not, this flag can be used to authorize with no user.</li><li><code class="inline">:context</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">map/0</code></a>) - Context to set on the query, changeset, or input</li><li><code class="inline">:tenant</code> (value that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.ToTenant.html"><code class="inline">Ash.ToTenant</code></a> protocol) - A tenant to set on the query or changeset</li><li><code class="inline">:actor</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - If an actor is provided, it will be used in conjunction with the authorizers of a resource to authorize access</li><li><code class="inline">:scope</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A value that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> protocol, for passing around actor/tenant/context in a single value. See <a href="https://hexdocs.pm/ash/3.7.6/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> for more.</li><li><code class="inline">:return_notifications?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Use this if you're running ash actions in your own transaction and you want to manually handle sending notifications.<br/>If a transaction is ongoing, and this is false, notifications will be discarded, otherwise
the return value is <code class="inline">{:ok, result, notifications}</code> (or <code class="inline">{:ok, notifications}</code>)<br/>To send notifications later, use <code class="inline">Ash.Notifier.notify(notifications)</code>. It sends any notifications
that can be sent, and returns the rest. The default value is <code class="inline">false</code>.</li><li><code class="inline">:rollback_on_error?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to rollback the transaction on error, if the resource is in a transaction.<br/>If the action has <code class="inline">transaction? false</code> this option has no effect. If an error is returned from the
data layer and the resource is in a transaction, the transaction is always rolled back, regardless. The default value is <code class="inline">true</code>.</li><li><code class="inline">:notification_metadata</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - Metadata to be merged into the metadata field for all notifications sent from this operation. The default value is <code class="inline">%{}</code>.</li><li><code class="inline">:skip_unknown_inputs</code> - A list of inputs that, if provided, will be ignored if they are not recognized by the action. Use <code class="inline">:*</code> to indicate all unknown keys.</li><li><code class="inline">:load</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A load statement to add onto the changeset</li><li><code class="inline">:bulk_options</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">keyword/0</code></a>) - Options passed to <code class="inline">Ash.bulk_update</code>, if a query, list, or stream of inputs is provided.<ul><li><code class="inline">:atomic_update</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">map/0</code></a>) - A map of atomic updates to apply. See <a href="https://hexdocs.pm/ash/3.7.6/Ash.Changeset.html#atomic_update/3"><code class="inline">Ash.Changeset.atomic_update/3</code></a> for more.</li><li><code class="inline">:stream_batch_size</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">integer/0</code></a>) - Batch size to use if provided a query and the query must be streamed</li><li><code class="inline">:allow_stream_with</code> - The 'worst' strategy allowed to be used to fetch records if the <code class="inline">:stream</code> strategy is chosen. See the <a href="https://hexdocs.pm/ash/3.7.6/Ash.html#stream!/2"><code class="inline">Ash.stream!/2</code></a> docs for more. The default value is <code class="inline">:keyset</code>.</li><li><code class="inline">:authorize_query?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If a query is given, determines whether or not authorization is run on that query. The default value is <code class="inline">true</code>.</li><li><code class="inline">:select</code> (list of <a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - A select statement to apply to records. Ignored if <code class="inline">return_records?</code> is not true.</li><li><code class="inline">:filter</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A filter to apply to records. This is also applied to a stream of inputs.</li><li><code class="inline">:strategy</code> - The strategy or strategies to enable. :stream is used in all cases if the data layer does not support atomics. The default value is <code class="inline">[:atomic]</code>.</li><li><code class="inline">:allow_stream_with</code> - The 'worst' strategy allowed to be used to fetch records. See <a href="https://hexdocs.pm/ash/3.7.6/Ash.html#stream!/2"><code class="inline">Ash.stream!/2</code></a> docs for more. The default value is <code class="inline">:keyset</code>.</li><li><code class="inline">:stream_with</code> - The specific strategy to use to fetch records. See <a href="https://hexdocs.pm/ash/3.7.6/Ash.html#stream!/2"><code class="inline">Ash.stream!/2</code></a> docs for more.</li><li><code class="inline">:max_concurrency</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">non_neg_integer/0</code></a>) - The maximum number of processes allowed to be started for parallel loading of relationships and calculations. Defaults to <code class="inline">System.schedulers_online() * 2</code></li><li><code class="inline">:lock</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A lock statement to add onto the query</li><li><code class="inline">:return_query?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If <code class="inline">true</code>, the query that was ultimately used is returned as a third tuple element.
The query goes through many potential changes during a request, potentially adding
authorization filters, or replacing relationships for other data layers with their
corresponding ids. This option can be used to get the true query that was sent to
the data layer.
The default value is <code class="inline">false</code>.</li><li><code class="inline">:reuse_values?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether calculations are allowed to reuse values that have already been loaded, or must refetch them from the data layer. The default value is <code class="inline">false</code>.</li><li><code class="inline">:strict?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If set to true, only specified attributes will be loaded when passing
  a list of fields to fetch on a relationship, which allows for more
  optimized data-fetching.
  See <a href="https://hexdocs.pm/ash/3.7.6/Ash.Query.html#load/2"><code class="inline">Ash.Query.load/2</code></a>.
The default value is <code class="inline">false</code>.</li><li><code class="inline">:authorize_with</code> - If set to <code class="inline">:error</code>, instead of applying authorization filters as a filter, any records not matching the authorization filter will cause an error to be returned. The default value is <code class="inline">:filter</code>.</li><li><code class="inline">:read_action</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - The action to use when building the read query.</li><li><code class="inline">:assume_casted?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to cast attributes and arguments as input. This is an optimization for cases where the input is already casted and/or not in need of casting The default value is <code class="inline">false</code>.</li><li><code class="inline">:select</code> (list of <a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - A select statement to apply to records. Ignored if <code class="inline">return_records?</code> is not true.</li><li><code class="inline">:authorize_query_with</code> - If set to <code class="inline">:error</code>, instead of filtering unauthorized query results, unauthorized query results will raise an appropriate forbidden error. Uses <code class="inline">authorize_with</code> if not set.</li><li><code class="inline">:authorize_changeset_with</code> - If set to <code class="inline">:error</code>, instead of filtering unauthorized changes, unauthorized changes will raise an appropriate forbidden error. Uses <code class="inline">authorize_with</code> if not set.</li><li><code class="inline">:authorize_with</code> - If set to <code class="inline">:error</code>, instead of filtering unauthorized query results, unauthorized query results will raise an appropriate forbidden error. The default value is <code class="inline">:filter</code>.</li><li><code class="inline">:private_arguments</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">map/0</code></a>) - Private argument values to set on each changeset before validations and changes are run. The default value is <code class="inline">%{}</code>.</li><li><code class="inline">:sorted?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to sort results by their input position, in cases where <code class="inline">return_records?: true</code> was provided. The default value is <code class="inline">false</code>.</li><li><code class="inline">:return_records?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to return all of the records that were inserted. Defaults to false to account for large inserts. The default value is <code class="inline">false</code>.</li><li><code class="inline">:return_errors?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether to return all errors that occur during the operation. Defaults to the value of <code class="inline">:bulk_actions_default_to_errors?</code> in your config, or <code class="inline">false</code> if not set. Returning all errors may be expensive for large inserts. The default value is <code class="inline">false</code>.</li><li><code class="inline">:batch_size</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">pos_integer/0</code></a>) - The number of records to include in each batch. Defaults to the <code class="inline">default_limit</code>
or <code class="inline">max_page_size</code> of the action, or 100.</li><li><code class="inline">:return_stream?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If set to <code class="inline">true</code>, instead of an <a href="https://hexdocs.pm/ash/3.7.6/Ash.BulkResult.html"><code class="inline">Ash.BulkResult</code></a>, a mixed stream is returned.
Potential elements:
<code class="inline">{:notification, notification}</code> - if <code class="inline">return_notifications?</code> is set to <code class="inline">true</code>
<code class="inline">{:ok, record}</code> - if <code class="inline">return_records?</code> is set to <code class="inline">true</code>
<code class="inline">{:error, error}</code> - an error that occurred. May be changeset or an individual error.
The default value is <code class="inline">false</code>.</li><li><code class="inline">:return_nothing?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Mutes warnings about returning nothing.
Only relevant if <code class="inline">return_stream?</code> is set to <code class="inline">true</code> and all other
<code class="inline">return_*?</code> options are set to <code class="inline">false</code>.
The default value is <code class="inline">false</code>.</li><li><code class="inline">:stop_on_error?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If true, the first encountered error will stop the action and be returned. Otherwise, errors
will be skipped. The default value is <code class="inline">false</code>.</li><li><code class="inline">:notify?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to generate any notifications. If this is set to <code class="inline">true</code> then the data layer must return
the results from each batch. This may be intensive for large bulk actions.
Notifications will be automatically sent unless <code class="inline">return_notifications?</code> is set to <code class="inline">true</code>.
The default value is <code class="inline">false</code>.</li><li><code class="inline">:transaction</code> - Whether or not to wrap the entire execution in a transaction, each batch, or not at all.
Keep in mind:
<code class="inline">before_transaction</code> and <code class="inline">after_transaction</code> hooks attached to changesets will have to be run
<em>inside</em> the transaction if you choose <code class="inline">transaction: :all</code>.
The default value is <code class="inline">:batch</code>.</li><li><code class="inline">:max_concurrency</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">non_neg_integer/0</code></a>) - If set to a value greater than 0, up to that many tasks will be started to run batches asynchronously The default value is <code class="inline">0</code>.</li></ul></li><li><code class="inline">:private_arguments</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">map/0</code></a>) - Private argument values to set before validations and changes. The default value is <code class="inline">%{}</code>.</li></ul>
  </section>
</section>
<section class="detail" id="update_offender_statistics/3">

    <span id="update_offender_statistics/1"></span>

    <span id="update_offender_statistics/2"></span>

  <div class="detail-header">
    <a href="#update_offender_statistics/3" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">update_offender_statistics(record, params \\ nil, opts \\ nil)</h1>


    </div>
  </div>

  <section class="docstring">

<p>Calls the update_statistics action on EhsEnforcement.Enforcement.Offender.</p><h1>Inputs</h1><ul><li>fine_amount</li></ul><h2 id="update_offender_statistics/3-options" class="section-heading"><a href="#update_offender_statistics/3-options" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Options</span></h2><ul><li><code class="inline">:params</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">map/0</code></a>) - Parameters to supply, ignored if the input is a changeset, only used when an identifier is given.</li><li><code class="inline">:atomic_upgrade?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If true the action will be done atomically if it can (and is configured to do so), ignoring the in memory transformations and validations. You should not generally need to disable this. The default value is <code class="inline">true</code>.</li><li><code class="inline">:timeout</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">timeout/0</code></a>) - A positive integer, or <code class="inline">:infinity</code>. If none is provided, the timeout configured on the domain is used.</li><li><code class="inline">:tracer</code> (one or a list of module that adopts <a href="https://hexdocs.pm/ash/3.7.6/Ash.Tracer.html"><code class="inline">Ash.Tracer</code></a>) - A tracer that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.Tracer.html"><code class="inline">Ash.Tracer</code></a> behaviour. See that module for more.</li><li><code class="inline">:action</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - The action to use, either an Action struct or the name of the action</li><li><code class="inline">:authorize?</code> - If an actor option is provided (even if it is <code class="inline">nil</code>), authorization happens automatically. If not, this flag can be used to authorize with no user.</li><li><code class="inline">:context</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">map/0</code></a>) - Context to set on the query, changeset, or input</li><li><code class="inline">:tenant</code> (value that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.ToTenant.html"><code class="inline">Ash.ToTenant</code></a> protocol) - A tenant to set on the query or changeset</li><li><code class="inline">:actor</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - If an actor is provided, it will be used in conjunction with the authorizers of a resource to authorize access</li><li><code class="inline">:scope</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A value that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> protocol, for passing around actor/tenant/context in a single value. See <a href="https://hexdocs.pm/ash/3.7.6/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> for more.</li><li><code class="inline">:return_notifications?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Use this if you're running ash actions in your own transaction and you want to manually handle sending notifications.<br/>If a transaction is ongoing, and this is false, notifications will be discarded, otherwise
the return value is <code class="inline">{:ok, result, notifications}</code> (or <code class="inline">{:ok, notifications}</code>)<br/>To send notifications later, use <code class="inline">Ash.Notifier.notify(notifications)</code>. It sends any notifications
that can be sent, and returns the rest. The default value is <code class="inline">false</code>.</li><li><code class="inline">:rollback_on_error?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to rollback the transaction on error, if the resource is in a transaction.<br/>If the action has <code class="inline">transaction? false</code> this option has no effect. If an error is returned from the
data layer and the resource is in a transaction, the transaction is always rolled back, regardless. The default value is <code class="inline">true</code>.</li><li><code class="inline">:notification_metadata</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - Metadata to be merged into the metadata field for all notifications sent from this operation. The default value is <code class="inline">%{}</code>.</li><li><code class="inline">:skip_unknown_inputs</code> - A list of inputs that, if provided, will be ignored if they are not recognized by the action. Use <code class="inline">:*</code> to indicate all unknown keys.</li><li><code class="inline">:load</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A load statement to add onto the changeset</li><li><code class="inline">:bulk_options</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">keyword/0</code></a>) - Options passed to <code class="inline">Ash.bulk_update</code>, if a query, list, or stream of inputs is provided.<ul><li><code class="inline">:atomic_update</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">map/0</code></a>) - A map of atomic updates to apply. See <a href="https://hexdocs.pm/ash/3.7.6/Ash.Changeset.html#atomic_update/3"><code class="inline">Ash.Changeset.atomic_update/3</code></a> for more.</li><li><code class="inline">:stream_batch_size</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">integer/0</code></a>) - Batch size to use if provided a query and the query must be streamed</li><li><code class="inline">:allow_stream_with</code> - The 'worst' strategy allowed to be used to fetch records if the <code class="inline">:stream</code> strategy is chosen. See the <a href="https://hexdocs.pm/ash/3.7.6/Ash.html#stream!/2"><code class="inline">Ash.stream!/2</code></a> docs for more. The default value is <code class="inline">:keyset</code>.</li><li><code class="inline">:authorize_query?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If a query is given, determines whether or not authorization is run on that query. The default value is <code class="inline">true</code>.</li><li><code class="inline">:select</code> (list of <a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - A select statement to apply to records. Ignored if <code class="inline">return_records?</code> is not true.</li><li><code class="inline">:filter</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A filter to apply to records. This is also applied to a stream of inputs.</li><li><code class="inline">:strategy</code> - The strategy or strategies to enable. :stream is used in all cases if the data layer does not support atomics. The default value is <code class="inline">[:atomic]</code>.</li><li><code class="inline">:allow_stream_with</code> - The 'worst' strategy allowed to be used to fetch records. See <a href="https://hexdocs.pm/ash/3.7.6/Ash.html#stream!/2"><code class="inline">Ash.stream!/2</code></a> docs for more. The default value is <code class="inline">:keyset</code>.</li><li><code class="inline">:stream_with</code> - The specific strategy to use to fetch records. See <a href="https://hexdocs.pm/ash/3.7.6/Ash.html#stream!/2"><code class="inline">Ash.stream!/2</code></a> docs for more.</li><li><code class="inline">:max_concurrency</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">non_neg_integer/0</code></a>) - The maximum number of processes allowed to be started for parallel loading of relationships and calculations. Defaults to <code class="inline">System.schedulers_online() * 2</code></li><li><code class="inline">:lock</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A lock statement to add onto the query</li><li><code class="inline">:return_query?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If <code class="inline">true</code>, the query that was ultimately used is returned as a third tuple element.
The query goes through many potential changes during a request, potentially adding
authorization filters, or replacing relationships for other data layers with their
corresponding ids. This option can be used to get the true query that was sent to
the data layer.
The default value is <code class="inline">false</code>.</li><li><code class="inline">:reuse_values?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether calculations are allowed to reuse values that have already been loaded, or must refetch them from the data layer. The default value is <code class="inline">false</code>.</li><li><code class="inline">:strict?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If set to true, only specified attributes will be loaded when passing
  a list of fields to fetch on a relationship, which allows for more
  optimized data-fetching.
  See <a href="https://hexdocs.pm/ash/3.7.6/Ash.Query.html#load/2"><code class="inline">Ash.Query.load/2</code></a>.
The default value is <code class="inline">false</code>.</li><li><code class="inline">:authorize_with</code> - If set to <code class="inline">:error</code>, instead of applying authorization filters as a filter, any records not matching the authorization filter will cause an error to be returned. The default value is <code class="inline">:filter</code>.</li><li><code class="inline">:read_action</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - The action to use when building the read query.</li><li><code class="inline">:assume_casted?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to cast attributes and arguments as input. This is an optimization for cases where the input is already casted and/or not in need of casting The default value is <code class="inline">false</code>.</li><li><code class="inline">:select</code> (list of <a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - A select statement to apply to records. Ignored if <code class="inline">return_records?</code> is not true.</li><li><code class="inline">:authorize_query_with</code> - If set to <code class="inline">:error</code>, instead of filtering unauthorized query results, unauthorized query results will raise an appropriate forbidden error. Uses <code class="inline">authorize_with</code> if not set.</li><li><code class="inline">:authorize_changeset_with</code> - If set to <code class="inline">:error</code>, instead of filtering unauthorized changes, unauthorized changes will raise an appropriate forbidden error. Uses <code class="inline">authorize_with</code> if not set.</li><li><code class="inline">:authorize_with</code> - If set to <code class="inline">:error</code>, instead of filtering unauthorized query results, unauthorized query results will raise an appropriate forbidden error. The default value is <code class="inline">:filter</code>.</li><li><code class="inline">:private_arguments</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">map/0</code></a>) - Private argument values to set on each changeset before validations and changes are run. The default value is <code class="inline">%{}</code>.</li><li><code class="inline">:sorted?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to sort results by their input position, in cases where <code class="inline">return_records?: true</code> was provided. The default value is <code class="inline">false</code>.</li><li><code class="inline">:return_records?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to return all of the records that were inserted. Defaults to false to account for large inserts. The default value is <code class="inline">false</code>.</li><li><code class="inline">:return_errors?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether to return all errors that occur during the operation. Defaults to the value of <code class="inline">:bulk_actions_default_to_errors?</code> in your config, or <code class="inline">false</code> if not set. Returning all errors may be expensive for large inserts. The default value is <code class="inline">false</code>.</li><li><code class="inline">:batch_size</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">pos_integer/0</code></a>) - The number of records to include in each batch. Defaults to the <code class="inline">default_limit</code>
or <code class="inline">max_page_size</code> of the action, or 100.</li><li><code class="inline">:return_stream?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If set to <code class="inline">true</code>, instead of an <a href="https://hexdocs.pm/ash/3.7.6/Ash.BulkResult.html"><code class="inline">Ash.BulkResult</code></a>, a mixed stream is returned.
Potential elements:
<code class="inline">{:notification, notification}</code> - if <code class="inline">return_notifications?</code> is set to <code class="inline">true</code>
<code class="inline">{:ok, record}</code> - if <code class="inline">return_records?</code> is set to <code class="inline">true</code>
<code class="inline">{:error, error}</code> - an error that occurred. May be changeset or an individual error.
The default value is <code class="inline">false</code>.</li><li><code class="inline">:return_nothing?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Mutes warnings about returning nothing.
Only relevant if <code class="inline">return_stream?</code> is set to <code class="inline">true</code> and all other
<code class="inline">return_*?</code> options are set to <code class="inline">false</code>.
The default value is <code class="inline">false</code>.</li><li><code class="inline">:stop_on_error?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If true, the first encountered error will stop the action and be returned. Otherwise, errors
will be skipped. The default value is <code class="inline">false</code>.</li><li><code class="inline">:notify?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to generate any notifications. If this is set to <code class="inline">true</code> then the data layer must return
the results from each batch. This may be intensive for large bulk actions.
Notifications will be automatically sent unless <code class="inline">return_notifications?</code> is set to <code class="inline">true</code>.
The default value is <code class="inline">false</code>.</li><li><code class="inline">:transaction</code> - Whether or not to wrap the entire execution in a transaction, each batch, or not at all.
Keep in mind:
<code class="inline">before_transaction</code> and <code class="inline">after_transaction</code> hooks attached to changesets will have to be run
<em>inside</em> the transaction if you choose <code class="inline">transaction: :all</code>.
The default value is <code class="inline">:batch</code>.</li><li><code class="inline">:max_concurrency</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">non_neg_integer/0</code></a>) - If set to a value greater than 0, up to that many tasks will be started to run batches asynchronously The default value is <code class="inline">0</code>.</li></ul></li><li><code class="inline">:private_arguments</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">map/0</code></a>) - Private argument values to set before validations and changes. The default value is <code class="inline">%{}</code>.</li></ul>
  </section>
</section>
<section class="detail" id="update_offender_statistics!/3">

    <span id="update_offender_statistics!/1"></span>

    <span id="update_offender_statistics!/2"></span>

  <div class="detail-header">
    <a href="#update_offender_statistics!/3" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">update_offender_statistics!(record, params \\ nil, opts \\ nil)</h1>


    </div>
  </div>

  <section class="docstring">

<p>Calls the update_statistics action on EhsEnforcement.Enforcement.Offender.
Raises any errors instead of returning them</p><h1>Inputs</h1><ul><li>fine_amount</li></ul><h2 id="update_offender_statistics!/3-options" class="section-heading"><a href="#update_offender_statistics!/3-options" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Options</span></h2><ul><li><code class="inline">:params</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">map/0</code></a>) - Parameters to supply, ignored if the input is a changeset, only used when an identifier is given.</li><li><code class="inline">:atomic_upgrade?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If true the action will be done atomically if it can (and is configured to do so), ignoring the in memory transformations and validations. You should not generally need to disable this. The default value is <code class="inline">true</code>.</li><li><code class="inline">:timeout</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">timeout/0</code></a>) - A positive integer, or <code class="inline">:infinity</code>. If none is provided, the timeout configured on the domain is used.</li><li><code class="inline">:tracer</code> (one or a list of module that adopts <a href="https://hexdocs.pm/ash/3.7.6/Ash.Tracer.html"><code class="inline">Ash.Tracer</code></a>) - A tracer that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.Tracer.html"><code class="inline">Ash.Tracer</code></a> behaviour. See that module for more.</li><li><code class="inline">:action</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - The action to use, either an Action struct or the name of the action</li><li><code class="inline">:authorize?</code> - If an actor option is provided (even if it is <code class="inline">nil</code>), authorization happens automatically. If not, this flag can be used to authorize with no user.</li><li><code class="inline">:context</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">map/0</code></a>) - Context to set on the query, changeset, or input</li><li><code class="inline">:tenant</code> (value that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.ToTenant.html"><code class="inline">Ash.ToTenant</code></a> protocol) - A tenant to set on the query or changeset</li><li><code class="inline">:actor</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - If an actor is provided, it will be used in conjunction with the authorizers of a resource to authorize access</li><li><code class="inline">:scope</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A value that implements the <a href="https://hexdocs.pm/ash/3.7.6/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> protocol, for passing around actor/tenant/context in a single value. See <a href="https://hexdocs.pm/ash/3.7.6/Ash.Scope.ToOpts.html"><code class="inline">Ash.Scope.ToOpts</code></a> for more.</li><li><code class="inline">:return_notifications?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Use this if you're running ash actions in your own transaction and you want to manually handle sending notifications.<br/>If a transaction is ongoing, and this is false, notifications will be discarded, otherwise
the return value is <code class="inline">{:ok, result, notifications}</code> (or <code class="inline">{:ok, notifications}</code>)<br/>To send notifications later, use <code class="inline">Ash.Notifier.notify(notifications)</code>. It sends any notifications
that can be sent, and returns the rest. The default value is <code class="inline">false</code>.</li><li><code class="inline">:rollback_on_error?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to rollback the transaction on error, if the resource is in a transaction.<br/>If the action has <code class="inline">transaction? false</code> this option has no effect. If an error is returned from the
data layer and the resource is in a transaction, the transaction is always rolled back, regardless. The default value is <code class="inline">true</code>.</li><li><code class="inline">:notification_metadata</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - Metadata to be merged into the metadata field for all notifications sent from this operation. The default value is <code class="inline">%{}</code>.</li><li><code class="inline">:skip_unknown_inputs</code> - A list of inputs that, if provided, will be ignored if they are not recognized by the action. Use <code class="inline">:*</code> to indicate all unknown keys.</li><li><code class="inline">:load</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A load statement to add onto the changeset</li><li><code class="inline">:bulk_options</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">keyword/0</code></a>) - Options passed to <code class="inline">Ash.bulk_update</code>, if a query, list, or stream of inputs is provided.<ul><li><code class="inline">:atomic_update</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">map/0</code></a>) - A map of atomic updates to apply. See <a href="https://hexdocs.pm/ash/3.7.6/Ash.Changeset.html#atomic_update/3"><code class="inline">Ash.Changeset.atomic_update/3</code></a> for more.</li><li><code class="inline">:stream_batch_size</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">integer/0</code></a>) - Batch size to use if provided a query and the query must be streamed</li><li><code class="inline">:allow_stream_with</code> - The 'worst' strategy allowed to be used to fetch records if the <code class="inline">:stream</code> strategy is chosen. See the <a href="https://hexdocs.pm/ash/3.7.6/Ash.html#stream!/2"><code class="inline">Ash.stream!/2</code></a> docs for more. The default value is <code class="inline">:keyset</code>.</li><li><code class="inline">:authorize_query?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If a query is given, determines whether or not authorization is run on that query. The default value is <code class="inline">true</code>.</li><li><code class="inline">:select</code> (list of <a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - A select statement to apply to records. Ignored if <code class="inline">return_records?</code> is not true.</li><li><code class="inline">:filter</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A filter to apply to records. This is also applied to a stream of inputs.</li><li><code class="inline">:strategy</code> - The strategy or strategies to enable. :stream is used in all cases if the data layer does not support atomics. The default value is <code class="inline">[:atomic]</code>.</li><li><code class="inline">:allow_stream_with</code> - The 'worst' strategy allowed to be used to fetch records. See <a href="https://hexdocs.pm/ash/3.7.6/Ash.html#stream!/2"><code class="inline">Ash.stream!/2</code></a> docs for more. The default value is <code class="inline">:keyset</code>.</li><li><code class="inline">:stream_with</code> - The specific strategy to use to fetch records. See <a href="https://hexdocs.pm/ash/3.7.6/Ash.html#stream!/2"><code class="inline">Ash.stream!/2</code></a> docs for more.</li><li><code class="inline">:max_concurrency</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">non_neg_integer/0</code></a>) - The maximum number of processes allowed to be started for parallel loading of relationships and calculations. Defaults to <code class="inline">System.schedulers_online() * 2</code></li><li><code class="inline">:lock</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A lock statement to add onto the query</li><li><code class="inline">:return_query?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If <code class="inline">true</code>, the query that was ultimately used is returned as a third tuple element.
The query goes through many potential changes during a request, potentially adding
authorization filters, or replacing relationships for other data layers with their
corresponding ids. This option can be used to get the true query that was sent to
the data layer.
The default value is <code class="inline">false</code>.</li><li><code class="inline">:reuse_values?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether calculations are allowed to reuse values that have already been loaded, or must refetch them from the data layer. The default value is <code class="inline">false</code>.</li><li><code class="inline">:strict?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If set to true, only specified attributes will be loaded when passing
  a list of fields to fetch on a relationship, which allows for more
  optimized data-fetching.
  See <a href="https://hexdocs.pm/ash/3.7.6/Ash.Query.html#load/2"><code class="inline">Ash.Query.load/2</code></a>.
The default value is <code class="inline">false</code>.</li><li><code class="inline">:authorize_with</code> - If set to <code class="inline">:error</code>, instead of applying authorization filters as a filter, any records not matching the authorization filter will cause an error to be returned. The default value is <code class="inline">:filter</code>.</li><li><code class="inline">:read_action</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - The action to use when building the read query.</li><li><code class="inline">:assume_casted?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to cast attributes and arguments as input. This is an optimization for cases where the input is already casted and/or not in need of casting The default value is <code class="inline">false</code>.</li><li><code class="inline">:select</code> (list of <a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - A select statement to apply to records. Ignored if <code class="inline">return_records?</code> is not true.</li><li><code class="inline">:authorize_query_with</code> - If set to <code class="inline">:error</code>, instead of filtering unauthorized query results, unauthorized query results will raise an appropriate forbidden error. Uses <code class="inline">authorize_with</code> if not set.</li><li><code class="inline">:authorize_changeset_with</code> - If set to <code class="inline">:error</code>, instead of filtering unauthorized changes, unauthorized changes will raise an appropriate forbidden error. Uses <code class="inline">authorize_with</code> if not set.</li><li><code class="inline">:authorize_with</code> - If set to <code class="inline">:error</code>, instead of filtering unauthorized query results, unauthorized query results will raise an appropriate forbidden error. The default value is <code class="inline">:filter</code>.</li><li><code class="inline">:private_arguments</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">map/0</code></a>) - Private argument values to set on each changeset before validations and changes are run. The default value is <code class="inline">%{}</code>.</li><li><code class="inline">:sorted?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to sort results by their input position, in cases where <code class="inline">return_records?: true</code> was provided. The default value is <code class="inline">false</code>.</li><li><code class="inline">:return_records?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to return all of the records that were inserted. Defaults to false to account for large inserts. The default value is <code class="inline">false</code>.</li><li><code class="inline">:return_errors?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether to return all errors that occur during the operation. Defaults to the value of <code class="inline">:bulk_actions_default_to_errors?</code> in your config, or <code class="inline">false</code> if not set. Returning all errors may be expensive for large inserts. The default value is <code class="inline">false</code>.</li><li><code class="inline">:batch_size</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">pos_integer/0</code></a>) - The number of records to include in each batch. Defaults to the <code class="inline">default_limit</code>
or <code class="inline">max_page_size</code> of the action, or 100.</li><li><code class="inline">:return_stream?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If set to <code class="inline">true</code>, instead of an <a href="https://hexdocs.pm/ash/3.7.6/Ash.BulkResult.html"><code class="inline">Ash.BulkResult</code></a>, a mixed stream is returned.
Potential elements:
<code class="inline">{:notification, notification}</code> - if <code class="inline">return_notifications?</code> is set to <code class="inline">true</code>
<code class="inline">{:ok, record}</code> - if <code class="inline">return_records?</code> is set to <code class="inline">true</code>
<code class="inline">{:error, error}</code> - an error that occurred. May be changeset or an individual error.
The default value is <code class="inline">false</code>.</li><li><code class="inline">:return_nothing?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Mutes warnings about returning nothing.
Only relevant if <code class="inline">return_stream?</code> is set to <code class="inline">true</code> and all other
<code class="inline">return_*?</code> options are set to <code class="inline">false</code>.
The default value is <code class="inline">false</code>.</li><li><code class="inline">:stop_on_error?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If true, the first encountered error will stop the action and be returned. Otherwise, errors
will be skipped. The default value is <code class="inline">false</code>.</li><li><code class="inline">:notify?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to generate any notifications. If this is set to <code class="inline">true</code> then the data layer must return
the results from each batch. This may be intensive for large bulk actions.
Notifications will be automatically sent unless <code class="inline">return_notifications?</code> is set to <code class="inline">true</code>.
The default value is <code class="inline">false</code>.</li><li><code class="inline">:transaction</code> - Whether or not to wrap the entire execution in a transaction, each batch, or not at all.
Keep in mind:
<code class="inline">before_transaction</code> and <code class="inline">after_transaction</code> hooks attached to changesets will have to be run
<em>inside</em> the transaction if you choose <code class="inline">transaction: :all</code>.
The default value is <code class="inline">:batch</code>.</li><li><code class="inline">:max_concurrency</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">non_neg_integer/0</code></a>) - If set to a value greater than 0, up to that many tasks will be started to run batches asynchronously The default value is <code class="inline">0</code>.</li></ul></li><li><code class="inline">:private_arguments</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">map/0</code></a>) - Private argument values to set before validations and changes. The default value is <code class="inline">%{}</code>.</li></ul>
  </section>
</section>

    </div>
  </section>

    <footer class="footer">
      <p>

        <span class="line">
          <button class="a-main footer-button display-quick-switch" title="Search HexDocs packages">
            Search HexDocs
          </button>

            <a href="ehs_enforcement.epub" title="ePub version">
              Download ePub version
            </a>

        </span>
      </p>

      <p class="built-using">
        Built using
        <a href="https://github.com/elixir-lang/ex_doc" title="ExDoc" target="_blank" rel="help noopener" translate="no">ExDoc</a> (v0.38.2) for the

          <a href="https://elixir-lang.org" title="Elixir" target="_blank" translate="no">Elixir programming language</a>

      </p>

    </footer>
  </div>
</main>
</div>

  </body>
</html>
